(()=>{var t,e,i,n,o={5045:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var n,o=i(9179),r=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const s=function(t){function e(e){var i=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===o.q4?o.q4:"v"+o.q4.split("-")[0])+"/doc/errors/#"+e+" for details.";return(i=t.call(this,n)||this).code=e,i.name="AssertionError",i.message=n,i}return r(e,t),e}(Error)},8426:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var n,o=i(5045),r=i(8493),s=i(9629),a=i(9520),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h="length",u=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.element=i,o.index=n,o}return l(e,t),e}(a.ZP);const c=function(t){function e(e,i){var n=t.call(this)||this,o=i||{};if(n.unique_=!!o.unique,n.array_=e||[],n.unique_)for(var r=0,s=n.array_.length;r<s;++r)n.assertUnique_(n.array_[r],r);return n.updateLength_(),n}return l(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(h)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(s.Z.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(s.Z.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(s.Z.REMOVE,n,t)),this.dispatchEvent(new u(s.Z.ADD,e,t))}else{for(var o=i;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(h,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new o.Z(58)},e}(r.ZP)},9629:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={ADD:"add",REMOVE:"remove"}},967:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}()},1256:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},6:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(3381);const o={SINGLECLICK:"singleclick",CLICK:n.Z.CLICK,DBLCLICK:n.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},188:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},8493:(t,e,i)=>{"use strict";i.d(e,{v_:()=>f,ZP:()=>d});var n,o=i(9520),r=i(3910),s=i(6834),a=i(3580),l=i(9179),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.key=i,o.oldValue=n,o}return h(e,t),e}(o.ZP),c=function(t){function e(e){var i=t.call(this)||this;return(0,l.sq)(i),i.values_=null,void 0!==e&&i.setProperties(e),i}return h(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&(0,a.f0)({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var i;i=f(t),this.dispatchEvent(new u(i,t,e)),i=r.Z.PROPERTYCHANGE,this.dispatchEvent(new u(i,t,e))},e.prototype.set=function(t,e,i){var n=this.values_||(this.values_={});if(i)n[t]=e;else{var o=n[t];n[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.applyProperties=function(t){t.values_&&(0,a.f0)(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var i=this.values_[t];delete this.values_[t],(0,a.xb)(this.values_)&&(this.values_=null),e||this.notify(t,i)}},e}(s.Z),p={};function f(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}const d=c},3910:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PROPERTYCHANGE:"propertychange"}},6834:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var n,o=i(6575),r=i(3381),s=i(3002),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const l=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return a(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(r.Z.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),o=0;o<i;++o)n[o]=(0,s.oL)(this,t[o],e);return n}return(0,s.oL)(this,t,e)},e.prototype.once=function(t,e){var i;if(Array.isArray(t)){var n=t.length;i=new Array(n);for(var o=0;o<n;++o)i[o]=(0,s.Vx)(this,t[o],e)}else i=(0,s.Vx)(this,t,e);return e.ol_key=i,i},e.prototype.un=function(t,e){var i=e.ol_key;if(i)!function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)(0,s.bN)(t[e]);else(0,s.bN)(t)}(i);else if(Array.isArray(t))for(var n=0,o=t.length;n<o;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(o.Z)},9682:(t,e,i)=>{"use strict";function n(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function r(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;var o=void 0;if(i>0){for(o=1;o<n;++o)if(t[o]<e)return o-1}else if(i<0){for(o=1;o<n;++o)if(t[o]<=e)return o}else for(o=1;o<n;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return n-1}function s(t,e,i){for(;e<i;){var n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function a(t,e){for(var i=Array.isArray(e)?e:[e],n=i.length,o=0;o<n;o++)t[t.length]=i[o]}function l(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function h(t,e,i){var o=e||n;return t.every((function(e,n){if(0===n)return!0;var r=o(t[n-1],e);return!(r>0||i&&0===r)}))}i.d(e,{kK:()=>n,q9:()=>o,h7:()=>r,FZ:()=>s,l7:()=>a,fS:()=>l,pT:()=>h})},8906:(t,e,i)=>{"use strict";i.d(e,{h:()=>o});var n=i(5045);function o(t,e){if(!t)throw new n.Z(e)}},8913:(t,e,i)=>{"use strict";i.d(e,{XC:()=>a,_2:()=>c,BB:()=>f});var n=i(8906),o=i(1882),r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(t){return"string"==typeof t?t:f(t)}var l,h,u=(l={},h=0,function(t){var e;if(l.hasOwnProperty(t))e=l[t];else{if(h>=1024){var i=0;for(var o in l)0==(3&i++)&&(delete l[o],--h)}e=function(t){var e,i,o,a,l;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i}return""}(t)),r.exec(t)){var h,u=t.length-1;h=u<=4?1:2;var c=4===u||8===u;e=parseInt(t.substr(1+0*h,h),16),i=parseInt(t.substr(1+1*h,h),16),o=parseInt(t.substr(1+2*h,h),16),a=c?parseInt(t.substr(1+3*h,h),16):255,1==h&&(e=(e<<4)+e,i=(i<<4)+i,o=(o<<4)+o,c&&(a=(a<<4)+a)),l=[e,i,o,a/255]}else 0==t.indexOf("rgba(")?p(l=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),p(l)):(0,n.h)(!1,14);return l}(t),l[t]=e,++h}return e});function c(t){return Array.isArray(t)?t:u(t)}function p(t){return t[0]=(0,o.uZ)(t[0]+.5|0,0,255),t[1]=(0,o.uZ)(t[1]+.5|0,0,255),t[2]=(0,o.uZ)(t[2]+.5|0,0,255),t[3]=(0,o.uZ)(t[3],0,1),t}function f(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}},5120:(t,e,i)=>{"use strict";i.d(e,{y:()=>o});var n=i(8913);function o(t){return Array.isArray(t)?(0,n.BB)(t):t}},7644:(t,e,i)=>{"use strict";i.d(e,{oj:()=>n,$A:()=>o,XV:()=>r,hg:()=>s,hN:()=>a,p:()=>u});var n="ol-hidden",o="ol-selectable",r="ol-unselectable",s="ol-control",a="ol-collapsed",l=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),h=["style","variant","weight","size","lineHeight","family"],u=function(t){var e=t.match(l);if(!e)return null;for(var i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,o=h.length;n<o;++n){var r=e[n+1];void 0!==r&&(i[h[n]]=r)}return i.families=i.family.split(/,\s?/),i}},5386:(t,e,i)=>{"use strict";i.d(e,{E4:()=>o,iO:()=>r,Pb:()=>s,$H:()=>a,ZF:()=>l,ep:()=>h,hF:()=>u});var n=i(1358);function o(t,e,i){var o=i&&i.length?i.shift():n.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(o.width=t),e&&(o.height=e),o.getContext("2d")}function r(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10))}function s(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+(parseInt(i.marginTop,10)+parseInt(i.marginBottom,10))}function a(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function l(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function h(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function u(t,e){for(var i=t.childNodes,n=0;;++n){var o=i[n],r=e[n];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--n):t.appendChild(r))}}},6320:(t,e,i)=>{"use strict";function n(t){return Math.pow(t,3)}function o(t){return 1-n(1-t)}function r(t){return 3*t*t-2*t*t*t}function s(t){return t}i.d(e,{YQ:()=>n,Vv:()=>o,rd:()=>r,GE:()=>s})},3002:(t,e,i)=>{"use strict";i.d(e,{oL:()=>o,Vx:()=>r,bN:()=>s});var n=i(3580);function o(t,e,i,n,o){if(n&&n!==t&&(i=i.bind(n)),o){var r=i;i=function(){t.removeEventListener(e,i),r.apply(this,arguments)}}var s={target:t,type:e,listener:i};return t.addEventListener(e,i),s}function r(t,e,i,n){return o(t,e,i,n,!0)}function s(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,n.ZH)(t))}},9520:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>n});const n=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}()},3381:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},6575:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var n,o=i(967),r=i(9520),s=i(4011),a=i(3580),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const h=function(t){function e(e){var i=t.call(this)||this;return i.eventTarget_=e,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return l(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var i=this.listeners_||(this.listeners_={}),n=i[t]||(i[t]=[]);-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new r.ZP(t):t,i=e.type;e.target||(e.target=this.eventTarget_||this);var n,o=this.listeners_&&this.listeners_[i];if(o){var a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,l[i]=0),++a[i];for(var h=0,u=o.length;h<u;++h)if(!1===(n="handleEvent"in o[h]?o[h].handleEvent(e):o[h].call(this,e))||e.propagationStopped){n=!1;break}if(--a[i],0===a[i]){var c=l[i];for(delete l[i];c--;)this.removeEventListener(i,s.Zn);delete a[i]}return n}},e.prototype.disposeInternal=function(){this.listeners_&&(0,a.ZH)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var i=this.listeners_&&this.listeners_[t];if(i){var n=i.indexOf(e);-1!==n&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[n]=s.Zn,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t]))}},e}(o.Z)},6403:(t,e,i)=>{"use strict";i.d(e,{$6:()=>a,aj:()=>l,yZ:()=>h,Bx:()=>u,V4:()=>c,v8:()=>p,Fi:()=>f,Kf:()=>d,rM:()=>_,vY:()=>g,TN:()=>y,QL:()=>v,Xp:()=>m});var n=i(6),o=i(4011),r=i(1358),s=i(8906);function a(t){var e=arguments;return function(t){for(var i=!0,n=0,o=e.length;n<o&&(i=i&&e[n](t));++n);return i}}var l=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},h=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},u=o.uX,c=function(t){return t.type==n.Z.CLICK},p=function(t){var e=t.originalEvent;return 0==e.button&&!(r.G$&&r.tK&&e.ctrlKey)},f=o.Dv,d=function(t){return t.type==n.Z.SINGLECLICK},_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},g=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},y=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},v=function(t){var e=t.originalEvent;return(0,s.h)(void 0!==e,56),"mouse"==e.pointerType},m=function(t){var e=t.originalEvent;return(0,s.h)(void 0!==e,56),e.isPrimary&&0===e.button}},1915:(t,e,i)=>{"use strict";i.d(e,{hI:()=>s,f3:()=>a,d9:()=>l,qf:()=>h,b8:()=>u,r4:()=>c,jE:()=>p,pX:()=>f,lJ:()=>d,T9:()=>_,YN:()=>g,HK:()=>y,ZT:()=>v,GN:()=>m,fS:()=>x,l7:()=>E,Wj:()=>C,qP:()=>S,H6:()=>w,bg:()=>T,hC:()=>b,w$:()=>I,qg:()=>P,g0:()=>R,p8:()=>L,Cr:()=>M,Ed:()=>A,rL:()=>F,Xv:()=>Z,dz:()=>D,kK:()=>k,xb:()=>j,EO:()=>N,H9:()=>G,I7:()=>z,Ne:()=>W,Cf:()=>Y});var n=i(1748),o=i(4178),r=i(8906);function s(t){for(var e=[1/0,1/0,-1/0,-1/0],i=0,n=t.length;i<n;++i)C(e,t[i]);return e}function a(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function l(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function h(t,e,i){var n,o;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(o=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0)*o}function u(t,e){return p(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function p(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function f(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],a=e[0],l=e[1],h=o.Z.UNKNOWN;return a<i?h|=o.Z.LEFT:a>r&&(h|=o.Z.RIGHT),l<n?h|=o.Z.BELOW:l>s&&(h|=o.Z.ABOVE),h===o.Z.UNKNOWN&&(h=o.Z.INTERSECTING),h}function d(){return[1/0,1/0,-1/0,-1/0]}function _(t,e,i,n,o){return o?(o[0]=t,o[1]=e,o[2]=i,o[3]=n,o):[t,e,i,n]}function g(t){return _(1/0,1/0,-1/0,-1/0,t)}function y(t,e){var i=t[0],n=t[1];return _(i,n,i,n,e)}function v(t,e){return function(t,e){for(var i=0,n=e.length;i<n;++i)C(t,e[i]);return t}(g(e),t)}function m(t,e,i,n,o){return S(g(o),t,e,i,n)}function x(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function E(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function C(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function S(t,e,i,n,o){for(;i<n;i+=o)O(t,e[i],e[i+1]);return t}function O(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function w(t,e){var i;return(i=e(b(t)))||(i=e(I(t)))||(i=e(Z(t)))?i:(i=e(F(t)))||!1}function T(t){var e=0;return j(t)||(e=D(t)*M(t)),e}function b(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function P(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function R(t,e){var i;return e===n.Z.BOTTOM_LEFT?i=b(t):e===n.Z.BOTTOM_RIGHT?i=I(t):e===n.Z.TOP_LEFT?i=F(t):e===n.Z.TOP_RIGHT?i=Z(t):(0,r.h)(!1,13),i}function L(t,e,i,n,o){var r=e*n[0]/2,s=e*n[1]/2,a=Math.cos(i),l=Math.sin(i),h=r*a,u=r*l,c=s*a,p=s*l,f=t[0],d=t[1],g=f-h+p,y=f-h-p,v=f+h-p,m=f+h+p,x=d-u-c,E=d-u+c,C=d+u+c,S=d+u-c;return _(Math.min(g,y,v,m),Math.min(x,E,C,S),Math.max(g,y,v,m),Math.max(x,E,C,S),o)}function M(t){return t[3]-t[1]}function A(t,e,i){var n=i||[1/0,1/0,-1/0,-1/0];return k(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):g(n),n}function F(t){return[t[0],t[3]]}function Z(t){return[t[2],t[3]]}function D(t){return t[2]-t[0]}function k(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function j(t){return t[2]<t[0]||t[3]<t[1]}function N(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function G(t,e){var i=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=n,t[3]+=n}function z(t,e,i){var n=!1,r=f(t,e),s=f(t,i);if(r===o.Z.INTERSECTING||s===o.Z.INTERSECTING)n=!0;else{var a=t[0],l=t[1],h=t[2],u=t[3],c=e[0],p=e[1],d=i[0],_=i[1],g=(_-p)/(d-c),y=void 0,v=void 0;s&o.Z.ABOVE&&!(r&o.Z.ABOVE)&&(n=(y=d-(_-u)/g)>=a&&y<=h),n||!(s&o.Z.RIGHT)||r&o.Z.RIGHT||(n=(v=_-(d-h)*g)>=l&&v<=u),n||!(s&o.Z.BELOW)||r&o.Z.BELOW||(n=(y=d-(_-l)/g)>=a&&y<=h),n||!(s&o.Z.LEFT)||r&o.Z.LEFT||(n=(v=_-(d-a)*g)>=l&&v<=u)}return n}function W(t,e,i,n){var o=[];if(n>1)for(var r=t[2]-t[0],s=t[3]-t[1],a=0;a<n;++a)o.push(t[0]+r*a/n,t[1],t[2],t[1]+s*a/n,t[2]-r*a/n,t[3],t[0],t[3]-s*a/n);else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(o,o,2);for(var l=[],h=[],u=(a=0,o.length);a<u;a+=2)l.push(o[a]),h.push(o[a+1]);return function(t,e,i){return _(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),i)}(l,h,i)}function Y(t,e){var i=e.getExtent(),n=P(t);if(e.canWrapX()&&(n[0]<i[0]||n[0]>=i[2])){var o=D(i),r=Math.floor((n[0]-i[0])/o)*o;t[0]-=r,t[2]-=r}return t}},1748:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},4178:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},4011:(t,e,i)=>{"use strict";i.d(e,{uX:()=>o,Dv:()=>r,Zn:()=>s,qe:()=>a});var n=i(9682);function o(){return!0}function r(){return!1}function s(){}function a(t){var e,i,o,r=!1;return function(){var s=Array.prototype.slice.call(arguments);return r&&this===o&&(0,n.fS)(s,i)||(r=!0,o=this,i=s,e=t.apply(this,arguments)),e}}},3696:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},8795:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},2043:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u});var n,o=i(8795),r=i(4759),s=i(1915),a=i(8667),l=i(1882),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const u=function(t){function e(e,i){var n=t.call(this)||this;return n.setCoordinates(e,i),n}return h(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,n){var o=this.flatCoordinates,r=(0,l.bI)(t,e,o[0],o[1]);if(r<n){for(var s=this.stride,a=0;a<s;++a)i[a]=o[a];return i.length=s,r}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,s.HK)(this.flatCoordinates,t)},e.prototype.getType=function(){return o.Z.POINT},e.prototype.intersectsExtent=function(t){return(0,s.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.IG)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(r.ZP)},4759:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>m,Kr:()=>v});var n,o=i(8493),r=i(868),s=i(9179),a=i(2359),l=i(1915),h=i(1964),u=i(4011),c=i(7882),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=(0,a.Ue)();const d=function(t){function e(){var e=t.call(this)||this;return e.extent_=(0,l.lJ)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,u.qe)((function(t,e,i){if(!i)return this.getSimplifiedGeometry(e);var n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(e)})),e}return p(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return(0,s.O3)()},e.prototype.closestPointXY=function(t,e,i,n){return(0,s.O3)()},e.prototype.containsXY=function(t,e){var i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e},e.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,s.O3)()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,l.YN)(e),this.extentRevision_=this.getRevision()}return(0,l.EO)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,s.O3)()},e.prototype.scale=function(t,e,i){(0,s.O3)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,s.O3)()},e.prototype.getType=function(){return(0,s.O3)()},e.prototype.applyTransform=function(t){(0,s.O3)()},e.prototype.intersectsExtent=function(t){return(0,s.O3)()},e.prototype.translate=function(t,e){(0,s.O3)()},e.prototype.transform=function(t,e){var i=(0,h.U2)(t),n=i.getUnits()==r.Z.TILE_PIXELS?function(t,n,o){var r=i.getExtent(),s=i.getWorldExtent(),u=(0,l.Cr)(s)/(0,l.Cr)(r);return(0,a.qC)(f,s[0],s[3],u,-u,0,0,0),(0,c.vT)(t,0,t.length,o,f,n),(0,h.Ck)(i,e)(t,n,o)}:(0,h.Ck)(i,e);return this.applyTransform(n),this},e}(o.ZP);var _=i(3696),g=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function y(t){var e;return t==_.Z.XY?e=2:t==_.Z.XYZ||t==_.Z.XYM?e=3:t==_.Z.XYZM&&(e=4),e}function v(t,e,i){var n=t.getFlatCoordinates();if(n){var o=t.getStride();return(0,c.vT)(n,0,n.length,o,e,i)}return null}const m=function(t){function e(){var e=t.call(this)||this;return e.layout=_.Z.XY,e.stride=2,e.flatCoordinates=null,e}return g(e,t),e.prototype.computeExtent=function(t){return(0,l.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,s.O3)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=y(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,s.O3)()},e.prototype.setLayout=function(t,e,i){var n;if(t)n=y(t);else{for(var o=0;o<i;++o){if(0===e.length)return this.layout=_.Z.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=_.Z.XY:3==t?e=_.Z.XYZ:4==t&&(e=_.Z.XYZM),e}(n=e.length)}this.layout=t,this.stride=n},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();(0,c.U1)(i,0,i.length,n,t,e,i),this.changed()}},e.prototype.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var o=i;o||(o=(0,l.qg)(this.getExtent()));var r=this.getFlatCoordinates();if(r){var s=this.getStride();(0,c.bA)(r,0,r.length,s,t,n,o,r),this.changed()}},e.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();(0,c.Iu)(i,0,i.length,n,t,e,i),this.changed()}},e}(d)},8667:(t,e,i)=>{"use strict";function n(t,e,i,n){for(var o=0,r=i.length;o<r;++o)t[e++]=i[o];return e}function o(t,e,i,n){for(var o=0,r=i.length;o<r;++o)for(var s=i[o],a=0;a<n;++a)t[e++]=s[a];return e}function r(t,e,i,n,r){for(var s=r||[],a=0,l=0,h=i.length;l<h;++l){var u=o(t,e,i[l],n);s[a++]=u,e=u}return s.length=a,s}i.d(e,{IG:()=>n,Sg:()=>o,_5:()=>r})},7882:(t,e,i)=>{"use strict";function n(t,e,i,n,o,r){for(var s=r||[],a=0,l=e;l<i;l+=n){var h=t[l],u=t[l+1];s[a++]=o[0]*h+o[2]*u+o[4],s[a++]=o[1]*h+o[3]*u+o[5]}return r&&s.length!=a&&(s.length=a),s}function o(t,e,i,n,o,r,s){for(var a=s||[],l=Math.cos(o),h=Math.sin(o),u=r[0],c=r[1],p=0,f=e;f<i;f+=n){var d=t[f]-u,_=t[f+1]-c;a[p++]=u+d*l-_*h,a[p++]=c+d*h+_*l;for(var g=f+2;g<f+n;++g)a[p++]=t[g]}return s&&a.length!=p&&(a.length=p),a}function r(t,e,i,n,o,r,s,a){for(var l=a||[],h=s[0],u=s[1],c=0,p=e;p<i;p+=n){var f=t[p]-h,d=t[p+1]-u;l[c++]=h+o*f,l[c++]=u+r*d;for(var _=p+2;_<p+n;++_)l[c++]=t[_]}return a&&l.length!=c&&(l.length=c),l}function s(t,e,i,n,o,r,s){for(var a=s||[],l=0,h=e;h<i;h+=n){a[l++]=t[h]+o,a[l++]=t[h+1]+r;for(var u=h+2;u<h+n;++u)a[l++]=t[u]}return s&&a.length!=l&&(a.length=l),a}i.d(e,{vT:()=>n,U1:()=>o,bA:()=>r,Iu:()=>s})},1358:(t,e,i)=>{"use strict";i.d(e,{V:()=>o,G$:()=>r,tK:()=>s,MP:()=>a,Id:()=>l,Tp:()=>h,bM:()=>u});var n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",o=-1!==n.indexOf("firefox"),r=(-1!==n.indexOf("safari")&&n.indexOf("chrom"),-1!==n.indexOf("webkit")&&-1==n.indexOf("edge")),s=-1!==n.indexOf("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,h="undefined"!=typeof Image&&Image.prototype.decode,u=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},7588:(t,e,i)=>{"use strict";i.d(e,{Cv:()=>l,FW:()=>h,ZP:()=>u});var n,o=i(8493),r=i(3604),s=i(6320),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function l(t,e,i){var n=t.getCenterInternal();if(n){var o=[n[0]+e[0],n[1]+e[1]];t.animateInternal({duration:void 0!==i?i:250,easing:s.GE,center:t.getConstrainedCenter(o)})}}function h(t,e,i,n){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:i,duration:void 0!==n?n:250,easing:s.Vv})}}const u=function(t){function e(e){var i=t.call(this)||this;return e&&e.handleEvent&&(i.handleEvent=e.handleEvent),i.map_=null,i.setActive(!0),i}return a(e,t),e.prototype.getActive=function(){return this.get(r.Z.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(r.Z.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(o.ZP)},8024:(t,e,i)=>{"use strict";i.d(e,{S:()=>l,Z:()=>h});var n,o=i(7588),r=i(6),s=i(3580),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function l(t){for(var e=t.length,i=0,n=0,o=0;o<e;o++)i+=t[o].clientX,n+=t[o].clientY;return[i/e,n/e]}const h=function(t){function e(e){var i=this,n=e||{};return i=t.call(this,n)||this,n.handleDownEvent&&(i.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(i.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(i.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(i.handleUpEvent=n.handleUpEvent),n.stopDown&&(i.stopDown=n.stopDown),i.handlingDownUpSequence=!1,i.trackedPointers_={},i.targetPointers=[],i}return a(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r.Z.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==r.Z.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==r.Z.POINTERDOWN){var n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==r.Z.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===r.Z.POINTERDOWN||e===r.Z.POINTERDRAG||e===r.Z.POINTERUP}(t)){var e=t.originalEvent,i=e.pointerId.toString();t.type==r.Z.POINTERUP?delete this.trackedPointers_[i]:(t.type==r.Z.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=e),this.targetPointers=(0,s.KX)(this.trackedPointers_)}},e}(o.ZP)},3604:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={ACTIVE:"active"}},1273:(t,e,i)=>{"use strict";i.d(e,{t:()=>g,Z:()=>v});var n,o=i(8426),r=i(9629),s=i(9520),a=i(8795),l=i(7588),h=i(4011),u=i(3580),c=i(1219),p=i(9682),f=i(9179),d=i(6403),_=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=function(t){function e(e,i,n,o){var r=t.call(this,e)||this;return r.selected=i,r.deselected=n,r.mapBrowserEvent=o,r}return _(e,t),e}(s.ZP),y={};const v=function(t){function e(e){var i,n,r=t.call(this)||this,s=e||{};if(r.boundAddFeature_=r.addFeature_.bind(r),r.boundRemoveFeature_=r.removeFeature_.bind(r),r.condition_=s.condition?s.condition:d.Kf,r.addCondition_=s.addCondition?s.addCondition:d.Fi,r.removeCondition_=s.removeCondition?s.removeCondition:d.Fi,r.toggleCondition_=s.toggleCondition?s.toggleCondition:d.vY,r.multi_=!!s.multi&&s.multi,r.filter_=s.filter?s.filter:h.uX,r.hitTolerance_=s.hitTolerance?s.hitTolerance:0,r.style_=void 0!==s.style?s.style:(i=(0,c.Ly)(),(0,p.l7)(i[a.Z.POLYGON],i[a.Z.LINE_STRING]),(0,p.l7)(i[a.Z.GEOMETRY_COLLECTION],i[a.Z.LINE_STRING]),function(t){return t.getGeometry()?i[t.getGeometry().getType()]:null}),r.features_=s.features||new o.Z,s.layers)if("function"==typeof s.layers)n=s.layers;else{var l=s.layers;n=function(t){return(0,p.q9)(l,t)}}else n=h.uX;return r.layerFilter_=n,r.featureLayerAssociation_={},r}return _(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[(0,f.sq)(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,f.sq)(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener(r.Z.ADD,this.boundAddFeature_),this.features_.addEventListener(r.Z.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(r.Z.ADD,this.boundAddFeature_),this.features_.removeEventListener(r.Z.REMOVE,this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){var e=t.element;this.style_&&this.applySelectedStyle_(e)},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=(0,f.sq)(t);e in y||(y[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){for(var i=this.getMap().getInteractions().getArray(),n=i.length-1;n>=0;--n){var o=i[n];if(o!==this&&o instanceof e&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(o.getStyle())}var r=(0,f.sq)(t);t.setStyle(y[r]),delete y[r]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,f.sq)(t)]},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),n=this.toggleCondition_(t),o=!e&&!i&&!n,r=t.map,s=this.getFeatures(),a=[],l=[];if(o){(0,u.ZH)(this.featureLayerAssociation_),r.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return l.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var h=s.getLength()-1;h>=0;--h){var c=s.item(h),f=l.indexOf(c);f>-1?l.splice(f,1):(s.remove(c),a.push(c))}0!==l.length&&s.extend(l)}else{r.forEachFeatureAtPixel(t.pixel,function(t,o){if(this.filter_(t,o))return!e&&!n||(0,p.q9)(s.getArray(),t)?(i||n)&&(0,p.q9)(s.getArray(),t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(l.push(t),this.addFeatureLayerAssociation_(t,o)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=a.length-1;d>=0;--d)s.remove(a[d]);s.extend(l)}return(l.length>0||a.length>0)&&this.dispatchEvent(new g("select",l,a,t)),!0},e}(l.ZP)},1882:(t,e,i)=>{"use strict";function n(t,e,i){return Math.min(Math.max(t,e),i)}i.d(e,{uZ:()=>n,f9:()=>o,k3:()=>r,rU:()=>s,bI:()=>a,SV:()=>l,Yr:()=>h,$W:()=>u,t7:()=>c});var o="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},r="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function s(t,e,i,n,o,r){var s=o-i,l=r-n;if(0!==s||0!==l){var h=((t-i)*s+(e-n)*l)/(s*s+l*l);h>1?(i=o,n=r):h>0&&(i+=s*h,n+=l*h)}return a(t,e,i,n)}function a(t,e,i,n){var o=i-t,r=n-e;return o*o+r*r}function l(t){for(var e=t.length,i=0;i<e;i++){for(var n=i,o=Math.abs(t[i][i]),r=i+1;r<e;r++){var s=Math.abs(t[r][i]);s>o&&(o=s,n=r)}if(0===o)return null;var a=t[n];t[n]=t[i],t[i]=a;for(var l=i+1;l<e;l++)for(var h=-t[l][i]/t[i][i],u=i;u<e+1;u++)i==u?t[l][u]=0:t[l][u]+=h*t[i][u]}for(var c=new Array(e),p=e-1;p>=0;p--){c[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*c[p]}return c}function h(t){return t*Math.PI/180}function u(t,e){var i=t%e;return i*e<0?i+e:i}function c(t,e,i){return t+i*(e-t)}},3580:(t,e,i)=>{"use strict";i.d(e,{f0:()=>n,ZH:()=>o,KX:()=>r,xb:()=>s});var n="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,o=arguments.length;n<o;++n){var r=arguments[n];if(null!=r)for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])}return i};function o(t){for(var e in t)delete t[e]}var r="function"==typeof Object.values?Object.values:function(t){var e=[];for(var i in t)e.push(t[i]);return e};function s(t){var e;for(e in t)return!1;return!e}},1964:(t,e,i)=>{"use strict";i.d(e,{Wm:()=>n.W,UQ:()=>R,OP:()=>A,mi:()=>L,Vs:()=>Y,dY:()=>K,U2:()=>b,_Q:()=>I,Ck:()=>Z,WO:()=>F,Cs:()=>z,bU:()=>M,lO:()=>W,Fj:()=>X,vs:()=>D});var n=i(868);const o=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.W[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();var r,s=i(1882),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=6378137,h=Math.PI*l,u=[-h,-h,h,h],c=[-180,-85,180,85],p=l*Math.log(Math.tan(Math.PI/2)),f=function(t){function e(e){return t.call(this,{code:e,units:n.Z.METERS,extent:u,global:!0,worldExtent:c,getPointResolution:function(t,e){return t/(0,s.f9)(e[1]/l)}})||this}return a(e,t),e}(o),d=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];var _=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),g=[-180,-90,180,90],y=6378137*Math.PI/180,v=function(t){function e(e,i){return t.call(this,{code:e,units:n.Z.DEGREES,extent:g,axisOrientation:i,global:!0,metersPerUnit:y,worldExtent:g})||this}return _(e,t),e}(o),m=[new v("CRS:84"),new v("EPSG:4326","neu"),new v("urn:ogc:def:crs:OGC:1.3:CRS84"),new v("urn:ogc:def:crs:OGC:2:84"),new v("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],x={},E={};function C(t,e,i){var n=t.getCode(),o=e.getCode();n in E||(E[n]={}),E[n][o]=i}i(1915);function S(t,e,i){var n=i||6371008.8,o=(0,s.Yr)(t[1]),r=(0,s.Yr)(e[1]),a=(r-o)/2,l=(0,s.Yr)(e[0]-t[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function O(t,e,i){var n;if(void 0!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];n=e}else n=t.slice();return n}function w(t,e,i){if(void 0!==e&&t!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}return t}function T(t){!function(t,e){x[t]=e}(t.getCode(),t),C(t,t,O)}function b(t){return"string"==typeof t?x[e=t]||x[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function I(t,e,i,o){var r,s=(t=b(t)).getPointResolutionFunc();if(s)r=s(e,i),o&&o!==t.getUnits()&&(l=t.getMetersPerUnit())&&(r=r*l/n.W[o]);else{var a=t.getUnits();if(a==n.Z.DEGREES&&!o||o==n.Z.DEGREES)r=e;else{var l,h=F(t,b("EPSG:4326"));if(h===w&&a!==n.Z.DEGREES)r=e*t.getMetersPerUnit();else{var u=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];r=(S((u=h(u,u,2)).slice(0,2),u.slice(2,4))+S(u.slice(4,6),u.slice(6,8)))/2}void 0!==(l=o?n.W[o]:t.getMetersPerUnit())&&(r/=l)}}return r}function P(t){!function(t){t.forEach(T)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&C(e,t,O)}))}))}function R(t,e){return t?"string"==typeof t?b(t):t:b(e)}function L(t,e){return D(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function M(t,e){var i=D(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),n=i[0];return(n<-180||n>180)&&(i[0]=(0,s.$W)(n+180,360)-180),i}function A(t,e){if(t===e)return!0;var i=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||F(t,e)===O)&&i}function F(t,e){var i=function(t,e){var i;return t in E&&e in E[t]&&(i=E[t][e]),i}(t.getCode(),e.getCode());return i||(i=w),i}function Z(t,e){return F(b(t),b(e))}function D(t,e,i){return Z(e,i)(t,void 0,t.length)}var k,j,N,G=null;function z(){return G}function W(t,e){return t}function Y(t,e){return t}function X(t,e){return t}function K(t,e){return t}P(d),P(m),k=d,j=function(t,e,i){var n=t.length,o=i>1?i:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(n));for(var s=0;s<n;s+=o){r[s]=h*t[s]/180;var a=l*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>p?a=p:a<-p&&(a=-p),r[s+1]=a}return r},N=function(t,e,i){var n=t.length,o=i>1?i:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(n));for(var s=0;s<n;s+=o)r[s]=180*t[s]/h,r[s+1]=360*Math.atan(Math.exp(t[s+1]/l))/Math.PI-90;return r},m.forEach((function(t){k.forEach((function(e){C(t,e,j),C(e,t,N)}))}))},868:(t,e,i)=>{"use strict";i.d(e,{W:()=>o,Z:()=>r});var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},o={};o[n.DEGREES]=2*Math.PI*6370997/360,o[n.FEET]=.3048,o[n.METERS]=1,o[n.USFEET]=1200/3937;const r=n},8509:(t,e,i)=>{"use strict";i.d(e,{Df:()=>u,bL:()=>c,mb:()=>p,X9:()=>f,He:()=>d,rc:()=>_,V4:()=>g,Tx:()=>y,PH:()=>v,ru:()=>m,oB:()=>x,yC:()=>E,sG:()=>C,Qx:()=>b,fk:()=>I,Kd:()=>L,gs:()=>M,qs:()=>A,_f:()=>F,QP:()=>D});var n=i(8493),o=i(6575),r=i(1358),s=i(3580),a=i(5386),l=i(7644),h=i(2359),u="10px sans-serif",c="#000",p="round",f=[],d=0,_="round",g=10,y="#000",v="center",m="middle",x=[0,0,0,0],E=1,C=new n.ZP;(new o.Z).setSize=function(){console.warn("labelCache is deprecated.")};var S,O,w=null,T={},b=function(){var t,e,i="32px ",n=["monospace","serif"],o=n.length,r="wmytzilWMYTZIL@#/&?$%10";function a(t,s,a){for(var l=!0,h=0;h<o;++h){var u=n[h];if(e=R(t+" "+s+" "+i+u,r),a!=u){var c=R(t+" "+s+" "+i+a+","+u,r);l=l&&c!=e}}return!!l}function h(){for(var e=!0,i=C.getKeys(),n=0,o=i.length;n<o;++n){var r=i[n];C.get(r)<100&&(a.apply(this,r.split("\n"))?((0,s.ZH)(T),w=null,S=void 0,C.set(r,100)):(C.set(r,C.get(r)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var i=(0,l.p)(e);if(i)for(var n=i.families,o=0,r=n.length;o<r;++o){var s=n[o],u=i.style+"\n"+i.weight+"\n"+s;void 0===C.get(u)&&(C.set(u,100,!0),a(i.style,i.weight,s)||(C.set(u,0,!0),void 0===t&&(t=setInterval(h,32))))}}}(),I=function(t){var e=T[t];if(null==e){if(r.Id){var i=(0,l.p)(t),n=P(t,"Žg");e=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else O||((O=document.createElement("div")).innerHTML="M",O.style.margin="0 !important",O.style.padding="0 !important",O.style.position="absolute !important",O.style.left="-99999px !important"),O.style.font=t,document.body.appendChild(O),e=O.offsetHeight,document.body.removeChild(O);T[t]=e}return e};function P(t,e){return w||(w=(0,a.E4)(1,1)),t!=S&&(w.font=t,S=w.font),w.measureText(e)}function R(t,e){return P(t,e).width}function L(t,e,i){if(e in i)return i[e];var n=R(t,e);return i[e]=n,n}function M(t,e,i){for(var n=e.length,o=0,r=0;r<n;++r){var s=R(t,e[r]);o=Math.max(o,s),i.push(s)}return o}function A(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function F(t,e,i,n,o,r,s,a,l,h,u){t.save(),1!==i&&(t.globalAlpha*=i),e&&t.setTransform.apply(t,e),n.contextInstructions?(t.translate(l,h),t.scale(u[0],u[1]),function(t,e){for(var i=t.contextInstructions,n=0,o=i.length;n<o;n+=2)Array.isArray(i[n+1])?e[i[n]].apply(e,i[n+1]):e[i[n]]=i[n+1]}(n,t)):u[0]<0||u[1]<0?(t.translate(l,h),t.scale(u[0],u[1]),t.drawImage(n,o,r,s,a,0,0,s,a)):t.drawImage(n,o,r,s,a,l,h,s*u[0],a*u[1]),t.restore()}var Z=null;function D(t){return r.Id?(0,h.BB)(t):(Z||(Z=(0,a.E4)(1,1).canvas),Z.style.transform=(0,h.BB)(t),Z.style.transform)}},596:(t,e,i)=>{"use strict";function n(t){return t[0]>0&&t[1]>0}function o(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function r(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}i.d(e,{py:()=>n,bA:()=>o,Pq:()=>r})},9797:(t,e,i)=>{"use strict";i.d(e,{Z:()=>f});var n,o=i(1256),r=i(8039),s=i(8913),a=i(5120),l=i(5386),h=i(8509),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const c=function(t){function e(e){var i=this,n=void 0!==e.rotateWithView&&e.rotateWithView;return(i=t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.anchor_=null,i.size_=null,i.imageSize_=null,i.hitDetectionImageSize_=null,i.render(),i}return u(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_},e.prototype.getImage=function(t){if(!this.canvas_[t||1]){var e=this.createRenderOptions(),i=(0,l.E4)(e.size*t||1,e.size*t||1);this.draw_(e,i,0,0,t||1),this.canvas_[t||1]=i.canvas}return this.canvas_[t||1]},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return o.Z.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.createRenderOptions=function(){var t,e=h.mb,i=h.rc,n=0,o=null,r=0,s=0;return this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=h.Tx),t=(0,a.y)(t),void 0===(s=this.stroke_.getWidth())&&(s=h.yC),o=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(i=this.stroke_.getLineJoin())&&(i=h.rc),void 0===(e=this.stroke_.getLineCap())&&(e=h.mb),void 0===(n=this.stroke_.getMiterLimit())&&(n=h.V4)),{strokeStyle:t,strokeWidth:s,size:2*(this.radius_+s)+1,lineCap:e,lineDash:o,lineDashOffset:r,lineJoin:i,miterLimit:n}},e.prototype.render=function(){var t=this.createRenderOptions(),e=(0,l.E4)(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var i=e.canvas.width,n=i,o=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[i/2-o[0],i/2+o[1]],this.size_=[i,i],this.imageSize_=[n,n]},e.prototype.draw_=function(t,e,i,n,o){var r,s,l;e.setTransform(o,0,0,o,0,0),e.translate(i,n),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(u*=2),r=0;r<=u;r++)s=2*r*Math.PI/u-Math.PI/2+this.angle_,l=r%2==0?this.radius_:c,e.lineTo(t.size/2+l*Math.cos(s),t.size/2+l*Math.sin(s))}if(this.fill_){var p=this.fill_.getColor();null===p&&(p=h.bL),e.fillStyle=(0,a.y)(p),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=(0,s._2)(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){var n=(0,l.E4)(t.size,t.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(t,n,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.translate(i,n),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var r=void 0!==this.radius2_?this.radius2_:this.radius_;r!==this.radius_&&(o*=2);var s=void 0,a=void 0,l=void 0;for(s=0;s<=o;s++)l=2*s*Math.PI/o-Math.PI/2+this.angle_,a=s%2==0?this.radius_:r,e.lineTo(t.size/2+a*Math.cos(l),t.size/2+a*Math.sin(l))}e.fillStyle=h.bL,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(r.Z);var p=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const f=function(t){function e(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})||this}return p(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(c)},8185:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}()},8039:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n=i(9179),o=i(596);const r=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,o.Pq)(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return(0,n.O3)()},t.prototype.getImage=function(t){return(0,n.O3)()},t.prototype.getHitDetectionImage=function(){return(0,n.O3)()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return(0,n.O3)()},t.prototype.getImageSize=function(){return(0,n.O3)()},t.prototype.getHitDetectionImageSize=function(){return(0,n.O3)()},t.prototype.getOrigin=function(){return(0,n.O3)()},t.prototype.getSize=function(){return(0,n.O3)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=(0,o.Pq)(t)},t.prototype.listenImageChange=function(t){(0,n.O3)()},t.prototype.load=function(){(0,n.O3)()},t.prototype.unlistenImageChange=function(t){(0,n.O3)()},t}()},767:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}()},1219:(t,e,i)=>{"use strict";i.d(e,{J$:()=>h,yF:()=>c,Ly:()=>p,ZP:()=>d});var n=i(9797),o=i(8185),r=i(8795),s=i(767),a=i(8906),l=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=f,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=f,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function h(t){var e,i;"function"==typeof t?e=t:(Array.isArray(t)?i=t:((0,a.h)("function"==typeof t.getZIndex,41),i=[t]),e=function(){return i});return e}var u=null;function c(t,e){if(!u){var i=new o.Z({color:"rgba(255,255,255,0.4)"}),r=new s.Z({color:"#3399CC",width:1.25});u=[new l({image:new n.Z({fill:i,stroke:r,radius:5}),fill:i,stroke:r})]}return u}function p(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t[r.Z.POLYGON]=[new l({fill:new o.Z({color:[255,255,255,.5]})})],t[r.Z.MULTI_POLYGON]=t[r.Z.POLYGON],t[r.Z.LINE_STRING]=[new l({stroke:new s.Z({color:e,width:5})}),new l({stroke:new s.Z({color:i,width:3})})],t[r.Z.MULTI_LINE_STRING]=t[r.Z.LINE_STRING],t[r.Z.CIRCLE]=t[r.Z.POLYGON].concat(t[r.Z.LINE_STRING]),t[r.Z.POINT]=[new l({image:new n.Z({radius:6,fill:new o.Z({color:i}),stroke:new s.Z({color:e,width:1.5})}),zIndex:1/0})],t[r.Z.MULTI_POINT]=t[r.Z.POINT],t[r.Z.GEOMETRY_COLLECTION]=t[r.Z.POLYGON].concat(t[r.Z.LINE_STRING],t[r.Z.POINT]),t}function f(t){return t.getGeometry()}const d=l},8288:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={POINT:"point",LINE:"line"}},2359:(t,e,i)=>{"use strict";i.d(e,{Ue:()=>o,lk:()=>r,nn:()=>s,n3:()=>a,qC:()=>l,nb:()=>h,BB:()=>u});var n=i(8906);function o(){return[1,0,0,1,0,0]}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function a(t,e,i){return o=e,r=0,s=0,a=i,l=0,h=0,(n=t)[0]=o,n[1]=r,n[2]=s,n[3]=a,n[4]=l,n[5]=h,n;var n,o,r,s,a,l,h}function l(t,e,i,n,o,r,s,a){var l=Math.sin(r),h=Math.cos(r);return t[0]=n*h,t[1]=o*l,t[2]=-n*l,t[3]=o*h,t[4]=s*n*h-a*n*l+e,t[5]=s*o*l+a*o*h+i,t}function h(t,e){var i,o=(i=e)[0]*i[3]-i[1]*i[2];(0,n.h)(0!==o,32);var r=e[0],s=e[1],a=e[2],l=e[3],h=e[4],u=e[5];return t[0]=l/o,t[1]=-s/o,t[2]=-a/o,t[3]=r/o,t[4]=(a*u-l*h)/o,t[5]=-(r*u-s*h)/o,t}function u(t){return"matrix("+t.join(", ")+")"}new Array(6)},9179:(t,e,i)=>{"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}i.d(e,{O3:()=>n,sq:()=>r,q4:()=>s});var o=0;function r(t){return t.ol_uid||(t.ol_uid=String(++o))}var s="6.5.0"},2582:function(t){t.exports=function(){"use strict";function t(t,n,o,r,s){!function t(i,n,o,r,s){for(;r>o;){if(r-o>600){var a=r-o+1,l=n-o+1,h=Math.log(a),u=.5*Math.exp(2*h/3),c=.5*Math.sqrt(h*u*(a-u)/a)*(l-a/2<0?-1:1);t(i,n,Math.max(o,Math.floor(n-l*u/a+c)),Math.min(r,Math.floor(n+(a-l)*u/a+c)),s)}var p=i[n],f=o,d=r;for(e(i,o,n),s(i[r],p)>0&&e(i,o,r);f<d;){for(e(i,f,d),f++,d--;s(i[f],p)<0;)f++;for(;s(i[d],p)>0;)d--}0===s(i[o],p)?e(i,o,d):e(i,++d,r),d<=n&&(o=d+1),n<=d&&(r=d-1)}}(t,n,o||0,r||t.length-1,s||i)}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function r(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r=e;r<i;r++){var s=t.children[r];a(o,t.leaf?n(s):s)}return o}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,i,n,o,r){for(var s=[i,n];s.length;)if(!((n=s.pop())-(i=s.pop())<=o)){var a=i+Math.ceil((n-i)/o/2)*o;t(e,a,i,n,r),s.push(i,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,i=[];if(!f(t,e))return i;for(var n=this.toBBox,o=[];e;){for(var r=0;r<e.children.length;r++){var s=e.children[r],a=e.leaf?n(s):s;f(t,a)&&(e.leaf?i.push(s):p(t,a)?this._all(s,i):o.push(s))}e=o.pop()}return i},n.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var o=e.children[n],r=e.leaf?this.toBBox(o):o;if(f(t,r)){if(e.leaf||p(t,r))return!0;i.push(o)}}e=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var i,n,r,s=this.data,a=this.toBBox(t),l=[],h=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=h.pop(),r=!0),s.leaf){var u=o(t,s.children,e);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}r||s.leaf||!p(s,a)?n?(i++,s=n.children[i],r=!1):s=null:(l.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},n.prototype._build=function(t,e,i,n){var o,s=i-e+1,a=this._maxEntries;if(s<=a)return r(o=d(t.slice(e,i+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(o=d([])).leaf=!1,o.height=n;var l=Math.ceil(s/a),h=l*Math.ceil(Math.sqrt(a));_(t,e,i,h,this.compareMinX);for(var u=e;u<=i;u+=h){var c=Math.min(u+h-1,i);_(t,u,c,l,this.compareMinY);for(var p=u;p<=c;p+=l){var f=Math.min(p+l-1,c);o.children.push(this._build(t,p,f,n-1))}}return r(o,this.toBBox),o},n.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var o=1/0,r=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],h=u(l),c=(p=t,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-h);c<r?(r=c,o=h<o?h:o,s=l):c===r&&h<o&&(o=h,s=l)}e=s||e.children[0]}var p,f;return e},n.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),o=[],r=this._chooseSubtree(n,this.data,e,o);for(r.children.push(t),a(r,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},n.prototype._split=function(t,e){var i=t[e],n=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,n);var s=this._chooseSplitIndex(i,o,n),a=d(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,r(i,this.toBBox),r(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,i){for(var n,o,r,a,l,h,c,p=1/0,f=1/0,d=e;d<=i-e;d++){var _=s(t,0,d,this.toBBox),g=s(t,d,i,this.toBBox),y=(o=_,r=g,void 0,void 0,void 0,void 0,a=Math.max(o.minX,r.minX),l=Math.max(o.minY,r.minY),h=Math.min(o.maxX,r.maxX),c=Math.min(o.maxY,r.maxY),Math.max(0,h-a)*Math.max(0,c-l)),v=u(_)+u(g);y<p?(p=y,n=d,f=v<f?v:f):y===p&&v<f&&(f=v,n=d)}return n||i-e},n.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,o)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var o=this.toBBox,r=s(t,0,e,o),l=s(t,i-e,i,o),h=c(r)+c(l),u=e;u<i-e;u++){var p=t.children[u];a(r,t.leaf?o(p):p),h+=c(r)}for(var f=i-e-1;f>=e;f--){var d=t.children[f];a(l,t.leaf?o(d):d),h+=c(l)}return h},n.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)a(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},n}()},1978:(t,e,i)=>{"use strict";i.d(e,{J:()=>k,q:()=>j});var n,o=i(8493),r=i(3381),s=i(8906),a=i(3002),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const h=function(t){function e(e){var i=t.call(this)||this;if(i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addEventListener((0,o.v_)(i.geometryName_),i.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;i.setGeometry(n)}else{var r=e;i.setProperties(r)}return i}return l(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,a.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,a.oL)(t,r.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,i;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?i=e:((0,s.h)("function"==typeof e.getZIndex,41),i=[e]),function(){return i}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener((0,o.v_)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener((0,o.v_)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(o.ZP);var u=i(188);const c="bottom-center",p="bottom-right",f="center-center",d="center-right";var _=i(7644),g=i(1915),y=i(5386),v=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),m="element",x="map",E="offset",C="position",S="positioning";const O=function(t){function e(e){var i=t.call(this)||this;i.options=e,i.id=e.id,i.insertFirst=void 0===e.insertFirst||e.insertFirst,i.stopEvent=void 0===e.stopEvent||e.stopEvent,i.element=document.createElement("div"),i.element.className=void 0!==e.className?e.className:"ol-overlay-container "+_.$A,i.element.style.position="absolute",i.element.style.pointerEvents="auto";var n=e.autoPan;return n&&"object"!=typeof n&&(n={animation:e.autoPanAnimation,margin:e.autoPanMargin}),i.autoPan=n||!1,i.rendered={transform_:"",visible:!0},i.mapPostrenderListenerKey=null,i.addEventListener((0,o.v_)(m),i.handleElementChanged),i.addEventListener((0,o.v_)(x),i.handleMapChanged),i.addEventListener((0,o.v_)(E),i.handleOffsetChanged),i.addEventListener((0,o.v_)(C),i.handlePositionChanged),i.addEventListener((0,o.v_)(S),i.handlePositioningChanged),void 0!==e.element&&i.setElement(e.element),i.setOffset(void 0!==e.offset?e.offset:[0,0]),i.setPositioning(void 0!==e.positioning?e.positioning:"top-left"),void 0!==e.position&&i.setPosition(e.position),i}return v(e,t),e.prototype.getElement=function(){return this.get(m)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(x)},e.prototype.getOffset=function(){return this.get(E)},e.prototype.getPosition=function(){return this.get(C)},e.prototype.getPositioning=function(){return this.get(S)},e.prototype.handleElementChanged=function(){(0,y.ep)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,y.ZF)(this.element),(0,a.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,a.oL)(t,u.Z.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(m,t)},e.prototype.setMap=function(t){this.set(x,t)},e.prototype.setOffset=function(t){this.set(E,t)},e.prototype.setPosition=function(t){this.set(C,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get(C)){var i=this.getRect(e.getTargetElement(),e.getSize()),n=this.getElement(),o=this.getRect(n,[(0,y.iO)(n),(0,y.Pb)(n)]),r=t||{},s=void 0===r.margin?20:r.margin;if(!(0,g.r4)(i,o)){var a=o[0]-i[0],l=i[2]-o[2],h=o[1]-i[1],u=i[3]-o[3],c=[0,0];if(a<0?c[0]=a-s:l<0&&(c[0]=Math.abs(l)+s),h<0?c[1]=h-s:u<0&&(c[1]=Math.abs(u)+s),0!==c[0]||0!==c[1]){var p=e.getView().getCenterInternal(),f=e.getPixelFromCoordinateInternal(p);if(!f)return;var d=[f[0]+c[0],f[1]+c[1]],_=r.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(d),duration:_.duration,easing:_.easing})}}}},e.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(S,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,n=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var r=Math.round(t[0]+n[0])+"px",s=Math.round(t[1]+n[1])+"px",a="0%",l="0%";o==p||o==d||"top-right"==o?a="-100%":o!=c&&o!=f&&"top-center"!=o||(a="-50%"),"bottom-left"==o||o==c||o==p?l="-100%":"center-left"!=o&&o!=f&&o!=d||(l="-50%");var h="translate("+a+", "+l+") translate("+r+", "+s+")";this.rendered.transform_!=h&&(this.rendered.transform_=h,i.transform=h,i.msTransform=h)},e.prototype.getOptions=function(){return this.options},e}(o.ZP);var w=i(8185),T=i(8288),b=i(596);const I=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=(0,b.Pq)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new w.Z({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:T.Z.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=(0,b.Pq)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();var P=i(1219),R=i(9797),L=i(767),M=i(2043),A=i(1964),F=i(8795),Z=i(9882);const D={primary:"#ff1493",secondary:"#ffff00"};class k extends h{constructor({name:t,location:e,info:i=null,infoHTML:n="",color:o={}}){super({type:F.Z.POINT,geometry:new M.Z((0,A.mi)(e)),name:t}),this.popup=null,this.handleChange=t=>{switch(t.key){case"location":this.popup.setPosition((0,A.mi)(this.get("location")));break;case"info":this.popup.setElement(this.get("info"))}},this.set("location",e),this.set("info",i||function(t=""){return Object.assign(document.createElement("div"),{className:"info",innerHTML:t})}(n)),this.set("color",Object.assign(Object.assign({},D),o)),this.on("propertychange",this.handleChange),this.popup=this.initPopup()}get hasInfo(){return""!==this.popup.getElement().innerHTML.trim()}showInfo(t){this.hasInfo&&t.addOverlay(this.popup)}hideInfo(t){t.removeOverlay(this.popup)}toggleInfo(t,e){return e?this.showInfo(t):this.hideInfo(t)}toJSON(){return{name:this.get("name"),location:this.get("location"),infoHTML:(t=this.get("info").innerHTML,t.trim().replace(/\s+/g," ")),color:(0,Z.v)(this.get("color"),((t,e)=>e.toLowerCase()!==D[t]))};var t}initPopup(){return this.popup&&this.popup.dispose(),new O({element:this.get("info"),position:(0,A.mi)(this.get("location")),positioning:"center-left",offset:[20,0],autoPan:{animation:{duration:200}}})}}function j(t,e=!1){const i=t.get("color");return new P.ZP({image:new R.Z(Object.assign({radius:10,fill:new w.Z({color:e?i.secondary:i.primary})},e?{stroke:new L.Z({color:i.primary,width:3})}:{})),text:new I({text:t.get("name"),textAlign:"top",backgroundFill:new w.Z({color:"white"}),padding:[4,4,4,4],offsetY:25})})}},9882:(t,e,i)=>{"use strict";function n(t,e){return Object.entries(t).reduce(((t,[i,n])=>Object.assign(Object.assign({},t),e(i,n)?{[i]:n}:{})),{})}i.d(e,{v:()=>n})}},r={};function s(t){if(r[t])return r[t].exports;var e=r[t]={exports:{}};return o[t].call(e.exports,e,e.exports,s),e.exports}s.m=o,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,i)=>(s.f[i](t,e),e)),[])),s.u=t=>t+".js",s.miniCssF=t=>t+".css",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="map-markers:",s.l=(i,n,o,r)=>{if(t[i])t[i].push(n);else{var a,l;if(void 0!==o)for(var h=document.getElementsByTagName("script"),u=0;u<h.length;u++){var c=h[u];if(c.getAttribute("src")==i||c.getAttribute("data-webpack")==e+o){a=c;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",e+o),a.src=i),t[i]=[n];var p=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var o=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(n))),e)return e(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),i=t=>new Promise(((e,i)=>{var n=s.miniCssF(t),o=s.p+n;if(((t,e)=>{for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var o=(s=i[n]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===t||o===e))return s}var r=document.getElementsByTagName("style");for(n=0;n<r.length;n++){var s;if((o=(s=r[n]).getAttribute("data-href"))===t||o===e)return s}})(n,o))return e();((t,e,i,n)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=r=>{if(o.onerror=o.onload=null,"load"===r.type)i();else{var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,o.parentNode.removeChild(o),n(l)}},o.href=e,document.head.appendChild(o)})(t,o,e,i)})),n={179:0},s.f.miniCss=(t,e)=>{n[t]?e.push(n[t]):0!==n[t]&&{301:1}[t]&&e.push(n[t]=i(t).then((()=>{n[t]=0}),(e=>{throw delete n[t],e})))},(()=>{var t={179:0};s.f.j=(e,i)=>{var n=s.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var o=new Promise(((i,o)=>{n=t[e]=[i,o]}));i.push(n[2]=o);var r=s.p+s.u(e),a=new Error;s.l(r,(i=>{if(s.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,n[1](a)}}),"chunk-"+e,e)}};var e=(e,i)=>{for(var n,o,[r,a,l]=i,h=0,u=[];h<r.length;h++)o=r[h],s.o(t,o)&&t[o]&&u.push(t[o][0]),t[o]=0;for(n in a)s.o(a,n)&&(s.m[n]=a[n]);for(l&&l(s),e&&e(i);u.length;)u.shift()()},i=self.webpackChunkmap_markers=self.webpackChunkmap_markers||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t=s(967),e=s(4011),i=s(9179),n=s(2359),o=s(1915),r=s(8913);function a(t,e,i){return e+":"+t+":"+(i?(0,r.XC)(i):"null")}var l=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,i){var n=a(t,e,i);return n in this.cache_?this.cache_[n]:null},t.prototype.set=function(t,e,i,n){var o=a(t,e,i);this.cache_[o]=n,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}()),h=s(8493);const u="opacity",c="visible",p="extent",f="zIndex",d="maxResolution",_="minResolution",g="maxZoom",y="minZoom",v="source";var m,x=s(8906),E=s(3580),C=s(1882),S=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const O=function(t){function e(e){var i=t.call(this)||this,n=(0,E.f0)({},e);return n.opacity=void 0!==e.opacity?e.opacity:1,(0,x.h)("number"==typeof n.opacity,64),n.visible=void 0===e.visible||e.visible,n.zIndex=e.zIndex,n.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,n.minResolution=void 0!==e.minResolution?e.minResolution:0,n.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,n.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,i.className_=void 0!==n.className?e.className:"ol-layer",delete n.className,i.setProperties(n),i.state_=null,i}return S(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},i=this.getZIndex();return e.opacity=(0,C.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==i?i:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return(0,i.O3)()},e.prototype.getLayerStatesArray=function(t){return(0,i.O3)()},e.prototype.getExtent=function(){return this.get(p)},e.prototype.getMaxResolution=function(){return this.get(d)},e.prototype.getMinResolution=function(){return this.get(_)},e.prototype.getMinZoom=function(){return this.get(y)},e.prototype.getMaxZoom=function(){return this.get(g)},e.prototype.getOpacity=function(){return this.get(u)},e.prototype.getSourceState=function(){return(0,i.O3)()},e.prototype.getVisible=function(){return this.get(c)},e.prototype.getZIndex=function(){return this.get(f)},e.prototype.setExtent=function(t){this.set(p,t)},e.prototype.setMaxResolution=function(t){this.set(d,t)},e.prototype.setMinResolution=function(t){this.set(_,t)},e.prototype.setMaxZoom=function(t){this.set(g,t)},e.prototype.setMinZoom=function(t){this.set(y,t)},e.prototype.setOpacity=function(t){(0,x.h)("number"==typeof t,64),this.set(u,t)},e.prototype.setVisible=function(t){this.set(c,t)},e.prototype.setZIndex=function(t){this.set(f,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(h.ZP);var w=s(3381);const T="precompose",b="rendercomplete",I="undefined",P="ready";var R=s(3002),L=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function M(t,e){if(!t.visible)return!1;var i=e.resolution;if(i<t.minResolution||i>=t.maxResolution)return!1;var n=e.zoom;return n>t.minZoom&&n<=t.maxZoom}const A=function(t){function e(e){var i=this,n=(0,E.f0)({},e);delete n.source,(i=t.call(this,n)||this).mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,e.render&&(i.render=e.render),e.map&&i.setMap(e.map),i.addEventListener((0,h.v_)(v),i.handleSourcePropertyChange_);var o=e.source?e.source:null;return i.setSource(o),i}return L(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(v)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():I},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,R.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,R.oL)(t,w.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var i=this.getRenderer();if(i.prepareFrame(t))return i.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,R.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,R.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,R.oL)(t,T,(function(t){var e=t.frameState.layerStatesArray,i=this.getLayerState(!1);(0,x.h)(!e.some((function(t){return t.layer===i.layer})),67),e.push(i)}),this),this.mapRenderKey_=(0,R.oL)(this,w.Z.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(v,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(O);function F(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function Z(t,e){var i=Math.cos(e),n=Math.sin(e),o=t[0]*i-t[1]*n,r=t[1]*i+t[0]*n;return t[0]=o,t[1]=r,t}function D(t,e){if(e.canWrapX()){var i=(0,o.dz)(e.getExtent()),n=function(t,e,i){var n=e.getExtent(),r=0;if(e.canWrapX()&&(t[0]<n[0]||t[0]>n[2])){var s=i||(0,o.dz)(n);r=Math.floor((t[0]-n[0])/s)}return r}(t,e,i);n&&(t[0]-=n*i)}return t}var k=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function j(t,e){l.expire()}const N=function(t){function r(e){var i=t.call(this)||this;return i.map_=e,i}return k(r,t),r.prototype.dispatchRenderEvent=function(t,e){(0,i.O3)()},r.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;(0,n.qC)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,n.nb)(o,i)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,s,a,l){var h,u=e.viewState;function c(t,e,i,n){return r.call(s,e,t?i:null,n)}var p=u.projection,f=D(t.slice(),p),d=[[0,0]];if(p.canWrapX()&&n){var _=p.getExtent(),g=(0,o.dz)(_);d.push([-g,0],[g,0])}for(var y=e.layerStatesArray,v=y.length,m=[],x=[],E=0;E<d.length;E++)for(var C=v-1;C>=0;--C){var S=y[C],O=S.layer;if(O.hasRenderer()&&M(S,u)&&a.call(l,O)){var w=O.getRenderer(),T=O.getSource();if(w&&T){var b=T.getWrapX()?f:t,I=c.bind(null,S.managed);x[0]=b[0]+d[E][0],x[1]=b[1]+d[E][1],h=w.forEachFeatureAtCoordinate(x,e,i,I,m)}if(h)return h}}if(0!==m.length){var P=1/m.length;return m.forEach((function(t,e){return t.distanceSq+=e*P})),m.sort((function(t,e){return t.distanceSq-e.distanceSq})),m.some((function(t){return h=t.callback(t.feature,t.layer,t.geometry)})),h}},r.prototype.forEachLayerAtPixel=function(t,e,n,o,r){return(0,i.O3)()},r.prototype.hasFeatureAtCoordinate=function(t,i,n,o,r,s){return void 0!==this.forEachFeatureAtCoordinate(t,i,n,o,e.uX,this,r,s)},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(t){(0,i.O3)()},r.prototype.scheduleExpireIconCache=function(t){l.canExpireCache()&&t.postRenderFunctions.push(j)},r}(t.Z);var G=s(3910),z=s(9520),W=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Y=function(t){function e(e,i,n,o){var r=t.call(this,e)||this;return r.inversePixelTransform=i,r.frameState=n,r.context=o,r}return W(e,t),e}(z.ZP);var X=s(7644),K=s(8509),B=s(5386),V=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const U=function(t){function e(e){var i=t.call(this,e)||this;i.fontChangeListenerKey_=(0,R.oL)(K.sG,G.Z.PROPERTYCHANGE,e.redrawText.bind(e)),i.element_=document.createElement("div");var n=i.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",i.element_.className=X.XV+" ol-layers";var o=e.getViewport();return o.insertBefore(i.element_,o.firstChild||null),i.children_=[],i.renderedVisible_=!0,i}return V(e,t),e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();if(i.hasListener(t)){var n=new Y(t,void 0,e);i.dispatchEvent(n)}},e.prototype.disposeInternal=function(){(0,R.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(T,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),i=t.viewState;this.children_.length=0;for(var n=[],o=null,r=0,s=e.length;r<s;++r){var a=e[r];if(t.layerIndex=r,M(a,i)&&(a.sourceState==P||a.sourceState==I)){var l=a.layer,h=l.render(t,o);h&&(h!==o&&(this.children_.push(h),o=h),"getDeclutter"in l&&n.push(l))}}for(r=n.length-1;r>=0;--r)n[r].renderDeclutter(t);(0,B.hF)(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,n,o){for(var r=e.viewState,s=e.layerStatesArray,a=s.length-1;a>=0;--a){var l=s[a],h=l.layer;if(h.hasRenderer()&&M(l,r)&&o(h)){var u=h.getRenderer().getDataAtPixel(t,e,i);if(u){var c=n(h,u);if(c)return c}}}},e}(N);var q=s(8426),H=s(9629),J=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$="layers";const Q=function(t){function e(e){var i=this,n=e||{},o=(0,E.f0)({},n);delete o.layers;var r=n.layers;return(i=t.call(this,o)||this).layersListenerKeys_=[],i.listenerKeys_={},i.addEventListener((0,h.v_)($),i.handleLayersChanged_),r?Array.isArray(r)?r=new q.Z(r.slice(),{unique:!0}):(0,x.h)("function"==typeof r.getArray,43):r=new q.Z(void 0,{unique:!0}),i.setLayers(r),i}return J(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(R.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,R.oL)(t,H.Z.ADD,this.handleLayersAdd_,this),(0,R.oL)(t,H.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(R.bN);(0,E.ZH)(this.listenerKeys_);for(var n=t.getArray(),o=0,r=n.length;o<r;o++){var s=n[o];this.listenerKeys_[(0,i.sq)(s)]=[(0,R.oL)(s,G.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,R.oL)(s,w.Z.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,i.sq)(e)]=[(0,R.oL)(e,G.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,R.oL)(e,w.Z.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=(0,i.sq)(e);this.listenerKeys_[n].forEach(R.bN),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get($)},e.prototype.setLayers=function(t){this.set($,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var n=this.getLayerState(),r=i,s=e.length;r<s;r++){var a=e[r];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),a.minZoom=Math.max(a.minZoom,n.minZoom),a.maxZoom=Math.min(a.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==a.extent?a.extent=(0,o.Ed)(a.extent,n.extent):a.extent=n.extent)}return e},e.prototype.getSourceState=function(){return P},e}(O);var tt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const et=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.map=i,o.frameState=void 0!==n?n:null,o}return tt(e,t),e}(z.ZP);var it=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const nt=function(t){function e(e,i,n,o,r){var s=t.call(this,e,i,r)||this;return s.originalEvent=n,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==o&&o,s}return it(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(et);var ot=s(6575),rt=s(6);const st="pointerdown";var at=s(1358),lt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ht=function(t){function e(e,i){var n=t.call(this,e)||this;n.map_=e,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=i?i*at.MP:at.MP,n.down_=null;var o=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=o,n.pointerdownListenerKey_=(0,R.oL)(o,st,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=(0,R.oL)(o,"pointermove",n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(w.Z.TOUCHMOVE,n.boundHandleTouchMove_,!!at.bM&&{passive:!1}),n}return lt(e,t),e.prototype.emulateClick_=function(t){var e=new nt(rt.Z.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new nt(rt.Z.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new nt(rt.Z.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==rt.Z.POINTERUP||e.type==rt.Z.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==rt.Z.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new nt(rt.Z.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(R.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new nt(rt.Z.POINTERDOWN,this.map_,t);if(this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,R.oL)(i,rt.Z.POINTERMOVE,this.handlePointerMove_,this),(0,R.oL)(i,rt.Z.POINTERUP,this.handlePointerUp_,this),(0,R.oL)(this.element_,rt.Z.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push((0,R.oL)(this.element_.getRootNode(),rt.Z.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new nt(rt.Z.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new nt(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,R.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(w.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,R.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(R.bN),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(ot.Z);var ut=s(188);const ct="layergroup",pt="size",ft="target",dt="view";var _t=1/0;const gt=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,E.ZH)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},t.prototype.enqueue=function(t){(0,x.h)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=_t&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,o=e[t],r=i[t],s=t;t<n>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),h=l<n&&i[l]<i[a]?l:a;e[t]=e[h],i[t]=i[h],t=h}e[t]=o,i[t]=r,this.siftDown_(s,t)},t.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,o=i[e],r=n[e];e>t;){var s=this.getParentIndex_(e);if(!(n[s]>r))break;i[e]=i[s],n[e]=n[s],e=s}i[e]=o,n[e]=r},t.prototype.reprioritize=function(){var t,e,i,n=this.priorityFunction_,o=this.elements_,r=this.priorities_,s=0,a=o.length;for(e=0;e<a;++e)(i=n(t=o[e]))==_t?delete this.queuedElements_[this.keyFunction_(t)]:(r[s]=i,o[s++]=t);o.length=s,r.length=s,this.heapify_()},t}();var yt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const vt=function(t){function e(e,i){var n=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=i,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return yt(e,t),e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);return i&&e[0].addEventListener(w.Z.CHANGE,this.boundHandleTileChange_),i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(e.hifi&&2===i||3===i||4===i){e.removeEventListener(w.Z.CHANGE,this.boundHandleTileChange_);var n=e.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,n,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)n=(i=this.dequeue()[0]).getKey(),0!==i.getState()||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++o,i.load())},e}(gt);var mt=s(8795),xt=s(868);const Et="center",Ct="resolution",St="rotation";var Ot=s(1964);function wt(t,e,i){return function(n,o,r,s,a){if(n){var l=e?0:r[0]*o,h=e?0:r[1]*o,u=a?a[0]:0,c=a?a[1]:0,p=t[0]+l/2+u,f=t[2]-l/2+u,d=t[1]+h/2+c,_=t[3]-h/2+c;p>f&&(f=p=(f+p)/2),d>_&&(_=d=(_+d)/2);var g=(0,C.uZ)(n[0],p,f),y=(0,C.uZ)(n[1],d,_),v=30*o;return s&&i&&(g+=-v*Math.log(1+Math.max(0,p-n[0])/v)+v*Math.log(1+Math.max(0,n[0]-f)/v),y+=-v*Math.log(1+Math.max(0,d-n[1])/v)+v*Math.log(1+Math.max(0,n[1]-_)/v)),[g,y]}}}function Tt(t){return t}var bt=s(9682);function It(t,e,i,n){var r=(0,o.dz)(e)/i[0],s=(0,o.Cr)(e)/i[1];return n?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function Pt(t,e,i){var n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/t-1))/50+1),(0,C.uZ)(n,i/2,2*e)}function Rt(t,e,i,n,o){return function(r,s,a,l){if(void 0!==r){var h=n?It(t,n,a,o):t;return(void 0===i||i)&&l?Pt(r,h,e):(0,C.uZ)(r,e,h)}}}function Lt(t){return void 0!==t?0:void 0}function Mt(t){return void 0!==t?t:void 0}var At=s(6320),Ft=s(3696),Zt=s(4759);function Dt(t,e,i,n,o,r,s){var a,l=t[e],h=t[e+1],u=t[i]-l,c=t[i+1]-h;if(0===u&&0===c)a=e;else{var p=((o-l)*u+(r-h)*c)/(u*u+c*c);if(p>1)a=i;else{if(p>0){for(var f=0;f<n;++f)s[f]=(0,C.t7)(t[e+f],t[i+f],p);return void(s.length=n)}a=e}}for(f=0;f<n;++f)s[f]=t[a+f];s.length=n}function kt(t,e,i,n,o){var r=t[e],s=t[e+1];for(e+=n;e<i;e+=n){var a=t[e],l=t[e+1],h=(0,C.bI)(r,s,a,l);h>o&&(o=h),r=a,s=l}return o}function jt(t,e,i,n,o,r,s,a,l,h,u){if(e==i)return h;var c,p;if(0===o){if((p=(0,C.bI)(s,a,t[e],t[e+1]))<h){for(c=0;c<n;++c)l[c]=t[e+c];return l.length=n,p}return h}for(var f=u||[NaN,NaN],d=e+n;d<i;)if(Dt(t,d-n,d,n,s,a,f),(p=(0,C.bI)(s,a,f[0],f[1]))<h){for(h=p,c=0;c<n;++c)l[c]=f[c];l.length=n,d+=n}else d+=n*Math.max((Math.sqrt(p)-Math.sqrt(h))/o|0,1);if(r&&(Dt(t,i-n,e,n,s,a,f),(p=(0,C.bI)(s,a,f[0],f[1]))<h)){for(h=p,c=0;c<n;++c)l[c]=f[c];l.length=n}return h}var Nt=s(8667);function Gt(t,e){return e*Math.round(t/e)}function zt(t,e,i,n,o,r,s){if(e==i)return s;var a,l,h=Gt(t[e],o),u=Gt(t[e+1],o);e+=n,r[s++]=h,r[s++]=u;do{if(a=Gt(t[e],o),l=Gt(t[e+1],o),(e+=n)==i)return r[s++]=a,r[s++]=l,s}while(a==h&&l==u);for(;e<i;){var c=Gt(t[e],o),p=Gt(t[e+1],o);if(e+=n,c!=a||p!=l){var f=a-h,d=l-u,_=c-h,g=p-u;f*g==d*_&&(f<0&&_<f||f==_||f>0&&_>f)&&(d<0&&g<d||d==g||d>0&&g>d)?(a=c,l=p):(r[s++]=a,r[s++]=l,h=a,u=l,a=c,l=p)}}return r[s++]=a,r[s++]=l,s}function Wt(t,e,i,n,o){for(var r=void 0!==o?o:[],s=0,a=e;a<i;a+=n)r[s++]=t.slice(a,a+n);return r.length=s,r}function Yt(t,e,i,n,o){for(var r=void 0!==o?o:[],s=0,a=0,l=i.length;a<l;++a){var h=i[a];r[s++]=Wt(t,e,h,n,r[s]),e=h}return r.length=s,r}function Xt(t,e,i,n,o){for(var r=void 0!==o?o:[],s=0,a=0,l=i.length;a<l;++a){var h=i[a];r[s++]=Yt(t,e,h,n,r[s]),e=h[h.length-1]}return r.length=s,r}function Kt(t,e,i,n){for(var o=0,r=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],l=t[e+1];o+=s*a-r*l,r=a,s=l}return o/2}var Bt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Vt=function(t){function e(e,i){var n=t.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?n.setCoordinates(e,i):n.setFlatCoordinates(i,e),n}return Bt(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<(0,o.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.getArea=function(){return Kt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Wt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=function(t,e,i,n,o,r,s){var a=(i-e)/n;if(a<3){for(;e<i;e+=n)r[s++]=t[e],r[s++]=t[e+1];return s}var l=new Array(a);l[0]=1,l[a-1]=1;for(var h=[e,i-n],u=0;h.length>0;){for(var c=h.pop(),p=h.pop(),f=0,d=t[p],_=t[p+1],g=t[c],y=t[c+1],v=p+n;v<c;v+=n){var m=t[v],x=t[v+1],E=(0,C.rU)(m,x,d,_,g,y);E>f&&(u=v,f=E)}f>o&&(l[(u-e)/n]=1,p+n<u&&h.push(p,u),u+n<c&&h.push(u,c))}for(v=0;v<a;++v)l[v]&&(r[s++]=t[e+v*n],r[s++]=t[e+v*n+1]);return s}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,Ft.Z.XY)},e.prototype.getType=function(){return mt.Z.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,Nt.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Zt.ZP);var Ut=s(2043);function qt(t,e,i,n,r){return!(0,o.H6)(r,(function(o){return!Ht(t,e,i,n,o[0],o[1])}))}function Ht(t,e,i,n,o,r){for(var s=0,a=t[i-n],l=t[i-n+1];e<i;e+=n){var h=t[e],u=t[e+1];l<=r?u>r&&(h-a)*(r-l)-(o-a)*(u-l)>0&&s++:u<=r&&(h-a)*(r-l)-(o-a)*(u-l)<0&&s--,a=h,l=u}return 0!==s}function Jt(t,e,i,n,o,r){if(0===i.length)return!1;if(!Ht(t,e,i[0],n,o,r))return!1;for(var s=1,a=i.length;s<a;++s)if(Ht(t,i[s-1],i[s],n,o,r))return!1;return!0}function $t(t,e,i,n,r){var s=(0,o.qP)((0,o.lJ)(),t,e,i,n);return!!(0,o.kK)(r,s)&&(!!(0,o.r4)(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]||function(t,e,i,n,o){for(var r,s=[t[e],t[e+1]],a=[];e+n<i;e+=n){if(a[0]=t[e+n],a[1]=t[e+n+1],r=o(s,a))return r;s[0]=a[0],s[1]=a[1]}return!1}(t,e,i,n,(function(t,e){return(0,o.I7)(r,t,e)})))}function Qt(t,e,i,n){for(;e<i-n;){for(var o=0;o<n;++o){var r=t[e+o];t[e+o]=t[i-n+o],t[i-n+o]=r}e+=n,i-=n}}function te(t,e,i,n){for(var o=0,r=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],l=t[e+1];o+=(a-r)*(l+s),r=a,s=l}return 0===o?void 0:o>0}function ee(t,e,i,n,o){for(var r=void 0!==o&&o,s=0,a=i.length;s<a;++s){var l=i[s],h=te(t,e,l,n);(0===s?r&&h||!r&&!h:r&&!h||!r&&h)&&Qt(t,e,l,n),e=l}return e}var ie=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ne=function(t){function e(e,i,n){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==i&&n?(o.setFlatCoordinates(i,e),o.ends_=n):o.setCoordinates(e,i),o}return ie(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,bt.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,n){return n<(0,o.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,i,n,o){for(var r=0,s=i.length;r<s;++r){var a=i[r];o=kt(t,e,a,n,o),e=a}return o}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,i,n,o,r,s,a,l,h,u){for(var c=u||[NaN,NaN],p=0,f=i.length;p<f;++p){var d=i[p];h=jt(t,e,d,n,o,r,s,a,l,h,c),e=d}return h}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return Jt(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,i,n){for(var o=0,r=0,s=i.length;r<s;++r){var a=i[r];o+=Kt(t,e,a,n),e=a}return o}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?ee(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Yt(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,o.qg)(this.getExtent());this.flatInteriorPoint_=function(t,e,i,n,o,r,s){for(var a,l,h,u,c,p,f,d=o[r+1],_=[],g=0,y=i.length;g<y;++g){var v=i[g];for(u=t[v-n],p=t[v-n+1],a=e;a<v;a+=n)c=t[a],f=t[a+1],(d<=p&&f<=d||p<=d&&d<=f)&&(h=(d-p)/(f-p)*(c-u)+u,_.push(h)),u=c,p=f}var m=NaN,x=-1/0;for(_.sort(bt.kK),u=_[0],a=1,l=_.length;a<l;++a){c=_[a];var E=Math.abs(c-u);E>x&&Jt(t,e,i,n,h=(u+c)/2,d)&&(m=h,x=E),u=c}return isNaN(m)&&(m=o[r]),s?(s.push(m,d,x),s):[m,d,x]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Ut.Z(this.getFlatInteriorPoint(),Ft.Z.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Vt(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],o=0,r=0,s=i.length;r<s;++r){var a=i[r],l=new Vt(e.slice(o,a),t);n.push(l),o=a}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,i,n,o){for(var r=void 0!==o&&o,s=0,a=i.length;s<a;++s){var l=i[s],h=te(t,e,l,n);if(0===s){if(r&&h||!r&&!h)return!1}else if(r&&!h||!r&&h)return!1;e=l}return!0}(t,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ee(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=function(t,e,i,n,o,r,s,a){for(var l=0,h=i.length;l<h;++l){var u=i[l];s=zt(t,e,u,n,o,r,s),a.push(s),e=u}return s}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,n),new e(i,Ft.Z.XY,n)},e.prototype.getType=function(){return mt.Z.POLYGON},e.prototype.intersectsExtent=function(t){return function(t,e,i,n,o){if(!function(t,e,i,n,o){return!!($t(t,e,i,n,o)||Ht(t,e,i,n,o[0],o[1])||Ht(t,e,i,n,o[0],o[3])||Ht(t,e,i,n,o[2],o[1])||Ht(t,e,i,n,o[2],o[3]))}(t,e,i[0],n,o))return!1;if(1===i.length)return!0;for(var r=1,s=i.length;r<s;++r)if(qt(t,i[r-1],i[r],n,o)&&!$t(t,i[r-1],i[r],n,o))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,Nt._5)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(Zt.ZP);const oe=ne;function re(t){var e=t[0],i=t[1],n=t[2],o=t[3],r=[e,i,e,o,n,o,n,i,e,i];return new ne(r,Ft.Z.XY,[r.length])}var se=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function ae(t,e){setTimeout((function(){t(e)}),0)}function le(t){return!(t.sourceCenter&&t.targetCenter&&!F(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function he(t,e,i,n,o){var r=Math.cos(-o),s=Math.sin(-o),a=t[0]*r-t[1]*s,l=t[1]*r+t[0]*s;return[(a+=(e[0]/2-i[0])*n)*r-(l+=(i[1]-e[1]/2)*n)*(s=-s),l*r+a*s]}const ue=function(t){function i(e){var i=t.call(this)||this,n=(0,E.f0)({},e);return i.hints_=[0,0],i.animations_=[],i.updateAnimationKey_,i.projection_=(0,Ot.UQ)(n.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.targetResolution_,i.targetRotation_,i.cancelAnchor_=void 0,n.center&&(n.center=(0,Ot.Vs)(n.center,i.projection_)),n.extent&&(n.extent=(0,Ot.dY)(n.extent,i.projection_)),i.applyOptions_(n),i}return se(i,t),i.prototype.applyOptions_=function(t){var e=function(t){var e,i,n,r=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,h=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=void 0!==t.showFullExtent&&t.showFullExtent,c=(0,Ot.UQ)(t.projection,"EPSG:3857"),p=c.getExtent(),f=t.constrainOnlyCenter,d=t.extent;if(l||d||!c.isGlobal()||(f=!1,d=p),void 0!==t.resolutions){var _=t.resolutions;i=_[r],n=void 0!==_[s]?_[s]:_[_.length-1],e=t.constrainResolution?function(t,e,i,n){return function(o,r,s,a){if(void 0!==o){var l=t[0],h=t[t.length-1],u=i?It(l,i,s,n):l;if(a)return void 0===e||e?Pt(o,u,h):(0,C.uZ)(o,h,u);var c=Math.min(u,o),p=Math.floor((0,bt.h7)(t,c,r));return t[p]>u&&p<t.length-1?t[p+1]:t[p]}}}(_,h,!f&&d,u):Rt(i,n,h,!f&&d,u)}else{var g=(p?Math.max((0,o.dz)(p),(0,o.Cr)(p)):360*Ot.Wm[xt.Z.DEGREES]/c.getMetersPerUnit())/256/Math.pow(2,0),y=g/Math.pow(2,28);void 0!==(i=t.maxResolution)?r=0:i=g/Math.pow(a,r),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(a,s):g/Math.pow(a,s):y),s=r+Math.floor(Math.log(i/n)/Math.log(a)),n=i/Math.pow(a,s-r),e=t.constrainResolution?function(t,e,i,n,o,r){return function(s,a,l,h){if(void 0!==s){var u=o?It(e,o,l,r):e,c=void 0!==i?i:0;if(h)return void 0===n||n?Pt(s,u,c):(0,C.uZ)(s,c,u);var p=Math.ceil(Math.log(e/u)/Math.log(t)-1e-9),f=-a*(.5-1e-9)+.5,d=Math.min(u,s),_=Math.floor(Math.log(e/d)/Math.log(t)+f),g=Math.max(p,_),y=e/Math.pow(t,g);return(0,C.uZ)(y,c,u)}}}(a,i,n,h,!f&&d,u):Rt(i,n,h,!f&&d,u)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:r,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding=t.padding,this.minZoom_=e.minZoom;var i=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return wt(t.extent,t.constrainOnlyCenter,e)}var i=(0,Ot.UQ)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&i.isGlobal()){var n=i.getExtent().slice();return n[0]=-1/0,n[2]=1/0,wt(n,!1,!1)}return Tt}(t),n=e.constraint,r=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=(0,C.Yr)(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=o?0:t:void 0}):!1===e?Mt:"number"==typeof e?(i=e,n=2*Math.PI/i,function(t,e){return e?t:void 0!==t?t=Math.floor(t/n+.5)*n:void 0}):Mt}return Lt;var i,n,o}(t);this.constraints_={center:i,resolution:n,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},i.prototype.getUpdatedOptions_=function(t){var e=(0,E.f0)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),(0,E.f0)({},e,t)},i.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),i=0;i<e.length;++i){var n=arguments[i];n.center&&((n=(0,E.f0)({},n)).center=(0,Ot.Vs)(n.center,this.getProjection())),n.anchor&&((n=(0,E.f0)({},n)).anchor=(0,Ot.Vs)(n.anchor,this.getProjection())),e[i]=n}this.animateInternal.apply(this,e)},i.prototype.animateInternal=function(t){var e,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenterInternal(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&ae(e,!0))}for(var o=Date.now(),r=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_,l=[],h=0;h<i;++h){var u=arguments[h],c={start:o,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||At.rd,callback:e};if(u.center&&(c.sourceCenter=r,c.targetCenter=u.center.slice(),r=c.targetCenter),void 0!==u.zoom?(c.sourceResolution=s,c.targetResolution=this.getResolutionForZoom(u.zoom),s=c.targetResolution):u.resolution&&(c.sourceResolution=s,c.targetResolution=u.resolution,s=c.targetResolution),void 0!==u.rotation){c.sourceRotation=a;var p=(0,C.$W)(u.rotation-a+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=a+p,a=c.targetRotation}le(c)?c.complete=!0:o+=c.duration,l.push(c)}this.animations_.push(l),this.setHint(0,1),this.updateAnimations_()},i.prototype.getAnimating=function(){return this.hints_[0]>0},i.prototype.getInteracting=function(){return this.hints_[1]>0},i.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,i=this.animations_.length;e<i;++e){var n=this.animations_[e];if(n[0].callback&&ae(n[0].callback,!1),!t)for(var o=0,r=n.length;o<r;++o){var s=n[o];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},i.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],o=!0,r=0,s=n.length;r<s;++r){var a=n[r];if(!a.complete){var l=t-a.start,h=a.duration>0?l/a.duration:1;h>=1?(a.complete=!0,h=1):o=!1;var u=a.easing(h);if(a.sourceCenter){var c=a.sourceCenter[0],p=a.sourceCenter[1],f=c+u*(a.targetCenter[0]-c),d=p+u*(a.targetCenter[1]-p);this.targetCenter_=[f,d]}if(a.sourceResolution&&a.targetResolution){var _=1===u?a.targetResolution:a.sourceResolution+u*(a.targetResolution-a.sourceResolution);if(a.anchor){var g=this.getViewportSize_(this.getRotation()),y=this.constraints_.resolution(_,0,g,!0);this.targetCenter_=this.calculateCenterZoom(y,a.anchor)}this.targetResolution_=_,this.applyTargetState_(!0)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var v=1===u?(0,C.$W)(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+u*(a.targetRotation-a.sourceRotation);if(a.anchor){var m=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(m,a.anchor)}this.targetRotation_=v}if(this.applyTargetState_(!0),e=!0,!a.complete)break}}if(o){this.animations_[i]=null,this.setHint(0,-1);var x=n[0].callback;x&&ae(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},i.prototype.calculateCenterRotate=function(t,e){var i,n,o,r=this.getCenterInternal();return void 0!==r&&(Z(i=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),o=e,(n=i)[0]+=+o[0],n[1]+=+o[1]),i},i.prototype.calculateCenterZoom=function(t,e){var i,n=this.getCenterInternal(),o=this.getResolution();return void 0!==n&&void 0!==o&&(i=[e[0]-t*(e[0]-n[0])/o,e[1]-t*(e[1]-n[1])/o]),i},i.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var i=e[0],n=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e},i.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},i.prototype.getCenter=function(){var t=this.getCenterInternal();return t?(0,Ot.lO)(t,this.getProjection()):t},i.prototype.getCenterInternal=function(){return this.get(Et)},i.prototype.getConstraints=function(){return this.constraints_},i.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},i.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},i.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return(0,Ot.Fj)(e,this.getProjection())},i.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),i=this.getCenterInternal();(0,x.h)(i,1);var n=this.getResolution();(0,x.h)(void 0!==n,2);var r=this.getRotation();return(0,x.h)(void 0!==r,3),(0,o.p8)(i,n,r,e)},i.prototype.getMaxResolution=function(){return this.maxResolution_},i.prototype.getMinResolution=function(){return this.minResolution_},i.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},i.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},i.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},i.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},i.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolution=function(){return this.get(Ct)},i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal((0,Ot.dY)(t,this.getProjection()),e)},i.prototype.getResolutionForExtentInternal=function(t,e){var i=e||this.getViewportSize_(),n=(0,o.dz)(t)/i[0],r=(0,o.Cr)(t)/i[1];return Math.max(n,r)},i.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,o=Math.log(i/n)/Math.log(e);return function(t){return i/Math.pow(e,t*o)}},i.prototype.getRotation=function(){return this.get(St)},i.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,o=Math.log(i/n)/e;return function(t){return Math.log(i/t)/e/o}},i.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),i=this.padding;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e},i.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),i=this.getRotation(),n=this.getCenterInternal(),o=this.padding;if(o){var r=this.getViewportSizeMinusPadding_();n=he(n,this.getViewportSize_(),[r[0]/2+o[3],r[1]/2+o[0]],e,i)}return{center:n.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:i,zoom:this.getZoom()}},i.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},i.prototype.getZoomForResolution=function(t){var e,i,n=this.minZoom_||0;if(this.resolutions_){var o=(0,bt.h7)(this.resolutions_,t,1);n=o,e=this.resolutions_[o],i=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)},i.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,C.uZ)(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,(0,C.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},i.prototype.fit=function(t,e){var i;if((0,x.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))(0,x.h)(!(0,o.xb)(t),25),i=re(n=(0,Ot.dY)(t,this.getProjection()));else if(t.getType()===mt.Z.CIRCLE){var n;(i=re(n=(0,Ot.dY)(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),(0,o.qg)(n))}else{var r=(0,Ot.Cs)();i=r?t.clone().transform(r,this.getProjection()):t}this.fitInternal(i,e)},i.prototype.fitInternal=function(t,i){var n=i||{},o=n.size;o||(o=this.getViewportSizeMinusPadding_());var r,s=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var l=t.getFlatCoordinates(),h=this.getRotation(),u=Math.cos(-h),c=Math.sin(-h),p=1/0,f=1/0,d=-1/0,_=-1/0,g=t.getStride(),y=0,v=l.length;y<v;y+=g){var m=l[y]*u-l[y+1]*c,x=l[y]*c+l[y+1]*u;p=Math.min(p,m),f=Math.min(f,x),d=Math.max(d,m),_=Math.max(_,x)}var E=this.getResolutionForExtentInternal([p,f,d,_],[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);E=isNaN(E)?r:Math.max(E,r),E=this.getConstrainedResolution(E,a?0:1),c=-c;var C=(p+d)/2,S=(f+_)/2,O=(C+=(s[1]-s[3])/2*E)*u-(S+=(s[0]-s[2])/2*E)*c,w=S*u+C*c,T=this.getConstrainedCenter([O,w],E),b=n.callback?n.callback:e.Zn;void 0!==n.duration?this.animateInternal({resolution:E,center:T,duration:n.duration,easing:n.easing},b):(this.targetResolution_=E,this.targetCenter_=T,this.applyTargetState_(!1,!0),ae(b,!0))},i.prototype.centerOn=function(t,e,i){this.centerOnInternal((0,Ot.Vs)(t,this.getProjection()),e,i)},i.prototype.centerOnInternal=function(t,e,i){this.setCenterInternal(he(t,e,i,this.getResolution(),this.getRotation()))},i.prototype.calculateCenterShift=function(t,e,i,n){var o,r=this.padding;if(r&&t){var s=this.getViewportSizeMinusPadding_(-i),a=he(t,n,[s[0]/2+r[3],s[1]/2+r[0]],e,i);o=[t[0]-a[0],t[1]-a[1]]}return o},i.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},i.prototype.adjustCenter=function(t){var e=(0,Ot.lO)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},i.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},i.prototype.adjustResolution=function(t,e){var i=e&&(0,Ot.Vs)(e,this.getProjection());this.adjustResolutionInternal(t,i)},i.prototype.adjustResolutionInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,n,i);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},i.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},i.prototype.adjustRotation=function(t,e){e&&(e=(0,Ot.Vs)(e,this.getProjection())),this.adjustRotationInternal(t,e)},i.prototype.adjustRotationInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(n,e)),this.targetRotation_+=t,this.applyTargetState_()},i.prototype.setCenter=function(t){this.setCenterInternal((0,Ot.Vs)(t,this.getProjection()))},i.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},i.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},i.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},i.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},i.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},i.prototype.applyTargetState_=function(t,e){var i=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(n),r=this.constraints_.resolution(this.targetResolution_,0,o,i),s=this.constraints_.center(this.targetCenter_,r,o,i,this.calculateCenterShift(this.targetCenter_,r,n,o));this.get(St)!==n&&this.set(St,n),this.get(Ct)!==r&&this.set(Ct,r),this.get(Et)&&F(this.get(Et),s)||this.set(Et,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},i.prototype.resolveConstraints=function(t,e,i){var n=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,o,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,r,s));if(0===n&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=l,void this.applyTargetState_();var h=i||(0===n?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&F(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:a,duration:n,easing:At.Vv,anchor:h}))},i.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},i.prototype.endInteraction=function(t,e,i){var n=i&&(0,Ot.Vs)(i,this.getProjection());this.endInteractionInternal(t,e,n)},i.prototype.endInteractionInternal=function(t,e,i){this.setHint(1,-1),this.resolveConstraints(t,e,i)},i.prototype.getConstrainedCenter=function(t,e){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)},i.prototype.getConstrainedZoom=function(t,e){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))},i.prototype.getConstrainedResolution=function(t,e){var i=e||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,n)},i}(h.ZP);var ce=s(596),pe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const fe=function(t){function i(e){var i=t.call(this)||this,o=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,n,o,r={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Q({layers:t.layers});return r.layergroup=s,r.target=t.target,r.view=void 0!==t.view?t.view:new ue,void 0!==t.controls&&(Array.isArray(t.controls)?i=new q.Z(t.controls.slice()):((0,x.h)("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?n=new q.Z(t.interactions.slice()):((0,x.h)("function"==typeof t.interactions.getArray,48),n=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new q.Z(t.overlays.slice()):((0,x.h)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new q.Z,{controls:i,interactions:n,keyboardEventTarget:e,overlays:o,values:r}}(e);return i.boundHandleBrowserEvent_=i.handleBrowserEvent.bind(i),i.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,i.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:at.MP,i.postRenderTimeoutHandle_,i.animationDelayKey_,i.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(i),i.coordinateToPixelTransform_=(0,n.Ue)(),i.pixelToCoordinateTransform_=(0,n.Ue)(),i.frameIndex_=0,i.frameState_=null,i.previousExtent_=null,i.viewPropertyListenerKey_=null,i.viewChangeListenerKey_=null,i.layerGroupPropertyListenerKeys_=null,i.viewport_=document.createElement("div"),i.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),i.viewport_.style.position="relative",i.viewport_.style.overflow="hidden",i.viewport_.style.width="100%",i.viewport_.style.height="100%",i.overlayContainer_=document.createElement("div"),i.overlayContainer_.style.position="absolute",i.overlayContainer_.style.zIndex="0",i.overlayContainer_.style.width="100%",i.overlayContainer_.style.height="100%",i.overlayContainer_.style.pointerEvents="none",i.overlayContainer_.className="ol-overlaycontainer",i.viewport_.appendChild(i.overlayContainer_),i.overlayContainerStopEvent_=document.createElement("div"),i.overlayContainerStopEvent_.style.position="absolute",i.overlayContainerStopEvent_.style.zIndex="0",i.overlayContainerStopEvent_.style.width="100%",i.overlayContainerStopEvent_.style.height="100%",i.overlayContainerStopEvent_.style.pointerEvents="none",i.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",i.viewport_.appendChild(i.overlayContainerStopEvent_),i.mapBrowserEventHandler_=null,i.moveTolerance_=e.moveTolerance,i.keyboardEventTarget_=o.keyboardEventTarget,i.keyHandlerKeys_=null,i.controls=o.controls||new q.Z,i.interactions=o.interactions||new q.Z,i.overlays_=o.overlays,i.overlayIdIndex_={},i.renderer_=null,i.handleResize_,i.postRenderFunctions_=[],i.tileQueue_=new vt(i.getTilePriority.bind(i),i.handleTileChange_.bind(i)),i.addEventListener((0,h.v_)(ct),i.handleLayerGroupChanged_),i.addEventListener((0,h.v_)(dt),i.handleViewChanged_),i.addEventListener((0,h.v_)(pt),i.handleSizeChanged_),i.addEventListener((0,h.v_)(ft),i.handleTargetChanged_),i.setProperties(o.values),i.controls.forEach(function(t){t.setMap(this)}.bind(i)),i.controls.addEventListener(H.Z.ADD,function(t){t.element.setMap(this)}.bind(i)),i.controls.addEventListener(H.Z.REMOVE,function(t){t.element.setMap(null)}.bind(i)),i.interactions.forEach(function(t){t.setMap(this)}.bind(i)),i.interactions.addEventListener(H.Z.ADD,function(t){t.element.setMap(this)}.bind(i)),i.interactions.addEventListener(H.Z.REMOVE,function(t){t.element.setMap(null)}.bind(i)),i.overlays_.forEach(i.addOverlayInternal_.bind(i)),i.overlays_.addEventListener(H.Z.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(i)),i.overlays_.addEventListener(H.Z.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(i)),i}return pe(i,t),i.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},i.prototype.addControl=function(t){this.getControls().push(t)},i.prototype.addInteraction=function(t){this.getInteractions().push(t)},i.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},i.prototype.addOverlay=function(t){this.getOverlays().push(t)},i.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},i.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},i.prototype.forEachFeatureAtPixel=function(t,i,n){if(this.frameState_){var o=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,s=void 0!==n.layerFilter?n.layerFilter:e.uX,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,r,a,i,null,s,null)}},i.prototype.getFeaturesAtPixel=function(t,e){var i=[];return this.forEachFeatureAtPixel(t,(function(t){i.push(t)}),e),i},i.prototype.forEachLayerAtPixel=function(t,i,n){if(this.frameState_){var o=n||{},r=void 0!==o.hitTolerance?o.hitTolerance:0,s=o.layerFilter||e.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,i,s)}},i.prototype.hasFeatureAtPixel=function(t,i){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),o=void 0!==(i=void 0!==i?i:{}).layerFilter?i.layerFilter:e.uX,r=void 0!==i.hitTolerance?i.hitTolerance:0,s=!1!==i.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,s,o,null)},i.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},i.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},i.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},i.prototype.getTarget=function(){return this.get(ft)},i.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},i.prototype.getCoordinateFromPixel=function(t){return(0,Ot.lO)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},i.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?(0,n.nn)(e.pixelToCoordinateTransform,t.slice()):null},i.prototype.getControls=function(){return this.controls},i.prototype.getOverlays=function(){return this.overlays_},i.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},i.prototype.getInteractions=function(){return this.interactions},i.prototype.getLayerGroup=function(){return this.get(ct)},i.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},i.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var n=t[e].layer.getSource();if(n&&n.loading)return!0}return!1},i.prototype.getPixelFromCoordinate=function(t){var e=(0,Ot.Vs)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},i.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?(0,n.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null},i.prototype.getRenderer=function(){return this.renderer_},i.prototype.getSize=function(){return this.get(pt)},i.prototype.getView=function(){return this.get(dt)},i.prototype.getViewport=function(){return this.viewport_},i.prototype.getOverlayContainer=function(){return this.overlayContainer_},i.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},i.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},i.prototype.getTilePriority=function(t,e,i,n){return function(t,e,i,n,o){if(!t||!(i in t.wantedTiles))return _t;if(!t.wantedTiles[i][e.getKey()])return _t;var r=t.viewState.center,s=n[0]-r[0],a=n[1]-r[1];return 65536*Math.log(o)+Math.sqrt(s*s+a*a)/o}(this.frameState_,t,e,i,n)},i.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,n=new nt(i,this,t);this.handleMapBrowserEvent(n)},i.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,i=e.type;if(i===st||i===w.Z.WHEEL||i===w.Z.KEYDOWN){var n=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():n,r="host"in o?o.elementFromPoint(e.clientX,e.clientY):e.target;if(this.overlayContainerStopEvent_.contains(r)||!(o===n?n.documentElement:o).contains(r))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var s=this.getInteractions().getArray().slice(),a=s.length-1;a>=0;a--){var l=s[a];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()&&(!l.handleEvent(t)||t.propagationStopped))break}}},i.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,n=i;if(t){var o=t.viewHints;if(o[0]||o[1]){var r=!at.Tp&&Date.now()-t.time>8;i=r?0:8,n=r?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}!t||!this.hasListener(b)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(b,t);for(var s=this.postRenderFunctions_,a=0,l=s.length;a<l;++a)s[a](this,t);s.length=0},i.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},i.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)(0,R.bN)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(w.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(w.Z.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(w.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,B.ZF)(this.viewport_)}if(t){for(var n in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new ht(this,this.moveTolerance_),rt.Z)this.mapBrowserEventHandler_.addEventListener(rt.Z[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(w.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(w.Z.WHEEL,this.boundHandleBrowserEvent_,!!at.bM&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,R.oL)(o,w.Z.KEYDOWN,this.handleBrowserEvent,this),(0,R.oL)(o,w.Z.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(w.Z.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},i.prototype.handleTileChange_=function(){this.render()},i.prototype.handleViewPropertyChanged_=function(){this.render()},i.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,R.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,R.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,R.oL)(t,G.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,R.oL)(t,w.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},i.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(R.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,R.oL)(t,G.Z.PROPERTYCHANGE,this.render,this),(0,R.oL)(t,w.Z.CHANGE,this.render,this)]),this.render()},i.prototype.isRendered=function(){return!!this.frameState_},i.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},i.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},i.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},i.prototype.removeControl=function(t){return this.getControls().remove(t)},i.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},i.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},i.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},i.prototype.renderFrame_=function(t){var e=this,i=this.getSize(),n=this.getView(),r=this.frameState_,s=null;if(void 0!==i&&(0,ce.py)(i)&&n&&n.isDef()){var a=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=n.getState();s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,o.p8)(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:l,viewHints:a,wantedTiles:{}}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!(0,o.xb)(this.previousExtent_)&&!(0,o.fS)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new et(ut.Z.MOVESTART,this,r)),this.previousExtent_=(0,o.YN)(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!(0,o.fS)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new et(ut.Z.MOVEEND,this,s)),(0,o.d9)(s.extent,this.previousExtent_))),this.dispatchEvent(new et(ut.Z.POSTRENDER,this,s)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},i.prototype.setLayerGroup=function(t){this.set(ct,t)},i.prototype.setSize=function(t){this.set(pt,t)},i.prototype.setTarget=function(t){this.set(ft,t)},i.prototype.setView=function(t){this.set(dt,t)},i.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},i.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}},i}(h.ZP);var de=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const _e=function(t){function i(e){var i=t.call(this)||this,n=e.element;return!n||e.target||n.style.pointerEvents||(n.style.pointerEvents="auto"),i.element=n||null,i.target_=null,i.map_=null,i.listenerKeys=[],e.render&&(i.render=e.render),e.target&&i.setTarget(e.target),i}return de(i,t),i.prototype.disposeInternal=function(){(0,B.ZF)(this.element),t.prototype.disposeInternal.call(this)},i.prototype.getMap=function(){return this.map_},i.prototype.setMap=function(t){this.map_&&(0,B.ZF)(this.element);for(var i=0,n=this.listenerKeys.length;i<n;++i)(0,R.bN)(this.listenerKeys[i]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==e.Zn&&this.listenerKeys.push((0,R.oL)(t,ut.Z.POSTRENDER,this.render,this)),t.render())},i.prototype.render=function(t){},i.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},i}(h.ZP);var ge=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ye=function(t){function e(e){var i=this,n=e||{};(i=t.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this).ulElement_=document.createElement("ul"),i.collapsed_=void 0===n.collapsed||n.collapsed,i.userCollapsed_=i.collapsed_,i.overrideCollapsible_=void 0!==n.collapsible,i.collapsible_=void 0===n.collapsible||n.collapsible,i.collapsible_||(i.collapsed_=!1);var o=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",s=void 0!==n.expandClassName?n.expandClassName:o+"-expand",a=void 0!==n.collapseLabel?n.collapseLabel:"»",l=void 0!==n.collapseClassName?n.collapseClassName:o+"-collpase";"string"==typeof a?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=a,i.collapseLabel_.className=l):i.collapseLabel_=a;var h=void 0!==n.label?n.label:"i";"string"==typeof h?(i.label_=document.createElement("span"),i.label_.textContent=h,i.label_.className=s):i.label_=h;var u=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=r,c.appendChild(u),c.addEventListener(w.Z.CLICK,i.handleClick_.bind(i),!1);var p=o+" "+X.XV+" "+X.hg+(i.collapsed_&&i.collapsible_?" "+X.hN:"")+(i.collapsible_?"":" ol-uncollapsible"),f=i.element;return f.className=p,f.appendChild(i.ulElement_),f.appendChild(c),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return ge(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],n=!0,o=t.layerStatesArray,r=0,s=o.length;r<s;++r){var a=o[r];if(M(a,t.viewState)){var l=a.layer.getSource();if(l){var h=l.getAttributions();if(h){var u=h(t);if(u)if(n=n&&!1!==l.getAttributionsCollapsible(),Array.isArray(u))for(var c=0,p=u.length;c<p;++c)u[c]in e||(i.push(u[c]),e[u[c]]=!0);else u in e||(i.push(u),e[u]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(n),i},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,bt.fS)(e,this.renderedAttributions_)){(0,B.ep)(this.ulElement_);for(var n=0,o=e.length;n<o;++n){var r=document.createElement("li");r.innerHTML=e[n],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(X.hN),this.collapsed_?(0,B.$H)(this.collapseLabel_,this.label_):(0,B.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(_e);var ve=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const me=function(t){function e(e){var i=this,n=e||{};i=t.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this;var o=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"⇧",s=void 0!==n.compassClassName?n.compassClassName:"ol-compass";i.label_=null,"string"==typeof r?(i.label_=document.createElement("span"),i.label_.className=s,i.label_.textContent=r):(i.label_=r,i.label_.classList.add(s));var a=n.tipLabel?n.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=a,l.appendChild(i.label_),l.addEventListener(w.Z.CLICK,i.handleClick_.bind(i),!1);var h=o+" "+X.XV+" "+X.hg,u=i.element;return u.className=h,u.appendChild(l),i.callResetNorth_=n.resetNorth?n.resetNorth:void 0,i.duration_=void 0!==n.duration?n.duration:250,i.autoHide_=void 0===n.autoHide||n.autoHide,i.rotation_=void 0,i.autoHide_&&i.element.classList.add(X.oj),i}return ve(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:At.Vv}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(X.oj);o||0!==i?o&&0!==i&&this.element.classList.remove(X.oj):this.element.classList.add(X.oj)}this.label_.style.transform=n}this.rotation_=i}},e}(_e);var xe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ee=function(t){function e(e){var i=this,n=e||{};i=t.call(this,{element:document.createElement("div"),target:n.target})||this;var o=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,s=void 0!==n.zoomInClassName?n.zoomInClassName:o+"-in",a=void 0!==n.zoomOutClassName?n.zoomOutClassName:o+"-out",l=void 0!==n.zoomInLabel?n.zoomInLabel:"+",h=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",u=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",c=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=u,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(w.Z.CLICK,i.handleClick_.bind(i,r),!1);var f=document.createElement("button");f.className=a,f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof h?document.createTextNode(h):h),f.addEventListener(w.Z.CLICK,i.handleClick_.bind(i,-r),!1);var d=o+" "+X.XV+" "+X.hg,_=i.element;return _.className=d,_.appendChild(p),_.appendChild(f),i.duration_=void 0!==n.duration?n.duration:250,i}return xe(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getZoom();if(void 0!==i){var n=e.getConstrainedZoom(i+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:n,duration:this.duration_,easing:At.Vv})):e.setZoom(n)}}},e}(_e);var Ce=s(7588),Se=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Oe=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.delta_=n.delta?n.delta:1,i.duration_=void 0!==n.duration?n.duration:250,i}return Se(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==rt.Z.DBLCLICK){var i=t.originalEvent,n=t.map,o=t.coordinate,r=i.shiftKey?-this.delta_:this.delta_,s=n.getView();(0,Ce.FW)(s,r,o,this.duration_),i.preventDefault(),e=!0}return!e},e}(Ce.ZP);var we=s(8024),Te=s(6403),be=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ie=function(t){function i(i){var n=t.call(this,{stopDown:e.Dv})||this,o=i||{};n.kinetic_=o.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var r=o.condition?o.condition:(0,Te.$6)(Te.rM,Te.Xp);return n.condition_=o.onFocusOnly?(0,Te.$6)(Te.yZ,r):r,n.noKinetic_=!1,n}return be(i,t),i.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,i,n=this.targetPointers,o=(0,we.S)(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],s=t.map.getView();e=r,i=s.getResolution(),e[0]*=i,e[1]*=i,Z(r,s.getRotation()),s.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()},i.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=i.getCenterInternal(),s=e.getPixelFromCoordinateInternal(r),a=e.getCoordinateFromPixelInternal([s[0]-n*Math.cos(o),s[1]-n*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(a),duration:500,easing:At.Vv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},i}(we.Z);var Pe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Re=function(t){function i(i){var n=this,o=i||{};return(n=t.call(this,{stopDown:e.Dv})||this).condition_=o.condition?o.condition:Te.aj,n.lastAngle_=void 0,n.duration_=void 0!==o.duration?o.duration:250,n}return Pe(i,t),i.prototype.handleDragEvent=function(t){if((0,Te.QL)(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==Lt){var n=e.getSize(),o=t.pixel,r=Math.atan2(n[1]/2-o[1],o[0]-n[0]/2);if(void 0!==this.lastAngle_){var s=r-this.lastAngle_;i.adjustRotationInternal(-s)}this.lastAngle_=r}}},i.prototype.handleUpEvent=function(t){return!(0,Te.QL)(t)||(t.map.getView().endInteraction(this.duration_),!1)},i.prototype.handleDownEvent=function(t){return!(!(0,Te.QL)(t)||!(0,Te.v8)(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},i}(we.Z);var Le=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Me=function(t){function e(e){var i=t.call(this)||this;return i.geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return Le(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(t[0],e[0])+i,n.top=Math.min(t[1],e[1])+i,n.width=Math.abs(e[0]-t[0])+i,n.height=Math.abs(e[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new oe([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(t.Z);var Ae=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fe=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.coordinate=i,o.mapBrowserEvent=n,o}return Ae(e,t),e}(z.ZP);const Ze=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.box_=new Me(n.className||"ol-dragbox"),i.minArea_=void 0!==n.minArea?n.minArea:64,n.onBoxEnd&&(i.onBoxEnd=n.onBoxEnd),i.startPixel_=null,i.condition_=n.condition?n.condition:Te.v8,i.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:i.defaultBoxEndCondition,i}return Ae(e,t),e.prototype.defaultBoxEndCondition=function(t,e,i){var n=i[0]-e[0],o=i[1]-e[1];return n*n+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Fe("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Fe(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Fe("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(we.Z);var De=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ke=function(t){function e(e){var i=this,n=e||{},o=n.condition?n.condition:Te.vY;return(i=t.call(this,{condition:o,className:n.className||"ol-dragzoom",minArea:n.minArea})||this).duration_=void 0!==n.duration?n.duration:200,i.out_=void 0!==n.out&&n.out,i}return De(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap(),i=e.getView(),n=e.getSize(),r=this.getGeometry().getExtent();if(this.out_){var s=i.calculateExtentInternal(n),a=(0,o.ZT)([e.getPixelFromCoordinateInternal((0,o.hC)(r)),e.getPixelFromCoordinateInternal((0,o.Xv)(r))]),l=i.getResolutionForExtentInternal(a,n);(0,o.H9)(s,1/l),r=s}var h=i.getConstrainedResolution(i.getResolutionForExtentInternal(r,n)),u=i.getConstrainedCenter((0,o.qg)(r),h);i.animateInternal({resolution:h,center:u,duration:this.duration_,easing:At.Vv})},e}(Ze);var je=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ne=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.defaultCondition_=function(t){return(0,Te.rM)(t)&&(0,Te.TN)(t)},i.condition_=void 0!==n.condition?n.condition:i.defaultCondition_,i.duration_=void 0!==n.duration?n.duration:100,i.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128,i}return je(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==w.Z.KEYDOWN){var i=t.originalEvent,n=i.keyCode;if(this.condition_(t)&&(40==n||37==n||39==n||38==n)){var o=t.map.getView(),r=o.getResolution()*this.pixelDelta_,s=0,a=0;40==n?a=-r:37==n?s=-r:39==n?s=r:a=r;var l=[s,a];Z(l,o.getRotation()),(0,Ce.Cv)(o,l,this.duration_),i.preventDefault(),e=!0}}return!e},e}(Ce.ZP);var Ge=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ze=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.condition_=n.condition?n.condition:Te.TN,i.delta_=n.delta?n.delta:1,i.duration_=void 0!==n.duration?n.duration:100,i}return Ge(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==w.Z.KEYDOWN||t.type==w.Z.KEYPRESS){var i=t.originalEvent,n=i.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var o=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,s=o.getView();(0,Ce.FW)(s,r,void 0,this.duration_),i.preventDefault(),e=!0}}return!e},e}(Ce.ZP),We=function(){function t(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;var o=this.points_[e]-this.points_[i],r=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/n,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var Ye=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xe="trackpad";const Ke=function(t){function e(e){var i=this,n=e||{};(i=t.call(this,n)||this).totalDelta_=0,i.lastDelta_=0,i.maxDelta_=void 0!==n.maxDelta?n.maxDelta:1,i.duration_=void 0!==n.duration?n.duration:250,i.timeout_=void 0!==n.timeout?n.timeout:80,i.useAnchor_=void 0===n.useAnchor||n.useAnchor,i.constrainResolution_=void 0!==n.constrainResolution&&n.constrainResolution;var o=n.condition?n.condition:Te.Bx;return i.condition_=n.onFocusOnly?(0,Te.$6)(Te.yZ,o):o,i.lastAnchor_=null,i.startTime_=void 0,i.timeoutId_,i.mode_=void 0,i.trackpadEventGap_=400,i.trackpadTimeoutId_,i.deltaPerZoom_=300,i}return Ye(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==w.Z.WHEEL)return!0;var e,i=t.map,n=t.originalEvent;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==w.Z.WHEEL&&(e=n.deltaY,at.V&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=at.MP),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?Xe:"wheel");var r=i.getView();if(this.mode_===Xe&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=e;var s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=-(0,C.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),(0,Ce.FW)(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Ce.ZP);var Be=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ve=function(t){function i(i){var n=this,o=i||{},r=o;return r.stopDown||(r.stopDown=e.Dv),(n=t.call(this,r)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==o.threshold?o.threshold:.3,n.duration_=void 0!==o.duration?o.duration:250,n}return Be(i,t),i.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],o=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==Lt){var l=s.getViewport().getBoundingClientRect(),h=(0,we.S)(this.targetPointers);h[0]-=l.left,h[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(h),this.rotating_&&(s.render(),a.adjustRotationInternal(e,this.anchor_))}},i.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},i}(we.Z);var Ue=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const qe=function(t){function i(i){var n=this,o=i||{},r=o;return r.stopDown||(r.stopDown=e.Dv),(n=t.call(this,r)||this).anchor_=null,n.duration_=void 0!==o.duration?o.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Ue(i,t),i.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],o=i.clientX-n.clientX,r=i.clientY-n.clientY,s=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e);var h=a.getViewport().getBoundingClientRect(),u=(0,we.S)(this.targetPointers);u[0]-=h.left,u[1]-=h.top,this.anchor_=a.getCoordinateFromPixelInternal(u),a.render(),l.adjustResolutionInternal(e,this.anchor_)},i.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,i),!1}return!0},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},i}(we.Z);var He=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Je=function(t){function e(e){return(e=(0,E.f0)({},e)).controls||(e.controls=function(t){var e={},i=new q.Z;return(void 0===e.zoom||e.zoom)&&i.push(new Ee(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new me(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new ye(e.attributionOptions)),i}()),e.interactions||(e.interactions=function(t){var e={onFocusOnly:!0}||{},i=new q.Z,n=new We(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new Re),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new Oe({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new Ie({onFocusOnly:e.onFocusOnly,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new Ve),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new qe({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new Ne),i.push(new ze({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new Ke({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new ke({duration:e.zoomDuration})),i}()),t.call(this,e)||this}return He(e,t),e.prototype.createRenderer=function(){return new U(this)},e}(fe);var $e=s(1273);const Qe="preload",ti="useInterimTilesOnError";var ei=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ii=function(t){function e(e){var i=this,n=e||{},o=(0,E.f0)({},n);return delete o.preload,delete o.useInterimTilesOnError,(i=t.call(this,o)||this).setPreload(void 0!==n.preload?n.preload:0),i.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),i}return ei(e,t),e.prototype.getPreload=function(){return this.get(Qe)},e.prototype.setPreload=function(t){this.set(Qe,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(ti)},e.prototype.setUseInterimTilesOnError=function(t){this.set(ti,t)},e}(A);var ni=s(1256),oi=s(6834),ri=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const si=function(t){function e(e){var i=t.call(this)||this;return i.boundHandleImageChange_=i.handleImageChange_.bind(i),i.layer_=e,i.declutterExecutorGroup=null,i}return ri(e,t),e.prototype.getFeatures=function(t){return(0,i.O3)()},e.prototype.prepareFrame=function(t){return(0,i.O3)()},e.prototype.renderFrame=function(t,e){return(0,i.O3)()},e.prototype.loadedTileCallback=function(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i},e.prototype.createLoadedTileFinder=function(t,e,i){return function(n,o){var r=this.loadedTileCallback.bind(this,i,n);return t.forEachLoadedTile(e,n,o,r)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,o){},e.prototype.getDataAtPixel=function(t,e,n){return(0,i.O3)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===ni.Z.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=ni.Z.LOADED&&e!=ni.Z.ERROR&&t.addEventListener(w.Z.CHANGE,this.boundHandleImageChange_),e==ni.Z.IDLE&&(t.load(),e=t.getState()),e==ni.Z.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==P&&t.changed()},e}(oi.Z);var ai=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const li=function(t){function e(e){var i=t.call(this,e)||this;return i.container=null,i.renderedResolution,i.tempTransform=(0,n.Ue)(),i.pixelTransform=(0,n.Ue)(),i.inversePixelTransform=(0,n.Ue)(),i.context=null,i.containerReused=!1,i}return ai(e,t),e.prototype.useContainer=function(t,e,i){var n,o,r=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===r&&(a=t.firstElementChild)instanceof HTMLCanvasElement&&(o=a.getContext("2d")),!o||0!==o.canvas.width&&o.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=o,this.containerReused=!0),!this.container){(n=document.createElement("div")).className=r;var s=n.style;s.position="absolute",s.width="100%",s.height="100%";var a=(o=(0,B.E4)()).canvas;n.appendChild(a),(s=a.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=n,this.context=o}},e.prototype.clip=function(t,e,i){var r=e.pixelRatio,s=e.size[0]*r/2,a=e.size[1]*r/2,l=e.viewState.rotation,h=(0,o.rL)(i),u=(0,o.Xv)(i),c=(0,o.w$)(i),p=(0,o.hC)(i);(0,n.nn)(e.coordinateToPixelTransform,h),(0,n.nn)(e.coordinateToPixelTransform,u),(0,n.nn)(e.coordinateToPixelTransform,c),(0,n.nn)(e.coordinateToPixelTransform,p),t.save(),(0,K.qs)(t,-l,s,a),t.beginPath(),t.moveTo(h[0]*r,h[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(c[0]*r,c[1]*r),t.lineTo(p[0]*r,p[1]*r),t.clip(),(0,K.qs)(t,l,s,a)},e.prototype.clipUnrotated=function(t,e,i){var r=(0,o.rL)(i),s=(0,o.Xv)(i),a=(0,o.w$)(i),l=(0,o.hC)(i);(0,n.nn)(e.coordinateToPixelTransform,r),(0,n.nn)(e.coordinateToPixelTransform,s),(0,n.nn)(e.coordinateToPixelTransform,a),(0,n.nn)(e.coordinateToPixelTransform,l);var h=this.inversePixelTransform;(0,n.nn)(h,r),(0,n.nn)(h,s),(0,n.nn)(h,a),(0,n.nn)(h,l),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,i){var n=this.getLayer();if(n.hasListener(t)){var o=new Y(t,this.inversePixelTransform,i,e);n.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,i,o,r,s,a){var l=r/2,h=s/2,u=o/e,c=-u,p=-t[0]+a,f=-t[1];return(0,n.qC)(this.tempTransform,l,h,u,c,-i,p,f)},e.prototype.getDataAtPixel=function(t,e,i){var r,s=(0,n.nn)(this.inversePixelTransform,t.slice()),a=this.context,l=this.getLayer().getExtent();if(l){var h=(0,n.nn)(e.pixelToCoordinateTransform,t.slice());if(!(0,o.b8)(l,h))return null}try{var u=Math.round(s[0]),c=Math.round(s[1]),p=document.createElement("canvas"),f=p.getContext("2d");p.width=1,p.height=1,f.clearRect(0,0,1,1),f.drawImage(a.canvas,u,c,1,1,0,0,1,1),r=f.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e}(si);var hi=function(){function t(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function ui(t,e,i,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=n,o):new hi(t,e,i,n)}const ci=hi;var pi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fi=function(t){function e(e){var i=t.call(this,e)||this;return i.extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=(0,o.lJ)(),i.tmpTileRange_=new ci(0,0,0,0),i}return pi(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),i=t.getState(),n=e.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!n},e.prototype.getTile=function(t,e,i,n){var o=n.pixelRatio,r=n.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,i,o,r);return 3==a.getState()&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(2)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.loadedTileCallback=function(e,i,n){return!!this.isDrawableTile(n)&&t.prototype.loadedTileCallback.call(this,e,i,n)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var r=t.layerStatesArray[t.layerIndex],s=t.viewState,a=s.projection,l=s.resolution,h=s.center,u=s.rotation,c=t.pixelRatio,p=this.getLayer(),f=p.getSource(),d=f.getRevision(),_=f.getTileGridForProjection(a),g=_.getZForResolution(l,f.zDirection),y=_.getResolution(g),v=t.extent,m=r.extent&&(0,Ot.dY)(r.extent,a);m&&(v=(0,o.Ed)(v,(0,Ot.dY)(r.extent,a)));var x=f.getTilePixelRatio(c),C=Math.round(t.size[0]*x),S=Math.round(t.size[1]*x);if(u){var O=Math.round(Math.sqrt(C*C+S*S));C=O,S=O}var w=y*C/2/x,T=y*S/2/x,b=[h[0]-w,h[1]-T,h[0]+w,h[1]+T],I=_.getTileRangeForExtentAndZ(v,g),P={};P[g]={};var R=this.createLoadedTileFinder(f,a,P),L=this.tmpExtent,M=this.tmpTileRange_;this.newTiles_=!1;for(var A=I.minX;A<=I.maxX;++A)for(var F=I.minY;F<=I.maxY;++F){var Z=this.getTile(g,A,F,t);if(this.isDrawableTile(Z)){var D=(0,i.sq)(this);if(2==Z.getState()){P[g][Z.tileCoord.toString()]=Z;var k=Z.inTransition(D);this.newTiles_||!k&&-1!==this.renderedTiles.indexOf(Z)||(this.newTiles_=!0)}if(1===Z.getAlpha(D,t.time))continue}var j=_.getTileCoordChildTileRange(Z.tileCoord,M,L),N=!1;j&&(N=R(g+1,j)),N||_.forEachTileCoordParentTileRange(Z.tileCoord,R,M,L)}var G=y/l;(0,n.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/x,1/x,u,-C/2,-S/2);var z=(0,K.QP)(this.pixelTransform);this.useContainer(e,z,r.opacity);var W=this.context,Y=W.canvas;(0,n.nb)(this.inversePixelTransform,this.pixelTransform),(0,n.qC)(this.tempTransform,C/2,S/2,G,G,0,-C/2,-S/2),Y.width!=C||Y.height!=S?(Y.width=C,Y.height=S):this.containerReused||W.clearRect(0,0,C,S),m&&this.clipUnrotated(W,t,m),(0,E.f0)(W,f.getContextOptions()),this.preRender(W,t),this.renderedTiles.length=0;var X,B,V,U=Object.keys(P).map(Number);U.sort(bt.kK),1!==r.opacity||this.containerReused&&!f.getOpaque(t.viewState.projection)?(X=[],B=[]):U=U.reverse();for(var q=U.length-1;q>=0;--q){var H=U[q],J=f.getTilePixelSize(H,c,a),$=_.getResolution(H)/y,Q=J[0]*$*G,tt=J[1]*$*G,et=_.getTileCoordForCoordAndZ((0,o.rL)(b),H),it=_.getTileCoordExtent(et),nt=(0,n.nn)(this.tempTransform,[x*(it[0]-b[0])/y,x*(b[3]-it[3])/y]),ot=x*f.getGutterForProjection(a),rt=P[H];for(var st in rt){var at=(Z=rt[st]).tileCoord,lt=nt[0]-(et[1]-at[1])*Q,ht=Math.round(lt+Q),ut=nt[1]-(et[2]-at[2])*tt,ct=Math.round(ut+tt),pt=ht-(A=Math.round(lt)),ft=ct-(F=Math.round(ut)),dt=g===H;if(!(k=dt&&1!==Z.getAlpha((0,i.sq)(this),t.time)))if(X){W.save(),V=[A,F,A+pt,F,A+pt,F+ft,A,F+ft];for(var _t=0,gt=X.length;_t<gt;++_t)if(g!==H&&H<B[_t]){var yt=X[_t];W.beginPath(),W.moveTo(V[0],V[1]),W.lineTo(V[2],V[3]),W.lineTo(V[4],V[5]),W.lineTo(V[6],V[7]),W.moveTo(yt[6],yt[7]),W.lineTo(yt[4],yt[5]),W.lineTo(yt[2],yt[3]),W.lineTo(yt[0],yt[1]),W.clip()}X.push(V),B.push(H)}else W.clearRect(A,F,pt,ft);this.drawTileImage(Z,t,A,F,pt,ft,ot,dt,r.opacity),X&&!k&&W.restore(),this.renderedTiles.push(Z),this.updateUsedTiles(t.usedTiles,f,Z)}}return this.renderedRevision=d,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!(0,o.fS)(this.renderedExtent_,b),this.renderedExtent_=b,this.renderedPixelRatio=c,this.renderedProjection=a,this.manageTilePyramid(t,f,_,c,a,v,g,p.getPreload()),this.scheduleExpireCache(t,f),this.postRender(W,t),r.extent&&W.restore(),z!==Y.style.transform&&(Y.style.transform=z),this.container},e.prototype.drawTileImage=function(t,e,n,o,r,s,a,l,h){var u=this.getTileImage(t);if(u){var c=(0,i.sq)(this),p=l?t.getAlpha(c,e.time):1,f=h*p,d=f!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,o,r,s),d&&this.context.restore(),1!==p?e.animate=!0:l&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var o=(0,i.sq)(t);o in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[o])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var o=(0,i.sq)(e);o in t||(t[o]={}),t[o][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,o,r,s,a,l,h){var u=(0,i.sq)(e);u in t.wantedTiles||(t.wantedTiles[u]={});var c,p,f,d,_,g,y=t.wantedTiles[u],v=t.tileQueue,m=0;for(g=n.getMinZoom();g<=a;++g)for(p=n.getTileRangeForExtentAndZ(s,g,p),f=n.getResolution(g),d=p.minX;d<=p.maxX;++d)for(_=p.minY;_<=p.maxY;++_)a-g<=l?(++m,0==(c=e.getTile(g,d,_,o,r)).getState()&&(y[c.getKey()]=!0,v.isKeyQueued(c.getKey())||v.enqueue([c,u,n.getTileCoordCenter(c.tileCoord),f])),void 0!==h&&h(c)):e.useTile(g,d,_,r);e.updateCacheSize(m,r)},e}(li);fi.prototype.getLayer;const di=fi;var _i=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const gi=function(t){function e(e){return t.call(this,e)||this}return _i(e,t),e.prototype.createRenderer=function(){return new di(this)},e}(ii);var yi=s(2582),vi=s.n(yi),mi=s(1219),xi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ei="renderOrder";const Ci=function(t){function e(e){var i=this,n=e||{},o=(0,E.f0)({},n);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(i=t.call(this,o)||this).declutter_=void 0!==n.declutter&&n.declutter,i.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(n.style),i.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,i.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,i}return xi(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Ei)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new(vi())(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(Ei,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:mi.yF,this.styleFunction_=null===t?void 0:(0,mi.J$)(this.style_),this.changed()},e}(A);var Si={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Oi=[Si.FILL],wi=[Si.STROKE],Ti=[Si.BEGIN_PATH],bi=[Si.CLOSE_PATH];const Ii=Si;var Pi=s(4178);const Ri=function(){function t(){}return t.prototype.drawCustom=function(t,e,i){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();var Li=s(5120),Mi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ai=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.tolerance=e,r.maxExtent=i,r.pixelRatio=o,r.maxLineWidth=0,r.resolution=n,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return Mi(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,s=r.length,a=0,l=t.length;a<l;a+=e)n[0]=t[a],n[1]=t[a+1],(0,o.b8)(i,n)&&(r[s++]=n[0],r[s++]=n[1]);return s},e.prototype.appendFlatLineCoordinates=function(t,e,i,n,r,s){var a=this.coordinates,l=a.length,h=this.getBufferedMaxExtent();s&&(e+=n);var u,c,p,f=t[e],d=t[e+1],_=this.tmpCoordinate_,g=!0;for(u=e+n;u<i;u+=n)_[0]=t[u],_[1]=t[u+1],(p=(0,o.pX)(h,_))!==c?(g&&(a[l++]=f,a[l++]=d,g=!1),a[l++]=_[0],a[l++]=_[1]):p===Pi.Z.INTERSECTING?(a[l++]=_[0],a[l++]=_[1],g=!1):g=!0,f=_[0],d=_[1],c=p;return(r&&g||u===e+n)&&(a[l++]=f,a[l++]=d),l},e.prototype.drawCustomCoordinates_=function(t,e,i,n,o){for(var r=0,s=i.length;r<s;++r){var a=i[r],l=this.appendFlatLineCoordinates(t,e,a,n,!1,!1);o.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,o,r,s,a,l=t.getType(),h=t.getStride(),u=this.coordinates.length;if(l==mt.Z.MULTI_POLYGON){n=t.getOrientedFlatCoordinates(),s=[];var c=t.getEndss();a=0;for(var p=0,f=c.length;p<f;++p){var d=[];a=this.drawCustomCoordinates_(n,a,c[p],h,d),s.push(d)}this.instructions.push([Ii.CUSTOM,u,s,t,i,Xt])}else l==mt.Z.POLYGON||l==mt.Z.MULTI_LINE_STRING?(r=[],n=l==mt.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(n,0,t.getEnds(),h,r),this.instructions.push([Ii.CUSTOM,u,r,t,i,Yt])):l==mt.Z.LINE_STRING||l==mt.Z.CIRCLE?(n=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(n,0,n.length,h,!1,!1),this.instructions.push([Ii.CUSTOM,u,o,t,i,Wt])):l==mt.Z.MULTI_POINT?(n=t.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(n,h))>u&&this.instructions.push([Ii.CUSTOM,u,o,t,i,Wt])):l==mt.Z.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),o=this.coordinates.length,this.instructions.push([Ii.CUSTOM,u,o,t,i]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Ii.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ii.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,o=e.length,r=-1;for(t=0;t<o;++t)(n=(i=e[t])[0])==Ii.END_GEOMETRY?r=t:n==Ii.BEGIN_GEOMETRY&&(i[2]=t,(0,bt.FZ)(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=(0,Li.y)(n||K.bL)}else i.fillStyle=void 0;if(e){var o=e.getColor();i.strokeStyle=(0,Li.y)(o||K.Tx);var r=e.getLineCap();i.lineCap=void 0!==r?r:K.mb;var s=e.getLineDash();i.lineDash=s?s.slice():K.X9;var a=e.getLineDashOffset();i.lineDashOffset=a||K.He;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:K.rc;var h=e.getWidth();i.lineWidth=void 0!==h?h:K.yC;var u=e.getMiterLimit();i.miterLimit=void 0!==u?u:K.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[Ii.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ii.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,o=t.lineDash,r=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||o!=t.currentLineDash&&!(0,bt.fS)(t.currentLineDash,o)||t.currentLineDashOffset!=r||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=r,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Ii.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,o.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,o.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Ri);var Fi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Zi=function(t){function e(e,i,n,o){var r=t.call(this,e,i,n,o)||this;return r.hitDetectionImage_=null,r.image_=null,r.imagePixelRatio_=void 0,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r.declutterImageWithText_=void 0,r}return Fi(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([Ii.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ii.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([Ii.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ii.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),o=t.getHitDetectionImage(),r=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=r,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterImageWithText_=e},e}(Ai);var Di=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ki=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return Di(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,n){var o=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),s=[Ii.MOVE_TO_LINE_TO,o,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,o=i.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ti);var r=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(r,0,r.length,s),this.hitDetectionInstructions.push(wi),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,o=i.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ti);for(var r=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,h=0,u=r.length;h<u;++h)l=this.drawFlatCoordinates_(s,l,r[h],a);this.hitDetectionInstructions.push(wi),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(wi),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(wi),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Ti)},e}(Ai);var ji=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ni=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return ji(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var o=this.state,r=void 0!==o.fillStyle,s=void 0!==o.strokeStyle,a=i.length;this.instructions.push(Ti),this.hitDetectionInstructions.push(Ti);for(var l=0;l<a;++l){var h=i[l],u=this.coordinates.length,c=this.appendFlatLineCoordinates(t,e,h,n,!0,!s),p=[Ii.MOVE_TO_LINE_TO,u,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(bi),this.hitDetectionInstructions.push(bi)),e=h}return r&&(this.instructions.push(Oi),this.hitDetectionInstructions.push(Oi)),s&&(this.instructions.push(wi),this.hitDetectionInstructions.push(wi)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ii.SET_FILL_STYLE,K.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var r=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,s,!1,!1);var l=[Ii.CIRCLE,a];this.instructions.push(Ti,l),this.hitDetectionInstructions.push(Ti,l),void 0!==i.fillStyle&&(this.instructions.push(Oi),this.hitDetectionInstructions.push(Oi)),void 0!==i.strokeStyle&&(this.instructions.push(wi),this.hitDetectionInstructions.push(wi)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ii.SET_FILL_STYLE,K.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var r=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,r,a),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ii.SET_FILL_STYLE,K.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var r=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,h=0,u=r.length;h<u;++h)l=this.drawFlatCoordinatess_(s,l,r[h],a);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,n=0,o=i.length;n<o;++n)i[n]=Gt(i[n],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Ai);var Gi=s(8288);function zi(t,e,i,n,o){var r,s,a,l,h,u,c,p,f,d=i,_=i,g=0,y=0,v=i;for(r=i;r<n;r+=o){var m=e[r],x=e[r+1];void 0!==l&&(p=m-l,f=x-h,a=Math.sqrt(p*p+f*f),void 0!==u&&(y+=s,Math.acos((u*p+c*f)/(s*a))>t&&(y>g&&(g=y,d=v,_=r),y=0,v=r-o)),s=a,u=p,c=f),l=m,h=x}return(y+=a)>g?[v,r]:[d,_]}var Wi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yi={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Xi={Circle:Ni,Default:Ai,Image:Zi,LineString:ki,Polygon:Ni,Text:function(t){function e(e,i,n,o){var r=t.call(this,e,i,n,o)||this;return r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",r.declutterImageWithText_=void 0,r}return Wi(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var s=this.coordinates,a=s.length,l=t.getType(),h=null,u=t.getStride();if(r.placement!==Gi.Z.LINE||l!=mt.Z.LINE_STRING&&l!=mt.Z.MULTI_LINE_STRING&&l!=mt.Z.POLYGON&&l!=mt.Z.MULTI_POLYGON){var c=r.overflow?null:[];switch(l){case mt.Z.POINT:case mt.Z.MULTI_POINT:h=t.getFlatCoordinates();break;case mt.Z.LINE_STRING:h=t.getFlatMidpoint();break;case mt.Z.CIRCLE:h=t.getCenter();break;case mt.Z.MULTI_LINE_STRING:h=t.getFlatMidpoints(),u=2;break;case mt.Z.POLYGON:h=t.getFlatInteriorPoint(),r.overflow||c.push(h[2]/this.resolution),u=3;break;case mt.Z.MULTI_POLYGON:var p=t.getFlatInteriorPoints();for(h=[],C=0,S=p.length;C<S;C+=3)r.overflow||c.push(p[C+2]/this.resolution),h.push(p[C],p[C+1]);if(0===h.length)return;u=2}if((R=this.appendFlatPointCoordinates(h,u))===a)return;this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var f=r.padding;if(f!=K.oB&&(r.scale[0]<0||r.scale[1]<0)){var d=r.padding[0],_=r.padding[1],g=r.padding[2],y=r.padding[3];r.scale[0]<0&&(_=-_,y=-y),r.scale[1]<0&&(d=-d,g=-g),f=[d,_,g,y]}var v=this.pixelRatio;this.instructions.push([Ii.DRAW_IMAGE,a,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,f==K.oB?K.oB:f.map((function(t){return t*v})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var m=1/v;this.hitDetectionInstructions.push([Ii.DRAW_IMAGE,a,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,this.declutterImageWithText_,f,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!(0,o.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var x=void 0;if(h=t.getFlatCoordinates(),l==mt.Z.LINE_STRING)x=[h.length];else if(l==mt.Z.MULTI_LINE_STRING)x=t.getEnds();else if(l==mt.Z.POLYGON)x=t.getEnds().slice(0,1);else if(l==mt.Z.MULTI_POLYGON){var E=t.getEndss();x=[];for(var C=0,S=E.length;C<S;++C)x.push(E[C][0])}this.beginGeometry(t,e);for(var O=r.textAlign,w=0,T=void 0,b=0,I=x.length;b<I;++b){if(null==O){var P=zi(r.maxAngle,h,w,x[b],u);w=P[0],T=P[1]}else T=x[b];for(C=w;C<T;C+=u)s.push(h[C],h[C+1]);var R=s.length;w=x[b],this.drawChars_(a,R),a=R}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||K.PH,textBaseline:e.textBaseline||K.ru,scale:e.scale});var r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,n=this.textState_,o=this.strokeKey_,r=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,l=Yi[n.textBaseline],h=this.textOffsetY_*a,u=this.text_,c=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([Ii.DRAW_CHARS,t,e,l,n.overflow,s,n.maxAngle,a,h,o,c*a,u,r,1]),this.hitDetectionInstructions.push([Ii.DRAW_CHARS,t,e,l,n.overflow,s,n.maxAngle,1,h,o,c,u,r,1/a])},e.prototype.setTextStyle=function(t,e){var n,o,r;if(t){var s=t.getFill();s?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=(0,Li.y)(s.getColor()||K.bL)):(o=null,this.textFillState_=o);var a=t.getStroke();if(a){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var l=a.getLineDash(),h=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();r.lineCap=a.getLineCap()||K.mb,r.lineDash=l?l.slice():K.X9,r.lineDashOffset=void 0===h?K.He:h,r.lineJoin=a.getLineJoin()||K.rc,r.lineWidth=void 0===u?K.yC:u,r.miterLimit=void 0===c?K.V4:c,r.strokeStyle=(0,Li.y)(a.getColor()||K.Tx)}else r=null,this.textStrokeState_=r;n=this.textState_;var p=t.getFont()||K.Df;(0,K.Qx)(p);var f=t.getScaleArray();n.overflow=t.getOverflow(),n.font=p,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||K.ru,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||K.oB,n.scale=void 0===f?[1,1]:f;var d=t.getOffsetX(),_=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===_?0:_,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===y?0:y,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,i.sq)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,i.sq)(o.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Ai)};const Ki=function(){function t(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var n in i){var o=i[n].finish();t[e][n]=o}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);var o=n[e];return void 0===o&&(o=new(0,Xi[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=o),o},t}(),Bi="Circle",Vi="Default",Ui="Image",qi="LineString",Hi="Polygon",Ji="Text";var $i=s(7882);function Qi(t,e,i,n,o,r,s,a,l,h,u,c){var p=t[e],f=t[e+1],d=0,_=0,g=0,y=0;function v(){d=p,_=f,p=t[e+=n],f=t[e+1],y+=g,g=Math.sqrt((p-d)*(p-d)+(f-_)*(f-_))}do{v()}while(e<i-n&&y+g<r);for(var m=(r-y)/g,x=(0,C.t7)(d,p,m),E=(0,C.t7)(_,f,m),S=e-n,O=y,w=r+a*l(h,o,u);e<i-n&&y+g<w;)v();m=(w-y)/g;var T,b=(0,C.t7)(d,p,m),I=(0,C.t7)(_,f,m);if(c){var P=[x,E,b,I];(0,$i.U1)(P,0,4,2,c,P,P),T=P[0]>P[2]}else T=x>b;var R,L=Math.PI,M=[],A=S+n===e;if(g=0,y=O,p=t[e=S],f=t[e+1],A){v();var F=Math.atan2(f-_,p-d);T&&(F+=F>0?-L:L);var Z=(b+x)/2,D=(I+E)/2;return M[0]=[Z,D,(w-r)/2,F,o],M}for(var k=0,j=o.length;k<j;){v();var N=Math.atan2(f-_,p-d);if(T&&(N+=N>0?-L:L),void 0!==R){var G=N-R;if(G+=G>L?-2*L:G<-L?2*L:0,Math.abs(G)>s)return null}R=N;for(var z=k,W=0;k<j;++k){var Y=a*l(h,o[T?j-k-1:k],u);if(e+n<i&&y+g<r+W+Y/2)break;W+=Y}if(k!==z){var X=T?o.substring(j-z,j-k):o.substring(z,k);m=(r+W/2-y)/g,Z=(0,C.t7)(d,p,m),D=(0,C.t7)(_,f,m),M.push([Z,D,W/2,N,X]),r+=W}}return M}function tn(t,e,i,n){for(var o=t[e],r=t[e+1],s=0,a=e+n;a<i;a+=n){var l=t[a],h=t[a+1];s+=Math.sqrt((l-o)*(l-o)+(h-r)*(h-r)),o=l,r=h}return s}var en=(0,o.lJ)(),nn=[],on=[],rn=[],sn=[];function an(t){return t[3].declutterBox}var ln=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function hn(t,e){return"start"!==e&&"end"!==e||ln.test(t)||(e="start"===e?"left":"right"),Yi[e]}const un=function(){function t(t,e,i,o,r){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderBuffer_=r,this.renderedTransform_=(0,n.Ue)(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,n){var o=t+e+i+n;if(this.labels_[o])return this.labels_[o];var r=n?this.strokeStates[n]:null,s=i?this.fillStates[i]:null,a=this.textStates[e],l=this.pixelRatio,h=[a.scale[0]*l,a.scale[1]*l],u=hn(t,a.textAlign||K.PH),c=n&&r.lineWidth?r.lineWidth:0,p=t.split("\n"),f=p.length,d=[],_=(0,K.gs)(a.font,p,d),g=(0,K.fk)(a.font),y=_+c,v=[],m=(y+2)*h[0],x=(g*f+c)*h[1],E={width:m<0?Math.floor(m):Math.ceil(m),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:v};1==h[0]&&1==h[1]||v.push("scale",h),v.push("font",a.font),n&&(v.push("strokeStyle",r.strokeStyle),v.push("lineWidth",c),v.push("lineCap",r.lineCap),v.push("lineJoin",r.lineJoin),v.push("miterLimit",r.miterLimit),(at.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(v.push("setLineDash",[r.lineDash]),v.push("lineDashOffset",r.lineDashOffset))),i&&v.push("fillStyle",s.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");var C,S=.5-u,O=u*y+S*c;if(n)for(C=0;C<f;++C)v.push("strokeText",[p[C],O+S*d[C],.5*(c+g)+C*g]);if(i)for(C=0;C<f;++C)v.push("fillText",[p[C],O+S*d[C],.5*(c+g)+C*g]);return this.labels_[o]=E,E},t.prototype.replayTextBackground_=function(t,e,i,n,o,r,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,o),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,r,s,a,l,h,u,c,p,f,d,_,g,y){var v,m=i-(l*=f[0]),x=r-(h*=f[1]),E=s+u>t?t-u:s,C=a+c>e?e-c:a,S=_[3]+E*f[0]+_[1],O=_[0]+C*f[1]+_[2],w=m-_[3],T=x-_[0];return(g||0!==p)&&(nn[0]=w,sn[0]=w,nn[1]=T,on[1]=T,on[0]=w+S,rn[0]=on[0],rn[1]=T+O,sn[1]=rn[1]),0!==p?(v=(0,n.qC)((0,n.Ue)(),i,r,1,1,p,-i,-r),(0,n.nn)(v,nn),(0,n.nn)(v,on),(0,n.nn)(v,rn),(0,n.nn)(v,sn),(0,o.T9)(Math.min(nn[0],on[0],rn[0],sn[0]),Math.min(nn[1],on[1],rn[1],sn[1]),Math.max(nn[0],on[0],rn[0],sn[0]),Math.max(nn[1],on[1],rn[1],sn[1]),en)):(0,o.T9)(Math.min(w,w+S),Math.min(T,T+O),Math.max(w,w+S),Math.max(T,T+O),en),d&&(m=Math.round(m),x=Math.round(x)),{drawImageX:m,drawImageY:x,drawImageW:E,drawImageH:C,originX:u,originY:c,declutterBox:{minX:en[0],minY:en[1],maxX:en[2],maxY:en[3],value:y},canvasTransform:v,scale:f}},t.prototype.replayImageOrLabel_=function(t,e,i,n,o,r,s){var a=!(!r&&!s),l=n.declutterBox,h=t.canvas,u=s?s[2]*n.scale[0]/2:0;return l.minX-u<=h.width/e&&l.maxX+u>=0&&l.minY-u<=h.height/e&&l.maxY+u>=0&&(a&&this.replayTextBackground_(t,nn,on,rn,sn,r,s),(0,K._f)(t,n.canvasTransform,o,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=(0,n.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,n){var o=this.textStates[e],r=this.createLabel(t,e,n,i),s=this.strokeStates[i],a=this.pixelRatio,l=hn(t,o.textAlign||K.PH),h=Yi[o.textBaseline||K.ru],u=s&&s.lineWidth?s.lineWidth:0;return{label:r,anchorX:l*(r.width/a-2*o.scale[0])+2*(.5-l)*u,anchorY:h*r.height/a+2*(.5-h)*u}},t.prototype.execute_=function(t,e,i,r,s,a,l,h){var u;this.pixelCoordinates_&&(0,bt.fS)(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=(0,$i.vT)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(0,n.lk)(this.renderedTransform_,i));for(var c,p,f,d,_,g,y,v,m,x,E,C,S,O,w,T,b=0,I=r.length,P=0,R=0,L=0,M=null,A=null,F=this.coordinateCache_,Z=this.viewRotation_,D=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Z},j=this.instructions!=r||this.overlaps?0:200;b<I;){var N=r[b];switch(N[0]){case Ii.BEGIN_GEOMETRY:S=N[1],T=N[3],S.getGeometry()?void 0===l||(0,o.kK)(l,T.getExtent())?++b:b=N[2]+1:b=N[2];break;case Ii.BEGIN_PATH:R>j&&(this.fill_(t),R=0),L>j&&(t.stroke(),L=0),R||L||(t.beginPath(),d=NaN,_=NaN),++b;break;case Ii.CIRCLE:var G=u[P=N[1]],z=u[P+1],W=u[P+2]-G,Y=u[P+3]-z,X=Math.sqrt(W*W+Y*Y);t.moveTo(G+X,z),t.arc(G,z,X,0,2*Math.PI,!0),++b;break;case Ii.CLOSE_PATH:t.closePath(),++b;break;case Ii.CUSTOM:P=N[1],c=N[2];var B=N[3],V=N[4],U=6==N.length?N[5]:void 0;k.geometry=B,k.feature=S,b in F||(F[b]=[]);var q=F[b];U?U(u,P,c,2,q):(q[0]=u[P],q[1]=u[P+1],q.length=2),V(q,k),++b;break;case Ii.DRAW_IMAGE:P=N[1],c=N[2],v=N[3],p=N[4],f=N[5];var H=N[6],J=N[7],$=N[8],Q=N[9],tt=N[10],et=N[11],it=N[12],nt=N[13],ot=N[14];if(!v&&N.length>=19){m=N[18],x=N[19],E=N[20],C=N[21];var rt=this.drawLabelWithPointPlacement_(m,x,E,C);v=rt.label,N[3]=v;var st=N[22];p=(rt.anchorX-st)*this.pixelRatio,N[4]=p;var at=N[23];f=(rt.anchorY-at)*this.pixelRatio,N[5]=f,H=v.height,N[6]=H,nt=v.width,N[13]=nt}var lt=void 0;N.length>24&&(lt=N[24]);var ht=void 0,ut=void 0,ct=void 0;N.length>16?(ht=N[15],ut=N[16],ct=N[17]):(ht=K.oB,ut=!1,ct=!1),tt&&D?et+=Z:tt||D||(et-=Z);for(var pt=0;P<c;P+=2)if(!(lt&&lt[pt++]<nt/this.pixelRatio)){var ft=[t,e,v,Gt=this.calculateImageOrLabelDimensions_(v.width,v.height,u[P],u[P+1],nt,H,p,f,$,Q,et,it,s,ht,ut||ct,S),J,ut?M:null,ct?A:null],dt=void 0,_t=void 0;if(h&&ot){if(!ot[P]){ot[P]=ft;continue}if(dt=ot[P],delete ot[P],_t=an(dt),h.collides(_t))continue}h&&h.collides(Gt.declutterBox)||(dt&&(h&&h.insert(_t),this.replayImageOrLabel_.apply(this,dt)),h&&h.insert(Gt.declutterBox),this.replayImageOrLabel_.apply(this,ft))}++b;break;case Ii.DRAW_CHARS:var gt=N[1],yt=N[2],vt=N[3],mt=N[4];C=N[5];var xt=N[6],Et=N[7],Ct=N[8];E=N[9];var St=N[10];m=N[11],x=N[12];var Ot=[N[13],N[13]],wt=this.textStates[x],Tt=wt.font,It=[wt.scale[0]*Et,wt.scale[1]*Et],Pt=void 0;Tt in this.widths_?Pt=this.widths_[Tt]:(Pt={},this.widths_[Tt]=Pt);var Rt=tn(u,gt,yt,2),Lt=Math.abs(It[0])*(0,K.Kd)(Tt,m,Pt);if(mt||Lt<=Rt){var Mt=this.textStates[x].textAlign,At=Qi(u,gt,yt,2,m,(Rt-Lt)*Yi[Mt],xt,Math.abs(It[0]),K.Kd,Tt,Pt,D?0:this.viewRotation_);t:if(At){var Ft=[],Zt=void 0,Dt=void 0,kt=void 0,jt=void 0,Nt=void 0;if(E)for(Zt=0,Dt=At.length;Zt<Dt;++Zt){kt=(Nt=At[Zt])[4],jt=this.createLabel(kt,x,"",E),p=Nt[2]+(It[0]<0?-St:St),f=vt*jt.height+2*(.5-vt)*St*It[1]/It[0]-Ct;var Gt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Nt[0],Nt[1],jt.width,jt.height,p,f,0,0,Nt[3],Ot,!1,K.oB,!1,S);if(h&&h.collides(Gt.declutterBox))break t;Ft.push([t,e,jt,Gt,1,null,null])}if(C)for(Zt=0,Dt=At.length;Zt<Dt;++Zt){if(kt=(Nt=At[Zt])[4],jt=this.createLabel(kt,x,C,""),p=Nt[2],f=vt*jt.height-Ct,Gt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Nt[0],Nt[1],jt.width,jt.height,p,f,0,0,Nt[3],Ot,!1,K.oB,!1,S),h&&h.collides(Gt.declutterBox))break t;Ft.push([t,e,jt,Gt,1,null,null])}h&&h.load(Ft.map(an));for(var zt=0,Wt=Ft.length;zt<Wt;++zt)this.replayImageOrLabel_.apply(this,Ft[zt])}}++b;break;case Ii.END_GEOMETRY:if(void 0!==a){var Yt=a(S=N[1],T);if(Yt)return Yt}++b;break;case Ii.FILL:j?R++:this.fill_(t),++b;break;case Ii.MOVE_TO_LINE_TO:for(P=N[1],c=N[2],O=u[P],y=(w=u[P+1])+.5|0,(g=O+.5|0)===d&&y===_||(t.moveTo(O,w),d=g,_=y),P+=2;P<c;P+=2)g=(O=u[P])+.5|0,y=(w=u[P+1])+.5|0,P!=c-2&&g===d&&y===_||(t.lineTo(O,w),d=g,_=y);++b;break;case Ii.SET_FILL_STYLE:M=N,this.alignFill_=N[2],R&&(this.fill_(t),R=0,L&&(t.stroke(),L=0)),t.fillStyle=N[1],++b;break;case Ii.SET_STROKE_STYLE:A=N,L&&(t.stroke(),L=0),this.setStrokeStyle_(t,N),++b;break;case Ii.STROKE:j?L++:t.stroke(),++b;break;default:++b}}R&&this.fill_(t),L&&t.stroke()},t.prototype.execute=function(t,e,i,n,o,r){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,o,void 0,void 0,r)},t.prototype.executeHitDetection=function(t,e,i,n,o){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,o)},t}();var cn=[Hi,Bi,qi,Ui,Ji,Vi],pn=function(){function t(t,e,i,o,r,s){this.maxExtent_=t,this.overlaps_=o,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,n.Ue)(),this.createExecutors_(r)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var n=t[e],o=[this.renderBuffer_||0,this.renderBuffer_||0];for(var r in n){var s=n[r];i[r]=new un(this.resolution_,this.pixelRatio_,this.overlaps_,s,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],n=0,o=t.length;n<o;++n)if(t[n]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,s,a){var l=2*(r=Math.round(r))+1,h=(0,n.qC)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=(0,B.E4)(l,l));var c,p=this.hitDetectionContext_;p.canvas.width!==l||p.canvas.height!==l?(p.canvas.width=l,p.canvas.height=l):u||p.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(c=(0,o.lJ)(),(0,o.Wj)(c,t),(0,o.f3)(c,e*(this.renderBuffer_+r),c));var f,d=function(t){if(void 0!==fn[t])return fn[t];for(var e=2*t+1,i=t*t,n=new Array(i+1),o=0;o<=t;++o)for(var r=0;r<=t;++r){var s=o*o+r*r;if(s>i)break;var a=n[s];a||(a=[],n[s]=a),a.push(4*((t+o)*e+(t+r))+3),o>0&&a.push(4*((t-o)*e+(t+r))+3),r>0&&(a.push(4*((t+o)*e+(t-r))+3),o>0&&a.push(4*((t-o)*e+(t-r))+3))}for(var l=[],h=(o=0,n.length);o<h;++o)n[o]&&l.push.apply(l,n[o]);return fn[t]=l,l}(r);function _(t,e){for(var i=p.getImageData(0,0,l,l).data,n=0,o=d.length;n<o;n++)if(i[d[n]]>0){if(!a||f!==Ui&&f!==Ji||-1!==a.indexOf(t)){var h=(d[n]-3)/4,u=r-h%l,c=r-(h/l|0),_=s(t,e,u*u+c*c);if(_)return _}p.clearRect(0,0,l,l);break}}var g,y,v,m,x,E=Object.keys(this.executorsByZIndex_).map(Number);for(E.sort(bt.kK),g=E.length-1;g>=0;--g){var C=E[g].toString();for(v=this.executorsByZIndex_[C],y=cn.length-1;y>=0;--y)if(void 0!==(m=v[f=cn[y]])&&(x=m.executeHitDetection(p,h,i,_,c)))return x}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],n=e[1],o=e[2],r=e[3],s=[i,n,i,r,o,r,o,n];return(0,$i.vT)(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return(0,E.xb)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,n,o,r,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(bt.kK),this.maxExtent_&&(t.save(),this.clip(t,i));var l,h,u,c,p,f,d=r||cn;for(s&&a.reverse(),l=0,h=a.length;l<h;++l){var _=a[l].toString();for(p=this.executorsByZIndex_[_],u=0,c=d.length;u<c;++u)void 0!==(f=p[d[u]])&&f.execute(t,e,i,n,o,s)}this.maxExtent_&&t.restore()},t}(),fn={};const dn=pn;var _n=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const gn=function(t){function e(e,i,o,r,s,a,l){var h=t.call(this)||this;return h.context_=e,h.pixelRatio_=i,h.extent_=o,h.transform_=r,h.viewRotation_=s,h.squaredTolerance_=a,h.userTransform_=l,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=(0,n.Ue)(),h}return _n(e,t),e.prototype.drawImages_=function(t,e,i,o){if(this.image_){var r=(0,$i.vT)(t,e,i,2,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var u=0,c=r.length;u<c;u+=2){var p=r[u]-this.imageAnchorX_,f=r[u+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var d=p+this.imageAnchorX_,_=f+this.imageAnchorY_;(0,n.qC)(a,d,_,1,1,h,-d,-_),s.setTransform.apply(s,a),s.translate(d,_),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},e.prototype.drawText_=function(t,e,i,o){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=(0,$i.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=o){var l=r[e]+this.textOffsetX_,h=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=(0,n.qC)(this.tmpLocalTransform_,l,h,1,1,a,-l,-h);s.setTransform.apply(s,u),s.translate(l,h),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,h),this.textFillState_&&s.fillText(this.text_,l,h)}}},e.prototype.moveToLineTo_=function(t,e,i,n,o){var r=this.context_,s=(0,$i.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);var a=s.length;o&&(a-=2);for(var l=2;l<a;l+=2)r.lineTo(s[l],s[l+1]);return o&&r.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var o=0,r=i.length;o<r;++o)e=this.moveToLineTo_(t,e,i[o],n,!0);return e},e.prototype.drawCircle=function(t){if((0,o.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,Zt.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case mt.Z.POINT:this.drawPoint(t);break;case mt.Z.LINE_STRING:this.drawLineString(t);break;case mt.Z.POLYGON:this.drawPolygon(t);break;case mt.Z.MULTI_POINT:this.drawMultiPoint(t);break;case mt.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case mt.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case mt.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case mt.Z.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&(0,o.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,o.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,s=t.getEnds(),a=t.getStride();i.beginPath();for(var l=0,h=s.length;l<h;++l)r=this.moveToLineTo_(n,r,s[l],a,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),s=t.getStride();e.beginPath();for(var a=0,l=r.length;a<l;++a){var h=r[a];n=this.drawRings_(i,n,h,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,bt.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:K.PH;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:(0,Li.y)(i||K.bL)}}else this.fillState_=null;if(e){var n=e.getColor(),o=e.getLineCap(),r=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:K.mb,lineDash:r||K.X9,lineDashOffset:s||K.He,lineJoin:void 0!==a?a:K.rc,lineWidth:this.pixelRatio_*(void 0!==l?l:K.yC),miterLimit:void 0!==h?h:K.V4,strokeStyle:(0,Li.y)(n||K.Tx)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getSize();if(e){var i=t.getAnchor(),n=t.getImage(1),o=t.getOrigin(),r=t.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=e[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*r[0],this.pixelRatio_*r[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:(0,Li.y)(i||K.bL)}}else this.textFillState_=null;var n=t.getStroke();if(n){var o=n.getColor(),r=n.getLineCap(),s=n.getLineDash(),a=n.getLineDashOffset(),l=n.getLineJoin(),h=n.getWidth(),u=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:K.mb,lineDash:s||K.X9,lineDashOffset:a||K.He,lineJoin:void 0!==l?l:K.rc,lineWidth:void 0!==h?h:K.yC,miterLimit:void 0!==u?u:K.V4,strokeStyle:(0,Li.y)(o||K.Tx)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),_=t.getRotation(),g=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:K.Df,textAlign:void 0!==v?v:K.PH,textBaseline:void 0!==m?m:K.ru},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==_?_:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""},e}(Ri),yn="fraction",vn="pixels",mn="bottom-left",xn="bottom-right",En="top-left",Cn="top-right";var Sn=s(8039),On=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const wn=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=n,r.resolution=i,r.state=o,r}return On(e,t),e.prototype.changed=function(){this.dispatchEvent(w.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,i.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,i.O3)()},e}(ot.Z);var Tn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function bn(t,e,i){var n=t;if(n.src&&at.Tp){var o=n.decode(),r=!0;return o.then((function(){r&&e()})).catch((function(t){r&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():i())})),function(){r=!1}}var s=[(0,R.Vx)(n,w.Z.LOAD,e),(0,R.Vx)(n,w.Z.ERROR,i)];return function(){s.forEach(R.bN)}}!function(t){function e(e,i,n,o,r,s){var a=t.call(this,e,i,n,ni.Z.IDLE)||this;return a.src_=o,a.image_=new Image,null!==r&&(a.image_.crossOrigin=r),a.unlisten_=null,a.state=ni.Z.IDLE,a.imageLoadFunction_=s,a}Tn(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ni.Z.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,o.Cr)(this.extent)/this.image_.height),this.state=ni.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=ni.Z.IDLE&&this.state!=ni.Z.ERROR||(this.state=ni.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=bn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(wn);var In=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pn=null,Rn=function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==o&&(a.image_.crossOrigin=o),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=r,a.size_=n,a.src_=i,a.tainted_,a}return In(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ni.Z.LOADED){Pn||(Pn=(0,B.E4)(1,1)),Pn.drawImage(this.image_,0,0);try{Pn.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Pn=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(w.Z.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=ni.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=ni.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=(0,B.E4)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ni.Z.IDLE){this.imageState_=ni.Z.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=bn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=(0,r.XC)(this.color_),i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var n=i.getImageData(0,0,e.width,e.height),o=n.data,s=this.color_[0]/255,a=this.color_[1]/255,l=this.color_[2]/255,h=this.color_[3],u=0,c=o.length;u<c;u+=4)o[u]*=s,o[u+1]*=a,o[u+2]*=l,o[u+3]*=h;i.putImageData(n,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ot.Z),Ln=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Mn=function(t){function e(e){var n=this,o=e||{},s=void 0!==o.opacity?o.opacity:1,a=void 0!==o.rotation?o.rotation:0,h=void 0!==o.scale?o.scale:1,u=void 0!==o.rotateWithView&&o.rotateWithView;(n=t.call(this,{opacity:s,rotation:a,scale:h,displacement:void 0!==o.displacement?o.displacement:[0,0],rotateWithView:u})||this).anchor_=void 0!==o.anchor?o.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==o.anchorOrigin?o.anchorOrigin:En,n.anchorXUnits_=void 0!==o.anchorXUnits?o.anchorXUnits:yn,n.anchorYUnits_=void 0!==o.anchorYUnits?o.anchorYUnits:yn,n.crossOrigin_=void 0!==o.crossOrigin?o.crossOrigin:null;var c=void 0!==o.img?o.img:null,p=void 0!==o.imgSize?o.imgSize:null,f=o.src;(0,x.h)(!(void 0!==f&&c),4),(0,x.h)(!c||c&&p,5),void 0!==f&&0!==f.length||!c||(f=c.src||(0,i.sq)(c)),(0,x.h)(void 0!==f&&f.length>0,6);var d=void 0!==o.src?ni.Z.IDLE:ni.Z.LOADED;return n.color_=void 0!==o.color?(0,r._2)(o.color):null,n.iconImage_=function(t,e,i,n,o,r){var s=l.get(e,n,r);return s||(s=new Rn(t,e,i,n,o,r),l.set(e,n,r,s)),s}(c,f,p,n.crossOrigin_,d,n.color_),n.offset_=void 0!==o.offset?o.offset:[0,0],n.offsetOrigin_=void 0!==o.offsetOrigin?o.offsetOrigin:En,n.origin_=null,n.size_=void 0!==o.size?o.size:null,n}return Ln(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==yn||this.anchorYUnits_==yn){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==yn&&(t[0]*=e[0]),this.anchorYUnits_==yn&&(t[1]*=e[1])}if(this.anchorOrigin_!=En){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Cn&&this.anchorOrigin_!=xn||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=mn&&this.anchorOrigin_!=xn||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=En){var i=this.getSize(),n=this.iconImage_.getSize();if(!i||!n)return null;t=t.slice(),this.offsetOrigin_!=Cn&&this.offsetOrigin_!=xn||(t[0]=n[0]-i[0]-t[0]),this.offsetOrigin_!=mn&&this.offsetOrigin_!=xn||(t[1]=n[1]-i[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(w.Z.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(w.Z.CHANGE,t)},e}(Sn.Z);var An={Point:function(t,e,i,n,o){var r,s=i.getImage(),a=i.getText();if(o&&(t=o,r=s&&a&&a.getText()?{}:void 0),s){if(s.getImageState()!=ni.Z.LOADED)return;var l=t.getBuilder(i.getZIndex(),Ui);l.setImageStyle(s,r),l.drawPoint(e,n)}if(a&&a.getText()){var h=t.getBuilder(i.getZIndex(),Ji);h.setTextStyle(a,r),h.drawText(e,n)}},LineString:function(t,e,i,n,o){var r=i.getStroke();if(r){var s=t.getBuilder(i.getZIndex(),qi);s.setFillStrokeStyle(null,r),s.drawLineString(e,n)}var a=i.getText();if(a&&a.getText()){var l=(o||t).getBuilder(i.getZIndex(),Ji);l.setTextStyle(a),l.drawText(e,n)}},Polygon:function(t,e,i,n,o){var r=i.getFill(),s=i.getStroke();if(r||s){var a=t.getBuilder(i.getZIndex(),Hi);a.setFillStrokeStyle(r,s),a.drawPolygon(e,n)}var l=i.getText();if(l&&l.getText()){var h=(o||t).getBuilder(i.getZIndex(),Ji);h.setTextStyle(l),h.drawText(e,n)}},MultiPoint:function(t,e,i,n,o){var r,s=i.getImage(),a=i.getText();if(o&&(t=o,r=s&&a&&a.getText()?{}:void 0),s){if(s.getImageState()!=ni.Z.LOADED)return;var l=t.getBuilder(i.getZIndex(),Ui);l.setImageStyle(s,r),l.drawMultiPoint(e,n)}if(a&&a.getText()){var h=(o||t).getBuilder(i.getZIndex(),Ji);h.setTextStyle(a,r),h.drawText(e,n)}},MultiLineString:function(t,e,i,n,o){var r=i.getStroke();if(r){var s=t.getBuilder(i.getZIndex(),qi);s.setFillStrokeStyle(null,r),s.drawMultiLineString(e,n)}var a=i.getText();if(a&&a.getText()){var l=(o||t).getBuilder(i.getZIndex(),Ji);l.setTextStyle(a),l.drawText(e,n)}},MultiPolygon:function(t,e,i,n,o){var r=i.getFill(),s=i.getStroke();if(s||r){var a=t.getBuilder(i.getZIndex(),Hi);a.setFillStrokeStyle(r,s),a.drawMultiPolygon(e,n)}var l=i.getText();if(l&&l.getText()){var h=(o||t).getBuilder(i.getZIndex(),Ji);h.setTextStyle(l),h.drawText(e,n)}},GeometryCollection:function(t,e,i,n,o){var r,s,a=e.getGeometriesArray();for(r=0,s=a.length;r<s;++r)(0,An[a[r].getType()])(t,a[r],i,n,o)},Circle:function(t,e,i,n,o){var r=i.getFill(),s=i.getStroke();if(r||s){var a=t.getBuilder(i.getZIndex(),Bi);a.setFillStrokeStyle(r,s),a.drawCircle(e,n)}var l=i.getText();if(l&&l.getText()){var h=(o||t).getBuilder(i.getZIndex(),Ji);h.setTextStyle(l),h.drawText(e,n)}}};function Fn(t,e){return parseInt((0,i.sq)(t),10)-parseInt((0,i.sq)(e),10)}function Zn(t,e){return.5*t/e}function Dn(t,e,i,n,o,r,s){var a=!1,l=i.getImage();if(l){var h=l.getImageState();h==ni.Z.LOADED||h==ni.Z.ERROR?l.unlistenImageChange(o):(h==ni.Z.IDLE&&l.load(),h=l.getImageState(),l.listenImageChange(o),a=!0)}return function(t,e,i,n,o,r){var s=i.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(n,o);i.getRenderer()?kn(t,a,i,e):(0,An[a.getType()])(t,a,i,e,r)}}(t,e,i,n,r,s),a}function kn(t,e,i,n){if(e.getType()!=mt.Z.GEOMETRY_COLLECTION)t.getBuilder(i.getZIndex(),Vi).drawCustom(e,n,i.getRenderer());else for(var o=e.getGeometries(),r=0,s=o.length;r<s;++r)kn(t,o[r],i,n)}var jn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Nn=function(t){function e(e){var i=t.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.animatingOrInteracting_,i.dirty_=!1,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=(0,o.lJ)(),i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i}return jn(e,t),e.prototype.useContainer=function(e,i,n){n<1&&(e=null),t.prototype.useContainer.call(this,e,i,n)},e.prototype.renderWorlds=function(t,e,i){var n=e.extent,r=e.viewState,s=r.center,a=r.resolution,l=r.projection,h=r.rotation,u=l.getExtent(),c=this.getLayer().getSource(),p=e.pixelRatio,f=e.viewHints,d=!(f[0]||f[1]),_=this.context,g=Math.round(e.size[0]*p),y=Math.round(e.size[1]*p),v=c.getWrapX()&&l.canWrapX(),m=v?(0,o.dz)(u):null,x=v?Math.ceil((n[2]-u[2])/m)+1:1,E=v?Math.floor((n[0]-u[0])/m):0;do{var C=this.getRenderTransform(s,a,h,p,g,y,E*m);t.execute(_,1,C,h,d,void 0,i)}while(++E<x)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var i=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];(0,n.n3)(this.pixelTransform,1/i,1/i),(0,n.nb)(this.inversePixelTransform,this.pixelTransform);var s=(0,n.BB)(this.pixelTransform);this.useContainer(e,s,r.opacity);var a=this.context,l=a.canvas,h=this.replayGroup_,u=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!u||u.isEmpty()))return!this.containerReused&&l.width>0&&(l.width=0),this.container;var c=Math.round(t.size[0]*i),p=Math.round(t.size[1]*i);l.width!=c||l.height!=p?(l.width=c,l.height=p,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||a.clearRect(0,0,c,p),this.preRender(a,t);var f=t.viewState,d=f.projection,_=!1;if(r.extent&&this.clipping){var g=(0,Ot.dY)(r.extent,d);(_=!(0,o.r4)(g,t.extent)&&(0,o.kK)(g,t.extent))&&this.clipUnrotated(a,t,g)}this.renderWorlds(h,t),_&&a.restore(),this.postRender(a,t);var y=r.opacity,v=this.container;return y!==parseFloat(v.style.opacity)&&(v.style.opacity=1===y?"":String(y)),this.renderedRotation_!==f.rotation&&(this.renderedRotation_=f.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];(0,n.nn)(this.pixelTransform,i);var r=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,l=this.renderedProjection_,h=this.renderedExtent_,u=this.getLayer(),c=[],p=i[0]/2,f=i[1]/2;c.push(this.getRenderTransform(r,s,a,.5,p,f,0).slice());var d=u.getSource(),_=l.getExtent();if(d.getWrapX()&&l.canWrapX()&&!(0,o.r4)(_,h)){for(var g=h[0],y=(0,o.dz)(_),v=0,m=void 0;g<_[0];)m=y*--v,c.push(this.getRenderTransform(r,s,a,.5,p,f,m).slice()),g+=y;for(v=0,g=h[2];g>_[2];)m=y*++v,c.push(this.getRenderTransform(r,s,a,.5,p,f,m).slice()),g-=y}this.hitDetectionImageData_=function(t,e,i,n,r,s,a){var l=t[0]/2,h=t[1]/2,u=(0,B.E4)(l,h);u.imageSmoothingEnabled=!1;for(var c=u.canvas,p=new gn(u,.5,r,null,a),f=i.length,d=Math.floor(16777215/f),_={},g=1;g<=f;++g){var y=i[g-1],v=y.getStyleFunction()||n;if(n){var m=v(y,s);if(m){Array.isArray(m)||(m=[m]);for(var x="#"+("000000"+(g*d).toString(16)).slice(-6),E=0,C=m.length;E<C;++E){var S=m[E],O=S.clone(),w=O.getFill();w&&w.setColor(x);var T=O.getStroke();T&&T.setColor(x),O.setText(void 0);var b=S.getImage();if(b){var I=b.getImageSize();if(!I)continue;var P=document.createElement("canvas");P.width=I[0],P.height=I[1];var R=P.getContext("2d",{alpha:!1});R.fillStyle=x;var L=R.canvas;R.fillRect(0,0,L.width,L.height);var M=I?I[0]:L.width,A=I?I[1]:L.height;(0,B.E4)(M,A).drawImage(L,0,0),O.setImage(new Mn({img:L,imgSize:I,anchor:b.getAnchor(),anchorXUnits:vn,anchorYUnits:vn,offset:b.getOrigin(),size:b.getSize(),opacity:b.getOpacity(),scale:b.getScale(),rotation:b.getRotation(),rotateWithView:b.getRotateWithView()}))}var F=Number(O.getZIndex());(j=_[F])||(j={},_[F]=j,j[mt.Z.POLYGON]=[],j[mt.Z.CIRCLE]=[],j[mt.Z.LINE_STRING]=[],j[mt.Z.POINT]=[]);var Z=O.getGeometryFunction()(y);Z&&(0,o.kK)(r,Z.getExtent())&&j[Z.getType().replace("Multi","")].push(Z,O)}}}}for(var D=Object.keys(_).map(Number).sort(bt.kK),k=(g=0,D.length);g<k;++g){var j=_[D[g]];for(var N in j){var G=j[N];for(E=0,C=G.length;E<C;E+=2){p.setStyle(G[E+1]);for(var z=0,W=e.length;z<W;++z)p.setTransform(e[z]),p.drawGeometry(G[E])}}}return u.getImageData(0,0,c.width,c.height)}(i,c,this.renderedFeatures_,u.getStyleFunction(),h,s,a)}e(function(t,e,i){var n=[];if(i){var o=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*i.width),r=i.data[o],s=i.data[o+1],a=i.data[o+2]+256*(s+256*r),l=Math.floor(16777215/e.length);a&&a%l==0&&n.push(e[a/l-1])}return n}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r){var s=this;if(this.replayGroup_){var a,l=e.viewState.resolution,h=e.viewState.rotation,u=this.getLayer(),c={},p=function(t,e,n){var s=(0,i.sq)(t),a=c[s];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[s]=!0,r.splice(r.lastIndexOf(a),1),o(t,u,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return c[s]=!0,o(t,u,e);r.push(c[s]={feature:t,layer:u,geometry:e,distanceSq:n,callback:o})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(i){return a=i.forEachFeatureAtCoordinate(t,l,h,n,p,i===s.declutterExecutorGroup?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var n=t.viewHints[0],r=t.viewHints[1],s=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!s&&n||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=t.extent,h=t.viewState,u=h.projection,c=h.resolution,p=t.pixelRatio,f=e.getRevision(),d=e.getRenderBuffer(),_=e.getRenderOrder();void 0===_&&(_=Fn);var g=h.center.slice(),y=(0,o.f3)(l,d*c),v=[y.slice()],m=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!(0,o.r4)(m,t.extent)){var x=(0,o.dz)(m),E=Math.max((0,o.dz)(y)/2,x);y[0]=m[0]-E,y[2]=m[2]+E,D(g,u);var C=(0,o.Cf)(v[0],u);C[0]<m[0]&&C[2]<m[2]?v.push([C[0]+x,C[1],C[2]+x,C[3]]):C[0]>m[0]&&C[2]>m[2]&&v.push([C[0]-x,C[1],C[2]-x,C[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==_&&(0,o.r4)(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var S,O=new Ki(Zn(c,p),y,c,p);this.getLayer().getDeclutter()&&(S=new Ki(Zn(c,p),y,c,p));var w,T=(0,Ot.Cs)();if(T){for(var b=0,I=v.length;b<I;++b)i.loadFeatures((0,Ot.Fj)(v[b],u),c,T);w=(0,Ot.WO)(T,u)}else for(b=0,I=v.length;b<I;++b)i.loadFeatures(v[b],c,u);var P=function(t,e){var i=Zn(t,e);return i*i}(c,p),R=function(t){var i,n=t.getStyleFunction()||e.getStyleFunction();if(n&&(i=n(t,c)),i){var o=this.renderFeature(t,P,i,O,w,S);this.dirty_=this.dirty_||o}}.bind(this),L=(0,Ot.Fj)(y,u),M=i.getFeaturesInExtent(L);for(_&&M.sort(_),b=0,I=M.length;b<I;++b)R(M[b]);this.renderedFeatures_=M;var A=O.finish(),F=new dn(y,c,p,i.getOverlaps(),A,e.getRenderBuffer());return S&&(this.declutterExecutorGroup=new dn(y,c,p,i.getOverlaps(),S.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=_,this.renderedExtent_=y,this.renderedCenter_=g,this.renderedProjection_=u,this.replayGroup_=F,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,o,r){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var a=0,l=i.length;a<l;++a)s=Dn(n,t,i[a],e,this.boundHandleStyleImageChange_,o,r)||s;else s=Dn(n,t,i,e,this.boundHandleStyleImageChange_,o,r);return s},e}(li);var Gn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const zn=function(t){function e(e){return t.call(this,e)||this}return Gn(e,t),e.prototype.createRenderer=function(){return new Nn(this)},e}(Ci),Wn=function(){function t(t){this.rbush_=new(vi())(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,i.sq)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),o=0,r=e.length;o<r;o++){var s=t[o],a=e[o],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};n[o]=l,this.items_[(0,i.sq)(a)]=l}this.rbush_.load(n)},t.prototype.remove=function(t){var e=(0,i.sq)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[(0,i.sq)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];(0,o.fS)(r,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var i,n=0,o=t.length;n<o;n++)if(i=e(t[n]))return i;return i},t.prototype.isEmpty=function(){return(0,E.xb)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,o.T9)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();var Yn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Xn(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const Kn=function(t){function e(e){var i=t.call(this)||this;return i.projection_=(0,Ot.U2)(e.projection),i.attributions_=Xn(e.attributions),i.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,i.loading=!1,i.state_=void 0!==e.state?e.state:P,i.wrapX_=void 0!==e.wrapX&&e.wrapX,i}return Yn(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,i.O3)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Xn(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(h.ZP),Bn="addfeature",Vn="removefeature";function Un(t,e){return[[-1/0,-1/0,1/0,1/0]]}const qn="arraybuffer";function Hn(t,i){return function(n,o,r,s,a){var l=this;!function(t,e,i,n,o,r,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(i,n,o):t,!0),e.getType()==qn&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var n=e.getType(),l=void 0;"json"==n||"text"==n?l=a.responseText:"xml"==n?(l=a.responseXML)||(l=(new DOMParser).parseFromString(a.responseText,"application/xml")):n==qn&&(l=a.response),l?r(e.readFeatures(l,{extent:i,featureProjection:o}),e.readProjection(l)):s()}else s()},a.onerror=s,a.send()}(t,i,n,o,r,(function(t,e){void 0!==s&&s(t),l.addFeatures(t)}),a||e.Zn)}}var Jn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$n=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.feature=i,o.features=n,o}return Jn(e,t),e}(z.ZP);const Qn=function(t){function n(i){var n=this,o=i||{};(n=t.call(this,{attributions:o.attributions,projection:void 0,state:P,wrapX:void 0===o.wrapX||o.wrapX})||this).loader_=e.Zn,n.format_=o.format,n.overlaps_=void 0===o.overlaps||o.overlaps,n.url_=o.url,void 0!==o.loader?n.loader_=o.loader:void 0!==n.url_&&((0,x.h)(n.format_,7),n.loader_=Hn(n.url_,n.format_)),n.strategy_=void 0!==o.strategy?o.strategy:Un;var r,s,a=void 0===o.useSpatialIndex||o.useSpatialIndex;return n.featuresRtree_=a?new Wn:null,n.loadedExtentsRtree_=new Wn,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(o.features)?s=o.features:o.features&&(s=(r=o.features).getArray()),a||void 0!==r||(r=new q.Z(s)),void 0!==s&&n.addFeaturesInternal(s),void 0!==r&&n.bindFeaturesCollection_(r),n}return Jn(n,t),n.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},n.prototype.addFeatureInternal=function(t){var e=(0,i.sq)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var o=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new $n(Bn,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},n.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,R.oL)(e,w.Z.CHANGE,this.handleFeatureChange_,this),(0,R.oL)(e,G.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},n.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n&&(n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e),i&&((0,x.h)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},n.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},n.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],o=[],r=0,s=t.length;r<s;r++){var a=t[r],l=(0,i.sq)(a);this.addToIndex_(l,a)&&n.push(a)}r=0;for(var h=n.length;r<h;r++){a=n[r],l=(0,i.sq)(a),this.setupChangeEvents_(l,a);var u=a.getGeometry();if(u){var c=u.getExtent();e.push(c),o.push(a)}else this.nullGeometryFeatures_[l]=a}this.featuresRtree_&&this.featuresRtree_.load(e,o),r=0;for(var p=n.length;r<p;r++)this.dispatchEvent(new $n(Bn,n[r]))},n.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Bn,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),this.addEventListener(Vn,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),t.addEventListener(H.Z.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(H.Z.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},n.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(R.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var i in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new $n("clear");this.dispatchEvent(n),this.changed()},n.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},n.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0}))},n.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},n.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(i){if(i.getGeometry().intersectsExtent(t)){var n=e(i);if(n)return n}}))},n.prototype.getFeaturesCollection=function(){return this.featuresCollection_},n.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,E.xb)(this.nullGeometryFeatures_)||(0,bt.l7)(t,(0,E.KX)(this.nullGeometryFeatures_))),t},n.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},n.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},n.prototype.getClosestFeatureToCoordinate=function(t,i){var n=t[0],o=t[1],r=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0],h=i||e.uX;return this.featuresRtree_.forEachInExtent(l,(function(t){if(h(t)){var e=t.getGeometry(),i=a;if((a=e.closestPointXY(n,o,s,a))<i){r=t;var u=Math.sqrt(a);l[0]=n-u,l[1]=o-u,l[2]=n+u,l[3]=o+u}}})),r},n.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},n.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},n.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},n.prototype.getFormat=function(){return this.format_},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.getUrl=function(){return this.url_},n.prototype.handleFeatureChange_=function(t){var e=t.target,n=(0,i.sq)(e),o=e.getGeometry();if(o){var r=o.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var a=s.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new $n("changefeature",e))},n.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,i.sq)(t)in this.uidIndex_},n.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,E.xb)(this.nullGeometryFeatures_)},n.prototype.loadFeatures=function(t,i,n){var r=this.loadedExtentsRtree_,s=this.strategy_(t,i);this.loading=!1;for(var a=function(t,a){var h=s[t];r.forEachInExtent(h,(function(t){return(0,o.r4)(t.extent,h)}))||(l.dispatchEvent(new $n("featuresloadstart")),l.loader_.call(l,h,i,n,function(t){this.dispatchEvent(new $n("featuresloadend",void 0,t))}.bind(l),function(){this.dispatchEvent(new $n("featuresloaderror"))}.bind(l)),r.insert(h,{extent:h.slice()}),l.loading=l.loader_!==e.Zn)},l=this,h=0,u=s.length;h<u;++h)a(h)},n.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},n.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,(function(i){if((0,o.fS)(i.extent,t))return e=i,!0})),e&&i.remove(e)},n.prototype.removeFeature=function(t){var e=(0,i.sq)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},n.prototype.removeFeatureInternal=function(t){var e=(0,i.sq)(t);this.featureChangeKeys_[e].forEach(R.bN),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new $n(Vn,t))},n.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},n.prototype.setLoader=function(t){this.loader_=t},n.prototype.setUrl=function(t){(0,x.h)(this.format_,7),this.setLoader(Hn(t,this.format_))},n}(Kn);var to=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const eo=function(t){function e(e,i,n){var o=t.call(this)||this,r=n||{};return o.tileCoord=e,o.state=i,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===r.transition?250:r.transition,o.transitionStarts_={},o}return to(e,t),e.prototype.changed=function(){this.dispatchEvent(w.Z.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,i.O3)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var n=e-i+1e3/60;return n>=this.transition_?1:(0,At.YQ)(n/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ot.Z);var io=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const no=function(t){function e(e,i,n,o,r,s){var a=t.call(this,e,i,s)||this;return a.crossOrigin_=o,a.src_=n,a.key=n,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.tileLoadFunction_=r,a}return io(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=(0,B.E4)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=2:this.state=4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=bn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(eo),oo=function(){function t(t,e,i,n,r,s){this.sourceProj_=t,this.targetProj_=e;var a={},l=(0,Ot.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=l(t)),a[e]},this.maxSourceExtent_=n,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&(0,o.dz)(n)==(0,o.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,o.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,o.dz)(this.targetProj_.getExtent()):null;var h=(0,o.rL)(i),u=(0,o.Xv)(i),c=(0,o.w$)(i),p=(0,o.hC)(i),f=this.transformInv_(h),d=this.transformInv_(u),_=this.transformInv_(c),g=this.transformInv_(p),y=10+(s?Math.max(0,Math.ceil((0,C.k3)((0,o.bg)(i)/(s*s*256*256)))):0);if(this.addQuad_(h,u,c,p,f,d,_,g,y),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach((function(t,e,i){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,i,n,o,r){this.triangles_.push({source:[n,o,r],target:[t,e,i]})},t.prototype.addQuad_=function(t,e,i,n,r,s,a,l,h){var u=(0,o.hI)([r,s,a,l]),c=this.sourceWorldWidth_?(0,o.dz)(u)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,d=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=(0,o.hI)([t,e,i,n]);d=(0,o.dz)(_)/this.targetWorldWidth_>.25||d}!f&&this.sourceProj_.isGlobal()&&c&&(d=c>.25||d)}if(!(!d&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||(0,o.kK)(u,this.maxSourceExtent_)){var g=0;if(!(d||isFinite(r[0])&&isFinite(r[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(h>0)d=!0;else if(1!=(g=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1))&&2!=g&&4!=g&&8!=g)return;if(h>0){if(!d){var y=[(t[0]+i[0])/2,(t[1]+i[1])/2],v=this.transformInv_(y),m=void 0;m=f?((0,C.$W)(r[0],p)+(0,C.$W)(a[0],p))/2-(0,C.$W)(v[0],p):(r[0]+a[0])/2-v[0];var x=(r[1]+a[1])/2-v[1];d=m*m+x*x>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var E=[(e[0]+i[0])/2,(e[1]+i[1])/2],S=this.transformInv_(E),O=[(n[0]+t[0])/2,(n[1]+t[1])/2],w=this.transformInv_(O);this.addQuad_(t,e,E,O,r,s,S,w,h-1),this.addQuad_(O,E,i,n,w,S,a,l,h-1)}else{var T=[(t[0]+e[0])/2,(t[1]+e[1])/2],b=this.transformInv_(T),I=[(i[0]+n[0])/2,(i[1]+n[1])/2],P=this.transformInv_(I);this.addQuad_(t,T,I,n,r,b,P,l,h-1),this.addQuad_(T,e,i,I,b,s,a,P,h-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(t,i,n,r,a,l),0==(14&g)&&this.addTriangle_(t,i,e,r,a,s),g&&(0==(13&g)&&this.addTriangle_(e,n,t,s,l,r),0==(7&g)&&this.addTriangle_(e,n,i,s,l,a))}},t.prototype.calculateSourceExtent=function(){var t=(0,o.lJ)();return this.triangles_.forEach((function(e,i,n){var r=e.source;(0,o.Wj)(t,r[0]),(0,o.Wj)(t,r[1]),(0,o.Wj)(t,r[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var ro,so={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function ao(t,e,i,n,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(n,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,n)+1,Math.max(i,o)),t.restore()}function lo(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function ho(t,e,i,n){var r=(0,Ot.vs)(i,e,t),s=(0,Ot._Q)(e,n,i),a=e.getMetersPerUnit();void 0!==a&&(s*=a);var l=t.getMetersPerUnit();void 0!==l&&(s/=l);var h=t.getExtent();if(!h||(0,o.b8)(h,r)){var u=(0,Ot._Q)(t,s,r)/s;isFinite(u)&&u>0&&(s/=u)}return s}var uo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const co=function(t){function e(e,i,n,r,s,a,l,h,u,c,p,f){var d=t.call(this,s,0)||this;d.renderEdges_=void 0!==p&&p,d.contextOptions_=f,d.pixelRatio_=l,d.gutter_=h,d.canvas_=null,d.sourceTileGrid_=i,d.targetTileGrid_=r,d.wrappedTileCoord_=a||s,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var _=r.getTileCoordExtent(d.wrappedTileCoord_),g=d.targetTileGrid_.getExtent(),y=d.sourceTileGrid_.getExtent(),v=g?(0,o.Ed)(_,g):_;if(0===(0,o.bg)(v))return d.state=4,d;var m=e.getExtent();m&&(y=y?(0,o.Ed)(y,m):m);var x=r.getResolution(d.wrappedTileCoord_[0]),E=function(t,e,i,n){var r=(0,o.qg)(i),s=ho(t,e,r,n);return(!isFinite(s)||s<=0)&&(0,o.H6)(i,(function(i){return s=ho(t,e,i,n),isFinite(s)&&s>0})),s}(e,n,v,x);if(!isFinite(E)||E<=0)return d.state=4,d;var S=void 0!==c?c:.5;if(d.triangulation_=new oo(e,n,v,y,E*S,x),0===d.triangulation_.getTriangles().length)return d.state=4,d;d.sourceZ_=i.getZForResolution(E);var O=d.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(O[1]=(0,C.uZ)(O[1],y[1],y[3]),O[3]=(0,C.uZ)(O[3],y[1],y[3])):O=(0,o.Ed)(O,y)),(0,o.bg)(O)){for(var w=i.getTileRangeForExtentAndZ(O,d.sourceZ_),T=w.minX;T<=w.maxX;T++)for(var b=w.minY;b<=w.maxY;b++){var I=u(d.sourceZ_,T,b,l);I&&d.sourceTiles_.push(I)}0===d.sourceTiles_.length&&(d.state=4)}else d.state=4;return d}return uo(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,n){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],r="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,i,n,r,s,a,l,h,u,c,p){var f=(0,B.E4)(Math.round(i*t),Math.round(i*e));if((0,E.f0)(f,p),0===h.length)return f.canvas;function d(t){return Math.round(t*i)/i}f.scale(i,i),f.globalCompositeOperation="lighter";var _=(0,o.lJ)();h.forEach((function(t,e,i){(0,o.l7)(_,t.extent)}));var g=(0,o.dz)(_),y=(0,o.Cr)(_),v=(0,B.E4)(Math.round(i*g/n),Math.round(i*y/n));(0,E.f0)(v,p);var m=i/n;h.forEach((function(t,e,i){var n=t.extent[0]-_[0],r=-(t.extent[3]-_[3]),s=(0,o.dz)(t.extent),a=(0,o.Cr)(t.extent);t.image.width>0&&t.image.height>0&&v.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,n*m,r*m,s*m,a*m)}));var x=(0,o.rL)(a);return l.getTriangles().forEach((function(t,e,o){var r=t.source,a=t.target,l=r[0][0],h=r[0][1],u=r[1][0],c=r[1][1],g=r[2][0],y=r[2][1],m=d((a[0][0]-x[0])/s),E=d(-(a[0][1]-x[1])/s),S=d((a[1][0]-x[0])/s),O=d(-(a[1][1]-x[1])/s),w=d((a[2][0]-x[0])/s),T=d(-(a[2][1]-x[1])/s),b=l,I=h;l=0,h=0;var P=[[u-=b,c-=I,0,0,S-m],[g-=b,y-=I,0,0,w-m],[0,0,u,c,O-E],[0,0,g,y,T-E]],R=(0,C.SV)(P);if(R){if(f.save(),f.beginPath(),function(){if(void 0===ro){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",ao(t,4,5,4,0),ao(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;ro=lo(e,0)||lo(e,4)||lo(e,8)}return ro}()||p===so){f.moveTo(S,O);for(var L=m-S,M=E-O,A=0;A<4;A++)f.lineTo(S+d((A+1)*L/4),O+d(A*M/3)),3!=A&&f.lineTo(S+d((A+1)*L/4),O+d((A+1)*M/3));f.lineTo(w,T)}else f.moveTo(S,O),f.lineTo(m,E),f.lineTo(w,T);f.clip(),f.transform(R[0],R[2],R[1],R[3],m,E),f.translate(_[0]-b,_[3]-I),f.scale(n/i,-n/i),f.drawImage(v.canvas,0,0),f.restore()}})),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,l.getTriangles().forEach((function(t,e,i){var n=t.target,o=(n[0][0]-x[0])/s,r=-(n[0][1]-x[1])/s,a=(n[1][0]-x[0])/s,l=-(n[1][1]-x[1])/s,h=(n[2][0]-x[0])/s,u=-(n[2][1]-x[1])/s;f.beginPath(),f.moveTo(a,l),f.lineTo(o,r),f.lineTo(h,u),f.closePath(),f.stroke()})),f.restore()),f.canvas}(n,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,n){var o=e.getState();if(0==o||1==o){t++;var r=(0,R.oL)(e,w.Z.CHANGE,(function(i){var n=e.getState();2!=n&&3!=n&&4!=n||((0,R.bN)(r),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(r)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){0==t.getState()&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(R.bN),this.sourcesListenerKeys_=null},e}(eo),po=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var i=this.entries_[t];return(0,x.h)(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},t.prototype.remove=function(t){var e=this.entries_[t];return(0,x.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){(0,x.h)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function fo(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]}function _o(t,e,i){return t+"/"+e+"/"+i}function go(t){return _o(t[0],t[1],t[2])}var yo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yo(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=(e=this.peekFirstKey(),e.split("/").map(Number))[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(go(e.tileCoord)),e.release())}.bind(this))}var e},e}(po);var mo=s(1748),xo=[0,0,0];const Eo=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,x.h)((0,bt.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,n=this.resolutions_.length-1;i<n;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,x.h)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=(0,o.rL)(r)),(0,x.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,x.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,(0,x.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var i=new ci(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(r){var n=this.getTileRangeForExtentAndZ(r,e);i.minX=Math.max(n.minX,i.minX),i.maxX=Math.min(n.maxX,i.maxX),i.minY=Math.max(n.minY,i.minY),i.maxY=Math.min(n.maxY,i.maxY)}return i}),this):r&&this.calculateTileRanges_(r)}return t.prototype.forEachTileCoord=function(t,e,i){for(var n=this.getTileRangeForExtentAndZ(t,e),o=n.minX,r=n.maxX;o<=r;++o)for(var s=n.minY,a=n.maxY;s<=a;++s)i([e,o,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,i,n){var o,r,s=null,a=t[0]-1;for(2===this.zoomFactor_?(o=t[1],r=t[2]):s=this.getTileCoordExtent(t,n);a>=this.minZoom;){if(e(a,2===this.zoomFactor_?ui(o=Math.floor(o/2),o,r=Math.floor(r/2),r,i):this.getTileRangeForExtentAndZ(s,a,i)))return!0;--a}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],o=2*t[2];return ui(n,n+1,o,o+1,e)}var r=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,i){var n=this.getOrigin(t),r=this.getResolution(t),s=(0,ce.Pq)(this.getTileSize(t),this.tmpSize_),a=n[0]+e.minX*s[0]*r,l=n[0]+(e.maxX+1)*s[0]*r,h=n[1]+e.minY*s[1]*r,u=n[1]+(e.maxY+1)*s[1]*r;return(0,o.T9)(a,h,l,u,i)},t.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=xo;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var o=n[1],r=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),ui(o,n[1],r,n[2],i)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=(0,ce.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]-(t[2]+.5)*n[1]*i]},t.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=(0,ce.Pq)(this.getTileSize(t[0]),this.tmpSize_),s=i[0]+t[1]*r[0]*n,a=i[1]-(t[2]+1)*r[1]*n,l=s+r[0]*n,h=a+r[1]*n;return(0,o.T9)(s,a,l,h,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,i,n,o){var r=this.getZForResolution(i),s=i/this.getResolution(r),a=this.getOrigin(r),l=(0,ce.Pq)(this.getTileSize(r),this.tmpSize_),h=n?.5:0,u=n?.5:0,c=Math.floor((t-a[0])/i+h),p=Math.floor((a[1]-e)/i+u),f=s*c/l[0],d=s*p/l[1];return n?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),fo(r,f,d,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,i,n,o){var r=this.getOrigin(i),s=this.getResolution(i),a=(0,ce.Pq)(this.getTileSize(i),this.tmpSize_),l=n?.5:0,h=n?.5:0,u=Math.floor((t-r[0])/s+l),c=Math.floor((r[1]-e)/s+h),p=u/a[0],f=c/a[1];return n?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),fo(i,p,f,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var i=(0,bt.h7)(this.resolutions_,t,e||0);return(0,C.uZ)(i,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i},t}();function Co(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,i,n){return function(t,e,i,n){var r=mo.Z.TOP_LEFT,s=So(t,undefined,i);return new Eo({extent:t,origin:(0,o.g0)(t,r),resolutions:s,tileSize:i})}(Oo(t),0,void 0)}(t),t.setDefaultTileGrid(e)),e}function So(t,e,i,n){for(var r=void 0!==e?e:42,s=(0,o.Cr)(t),a=(0,o.dz)(t),l=(0,ce.Pq)(void 0!==i?i:256),h=n>0?n:Math.max(a/l[0],s/l[1]),u=r+1,c=new Array(u),p=0;p<u;++p)c[p]=h/Math.pow(2,p);return c}function Oo(t){var e=(t=(0,Ot.U2)(t)).getExtent();if(!e){var i=180*Ot.Wm[xt.Z.DEGREES]/t.getMetersPerUnit();e=(0,o.T9)(-i,-i,i,i)}return e}var wo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),To=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var n=e.tileGrid;return n&&(0,ce.Pq)(n.getTileSize(n.getMinZoom()),[256,256]),i.tileCache=new vo(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition},i.zDirection=e.zDirection?e.zDirection:0,i}return wo(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,n){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var r,s,a,l=!0,h=i.minX;h<=i.maxX;++h)for(var u=i.minY;u<=i.maxY;++u)s=_o(e,h,u),a=!1,o.containsKey(s)&&(a=2===(r=o.get(s)).getState())&&(a=!1!==n(r)),a||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,o,r){return(0,i.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Co(t)},e.prototype.getTileCacheForProjection=function(t){return(0,x.h)((0,Ot.OP)(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var n=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),r=(0,ce.Pq)(n.getTileSize(t),this.tmpSize);return 1==o?r:(0,ce.bA)(r,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),n=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=function(t,e,i){var n=e[0],r=t.getTileCoordCenter(e),s=Oo(i);if((0,o.b8)(s,r))return e;var a=(0,o.dz)(s),l=Math.ceil((s[0]-r[0])/a);return r[0]+=a*l,t.getTileCoordForCoordAndZ(r,n)}(n,t,i)),function(t,e){var i=t[0],n=t[1],o=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var r=e.getFullTileRange(i);return!r||r.containsXY(n,o)}(t,n)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,e,i,n){},e}(Kn),bo=function(t){function e(e,i){var n=t.call(this,e)||this;return n.tile=i,n}return wo(e,t),e}(z.ZP);const Io=To;function Po(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(s,a,l){return s?t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,s[2].toString()).replace(r,(function(){var t=s[0],i=e.getFullTileRange(t);return(0,x.h)(i,55),(i.getHeight()-s[2]-1).toString()})):void 0}}var Ro=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Lo=function(t){function e(i){var n=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,opaque:i.opaque,projection:i.projection,state:i.state,tileGrid:i.tileGrid,tilePixelRatio:i.tilePixelRatio,wrapX:i.wrapX,transition:i.transition,key:i.key,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===e.prototype.tileUrlFunction,n.tileLoadFunction=i.tileLoadFunction,i.tileUrlFunction&&(n.tileUrlFunction=i.tileUrlFunction),n.urls=null,i.urls?n.setUrls(i.urls):i.url&&n.setUrl(i.url),n.tileLoadingKeys_={},n}return Ro(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,o=(0,i.sq)(n),r=n.getState();1==r?(this.tileLoadingKeys_[o]=!0,e="tileloadstart"):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=e&&this.dispatchEvent(new bo(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n=i[1].charCodeAt(0),o=i[2].charCodeAt(0),r=void 0;for(r=n;r<=o;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var i=t.length,n=new Array(i),o=0;o<i;++o)n[o]=Po(t[o],e);return function(t){return 1===t.length?t[0]:function(e,i,n){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),r=(0,C.$W)(o,t.length);return t[r](e,i,n)}}}(n)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,i){},e.prototype.useTile=function(t,e,i){var n=_o(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(Io);var Mo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Ao(t,e){t.getImage().src=e}const Fo=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ao,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return i.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:no,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.contextOptions_=!1===e.imageSmoothing?so:void 0,i.renderReprojectionEdges_=!1,i}return Mo(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);for(var n in this.tileCache.expireCache(this.tileCache==i?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[n];o.expireCache(o==i?e:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!(0,Ot.OP)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!(0,Ot.OP)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!(0,Ot.OP)(e,t)){var n=(0,i.sq)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Co(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||(0,Ot.OP)(e,t))return this.tileCache;var n=(0,i.sq)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new vo(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,i,n,o,r){var s=[t,e,i],a=this.getTileCoordForTileUrlFunction(s,o),l=a?this.tileUrlFunction(a,n,o):void 0,h=new this.tileClass(s,void 0!==l?0:4,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=r,h.addEventListener(w.Z.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,i,n,o){var r=this.getProjection();if(r&&o&&!(0,Ot.OP)(r,o)){var s=this.getTileCacheForProjection(o),a=[t,e,i],l=void 0,h=go(a);s.containsKey(h)&&(l=s.get(h));var u=this.getKey();if(l&&l.key==u)return l;var c=this.getTileGridForProjection(r),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(a,o),d=new co(r,c,o,p,a,f,this.getTilePixelRatio(n),this.getGutter(),function(t,e,i,n){return this.getTileInternal(t,e,i,n,r)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return d.key=u,l?(d.interimTile=l,d.refreshInterimChain(),s.replace(h,d)):s.set(h,d),d}return this.getTileInternal(t,e,i,n,r||o)},e.prototype.getTileInternal=function(t,e,i,n,o){var r=null,s=_o(t,e,i),a=this.getKey();if(this.tileCache.containsKey(s)){if((r=this.tileCache.get(s)).key!=a){var l=r;r=this.createTile_(t,e,i,n,o,a),0==l.getState()?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(s,r)}}else r=this.createTile_(t,e,i,n,o,a),this.tileCache.set(s,r);return r},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=(0,Ot.U2)(t);if(n){var o=(0,i.sq)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}},e}(Lo);var Zo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Do=function(t){function e(e){var i=e||{},n=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:function(t){var e=t||{},i=e.extent||(0,Ot.U2)("EPSG:3857").getExtent(),n={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:So(i,e.maxZoom,e.tileSize,e.maxResolution)};return new Eo(n)}({extent:Oo(n),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:n,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return Zo(e,t),e}(Fo);var ko=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const jo=function(t){function e(e){var i,n=e||{};i=void 0!==n.attributions?n.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var o=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",r=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:o,imageSmoothing:n.imageSmoothing,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,opaque:void 0===n.opaque||n.opaque,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:r,wrapX:n.wrapX})||this}return ko(e,t),e}(Do);var No=s(1978),Go=s(9882);function zo(t){return(0,Go.v)({primary:t.dataset.colorPrimary,secondary:t.dataset.colorSecondary},((t,e)=>e))}const Wo=new URLSearchParams(window.location.search),Yo=Wo.get("markers"),Xo=window.parent!==window||Wo.has("noedit"),Ko=document.getElementById("map");function Bo(t,e){return Wo.get(t)||(Xo?e:"")}Object.assign(Ko.style,{width:Bo("width","100vw"),height:Bo("height","100vh")});const Vo=Yo?JSON.parse(Yo):Array.from(document.querySelectorAll(".marker"),(t=>{var e,i,n;return{location:(n=t,[Number(n.dataset.lon),Number(n.dataset.lat)]),color:zo(t),name:null===(e=t.content.querySelector(".name"))||void 0===e?void 0:e.textContent,info:null===(i=t.content.querySelector(".info"))||void 0===i?void 0:i.cloneNode(!0)}})),{markerLayer:Uo,markerSelect:qo}=function(t,e){const i=e.length?e[0].location:[180*Math.random(),90*Math.random()],n=new Je({target:t,layers:[new gi({source:new jo})],view:new ue({center:(0,Ot.mi)(i),zoom:e.length?15:5})}),o=new zn({source:new Qn({features:e.map((t=>new No.J(t)))}),style:t=>(0,No.q)(t)}),r=new $e.Z({condition:Te.V4,style:t=>(0,No.q)(t,!0)});return n.addLayer(o),n.addInteraction(r),{markerLayer:o,markerSelect:r}}(Ko,Vo),Ho=qo.getMap(),Jo=Ho.getView();qo.on("select",(t=>{const[e]=t.selected;t.selected.forEach((t=>{t.showInfo(Ho)})),t.deselected.forEach((t=>{t.hideInfo(Ho)})),e&&!e.hasInfo&&Jo.animate({center:e.get("geometry").getCoordinates(),duration:200})})),Xo||s.e(301).then(s.bind(s,3301)).then((({initControls:t})=>{const e=document.getElementById("controls");e.style.display="",t(e,Uo,qo)})).catch(console.error)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXAtbWFya2Vycy93ZWJwYWNrL3J1bnRpbWUvbG9hZCBzY3JpcHQiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvd2VicGFjay9ydW50aW1lL2NzcyBsb2FkaW5nIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0Fzc2VydGlvbkVycm9yLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9EaXNwb3NhYmxlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlU3RhdGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9NYXBFdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvT2JqZWN0LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL09iamVjdEV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2FycmF5LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2Fzc2VydHMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvY29sb3IuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvY29sb3JsaWtlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2Nzcy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9kb20uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZWFzaW5nLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvRXZlbnQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzL0V2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvVGFyZ2V0LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9jb25kaXRpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2V4dGVudC9Db3JuZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50L1JlbGF0aW9uc2hpcC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9mdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9HZW9tZXRyeUxheW91dC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL0dlb21ldHJ5VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL1BvaW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9TaW1wbGVHZW9tZXRyeS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvZGVmbGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2hhcy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9Qb2ludGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1Byb3BlcnR5LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1NlbGVjdC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9tYXRoLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL29iai5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL1Byb2plY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai9lcHNnMzg1Ny5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL2Vwc2c0MzI2LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovcHJvamVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai90cmFuc2Zvcm1zLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NwaGVyZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovVW5pdHMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zaXplLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL1JlZ3VsYXJTaGFwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvRmlsbC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JbWFnZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9TdHJva2UuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3R5bGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvVGV4dFBsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC90cmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdXRpbC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9yYnVzaC9yYnVzaC5taW4uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvRmVhdHVyZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9PdmVybGF5UG9zaXRpb25pbmcuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvT3ZlcmxheS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9UZXh0LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vc3JjL21hcmtlci50cyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL3NyYy91dGlsLnRzIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy93ZWJwYWNrL3J1bnRpbWUvZ2V0IG1pbmktY3NzIGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25JbWFnZUNhY2hlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1Byb3BlcnR5LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0Jhc2UuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0V2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvU3RhdGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvY29vcmRpbmF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9NYXAuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0V2ZW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL0NvbXBvc2l0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9Hcm91cC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9NYXBFdmVudC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9NYXBCcm93c2VyRXZlbnQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9NYXBQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVF1ZXVlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVTdGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3SGludC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3UHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvY29tbW9uLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2NlbnRlcmNvbnN0cmFpbnQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVzb2x1dGlvbmNvbnN0cmFpbnQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcm90YXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9jbG9zZXN0LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zaW1wbGlmeS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW5mbGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvYXJlYS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL0xpbmVhclJpbmcuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2NvbnRhaW5zLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zZWdtZW50cy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvcmV2ZXJzZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvb3JpZW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vUG9seWdvbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL1BsdWdnYWJsZU1hcC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL0NvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9BdHRyaWJ1dGlvbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL1JvdGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL1pvb20uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdQYW4uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvQm94LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdCb3guanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzL0tleUNvZGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0tpbmV0aWMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUGluY2hab29tLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL01hcC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1RpbGVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVGlsZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9MYXllci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVJhbmdlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVGlsZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVmVjdG9yLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvSW5zdHJ1Y3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL1ZlY3RvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvSW1hZ2VCdWlsZGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvTGluZVN0cmluZ0J1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9Qb2x5Z29uQnVpbGRlci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvc3RyYWlnaHRjaHVuay5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL1RleHRCdWlsZGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlclR5cGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RleHRwYXRoLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9sZW5ndGguanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9FeGVjdXRvci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkFuY2hvclVuaXRzLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25PcmlnaW4uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VCYXNlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25JbWFnZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JY29uLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL3ZlY3Rvci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3QuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVmVjdG9yLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0cnVjdHMvUkJ1c2guanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1NvdXJjZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVmVjdG9yRXZlbnRUeXBlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2xvYWRpbmdzdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9mb3JtYXQvRm9ybWF0VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9mZWF0dXJlbG9hZGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9WZWN0b3IuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZVRpbGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL1RyaWFuZ3VsYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZXByb2ouanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL1RpbGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL0xSVUNhY2hlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVjb29yZC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9UaWxlQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvVGlsZUdyaWQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1RpbGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZXVybGZ1bmN0aW9uLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9VcmxUaWxlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlRXZlbnRUeXBlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1hZWi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvT1NNLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vc3JjL21hcC50cyJdLCJuYW1lcyI6WyJpblByb2dyZXNzIiwiZGF0YVdlYnBhY2tQcmVmaXgiLCJsb2FkU3R5bGVzaGVldCIsImluc3RhbGxlZENzc0NodW5rcyIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfc3VwZXIiLCJBc3NlcnRpb25FcnJvciIsImNvZGUiLCJfdGhpcyIsIm1lc3NhZ2UiLCJuYW1lIiwiRXJyb3IiLCJQcm9wZXJ0eSIsIkNvbGxlY3Rpb25FdmVudCIsInR5cGUiLCJvcHRfZWxlbWVudCIsIm9wdF9pbmRleCIsImVsZW1lbnQiLCJpbmRleCIsIkNvbGxlY3Rpb24iLCJvcHRfYXJyYXkiLCJvcHRfb3B0aW9ucyIsIm9wdGlvbnMiLCJ1bmlxdWVfIiwidW5pcXVlIiwiYXJyYXlfIiwiaSIsImlpIiwibGVuZ3RoIiwiYXNzZXJ0VW5pcXVlXyIsInVwZGF0ZUxlbmd0aF8iLCJjbGVhciIsImdldExlbmd0aCIsInBvcCIsImV4dGVuZCIsImFyciIsInB1c2giLCJmb3JFYWNoIiwiZiIsImFycmF5IiwiZ2V0QXJyYXkiLCJpdGVtIiwiZ2V0IiwiaW5zZXJ0QXQiLCJlbGVtIiwic3BsaWNlIiwiZGlzcGF0Y2hFdmVudCIsInJlbW92ZUF0IiwibiIsInJlbW92ZSIsInByZXYiLCJzZXRBdCIsImoiLCJ1bmRlZmluZWQiLCJzZXQiLCJvcHRfZXhjZXB0IiwiQUREIiwiUkVNT1ZFIiwiRGlzcG9zYWJsZSIsImRpc3Bvc2VkIiwiZGlzcG9zZSIsImRpc3Bvc2VJbnRlcm5hbCIsIklETEUiLCJMT0FESU5HIiwiTE9BREVEIiwiRVJST1IiLCJFTVBUWSIsIlNJTkdMRUNMSUNLIiwiQ0xJQ0siLCJEQkxDTElDSyIsIlBPSU5URVJEUkFHIiwiUE9JTlRFUk1PVkUiLCJQT0lOVEVSRE9XTiIsIlBPSU5URVJVUCIsIlBPSU5URVJPVkVSIiwiUE9JTlRFUk9VVCIsIlBPSU5URVJFTlRFUiIsIlBPSU5URVJMRUFWRSIsIlBPSU5URVJDQU5DRUwiLCJQT1NUUkVOREVSIiwiTU9WRVNUQVJUIiwiTU9WRUVORCIsIk9iamVjdEV2ZW50Iiwia2V5Iiwib2xkVmFsdWUiLCJCYXNlT2JqZWN0Iiwib3B0X3ZhbHVlcyIsInZhbHVlc18iLCJzZXRQcm9wZXJ0aWVzIiwidmFsdWUiLCJnZXRLZXlzIiwia2V5cyIsImdldFByb3BlcnRpZXMiLCJoYXNQcm9wZXJ0aWVzIiwibm90aWZ5IiwiZXZlbnRUeXBlIiwiZ2V0Q2hhbmdlRXZlbnRUeXBlIiwib3B0X3NpbGVudCIsInZhbHVlcyIsImFwcGx5UHJvcGVydGllcyIsInNvdXJjZSIsInVuc2V0IiwiY2hhbmdlRXZlbnRUeXBlQ2FjaGUiLCJQUk9QRVJUWUNIQU5HRSIsIk9ic2VydmFibGUiLCJyZXZpc2lvbl8iLCJjaGFuZ2VkIiwiZ2V0UmV2aXNpb24iLCJvbiIsImxpc3RlbmVyIiwiaXNBcnJheSIsImxlbiIsIm9uY2UiLCJvbF9rZXkiLCJ1biIsInVuQnlLZXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbiIsImEiLCJpbmNsdWRlcyIsIm9iaiIsImluZGV4T2YiLCJsaW5lYXJGaW5kTmVhcmVzdCIsInRhcmdldCIsImRpcmVjdGlvbiIsInJldmVyc2VTdWJBcnJheSIsImJlZ2luIiwiZW5kIiwidG1wIiwiZGF0YSIsImV4dGVuc2lvbiIsImVxdWFscyIsImFycjEiLCJhcnIyIiwibGVuMSIsImlzU29ydGVkIiwib3B0X2Z1bmMiLCJvcHRfc3RyaWN0IiwiY29tcGFyZSIsImV2ZXJ5IiwiY3VycmVudFZhbCIsInJlcyIsImFzc2VydCIsImFzc2VydGlvbiIsImVycm9yQ29kZSIsIkhFWF9DT0xPUl9SRV8iLCJOQU1FRF9DT0xPUl9SRV8iLCJhc1N0cmluZyIsImNvbG9yIiwidG9TdHJpbmciLCJjYWNoZSIsImNhY2hlU2l6ZSIsImZyb21TdHJpbmciLCJzIiwiciIsImciLCJleGVjIiwiZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJnYiIsImdldENvbXB1dGVkU3R5bGUiLCJyZW1vdmVDaGlsZCIsImZyb21OYW1lZCIsImhhc0FscGhhIiwicGFyc2VJbnQiLCJzdWJzdHIiLCJub3JtYWxpemUiLCJzbGljZSIsInNwbGl0IiwibWFwIiwiTnVtYmVyIiwiZnJvbVN0cmluZ0ludGVybmFsXyIsImFzQXJyYXkiLCJhc0NvbG9yTGlrZSIsIkNMQVNTX0hJRERFTiIsIkNMQVNTX1NFTEVDVEFCTEUiLCJDTEFTU19VTlNFTEVDVEFCTEUiLCJDTEFTU19DT05UUk9MIiwiQ0xBU1NfQ09MTEFQU0VEIiwiZm9udFJlZ0V4IiwiUmVnRXhwIiwiam9pbiIsImZvbnRSZWdFeE1hdGNoSW5kZXgiLCJnZXRGb250UGFyYW1ldGVycyIsImZvbnRTcGVjIiwibWF0Y2giLCJsaW5lSGVpZ2h0Iiwic2l6ZSIsIndlaWdodCIsInZhcmlhbnQiLCJmYW1pbGllcyIsImZhbWlseSIsImNyZWF0ZUNhbnZhc0NvbnRleHQyRCIsIm9wdF93aWR0aCIsIm9wdF9oZWlnaHQiLCJvcHRfY2FudmFzUG9vbCIsImNhbnZhcyIsInNoaWZ0IiwiT2Zmc2NyZWVuQ2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRDb250ZXh0Iiwib3V0ZXJXaWR0aCIsIm9mZnNldFdpZHRoIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJyZXBsYWNlTm9kZSIsIm5ld05vZGUiLCJvbGROb2RlIiwicGFyZW50IiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsInJlbW92ZU5vZGUiLCJub2RlIiwicmVtb3ZlQ2hpbGRyZW4iLCJsYXN0Q2hpbGQiLCJyZXBsYWNlQ2hpbGRyZW4iLCJjaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwiY2hpbGROb2RlcyIsIm9sZENoaWxkIiwibmV3Q2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJlYXNlSW4iLCJ0IiwiTWF0aCIsInBvdyIsImVhc2VPdXQiLCJpbkFuZE91dCIsImxpbmVhciIsImxpc3RlbiIsIm9wdF90aGlzIiwib3B0X29uY2UiLCJiaW5kIiwib3JpZ2luYWxMaXN0ZW5lcl8xIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJldmVudHNLZXkiLCJhZGRFdmVudExpc3RlbmVyIiwibGlzdGVuT25jZSIsInVubGlzdGVuQnlLZXkiLCJCYXNlRXZlbnQiLCJwcm9wYWdhdGlvblN0b3BwZWQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkNIQU5HRSIsIkJMVVIiLCJDTEVBUiIsIkNPTlRFWFRNRU5VIiwiRFJBR0VOVEVSIiwiRFJBR09WRVIiLCJEUk9QIiwiRk9DVVMiLCJLRVlET1dOIiwiS0VZUFJFU1MiLCJMT0FEIiwiUkVTSVpFIiwiVE9VQ0hNT1ZFIiwiV0hFRUwiLCJUYXJnZXQiLCJvcHRfdGFyZ2V0IiwiZXZlbnRUYXJnZXRfIiwicGVuZGluZ1JlbW92YWxzXyIsImRpc3BhdGNoaW5nXyIsImxpc3RlbmVyc18iLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lcnNGb3JUeXBlIiwiZXZlbnQiLCJldnQiLCJwcm9wYWdhdGUiLCJkaXNwYXRjaGluZyIsInBlbmRpbmdSZW1vdmFscyIsImhhbmRsZUV2ZW50IiwicHIiLCJnZXRMaXN0ZW5lcnMiLCJoYXNMaXN0ZW5lciIsIm9wdF90eXBlIiwiYWxsIiwidmFyX2FyZ3MiLCJjb25kaXRpb25zIiwicGFzcyIsImFsdFNoaWZ0S2V5c09ubHkiLCJtYXBCcm93c2VyRXZlbnQiLCJvcmlnaW5hbEV2ZW50IiwiYWx0S2V5IiwibWV0YUtleSIsImN0cmxLZXkiLCJzaGlmdEtleSIsImZvY3VzV2l0aFRhYmluZGV4IiwiZ2V0VGFyZ2V0RWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsImNvbnRhaW5zIiwiYWN0aXZlRWxlbWVudCIsImZvY3VzIiwiYWx3YXlzIiwiY2xpY2siLCJtb3VzZUFjdGlvbkJ1dHRvbiIsImJ1dHRvbiIsIm5ldmVyIiwic2luZ2xlQ2xpY2siLCJub01vZGlmaWVyS2V5cyIsInNoaWZ0S2V5T25seSIsInRhcmdldE5vdEVkaXRhYmxlIiwidGFnTmFtZSIsIm1vdXNlT25seSIsInBvaW50ZXJFdmVudCIsInBvaW50ZXJUeXBlIiwicHJpbWFyeUFjdGlvbiIsImlzUHJpbWFyeSIsImJvdW5kaW5nRXh0ZW50IiwiY29vcmRpbmF0ZXMiLCJleHRlbnQiLCJJbmZpbml0eSIsImV4dGVuZENvb3JkaW5hdGUiLCJidWZmZXIiLCJvcHRfZXh0ZW50IiwiY2xvbmUiLCJjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkiLCJ4IiwieSIsImR4IiwiZHkiLCJjb250YWluc0Nvb3JkaW5hdGUiLCJjb29yZGluYXRlIiwiY29udGFpbnNYWSIsImNvbnRhaW5zRXh0ZW50IiwiZXh0ZW50MSIsImV4dGVudDIiLCJjb29yZGluYXRlUmVsYXRpb25zaGlwIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsInJlbGF0aW9uc2hpcCIsImNyZWF0ZUVtcHR5IiwiY3JlYXRlT3JVcGRhdGUiLCJjcmVhdGVPclVwZGF0ZUVtcHR5IiwiY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZSIsImNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGVzIiwiZXh0ZW5kQ29vcmRpbmF0ZXMiLCJjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMiLCJmbGF0Q29vcmRpbmF0ZXMiLCJvZmZzZXQiLCJzdHJpZGUiLCJleHRlbmRGbGF0Q29vcmRpbmF0ZXMiLCJleHRlbmRYWSIsIm1pbiIsIm1heCIsImZvckVhY2hDb3JuZXIiLCJjYWxsYmFjayIsInZhbCIsImdldEJvdHRvbUxlZnQiLCJnZXRCb3R0b21SaWdodCIsImdldFRvcFJpZ2h0IiwiZ2V0VG9wTGVmdCIsImdldEFyZWEiLCJhcmVhIiwiaXNFbXB0eSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiZ2V0Q2VudGVyIiwiZ2V0Q29ybmVyIiwiY29ybmVyIiwiZ2V0Rm9yVmlld0FuZFNpemUiLCJjZW50ZXIiLCJyZXNvbHV0aW9uIiwicm90YXRpb24iLCJjb3NSb3RhdGlvbiIsImNvcyIsInNpblJvdGF0aW9uIiwic2luIiwieENvcyIsInhTaW4iLCJ5Q29zIiwieVNpbiIsIngwIiwieDEiLCJ4MiIsIngzIiwieTAiLCJ5MSIsInkyIiwieTMiLCJnZXRJbnRlcnNlY3Rpb24iLCJpbnRlcnNlY3Rpb24iLCJpbnRlcnNlY3RzIiwicmV0dXJuT3JVcGRhdGUiLCJzY2FsZUZyb21DZW50ZXIiLCJkZWx0YVgiLCJkZWx0YVkiLCJpbnRlcnNlY3RzU2VnbWVudCIsInN0YXJ0Iiwic3RhcnRSZWwiLCJlbmRSZWwiLCJzdGFydFgiLCJzdGFydFkiLCJlbmRYIiwiZW5kWSIsInNsb3BlIiwiYXBwbHlUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1GbiIsIm9wdF9zdG9wcyIsInhzIiwieXMiLCJsIiwiX2JvdW5kaW5nRXh0ZW50WFlzIiwid3JhcFgiLCJwcm9qZWN0aW9uIiwicHJvamVjdGlvbkV4dGVudCIsImdldEV4dGVudCIsImNhbldyYXBYIiwid29ybGRXaWR0aCIsImZsb29yIiwiQk9UVE9NX0xFRlQiLCJCT1RUT01fUklHSFQiLCJUT1BfTEVGVCIsIlRPUF9SSUdIVCIsIlVOS05PV04iLCJJTlRFUlNFQ1RJTkciLCJBQk9WRSIsIlJJR0hUIiwiQkVMT1ciLCJMRUZUIiwiVFJVRSIsIkZBTFNFIiwiVk9JRCIsIm1lbW9pemVPbmUiLCJmbiIsImxhc3RSZXN1bHQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwiY2FsbGVkIiwibmV4dEFyZ3MiLCJYWSIsIlhZWiIsIlhZTSIsIlhZWk0iLCJQT0lOVCIsIkxJTkVfU1RSSU5HIiwiTElORUFSX1JJTkciLCJQT0xZR09OIiwiTVVMVElfUE9JTlQiLCJNVUxUSV9MSU5FX1NUUklORyIsIk1VTFRJX1BPTFlHT04iLCJHRU9NRVRSWV9DT0xMRUNUSU9OIiwiQ0lSQ0xFIiwiUG9pbnQiLCJvcHRfbGF5b3V0Iiwic2V0Q29vcmRpbmF0ZXMiLCJwb2ludCIsImxheW91dCIsImNsb3Nlc3RQb2ludFhZIiwiY2xvc2VzdFBvaW50IiwibWluU3F1YXJlZERpc3RhbmNlIiwic3F1YXJlZERpc3RhbmNlIiwiZ2V0Q29vcmRpbmF0ZXMiLCJjb21wdXRlRXh0ZW50IiwiZ2V0VHlwZSIsImludGVyc2VjdHNFeHRlbnQiLCJzZXRMYXlvdXQiLCJ0bXBUcmFuc2Zvcm0iLCJHZW9tZXRyeSIsImV4dGVudF8iLCJleHRlbnRSZXZpc2lvbl8iLCJzaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlIiwic2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24iLCJzaW1wbGlmeVRyYW5zZm9ybWVkSW50ZXJuYWwiLCJyZXZpc2lvbiIsInNxdWFyZWRUb2xlcmFuY2UiLCJvcHRfdHJhbnNmb3JtIiwiZ2V0U2ltcGxpZmllZEdlb21ldHJ5Iiwic2ltcGxpZnlUcmFuc2Zvcm1lZCIsImNvb3JkIiwiZ2V0Q2xvc2VzdFBvaW50Iiwib3B0X2Nsb3Nlc3RQb2ludCIsIk5hTiIsImludGVyc2VjdHNDb29yZGluYXRlIiwiaXNOYU4iLCJyb3RhdGUiLCJhbmdsZSIsImFuY2hvciIsInNjYWxlIiwic3giLCJvcHRfc3kiLCJvcHRfYW5jaG9yIiwic2ltcGxpZnkiLCJ0b2xlcmFuY2UiLCJ0cmFuc2xhdGUiLCJ0cmFuc2Zvcm0iLCJkZXN0aW5hdGlvbiIsInNvdXJjZVByb2oiLCJnZXRVbml0cyIsIlVuaXRzIiwiaW5Db29yZGluYXRlcyIsIm91dENvb3JkaW5hdGVzIiwicGl4ZWxFeHRlbnQiLCJwcm9qZWN0ZWRFeHRlbnQiLCJnZXRXb3JsZEV4dGVudCIsImdldFN0cmlkZUZvckxheW91dCIsIkdlb21ldHJ5TGF5b3V0IiwidHJhbnNmb3JtR2VvbTJEIiwic2ltcGxlR2VvbWV0cnkiLCJvcHRfZGVzdCIsImdldEZsYXRDb29yZGluYXRlcyIsImdldFN0cmlkZSIsIlNpbXBsZUdlb21ldHJ5IiwiZ2V0Rmlyc3RDb29yZGluYXRlIiwiZ2V0TGFzdENvb3JkaW5hdGUiLCJnZXRMYXlvdXQiLCJzaW1wbGlmaWVkR2VvbWV0cnkiLCJnZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCIsInNldEZsYXRDb29yZGluYXRlcyIsIm5lc3RpbmciLCJnZXRMYXlvdXRGb3JTdHJpZGUiLCJzeSIsImRlZmxhdGVDb29yZGluYXRlIiwiZGVmbGF0ZUNvb3JkaW5hdGVzIiwiZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXkiLCJjb29yZGluYXRlc3MiLCJvcHRfZW5kcyIsImVuZHMiLCJqaiIsInRyYW5zZm9ybTJEIiwiZGVzdCIsImFuY2hvclgiLCJhbmNob3JZIiwiayIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJGSVJFRk9YIiwiV0VCS0lUIiwiTUFDIiwiREVWSUNFX1BJWEVMX1JBVElPIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIldPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIiwiV29ya2VyR2xvYmFsU2NvcGUiLCJzZWxmIiwiSU1BR0VfREVDT0RFIiwiSW1hZ2UiLCJkZWNvZGUiLCJQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyIsInBhc3NpdmUiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsImVycm9yIiwicGFuIiwidmlldyIsImRlbHRhIiwib3B0X2R1cmF0aW9uIiwiY3VycmVudENlbnRlciIsImdldENlbnRlckludGVybmFsIiwiYW5pbWF0ZUludGVybmFsIiwiZHVyYXRpb24iLCJlYXNpbmciLCJnZXRDb25zdHJhaW5lZENlbnRlciIsInpvb21CeURlbHRhIiwiY3VycmVudFpvb20iLCJnZXRab29tIiwibmV3Wm9vbSIsImdldENvbnN0cmFpbmVkWm9vbSIsIm5ld1Jlc29sdXRpb24iLCJnZXRSZXNvbHV0aW9uRm9yWm9vbSIsImdldEFuaW1hdGluZyIsImNhbmNlbEFuaW1hdGlvbnMiLCJhbmltYXRlIiwiSW50ZXJhY3Rpb24iLCJtYXBfIiwic2V0QWN0aXZlIiwiZ2V0QWN0aXZlIiwiZ2V0TWFwIiwiYWN0aXZlIiwic2V0TWFwIiwiY2VudHJvaWQiLCJwb2ludGVyRXZlbnRzIiwiY2xpZW50WCIsImNsaWVudFkiLCJQb2ludGVySW50ZXJhY3Rpb24iLCJoYW5kbGVEb3duRXZlbnQiLCJoYW5kbGVEcmFnRXZlbnQiLCJoYW5kbGVNb3ZlRXZlbnQiLCJoYW5kbGVVcEV2ZW50Iiwic3RvcERvd24iLCJoYW5kbGluZ0Rvd25VcFNlcXVlbmNlIiwidHJhY2tlZFBvaW50ZXJzXyIsInRhcmdldFBvaW50ZXJzIiwiZ2V0UG9pbnRlckNvdW50Iiwic3RvcEV2ZW50IiwidXBkYXRlVHJhY2tlZFBvaW50ZXJzXyIsImhhbmRsZWRVcCIsImhhbmRsZWQiLCJpc1BvaW50ZXJEcmFnZ2luZ0V2ZW50IiwiZXZlbnRfMSIsImlkIiwicG9pbnRlcklkIiwiQUNUSVZFIiwiU2VsZWN0RXZlbnQiLCJzZWxlY3RlZCIsImRlc2VsZWN0ZWQiLCJvcmlnaW5hbEZlYXR1cmVTdHlsZXMiLCJTZWxlY3QiLCJzdHlsZXMiLCJsYXllckZpbHRlciIsImJvdW5kQWRkRmVhdHVyZV8iLCJhZGRGZWF0dXJlXyIsImJvdW5kUmVtb3ZlRmVhdHVyZV8iLCJyZW1vdmVGZWF0dXJlXyIsImNvbmRpdGlvbl8iLCJjb25kaXRpb24iLCJhZGRDb25kaXRpb25fIiwiYWRkQ29uZGl0aW9uIiwicmVtb3ZlQ29uZGl0aW9uXyIsInJlbW92ZUNvbmRpdGlvbiIsInRvZ2dsZUNvbmRpdGlvbl8iLCJ0b2dnbGVDb25kaXRpb24iLCJtdWx0aV8iLCJtdWx0aSIsImZpbHRlcl8iLCJmaWx0ZXIiLCJoaXRUb2xlcmFuY2VfIiwiaGl0VG9sZXJhbmNlIiwic3R5bGVfIiwiZmVhdHVyZSIsImdldEdlb21ldHJ5IiwiZmVhdHVyZXNfIiwiZmVhdHVyZXMiLCJsYXllcnMiLCJsYXllcnNfMSIsImxheWVyIiwibGF5ZXJGaWx0ZXJfIiwiZmVhdHVyZUxheWVyQXNzb2NpYXRpb25fIiwiYWRkRmVhdHVyZUxheWVyQXNzb2NpYXRpb25fIiwiZ2V0RmVhdHVyZXMiLCJnZXRIaXRUb2xlcmFuY2UiLCJnZXRMYXllciIsInNldEhpdFRvbGVyYW5jZSIsInJlc3RvcmVQcmV2aW91c1N0eWxlXyIsImFwcGx5U2VsZWN0ZWRTdHlsZV8iLCJnZXRTdHlsZSIsInNldFN0eWxlIiwiaW50ZXJhY3Rpb25zIiwiZ2V0SW50ZXJhY3Rpb25zIiwiaW50ZXJhY3Rpb24iLCJsYXN0SW5kZXhPZiIsInJlbW92ZUZlYXR1cmVMYXllckFzc29jaWF0aW9uXyIsImFkZCIsInRvZ2dsZSIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsInBpeGVsIiwiY2xhbXAiLCJjb3NoIiwiZXhwIiwibG9nMiIsImxvZyIsIkxPRzJFIiwic3F1YXJlZFNlZ21lbnREaXN0YW5jZSIsInNvbHZlTGluZWFyU3lzdGVtIiwibWF0IiwibWF4Um93IiwibWF4RWwiLCJhYnMiLCJhYnNWYWx1ZSIsImNvZWYiLCJtIiwidG9SYWRpYW5zIiwiYW5nbGVJbkRlZ3JlZXMiLCJQSSIsIm1vZHVsbyIsImxlcnAiLCJhc3NpZ24iLCJ2YXJfc291cmNlcyIsIlR5cGVFcnJvciIsIm91dHB1dCIsIm9iamVjdCIsInByb3BlcnR5IiwiZ2V0VmFsdWVzIiwiUHJvamVjdGlvbiIsImNvZGVfIiwidW5pdHNfIiwid29ybGRFeHRlbnRfIiwid29ybGRFeHRlbnQiLCJheGlzT3JpZW50YXRpb25fIiwiYXhpc09yaWVudGF0aW9uIiwiZ2xvYmFsXyIsImdsb2JhbCIsImNhbldyYXBYXyIsImdldFBvaW50UmVzb2x1dGlvbkZ1bmNfIiwiZ2V0UG9pbnRSZXNvbHV0aW9uIiwiZGVmYXVsdFRpbGVHcmlkXyIsIm1ldGVyc1BlclVuaXRfIiwibWV0ZXJzUGVyVW5pdCIsImdldENvZGUiLCJnZXRNZXRlcnNQZXJVbml0IiwiZ2V0QXhpc09yaWVudGF0aW9uIiwiaXNHbG9iYWwiLCJzZXRHbG9iYWwiLCJnZXREZWZhdWx0VGlsZUdyaWQiLCJzZXREZWZhdWx0VGlsZUdyaWQiLCJ0aWxlR3JpZCIsInNldEV4dGVudCIsInNldFdvcmxkRXh0ZW50Iiwic2V0R2V0UG9pbnRSZXNvbHV0aW9uIiwiZnVuYyIsImdldFBvaW50UmVzb2x1dGlvbkZ1bmMiLCJSQURJVVMiLCJIQUxGX1NJWkUiLCJFWFRFTlQiLCJXT1JMRF9FWFRFTlQiLCJNQVhfU0FGRV9ZIiwidGFuIiwiRVBTRzM4NTdQcm9qZWN0aW9uIiwidW5pdHMiLCJQUk9KRUNUSU9OUyIsIk1FVEVSU19QRVJfVU5JVCIsIkVQU0c0MzI2UHJvamVjdGlvbiIsIm9wdF9heGlzT3JpZW50YXRpb24iLCJ0cmFuc2Zvcm1zIiwic291cmNlQ29kZSIsImRlc3RpbmF0aW9uQ29kZSIsImdldERpc3RhbmNlIiwiYzEiLCJjMiIsIm9wdF9yYWRpdXMiLCJyYWRpdXMiLCJsYXQxIiwibGF0MiIsImRlbHRhTGF0QnkyIiwiZGVsdGFMb25CeTIiLCJhdGFuMiIsInNxcnQiLCJjbG9uZVRyYW5zZm9ybSIsImlucHV0Iiwib3B0X291dHB1dCIsIm9wdF9kaW1lbnNpb24iLCJpZGVudGl0eVRyYW5zZm9ybSIsImFkZFByb2plY3Rpb24iLCJwcm9qZWN0aW9uTGlrZSIsInJlcGxhY2UiLCJvcHRfdW5pdHMiLCJwb2ludFJlc29sdXRpb24iLCJnZXR0ZXIiLCJ0b0VQU0c0MzI2XzEiLCJnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMiLCJ2ZXJ0aWNlcyIsImFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyIsInByb2plY3Rpb25zIiwiYWRkUHJvamVjdGlvbnMiLCJjcmVhdGVQcm9qZWN0aW9uIiwiZGVmYXVsdENvZGUiLCJmcm9tTG9uTGF0Iiwib3B0X3Byb2plY3Rpb24iLCJ0b0xvbkxhdCIsImxvbkxhdCIsImxvbiIsImVxdWl2YWxlbnQiLCJwcm9qZWN0aW9uMSIsInByb2plY3Rpb24yIiwiZXF1YWxVbml0cyIsInNvdXJjZVByb2plY3Rpb24iLCJkZXN0aW5hdGlvblByb2plY3Rpb24iLCJ0cmFuc2Zvcm1GdW5jIiwiZ2V0VHJhbnNmb3JtIiwicHJvamVjdGlvbnMyIiwiZm9yd2FyZFRyYW5zZm9ybSIsImludmVyc2VUcmFuc2Zvcm0iLCJ1c2VyUHJvamVjdGlvbiIsImdldFVzZXJQcm9qZWN0aW9uIiwidG9Vc2VyQ29vcmRpbmF0ZSIsImZyb21Vc2VyQ29vcmRpbmF0ZSIsImRlc3RQcm9qZWN0aW9uIiwidG9Vc2VyRXh0ZW50IiwiZnJvbVVzZXJFeHRlbnQiLCJkaW1lbnNpb24iLCJhdGFuIiwiREVHUkVFUyIsIkZFRVQiLCJNRVRFUlMiLCJQSVhFTFMiLCJUSUxFX1BJWEVMUyIsIlVTRkVFVCIsImRlZmF1bHRGb250IiwiZGVmYXVsdEZpbGxTdHlsZSIsImRlZmF1bHRMaW5lQ2FwIiwiZGVmYXVsdExpbmVEYXNoIiwiZGVmYXVsdExpbmVEYXNoT2Zmc2V0IiwiZGVmYXVsdExpbmVKb2luIiwiZGVmYXVsdE1pdGVyTGltaXQiLCJkZWZhdWx0U3Ryb2tlU3R5bGUiLCJkZWZhdWx0VGV4dEFsaWduIiwiZGVmYXVsdFRleHRCYXNlbGluZSIsImRlZmF1bHRQYWRkaW5nIiwiZGVmYXVsdExpbmVXaWR0aCIsImNoZWNrZWRGb250cyIsInNldFNpemUiLCJjb25zb2xlIiwid2FybiIsIm1lYXN1cmVGb250IiwiZGl2IiwibWVhc3VyZUNvbnRleHQiLCJ0ZXh0SGVpZ2h0cyIsInJlZ2lzdGVyRm9udCIsImludGVydmFsIiwicmVmZXJlbmNlV2lkdGgiLCJyZWZlcmVuY2VGb250cyIsInRleHQiLCJpc0F2YWlsYWJsZSIsImZvbnRTdHlsZSIsImZvbnRXZWlnaHQiLCJmb250RmFtaWx5IiwiYXZhaWxhYmxlIiwicmVmZXJlbmNlRm9udCIsIm1lYXN1cmVUZXh0V2lkdGgiLCJjaGVjayIsImRvbmUiLCJmb250cyIsImZvbnQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJtZWFzdXJlVGV4dEhlaWdodCIsIm1ldHJpY3MiLCJtZWFzdXJlVGV4dCIsImFjdHVhbEJvdW5kaW5nQm94QXNjZW50IiwiYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50IiwiaW5uZXJIVE1MIiwibWFyZ2luIiwicGFkZGluZyIsInBvc2l0aW9uIiwibGVmdCIsIm1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCIsIm1lYXN1cmVUZXh0V2lkdGhzIiwibGluZXMiLCJ3aWR0aHMiLCJudW1MaW5lcyIsImN1cnJlbnRXaWR0aCIsInJvdGF0ZUF0T2Zmc2V0IiwiY29udGV4dCIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZHJhd0ltYWdlT3JMYWJlbCIsIm9wYWNpdHkiLCJsYWJlbE9ySW1hZ2UiLCJvcmlnaW5YIiwib3JpZ2luWSIsInciLCJoIiwic2F2ZSIsImdsb2JhbEFscGhhIiwic2V0VHJhbnNmb3JtIiwiY29udGV4dEluc3RydWN0aW9ucyIsImxhYmVsIiwiZXhlY3V0ZUxhYmVsSW5zdHJ1Y3Rpb25zIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsImNyZWF0ZVRyYW5zZm9ybVN0cmluZ0NhbnZhcyIsImNyZWF0ZVRyYW5zZm9ybVN0cmluZyIsImhhc0FyZWEiLCJyYXRpbyIsIm9wdF9zaXplIiwidG9TaXplIiwiUmVndWxhclNoYXBlIiwicm90YXRlV2l0aFZpZXciLCJkaXNwbGFjZW1lbnQiLCJjYW52YXNfIiwiaGl0RGV0ZWN0aW9uQ2FudmFzXyIsImZpbGxfIiwiZmlsbCIsIm9yaWdpbl8iLCJwb2ludHNfIiwicG9pbnRzIiwicmFkaXVzXyIsInJhZGl1czEiLCJyYWRpdXMyXyIsInJhZGl1czIiLCJhbmdsZV8iLCJzdHJva2VfIiwic3Ryb2tlIiwiYW5jaG9yXyIsInNpemVfIiwiaW1hZ2VTaXplXyIsImhpdERldGVjdGlvbkltYWdlU2l6ZV8iLCJyZW5kZXIiLCJnZXRTY2FsZSIsImdldEZpbGwiLCJnZXRQb2ludHMiLCJnZXRSYWRpdXMiLCJnZXRSYWRpdXMyIiwiZ2V0QW5nbGUiLCJnZXRTdHJva2UiLCJnZXRSb3RhdGlvbiIsImdldFJvdGF0ZVdpdGhWaWV3IiwiZ2V0RGlzcGxhY2VtZW50Iiwic2V0T3BhY2l0eSIsImdldE9wYWNpdHkiLCJnZXRBbmNob3IiLCJnZXRIaXREZXRlY3Rpb25JbWFnZSIsInJlbmRlck9wdGlvbnMiLCJjcmVhdGVSZW5kZXJPcHRpb25zIiwiY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyIsImdldEltYWdlIiwicGl4ZWxSYXRpbyIsImRyYXdfIiwiZ2V0UGl4ZWxSYXRpbyIsImdldEltYWdlU2l6ZSIsImdldEhpdERldGVjdGlvbkltYWdlU2l6ZSIsImdldEltYWdlU3RhdGUiLCJJbWFnZVN0YXRlIiwiZ2V0T3JpZ2luIiwiZ2V0U2l6ZSIsImxpc3RlbkltYWdlQ2hhbmdlIiwibG9hZCIsInVubGlzdGVuSW1hZ2VDaGFuZ2UiLCJzdHJva2VTdHlsZSIsImxpbmVDYXAiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJsaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0Iiwic3Ryb2tlV2lkdGgiLCJnZXRDb2xvciIsImdldExpbmVEYXNoIiwiZ2V0TGluZURhc2hPZmZzZXQiLCJnZXRMaW5lSm9pbiIsImdldExpbmVDYXAiLCJnZXRNaXRlckxpbWl0IiwiaW1hZ2VTaXplIiwiYW5nbGUwIiwicmFkaXVzQyIsImJlZ2luUGF0aCIsImFyYyIsImxpbmVUbyIsImZpbGxTdHlsZSIsImxpbmVXaWR0aCIsInNldExpbmVEYXNoIiwiY2xvc2VQYXRoIiwiZHJhd0hpdERldGVjdGlvbkNhbnZhc18iLCJDaXJjbGVTdHlsZSIsInNldFJhZGl1cyIsIkZpbGwiLCJjb2xvcl8iLCJzZXRDb2xvciIsIkltYWdlU3R5bGUiLCJvcGFjaXR5XyIsInJvdGF0ZVdpdGhWaWV3XyIsInJvdGF0aW9uXyIsInNjYWxlXyIsInNjYWxlQXJyYXlfIiwiZGlzcGxhY2VtZW50XyIsImdldFNjYWxlQXJyYXkiLCJzZXRSb3RhdGVXaXRoVmlldyIsInNldFJvdGF0aW9uIiwic2V0U2NhbGUiLCJTdHJva2UiLCJsaW5lQ2FwXyIsImxpbmVEYXNoXyIsImxpbmVEYXNoT2Zmc2V0XyIsImxpbmVKb2luXyIsIm1pdGVyTGltaXRfIiwid2lkdGhfIiwic2V0TGluZUNhcCIsInNldExpbmVEYXNoT2Zmc2V0Iiwic2V0TGluZUpvaW4iLCJzZXRNaXRlckxpbWl0Iiwic2V0V2lkdGgiLCJTdHlsZSIsImdlb21ldHJ5XyIsImdlb21ldHJ5RnVuY3Rpb25fIiwiZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb24iLCJnZW9tZXRyeSIsInNldEdlb21ldHJ5IiwiaW1hZ2VfIiwiaW1hZ2UiLCJyZW5kZXJlcl8iLCJyZW5kZXJlciIsInRleHRfIiwiekluZGV4XyIsInpJbmRleCIsImdldFRleHQiLCJnZXRaSW5kZXgiLCJnZXRSZW5kZXJlciIsInNldFJlbmRlcmVyIiwiZ2V0R2VvbWV0cnlGdW5jdGlvbiIsInNldEZpbGwiLCJzZXRJbWFnZSIsInNldFN0cm9rZSIsInNldFRleHQiLCJzZXRaSW5kZXgiLCJ0b0Z1bmN0aW9uIiwic3R5bGVGdW5jdGlvbiIsInN0eWxlc18xIiwiZGVmYXVsdFN0eWxlcyIsImNyZWF0ZURlZmF1bHRTdHlsZSIsImNyZWF0ZUVkaXRpbmdTdHlsZSIsIndoaXRlIiwiYmx1ZSIsImNvbmNhdCIsIkxJTkUiLCJzZXRGcm9tQXJyYXkiLCJ0cmFuc2Zvcm0xIiwidHJhbnNmb3JtMiIsIm1ha2VTY2FsZSIsImMiLCJlIiwiY29tcG9zZSIsImR4MSIsImR5MSIsImR4MiIsImR5MiIsIm1ha2VJbnZlcnNlIiwiZGV0IiwiYWJzdHJhY3QiLCJ1aWRDb3VudGVyXyIsImdldFVpZCIsIm9sX3VpZCIsIlN0cmluZyIsIlZFUlNJT04iLCJtb2R1bGUiLCJleHBvcnRzIiwibyIsInUiLCJfbWF4RW50cmllcyIsIl9taW5FbnRyaWVzIiwiY2VpbCIsImxlYWYiLCJfYWxsIiwic2VhcmNoIiwidG9CQm94IiwiY29sbGlkZXMiLCJpbnNlcnQiLCJfYnVpbGQiLCJfc3BsaXRSb290IiwiX2luc2VydCIsIl9jb25kZW5zZSIsImNvbXBhcmVNaW5YIiwiY29tcGFyZU1pblkiLCJ0b0pTT04iLCJmcm9tSlNPTiIsIl9jaG9vc2VTdWJ0cmVlIiwiX3NwbGl0IiwiX2FkanVzdFBhcmVudEJCb3hlcyIsIl9jaG9vc2VTcGxpdEF4aXMiLCJfY2hvb3NlU3BsaXRJbmRleCIsInYiLCJNIiwiX2FsbERpc3RNYXJnaW4iLCJzb3J0IiwiRmVhdHVyZSIsIm9wdF9nZW9tZXRyeU9yUHJvcGVydGllcyIsImlkXyIsImdlb21ldHJ5TmFtZV8iLCJzdHlsZUZ1bmN0aW9uXyIsImdlb21ldHJ5Q2hhbmdlS2V5XyIsImhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8iLCJwcm9wZXJ0aWVzIiwic2V0R2VvbWV0cnlOYW1lIiwiZ2V0R2VvbWV0cnlOYW1lIiwiZ2V0SWQiLCJnZXRTdHlsZUZ1bmN0aW9uIiwiaGFuZGxlR2VvbWV0cnlDaGFuZ2VfIiwiRXZlbnRUeXBlIiwib3B0X3N0eWxlIiwic2V0SWQiLCJPdmVybGF5IiwiaW5zZXJ0Rmlyc3QiLCJjbGFzc05hbWUiLCJhdXRvUGFuIiwiYW5pbWF0aW9uIiwiYXV0b1BhbkFuaW1hdGlvbiIsImF1dG9QYW5NYXJnaW4iLCJyZW5kZXJlZCIsInRyYW5zZm9ybV8iLCJ2aXNpYmxlIiwibWFwUG9zdHJlbmRlckxpc3RlbmVyS2V5IiwiaGFuZGxlRWxlbWVudENoYW5nZWQiLCJoYW5kbGVNYXBDaGFuZ2VkIiwiaGFuZGxlT2Zmc2V0Q2hhbmdlZCIsImhhbmRsZVBvc2l0aW9uQ2hhbmdlZCIsImhhbmRsZVBvc2l0aW9uaW5nQ2hhbmdlZCIsInNldEVsZW1lbnQiLCJzZXRPZmZzZXQiLCJzZXRQb3NpdGlvbmluZyIsInBvc2l0aW9uaW5nIiwic2V0UG9zaXRpb24iLCJnZXRFbGVtZW50IiwiZ2V0T2Zmc2V0IiwiZ2V0UG9zaXRpb24iLCJnZXRQb3NpdGlvbmluZyIsIk1hcEV2ZW50VHlwZSIsInVwZGF0ZVBpeGVsUG9zaXRpb24iLCJjb250YWluZXIiLCJnZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50IiwiZ2V0T3ZlcmxheUNvbnRhaW5lciIsInBlcmZvcm1BdXRvUGFuIiwicGFuSW50b1ZpZXciLCJvcHRfcGFuSW50b1ZpZXdPcHRpb25zIiwibWFwUmVjdCIsImdldFJlY3QiLCJvdmVybGF5UmVjdCIsInBhbkludG9WaWV3T3B0aW9ucyIsIm15TWFyZ2luIiwib2Zmc2V0TGVmdCIsIm9mZnNldFJpZ2h0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0Qm90dG9tIiwiZ2V0VmlldyIsImNlbnRlclB4IiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsIiwibmV3Q2VudGVyUHgiLCJwYW5PcHRpb25zIiwiZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsIiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFnZVhPZmZzZXQiLCJ0b3AiLCJwYWdlWU9mZnNldCIsInNldFZpc2libGUiLCJkaXNwbGF5IiwiaXNSZW5kZXJlZCIsImdldFBpeGVsRnJvbUNvb3JkaW5hdGUiLCJtYXBTaXplIiwidXBkYXRlUmVuZGVyZWRQb3NpdGlvbiIsInJvdW5kIiwicG9zWCIsInBvc1kiLCJPdmVybGF5UG9zaXRpb25pbmciLCJtc1RyYW5zZm9ybSIsImdldE9wdGlvbnMiLCJUZXh0IiwiZm9udF8iLCJ0ZXh0QWxpZ25fIiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lXyIsInRleHRCYXNlbGluZSIsIm1heEFuZ2xlXyIsIm1heEFuZ2xlIiwicGxhY2VtZW50XyIsInBsYWNlbWVudCIsIlRleHRQbGFjZW1lbnQiLCJvdmVyZmxvd18iLCJvdmVyZmxvdyIsIm9mZnNldFhfIiwib2Zmc2V0WV8iLCJiYWNrZ3JvdW5kRmlsbF8iLCJiYWNrZ3JvdW5kRmlsbCIsImJhY2tncm91bmRTdHJva2VfIiwiYmFja2dyb3VuZFN0cm9rZSIsInBhZGRpbmdfIiwiZ2V0Rm9udCIsImdldFBsYWNlbWVudCIsImdldE1heEFuZ2xlIiwiZ2V0T3ZlcmZsb3ciLCJnZXRUZXh0QWxpZ24iLCJnZXRUZXh0QmFzZWxpbmUiLCJnZXRPZmZzZXRYIiwiZ2V0T2Zmc2V0WSIsImdldEJhY2tncm91bmRGaWxsIiwiZ2V0QmFja2dyb3VuZFN0cm9rZSIsImdldFBhZGRpbmciLCJzZXRPdmVyZmxvdyIsInNldEZvbnQiLCJzZXRNYXhBbmdsZSIsInNldE9mZnNldFgiLCJzZXRPZmZzZXRZIiwic2V0UGxhY2VtZW50Iiwic2V0VGV4dEFsaWduIiwic2V0VGV4dEJhc2VsaW5lIiwic2V0QmFja2dyb3VuZEZpbGwiLCJzZXRCYWNrZ3JvdW5kU3Ryb2tlIiwic2V0UGFkZGluZyIsIkNPTE9SX0RFRkFVTFRTIiwicHJpbWFyeSIsInNlY29uZGFyeSIsIk1hcmtlciIsImxvY2F0aW9uIiwiaW5mbyIsImluZm9IVE1MIiwic3VwZXIiLCJHZW9tZXRyeVR5cGUiLCJwb3B1cCIsImhhbmRsZUNoYW5nZSIsImNyZWF0ZUluZm9FbGVtZW50IiwiaW5pdFBvcHVwIiwidHJpbSIsImhhc0luZm8iLCJhZGRPdmVybGF5IiwicmVtb3ZlT3ZlcmxheSIsInNob3dJbmZvIiwiaGlkZUluZm8iLCJodG1sIiwibWFya2VyU3R5bGUiLCJDaXJjbGUiLCJmaWx0ZXJPYmplY3QiLCJwcmVkaWNhdGUiLCJlbnRyaWVzIiwicmVkdWNlIiwicmVzdWx0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwiZW51bWVyYWJsZSIsImNodW5rSWQiLCJQcm9taXNlIiwicHJvbWlzZXMiLCJtaW5pQ3NzRiIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsInByb3AiLCJ1cmwiLCJzY3JpcHQiLCJuZWVkQXR0YWNoIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwiY2hhcnNldCIsInRpbWVvdXQiLCJuYyIsInNldEF0dHJpYnV0ZSIsInNyYyIsIm9uU2NyaXB0Q29tcGxldGUiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiZG9uZUZucyIsInNldFRpbWVvdXQiLCJoZWFkIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwiY3VycmVudFNjcmlwdCIsInJlc29sdmUiLCJyZWplY3QiLCJocmVmIiwiZnVsbGhyZWYiLCJleGlzdGluZ0xpbmtUYWdzIiwiZGF0YUhyZWYiLCJ0YWciLCJyZWwiLCJleGlzdGluZ1N0eWxlVGFncyIsImZpbmRTdHlsZXNoZWV0IiwibGlua1RhZyIsImVycm9yVHlwZSIsInJlYWxIcmVmIiwiZXJyIiwicmVxdWVzdCIsImNyZWF0ZVN0eWxlc2hlZXQiLCIxNzkiLCJtaW5pQ3NzIiwidGhlbiIsImluc3RhbGxlZENodW5rcyIsImluc3RhbGxlZENodW5rRGF0YSIsInByb21pc2UiLCJyZWFsU3JjIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwicmVzb2x2ZXMiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJnZXRLZXkiLCJjcm9zc09yaWdpbiIsInNoYXJlZCIsIkljb25JbWFnZUNhY2hlIiwiY2FjaGVfIiwiY2FjaGVTaXplXyIsIm1heENhY2hlU2l6ZV8iLCJjYW5FeHBpcmVDYWNoZSIsImV4cGlyZSIsImljb25JbWFnZSIsIm1heENhY2hlU2l6ZSIsIkJhc2VMYXllciIsIm1heFJlc29sdXRpb24iLCJtaW5SZXNvbHV0aW9uIiwibWluWm9vbSIsIm1heFpvb20iLCJjbGFzc05hbWVfIiwic3RhdGVfIiwiZ2V0Q2xhc3NOYW1lIiwiZ2V0TGF5ZXJTdGF0ZSIsIm9wdF9tYW5hZ2VkIiwic3RhdGUiLCJtYW5hZ2VkIiwic291cmNlU3RhdGUiLCJnZXRTb3VyY2VTdGF0ZSIsImdldFZpc2libGUiLCJnZXRNYXhSZXNvbHV0aW9uIiwiZ2V0TWluUmVzb2x1dGlvbiIsImdldE1pblpvb20iLCJnZXRNYXhab29tIiwiZ2V0TGF5ZXJzQXJyYXkiLCJnZXRMYXllclN0YXRlc0FycmF5Iiwib3B0X3N0YXRlcyIsInNldE1heFJlc29sdXRpb24iLCJzZXRNaW5SZXNvbHV0aW9uIiwic2V0TWF4Wm9vbSIsInNldE1pblpvb20iLCJ6aW5kZXgiLCJpblZpZXciLCJsYXllclN0YXRlIiwidmlld1N0YXRlIiwiem9vbSIsIkxheWVyIiwiYmFzZU9wdGlvbnMiLCJtYXBQcmVjb21wb3NlS2V5XyIsIm1hcFJlbmRlcktleV8iLCJzb3VyY2VDaGFuZ2VLZXlfIiwiaGFuZGxlU291cmNlUHJvcGVydHlDaGFuZ2VfIiwic2V0U291cmNlIiwic3RhdGVzIiwiZ2V0U291cmNlIiwiZ2V0U3RhdGUiLCJoYW5kbGVTb3VyY2VDaGFuZ2VfIiwiZnJhbWVTdGF0ZSIsImxheWVyUmVuZGVyZXIiLCJwcmVwYXJlRnJhbWUiLCJyZW5kZXJGcmFtZSIsImxheWVyU3RhdGVzQXJyYXkiLCJzb21lIiwiYXJyYXlMYXllclN0YXRlIiwiY3JlYXRlUmVuZGVyZXIiLCJoYXNSZW5kZXJlciIsIkJhc2UiLCJjb29yZGluYXRlMSIsImNvb3JkaW5hdGUyIiwiY29zQW5nbGUiLCJzaW5BbmdsZSIsIndvcmxkc0F3YXkiLCJvcHRfc291cmNlRXh0ZW50V2lkdGgiLCJzb3VyY2VFeHRlbnRXaWR0aCIsImdldFdvcmxkc0F3YXkiLCJleHBpcmVJY29uQ2FjaGUiLCJNYXBSZW5kZXJlciIsImRpc3BhdGNoUmVuZGVyRXZlbnQiLCJjYWxjdWxhdGVNYXRyaWNlczJEIiwiY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0iLCJwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSIsImZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlIiwiY2hlY2tXcmFwcGVkIiwidGhpc0FyZyIsInRoaXNBcmcyIiwidHJhbnNsYXRlZENvb3JkaW5hdGUiLCJvZmZzZXRzIiwibGF5ZXJTdGF0ZXMiLCJudW1MYXllcnMiLCJtYXRjaGVzIiwidG1wQ29vcmQiLCJnZXRXcmFwWCIsImNhbGxiYWNrXzEiLCJvcmRlciIsImRpc3RhbmNlU3EiLCJmb3JFYWNoTGF5ZXJBdFBpeGVsIiwiaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZSIsInNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlIiwicG9zdFJlbmRlckZ1bmN0aW9ucyIsIlJlbmRlckV2ZW50Iiwib3B0X2ludmVyc2VQaXhlbFRyYW5zZm9ybSIsIm9wdF9mcmFtZVN0YXRlIiwib3B0X2NvbnRleHQiLCJpbnZlcnNlUGl4ZWxUcmFuc2Zvcm0iLCJFdmVudCIsIkNvbXBvc2l0ZU1hcFJlbmRlcmVyIiwiZm9udENoYW5nZUxpc3RlbmVyS2V5XyIsIk9iamVjdEV2ZW50VHlwZSIsInJlZHJhd1RleHQiLCJlbGVtZW50XyIsImdldFZpZXdwb3J0IiwiZmlyc3RDaGlsZCIsImNoaWxkcmVuXyIsInJlbmRlcmVkVmlzaWJsZV8iLCJkZWNsdXR0ZXJMYXllcnMiLCJwcmV2aW91c0VsZW1lbnQiLCJsYXllckluZGV4IiwicmVuZGVyRGVjbHV0dGVyIiwiZ2V0RGF0YUF0UGl4ZWwiLCJNYXAiLCJMYXllckdyb3VwIiwibGF5ZXJzTGlzdGVuZXJLZXlzXyIsImxpc3RlbmVyS2V5c18iLCJoYW5kbGVMYXllcnNDaGFuZ2VkXyIsInNldExheWVycyIsImhhbmRsZUxheWVyQ2hhbmdlXyIsImdldExheWVycyIsIkNvbGxlY3Rpb25FdmVudFR5cGUiLCJoYW5kbGVMYXllcnNBZGRfIiwiaGFuZGxlTGF5ZXJzUmVtb3ZlXyIsImxheWVyc0FycmF5IiwiY29sbGVjdGlvbkV2ZW50IiwicG9zIiwib3duTGF5ZXJTdGF0ZSIsIk1hcEV2ZW50IiwiTWFwQnJvd3NlckV2ZW50Iiwib3B0X2RyYWdnaW5nIiwicGl4ZWxfIiwiY29vcmRpbmF0ZV8iLCJkcmFnZ2luZyIsImdldEV2ZW50UGl4ZWwiLCJjb25maWd1cmFibGUiLCJnZXRDb29yZGluYXRlRnJvbVBpeGVsIiwiTWFwQnJvd3NlckV2ZW50SGFuZGxlciIsIm1vdmVUb2xlcmFuY2UiLCJjbGlja1RpbWVvdXRJZF8iLCJlbXVsYXRlQ2xpY2tzXyIsImRyYWdnaW5nXyIsImRyYWdMaXN0ZW5lcktleXNfIiwibW92ZVRvbGVyYW5jZV8iLCJkb3duXyIsImFjdGl2ZVBvaW50ZXJzXyIsInRyYWNrZWRUb3VjaGVzXyIsInBvaW50ZXJkb3duTGlzdGVuZXJLZXlfIiwiaGFuZGxlUG9pbnRlckRvd25fIiwib3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50XyIsInJlbGF5ZWRMaXN0ZW5lcktleV8iLCJyZWxheUV2ZW50XyIsImJvdW5kSGFuZGxlVG91Y2hNb3ZlXyIsImhhbmRsZVRvdWNoTW92ZV8iLCJlbXVsYXRlQ2xpY2tfIiwibmV3RXZlbnQiLCJNYXBCcm93c2VyRXZlbnRUeXBlIiwidXBkYXRlQWN0aXZlUG9pbnRlcnNfIiwiaGFuZGxlUG9pbnRlclVwXyIsImlzTW91c2VBY3Rpb25CdXR0b25fIiwiZG9jIiwiZ2V0T3duZXJEb2N1bWVudCIsImhhbmRsZVBvaW50ZXJNb3ZlXyIsImdldFJvb3ROb2RlIiwiaXNNb3ZpbmdfIiwiZGVmYXVsdFByZXZlbnRlZCIsIlByaW9yaXR5UXVldWUiLCJwcmlvcml0eUZ1bmN0aW9uIiwia2V5RnVuY3Rpb24iLCJwcmlvcml0eUZ1bmN0aW9uXyIsImtleUZ1bmN0aW9uXyIsImVsZW1lbnRzXyIsInByaW9yaXRpZXNfIiwicXVldWVkRWxlbWVudHNfIiwiZGVxdWV1ZSIsImVsZW1lbnRzIiwicHJpb3JpdGllcyIsInNpZnRVcF8iLCJlbGVtZW50S2V5IiwiZW5xdWV1ZSIsInByaW9yaXR5Iiwic2lmdERvd25fIiwiZ2V0Q291bnQiLCJnZXRMZWZ0Q2hpbGRJbmRleF8iLCJnZXRSaWdodENoaWxkSW5kZXhfIiwiZ2V0UGFyZW50SW5kZXhfIiwiaGVhcGlmeV8iLCJpc0tleVF1ZXVlZCIsImlzUXVldWVkIiwiY291bnQiLCJzdGFydEluZGV4IiwibEluZGV4IiwickluZGV4Iiwic21hbGxlckNoaWxkSW5kZXgiLCJwYXJlbnRJbmRleCIsInJlcHJpb3JpdGl6ZSIsIlRpbGVRdWV1ZSIsInRpbGVQcmlvcml0eUZ1bmN0aW9uIiwidGlsZUNoYW5nZUNhbGxiYWNrIiwiYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyIsImhhbmRsZVRpbGVDaGFuZ2UiLCJ0aWxlQ2hhbmdlQ2FsbGJhY2tfIiwidGlsZXNMb2FkaW5nXyIsInRpbGVzTG9hZGluZ0tleXNfIiwiYWRkZWQiLCJnZXRUaWxlc0xvYWRpbmciLCJ0aWxlIiwiaGlmaSIsInRpbGVLZXkiLCJsb2FkTW9yZVRpbGVzIiwibWF4VG90YWxMb2FkaW5nIiwibWF4TmV3TG9hZHMiLCJuZXdMb2FkcyIsImNyZWF0ZUV4dGVudCIsIm9ubHlDZW50ZXIiLCJzbW9vdGgiLCJvcHRfaXNNb3ZpbmciLCJvcHRfY2VudGVyU2hpZnQiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0Iiwic2hpZnRYIiwic2hpZnRZIiwibm9uZSIsImdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24iLCJtYXhFeHRlbnQiLCJ2aWV3cG9ydFNpemUiLCJzaG93RnVsbEV4dGVudCIsInhSZXNvbHV0aW9uIiwieVJlc29sdXRpb24iLCJnZXRTbW9vdGhDbGFtcGVkUmVzb2x1dGlvbiIsImNyZWF0ZU1pbk1heFJlc29sdXRpb24iLCJvcHRfc21vb3RoIiwib3B0X21heEV4dGVudCIsIm9wdF9zaG93RnVsbEV4dGVudCIsImNhcHBlZE1heFJlcyIsImRpc2FibGUiLCJhc3NpZ25DbG9zZXN0Iiwib2Zmc2V0MSIsIm9mZnNldDIiLCJtYXhTcXVhcmVkRGVsdGEiLCJzcXVhcmVkRGVsdGEiLCJhc3NpZ25DbG9zZXN0UG9pbnQiLCJtYXhEZWx0YSIsImlzUmluZyIsIm9wdF90bXBQb2ludCIsInRtcFBvaW50Iiwic25hcCIsInF1YW50aXplIiwic2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyIsInNpbXBsaWZpZWRPZmZzZXQiLCJpbmZsYXRlQ29vcmRpbmF0ZXMiLCJvcHRfY29vcmRpbmF0ZXMiLCJpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheSIsIm9wdF9jb29yZGluYXRlc3MiLCJpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5IiwiZW5kc3MiLCJvcHRfY29vcmRpbmF0ZXNzcyIsImNvb3JkaW5hdGVzc3MiLCJsaW5lYXJSaW5nIiwidHdpY2VBcmVhIiwiTGluZWFyUmluZyIsIm1heERlbHRhXyIsIm1heERlbHRhUmV2aXNpb25fIiwibWFya2VycyIsInN0YWNrIiwibGFzdCIsImZpcnN0IiwibWF4U3F1YXJlZERpc3RhbmNlIiwic3F1YXJlZERpc3RhbmNlXzEiLCJkb3VnbGFzUGV1Y2tlciIsImRlZmxhdGUiLCJsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQiLCJsaW5lYXJSaW5nQ29udGFpbnNYWSIsInduIiwibGluZWFyUmluZ3NDb250YWluc1hZIiwiaW50ZXJzZWN0c0xpbmVTdHJpbmciLCJjb29yZGluYXRlc0V4dGVudCIsInJldCIsInBvaW50MSIsInBvaW50MiIsImxpbmVhclJpbmdJc0Nsb2Nrd2lzZSIsImVkZ2UiLCJvcmllbnRMaW5lYXJSaW5ncyIsIm9wdF9yaWdodCIsInJpZ2h0IiwiaXNDbG9ja3dpc2UiLCJQb2x5Z29uIiwiZW5kc18iLCJmbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyIsImZsYXRJbnRlcmlvclBvaW50XyIsIm9yaWVudGVkUmV2aXNpb25fIiwib3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfIiwiYXBwZW5kTGluZWFyUmluZyIsInBvbHlnb24iLCJhcnJheU1heFNxdWFyZWREZWx0YSIsImFzc2lnbkNsb3Nlc3RBcnJheVBvaW50IiwiZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMiLCJsaW5lYXJSaW5ncyIsImdldEVuZHMiLCJnZXRGbGF0SW50ZXJpb3JQb2ludCIsImZsYXRDZW50ZXIiLCJmbGF0Q2VudGVycyIsImZsYXRDZW50ZXJzT2Zmc2V0IiwiaW50ZXJzZWN0aW9ucyIsInJyIiwicG9pbnRYIiwibWF4U2VnbWVudExlbmd0aCIsInNlZ21lbnRMZW5ndGgiLCJnZXRJbnRlcmlvclBvaW50T2ZBcnJheSIsImdldEludGVyaW9yUG9pbnQiLCJnZXRMaW5lYXJSaW5nQ291bnQiLCJnZXRMaW5lYXJSaW5nIiwiZ2V0TGluZWFyUmluZ3MiLCJsaW5lYXJSaW5nc0FyZU9yaWVudGVkIiwic2ltcGxpZmllZEVuZHMiLCJxdWFudGl6ZUFycmF5IiwiaW50ZXJzZWN0c0xpbmVhclJpbmciLCJpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5IiwiZnJvbUV4dGVudCIsImFuaW1hdGlvbkNhbGxiYWNrIiwicmV0dXJuVmFsdWUiLCJpc05vb3BBbmltYXRpb24iLCJzb3VyY2VDZW50ZXIiLCJ0YXJnZXRDZW50ZXIiLCJzb3VyY2VSZXNvbHV0aW9uIiwidGFyZ2V0UmVzb2x1dGlvbiIsInNvdXJjZVJvdGF0aW9uIiwidGFyZ2V0Um90YXRpb24iLCJjYWxjdWxhdGVDZW50ZXJPbiIsInJvdFgiLCJyb3RZIiwiVmlldyIsImhpbnRzXyIsImFuaW1hdGlvbnNfIiwidXBkYXRlQW5pbWF0aW9uS2V5XyIsInByb2plY3Rpb25fIiwidmlld3BvcnRTaXplXyIsInRhcmdldENlbnRlcl8iLCJ0YXJnZXRSZXNvbHV0aW9uXyIsInRhcmdldFJvdGF0aW9uXyIsImNhbmNlbEFuY2hvcl8iLCJhcHBseU9wdGlvbnNfIiwicmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvIiwicmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJ6b29tRmFjdG9yIiwibXVsdGlXb3JsZCIsInNtb290aFJlc29sdXRpb25Db25zdHJhaW50IiwicHJvakV4dGVudCIsImNvbnN0cmFpbk9ubHlDZW50ZXIiLCJyZXNvbHV0aW9ucyIsImNvbnN0cmFpblJlc29sdXRpb24iLCJjYXBwZWQiLCJ6IiwiY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMiLCJkZWZhdWx0TWF4UmVzb2x1dGlvbiIsImRlZmF1bHRNaW5SZXNvbHV0aW9uIiwiZGVmYXVsdE1heFpvb20iLCJwb3dlciIsIm9wdF9taW5SZXNvbHV0aW9uIiwibWluWm9vbUxldmVsIiwiY2FwcGVkWm9vbUxldmVsIiwiem9vbUxldmVsIiwiY3JlYXRlU25hcFRvUG93ZXIiLCJjb25zdHJhaW50IiwiY3JlYXRlUmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJtYXhSZXNvbHV0aW9uXyIsIm1pblJlc29sdXRpb25fIiwiem9vbUZhY3Rvcl8iLCJyZXNvbHV0aW9uc18iLCJtaW5ab29tXyIsImNlbnRlckNvbnN0cmFpbnQiLCJzbW9vdGhFeHRlbnRDb25zdHJhaW50IiwiY3JlYXRlQ2VudGVyQ29uc3RyYWludCIsInJvdGF0aW9uQ29uc3RyYWludCIsImVuYWJsZVJvdGF0aW9uIiwiY29uc3RyYWluUm90YXRpb24iLCJ0aGV0YSIsImNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludCIsImNvbnN0cmFpbnRzXyIsInNldENlbnRlckludGVybmFsIiwic2V0UmVzb2x1dGlvbiIsInNldFpvb20iLCJvcHRpb25zXyIsImdldFVwZGF0ZWRPcHRpb25zXyIsIm5ld09wdGlvbnMiLCJnZXRSZXNvbHV0aW9uIiwiaXNEZWYiLCJyZXNvbHZlQ29uc3RyYWludHMiLCJhcmdzIiwiZ2V0UHJvamVjdGlvbiIsImFuaW1hdGlvbkNvdW50IiwiRGF0ZSIsIm5vdyIsInNlcmllcyIsImNvbXBsZXRlIiwic2V0SGludCIsInVwZGF0ZUFuaW1hdGlvbnNfIiwiZ2V0SW50ZXJhY3RpbmciLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vcmUiLCJzZXJpZXNDb21wbGV0ZSIsImVsYXBzZWQiLCJmcmFjdGlvbiIsInByb2dyZXNzIiwiZ2V0Vmlld3BvcnRTaXplXyIsImNvbnN0cmFpbmVkUmVzb2x1dGlvbiIsImNhbGN1bGF0ZUNlbnRlclpvb20iLCJhcHBseVRhcmdldFN0YXRlXyIsImNvbnN0cmFpbmVkUm90YXRpb24iLCJjYWxjdWxhdGVDZW50ZXJSb3RhdGUiLCJCb29sZWFuIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFJlc29sdXRpb24iLCJvcHRfcm90YXRpb24iLCJzZXRWaWV3cG9ydFNpemUiLCJWaWV3UHJvcGVydHkiLCJnZXRDb25zdHJhaW50cyIsImdldENvbnN0cmFpblJlc29sdXRpb24iLCJnZXRIaW50cyIsIm9wdF9oaW50cyIsImNhbGN1bGF0ZUV4dGVudCIsImNhbGN1bGF0ZUV4dGVudEludGVybmFsIiwiZ2V0Wm9vbUZvclJlc29sdXRpb24iLCJzZXRDb25zdHJhaW5SZXNvbHV0aW9uIiwiZW5hYmxlZCIsImdldFJlc29sdXRpb25zIiwiZ2V0UmVzb2x1dGlvbkZvckV4dGVudCIsImdldFJlc29sdXRpb25Gb3JFeHRlbnRJbnRlcm5hbCIsImdldFJlc29sdXRpb25Gb3JWYWx1ZUZ1bmN0aW9uIiwib3B0X3Bvd2VyIiwiZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uIiwiZ2V0VmFsdWVGb3JSZXNvbHV0aW9uRnVuY3Rpb24iLCJsb2dQb3dlciIsImdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18iLCJyZWR1Y2VkU2l6ZSIsIm5lYXJlc3QiLCJiYXNlTGV2ZWwiLCJmaXQiLCJnZW9tZXRyeU9yRXh0ZW50IiwiZml0SW50ZXJuYWwiLCJjb29yZHMiLCJtaW5Sb3RYIiwibWluUm90WSIsIm1heFJvdFgiLCJtYXhSb3RZIiwiY2VudGVyUm90WCIsImNlbnRlclJvdFkiLCJjZW50ZXJYIiwiY2VudGVyWSIsImNlbnRlck9uIiwiY2VudGVyT25JbnRlcm5hbCIsImNhbGN1bGF0ZUNlbnRlclNoaWZ0IiwiY2VudGVyU2hpZnQiLCJzaGlmdGVkQ2VudGVyIiwiYWRqdXN0Q2VudGVyIiwiZGVsdGFDb29yZGluYXRlcyIsInNldENlbnRlciIsImFkanVzdENlbnRlckludGVybmFsIiwiYWRqdXN0UmVzb2x1dGlvbiIsImFkanVzdFJlc29sdXRpb25JbnRlcm5hbCIsImlzTW92aW5nIiwiYWRqdXN0Wm9vbSIsImFkanVzdFJvdGF0aW9uIiwiYWRqdXN0Um90YXRpb25JbnRlcm5hbCIsIm5ld1JvdGF0aW9uIiwiaGludCIsIm9wdF9kb05vdENhbmNlbEFuaW1zIiwib3B0X2ZvcmNlTW92aW5nIiwibmV3Q2VudGVyIiwib3B0X3Jlc29sdXRpb25EaXJlY3Rpb24iLCJiZWdpbkludGVyYWN0aW9uIiwiZW5kSW50ZXJhY3Rpb24iLCJlbmRJbnRlcmFjdGlvbkludGVybmFsIiwib3B0X3RhcmdldFJlc29sdXRpb24iLCJ0YXJnZXRab29tIiwib3B0X2RpcmVjdGlvbiIsInRhcmdldFJlcyIsIlBsdWdnYWJsZU1hcCIsIm9wdGlvbnNJbnRlcm5hbCIsImtleWJvYXJkRXZlbnRUYXJnZXQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRyb2xzIiwib3ZlcmxheXMiLCJsYXllckdyb3VwIiwiY3JlYXRlT3B0aW9uc0ludGVybmFsIiwiYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfIiwiaGFuZGxlQnJvd3NlckV2ZW50IiwibWF4VGlsZXNMb2FkaW5nXyIsIm1heFRpbGVzTG9hZGluZyIsInBpeGVsUmF0aW9fIiwicG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfIiwiYW5pbWF0aW9uRGVsYXlLZXlfIiwiYW5pbWF0aW9uRGVsYXlfIiwicmVuZGVyRnJhbWVfIiwiY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm1fIiwicGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fIiwiZnJhbWVJbmRleF8iLCJmcmFtZVN0YXRlXyIsInByZXZpb3VzRXh0ZW50XyIsInZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5XyIsInZpZXdDaGFuZ2VMaXN0ZW5lcktleV8iLCJsYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfIiwidmlld3BvcnRfIiwib3ZlcmxheUNvbnRhaW5lcl8iLCJvdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XyIsIm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfIiwia2V5Ym9hcmRFdmVudFRhcmdldF8iLCJrZXlIYW5kbGVyS2V5c18iLCJvdmVybGF5c18iLCJvdmVybGF5SWRJbmRleF8iLCJoYW5kbGVSZXNpemVfIiwicG9zdFJlbmRlckZ1bmN0aW9uc18iLCJ0aWxlUXVldWVfIiwiZ2V0VGlsZVByaW9yaXR5IiwiaGFuZGxlVGlsZUNoYW5nZV8iLCJNYXBQcm9wZXJ0eSIsImhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXyIsImhhbmRsZVZpZXdDaGFuZ2VkXyIsImhhbmRsZVNpemVDaGFuZ2VkXyIsImhhbmRsZVRhcmdldENoYW5nZWRfIiwiY29udHJvbCIsImFkZE92ZXJsYXlJbnRlcm5hbF8iLCJhZGRDb250cm9sIiwiZ2V0Q29udHJvbHMiLCJhZGRJbnRlcmFjdGlvbiIsImFkZExheWVyIiwiZ2V0TGF5ZXJHcm91cCIsIm92ZXJsYXkiLCJnZXRPdmVybGF5cyIsInNldFRhcmdldCIsImdldEZlYXR1cmVzQXRQaXhlbCIsImhhc0ZlYXR1cmVBdFBpeGVsIiwiZ2V0RXZlbnRDb29yZGluYXRlIiwiZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwiLCJ2aWV3cG9ydFBvc2l0aW9uIiwiZXZlbnRQb3NpdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwiZ2V0VGFyZ2V0IiwiZ2V0T3ZlcmxheUJ5SWQiLCJnZXRMb2FkaW5nIiwibG9hZGluZyIsInZpZXdDb29yZGluYXRlIiwib3duZXJEb2N1bWVudCIsInRpbGVTb3VyY2VLZXkiLCJ0aWxlQ2VudGVyIiwidGlsZVJlc29sdXRpb24iLCJ3YW50ZWRUaWxlcyIsImJyb3dzZXJFdmVudCIsImhhbmRsZU1hcEJyb3dzZXJFdmVudCIsInJvb3ROb2RlIiwiZWxlbWVudEZyb21Qb2ludCIsImRvY3VtZW50RWxlbWVudCIsImludGVyYWN0aW9uc0FycmF5IiwiaGFuZGxlUG9zdFJlbmRlciIsInRpbGVRdWV1ZSIsImhpbnRzIiwidmlld0hpbnRzIiwibG93T25GcmFtZUJ1ZGdldCIsInRpbWUiLCJ0YXJnZXRFbGVtZW50IiwidXBkYXRlU2l6ZSIsImhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfIiwidXBkYXRlVmlld3BvcnRTaXplXyIsInJlbmRlclN5bmMiLCJoYW5kbGVGb250c0NoYW5nZWQiLCJyZW1vdmVDb250cm9sIiwicmVtb3ZlSW50ZXJhY3Rpb24iLCJyZW1vdmVMYXllciIsInByZXZpb3VzRnJhbWVTdGF0ZSIsImRlY2x1dHRlclRyZWUiLCJ1c2VkVGlsZXMiLCJzZXRMYXllckdyb3VwIiwic2V0VmlldyIsImNvbXB1dGVkU3R5bGUiLCJwYXJzZUZsb2F0IiwiQ29udHJvbCIsInRhcmdldF8iLCJsaXN0ZW5lcktleXMiLCJtYXBFdmVudCIsIkF0dHJpYnV0aW9uIiwidWxFbGVtZW50XyIsImNvbGxhcHNlZF8iLCJjb2xsYXBzZWQiLCJ1c2VyQ29sbGFwc2VkXyIsIm92ZXJyaWRlQ29sbGFwc2libGVfIiwiY29sbGFwc2libGUiLCJjb2xsYXBzaWJsZV8iLCJ0aXBMYWJlbCIsImV4cGFuZENsYXNzTmFtZSIsImNvbGxhcHNlTGFiZWwiLCJjb2xsYXBzZUNsYXNzTmFtZSIsImNvbGxhcHNlTGFiZWxfIiwidGV4dENvbnRlbnQiLCJsYWJlbF8iLCJhY3RpdmVMYWJlbCIsInRpdGxlIiwiaGFuZGxlQ2xpY2tfIiwiY3NzQ2xhc3NlcyIsInJlbmRlcmVkQXR0cmlidXRpb25zXyIsImNvbGxlY3RTb3VyY2VBdHRyaWJ1dGlvbnNfIiwibG9va3VwIiwidmlzaWJsZUF0dHJpYnV0aW9ucyIsImF0dHJpYnV0aW9uR2V0dGVyIiwiZ2V0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25zIiwiZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUiLCJzZXRDb2xsYXBzaWJsZSIsInVwZGF0ZUVsZW1lbnRfIiwiaGFuZGxlVG9nZ2xlXyIsImNsYXNzTGlzdCIsImdldENvbGxhcHNpYmxlIiwic2V0Q29sbGFwc2VkIiwiZ2V0Q29sbGFwc2VkIiwiUm90YXRlIiwiY29tcGFzc0NsYXNzTmFtZSIsImNhbGxSZXNldE5vcnRoXyIsInJlc2V0Tm9ydGgiLCJkdXJhdGlvbl8iLCJhdXRvSGlkZV8iLCJhdXRvSGlkZSIsInJlc2V0Tm9ydGhfIiwiWm9vbSIsInpvb21JbkNsYXNzTmFtZSIsInpvb21PdXRDbGFzc05hbWUiLCJ6b29tSW5MYWJlbCIsInpvb21PdXRMYWJlbCIsInpvb21JblRpcExhYmVsIiwiem9vbU91dFRpcExhYmVsIiwiaW5FbGVtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJvdXRFbGVtZW50Iiwiem9vbUJ5RGVsdGFfIiwiRG91YmxlQ2xpY2tab29tIiwiZGVsdGFfIiwiRHJhZ1BhbiIsImtpbmV0aWNfIiwia2luZXRpYyIsImxhc3RDZW50cm9pZCIsImxhc3RQb2ludGVyc0NvdW50XyIsInBhbm5pbmdfIiwib25Gb2N1c09ubHkiLCJub0tpbmV0aWNfIiwidXBkYXRlIiwiZGlzdGFuY2UiLCJjZW50ZXJweCIsIlBvaW50ZXIiLCJEcmFnUm90YXRlIiwibGFzdEFuZ2xlXyIsIlJlbmRlckJveCIsInN0YXJ0UGl4ZWxfIiwiZW5kUGl4ZWxfIiwicmVuZGVyXyIsInN0YXJ0UGl4ZWwiLCJlbmRQaXhlbCIsInB4Iiwic2V0UGl4ZWxzIiwiY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSIsIkRyYWdCb3hFdmVudCIsIkRyYWdCb3giLCJib3hfIiwibWluQXJlYV8iLCJtaW5BcmVhIiwib25Cb3hFbmQiLCJib3hFbmRDb25kaXRpb25fIiwiYm94RW5kQ29uZGl0aW9uIiwiZGVmYXVsdEJveEVuZENvbmRpdGlvbiIsImNvbXBsZXRlQm94IiwiRHJhZ1pvb20iLCJvdXRfIiwib3V0IiwibWFwRXh0ZW50IiwiYm94UGl4ZWxFeHRlbnQiLCJmYWN0b3IiLCJLZXlib2FyZFBhbiIsImRlZmF1bHRDb25kaXRpb25fIiwicGl4ZWxEZWx0YV8iLCJwaXhlbERlbHRhIiwia2V5RXZlbnQiLCJrZXlDb2RlIiwibWFwVW5pdHNEZWx0YSIsIktleWJvYXJkWm9vbSIsImNoYXJDb2RlIiwiY2hhckNvZGVBdCIsIktpbmV0aWMiLCJkZWNheSIsIm1pblZlbG9jaXR5IiwiZGVsYXkiLCJkZWNheV8iLCJtaW5WZWxvY2l0eV8iLCJkZWxheV8iLCJpbml0aWFsVmVsb2NpdHlfIiwibGFzdEluZGV4IiwiZmlyc3RJbmRleCIsIk1vZGUiLCJNb3VzZVdoZWVsWm9vbSIsInRvdGFsRGVsdGFfIiwibGFzdERlbHRhXyIsInRpbWVvdXRfIiwidXNlQW5jaG9yXyIsInVzZUFuY2hvciIsImNvbnN0cmFpblJlc29sdXRpb25fIiwibGFzdEFuY2hvcl8iLCJzdGFydFRpbWVfIiwidGltZW91dElkXyIsIm1vZGVfIiwidHJhY2twYWRFdmVudEdhcF8iLCJ0cmFja3BhZFRpbWVvdXRJZF8iLCJkZWx0YVBlclpvb21fIiwiZW5kSW50ZXJhY3Rpb25fIiwid2hlZWxFdmVudCIsImRlbHRhTW9kZSIsIldoZWVsRXZlbnQiLCJET01fREVMVEFfUElYRUwiLCJET01fREVMVEFfTElORSIsInRpbWVMZWZ0IiwiaGFuZGxlV2hlZWxab29tXyIsInNldE1vdXNlQW5jaG9yIiwiUGluY2hSb3RhdGUiLCJwb2ludGVyT3B0aW9ucyIsInJvdGF0aW5nXyIsInJvdGF0aW9uRGVsdGFfIiwidGhyZXNob2xkXyIsInRocmVzaG9sZCIsInJvdGF0aW9uRGVsdGEiLCJ0b3VjaDAiLCJ0b3VjaDEiLCJQaW5jaFpvb20iLCJsYXN0RGlzdGFuY2VfIiwibGFzdFNjYWxlRGVsdGFfIiwic2NhbGVEZWx0YSIsInpvb21PcHRpb25zIiwicm90YXRlT3B0aW9ucyIsImF0dHJpYnV0aW9uIiwiYXR0cmlidXRpb25PcHRpb25zIiwiYWx0U2hpZnREcmFnUm90YXRlIiwiZG91YmxlQ2xpY2tab29tIiwiem9vbURlbHRhIiwiem9vbUR1cmF0aW9uIiwiZHJhZ1BhbiIsInBpbmNoUm90YXRlIiwicGluY2hab29tIiwia2V5Ym9hcmQiLCJtb3VzZVdoZWVsWm9vbSIsInNoaWZ0RHJhZ1pvb20iLCJDb21wb3NpdGUiLCJCYXNlVGlsZUxheWVyIiwicHJlbG9hZCIsInVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJzZXRQcmVsb2FkIiwic2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciIsImdldFByZWxvYWQiLCJUaWxlUHJvcGVydHkiLCJnZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yIiwiTGF5ZXJSZW5kZXJlciIsImJvdW5kSGFuZGxlSW1hZ2VDaGFuZ2VfIiwiaGFuZGxlSW1hZ2VDaGFuZ2VfIiwibGF5ZXJfIiwiZGVjbHV0dGVyRXhlY3V0b3JHcm91cCIsImxvYWRlZFRpbGVDYWxsYmFjayIsInRpbGVzIiwidGlsZUNvb3JkIiwiY3JlYXRlTG9hZGVkVGlsZUZpbmRlciIsInRpbGVSYW5nZSIsImZvckVhY2hMb2FkZWRUaWxlIiwicmVuZGVySWZSZWFkeUFuZFZpc2libGUiLCJsb2FkSW1hZ2UiLCJpbWFnZVN0YXRlIiwiQ2FudmFzTGF5ZXJSZW5kZXJlciIsInJlbmRlcmVkUmVzb2x1dGlvbiIsInRlbXBUcmFuc2Zvcm0iLCJwaXhlbFRyYW5zZm9ybSIsImNvbnRhaW5lclJldXNlZCIsInVzZUNvbnRhaW5lciIsImxheWVyQ2xhc3NOYW1lIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJIVE1MQ2FudmFzRWxlbWVudCIsInRyYW5zZm9ybU9yaWdpbiIsImNsaXAiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwidG9wTGVmdCIsInRvcFJpZ2h0IiwiYm90dG9tUmlnaHQiLCJib3R0b21MZWZ0IiwibW92ZVRvIiwiY2xpcFVucm90YXRlZCIsImludmVydGVkIiwiZGlzcGF0Y2hSZW5kZXJFdmVudF8iLCJwcmVSZW5kZXIiLCJwb3N0UmVuZGVyIiwiZ2V0UmVuZGVyVHJhbnNmb3JtIiwicmVuZGVyUGl4ZWwiLCJsYXllckV4dGVudCIsInJlbmRlckNvb3JkaW5hdGUiLCJuZXdDYW52YXMiLCJuZXdDb250ZXh0IiwiY2xlYXJSZWN0IiwiZ2V0SW1hZ2VEYXRhIiwiVWludDhBcnJheSIsIlRpbGVSYW5nZSIsImNvbnRhaW5zVGlsZVJhbmdlIiwiQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIiLCJ0aWxlTGF5ZXIiLCJleHRlbnRDaGFuZ2VkIiwicmVuZGVyZWRFeHRlbnRfIiwicmVuZGVyZWRQaXhlbFJhdGlvIiwicmVuZGVyZWRQcm9qZWN0aW9uIiwicmVuZGVyZWRSZXZpc2lvbiIsInJlbmRlcmVkVGlsZXMiLCJuZXdUaWxlc18iLCJ0bXBFeHRlbnQiLCJ0bXBUaWxlUmFuZ2VfIiwiaXNEcmF3YWJsZVRpbGUiLCJ0aWxlU3RhdGUiLCJnZXRUaWxlIiwic2V0U3RhdGUiLCJnZXRJbnRlcmltVGlsZSIsInZpZXdSZXNvbHV0aW9uIiwidmlld0NlbnRlciIsInRpbGVTb3VyY2UiLCJzb3VyY2VSZXZpc2lvbiIsImdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsImdldFpGb3JSZXNvbHV0aW9uIiwiekRpcmVjdGlvbiIsInRpbGVQaXhlbFJhdGlvIiwiZ2V0VGlsZVBpeGVsUmF0aW8iLCJjYW52YXNFeHRlbnQiLCJnZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaIiwidGlsZXNUb0RyYXdCeVoiLCJmaW5kTG9hZGVkVGlsZXMiLCJ0bXBUaWxlUmFuZ2UiLCJ1aWQiLCJpblRyYW5zaXRpb24iLCJnZXRBbHBoYSIsImNoaWxkVGlsZVJhbmdlIiwiZ2V0VGlsZUNvb3JkQ2hpbGRUaWxlUmFuZ2UiLCJjb3ZlcmVkIiwiZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZSIsImNhbnZhc1NjYWxlIiwiY2FudmFzVHJhbnNmb3JtIiwiZ2V0Q29udGV4dE9wdGlvbnMiLCJjbGlwcyIsImNsaXBacyIsImN1cnJlbnRDbGlwIiwienMiLCJnZXRPcGFxdWUiLCJyZXZlcnNlIiwiY3VycmVudFoiLCJjdXJyZW50VGlsZVBpeGVsU2l6ZSIsImdldFRpbGVQaXhlbFNpemUiLCJjdXJyZW50U2NhbGUiLCJkeF8xIiwiZHlfMSIsIm9yaWdpblRpbGVDb29yZCIsImdldFRpbGVDb29yZEZvckNvb3JkQW5kWiIsIm9yaWdpblRpbGVFeHRlbnQiLCJnZXRUaWxlQ29vcmRFeHRlbnQiLCJvcmlnaW5fMSIsInRpbGVHdXR0ZXIiLCJnZXRHdXR0ZXJGb3JQcm9qZWN0aW9uIiwidGlsZXNUb0RyYXciLCJ0aWxlQ29vcmRLZXkiLCJmbG9hdFgiLCJuZXh0WCIsImZsb2F0WSIsIm5leHRZIiwidHJhbnNpdGlvbiIsImlfMSIsImRyYXdUaWxlSW1hZ2UiLCJ1cGRhdGVVc2VkVGlsZXMiLCJtYW5hZ2VUaWxlUHlyYW1pZCIsInNjaGVkdWxlRXhwaXJlQ2FjaGUiLCJndXR0ZXIiLCJnZXRUaWxlSW1hZ2UiLCJ0aWxlQWxwaGEiLCJhbHBoYSIsImFscGhhQ2hhbmdlZCIsImVuZFRyYW5zaXRpb24iLCJwb3N0UmVuZGVyRnVuY3Rpb24iLCJleHBpcmVDYWNoZSIsIm9wdF90aWxlQ2FsbGJhY2siLCJ0aWxlQ291bnQiLCJnZXRUaWxlQ29vcmRDZW50ZXIiLCJ1c2VUaWxlIiwidXBkYXRlQ2FjaGVTaXplIiwiVGlsZUxheWVyIiwiQmFzZVRpbGUiLCJCYXNlVmVjdG9yTGF5ZXIiLCJyZW5kZXJCdWZmZXIiLCJ1cGRhdGVXaGlsZUFuaW1hdGluZyIsInVwZGF0ZVdoaWxlSW50ZXJhY3RpbmciLCJkZWNsdXR0ZXJfIiwiZGVjbHV0dGVyIiwicmVuZGVyQnVmZmVyXyIsInVwZGF0ZVdoaWxlQW5pbWF0aW5nXyIsInVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdfIiwiZ2V0RGVjbHV0dGVyIiwiZ2V0UmVuZGVyQnVmZmVyIiwiZ2V0UmVuZGVyT3JkZXIiLCJnZXRVcGRhdGVXaGlsZUFuaW1hdGluZyIsImdldFVwZGF0ZVdoaWxlSW50ZXJhY3RpbmciLCJzZXRSZW5kZXJPcmRlciIsInJlbmRlck9yZGVyIiwiSW5zdHJ1Y3Rpb24iLCJCRUdJTl9HRU9NRVRSWSIsIkJFR0lOX1BBVEgiLCJDTE9TRV9QQVRIIiwiQ1VTVE9NIiwiRFJBV19DSEFSUyIsIkRSQVdfSU1BR0UiLCJFTkRfR0VPTUVUUlkiLCJGSUxMIiwiTU9WRV9UT19MSU5FX1RPIiwiU0VUX0ZJTExfU1RZTEUiLCJTRVRfU1RST0tFX1NUWUxFIiwiU1RST0tFIiwiZmlsbEluc3RydWN0aW9uIiwic3Ryb2tlSW5zdHJ1Y3Rpb24iLCJiZWdpblBhdGhJbnN0cnVjdGlvbiIsImNsb3NlUGF0aEluc3RydWN0aW9uIiwiVmVjdG9yQ29udGV4dCIsImRyYXdDdXN0b20iLCJkcmF3R2VvbWV0cnkiLCJkcmF3Q2lyY2xlIiwiY2lyY2xlR2VvbWV0cnkiLCJkcmF3RmVhdHVyZSIsImRyYXdHZW9tZXRyeUNvbGxlY3Rpb24iLCJnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSIsImRyYXdMaW5lU3RyaW5nIiwibGluZVN0cmluZ0dlb21ldHJ5IiwiZHJhd011bHRpTGluZVN0cmluZyIsIm11bHRpTGluZVN0cmluZ0dlb21ldHJ5IiwiZHJhd011bHRpUG9pbnQiLCJtdWx0aVBvaW50R2VvbWV0cnkiLCJkcmF3TXVsdGlQb2x5Z29uIiwibXVsdGlQb2x5Z29uR2VvbWV0cnkiLCJkcmF3UG9pbnQiLCJwb2ludEdlb21ldHJ5IiwiZHJhd1BvbHlnb24iLCJwb2x5Z29uR2VvbWV0cnkiLCJkcmF3VGV4dCIsInNldEZpbGxTdHJva2VTdHlsZSIsInNldEltYWdlU3R5bGUiLCJpbWFnZVN0eWxlIiwib3B0X2RlY2x1dHRlckltYWdlV2l0aFRleHQiLCJzZXRUZXh0U3R5bGUiLCJ0ZXh0U3R5bGUiLCJDYW52YXNCdWlsZGVyIiwibWF4TGluZVdpZHRoIiwiYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8iLCJiZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyIsImJ1ZmZlcmVkTWF4RXh0ZW50XyIsImluc3RydWN0aW9ucyIsInRtcENvb3JkaW5hdGVfIiwiaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIiwiYXBwbHlQaXhlbFJhdGlvIiwiZGFzaEFycmF5IiwiZGFzaCIsImFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzIiwiZ2V0QnVmZmVyZWRNYXhFeHRlbnQiLCJteUVuZCIsImFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMiLCJjbG9zZWQiLCJza2lwRmlyc3QiLCJsYXN0UmVsIiwibmV4dFJlbCIsImxhc3RYQ29vcmQiLCJsYXN0WUNvb3JkIiwibmV4dENvb3JkIiwic2tpcHBlZCIsIlJlbGF0aW9uc2hpcCIsImRyYXdDdXN0b21Db29yZGluYXRlc18iLCJidWlsZGVyRW5kcyIsImJ1aWxkZXJFbmQiLCJiZWdpbkdlb21ldHJ5IiwiYnVpbGRlckVuZHNzIiwiYnVpbGRlckJlZ2luIiwiZ2V0RW5kc3MiLCJteUVuZHMiLCJlbmRHZW9tZXRyeSIsImZpbmlzaCIsInJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMiLCJpbnN0cnVjdGlvbiIsImZpbGxTdHlsZUNvbG9yIiwic3Ryb2tlU3R5bGVDb2xvciIsInN0cm9rZVN0eWxlTGluZUNhcCIsInN0cm9rZVN0eWxlTGluZURhc2giLCJzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0Iiwic3Ryb2tlU3R5bGVMaW5lSm9pbiIsInN0cm9rZVN0eWxlV2lkdGgiLCJzdHJva2VTdHlsZU1pdGVyTGltaXQiLCJjcmVhdGVGaWxsIiwiYXBwbHlTdHJva2UiLCJjcmVhdGVTdHJva2UiLCJ1cGRhdGVGaWxsU3R5bGUiLCJjdXJyZW50RmlsbFN0eWxlIiwidXBkYXRlU3Ryb2tlU3R5bGUiLCJjdXJyZW50U3Ryb2tlU3R5bGUiLCJjdXJyZW50TGluZUNhcCIsImN1cnJlbnRMaW5lRGFzaCIsImN1cnJlbnRMaW5lRGFzaE9mZnNldCIsImN1cnJlbnRMaW5lSm9pbiIsImN1cnJlbnRMaW5lV2lkdGgiLCJjdXJyZW50TWl0ZXJMaW1pdCIsImVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24iLCJDYW52YXNJbWFnZUJ1aWxkZXIiLCJoaXREZXRlY3Rpb25JbWFnZV8iLCJpbWFnZVBpeGVsUmF0aW9fIiwiYW5jaG9yWF8iLCJhbmNob3JZXyIsImhlaWdodF8iLCJvcmlnaW5YXyIsIm9yaWdpbllfIiwiZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8iLCJteUJlZ2luIiwib3B0X3NoYXJlZERhdGEiLCJoaXREZXRlY3Rpb25JbWFnZSIsIm9yaWdpbiIsIkNhbnZhc0xpbmVTdHJpbmdCdWlsZGVyIiwiZHJhd0ZsYXRDb29yZGluYXRlc18iLCJtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbiIsImxhc3RTdHJva2UiLCJDYW52YXNQb2x5Z29uQnVpbGRlciIsImRyYXdGbGF0Q29vcmRpbmF0ZXNzXyIsIm51bUVuZHMiLCJzZXRGaWxsU3Ryb2tlU3R5bGVzXyIsImNpcmNsZUluc3RydWN0aW9uIiwibWF0Y2hpbmdDaHVuayIsIm0xMiIsIm0yMyIsIngxMiIsInkxMiIsIngyMyIsInkyMyIsImNodW5rU3RhcnQiLCJjaHVua0VuZCIsImNodW5rTSIsImFjb3MiLCJURVhUX0FMSUdOIiwiQkFUQ0hfQ09OU1RSVUNUT1JTIiwiUG9seWdvbkJ1aWxkZXIiLCJCdWlsZGVyIiwiSW1hZ2VCdWlsZGVyIiwiTGluZVN0cmluZ0J1aWxkZXIiLCJDYW52YXNUZXh0QnVpbGRlciIsImxhYmVsc18iLCJ0ZXh0T2Zmc2V0WF8iLCJ0ZXh0T2Zmc2V0WV8iLCJ0ZXh0Um90YXRlV2l0aFZpZXdfIiwidGV4dFJvdGF0aW9uXyIsInRleHRGaWxsU3RhdGVfIiwiZmlsbFN0YXRlcyIsInRleHRTdHJva2VTdGF0ZV8iLCJzdHJva2VTdGF0ZXMiLCJ0ZXh0U3RhdGVfIiwidGV4dFN0YXRlcyIsInRleHRLZXlfIiwiZmlsbEtleV8iLCJzdHJva2VLZXlfIiwiZmlsbFN0YXRlIiwic3Ryb2tlU3RhdGUiLCJ0ZXh0U3RhdGUiLCJnZW9tZXRyeVR5cGUiLCJnZW9tZXRyeVdpZHRocyIsImdldEZsYXRNaWRwb2ludCIsImdldEZsYXRNaWRwb2ludHMiLCJpbnRlcmlvclBvaW50cyIsImdldEZsYXRJbnRlcmlvclBvaW50cyIsInNhdmVUZXh0U3RhdGVzXyIsInAwIiwicDEiLCJwMiIsInAzIiwicGl4ZWxSYXRpb18xIiwiZmxhdE9mZnNldCIsImZsYXRFbmQiLCJvbyIsInJhbmdlIiwiZHJhd0NoYXJzXyIsInN0cm9rZUtleSIsInRleHRLZXkiLCJmaWxsS2V5IiwiYmFzZWxpbmUiLCJ0ZXh0RmlsbFN0eWxlIiwidGV4dFN0cm9rZVN0eWxlIiwidGV4dFNjYWxlIiwidGV4dE9mZnNldFgiLCJ0ZXh0T2Zmc2V0WSIsInRleHRSb3RhdGVXaXRoVmlldyIsInRleHRSb3RhdGlvbiIsIkJ1aWxkZXJHcm91cCIsInRvbGVyYW5jZV8iLCJtYXhFeHRlbnRfIiwicmVzb2x1dGlvbl8iLCJidWlsZGVyc0J5WkluZGV4XyIsImJ1aWxkZXJJbnN0cnVjdGlvbnMiLCJ6S2V5IiwiYnVpbGRlcnMiLCJidWlsZGVyS2V5IiwiYnVpbGRlckluc3RydWN0aW9uIiwiZ2V0QnVpbGRlciIsImJ1aWxkZXJUeXBlIiwiekluZGV4S2V5IiwicmVwbGF5cyIsInJlcGxheSIsIkNvbnN0cnVjdG9yIiwiZHJhd1RleHRPblBhdGgiLCJzdGFydE0iLCJzZWdtZW50TSIsImFkdmFuY2UiLCJpbnRlcnBvbGF0ZSIsImJlZ2luWCIsImJlZ2luWSIsInN0YXJ0T2Zmc2V0Iiwic3RhcnRMZW5ndGgiLCJlbmRNIiwiZmxhdCIsInByZXZpb3VzQW5nbGUiLCJzaW5nbGVTZWdtZW50IiwicHJldmlvdXNBbmdsZV8xIiwiaVN0YXJ0IiwiY2hhckxlbmd0aCIsImNoYXJzIiwic3Vic3RyaW5nIiwibGluZVN0cmluZ0xlbmd0aCIsInA0IiwiZ2V0RGVjbHV0dGVyQm94IiwicmVwbGF5SW1hZ2VPckxhYmVsQXJncyIsImRlY2x1dHRlckJveCIsInJ0bFJlZ0V4IiwiZnJvbUNoYXJDb2RlIiwiaG9yaXpvbnRhbFRleHRBbGlnbiIsImFsaWduIiwidGVzdCIsIkV4ZWN1dG9yIiwib3ZlcmxhcHMiLCJhbGlnbkZpbGxfIiwiY29vcmRpbmF0ZUNhY2hlXyIsInJlbmRlcmVkVHJhbnNmb3JtXyIsInBpeGVsQ29vcmRpbmF0ZXNfIiwidmlld1JvdGF0aW9uXyIsIndpZHRoc18iLCJjcmVhdGVMYWJlbCIsInJlbmRlcldpZHRoIiwiT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwibGVmdFJpZ2h0IiwicmVwbGF5VGV4dEJhY2tncm91bmRfIiwic2V0U3Ryb2tlU3R5bGVfIiwiY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18iLCJzaGVldFdpZHRoIiwic2hlZXRIZWlnaHQiLCJzbmFwVG9QaXhlbCIsImZpbGxTdHJva2UiLCJib3hXIiwiYm94SCIsImJveFgiLCJib3hZIiwiZHJhd0ltYWdlWCIsImRyYXdJbWFnZVkiLCJkcmF3SW1hZ2VXIiwiZHJhd0ltYWdlSCIsInJlcGxheUltYWdlT3JMYWJlbF8iLCJjb250ZXh0U2NhbGUiLCJpbWFnZU9yTGFiZWwiLCJkaW1lbnNpb25zIiwic3Ryb2tlUGFkZGluZyIsInJlcGVhdFNpemUiLCJkcmF3TGFiZWxXaXRoUG9pbnRQbGFjZW1lbnRfIiwiZXhlY3V0ZV8iLCJvcHRfZmVhdHVyZUNhbGxiYWNrIiwib3B0X2hpdEV4dGVudCIsIm9wdF9kZWNsdXR0ZXJUcmVlIiwicGl4ZWxDb29yZGluYXRlcyIsImRkIiwicHJldlgiLCJwcmV2WSIsInJvdW5kWCIsInJvdW5kWSIsImN1cnJlbnRHZW9tZXRyeSIsInBlbmRpbmdGaWxsIiwicGVuZGluZ1N0cm9rZSIsImxhc3RGaWxsSW5zdHJ1Y3Rpb24iLCJsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24iLCJjb29yZGluYXRlQ2FjaGUiLCJ2aWV3Um90YXRpb24iLCJ2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtIiwiYmF0Y2hTaXplIiwiZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCIsImxhYmVsV2l0aEFuY2hvciIsIndpZHRoSW5kZXgiLCJpbWFnZUFyZ3MiLCJpbWFnZURlY2x1dHRlckJveCIsIm1lYXN1cmVQaXhlbFJhdGlvIiwicGl4ZWxSYXRpb1NjYWxlIiwiY2FjaGVkV2lkdGhzIiwicGF0aExlbmd0aCIsInRleHRMZW5ndGgiLCJwYXJ0cyIsImRyYXdDaGFycyIsImNjIiwicGFydCIsImlpXzEiLCJleGVjdXRlIiwiZXhlY3V0ZUhpdERldGVjdGlvbiIsIk9SREVSIiwiQnVpbGRlclR5cGUiLCJFeGVjdXRvckdyb3VwIiwiYWxsSW5zdHJ1Y3Rpb25zIiwib3B0X3JlbmRlckJ1ZmZlciIsIm92ZXJsYXBzXyIsImV4ZWN1dG9yc0J5WkluZGV4XyIsImhpdERldGVjdGlvbkNvbnRleHRfIiwiaGl0RGV0ZWN0aW9uVHJhbnNmb3JtXyIsImNyZWF0ZUV4ZWN1dG9yc18iLCJmbGF0Q2xpcENvb3JkcyIsImdldENsaXBDb29yZHMiLCJleGVjdXRvcnMiLCJpbnN0cnVjdGlvbkJ5WmluZGV4IiwiaGFzRXhlY3V0b3JzIiwiY2FuZGlkYXRlcyIsImRlY2x1dHRlcmVkRmVhdHVyZXMiLCJjb250ZXh0U2l6ZSIsImhpdEV4dGVudCIsImluZGV4ZXMiLCJjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZSIsIm1heERpc3RhbmNlU3EiLCJkaXN0YW5jZXMiLCJwaXhlbEluZGV4IiwiZ2V0UGl4ZWxJbmRleEFycmF5IiwiZmVhdHVyZUNhbGxiYWNrIiwiaW1hZ2VEYXRhIiwiaWR4IiwicmVzdWx0XzEiLCJleGVjdXRvciIsIm9wdF9idWlsZGVyVHlwZXMiLCJidWlsZGVyVHlwZXMiLCJDYW52YXNJbW1lZGlhdGVSZW5kZXJlciIsIm9wdF9zcXVhcmVkVG9sZXJhbmNlIiwib3B0X3VzZXJUcmFuc2Zvcm0iLCJjb250ZXh0XyIsInNxdWFyZWRUb2xlcmFuY2VfIiwidXNlclRyYW5zZm9ybV8iLCJjb250ZXh0RmlsbFN0YXRlXyIsImNvbnRleHRTdHJva2VTdGF0ZV8iLCJjb250ZXh0VGV4dFN0YXRlXyIsImZpbGxTdGF0ZV8iLCJzdHJva2VTdGF0ZV8iLCJpbWFnZUFuY2hvclhfIiwiaW1hZ2VBbmNob3JZXyIsImltYWdlSGVpZ2h0XyIsImltYWdlT3BhY2l0eV8iLCJpbWFnZU9yaWdpblhfIiwiaW1hZ2VPcmlnaW5ZXyIsImltYWdlUm90YXRlV2l0aFZpZXdfIiwiaW1hZ2VSb3RhdGlvbl8iLCJpbWFnZVNjYWxlXyIsImltYWdlV2lkdGhfIiwidGV4dFNjYWxlXyIsInRtcExvY2FsVHJhbnNmb3JtXyIsImRyYXdJbWFnZXNfIiwibG9jYWxUcmFuc2Zvcm0iLCJkcmF3VGV4dF8iLCJzZXRDb250ZXh0RmlsbFN0YXRlXyIsInNldENvbnRleHRTdHJva2VTdGF0ZV8iLCJzZXRDb250ZXh0VGV4dFN0YXRlXyIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsIm1vdmVUb0xpbmVUb18iLCJjbG9zZSIsImRyYXdSaW5nc18iLCJnZW9tZXRyaWVzIiwiZ2V0R2VvbWV0cmllc0FycmF5IiwiZmxhdE1pZHBvaW50IiwiZ2VvbWV0cnlFeHRlbnQiLCJmbGF0TWlkcG9pbnRzIiwiZmxhdEludGVyaW9yUG9pbnQiLCJmbGF0SW50ZXJpb3JQb2ludHMiLCJjb250ZXh0RmlsbFN0YXRlIiwiY29udGV4dFN0cm9rZVN0YXRlIiwiY29udGV4dFRleHRTdGF0ZSIsImltYWdlQW5jaG9yIiwiaW1hZ2VJbWFnZSIsImltYWdlT3JpZ2luIiwiaW1hZ2VTY2FsZSIsInRleHRGaWxsU3R5bGVDb2xvciIsInRleHRTdHJva2VTdHlsZUNvbG9yIiwidGV4dFN0cm9rZVN0eWxlTGluZUNhcCIsInRleHRTdHJva2VTdHlsZUxpbmVEYXNoIiwidGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiIsInRleHRTdHJva2VTdHlsZVdpZHRoIiwidGV4dFN0cm9rZVN0eWxlTWl0ZXJMaW1pdCIsInRleHRGb250IiwidGV4dFRleHQiLCJ0ZXh0VGV4dEFsaWduIiwidGV4dFRleHRCYXNlbGluZSIsIkltYWdlQmFzZSIsImxpc3RlbkltYWdlIiwibG9hZEhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJpbWciLCJsaXN0ZW5pbmdfMSIsImNhdGNoIiwiSW1hZ2VXcmFwcGVyIiwiaW1hZ2VMb2FkRnVuY3Rpb24iLCJzcmNfIiwidW5saXN0ZW5fIiwiaW1hZ2VMb2FkRnVuY3Rpb25fIiwiaGFuZGxlSW1hZ2VFcnJvcl8iLCJ1bmxpc3RlbkltYWdlXyIsImhhbmRsZUltYWdlTG9hZF8iLCJ0YWludGVkVGVzdENvbnRleHQiLCJJY29uSW1hZ2UiLCJpbWFnZVN0YXRlXyIsInRhaW50ZWRfIiwiaXNUYWludGVkXyIsImRpc3BhdGNoQ2hhbmdlRXZlbnRfIiwicmVwbGFjZUNvbG9yXyIsImZpbGxSZWN0IiwiZ2V0U3JjIiwiY3R4IiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiaW1nRGF0YSIsInB1dEltYWdlRGF0YSIsIkljb24iLCJub3JtYWxpemVkQW5jaG9yXyIsImFuY2hvck9yaWdpbl8iLCJhbmNob3JPcmlnaW4iLCJJY29uT3JpZ2luIiwiYW5jaG9yWFVuaXRzXyIsImFuY2hvclhVbml0cyIsIkljb25BbmNob3JVbml0cyIsImFuY2hvcllVbml0c18iLCJhbmNob3JZVW5pdHMiLCJjcm9zc09yaWdpbl8iLCJpbWdTaXplIiwiaWNvbkltYWdlXyIsIm9mZnNldF8iLCJvZmZzZXRPcmlnaW5fIiwib2Zmc2V0T3JpZ2luIiwic2V0QW5jaG9yIiwiaWNvbkltYWdlU2l6ZSIsIkdFT01FVFJZX1JFTkRFUkVSUyIsImJ1aWxkZXJHcm91cCIsIm9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAiLCJpbWFnZVJlcGxheSIsInRleHRSZXBsYXkiLCJsaW5lU3RyaW5nUmVwbGF5IiwicG9seWdvblJlcGxheSIsInJlcGxheUdyb3VwIiwiZ2VvbWV0cnlSZW5kZXJlciIsImNpcmNsZVJlcGxheSIsImRlZmF1bHRPcmRlciIsImZlYXR1cmUxIiwiZmVhdHVyZTIiLCJnZXRUb2xlcmFuY2UiLCJyZW5kZXJGZWF0dXJlIiwicmVuZGVyR2VvbWV0cnkiLCJyZW5kZXJGZWF0dXJlSW50ZXJuYWwiLCJnZXRHZW9tZXRyaWVzIiwiQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlciIsInZlY3RvckxheWVyIiwiYm91bmRIYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyIsImhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfIiwiYW5pbWF0aW5nT3JJbnRlcmFjdGluZ18iLCJkaXJ0eV8iLCJoaXREZXRlY3Rpb25JbWFnZURhdGFfIiwicmVuZGVyZWRGZWF0dXJlc18iLCJyZW5kZXJlZFJldmlzaW9uXyIsInJlbmRlcmVkUmVzb2x1dGlvbl8iLCJyZW5kZXJlZFJvdGF0aW9uXyIsInJlbmRlcmVkQ2VudGVyXyIsInJlbmRlcmVkUHJvamVjdGlvbl8iLCJyZW5kZXJlZFJlbmRlck9yZGVyXyIsInJlcGxheUdyb3VwXyIsInJlcGxheUdyb3VwQ2hhbmdlZCIsImNsaXBwaW5nIiwicmVuZGVyV29ybGRzIiwiZXhlY3V0b3JHcm91cCIsInZlY3RvclNvdXJjZSIsImVuZFdvcmxkIiwid29ybGQiLCJjbGlwcGVkIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiZmVhdHVyZUNvdW50IiwiaW5kZXhGYWN0b3IiLCJmZWF0dXJlc0J5WkluZGV4IiwiZmVhdHVyZVN0eWxlRnVuY3Rpb24iLCJvcmlnaW5hbFN0eWxlIiwiY2FudmFzXzEiLCJpbWdDb250ZXh0Iiwid2lkdGhfMSIsImhlaWdodF8xIiwiYnlHZW9tZXRyeVR5cGUiLCJ6SW5kZXhLZXlzIiwiZ2VvbUFuZFN0eWxlIiwia2siLCJjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEiLCJyZXN1bHRGZWF0dXJlcyIsImhpdERldGVjdCIsImV4ZWN1dG9yR3JvdXBzIiwiYW5pbWF0aW5nIiwiaW50ZXJhY3RpbmciLCJmcmFtZVN0YXRlRXh0ZW50IiwidmVjdG9yTGF5ZXJSZXZpc2lvbiIsInZlY3RvckxheWVyUmVuZGVyQnVmZmVyIiwidmVjdG9yTGF5ZXJSZW5kZXJPcmRlciIsImxvYWRFeHRlbnRzIiwibG9hZEV4dGVudCIsImRlY2x1dHRlckJ1aWxkZXJHcm91cCIsInVzZXJUcmFuc2Zvcm0iLCJsb2FkRmVhdHVyZXMiLCJkaXJ0eSIsInVzZXJFeHRlbnQiLCJnZXRGZWF0dXJlc0luRXh0ZW50IiwicmVwbGF5R3JvdXBJbnN0cnVjdGlvbnMiLCJnZXRPdmVybGFwcyIsIlZlY3RvckxheWVyIiwiQmFzZVZlY3RvciIsIlJCdXNoIiwib3B0X21heEVudHJpZXMiLCJyYnVzaF8iLCJpdGVtc18iLCJleHRlbnRzIiwiaXRlbXMiLCJiYm94IiwiZ2V0QWxsIiwiZ2V0SW5FeHRlbnQiLCJmb3JFYWNoXyIsImZvckVhY2hJbkV4dGVudCIsInJidXNoIiwiYWRhcHRBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbkxpa2UiLCJTb3VyY2UiLCJhdHRyaWJ1dGlvbnNfIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGVfIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGUiLCJ3cmFwWF8iLCJyZWZyZXNoIiwic2V0QXR0cmlidXRpb25zIiwieGhyIiwiZm9ybWF0Iiwic3VjY2VzcyIsImZhaWx1cmUiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJGb3JtYXRUeXBlIiwicmVzcG9uc2VUeXBlIiwid2l0aENyZWRlbnRpYWxzIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VYTUwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJyZWFkRmVhdHVyZXMiLCJmZWF0dXJlUHJvamVjdGlvbiIsInJlYWRQcm9qZWN0aW9uIiwic2VuZCIsImxvYWRGZWF0dXJlc1hociIsImRhdGFQcm9qZWN0aW9uIiwiYWRkRmVhdHVyZXMiLCJWZWN0b3JTb3VyY2VFdmVudCIsIm9wdF9mZWF0dXJlIiwib3B0X2ZlYXR1cmVzIiwiVmVjdG9yU291cmNlIiwibG9hZGVyXyIsImZvcm1hdF8iLCJ1cmxfIiwibG9hZGVyIiwic3RyYXRlZ3lfIiwic3RyYXRlZ3kiLCJjb2xsZWN0aW9uIiwidXNlU3BhdGlhbEluZGV4IiwiZmVhdHVyZXNSdHJlZV8iLCJsb2FkZWRFeHRlbnRzUnRyZWVfIiwibnVsbEdlb21ldHJ5RmVhdHVyZXNfIiwiaWRJbmRleF8iLCJ1aWRJbmRleF8iLCJmZWF0dXJlQ2hhbmdlS2V5c18iLCJmZWF0dXJlc0NvbGxlY3Rpb25fIiwiYWRkRmVhdHVyZXNJbnRlcm5hbCIsImJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fIiwiYWRkRmVhdHVyZSIsImFkZEZlYXR1cmVJbnRlcm5hbCIsImZlYXR1cmVLZXkiLCJhZGRUb0luZGV4XyIsInNldHVwQ2hhbmdlRXZlbnRzXyIsIlZlY3RvckV2ZW50VHlwZSIsImhhbmRsZUZlYXR1cmVDaGFuZ2VfIiwidmFsaWQiLCJuZXdGZWF0dXJlcyIsImdlb21ldHJ5RmVhdHVyZXMiLCJsZW5ndGhfMSIsImxlbmd0aF8yIiwibGVuZ3RoXzMiLCJtb2RpZnlpbmdDb2xsZWN0aW9uIiwicmVtb3ZlRmVhdHVyZSIsIm9wdF9mYXN0IiwiZmVhdHVyZUlkIiwicmVtb3ZlRmVhdHVyZUludGVybmFsIiwiY2xlYXJFdmVudCIsImZvckVhY2hGZWF0dXJlIiwiZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGVEaXJlY3QiLCJmb3JFYWNoRmVhdHVyZUluRXh0ZW50IiwiZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQiLCJnZXRGZWF0dXJlc0NvbGxlY3Rpb24iLCJnZXRGZWF0dXJlc0F0Q29vcmRpbmF0ZSIsImdldENsb3Nlc3RGZWF0dXJlVG9Db29yZGluYXRlIiwib3B0X2ZpbHRlciIsImNsb3Nlc3RGZWF0dXJlIiwicHJldmlvdXNNaW5TcXVhcmVkRGlzdGFuY2UiLCJtaW5EaXN0YW5jZSIsImdldEZlYXR1cmVCeUlkIiwiZ2V0RmVhdHVyZUJ5VWlkIiwiZ2V0Rm9ybWF0IiwiZ2V0VXJsIiwic2lkIiwicmVtb3ZlRnJvbUlkSW5kZXhfIiwiaGFzRmVhdHVyZSIsImxvYWRlZEV4dGVudHNSdHJlZSIsImV4dGVudHNUb0xvYWQiLCJfbG9vcF8xIiwiZXh0ZW50VG9Mb2FkIiwidGhpc18xIiwicmVtb3ZlTG9hZGVkRXh0ZW50IiwicmVtb3ZlZCIsInNldExvYWRlciIsInNldFVybCIsIlRpbGUiLCJpbnRlcmltVGlsZSIsInRyYW5zaXRpb25fIiwidHJhbnNpdGlvblN0YXJ0c18iLCJyZWxlYXNlIiwicmVmcmVzaEludGVyaW1DaGFpbiIsImdldFRpbGVDb29yZCIsIkltYWdlVGlsZSIsInRpbGVMb2FkRnVuY3Rpb24iLCJ0aWxlTG9hZEZ1bmN0aW9uXyIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJUcmlhbmd1bGF0aW9uIiwidGFyZ2V0UHJvaiIsInRhcmdldEV4dGVudCIsIm1heFNvdXJjZUV4dGVudCIsImVycm9yVGhyZXNob2xkIiwib3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbiIsInNvdXJjZVByb2pfIiwidGFyZ2V0UHJval8iLCJ0cmFuc2Zvcm1JbnZDYWNoZSIsInRyYW5zZm9ybUludiIsInRyYW5zZm9ybUludl8iLCJtYXhTb3VyY2VFeHRlbnRfIiwiZXJyb3JUaHJlc2hvbGRTcXVhcmVkXyIsInRyaWFuZ2xlc18iLCJ3cmFwc1hJblNvdXJjZV8iLCJjYW5XcmFwWEluU291cmNlXyIsInNvdXJjZVdvcmxkV2lkdGhfIiwidGFyZ2V0V29ybGRXaWR0aF8iLCJkZXN0aW5hdGlvblRvcExlZnQiLCJkZXN0aW5hdGlvblRvcFJpZ2h0IiwiZGVzdGluYXRpb25Cb3R0b21SaWdodCIsImRlc3RpbmF0aW9uQm90dG9tTGVmdCIsInNvdXJjZVRvcExlZnQiLCJzb3VyY2VUb3BSaWdodCIsInNvdXJjZUJvdHRvbVJpZ2h0Iiwic291cmNlQm90dG9tTGVmdCIsIm1heFN1YmRpdmlzaW9uIiwiYWRkUXVhZF8iLCJsZWZ0Qm91bmRfMSIsInRyaWFuZ2xlIiwibmV3VHJpYW5nbGUiLCJhZGRUcmlhbmdsZV8iLCJhU3JjIiwiYlNyYyIsImNTcmMiLCJkU3JjIiwic291cmNlUXVhZEV4dGVudCIsInNvdXJjZUNvdmVyYWdlWCIsInNvdXJjZVdvcmxkV2lkdGgiLCJ3cmFwc1giLCJuZWVkc1N1YmRpdmlzaW9uIiwidGFyZ2V0UXVhZEV4dGVudCIsImlzRmluaXRlIiwiaXNOb3RGaW5pdGUiLCJjZW50ZXJTcmMiLCJiYyIsImJjU3JjIiwiZGEiLCJkYVNyYyIsImFiIiwiYWJTcmMiLCJjZCIsImNkU3JjIiwiY2FsY3VsYXRlU291cmNlRXh0ZW50IiwiZ2V0VHJpYW5nbGVzIiwiYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfIiwiSU1BR0VfU01PT1RISU5HX0RJU0FCTEVEIiwibXNJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJkcmF3VGVzdFRyaWFuZ2xlIiwidTEiLCJ2MSIsInUyIiwidjIiLCJ2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyIsImNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRNZXRlcnNQZXJVbml0Iiwic291cmNlTWV0ZXJzUGVyVW5pdCIsInNvdXJjZUV4dGVudCIsImNvbXBlbnNhdGlvbkZhY3RvciIsIlJlcHJvalRpbGUiLCJzb3VyY2VUaWxlR3JpZCIsInRhcmdldFRpbGVHcmlkIiwid3JhcHBlZFRpbGVDb29yZCIsImdldFRpbGVGdW5jdGlvbiIsIm9wdF9lcnJvclRocmVzaG9sZCIsIm9wdF9yZW5kZXJFZGdlcyIsIm9wdF9jb250ZXh0T3B0aW9ucyIsInJlbmRlckVkZ2VzXyIsImNvbnRleHRPcHRpb25zXyIsImd1dHRlcl8iLCJzb3VyY2VUaWxlR3JpZF8iLCJ0YXJnZXRUaWxlR3JpZF8iLCJ3cmFwcGVkVGlsZUNvb3JkXyIsInNvdXJjZVRpbGVzXyIsInNvdXJjZXNMaXN0ZW5lcktleXNfIiwic291cmNlWl8iLCJtYXhUYXJnZXRFeHRlbnQiLCJsaW1pdGVkVGFyZ2V0RXh0ZW50Iiwic291cmNlUHJvakV4dGVudCIsImNhbGN1bGF0ZVNvdXJjZUV4dGVudFJlc29sdXRpb24iLCJlcnJvclRocmVzaG9sZEluUGl4ZWxzIiwidHJpYW5ndWxhdGlvbl8iLCJzb3VyY2VSYW5nZSIsInNyY1giLCJzcmNZIiwicmVwcm9qZWN0XyIsInNvdXJjZXMiLCJnZXRUaWxlU2l6ZSIsInRyaWFuZ3VsYXRpb24iLCJwaXhlbFJvdW5kIiwic291cmNlRGF0YUV4dGVudCIsImNhbnZhc1dpZHRoSW5Vbml0cyIsImNhbnZhc0hlaWdodEluVW5pdHMiLCJzdGl0Y2hDb250ZXh0Iiwic3RpdGNoU2NhbGUiLCJ4UG9zIiwieVBvcyIsInNyY1dpZHRoIiwic3JjSGVpZ2h0IiwidGFyZ2V0VG9wTGVmdCIsInUwIiwidjAiLCJzb3VyY2VOdW1lcmljYWxTaGlmdFgiLCJzb3VyY2VOdW1lcmljYWxTaGlmdFkiLCJhdWdtZW50ZWRNYXRyaXgiLCJhZmZpbmVDb2VmcyIsImlzQnJva2VuRGlhZ29uYWxSZW5kZXJpbmciLCJ1ZCIsInZkIiwic3RlcCIsInN0ZXBzIiwibGVmdFRvTG9hZF8xIiwic291cmNlTGlzdGVuS2V5XzEiLCJ1bmxpc3RlblNvdXJjZXNfIiwiTFJVQ2FjaGUiLCJvcHRfaGlnaFdhdGVyTWFyayIsImhpZ2hXYXRlck1hcmsiLCJjb3VudF8iLCJlbnRyaWVzXyIsIm9sZGVzdF8iLCJuZXdlc3RfIiwiY29udGFpbnNLZXkiLCJlbnRyeSIsInZhbHVlXyIsImtleV8iLCJuZXdlciIsIm9sZGVyIiwicGVla0xhc3QiLCJwZWVrTGFzdEtleSIsInBlZWtGaXJzdEtleSIsIm9wdF90aWxlQ29vcmQiLCJnZXRLZXlaWFkiLCJUaWxlQ2FjaGUiLCJwcnVuZUV4Y2VwdE5ld2VzdFoiLCJ0bXBUaWxlQ29vcmQiLCJUaWxlR3JpZCIsIm9yaWdpbnMiLCJvcmlnaW5zXyIsInRpbGVTaXplc18iLCJ0aWxlU2l6ZXMiLCJ0aWxlU2l6ZV8iLCJ0aWxlU2l6ZSIsImZ1bGxUaWxlUmFuZ2VzXyIsInRtcFNpemVfIiwic2l6ZXMiLCJyZXN0cmljdGVkVGlsZVJhbmdlIiwiY2FsY3VsYXRlVGlsZVJhbmdlc18iLCJmb3JFYWNoVGlsZUNvb3JkIiwib3B0X3RpbGVSYW5nZSIsInRpbGVDb29yZEV4dGVudCIsImdldFRpbGVSYW5nZUV4dGVudCIsImdldFRpbGVDb29yZEZvclhZQW5kWl8iLCJnZXRUaWxlQ29vcmRGb3JDb29yZEFuZFJlc29sdXRpb24iLCJnZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fIiwicmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSIsImFkanVzdFgiLCJhZGp1c3RZIiwieEZyb21PcmlnaW4iLCJ5RnJvbU9yaWdpbiIsInRpbGVDb29yZFgiLCJ0aWxlQ29vcmRZIiwiZ2V0VGlsZUNvb3JkUmVzb2x1dGlvbiIsImdldEZ1bGxUaWxlUmFuZ2UiLCJmdWxsVGlsZVJhbmdlcyIsImdldEZvclByb2plY3Rpb24iLCJvcHRfbWF4Wm9vbSIsIm9wdF90aWxlU2l6ZSIsIm9wdF9jb3JuZXIiLCJDb3JuZXIiLCJyZXNvbHV0aW9uc0Zyb21FeHRlbnQiLCJjcmVhdGVGb3JFeHRlbnQiLCJleHRlbnRGcm9tUHJvamVjdGlvbiIsImNyZWF0ZUZvclByb2plY3Rpb24iLCJvcHRfbWF4UmVzb2x1dGlvbiIsImhhbGYiLCJUaWxlU291cmNlIiwib3BhcXVlXyIsIm9wYXF1ZSIsInRpbGVQaXhlbFJhdGlvXyIsInRpbGVDYWNoZSIsInRtcFNpemUiLCJ0aWxlT3B0aW9ucyIsImdldFRpbGVDYWNoZUZvclByb2plY3Rpb24iLCJsb2FkZWQiLCJzZXRLZXkiLCJnZXRUaWxlR3JpZCIsImdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbiIsIndpdGhpbkV4dGVudEFuZFoiLCJUaWxlU291cmNlRXZlbnQiLCJjcmVhdGVGcm9tVGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsInpSZWdFeCIsInhSZWdFeCIsInlSZWdFeCIsImRhc2hZUmVnRXgiLCJVcmxUaWxlIiwiZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fIiwidGlsZVVybEZ1bmN0aW9uIiwidXJscyIsInNldFVybHMiLCJ0aWxlTG9hZGluZ0tleXNfIiwiZ2V0VGlsZUxvYWRGdW5jdGlvbiIsImdldFRpbGVVcmxGdW5jdGlvbiIsImdldFByb3RvdHlwZU9mIiwiZ2V0VXJscyIsInNldFRpbGVMb2FkRnVuY3Rpb24iLCJzZXRUaWxlVXJsRnVuY3Rpb24iLCJzdGFydENoYXJDb2RlIiwic3RvcENoYXJDb2RlIiwic3RvcF8xIiwiZXhwYW5kVXJsIiwidGVtcGxhdGVzIiwidGlsZVVybEZ1bmN0aW9ucyIsImNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zIiwiY3JlYXRlRnJvbVRlbXBsYXRlcyIsImRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uIiwiaW1hZ2VUaWxlIiwiVGlsZUltYWdlIiwidGlsZUNsYXNzIiwidGlsZUNhY2hlRm9yUHJvamVjdGlvbiIsInRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXyIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkIiwiaW1hZ2VTbW9vdGhpbmciLCJyZW5kZXJSZXByb2plY3Rpb25FZGdlc18iLCJ1c2VkVGlsZUNhY2hlIiwiZ2V0R3V0dGVyIiwiSlNPTiIsInN0cmluZ2lmeSIsInRoaXNQcm9qIiwicHJvaktleSIsImNyZWF0ZVRpbGVfIiwidXJsVGlsZUNvb3JkIiwidGlsZVVybCIsIm5ld1RpbGUiLCJnZXRUaWxlSW50ZXJuYWwiLCJzZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcyIsInNldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInRpbGVncmlkIiwicHJvaiIsInh5ek9wdGlvbnMiLCJncmlkT3B0aW9ucyIsImNyZWF0ZVhZWiIsIk9TTSIsImRhdGFzZXQiLCJjb2xvclByaW1hcnkiLCJjb2xvclNlY29uZGFyeSIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsIm1hcmtlclBhcmFtIiwiaXNWaWV3TW9kZSIsImhhcyIsImdldFZpZXdQYXJhbSIsInZpZXdEZWZhdWx0IiwicGFyc2UiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImxhdCIsImNvbnRlbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xvbmVOb2RlIiwibWFya2VyTGF5ZXIiLCJtYXJrZXJTZWxlY3QiLCJyYW5kb20iLCJWZWN0b3IiLCJtYXJrZXIiLCJpbml0TWFya2VyTWFwIiwiY3VycmVudCIsImluaXRDb250cm9scyIsImNvbnRyb2xGb3JtIl0sIm1hcHBpbmdzIjoiVUFBSUEsRUFDQUMsRUN3Q0FDLEVBU0FDLEUsb0RDakRJQyxFLFVBREpDLEdBQ0lELEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FB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IjpbInZhciBpblByb2dyZXNzID0ge307XG52YXIgZGF0YVdlYnBhY2tQcmVmaXggPSBcIm1hcC1tYXJrZXJzOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9XG5cdDtcblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwidmFyIGNyZWF0ZVN0eWxlc2hlZXQgPSAoY2h1bmtJZCwgZnVsbGhyZWYsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHR2YXIgbGlua1RhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGxpbmtUYWcucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cdGxpbmtUYWcudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0dmFyIG9uTGlua0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG5cdFx0Ly8gYXZvaWQgbWVtIGxlYWtzLlxuXHRcdGxpbmtUYWcub25lcnJvciA9IGxpbmtUYWcub25sb2FkID0gbnVsbDtcblx0XHRpZiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnKSB7XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHR2YXIgcmVhbEhyZWYgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmhyZWYgfHwgZnVsbGhyZWY7XG5cdFx0XHR2YXIgZXJyID0gbmV3IEVycm9yKFwiTG9hZGluZyBDU1MgY2h1bmsgXCIgKyBjaHVua0lkICsgXCIgZmFpbGVkLlxcbihcIiArIHJlYWxIcmVmICsgXCIpXCIpO1xuXHRcdFx0ZXJyLmNvZGUgPSBcIkNTU19DSFVOS19MT0FEX0ZBSUxFRFwiO1xuXHRcdFx0ZXJyLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRlcnIucmVxdWVzdCA9IHJlYWxIcmVmO1xuXHRcdFx0bGlua1RhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmtUYWcpXG5cdFx0XHRyZWplY3QoZXJyKTtcblx0XHR9XG5cdH1cblx0bGlua1RhZy5vbmVycm9yID0gbGlua1RhZy5vbmxvYWQgPSBvbkxpbmtDb21wbGV0ZTtcblx0bGlua1RhZy5ocmVmID0gZnVsbGhyZWY7XG5cblx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rVGFnKTtcblx0cmV0dXJuIGxpbmtUYWc7XG59O1xudmFyIGZpbmRTdHlsZXNoZWV0ID0gKGhyZWYsIGZ1bGxocmVmKSA9PiB7XG5cdHZhciBleGlzdGluZ0xpbmtUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgZXhpc3RpbmdMaW5rVGFncy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0YWcgPSBleGlzdGluZ0xpbmtUYWdzW2ldO1xuXHRcdHZhciBkYXRhSHJlZiA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIikgfHwgdGFnLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cdFx0aWYodGFnLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIgJiYgKGRhdGFIcmVmID09PSBocmVmIHx8IGRhdGFIcmVmID09PSBmdWxsaHJlZikpIHJldHVybiB0YWc7XG5cdH1cblx0dmFyIGV4aXN0aW5nU3R5bGVUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHlsZVwiKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGV4aXN0aW5nU3R5bGVUYWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHRhZyA9IGV4aXN0aW5nU3R5bGVUYWdzW2ldO1xuXHRcdHZhciBkYXRhSHJlZiA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIik7XG5cdFx0aWYoZGF0YUhyZWYgPT09IGhyZWYgfHwgZGF0YUhyZWYgPT09IGZ1bGxocmVmKSByZXR1cm4gdGFnO1xuXHR9XG59O1xudmFyIGxvYWRTdHlsZXNoZWV0ID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHR2YXIgaHJlZiA9IF9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YoY2h1bmtJZCk7XG5cdFx0dmFyIGZ1bGxocmVmID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgaHJlZjtcblx0XHRpZihmaW5kU3R5bGVzaGVldChocmVmLCBmdWxsaHJlZikpIHJldHVybiByZXNvbHZlKCk7XG5cdFx0Y3JlYXRlU3R5bGVzaGVldChjaHVua0lkLCBmdWxsaHJlZiwgcmVzb2x2ZSwgcmVqZWN0KTtcblx0fSk7XG59XG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIENTUyBjaHVua3NcbnZhciBpbnN0YWxsZWRDc3NDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5mLm1pbmlDc3MgPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0dmFyIGNzc0NodW5rcyA9IHtcIjMwMVwiOjF9O1xuXHRpZihpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0pIHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdKTtcblx0ZWxzZSBpZihpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0gIT09IDAgJiYgY3NzQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0gPSBsb2FkU3R5bGVzaGVldChjaHVua0lkKS50aGVuKCgpID0+IHtcblx0XHRcdGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXSA9IDA7XG5cdFx0fSwgKGUpID0+IHtcblx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF07XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH0pKTtcblx0fVxufTtcblxuLy8gbm8gaG1yIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9Bc3NlcnRpb25FcnJvclxuICovXG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi91dGlsLmpzJztcbi8qKlxuICogRXJyb3Igb2JqZWN0IHRocm93biB3aGVuIGFuIGFzc2VydGlvbiBmYWlsZWQuIFRoaXMgaXMgYW4gRUNNQS0yNjIgRXJyb3IsXG4gKiBleHRlbmRlZCB3aXRoIGEgYGNvZGVgIHByb3BlcnR5LlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yLlxuICovXG52YXIgQXNzZXJ0aW9uRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzc2VydGlvbkVycm9yLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlIEVycm9yIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3IoY29kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcGF0aCA9IFZFUlNJT04gPT09ICdsYXRlc3QnID8gVkVSU0lPTiA6ICd2JyArIFZFUlNJT04uc3BsaXQoJy0nKVswXTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQXNzZXJ0aW9uIGZhaWxlZC4gU2VlIGh0dHBzOi8vb3BlbmxheWVycy5vcmcvZW4vJyArXG4gICAgICAgICAgICBwYXRoICtcbiAgICAgICAgICAgICcvZG9jL2Vycm9ycy8jJyArXG4gICAgICAgICAgICBjb2RlICtcbiAgICAgICAgICAgICcgZm9yIGRldGFpbHMuJztcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXJyb3IgY29kZS4gVGhlIG1lYW5pbmcgb2YgdGhlIGNvZGUgY2FuIGJlIGZvdW5kIG9uXG4gICAgICAgICAqIGh0dHBzOi8vb3BlbmxheWVycy5vcmcvZW4vbGF0ZXN0L2RvYy9lcnJvcnMvIChyZXBsYWNlIGBsYXRlc3RgIHdpdGhcbiAgICAgICAgICogdGhlIHZlcnNpb24gZm91bmQgaW4gdGhlIE9wZW5MYXllcnMgc2NyaXB0J3MgaGVhZGVyIGNvbW1lbnQgaWYgYSB2ZXJzaW9uXG4gICAgICAgICAqIG90aGVyIHRoYW4gdGhlIGxhdGVzdCBpcyB1c2VkKS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7XG4gICAgICAgIC8vIFJlLWFzc2lnbiBtZXNzYWdlLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1JpY2gtSGFycmlzL2J1YmxlL2lzc3Vlcy80MFxuICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQXNzZXJ0aW9uRXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnQgZGVmYXVsdCBBc3NlcnRpb25FcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzc2VydGlvbkVycm9yLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvQ29sbGVjdGlvblxuICovXG5pbXBvcnQgQXNzZXJ0aW9uRXJyb3IgZnJvbSAnLi9Bc3NlcnRpb25FcnJvci5qcyc7XG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuL09iamVjdC5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnRzL0V2ZW50LmpzJztcbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQcm9wZXJ0eSA9IHtcbiAgICBMRU5HVEg6ICdsZW5ndGgnLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXNcbiAqIHR5cGUuXG4gKi9cbnZhciBDb2xsZWN0aW9uRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbGxlY3Rpb25FdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIFR5cGUuXG4gICAgICogQHBhcmFtIHsqPX0gb3B0X2VsZW1lbnQgRWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9pbmRleCBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uRXZlbnQodHlwZSwgb3B0X2VsZW1lbnQsIG9wdF9pbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVsZW1lbnQgdGhhdCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50ID0gb3B0X2VsZW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kZXggPSBvcHRfaW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENvbGxlY3Rpb25FdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IENvbGxlY3Rpb25FdmVudCB9O1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1bmlxdWU9ZmFsc2VdIERpc2FsbG93IHRoZSBzYW1lIGl0ZW0gZnJvbSBiZWluZyBhZGRlZCB0b1xuICogdGhlIGNvbGxlY3Rpb24gdHdpY2UuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQW4gZXhwYW5kZWQgdmVyc2lvbiBvZiBzdGFuZGFyZCBKUyBBcnJheSwgYWRkaW5nIGNvbnZlbmllbmNlIG1ldGhvZHMgZm9yXG4gKiBtYW5pcHVsYXRpb24uIEFkZCBhbmQgcmVtb3ZlIGNoYW5nZXMgdG8gdGhlIENvbGxlY3Rpb24gdHJpZ2dlciBhIENvbGxlY3Rpb25cbiAqIGV2ZW50LiBOb3RlIHRoYXQgdGhpcyBkb2VzIG5vdCBjb3ZlciBjaGFuZ2VzIHRvIHRoZSBvYmplY3RzIF93aXRoaW5fIHRoZVxuICogQ29sbGVjdGlvbjsgdGhleSB0cmlnZ2VyIGV2ZW50cyBvbiB0aGUgYXBwcm9wcmlhdGUgb2JqZWN0LCBub3Qgb24gdGhlXG4gKiBDb2xsZWN0aW9uIGFzIGEgd2hvbGUuXG4gKlxuICogQGZpcmVzIENvbGxlY3Rpb25FdmVudFxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAYXBpXG4gKi9cbnZhciBDb2xsZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb2xsZWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8VD49fSBvcHRfYXJyYXkgQXJyYXkuXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgQ29sbGVjdGlvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb24ob3B0X2FycmF5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmlxdWVfID0gISFvcHRpb25zLnVuaXF1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8VD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hcnJheV8gPSBvcHRfYXJyYXkgPyBvcHRfYXJyYXkgOiBbXTtcbiAgICAgICAgaWYgKF90aGlzLnVuaXF1ZV8pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IF90aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXNzZXJ0VW5pcXVlXyhfdGhpcy5hcnJheV9baV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5nZXRMZW5ndGgoKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBlbGVtZW50cyB0byB0aGUgY29sbGVjdGlvbi4gIFRoaXMgcHVzaGVzIGVhY2ggaXRlbSBpbiB0aGUgcHJvdmlkZWQgYXJyYXlcbiAgICAgKiB0byB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIgQXJyYXkuXG4gICAgICogQHJldHVybiB7Q29sbGVjdGlvbjxUPn0gVGhpcyBjb2xsZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goYXJyW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBlYWNoIGVsZW1lbnQsIGNhbGxpbmcgdGhlIHByb3ZpZGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCBBcnJheTxUPik6ICp9IGYgVGhlIGZ1bmN0aW9uIHRvIGNhbGxcbiAgICAgKiAgICAgZm9yIGV2ZXJ5IGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgMyBhcmd1bWVudHMgKHRoZSBlbGVtZW50LCB0aGVcbiAgICAgKiAgICAgaW5kZXggYW5kIHRoZSBhcnJheSkuIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuYXJyYXlfO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBmKGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBBcnJheSBvYmplY3QuIFdhcm5pbmc6IGlmIHRoZSBhcnJheVxuICAgICAqIGlzIG11dGF0ZWQsIG5vIGV2ZW50cyB3aWxsIGJlIGRpc3BhdGNoZWQgYnkgdGhlIGNvbGxlY3Rpb24sIGFuZCB0aGVcbiAgICAgKiBjb2xsZWN0aW9uJ3MgXCJsZW5ndGhcIiBwcm9wZXJ0eSB3b24ndCBiZSBpbiBzeW5jIHdpdGggdGhlIGFjdHVhbCBsZW5ndGhcbiAgICAgKiBvZiB0aGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7IUFycmF5PFQ+fSBBcnJheS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZW5ndGggb2YgdGhlIGFycmF5LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmdldExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFByb3BlcnR5LkxFTkdUSCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYW4gZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5pbnNlcnRBdCA9IGZ1bmN0aW9uIChpbmRleCwgZWxlbSkge1xuICAgICAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcnJheV8uc3BsaWNlKGluZGV4LCAwLCBlbGVtKTtcbiAgICAgICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb24gYW5kIHJldHVybiBpdC5cbiAgICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQodGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IHRoZSBwcm92aWRlZCBlbGVtZW50IGF0IHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgbGVuZ3RoIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRVbmlxdWVfKGVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgdGhpcy5pbnNlcnRBdChuLCBlbGVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gZWxlbWVudCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBlbGVtZW50IG9yIHVuZGVmaW5lZCBpZiBub25lIGZvdW5kLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgYXJyID0gdGhpcy5hcnJheV87XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSBlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXggYW5kIHJldHVybiBpdC5cbiAgICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gZG9lcyBub3QgY29udGFpbiB0aGlzIGluZGV4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVmFsdWUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZUF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgICAgICB0aGlzLmFycmF5Xy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDb2xsZWN0aW9uRXZlbnQoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIHByZXYsIGluZGV4KSk7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnNldEF0ID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbikge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJldiA9IHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICAgICAgICAgIHRoaXMuYXJyYXlfW2luZGV4XSA9IGVsZW07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldiwgaW5kZXgpKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IG47IGogPCBpbmRleDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChqLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChpbmRleCwgZWxlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudXBkYXRlTGVuZ3RoXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuTEVOR1RILCB0aGlzLmFycmF5Xy5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9leGNlcHQgT3B0aW9uYWwgaW5kZXggdG8gaWdub3JlLlxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmFzc2VydFVuaXF1ZV8gPSBmdW5jdGlvbiAoZWxlbSwgb3B0X2V4Y2VwdCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hcnJheV9baV0gPT09IGVsZW0gJiYgaSAhPT0gb3B0X2V4Y2VwdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcig1OCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb2xsZWN0aW9uO1xufShCYXNlT2JqZWN0KSk7XG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGVjdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvQ29sbGVjdGlvbkV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhbiBpdGVtIGlzIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvQ29sbGVjdGlvbi5Db2xsZWN0aW9uRXZlbnQjYWRkXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEFERDogJ2FkZCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9Db2xsZWN0aW9uLkNvbGxlY3Rpb25FdmVudCNyZW1vdmVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUkVNT1ZFOiAncmVtb3ZlJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xsZWN0aW9uRXZlbnRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9EaXNwb3NhYmxlXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogT2JqZWN0cyB0aGF0IG5lZWQgdG8gY2xlYW4gdXAgYWZ0ZXIgdGhlbXNlbHZlcy5cbiAqL1xudmFyIERpc3Bvc2FibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlzcG9zYWJsZSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvYmplY3QgaGFzIGFscmVhZHkgYmVlbiBkaXNwb3NlZC5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUludGVybmFsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dGVuc2lvbiBwb2ludCBmb3IgZGlzcG9zYWJsZSBvYmplY3RzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBEaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIERpc3Bvc2FibGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGlzcG9zYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3Bvc2FibGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlU3RhdGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgSURMRTogMCxcbiAgICBMT0FESU5HOiAxLFxuICAgIExPQURFRDogMixcbiAgICBFUlJPUjogMyxcbiAgICBFTVBUWTogNCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVN0YXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRUeXBlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBBIHRydWUgc2luZ2xlIGNsaWNrIHdpdGggbm8gZHJhZ2dpbmcgYW5kIG5vIGRvdWJsZSBjbGljay4gTm90ZSB0aGF0IHRoaXNcbiAgICAgKiBldmVudCBpcyBkZWxheWVkIGJ5IDI1MCBtcyB0byBlbnN1cmUgdGhhdCBpdCBpcyBub3QgYSBkb3VibGUgY2xpY2suXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3NpbmdsZWNsaWNrXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNJTkdMRUNMSUNLOiAnc2luZ2xlY2xpY2snLFxuICAgIC8qKlxuICAgICAqIEEgY2xpY2sgd2l0aCBubyBkcmFnZ2luZy4gQSBkb3VibGUgY2xpY2sgd2lsbCBmaXJlIHR3byBvZiB0aGlzLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNjbGlja1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDTElDSzogRXZlbnRUeXBlLkNMSUNLLFxuICAgIC8qKlxuICAgICAqIEEgdHJ1ZSBkb3VibGUgY2xpY2ssIHdpdGggbm8gZHJhZ2dpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I2RibGNsaWNrXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIERCTENMSUNLOiBFdmVudFR5cGUuREJMQ0xJQ0ssXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBwb2ludGVyIGlzIGRyYWdnZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3BvaW50ZXJkcmFnXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBPSU5URVJEUkFHOiAncG9pbnRlcmRyYWcnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBtb3ZlZC4gTm90ZSB0aGF0IG9uIHRvdWNoIGRldmljZXMgdGhpcyBpc1xuICAgICAqIHRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgaXMgcGFubmVkLCBzbyBpcyBub3QgdGhlIHNhbWUgYXMgbW91c2Vtb3ZlLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNwb2ludGVybW92ZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQT0lOVEVSTU9WRTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICAgIFBPSU5URVJPVkVSOiAncG9pbnRlcm92ZXInLFxuICAgIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICAgIFBPSU5URVJMRUFWRTogJ3BvaW50ZXJsZWF2ZScsXG4gICAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEJyb3dzZXJFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcEV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgYSBtYXAgZnJhbWUgaXMgcmVuZGVyZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNwb3N0cmVuZGVyXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBPU1RSRU5ERVI6ICdwb3N0cmVuZGVyJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgbWFwIHN0YXJ0cyBtb3ZpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNtb3Zlc3RhcnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTU9WRVNUQVJUOiAnbW92ZXN0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIG1hcCBpcyBtb3ZlZC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEV2ZW50fk1hcEV2ZW50I21vdmVlbmRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTU9WRUVORDogJ21vdmVlbmQnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEV2ZW50VHlwZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL09iamVjdFxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuL09ic2VydmFibGUuanMnO1xuaW1wb3J0IHsgYXNzaWduLCBpc0VtcHR5IH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi91dGlsLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpcyB0eXBlLlxuICovXG52YXIgT2JqZWN0RXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9iamVjdEV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHByb3BlcnR5IG5hbWUuXG4gICAgICogQHBhcmFtIHsqfSBvbGRWYWx1ZSBUaGUgb2xkIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPYmplY3RFdmVudCh0eXBlLCBrZXksIG9sZFZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgd2hvc2UgdmFsdWUgaXMgY2hhbmdpbmcuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmtleSA9IGtleTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbGQgdmFsdWUuIFRvIGdldCB0aGUgbmV3IHZhbHVlIHVzZSBgZS50YXJnZXQuZ2V0KGUua2V5KWAgd2hlcmVcbiAgICAgICAgICogYGVgIGlzIHRoZSBldmVudCBvYmplY3QuXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbGRWYWx1ZSA9IG9sZFZhbHVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3RFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IE9iamVjdEV2ZW50IH07XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIE1vc3Qgbm9uLXRyaXZpYWwgY2xhc3NlcyBpbmhlcml0IGZyb20gdGhpcy5cbiAqXG4gKiBUaGlzIGV4dGVuZHMge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlfSB3aXRoIG9ic2VydmFibGVcbiAqIHByb3BlcnRpZXMsIHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgb2JzZXJ2YWJsZSBhcyB3ZWxsIGFzIHRoZSBvYmplY3QgYXMgYVxuICogd2hvbGUuXG4gKlxuICogQ2xhc3NlcyB0aGF0IGluaGVyaXQgZnJvbSB0aGlzIGhhdmUgcHJlLWRlZmluZWQgcHJvcGVydGllcywgdG8gd2hpY2ggeW91IGNhblxuICogYWRkIHlvdXIgb3ducy4gVGhlIHByZS1kZWZpbmVkIHByb3BlcnRpZXMgYXJlIGxpc3RlZCBpbiB0aGlzIGRvY3VtZW50YXRpb24gYXNcbiAqICdPYnNlcnZhYmxlIFByb3BlcnRpZXMnLCBhbmQgaGF2ZSB0aGVpciBvd24gYWNjZXNzb3JzOyBmb3IgZXhhbXBsZSxcbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaGFzIGEgYHRhcmdldGAgcHJvcGVydHksIGFjY2Vzc2VkIHdpdGhcbiAqIGBnZXRUYXJnZXQoKWAgYW5kIGNoYW5nZWQgd2l0aCBgc2V0VGFyZ2V0KClgLiBOb3QgYWxsIHByb3BlcnRpZXMgYXJlIGhvd2V2ZXJcbiAqIHNldHRhYmxlLiBUaGVyZSBhcmUgYWxzbyBnZW5lcmFsLXB1cnBvc2UgYWNjZXNzb3JzIGBnZXQoKWAgYW5kIGBzZXQoKWAuIEZvclxuICogZXhhbXBsZSwgYGdldCgndGFyZ2V0JylgIGlzIGVxdWl2YWxlbnQgdG8gYGdldFRhcmdldCgpYC5cbiAqXG4gKiBUaGUgYHNldGAgYWNjZXNzb3JzIHRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQsIGFuZCB5b3UgY2FuIG1vbml0b3IgdGhpcyBieVxuICogcmVnaXN0ZXJpbmcgYSBsaXN0ZW5lci4gRm9yIGV4YW1wbGUsIHtAbGluayBtb2R1bGU6b2wvVmlld35WaWV3fSBoYXMgYVxuICogYGNlbnRlcmAgcHJvcGVydHksIHNvIGB2aWV3Lm9uKCdjaGFuZ2U6Y2VudGVyJywgZnVuY3Rpb24oZXZ0KSB7Li4ufSk7YCB3b3VsZFxuICogY2FsbCB0aGUgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIHZhbHVlIG9mIHRoZSBjZW50ZXIgcHJvcGVydHkgY2hhbmdlcy4gV2l0aGluXG4gKiB0aGUgZnVuY3Rpb24sIGBldnQudGFyZ2V0YCB3b3VsZCBiZSB0aGUgdmlldywgc28gYGV2dC50YXJnZXQuZ2V0Q2VudGVyKClgXG4gKiB3b3VsZCByZXR1cm4gdGhlIG5ldyBjZW50ZXIuXG4gKlxuICogWW91IGNhbiBhZGQgeW91ciBvd24gb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzIHdpdGhcbiAqIGBvYmplY3Quc2V0KCdwcm9wJywgJ3ZhbHVlJylgLCBhbmQgcmV0cmlldmUgdGhhdCB3aXRoIGBvYmplY3QuZ2V0KCdwcm9wJylgLlxuICogWW91IGNhbiBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhhdCBwcm9wZXJ0eSB2YWx1ZSB3aXRoXG4gKiBgb2JqZWN0Lm9uKCdjaGFuZ2U6cHJvcCcsIGxpc3RlbmVyKWAuIFlvdSBjYW4gZ2V0IGEgbGlzdCBvZiBhbGxcbiAqIHByb3BlcnRpZXMgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0I2dldFByb3BlcnRpZXN9LlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzIGFyZSBzZXBhcmF0ZSBmcm9tIHN0YW5kYXJkIEpTIHByb3BlcnRpZXMuXG4gKiBZb3UgY2FuLCBmb3IgZXhhbXBsZSwgZ2l2ZSB5b3VyIG1hcCBvYmplY3QgYSB0aXRsZSB3aXRoXG4gKiBgbWFwLnRpdGxlPSdOZXcgdGl0bGUnYCBhbmQgd2l0aCBgbWFwLnNldCgndGl0bGUnLCAnQW5vdGhlciB0aXRsZScpYC4gVGhlXG4gKiBmaXJzdCB3aWxsIGJlIGEgYGhhc093blByb3BlcnR5YDsgdGhlIHNlY29uZCB3aWxsIGFwcGVhciBpblxuICogYGdldFByb3BlcnRpZXMoKWAuIE9ubHkgdGhlIHNlY29uZCBpcyBvYnNlcnZhYmxlLlxuICpcbiAqIFByb3BlcnRpZXMgY2FuIGJlIGRlbGV0ZWQgYnkgdXNpbmcgdGhlIHVuc2V0IG1ldGhvZC4gRS5nLlxuICogb2JqZWN0LnVuc2V0KCdmb28nKS5cbiAqXG4gKiBAZmlyZXMgT2JqZWN0RXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIEJhc2VPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VPYmplY3QsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPj19IG9wdF92YWx1ZXMgQW4gb2JqZWN0IHdpdGgga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VPYmplY3Qob3B0X3ZhbHVlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBDYWxsIHtAbGluayBtb2R1bGU6b2wvdXRpbH5nZXRVaWR9IHRvIGVuc3VyZSB0aGF0IHRoZSBvcmRlciBvZiBvYmplY3RzJyBpZHMgaXNcbiAgICAgICAgLy8gdGhlIHNhbWUgYXMgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgd2VyZSBjcmVhdGVkLiAgVGhpcyBhbHNvIGhlbHBzIHRvXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgYWRkZWQgaW4gdGhlIHNhbWUgb3JkZXIsIHdoaWNoXG4gICAgICAgIC8vIGhlbHBzIG1hbnkgSmF2YVNjcmlwdCBlbmdpbmVzIGdlbmVyYXRlIGZhc3RlciBjb2RlLlxuICAgICAgICBnZXRVaWQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsdWVzXyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRfdmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMob3B0X3ZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcmV0dXJuIHsqfSBWYWx1ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc18gJiYgdGhpcy52YWx1ZXNfLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGlzdCBvZiBvYmplY3QgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gTGlzdCBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUuZ2V0S2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnZhbHVlc18gJiYgT2JqZWN0LmtleXModGhpcy52YWx1ZXNfKSkgfHwgW107XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gb2JqZWN0IG9mIGFsbCBwcm9wZXJ0eSBuYW1lcyBhbmQgdmFsdWVzLlxuICAgICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsICo+fSBPYmplY3QuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLmdldFByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy52YWx1ZXNfICYmIGFzc2lnbih7fSwgdGhpcy52YWx1ZXNfKSkgfHwge307XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgb2JqZWN0IGhhcyBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLmhhc1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMudmFsdWVzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAgICogQHBhcmFtIHsqfSBvbGRWYWx1ZSBPbGQgdmFsdWUuXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGtleSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdmFyIGV2ZW50VHlwZTtcbiAgICAgICAgZXZlbnRUeXBlID0gZ2V0Q2hhbmdlRXZlbnRUeXBlKGtleSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgT2JqZWN0RXZlbnQoZXZlbnRUeXBlLCBrZXksIG9sZFZhbHVlKSk7XG4gICAgICAgIGV2ZW50VHlwZSA9IE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgYSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3NpbGVudCBVcGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgb3B0X3NpbGVudCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXNfIHx8ICh0aGlzLnZhbHVlc18gPSB7fSk7XG4gICAgICAgIGlmIChvcHRfc2lsZW50KSB7XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gdmFsdWVzW2tleV07XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KGtleSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGEgY29sbGVjdGlvbiBvZiBrZXktdmFsdWUgcGFpcnMuICBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIGFueSBleGlzdGluZ1xuICAgICAqIHByb3BlcnRpZXMgYW5kIGFkZHMgbmV3IG9uZXMgKGl0IGRvZXMgbm90IHJlbW92ZSBhbnkgZXhpc3RpbmcgcHJvcGVydGllcykuXG4gICAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2lsZW50IFVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW4gZXZlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLnNldFByb3BlcnRpZXMgPSBmdW5jdGlvbiAodmFsdWVzLCBvcHRfc2lsZW50KSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWVzW2tleV0sIG9wdF9zaWxlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhbnkgcHJvcGVydGllcyBmcm9tIGFub3RoZXIgb2JqZWN0IHdpdGhvdXQgdHJpZ2dlcmluZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtCYXNlT2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLmFwcGx5UHJvcGVydGllcyA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UudmFsdWVzXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbih0aGlzLnZhbHVlc18gfHwgKHRoaXMudmFsdWVzXyA9IHt9KSwgc291cmNlLnZhbHVlc18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5zZXRzIGEgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2lsZW50IFVuc2V0IHdpdGhvdXQgdHJpZ2dlcmluZyBhbiBldmVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoa2V5LCBvcHRfc2lsZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc18gJiYga2V5IGluIHRoaXMudmFsdWVzXykge1xuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh0aGlzLnZhbHVlc18pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNfID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghb3B0X3NpbGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KGtleSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZU9iamVjdDtcbn0oT2JzZXJ2YWJsZSkpO1xuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xudmFyIGNoYW5nZUV2ZW50VHlwZUNhY2hlID0ge307XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENoYW5nZSBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hhbmdlRXZlbnRUeXBlKGtleSkge1xuICAgIHJldHVybiBjaGFuZ2VFdmVudFR5cGVDYWNoZS5oYXNPd25Qcm9wZXJ0eShrZXkpXG4gICAgICAgID8gY2hhbmdlRXZlbnRUeXBlQ2FjaGVba2V5XVxuICAgICAgICA6IChjaGFuZ2VFdmVudFR5cGVDYWNoZVtrZXldID0gJ2NoYW5nZTonICsga2V5KTtcbn1cbmV4cG9ydCBkZWZhdWx0IEJhc2VPYmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL09iamVjdEV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHByb3BlcnR5IGlzIGNoYW5nZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9PYmplY3QuT2JqZWN0RXZlbnQjcHJvcGVydHljaGFuZ2VcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUFJPUEVSVFlDSEFOR0U6ICdwcm9wZXJ0eWNoYW5nZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0RXZlbnRUeXBlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvT2JzZXJ2YWJsZVxuICovXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IGxpc3RlbiwgbGlzdGVuT25jZSwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQW4gZXZlbnQgdGFyZ2V0IHByb3ZpZGluZyBjb252ZW5pZW50IG1ldGhvZHMgZm9yIGxpc3RlbmVyIHJlZ2lzdHJhdGlvblxuICogYW5kIHVucmVnaXN0cmF0aW9uLiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgYWx3YXlzIGF2YWlsYWJsZSB0aHJvdWdoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL09ic2VydmFibGV+T2JzZXJ2YWJsZSNjaGFuZ2VkfS5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdFxuICogQGFwaVxuICovXG52YXIgT2JzZXJ2YWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJldmlzaW9uXyA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSByZXZpc2lvbiBjb3VudGVyIGFuZCBkaXNwYXRjaGVzIGEgJ2NoYW5nZScgZXZlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICsrdGhpcy5yZXZpc2lvbl87XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmVyc2lvbiBudW1iZXIgZm9yIHRoaXMgb2JqZWN0LiAgRWFjaCB0aW1lIHRoZSBvYmplY3QgaXMgbW9kaWZpZWQsXG4gICAgICogaXRzIHZlcnNpb24gbnVtYmVyIHdpbGwgYmUgaW5jcmVtZW50ZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXZpc2lvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZ2V0UmV2aXNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmlzaW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pOiA/fSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci4gSWZcbiAgICAgKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gICAgICogICAgIHdpbGwgYmUgYW4gYXJyYXkgb2Yga2V5cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0eXBlLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBrZXlzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAga2V5c1tpXSA9IGxpc3Rlbih0aGlzLCB0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0ZW4odGhpcywgLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gb25jZSBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pOiA/fSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci4gSWZcbiAgICAgKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gICAgICogICAgIHdpbGwgYmUgYW4gYXJyYXkgb2Yga2V5cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHR5cGUubGVuZ3RoO1xuICAgICAgICAgICAga2V5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAga2V5W2ldID0gbGlzdGVuT25jZSh0aGlzLCB0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBsaXN0ZW5PbmNlKHRoaXMsIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQHR5cGUge09iamVjdH0gKi8gKGxpc3RlbmVyKS5vbF9rZXkgPSBrZXk7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmxpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pOiA/fSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnVuID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBrZXkgPSAvKiogQHR5cGUge09iamVjdH0gKi8gKGxpc3RlbmVyKS5vbF9rZXk7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIHVuQnlLZXkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0eXBlLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZVtpXSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KEV2ZW50VGFyZ2V0KSk7XG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdXNpbmcgdGhlIGtleSByZXR1cm5lZCBieSBgb24oKWAgb3IgYG9uY2UoKWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBrZXkgVGhlIGtleSByZXR1cm5lZCBieSBgb24oKWBcbiAqICAgICBvciBgb25jZSgpYCAob3IgYW4gYXJyYXkgb2Yga2V5cykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bkJ5S2V5KGtleSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0ga2V5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkoa2V5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSgvKiogQHR5cGUge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX0gKi8gKGtleSkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9hcnJheVxuICovXG4vKipcbiAqIFBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgcHJvdmlkZWQgc29ydGVkIGxpc3QgYW5kIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGlmIGZvdW5kLiBJZiBpdCBjYW4ndCBiZSBmb3VuZCBpdCdsbCByZXR1cm4gLTEuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9iaW5hcnktc2VhcmNoXG4gKlxuICogQHBhcmFtIHtBcnJheTwqPn0gaGF5c3RhY2sgSXRlbXMgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0geyp9IG5lZWRsZSBUaGUgaXRlbSB0byBsb29rIGZvci5cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBvcHRfY29tcGFyYXRvciBDb21wYXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmQsIC0xIGlmIG5vdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaChoYXlzdGFjaywgbmVlZGxlLCBvcHRfY29tcGFyYXRvcikge1xuICAgIHZhciBtaWQsIGNtcDtcbiAgICB2YXIgY29tcGFyYXRvciA9IG9wdF9jb21wYXJhdG9yIHx8IG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb247XG4gICAgdmFyIGxvdyA9IDA7XG4gICAgdmFyIGhpZ2ggPSBoYXlzdGFjay5sZW5ndGg7XG4gICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgLyogTm90ZSB0aGF0IFwiKGxvdyArIGhpZ2gpID4+PiAxXCIgbWF5IG92ZXJmbG93LCBhbmQgcmVzdWx0cyBpbiBhIHR5cGVjYXN0XG4gICAgICAgICAqIHRvIGRvdWJsZSAod2hpY2ggZ2l2ZXMgdGhlIHdyb25nIHJlc3VsdHMpLiAqL1xuICAgICAgICBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuICAgICAgICBjbXAgPSArY29tcGFyYXRvcihoYXlzdGFja1ttaWRdLCBuZWVkbGUpO1xuICAgICAgICBpZiAoY21wIDwgMC4wKSB7XG4gICAgICAgICAgICAvKiBUb28gbG93LiAqL1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qIEtleSBmb3VuZCBvciB0b28gaGlnaCAqL1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgICAgIGZvdW5kID0gIWNtcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBLZXkgbm90IGZvdW5kLiAqL1xuICAgIHJldHVybiBmb3VuZCA/IGxvdyA6IH5sb3c7XG59XG4vKipcbiAqIENvbXBhcmUgZnVuY3Rpb24gZm9yIGFycmF5IHNvcnQgdGhhdCBpcyBzYWZlIGZvciBudW1iZXJzLlxuICogQHBhcmFtIHsqfSBhIFRoZSBmaXJzdCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcGFyYW0geyp9IGIgVGhlIHNlY29uZCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbmVnYXRpdmUgbnVtYmVyLCB6ZXJvLCBvciBhIHBvc2l0aXZlIG51bWJlciBhcyB0aGUgZmlyc3RcbiAqICAgICBhcmd1bWVudCBpcyBsZXNzIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIHNlY29uZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbn1cbi8qKlxuICogV2hldGhlciB0aGUgYXJyYXkgY29udGFpbnMgdGhlIGdpdmVuIG9iamVjdC5cbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdCBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHsqfSBvYmogVGhlIG9iamVjdCBmb3Igd2hpY2ggdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaXMgaW4gdGhlIGFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5jbHVkZXMoYXJyLCBvYmopIHtcbiAgICByZXR1cm4gYXJyLmluZGV4T2Yob2JqKSA+PSAwO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGFyciBBcnJheS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgVGFyZ2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiAwIG1lYW5zIHJldHVybiB0aGUgbmVhcmVzdCwgPiAwXG4gKiAgICBtZWFucyByZXR1cm4gdGhlIGxhcmdlc3QgbmVhcmVzdCwgPCAwIG1lYW5zIHJldHVybiB0aGVcbiAqICAgIHNtYWxsZXN0IG5lYXJlc3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyRmluZE5lYXJlc3QoYXJyLCB0YXJnZXQsIGRpcmVjdGlvbikge1xuICAgIHZhciBuID0gYXJyLmxlbmd0aDtcbiAgICBpZiAoYXJyWzBdIDw9IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFyZ2V0IDw9IGFycltuIC0gMV0pIHtcbiAgICAgICAgcmV0dXJuIG4gLSAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyW2ldIDw9IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyW2kgLSAxXSAtIHRhcmdldCA8IHRhcmdldCAtIGFycltpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4gLSAxO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIEFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luIEJlZ2luIGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXZlcnNlU3ViQXJyYXkoYXJyLCBiZWdpbiwgZW5kKSB7XG4gICAgd2hpbGUgKGJlZ2luIDwgZW5kKSB7XG4gICAgICAgIHZhciB0bXAgPSBhcnJbYmVnaW5dO1xuICAgICAgICBhcnJbYmVnaW5dID0gYXJyW2VuZF07XG4gICAgICAgIGFycltlbmRdID0gdG1wO1xuICAgICAgICArK2JlZ2luO1xuICAgICAgICAtLWVuZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7IUFycmF5PFZBTFVFPnxWQUxVRX0gZGF0YSBUaGUgZWxlbWVudHMgb3IgYXJyYXlzIG9mIGVsZW1lbnRzIHRvIGFkZCB0byBhcnIuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChhcnIsIGRhdGEpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gICAgdmFyIGxlbmd0aCA9IGV4dGVuc2lvbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBleHRlbnNpb25baV07XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge1ZBTFVFfSBvYmogVGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnIsIG9iaikge1xuICAgIHZhciBpID0gYXJyLmluZGV4T2Yob2JqKTtcbiAgICB2YXIgZm91bmQgPSBpID4gLTE7XG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxWQUxVRT59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtmdW5jdGlvbihWQUxVRSwgbnVtYmVyLCA/KSA6IGJvb2xlYW59IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbXBhcmUuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqIEByZXR1cm4ge1ZBTFVFfG51bGx9IFRoZSBlbGVtZW50IGZvdW5kIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKGFyciwgZnVuYykge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoID4+PiAwO1xuICAgIHZhciB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gYXJyW2ldO1xuICAgICAgICBpZiAoZnVuYyh2YWx1ZSwgaSwgYXJyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnIxIFRoZSBmaXJzdCBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyMiBUaGUgc2Vjb25kIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB0d28gYXJyYXlzIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhcnIxLCBhcnIyKSB7XG4gICAgdmFyIGxlbjEgPSBhcnIxLmxlbmd0aDtcbiAgICBpZiAobGVuMSAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjE7IGkrKykge1xuICAgICAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBTb3J0IHRoZSBwYXNzZWQgYXJyYXkgc3VjaCB0aGF0IHRoZSByZWxhdGl2ZSBvcmRlciBvZiBlcXVhbCBlbGVtZW50cyBpcyBwcmV2ZXJ2ZWQuXG4gKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU29ydGluZ19hbGdvcml0aG0jU3RhYmlsaXR5IGZvciBkZXRhaWxzLlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byBzb3J0IChtb2RpZmllcyBvcmlnaW5hbCkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbigqLCAqKTogbnVtYmVyfSBjb21wYXJlRm5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFibGVTb3J0KGFyciwgY29tcGFyZUZuYykge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIHZhciB0bXAgPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG1wW2ldID0geyBpbmRleDogaSwgdmFsdWU6IGFycltpXSB9O1xuICAgIH1cbiAgICB0bXAuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gY29tcGFyZUZuYyhhLnZhbHVlLCBiLnZhbHVlKSB8fCBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IHRtcFtpXS52YWx1ZTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBmdW5jKSB7XG4gICAgdmFyIGluZGV4O1xuICAgIHZhciBmb3VuZCA9ICFhcnIuZXZlcnkoZnVuY3Rpb24gKGVsLCBpZHgpIHtcbiAgICAgICAgaW5kZXggPSBpZHg7XG4gICAgICAgIHJldHVybiAhZnVuYyhlbCwgaWR4LCBhcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZCA/IGluZGV4IDogLTE7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBvcHRfZnVuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3N0cmljdCBTdHJpY3RseSBzb3J0ZWQgKGRlZmF1bHQgZmFsc2UpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJuIGluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTb3J0ZWQoYXJyLCBvcHRfZnVuYywgb3B0X3N0cmljdCkge1xuICAgIHZhciBjb21wYXJlID0gb3B0X2Z1bmMgfHwgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbjtcbiAgICByZXR1cm4gYXJyLmV2ZXJ5KGZ1bmN0aW9uIChjdXJyZW50VmFsLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXMgPSBjb21wYXJlKGFycltpbmRleCAtIDFdLCBjdXJyZW50VmFsKTtcbiAgICAgICAgcmV0dXJuICEocmVzID4gMCB8fCAob3B0X3N0cmljdCAmJiByZXMgPT09IDApKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9hc3NlcnRzXG4gKi9cbmltcG9ydCBBc3NlcnRpb25FcnJvciBmcm9tICcuL0Fzc2VydGlvbkVycm9yLmpzJztcbi8qKlxuICogQHBhcmFtIHsqfSBhc3NlcnRpb24gQXNzZXJ0aW9uIHdlIGV4cGVjdGVkIHRvIGJlIHRydXRoeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlcnJvckNvZGUgRXJyb3IgY29kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChhc3NlcnRpb24sIGVycm9yQ29kZSkge1xuICAgIGlmICghYXNzZXJ0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihlcnJvckNvZGUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2VydHMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbG9yXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4vbWF0aC5qcyc7XG4vKipcbiAqIEEgY29sb3IgcmVwcmVzZW50ZWQgYXMgYSBzaG9ydCBhcnJheSBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdLlxuICogcmVkLCBncmVlbiwgYW5kIGJsdWUgc2hvdWxkIGJlIGludGVnZXJzIGluIHRoZSByYW5nZSAwLi4yNTUgaW5jbHVzaXZlLlxuICogYWxwaGEgc2hvdWxkIGJlIGEgZmxvYXQgaW4gdGhlIHJhbmdlIDAuLjEgaW5jbHVzaXZlLiBJZiBubyBhbHBoYSB2YWx1ZSBpc1xuICogZ2l2ZW4gdGhlbiBgMWAgd2lsbCBiZSB1c2VkLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IENvbG9yXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogVGhpcyBSZWdFeHAgbWF0Y2hlcyAjIGZvbGxvd2VkIGJ5IDMsIDQsIDYsIG9yIDggaGV4IGRpZ2l0cy5cbiAqIEBjb25zdFxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBIRVhfQ09MT1JfUkVfID0gL14jKFthLWYwLTldezN9fFthLWYwLTldezR9KD86W2EtZjAtOV17Mn0pezAsMn0pJC9pO1xuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIG1hdGNoaW5nIHBvdGVudGlhbCBuYW1lZCBjb2xvciBzdHlsZSBzdHJpbmdzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xudmFyIE5BTUVEX0NPTE9SX1JFXyA9IC9eKFthLXpdKikkfF5oc2xhP1xcKC4qXFwpJC9pO1xuLyoqXG4gKiBSZXR1cm4gdGhlIGNvbG9yIGFzIGFuIHJnYmEgc3RyaW5nLlxuICogQHBhcmFtIHtDb2xvcnxzdHJpbmd9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBSZ2JhIHN0cmluZy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzU3RyaW5nKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybiBuYW1lZCBjb2xvciBhcyBhbiByZ2JhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBOYW1lZCBjb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gUmdiIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZnJvbU5hbWVkKGNvbG9yKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWwuc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICBpZiAoZWwuc3R5bGUuY29sb3IgIT09ICcnKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmdiID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCkuY29sb3I7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICovXG5leHBvcnQgdmFyIGZyb21TdHJpbmcgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdlIG1haW50YWluIGEgc21hbGwgY2FjaGUgb2YgcGFyc2VkIHN0cmluZ3MuICBUbyBwcm92aWRlIGNoZWFwIExSVS1saWtlXG4gICAgLy8gc2VtYW50aWNzLCB3aGVuZXZlciB0aGUgY2FjaGUgZ3Jvd3MgdG9vIGxhcmdlIHdlIHNpbXBseSBkZWxldGUgYW5cbiAgICAvLyBhcmJpdHJhcnkgMjUlIG9mIHRoZSBlbnRyaWVzLlxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdmFyIE1BWF9DQUNIRV9TSVpFID0gMTAyNDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQ29sb3I+fVxuICAgICAqL1xuICAgIHZhciBjYWNoZSA9IHt9O1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdmFyIGNhY2hlU2l6ZSA9IDA7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gICAgICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHZhciBjb2xvcjtcbiAgICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHMpKSB7XG4gICAgICAgICAgICBjb2xvciA9IGNhY2hlW3NdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNhY2hlU2l6ZSA+PSBNQVhfQ0FDSEVfU0laRSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChpKysgJiAzKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAtLWNhY2hlU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbG9yID0gZnJvbVN0cmluZ0ludGVybmFsXyhzKTtcbiAgICAgICAgICAgIGNhY2hlW3NdID0gY29sb3I7XG4gICAgICAgICAgICArK2NhY2hlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfSk7XG59KSgpO1xuLyoqXG4gKiBSZXR1cm4gdGhlIGNvbG9yIGFzIGFuIGFycmF5LiBUaGlzIGZ1bmN0aW9uIG1haW50YWlucyBhIGNhY2hlIG9mIGNhbGN1bGF0ZWRcbiAqIGFycmF5cyB3aGljaCBtZWFucyB0aGUgcmVzdWx0IHNob3VsZCBub3QgYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0ge0NvbG9yfHN0cmluZ30gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc0FycmF5KGNvbG9yKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmcm9tU3RyaW5nKGNvbG9yKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKi9cbmZ1bmN0aW9uIGZyb21TdHJpbmdJbnRlcm5hbF8ocykge1xuICAgIHZhciByLCBnLCBiLCBhLCBjb2xvcjtcbiAgICBpZiAoTkFNRURfQ09MT1JfUkVfLmV4ZWMocykpIHtcbiAgICAgICAgcyA9IGZyb21OYW1lZChzKTtcbiAgICB9XG4gICAgaWYgKEhFWF9DT0xPUl9SRV8uZXhlYyhzKSkge1xuICAgICAgICAvLyBoZXhcbiAgICAgICAgdmFyIG4gPSBzLmxlbmd0aCAtIDE7IC8vIG51bWJlciBvZiBoZXggZGlnaXRzXG4gICAgICAgIHZhciBkID0gLy8gbnVtYmVyIG9mIGRpZ2l0cyBwZXIgY2hhbm5lbFxuICAgICAgICAgdm9pZCAwOyAvLyBudW1iZXIgb2YgZGlnaXRzIHBlciBjaGFubmVsXG4gICAgICAgIGlmIChuIDw9IDQpIHtcbiAgICAgICAgICAgIGQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZCA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc0FscGhhID0gbiA9PT0gNCB8fCBuID09PSA4O1xuICAgICAgICByID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDAgKiBkLCBkKSwgMTYpO1xuICAgICAgICBnID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDEgKiBkLCBkKSwgMTYpO1xuICAgICAgICBiID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDIgKiBkLCBkKSwgMTYpO1xuICAgICAgICBpZiAoaGFzQWxwaGEpIHtcbiAgICAgICAgICAgIGEgPSBwYXJzZUludChzLnN1YnN0cigxICsgMyAqIGQsIGQpLCAxNik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhID0gMjU1O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkID09IDEpIHtcbiAgICAgICAgICAgIHIgPSAociA8PCA0KSArIHI7XG4gICAgICAgICAgICBnID0gKGcgPDwgNCkgKyBnO1xuICAgICAgICAgICAgYiA9IChiIDw8IDQpICsgYjtcbiAgICAgICAgICAgIGlmIChoYXNBbHBoYSkge1xuICAgICAgICAgICAgICAgIGEgPSAoYSA8PCA0KSArIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29sb3IgPSBbciwgZywgYiwgYSAvIDI1NV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHMuaW5kZXhPZigncmdiYSgnKSA9PSAwKSB7XG4gICAgICAgIC8vIHJnYmEoKVxuICAgICAgICBjb2xvciA9IHMuc2xpY2UoNSwgLTEpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgICAgIG5vcm1hbGl6ZShjb2xvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHMuaW5kZXhPZigncmdiKCcpID09IDApIHtcbiAgICAgICAgLy8gcmdiKClcbiAgICAgICAgY29sb3IgPSBzLnNsaWNlKDQsIC0xKS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xuICAgICAgICBjb2xvci5wdXNoKDEpO1xuICAgICAgICBub3JtYWxpemUoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzZXJ0KGZhbHNlLCAxNCk7IC8vIEludmFsaWQgY29sb3JcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xufVxuLyoqXG4gKiBUT0RPIHRoaXMgZnVuY3Rpb24gaXMgb25seSB1c2VkIGluIHRoZSB0ZXN0LCB3ZSBwcm9iYWJseSBzaG91bGRuJ3QgZXhwb3J0IGl0XG4gKiBAcGFyYW0ge0NvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yfSBDbGFtcGVkIGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKGNvbG9yKSB7XG4gICAgY29sb3JbMF0gPSBjbGFtcCgoY29sb3JbMF0gKyAwLjUpIHwgMCwgMCwgMjU1KTtcbiAgICBjb2xvclsxXSA9IGNsYW1wKChjb2xvclsxXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICAgIGNvbG9yWzJdID0gY2xhbXAoKGNvbG9yWzJdICsgMC41KSB8IDAsIDAsIDI1NSk7XG4gICAgY29sb3JbM10gPSBjbGFtcChjb2xvclszXSwgMCwgMSk7XG4gICAgcmV0dXJuIGNvbG9yO1xufVxuLyoqXG4gKiBAcGFyYW0ge0NvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmcoY29sb3IpIHtcbiAgICB2YXIgciA9IGNvbG9yWzBdO1xuICAgIGlmIChyICE9IChyIHwgMCkpIHtcbiAgICAgICAgciA9IChyICsgMC41KSB8IDA7XG4gICAgfVxuICAgIHZhciBnID0gY29sb3JbMV07XG4gICAgaWYgKGcgIT0gKGcgfCAwKSkge1xuICAgICAgICBnID0gKGcgKyAwLjUpIHwgMDtcbiAgICB9XG4gICAgdmFyIGIgPSBjb2xvclsyXTtcbiAgICBpZiAoYiAhPSAoYiB8IDApKSB7XG4gICAgICAgIGIgPSAoYiArIDAuNSkgfCAwO1xuICAgIH1cbiAgICB2YXIgYSA9IGNvbG9yWzNdID09PSB1bmRlZmluZWQgPyAxIDogY29sb3JbM107XG4gICAgcmV0dXJuICdyZ2JhKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnLCcgKyBhICsgJyknO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBzdHJpbmcgaXMgYWN0dWFsbHkgYSB2YWxpZCBjb2xvclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdDb2xvcihzKSB7XG4gICAgaWYgKE5BTUVEX0NPTE9SX1JFXy50ZXN0KHMpKSB7XG4gICAgICAgIHMgPSBmcm9tTmFtZWQocyk7XG4gICAgfVxuICAgIHJldHVybiAoSEVYX0NPTE9SX1JFXy50ZXN0KHMpIHx8IHMuaW5kZXhPZigncmdiYSgnKSA9PT0gMCB8fCBzLmluZGV4T2YoJ3JnYignKSA9PT0gMCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvY29sb3JsaWtlXG4gKi9cbmltcG9ydCB7IHRvU3RyaW5nIH0gZnJvbSAnLi9jb2xvci5qcyc7XG4vKipcbiAqIEEgdHlwZSBhY2NlcHRlZCBieSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuZmlsbFN0eWxlXG4gKiBvciBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuc3Ryb2tlU3R5bGUuXG4gKiBSZXByZXNlbnRzIGEgY29sb3IsIHBhdHRlcm4sIG9yIGdyYWRpZW50LiBUaGUgb3JpZ2luIGZvciBwYXR0ZXJucyBhbmRcbiAqIGdyYWRpZW50cyBhcyBmaWxsIHN0eWxlIGlzIGFuIGluY3JlbWVudCBvZiA1MTIgY3NzIHBpeGVscyBmcm9tIG1hcCBjb29yZGluYXRlXG4gKiBgWzAsIDBdYC4gRm9yIHNlYW1sZXNzIHJlcGVhdCBwYXR0ZXJucywgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcGF0dGVybiBpbWFnZVxuICogbXVzdCBiZSBhIGZhY3RvciBvZiB0d28gKDIsIDQsIDgsIC4uLiwgNTEyKS5cbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfENhbnZhc1BhdHRlcm58Q2FudmFzR3JhZGllbnR9IENvbG9yTGlrZVxuICogQGFwaVxuICovXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb2xvci5qc1wiKS5Db2xvcnxDb2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3JMaWtlfSBUaGUgY29sb3IgYXMgYW4ge0BsaW5rIG9sL2NvbG9ybGlrZX5Db2xvckxpa2V9LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNDb2xvckxpa2UoY29sb3IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvcmxpa2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nzc1xuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvbnRQYXJhbWV0ZXJzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3R5bGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2YXJpYW50XG4gKiBAcHJvcGVydHkge3N0cmluZ30gd2VpZ2h0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2l6ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxpbmVIZWlnaHRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmYW1pbHlcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gZmFtaWxpZXNcbiAqL1xuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciBoaWRkZW4gZmVhdHVyZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfSElEREVOID0gJ29sLWhpZGRlbic7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHNlbGVjdGFibGUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1NFTEVDVEFCTEUgPSAnb2wtc2VsZWN0YWJsZSc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHVuc2VsZWN0YWJsZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfVU5TRUxFQ1RBQkxFID0gJ29sLXVuc2VsZWN0YWJsZSc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIHVuc3VwcG9ydGVkIGZlYXR1cmUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1VOU1VQUE9SVEVEID0gJ29sLXVuc3VwcG9ydGVkJztcbi8qKlxuICogVGhlIENTUyBjbGFzcyBmb3IgY29udHJvbHMuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX0NPTlRST0wgPSAnb2wtY29udHJvbCc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdGhhdCBhcmUgY29sbGFwc2VkLCBpLmUuXG4gKiB0byB0aG9zZSBlbGVtZW50cyB3aGljaCB1c3VhbGx5IGNhbiBiZSBleHBhbmRlZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfQ09MTEFQU0VEID0gJ29sLWNvbGxhcHNlZCc7XG4vKipcbiAqIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDEzNTY5Ny9yZWdleC10by1wYXJzZS1hbnktY3NzLWZvbnRcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbnZhciBmb250UmVnRXggPSBuZXcgUmVnRXhwKFtcbiAgICAnXlxcXFxzKig/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oaXRhbGljfG9ibGlxdWUpKT8pJyxcbiAgICAnKD89KD86KD86Wy1hLXpdK1xcXFxzKil7MCwyfShzbWFsbC1jYXBzKSk/KScsXG4gICAgJyg/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oYm9sZCg/OmVyKT98bGlnaHRlcnxbMS05XTAwICkpPyknLFxuICAgICcoPzooPzpub3JtYWx8XFxcXDF8XFxcXDJ8XFxcXDMpXFxcXHMqKXswLDN9KCg/Onh4Py0pPycsXG4gICAgJyg/OnNtYWxsfGxhcmdlKXxtZWRpdW18c21hbGxlcnxsYXJnZXJ8W1xcXFwuXFxcXGRdKyg/OlxcXFwlfGlufFtjZW1dbXxleHxwW2N0eF0pKScsXG4gICAgJyg/OlxcXFxzKlxcXFwvXFxcXHMqKG5vcm1hbHxbXFxcXC5cXFxcZF0rKD86XFxcXCV8aW58W2NlbV1tfGV4fHBbY3R4XSk/KSknLFxuICAgICc/XFxcXHMqKFstLFxcXFxcIlxcXFxcXCdcXFxcc2Etel0rPylcXFxccyokJyxcbl0uam9pbignJyksICdpJyk7XG52YXIgZm9udFJlZ0V4TWF0Y2hJbmRleCA9IFtcbiAgICAnc3R5bGUnLFxuICAgICd2YXJpYW50JyxcbiAgICAnd2VpZ2h0JyxcbiAgICAnc2l6ZScsXG4gICAgJ2xpbmVIZWlnaHQnLFxuICAgICdmYW1pbHknLFxuXTtcbi8qKlxuICogR2V0IHRoZSBsaXN0IG9mIGZvbnQgZmFtaWxpZXMgZnJvbSBhIGZvbnQgc3BlYy4gIE5vdGUgdGhhdCB0aGlzIGRvZXNuJ3Qgd29ya1xuICogZm9yIGZvbnQgZmFtaWxpZXMgdGhhdCBoYXZlIGNvbW1hcyBpbiB0aGVtLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTcGVjIFRoZSBDU1MgZm9udCBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge0ZvbnRQYXJhbWV0ZXJzfSBUaGUgZm9udCBwYXJhbWV0ZXJzIChvciBudWxsIGlmIHRoZSBpbnB1dCBzcGVjIGlzIGludmFsaWQpLlxuICovXG5leHBvcnQgdmFyIGdldEZvbnRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgdmFyIG1hdGNoID0gZm9udFNwZWMubWF0Y2goZm9udFJlZ0V4KTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgc3R5bGUgPSAvKiogQHR5cGUge0ZvbnRQYXJhbWV0ZXJzfSAqLyAoe1xuICAgICAgICBsaW5lSGVpZ2h0OiAnbm9ybWFsJyxcbiAgICAgICAgc2l6ZTogJzEuMmVtJyxcbiAgICAgICAgc3R5bGU6ICdub3JtYWwnLFxuICAgICAgICB3ZWlnaHQ6ICdub3JtYWwnLFxuICAgICAgICB2YXJpYW50OiAnbm9ybWFsJyxcbiAgICB9KTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmb250UmVnRXhNYXRjaEluZGV4Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hbaSArIDFdO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3R5bGVbZm9udFJlZ0V4TWF0Y2hJbmRleFtpXV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHlsZS5mYW1pbGllcyA9IHN0eWxlLmZhbWlseS5zcGxpdCgvLFxccz8vKTtcbiAgICByZXR1cm4gc3R5bGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLmpzLm1hcCIsImltcG9ydCB7IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIH0gZnJvbSAnLi9oYXMuanMnO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2RvbVxuICovXG4vL0ZJWE1FIE1vdmUgdGhpcyBmdW5jdGlvbiB0byB0aGUgY2FudmFzIG1vZHVsZVxuLyoqXG4gKiBDcmVhdGUgYW4gaHRtbCBjYW52YXMgZWxlbWVudCBhbmQgcmV0dXJucyBpdHMgMmQgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3dpZHRoIENhbnZhcyB3aWR0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2hlaWdodCBDYW52YXMgaGVpZ2h0LlxuICogQHBhcmFtIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD49fSBvcHRfY2FudmFzUG9vbCBDYW52YXMgcG9vbCB0byB0YWtlIGV4aXN0aW5nIGNhbnZhcyBmcm9tLlxuICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBUaGUgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhbnZhc0NvbnRleHQyRChvcHRfd2lkdGgsIG9wdF9oZWlnaHQsIG9wdF9jYW52YXNQb29sKSB7XG4gICAgdmFyIGNhbnZhcyA9IG9wdF9jYW52YXNQb29sICYmIG9wdF9jYW52YXNQb29sLmxlbmd0aFxuICAgICAgICA/IG9wdF9jYW52YXNQb29sLnNoaWZ0KClcbiAgICAgICAgOiBXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBU1xuICAgICAgICAgICAgPyBuZXcgT2Zmc2NyZWVuQ2FudmFzKG9wdF93aWR0aCB8fCAzMDAsIG9wdF9oZWlnaHQgfHwgMzAwKVxuICAgICAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBpZiAob3B0X3dpZHRoKSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IG9wdF93aWR0aDtcbiAgICB9XG4gICAgaWYgKG9wdF9oZWlnaHQpIHtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IG9wdF9oZWlnaHQ7XG4gICAgfVxuICAgIC8vRklYTUUgQWxsb3cgT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIGFzIHJldHVybiB0eXBlXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqLyAoY2FudmFzLmdldENvbnRleHQoJzJkJykpO1xufVxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgd2lkdGggZm9yIHRoZSBnaXZlbiBlbGVtZW50IGluY2x1ZGluZyBtYXJnaW4sXG4gKiBwYWRkaW5nIGFuZCBib3JkZXIuXG4gKiBFcXVpdmFsZW50IHRvIGpRdWVyeSdzIGAkKGVsKS5vdXRlcldpZHRoKHRydWUpYC5cbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB3aWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dGVyV2lkdGgoZWxlbWVudCkge1xuICAgIHZhciB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICB3aWR0aCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0LCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5SaWdodCwgMTApO1xuICAgIHJldHVybiB3aWR0aDtcbn1cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGNvbXB1dGVkIGhlaWdodCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgaW5jbHVkaW5nIG1hcmdpbixcbiAqIHBhZGRpbmcgYW5kIGJvcmRlci5cbiAqIEVxdWl2YWxlbnQgdG8galF1ZXJ5J3MgYCQoZWwpLm91dGVySGVpZ2h0KHRydWUpYC5cbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBoZWlnaHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRlckhlaWdodChlbGVtZW50KSB7XG4gICAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgaGVpZ2h0ICs9IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCwgMTApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tLCAxMCk7XG4gICAgcmV0dXJuIGhlaWdodDtcbn1cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBuZXdOb2RlIE5vZGUgdG8gcmVwbGFjZSBvbGQgbm9kZVxuICogQHBhcmFtIHtOb2RlfSBvbGROb2RlIFRoZSBub2RlIHRvIGJlIHJlcGxhY2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlTm9kZShuZXdOb2RlLCBvbGROb2RlKSB7XG4gICAgdmFyIHBhcmVudCA9IG9sZE5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge05vZGV9IFRoZSBub2RlIHRoYXQgd2FzIHJlbW92ZWQgb3IgbnVsbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlICYmIG5vZGUucGFyZW50Tm9kZSA/IG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKSA6IG51bGw7XG59XG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB0byByZW1vdmUgdGhlIGNoaWxkcmVuIGZyb20uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbihub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUubGFzdENoaWxkKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICAgIH1cbn1cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCBub2RlIHNvIHRoZXkgbWF0Y2ggdGhlXG4gKiBwcm92aWRlZCBsaXN0IG9mIGNoaWxkcmVuLiAgVGhpcyBmdW5jdGlvbiBhaW1zIHRvIGVmZmljaWVudGx5XG4gKiByZW1vdmUsIGFkZCwgYW5kIHJlb3JkZXIgY2hpbGQgbm9kZXMgd2hpbGUgbWFpbnRhaW5pbmcgYSBzaW1wbGVcbiAqIGltcGxlbWVudGF0aW9uIChpdCBpcyBub3QgZ3VhcmFudGVlZCB0byBtaW5pbWl6ZSBET00gb3BlcmF0aW9ucykuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIHBhcmVudCBub2RlIHdob3NlIGNoaWxkcmVuIG5lZWQgcmV3b3JraW5nLlxuICogQHBhcmFtIHtBcnJheTxOb2RlPn0gY2hpbGRyZW4gVGhlIGRlc2lyZWQgY2hpbGRyZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlQ2hpbGRyZW4obm9kZSwgY2hpbGRyZW4pIHtcbiAgICB2YXIgb2xkQ2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IHRydWU7ICsraSkge1xuICAgICAgICB2YXIgb2xkQ2hpbGQgPSBvbGRDaGlsZHJlbltpXTtcbiAgICAgICAgdmFyIG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIC8vIGNoZWNrIGlmIG91ciB3b3JrIGlzIGRvbmVcbiAgICAgICAgaWYgKCFvbGRDaGlsZCAmJiAhbmV3Q2hpbGQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGNoaWxkcmVuIG1hdGNoXG4gICAgICAgIGlmIChvbGRDaGlsZCA9PT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGEgbmV3IGNoaWxkIG5lZWRzIHRvIGJlIGFkZGVkXG4gICAgICAgIGlmICghb2xkQ2hpbGQpIHtcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgYW4gb2xkIGNoaWxkIG5lZWRzIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgaWYgKCFuZXdDaGlsZCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChvbGRDaGlsZCk7XG4gICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW9yZGVyXG4gICAgICAgIG5vZGUuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCBvbGRDaGlsZCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9lYXNpbmdcbiAqL1xuLyoqXG4gKiBTdGFydCBzbG93IGFuZCBzcGVlZCB1cC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbih0KSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHQsIDMpO1xufVxuLyoqXG4gKiBTdGFydCBmYXN0IGFuZCBzbG93IGRvd24uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0KHQpIHtcbiAgICByZXR1cm4gMSAtIGVhc2VJbigxIC0gdCk7XG59XG4vKipcbiAqIFN0YXJ0IHNsb3csIHNwZWVkIHVwLCBhbmQgdGhlbiBzbG93IGRvd24gYWdhaW4uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbkFuZE91dCh0KSB7XG4gICAgcmV0dXJuIDMgKiB0ICogdCAtIDIgKiB0ICogdCAqIHQ7XG59XG4vKipcbiAqIE1haW50YWluIGEgY29uc3RhbnQgc3BlZWQgb3ZlciB0aW1lLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyKHQpIHtcbiAgICByZXR1cm4gdDtcbn1cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCBhdCB0aGUgdmVyeSBlbmQgc2xvdyBkb3duIGFnYWluLiAgVGhpcyBoYXMgdGhlXG4gKiBzYW1lIGdlbmVyYWwgYmVoYXZpb3IgYXMge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9LCBidXQgdGhlIGZpbmFsXG4gKiBzbG93ZG93biBpcyBkZWxheWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBBbmREb3duKHQpIHtcbiAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICByZXR1cm4gaW5BbmRPdXQoMiAqIHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDEgLSBpbkFuZE91dCgyICogKHQgLSAwLjUpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lYXNpbmcuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50c1xuICovXG5pbXBvcnQgeyBjbGVhciB9IGZyb20gJy4vb2JqLmpzJztcbi8qKlxuICogS2V5IHRvIHVzZSB3aXRoIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX5PYnNlcnZhYmxlI3VuQnlLZXl9LlxuICogQHR5cGVkZWYge09iamVjdH0gRXZlbnRzS2V5XG4gKiBAcHJvcGVydHkge0xpc3RlbmVyRnVuY3Rpb259IGxpc3RlbmVyXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGVcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBMaXN0ZW5lciBmdW5jdGlvbi4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhbiBldmVudCBvYmplY3QgYXMgYXJndW1lbnQuXG4gKiBXaGVuIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAsIGV2ZW50IHByb3BhZ2F0aW9uIHdpbGwgc3RvcC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpKTogKHZvaWR8Ym9vbGVhbil9IExpc3RlbmVyRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMaXN0ZW5lck9iamVjdFxuICogQHByb3BlcnR5IHtMaXN0ZW5lckZ1bmN0aW9ufSBoYW5kbGVFdmVudFxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtMaXN0ZW5lckZ1bmN0aW9ufExpc3RlbmVyT2JqZWN0fSBMaXN0ZW5lclxuICovXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVmZmljaWVudGx5IGJpbmRzIGEgYGxpc3RlbmVyYCB0byBhIGB0aGlzYCBvYmplY3QsIGFuZCByZXR1cm5zXG4gKiBhIGtleSBmb3IgdXNlIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9ldmVudHN+dW5saXN0ZW5CeUtleX0uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgRXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF90aGlzIE9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBgdGhpc2Aga2V5d29yZCBpbiB0aGVcbiAqICAgICBsaXN0ZW5lci4gRGVmYXVsdCBpcyB0aGUgYHRhcmdldGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfb25jZSBJZiB0cnVlLCBhZGQgdGhlIGxpc3RlbmVyIGFzIG9uZS1vZmYgbGlzdGVuZXIuXG4gKiBAcmV0dXJuIHtFdmVudHNLZXl9IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBvcHRfdGhpcywgb3B0X29uY2UpIHtcbiAgICBpZiAob3B0X3RoaXMgJiYgb3B0X3RoaXMgIT09IHRhcmdldCkge1xuICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmJpbmQob3B0X3RoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0X29uY2UpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsTGlzdGVuZXJfMSA9IGxpc3RlbmVyO1xuICAgICAgICBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXJfMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgZXZlbnRzS2V5ID0ge1xuICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgIH07XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgIHJldHVybiBldmVudHNLZXk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIG9uZS1vZmYgZXZlbnQgbGlzdGVuZXIgb24gYW4gZXZlbnQgdGFyZ2V0LiBJbnNwaXJlZCBieVxuICogaHR0cHM6Ly9nb29nbGUuZ2l0aHViLmlvL2Nsb3N1cmUtbGlicmFyeS9hcGkvc291cmNlL2Nsb3N1cmUvZ29vZy9ldmVudHMvZXZlbnRzLmpzLnNyYy5odG1sXG4gKlxuICogVGhpcyBmdW5jdGlvbiBlZmZpY2llbnRseSBiaW5kcyBhIGBsaXN0ZW5lcmAgYXMgc2VsZi11bnJlZ2lzdGVyaW5nIGxpc3RlbmVyXG4gKiB0byBhIGB0aGlzYCBvYmplY3QsIGFuZCByZXR1cm5zIGEga2V5IGZvciB1c2Ugd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHN+dW5saXN0ZW5CeUtleX0gaW4gY2FzZSB0aGUgbGlzdGVuZXIgbmVlZHMgdG8gYmVcbiAqIHVucmVnaXN0ZXJlZCBiZWZvcmUgaXQgaXMgY2FsbGVkLlxuICpcbiAqIFdoZW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHN+bGlzdGVufSBpcyBjYWxsZWQgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgYWZ0ZXIgdGhpc1xuICogZnVuY3Rpb24sIHRoZSBzZWxmLXVucmVnaXN0ZXJpbmcgbGlzdGVuZXIgd2lsbCBiZSB0dXJuZWQgaW50byBhIHBlcm1hbmVudFxuICogbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgRXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF90aGlzIE9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBgdGhpc2Aga2V5d29yZCBpbiB0aGVcbiAqICAgICBsaXN0ZW5lci4gRGVmYXVsdCBpcyB0aGUgYHRhcmdldGAuXG4gKiBAcmV0dXJuIHtFdmVudHNLZXl9IEtleSBmb3IgdW5saXN0ZW5CeUtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbk9uY2UodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0X3RoaXMpIHtcbiAgICByZXR1cm4gbGlzdGVuKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdF90aGlzLCB0cnVlKTtcbn1cbi8qKlxuICogVW5yZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzIG9uIGFuIGV2ZW50IHRhcmdldC4gSW5zcGlyZWQgYnlcbiAqIGh0dHBzOi8vZ29vZ2xlLmdpdGh1Yi5pby9jbG9zdXJlLWxpYnJhcnkvYXBpL3NvdXJjZS9jbG9zdXJlL2dvb2cvZXZlbnRzL2V2ZW50cy5qcy5zcmMuaHRtbFxuICpcbiAqIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBpcyB0aGUga2V5IHJldHVybmVkIGZyb21cbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzfmxpc3Rlbn0gb3Ige0BsaW5rIG1vZHVsZTpvbC9ldmVudHN+bGlzdGVuT25jZX0uXG4gKlxuICogQHBhcmFtIHtFdmVudHNLZXl9IGtleSBUaGUga2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5saXN0ZW5CeUtleShrZXkpIHtcbiAgICBpZiAoa2V5ICYmIGtleS50YXJnZXQpIHtcbiAgICAgICAga2V5LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGtleS50eXBlLCBrZXkubGlzdGVuZXIpO1xuICAgICAgICBjbGVhcihrZXkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0V2ZW50XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU3RyaXBwZWQgZG93biBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVzNDIERPTSBMZXZlbCAyIEV2ZW50IGludGVyZmFjZS5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItRXZlbnRzL2V2ZW50cy5odG1sI0V2ZW50cy1pbnRlcmZhY2UuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IHByb3ZpZGVzIGB0eXBlYCBhbmQgYHRhcmdldGAgcHJvcGVydGllcywgYW5kXG4gKiBgc3RvcFByb3BhZ2F0aW9uYCBhbmQgYHByZXZlbnREZWZhdWx0YCBtZXRob2RzLiBJdCBpcyBtZWFudCBhcyBiYXNlIGNsYXNzXG4gKiBmb3IgaGlnaGVyIGxldmVsIGV2ZW50cyBkZWZpbmVkIGluIHRoZSBsaWJyYXJ5LCBhbmQgd29ya3Mgd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvVGFyZ2V0flRhcmdldH0uXG4gKi9cbnZhciBCYXNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlRXZlbnQodHlwZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBldmVudCB0eXBlLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV2ZW50IHRhcmdldC5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VFdmVudDtcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7RXZlbnR8aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fSBldnQgRXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihldnQpIHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG4vKipcbiAqIEBwYXJhbSB7RXZlbnR8aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fSBldnQgRXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuZXhwb3J0IGRlZmF1bHQgQmFzZUV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50cy9FdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQGNvbnN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGNoYW5nZSBldmVudC4gVHJpZ2dlcmVkIHdoZW4gdGhlIHJldmlzaW9uIGNvdW50ZXIgaXMgaW5jcmVhc2VkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvZXZlbnRzL0V2ZW50fkJhc2VFdmVudCNjaGFuZ2VcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ0hBTkdFOiAnY2hhbmdlJyxcbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGVycm9yIGV2ZW50LiBUcmlnZ2VyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+QmFzZUV2ZW50I2Vycm9yXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEVSUk9SOiAnZXJyb3InLFxuICAgIEJMVVI6ICdibHVyJyxcbiAgICBDTEVBUjogJ2NsZWFyJyxcbiAgICBDT05URVhUTUVOVTogJ2NvbnRleHRtZW51JyxcbiAgICBDTElDSzogJ2NsaWNrJyxcbiAgICBEQkxDTElDSzogJ2RibGNsaWNrJyxcbiAgICBEUkFHRU5URVI6ICdkcmFnZW50ZXInLFxuICAgIERSQUdPVkVSOiAnZHJhZ292ZXInLFxuICAgIERST1A6ICdkcm9wJyxcbiAgICBGT0NVUzogJ2ZvY3VzJyxcbiAgICBLRVlET1dOOiAna2V5ZG93bicsXG4gICAgS0VZUFJFU1M6ICdrZXlwcmVzcycsXG4gICAgTE9BRDogJ2xvYWQnLFxuICAgIFJFU0laRTogJ3Jlc2l6ZScsXG4gICAgVE9VQ0hNT1ZFOiAndG91Y2htb3ZlJyxcbiAgICBXSEVFTDogJ3doZWVsJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFR5cGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvVGFyZ2V0XG4gKi9cbmltcG9ydCBEaXNwb3NhYmxlIGZyb20gJy4uL0Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vRXZlbnQuanMnO1xuaW1wb3J0IHsgVk9JRCB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBjbGVhciB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtFdmVudFRhcmdldHxUYXJnZXR9IEV2ZW50VGFyZ2V0TGlrZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgc2ltcGxpZmllZCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVzNDIERPTSBMZXZlbCAyIEV2ZW50VGFyZ2V0IGludGVyZmFjZS5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMC9SRUMtRE9NLUxldmVsLTItRXZlbnRzLTIwMDAxMTEzL2V2ZW50cy5odG1sI0V2ZW50cy1FdmVudFRhcmdldC5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIGltcG9ydGFudCBzaW1wbGlmaWNhdGlvbnMgY29tcGFyZWQgdG8gdGhlIHNwZWNpZmljYXRpb246XG4gKlxuICogMS4gVGhlIGhhbmRsaW5nIG9mIGB1c2VDYXB0dXJlYCBpbiBgYWRkRXZlbnRMaXN0ZW5lcmAgYW5kXG4gKiAgICBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAuIFRoZXJlIGlzIG5vIHJlYWwgY2FwdHVyZSBtb2RlbC5cbiAqIDIuIFRoZSBoYW5kbGluZyBvZiBgc3RvcFByb3BhZ2F0aW9uYCBhbmQgYHByZXZlbnREZWZhdWx0YCBvbiBgZGlzcGF0Y2hFdmVudGAuXG4gKiAgICBUaGVyZSBpcyBubyBldmVudCB0YXJnZXQgaGllcmFyY2h5LiBXaGVuIGEgbGlzdGVuZXIgY2FsbHNcbiAqICAgIGBzdG9wUHJvcGFnYXRpb25gIG9yIGBwcmV2ZW50RGVmYXVsdGAgb24gYW4gZXZlbnQgb2JqZWN0LCBpdCBtZWFucyB0aGF0IG5vXG4gKiAgICBtb3JlIGxpc3RlbmVycyBhZnRlciB0aGlzIG9uZSB3aWxsIGJlIGNhbGxlZC4gU2FtZSBhcyB3aGVuIHRoZSBsaXN0ZW5lclxuICogICAgcmV0dXJucyBmYWxzZS5cbiAqL1xudmFyIFRhcmdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGFyZ2V0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Kj19IG9wdF90YXJnZXQgRGVmYXVsdCBldmVudCB0YXJnZXQgZm9yIGRpc3BhdGNoZWQgZXZlbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRhcmdldChvcHRfdGFyZ2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV2ZW50VGFyZ2V0XyA9IG9wdF90YXJnZXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBlbmRpbmdSZW1vdmFsc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXNwYXRjaGluZ18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcj4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGlzdGVuZXJzXyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdHlwZSB8fCAhbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNfIHx8ICh0aGlzLmxpc3RlbmVyc18gPSB7fSk7XG4gICAgICAgIHZhciBsaXN0ZW5lcnNGb3JUeXBlID0gbGlzdGVuZXJzW3R5cGVdIHx8IChsaXN0ZW5lcnNbdHlwZV0gPSBbXSk7XG4gICAgICAgIGlmIChsaXN0ZW5lcnNGb3JUeXBlLmluZGV4T2YobGlzdGVuZXIpID09PSAtMSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzRm9yVHlwZS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBhbmQgY2FsbHMgYWxsIGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xuICAgICAqIG9mIHRoaXMgdHlwZS4gVGhlIGV2ZW50IHBhcmFtZXRlciBjYW4gZWl0aGVyIGJlIGEgc3RyaW5nIG9yIGFuXG4gICAgICogT2JqZWN0IHdpdGggYSBgdHlwZWAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdHxzdHJpbmd9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gYGZhbHNlYCBpZiBhbnlvbmUgY2FsbGVkIHByZXZlbnREZWZhdWx0IG9uIHRoZVxuICAgICAqICAgICBldmVudCBvYmplY3Qgb3IgaWYgYW55IG9mIHRoZSBsaXN0ZW5lcnMgcmV0dXJuZWQgZmFsc2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRhcmdldC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdHxFdmVudH0gKi9cbiAgICAgICAgdmFyIGV2dCA9IHR5cGVvZiBldmVudCA9PT0gJ3N0cmluZycgPyBuZXcgRXZlbnQoZXZlbnQpIDogZXZlbnQ7XG4gICAgICAgIHZhciB0eXBlID0gZXZ0LnR5cGU7XG4gICAgICAgIGlmICghZXZ0LnRhcmdldCkge1xuICAgICAgICAgICAgZXZ0LnRhcmdldCA9IHRoaXMuZXZlbnRUYXJnZXRfIHx8IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzXyAmJiB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgICAgIHZhciBwcm9wYWdhdGU7XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHZhciBkaXNwYXRjaGluZyA9IHRoaXMuZGlzcGF0Y2hpbmdfIHx8ICh0aGlzLmRpc3BhdGNoaW5nXyA9IHt9KTtcbiAgICAgICAgICAgIHZhciBwZW5kaW5nUmVtb3ZhbHMgPSB0aGlzLnBlbmRpbmdSZW1vdmFsc18gfHwgKHRoaXMucGVuZGluZ1JlbW92YWxzXyA9IHt9KTtcbiAgICAgICAgICAgIGlmICghKHR5cGUgaW4gZGlzcGF0Y2hpbmcpKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hpbmdbdHlwZV0gPSAwO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdSZW1vdmFsc1t0eXBlXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK2Rpc3BhdGNoaW5nW3R5cGVdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ2hhbmRsZUV2ZW50JyBpbiBsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXJPYmplY3R9ICovIChsaXN0ZW5lcnNbaV0pLmhhbmRsZUV2ZW50KGV2dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lckZ1bmN0aW9ufSAqLyAobGlzdGVuZXJzW2ldKS5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm9wYWdhdGUgPT09IGZhbHNlIHx8IGV2dC5wcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC0tZGlzcGF0Y2hpbmdbdHlwZV07XG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2hpbmdbdHlwZV0gPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcHIgPSBwZW5kaW5nUmVtb3ZhbHNbdHlwZV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdSZW1vdmFsc1t0eXBlXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocHItLSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgVk9JRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwYXRjaGluZ1t0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9wYWdhdGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIFRhcmdldC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc18gJiYgY2xlYXIodGhpcy5saXN0ZW5lcnNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlzdGVuZXJzIGZvciBhIHNwZWNpZmllZCBldmVudCB0eXBlLiBMaXN0ZW5lcnMgYXJlIHJldHVybmVkIGluIHRoZVxuICAgICAqIG9yZGVyIHRoYXQgdGhleSB3aWxsIGJlIGNhbGxlZCBpbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyPnx1bmRlZmluZWR9IExpc3RlbmVycy5cbiAgICAgKi9cbiAgICBUYXJnZXQucHJvdG90eXBlLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5saXN0ZW5lcnNfICYmIHRoaXMubGlzdGVuZXJzX1t0eXBlXSkgfHwgdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfdHlwZSBUeXBlLiBJZiBub3QgcHJvdmlkZWQsXG4gICAgICogICAgIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkIGlmIHRoaXMgZXZlbnQgdGFyZ2V0IGhhcyBhbnkgbGlzdGVuZXJzLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyBsaXN0ZW5lcnMuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uIChvcHRfdHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzXykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRfdHlwZVxuICAgICAgICAgICAgPyBvcHRfdHlwZSBpbiB0aGlzLmxpc3RlbmVyc19cbiAgICAgICAgICAgIDogT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnNfKS5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlbW92YWxzXyAmJiB0eXBlIGluIHRoaXMucGVuZGluZ1JlbW92YWxzXykge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGxpc3RlbmVyIGEgbm8tb3AsIGFuZCByZW1vdmUgbGF0ZXIgaW4gI2Rpc3BhdGNoRXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbaW5kZXhdID0gVk9JRDtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnBlbmRpbmdSZW1vdmFsc19bdHlwZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUYXJnZXQ7XG59KERpc3Bvc2FibGUpKTtcbmV4cG9ydCBkZWZhdWx0IFRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRhcmdldC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL2NvbmRpdGlvblxuICovXG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IEZBTFNFLCBUUlVFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IE1BQywgV0VCS0lUIH0gZnJvbSAnLi4vaGFzLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGB7Ym9vbGVhbn1gLiBJZiB0aGUgY29uZGl0aW9uIGlzIG1ldCwgdHJ1ZSBzaG91bGQgYmUgcmV0dXJuZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6ID8sIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gQ29uZGl0aW9uXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIGNvbmRpdGlvbiBmdW5jdGlvbiB0aGF0IHBhc3NlcyB3aGVuIGFsbCBwcm92aWRlZCBjb25kaXRpb25zIHBhc3MuXG4gKiBAcGFyYW0gey4uLkNvbmRpdGlvbn0gdmFyX2FyZ3MgQ29uZGl0aW9ucyB0byBjaGVjay5cbiAqIEByZXR1cm4ge0NvbmRpdGlvbn0gQ29uZGl0aW9uIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWxsKHZhcl9hcmdzKSB7XG4gICAgdmFyIGNvbmRpdGlvbnMgPSBhcmd1bWVudHM7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQWxsIGNvbmRpdGlvbnMgcGFzc2VkLlxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBhc3MgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb25kaXRpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHBhc3MgPSBwYXNzICYmIGNvbmRpdGlvbnNbaV0oZXZlbnQpO1xuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhc3M7XG4gICAgfTtcbn1cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBvbmx5IHRoZSBhbHQta2V5IGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlIChlLmcuIHdoZW5cbiAqIGFkZGl0aW9uYWxseSB0aGUgc2hpZnQta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgYWx0IGtleSBpcyBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGFsdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiAob3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAgICAgIShvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIGFsdC1rZXkgYW5kIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZVxuICogKGUuZy4gd2hlbiBhZGRpdGlvbmFsbHkgdGhlIHBsYXRmb3JtLW1vZGlmaWVyLWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIGFsdCBhbmQgc2hpZnQga2V5cyBhcmUgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBhbHRTaGlmdEtleXNPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKG9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy4gVGhpcyBjb25kaXRpb24gcmVxdWlyZXMgYSBtYXAgdGFyZ2V0XG4gKiBlbGVtZW50IHdpdGggYSBgdGFiaW5kZXhgIGF0dHJpYnV0ZSwgZS5nLiBgPGRpdiBpZD1cIm1hcFwiIHRhYmluZGV4PVwiMVwiPmAuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgbWFwIGhhcyB0aGUgZm9jdXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgZm9jdXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQudGFyZ2V0LmdldFRhcmdldEVsZW1lbnQoKS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIG1hcCBoYXMgdGhlIGZvY3VzIG9yIG5vICd0YWJpbmRleCcgYXR0cmlidXRlIHNldC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBtYXAgY29udGFpbmVyIGhhcyB0aGUgZm9jdXMgb3Igbm8gJ3RhYmluZGV4JyBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCB2YXIgZm9jdXNXaXRoVGFiaW5kZXggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQubWFwLmdldFRhcmdldEVsZW1lbnQoKS5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JylcbiAgICAgICAgPyBmb2N1cyhldmVudClcbiAgICAgICAgOiB0cnVlO1xufTtcbi8qKlxuICogUmV0dXJuIGFsd2F5cyB0cnVlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgYWx3YXlzID0gVFJVRTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBgY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFzIGFuIFwiYWN0aW9uXCItcHJvZHVjaW5nIG1vdXNlIGJ1dHRvbi5cbiAqXG4gKiBCeSBkZWZpbml0aW9uLCB0aGlzIGluY2x1ZGVzIGxlZnQtY2xpY2sgb24gd2luZG93cy9saW51eCwgYW5kIGxlZnQtY2xpY2tcbiAqIHdpdGhvdXQgdGhlIGN0cmwga2V5IG9uIE1hY3MuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IHZhciBtb3VzZUFjdGlvbkJ1dHRvbiA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gb3JpZ2luYWxFdmVudC5idXR0b24gPT0gMCAmJiAhKFdFQktJVCAmJiBNQUMgJiYgb3JpZ2luYWxFdmVudC5jdHJsS2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBhbHdheXMgZmFsc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gRmFsc2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgbmV2ZXIgPSBGQUxTRTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYnJvd3NlciBldmVudCBpcyBhIGBwb2ludGVybW92ZWAgZXZlbnQsIGBmYWxzZWBcbiAqIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBicm93c2VyIGV2ZW50IGlzIGEgYHBvaW50ZXJtb3ZlYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBwb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gJ3BvaW50ZXJtb3ZlJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2luZ2xlQ2xpY2sgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuU0lOR0xFQ0xJQ0s7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGRvdWJsZUNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBubyBtb2RpZmllciBrZXkgKGFsdC0sIHNoaWZ0LSBvciBwbGF0Zm9ybS1tb2RpZmllci1rZXkpIGlzXG4gKiBwcmVzc2VkLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGVyZSBubyBtb2RpZmllciBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIG5vTW9kaWZpZXJLZXlzID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKCFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgICAgICFvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5ICh0aGUgbWV0YS1rZXkgb24gTWFjLFxuICogY3RybC1rZXkgb3RoZXJ3aXNlKSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseVxuICogdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIHBsYXRmb3JtIG1vZGlmaWVyIGtleSBpcyBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBsYXRmb3JtTW9kaWZpZXJLZXlPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKCFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAoTUFDID8gb3JpZ2luYWxFdmVudC5tZXRhS2V5IDogb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuXG4gKiBhZGRpdGlvbmFsbHkgdGhlIGFsdC1rZXkgaXMgcHJlc3NlZCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IHRoZSBzaGlmdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBzaGlmdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiAoIW9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBub3QgZWRpdGFibGUsIGkuZS4gbm90IGEgYDxpbnB1dD5gLSxcbiAqIGA8c2VsZWN0PmAtIG9yIGA8dGV4dGFyZWE+YC1lbGVtZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIG9ubHkgaWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIG5vdCBlZGl0YWJsZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciB0YXJnZXROb3RFZGl0YWJsZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgdmFyIHRhZ05hbWUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChvcmlnaW5hbEV2ZW50LnRhcmdldCkudGFnTmFtZTtcbiAgICByZXR1cm4gdGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiB0YWdOYW1lICE9PSAnU0VMRUNUJyAmJiB0YWdOYW1lICE9PSAnVEVYVEFSRUEnO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgbW91c2UgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIG1vdXNlIGRldmljZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBtb3VzZU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdmVudCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpXG4gICAgICAgIC5vcmlnaW5hbEV2ZW50O1xuICAgIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09ICdtb3VzZSc7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSB0b3VjaGFibGUgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHRvdWNoYWJsZSBkZXZpY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgdG91Y2hPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBwb2ludGVyRXZ0ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKG1hcEJyb3dzZXJFdmVudClcbiAgICAgICAgLm9yaWdpbmFsRXZlbnQ7XG4gICAgYXNzZXJ0KHBvaW50ZXJFdnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgICByZXR1cm4gcG9pbnRlckV2dC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBlbk9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAobWFwQnJvd3NlckV2ZW50KVxuICAgICAgICAub3JpZ2luYWxFdmVudDtcbiAgICBhc3NlcnQocG9pbnRlckV2dCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgIC8vIHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyN3aWRsLVBvaW50ZXJFdmVudC1wb2ludGVyVHlwZVxuICAgIHJldHVybiBwb2ludGVyRXZ0LnBvaW50ZXJUeXBlID09PSAncGVuJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHByaW1hcnkgcG9pbnRlciBpblxuICogY29udGFjdCB3aXRoIHRoZSBzdXJmYWNlIG9yIGlmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkLlxuICogU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI2J1dHRvbi1zdGF0ZXMuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgcHJpbWFyeSBwb2ludGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHByaW1hcnlBY3Rpb24gPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdmVudCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpXG4gICAgICAgIC5vcmlnaW5hbEV2ZW50O1xuICAgIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LmlzUHJpbWFyeSAmJiBwb2ludGVyRXZlbnQuYnV0dG9uID09PSAwO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmRpdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXh0ZW50XG4gKi9cbmltcG9ydCBDb3JuZXIgZnJvbSAnLi9leHRlbnQvQ29ybmVyLmpzJztcbmltcG9ydCBSZWxhdGlvbnNoaXAgZnJvbSAnLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGFuIGV4dGVudDogYFttaW54LCBtaW55LCBtYXh4LCBtYXh5XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gRXh0ZW50XG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQnVpbGQgYW4gZXh0ZW50IHRoYXQgaW5jbHVkZXMgYWxsIGdpdmVuIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0V4dGVudH0gQm91bmRpbmcgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmRpbmdFeHRlbnQoY29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBleHRlbnQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geHMgWHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHlzIFlzLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZnVuY3Rpb24gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgb3B0X2V4dGVudCkge1xuICAgIHZhciBtaW5YID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeHMpO1xuICAgIHZhciBtaW5ZID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeXMpO1xuICAgIHZhciBtYXhYID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeHMpO1xuICAgIHZhciBtYXhZID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeXMpO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogUmV0dXJuIGV4dGVudCBpbmNyZWFzZWQgYnkgdGhlIHByb3ZpZGVkIHZhbHVlLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGFtb3VudCBieSB3aGljaCB0aGUgZXh0ZW50IHNob3VsZCBiZSBidWZmZXJlZC5cbiAqIEBwYXJhbSB7RXh0ZW50PX0gb3B0X2V4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcihleHRlbnQsIHZhbHVlLCBvcHRfZXh0ZW50KSB7XG4gICAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICAgICAgb3B0X2V4dGVudFswXSA9IGV4dGVudFswXSAtIHZhbHVlO1xuICAgICAgICBvcHRfZXh0ZW50WzFdID0gZXh0ZW50WzFdIC0gdmFsdWU7XG4gICAgICAgIG9wdF9leHRlbnRbMl0gPSBleHRlbnRbMl0gKyB2YWx1ZTtcbiAgICAgICAgb3B0X2V4dGVudFszXSA9IGV4dGVudFszXSArIHZhbHVlO1xuICAgICAgICByZXR1cm4gb3B0X2V4dGVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBleHRlbnRbMF0gLSB2YWx1ZSxcbiAgICAgICAgICAgIGV4dGVudFsxXSAtIHZhbHVlLFxuICAgICAgICAgICAgZXh0ZW50WzJdICsgdmFsdWUsXG4gICAgICAgICAgICBleHRlbnRbM10gKyB2YWx1ZSxcbiAgICAgICAgXTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBhbiBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBUaGUgY2xvbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShleHRlbnQsIG9wdF9leHRlbnQpIHtcbiAgICBpZiAob3B0X2V4dGVudCkge1xuICAgICAgICBvcHRfZXh0ZW50WzBdID0gZXh0ZW50WzBdO1xuICAgICAgICBvcHRfZXh0ZW50WzFdID0gZXh0ZW50WzFdO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gZXh0ZW50WzJdO1xuICAgICAgICBvcHRfZXh0ZW50WzNdID0gZXh0ZW50WzNdO1xuICAgICAgICByZXR1cm4gb3B0X2V4dGVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBleHRlbnQuc2xpY2UoKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IENsb3Nlc3Qgc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWShleHRlbnQsIHgsIHkpIHtcbiAgICB2YXIgZHgsIGR5O1xuICAgIGlmICh4IDwgZXh0ZW50WzBdKSB7XG4gICAgICAgIGR4ID0gZXh0ZW50WzBdIC0geDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXh0ZW50WzJdIDwgeCkge1xuICAgICAgICBkeCA9IHggLSBleHRlbnRbMl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkeCA9IDA7XG4gICAgfVxuICAgIGlmICh5IDwgZXh0ZW50WzFdKSB7XG4gICAgICAgIGR5ID0gZXh0ZW50WzFdIC0geTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXh0ZW50WzNdIDwgeSkge1xuICAgICAgICBkeSA9IHkgLSBleHRlbnRbM107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkeSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHBhc3NlZCBjb29yZGluYXRlIGlzIGNvbnRhaW5lZCBvciBvbiB0aGUgZWRnZSBvZiB0aGUgZXh0ZW50LlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIGluIHRoZSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0Nvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zWFkoZXh0ZW50LCBjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgb25lIGV4dGVudCBjb250YWlucyBhbm90aGVyLlxuICpcbiAqIEFuIGV4dGVudCBpcyBkZWVtZWQgY29udGFpbmVkIGlmIGl0IGxpZXMgY29tcGxldGVseSB3aXRoaW4gdGhlIG90aGVyIGV4dGVudCxcbiAqIGluY2x1ZGluZyBpZiB0aGV5IHNoYXJlIG9uZSBvciBtb3JlIGVkZ2VzLlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc2Vjb25kIGV4dGVudCBpcyBjb250YWluZWQgYnkgb3Igb24gdGhlIGVkZ2Ugb2YgdGhlXG4gKiAgICAgZmlyc3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0V4dGVudChleHRlbnQxLCBleHRlbnQyKSB7XG4gICAgcmV0dXJuIChleHRlbnQxWzBdIDw9IGV4dGVudDJbMF0gJiZcbiAgICAgICAgZXh0ZW50MlsyXSA8PSBleHRlbnQxWzJdICYmXG4gICAgICAgIGV4dGVudDFbMV0gPD0gZXh0ZW50MlsxXSAmJlxuICAgICAgICBleHRlbnQyWzNdIDw9IGV4dGVudDFbM10pO1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIG9yIG9uIHRoZSBlZGdlIG9mIHRoZSBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0geSBZIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgeCwgeSB2YWx1ZXMgYXJlIGNvbnRhaW5lZCBpbiB0aGUgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNYWShleHRlbnQsIHgsIHkpIHtcbiAgICByZXR1cm4gZXh0ZW50WzBdIDw9IHggJiYgeCA8PSBleHRlbnRbMl0gJiYgZXh0ZW50WzFdIDw9IHkgJiYgeSA8PSBleHRlbnRbM107XG59XG4vKipcbiAqIEdldCB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gYSBjb29yZGluYXRlIGFuZCBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzXCIpLmRlZmF1bHR9IFRoZSByZWxhdGlvbnNoaXAgKGJpdHdpc2UgY29tcGFyZSB3aXRoXG4gKiAgICAgaW1wb3J0KFwiLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzXCIpLlJlbGF0aW9uc2hpcCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlUmVsYXRpb25zaGlwKGV4dGVudCwgY29vcmRpbmF0ZSkge1xuICAgIHZhciBtaW5YID0gZXh0ZW50WzBdO1xuICAgIHZhciBtaW5ZID0gZXh0ZW50WzFdO1xuICAgIHZhciBtYXhYID0gZXh0ZW50WzJdO1xuICAgIHZhciBtYXhZID0gZXh0ZW50WzNdO1xuICAgIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV07XG4gICAgdmFyIHJlbGF0aW9uc2hpcCA9IFJlbGF0aW9uc2hpcC5VTktOT1dOO1xuICAgIGlmICh4IDwgbWluWCkge1xuICAgICAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuTEVGVDtcbiAgICB9XG4gICAgZWxzZSBpZiAoeCA+IG1heFgpIHtcbiAgICAgICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwIHwgUmVsYXRpb25zaGlwLlJJR0hUO1xuICAgIH1cbiAgICBpZiAoeSA8IG1pblkpIHtcbiAgICAgICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwIHwgUmVsYXRpb25zaGlwLkJFTE9XO1xuICAgIH1cbiAgICBlbHNlIGlmICh5ID4gbWF4WSkge1xuICAgICAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuQUJPVkU7XG4gICAgfVxuICAgIGlmIChyZWxhdGlvbnNoaXAgPT09IFJlbGF0aW9uc2hpcC5VTktOT1dOKSB7XG4gICAgICAgIHJlbGF0aW9uc2hpcCA9IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkc7XG4gICAgfVxuICAgIHJldHVybiByZWxhdGlvbnNoaXA7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBlbXB0eSBleHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEVtcHR5IGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5KCkge1xuICAgIHJldHVybiBbSW5maW5pdHksIEluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eV07XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBleHRlbnQgb3IgdXBkYXRlIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KSB7XG4gICAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICAgICAgb3B0X2V4dGVudFswXSA9IG1pblg7XG4gICAgICAgIG9wdF9leHRlbnRbMV0gPSBtaW5ZO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gbWF4WDtcbiAgICAgICAgb3B0X2V4dGVudFszXSA9IG1heFk7XG4gICAgICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBlbXB0eSBleHRlbnQgb3IgbWFrZSB0aGUgcHJvdmlkZWQgb25lIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVFbXB0eShvcHRfZXh0ZW50KSB7XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKEluZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHksIG9wdF9leHRlbnQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlKGNvb3JkaW5hdGUsIG9wdF9leHRlbnQpIHtcbiAgICB2YXIgeCA9IGNvb3JkaW5hdGVbMF07XG4gICAgdmFyIHkgPSBjb29yZGluYXRlWzFdO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZSh4LCB5LCB4LCB5LCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIG9wdF9leHRlbnQpIHtcbiAgICB2YXIgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShvcHRfZXh0ZW50KTtcbiAgICByZXR1cm4gZXh0ZW5kQ29vcmRpbmF0ZXMoZXh0ZW50LCBjb29yZGluYXRlcyk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRW1wdHkob3B0X2V4dGVudCk7XG4gICAgcmV0dXJuIGV4dGVuZEZsYXRDb29yZGluYXRlcyhleHRlbnQsIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gcmluZ3MgUmluZ3MuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21SaW5ncyhyaW5ncywgb3B0X2V4dGVudCkge1xuICAgIHZhciBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZUVtcHR5KG9wdF9leHRlbnQpO1xuICAgIHJldHVybiBleHRlbmRSaW5ncyhleHRlbnQsIHJpbmdzKTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHR3byBleHRlbnRzIGFyZSBlcXVpdmFsZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gZXh0ZW50cyBhcmUgZXF1aXZhbGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhleHRlbnQxLCBleHRlbnQyKSB7XG4gICAgcmV0dXJuIChleHRlbnQxWzBdID09IGV4dGVudDJbMF0gJiZcbiAgICAgICAgZXh0ZW50MVsyXSA9PSBleHRlbnQyWzJdICYmXG4gICAgICAgIGV4dGVudDFbMV0gPT0gZXh0ZW50MlsxXSAmJlxuICAgICAgICBleHRlbnQxWzNdID09IGV4dGVudDJbM10pO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdHdvIGV4dGVudHMgYXJlIGFwcHJveGltYXRlbHkgZXF1aXZhbGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZSBpbiBleHRlbnQgY29vcmRpbmF0ZSB1bml0cy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gZXh0ZW50cyBkaWZmZXIgYnkgbGVzcyB0aGFuIHRoZSB0b2xlcmFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHByb3hpbWF0ZWx5RXF1YWxzKGV4dGVudDEsIGV4dGVudDIsIHRvbGVyYW5jZSkge1xuICAgIHJldHVybiAoTWF0aC5hYnMoZXh0ZW50MVswXSAtIGV4dGVudDJbMF0pIDwgdG9sZXJhbmNlICYmXG4gICAgICAgIE1hdGguYWJzKGV4dGVudDFbMl0gLSBleHRlbnQyWzJdKSA8IHRvbGVyYW5jZSAmJlxuICAgICAgICBNYXRoLmFicyhleHRlbnQxWzFdIC0gZXh0ZW50MlsxXSkgPCB0b2xlcmFuY2UgJiZcbiAgICAgICAgTWF0aC5hYnMoZXh0ZW50MVszXSAtIGV4dGVudDJbM10pIDwgdG9sZXJhbmNlKTtcbn1cbi8qKlxuICogTW9kaWZ5IGFuIGV4dGVudCB0byBpbmNsdWRlIGFub3RoZXIgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgVGhlIGV4dGVudCB0byBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIFRoZSBleHRlbnQgdGhhdCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBmaXJzdC5cbiAqIEByZXR1cm4ge0V4dGVudH0gQSByZWZlcmVuY2UgdG8gdGhlIGZpcnN0IChleHRlbmRlZCkgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICBpZiAoZXh0ZW50MlswXSA8IGV4dGVudDFbMF0pIHtcbiAgICAgICAgZXh0ZW50MVswXSA9IGV4dGVudDJbMF07XG4gICAgfVxuICAgIGlmIChleHRlbnQyWzJdID4gZXh0ZW50MVsyXSkge1xuICAgICAgICBleHRlbnQxWzJdID0gZXh0ZW50MlsyXTtcbiAgICB9XG4gICAgaWYgKGV4dGVudDJbMV0gPCBleHRlbnQxWzFdKSB7XG4gICAgICAgIGV4dGVudDFbMV0gPSBleHRlbnQyWzFdO1xuICAgIH1cbiAgICBpZiAoZXh0ZW50MlszXSA+IGV4dGVudDFbM10pIHtcbiAgICAgICAgZXh0ZW50MVszXSA9IGV4dGVudDJbM107XG4gICAgfVxuICAgIHJldHVybiBleHRlbnQxO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gICAgaWYgKGNvb3JkaW5hdGVbMF0gPCBleHRlbnRbMF0pIHtcbiAgICAgICAgZXh0ZW50WzBdID0gY29vcmRpbmF0ZVswXTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVbMF0gPiBleHRlbnRbMl0pIHtcbiAgICAgICAgZXh0ZW50WzJdID0gY29vcmRpbmF0ZVswXTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVbMV0gPCBleHRlbnRbMV0pIHtcbiAgICAgICAgZXh0ZW50WzFdID0gY29vcmRpbmF0ZVsxXTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVbMV0gPiBleHRlbnRbM10pIHtcbiAgICAgICAgZXh0ZW50WzNdID0gY29vcmRpbmF0ZVsxXTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRDb29yZGluYXRlcyhleHRlbnQsIGNvb3JkaW5hdGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgY29vcmRpbmF0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZEZsYXRDb29yZGluYXRlcyhleHRlbnQsIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgZXh0ZW5kWFkoZXh0ZW50LCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDtcbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IHJpbmdzIFJpbmdzLlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRSaW5ncyhleHRlbnQsIHJpbmdzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmluZ3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBleHRlbmRDb29yZGluYXRlcyhleHRlbnQsIHJpbmdzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDtcbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFhZKGV4dGVudCwgeCwgeSkge1xuICAgIGV4dGVudFswXSA9IE1hdGgubWluKGV4dGVudFswXSwgeCk7XG4gICAgZXh0ZW50WzFdID0gTWF0aC5taW4oZXh0ZW50WzFdLCB5KTtcbiAgICBleHRlbnRbMl0gPSBNYXRoLm1heChleHRlbnRbMl0sIHgpO1xuICAgIGV4dGVudFszXSA9IE1hdGgubWF4KGV4dGVudFszXSwgeSk7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYGNhbGxiYWNrYCBmb3IgZWFjaCBjb3JuZXIgb2YgdGhlIGV4dGVudC4gSWYgdGhlXG4gKiBjYWxsYmFjayByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRoYXQgdmFsdWVcbiAqIGltbWVkaWF0ZWx5LiBPdGhlcndpc2UgdGhlIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFN9IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHJldHVybiB7U3xib29sZWFufSBWYWx1ZS5cbiAqIEB0ZW1wbGF0ZSBTXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoQ29ybmVyKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdmFsO1xuICAgIHZhbCA9IGNhbGxiYWNrKGdldEJvdHRvbUxlZnQoZXh0ZW50KSk7XG4gICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICB2YWwgPSBjYWxsYmFjayhnZXRCb3R0b21SaWdodChleHRlbnQpKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHZhbCA9IGNhbGxiYWNrKGdldFRvcFJpZ2h0KGV4dGVudCkpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgdmFsID0gY2FsbGJhY2soZ2V0VG9wTGVmdChleHRlbnQpKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogR2V0IHRoZSBzaXplIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShleHRlbnQpIHtcbiAgICB2YXIgYXJlYSA9IDA7XG4gICAgaWYgKCFpc0VtcHR5KGV4dGVudCkpIHtcbiAgICAgICAgYXJlYSA9IGdldFdpZHRoKGV4dGVudCkgKiBnZXRIZWlnaHQoZXh0ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGFyZWE7XG59XG4vKipcbiAqIEdldCB0aGUgYm90dG9tIGxlZnQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBCb3R0b20gbGVmdCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm90dG9tTGVmdChleHRlbnQpIHtcbiAgICByZXR1cm4gW2V4dGVudFswXSwgZXh0ZW50WzFdXTtcbn1cbi8qKlxuICogR2V0IHRoZSBib3R0b20gcmlnaHQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBCb3R0b20gcmlnaHQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdHRvbVJpZ2h0KGV4dGVudCkge1xuICAgIHJldHVybiBbZXh0ZW50WzJdLCBleHRlbnRbMV1dO1xufVxuLyoqXG4gKiBHZXQgdGhlIGNlbnRlciBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENlbnRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENlbnRlcihleHRlbnQpIHtcbiAgICByZXR1cm4gWyhleHRlbnRbMF0gKyBleHRlbnRbMl0pIC8gMiwgKGV4dGVudFsxXSArIGV4dGVudFszXSkgLyAyXTtcbn1cbi8qKlxuICogR2V0IGEgY29ybmVyIGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50L0Nvcm5lci5qc1wiKS5kZWZhdWx0fSBjb3JuZXIgQ29ybmVyLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvcm5lciBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ybmVyKGV4dGVudCwgY29ybmVyKSB7XG4gICAgdmFyIGNvb3JkaW5hdGU7XG4gICAgaWYgKGNvcm5lciA9PT0gQ29ybmVyLkJPVFRPTV9MRUZUKSB7XG4gICAgICAgIGNvb3JkaW5hdGUgPSBnZXRCb3R0b21MZWZ0KGV4dGVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvcm5lciA9PT0gQ29ybmVyLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICBjb29yZGluYXRlID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29ybmVyID09PSBDb3JuZXIuVE9QX0xFRlQpIHtcbiAgICAgICAgY29vcmRpbmF0ZSA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29ybmVyID09PSBDb3JuZXIuVE9QX1JJR0hUKSB7XG4gICAgICAgIGNvb3JkaW5hdGUgPSBnZXRUb3BSaWdodChleHRlbnQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzZXJ0KGZhbHNlLCAxMyk7IC8vIEludmFsaWQgY29ybmVyXG4gICAgfVxuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7bnVtYmVyfSBFbmxhcmdlZCBhcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5sYXJnZWRBcmVhKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICB2YXIgbWluWCA9IE1hdGgubWluKGV4dGVudDFbMF0sIGV4dGVudDJbMF0pO1xuICAgIHZhciBtaW5ZID0gTWF0aC5taW4oZXh0ZW50MVsxXSwgZXh0ZW50MlsxXSk7XG4gICAgdmFyIG1heFggPSBNYXRoLm1heChleHRlbnQxWzJdLCBleHRlbnQyWzJdKTtcbiAgICB2YXIgbWF4WSA9IE1hdGgubWF4KGV4dGVudDFbM10sIGV4dGVudDJbM10pO1xuICAgIHJldHVybiAobWF4WCAtIG1pblgpICogKG1heFkgLSBtaW5ZKTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JWaWV3QW5kU2l6ZShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGR4ID0gKHJlc29sdXRpb24gKiBzaXplWzBdKSAvIDI7XG4gICAgdmFyIGR5ID0gKHJlc29sdXRpb24gKiBzaXplWzFdKSAvIDI7XG4gICAgdmFyIGNvc1JvdGF0aW9uID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgIHZhciBzaW5Sb3RhdGlvbiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICB2YXIgeENvcyA9IGR4ICogY29zUm90YXRpb247XG4gICAgdmFyIHhTaW4gPSBkeCAqIHNpblJvdGF0aW9uO1xuICAgIHZhciB5Q29zID0gZHkgKiBjb3NSb3RhdGlvbjtcbiAgICB2YXIgeVNpbiA9IGR5ICogc2luUm90YXRpb247XG4gICAgdmFyIHggPSBjZW50ZXJbMF07XG4gICAgdmFyIHkgPSBjZW50ZXJbMV07XG4gICAgdmFyIHgwID0geCAtIHhDb3MgKyB5U2luO1xuICAgIHZhciB4MSA9IHggLSB4Q29zIC0geVNpbjtcbiAgICB2YXIgeDIgPSB4ICsgeENvcyAtIHlTaW47XG4gICAgdmFyIHgzID0geCArIHhDb3MgKyB5U2luO1xuICAgIHZhciB5MCA9IHkgLSB4U2luIC0geUNvcztcbiAgICB2YXIgeTEgPSB5IC0geFNpbiArIHlDb3M7XG4gICAgdmFyIHkyID0geSArIHhTaW4gKyB5Q29zO1xuICAgIHZhciB5MyA9IHkgKyB4U2luIC0geUNvcztcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoTWF0aC5taW4oeDAsIHgxLCB4MiwgeDMpLCBNYXRoLm1pbih5MCwgeTEsIHkyLCB5MyksIE1hdGgubWF4KHgwLCB4MSwgeDIsIHgzKSwgTWF0aC5tYXgoeTAsIHkxLCB5MiwgeTMpLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhlaWdodC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhlaWdodChleHRlbnQpIHtcbiAgICByZXR1cm4gZXh0ZW50WzNdIC0gZXh0ZW50WzFdO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7bnVtYmVyfSBJbnRlcnNlY3Rpb24gYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbkFyZWEoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50Mik7XG4gICAgcmV0dXJuIGdldEFyZWEoaW50ZXJzZWN0aW9uKTtcbn1cbi8qKlxuICogR2V0IHRoZSBpbnRlcnNlY3Rpb24gb2YgdHdvIGV4dGVudHMuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IE9wdGlvbmFsIGV4dGVudCB0byBwb3B1bGF0ZSB3aXRoIGludGVyc2VjdGlvbi5cbiAqIEByZXR1cm4ge0V4dGVudH0gSW50ZXJzZWN0aW5nIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihleHRlbnQxLCBleHRlbnQyLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGludGVyc2VjdGlvbiA9IG9wdF9leHRlbnQgPyBvcHRfZXh0ZW50IDogY3JlYXRlRW1wdHkoKTtcbiAgICBpZiAoaW50ZXJzZWN0cyhleHRlbnQxLCBleHRlbnQyKSkge1xuICAgICAgICBpZiAoZXh0ZW50MVswXSA+IGV4dGVudDJbMF0pIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblswXSA9IGV4dGVudDFbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMF0gPSBleHRlbnQyWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlbnQxWzFdID4gZXh0ZW50MlsxXSkge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzFdID0gZXh0ZW50MVsxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblsxXSA9IGV4dGVudDJbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dGVudDFbMl0gPCBleHRlbnQyWzJdKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMl0gPSBleHRlbnQxWzJdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzJdID0gZXh0ZW50MlsyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZW50MVszXSA8IGV4dGVudDJbM10pIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblszXSA9IGV4dGVudDFbM107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bM10gPSBleHRlbnQyWzNdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjcmVhdGVPclVwZGF0ZUVtcHR5KGludGVyc2VjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBpbnRlcnNlY3Rpb247XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBNYXJnaW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXJnaW4oZXh0ZW50KSB7XG4gICAgcmV0dXJuIGdldFdpZHRoKGV4dGVudCkgKyBnZXRIZWlnaHQoZXh0ZW50KTtcbn1cbi8qKlxuICogR2V0IHRoZSBzaXplICh3aWR0aCwgaGVpZ2h0KSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gVGhlIGV4dGVudCBzaXplLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShleHRlbnQpIHtcbiAgICByZXR1cm4gW2V4dGVudFsyXSAtIGV4dGVudFswXSwgZXh0ZW50WzNdIC0gZXh0ZW50WzFdXTtcbn1cbi8qKlxuICogR2V0IHRoZSB0b3AgbGVmdCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRvcCBsZWZ0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BMZWZ0KGV4dGVudCkge1xuICAgIHJldHVybiBbZXh0ZW50WzBdLCBleHRlbnRbM11dO1xufVxuLyoqXG4gKiBHZXQgdGhlIHRvcCByaWdodCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRvcCByaWdodCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wUmlnaHQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIFtleHRlbnRbMl0sIGV4dGVudFszXV07XG59XG4vKipcbiAqIEdldCB0aGUgd2lkdGggb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFdpZHRoLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkdGgoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGV4dGVudFsyXSAtIGV4dGVudFswXTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIG9uZSBleHRlbnQgaW50ZXJzZWN0cyBhbm90aGVyLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdHdvIGV4dGVudHMgaW50ZXJzZWN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0cyhleHRlbnQxLCBleHRlbnQyKSB7XG4gICAgcmV0dXJuIChleHRlbnQxWzBdIDw9IGV4dGVudDJbMl0gJiZcbiAgICAgICAgZXh0ZW50MVsyXSA+PSBleHRlbnQyWzBdICYmXG4gICAgICAgIGV4dGVudDFbMV0gPD0gZXh0ZW50MlszXSAmJlxuICAgICAgICBleHRlbnQxWzNdID49IGV4dGVudDJbMV0pO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYW4gZXh0ZW50IGlzIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGV4dGVudFsyXSA8IGV4dGVudFswXSB8fCBleHRlbnRbM10gPCBleHRlbnRbMV07XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuT3JVcGRhdGUoZXh0ZW50LCBvcHRfZXh0ZW50KSB7XG4gICAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICAgICAgb3B0X2V4dGVudFswXSA9IGV4dGVudFswXTtcbiAgICAgICAgb3B0X2V4dGVudFsxXSA9IGV4dGVudFsxXTtcbiAgICAgICAgb3B0X2V4dGVudFsyXSA9IGV4dGVudFsyXTtcbiAgICAgICAgb3B0X2V4dGVudFszXSA9IGV4dGVudFszXTtcbiAgICAgICAgcmV0dXJuIG9wdF9leHRlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZXh0ZW50O1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUZyb21DZW50ZXIoZXh0ZW50LCB2YWx1ZSkge1xuICAgIHZhciBkZWx0YVggPSAoKGV4dGVudFsyXSAtIGV4dGVudFswXSkgLyAyKSAqICh2YWx1ZSAtIDEpO1xuICAgIHZhciBkZWx0YVkgPSAoKGV4dGVudFszXSAtIGV4dGVudFsxXSkgLyAyKSAqICh2YWx1ZSAtIDEpO1xuICAgIGV4dGVudFswXSAtPSBkZWx0YVg7XG4gICAgZXh0ZW50WzJdICs9IGRlbHRhWDtcbiAgICBleHRlbnRbMV0gLT0gZGVsdGFZO1xuICAgIGV4dGVudFszXSArPSBkZWx0YVk7XG59XG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgc2VnbWVudCBiZXR3ZWVuIHR3byBjb29yZGluYXRlcyBpbnRlcnNlY3RzIChjcm9zc2VzLFxuICogdG91Y2hlcywgb3IgaXMgY29udGFpbmVkIGJ5KSB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gc3RhcnQgU2VnbWVudCBzdGFydCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZW5kIFNlZ21lbnQgZW5kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc2VnbWVudCBpbnRlcnNlY3RzIHRoZSBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzU2VnbWVudChleHRlbnQsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgaW50ZXJzZWN0cyA9IGZhbHNlO1xuICAgIHZhciBzdGFydFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBzdGFydCk7XG4gICAgdmFyIGVuZFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBlbmQpO1xuICAgIGlmIChzdGFydFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORyB8fFxuICAgICAgICBlbmRSZWwgPT09IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkcpIHtcbiAgICAgICAgaW50ZXJzZWN0cyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgbWluWCA9IGV4dGVudFswXTtcbiAgICAgICAgdmFyIG1pblkgPSBleHRlbnRbMV07XG4gICAgICAgIHZhciBtYXhYID0gZXh0ZW50WzJdO1xuICAgICAgICB2YXIgbWF4WSA9IGV4dGVudFszXTtcbiAgICAgICAgdmFyIHN0YXJ0WCA9IHN0YXJ0WzBdO1xuICAgICAgICB2YXIgc3RhcnRZID0gc3RhcnRbMV07XG4gICAgICAgIHZhciBlbmRYID0gZW5kWzBdO1xuICAgICAgICB2YXIgZW5kWSA9IGVuZFsxXTtcbiAgICAgICAgdmFyIHNsb3BlID0gKGVuZFkgLSBzdGFydFkpIC8gKGVuZFggLSBzdGFydFgpO1xuICAgICAgICB2YXIgeCA9IHZvaWQgMCwgeSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5BQk9WRSkgJiYgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5BQk9WRSkpIHtcbiAgICAgICAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgdG9wXG4gICAgICAgICAgICB4ID0gZW5kWCAtIChlbmRZIC0gbWF4WSkgLyBzbG9wZTtcbiAgICAgICAgICAgIGludGVyc2VjdHMgPSB4ID49IG1pblggJiYgeCA8PSBtYXhYO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyAmJlxuICAgICAgICAgICAgISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLlJJR0hUKSAmJlxuICAgICAgICAgICAgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5SSUdIVCkpIHtcbiAgICAgICAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgcmlnaHRcbiAgICAgICAgICAgIHkgPSBlbmRZIC0gKGVuZFggLSBtYXhYKSAqIHNsb3BlO1xuICAgICAgICAgICAgaW50ZXJzZWN0cyA9IHkgPj0gbWluWSAmJiB5IDw9IG1heFk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzICYmXG4gICAgICAgICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuQkVMT1cpICYmXG4gICAgICAgICAgICAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLkJFTE9XKSkge1xuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyBib3R0b21cbiAgICAgICAgICAgIHggPSBlbmRYIC0gKGVuZFkgLSBtaW5ZKSAvIHNsb3BlO1xuICAgICAgICAgICAgaW50ZXJzZWN0cyA9IHggPj0gbWluWCAmJiB4IDw9IG1heFg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzICYmXG4gICAgICAgICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuTEVGVCkgJiZcbiAgICAgICAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuTEVGVCkpIHtcbiAgICAgICAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgbGVmdFxuICAgICAgICAgICAgeSA9IGVuZFkgLSAoZW5kWCAtIG1pblgpICogc2xvcGU7XG4gICAgICAgICAgICBpbnRlcnNlY3RzID0geSA+PSBtaW5ZICYmIHkgPD0gbWF4WTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW50ZXJzZWN0cztcbn1cbi8qKlxuICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIENhbGxlZCB3aXRoIGBbbWluWCwgbWluWSwgbWF4WCwgbWF4WV1gIGV4dGVudCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7RXh0ZW50PX0gb3B0X2V4dGVudCBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9zdG9wcyBOdW1iZXIgb2Ygc3RvcHMgcGVyIHNpZGUgdXNlZCBmb3IgdGhlIHRyYW5zZm9ybS5cbiAqIEJ5IGRlZmF1bHQgb25seSB0aGUgY29ybmVycyBhcmUgdXNlZC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlUcmFuc2Zvcm0oZXh0ZW50LCB0cmFuc2Zvcm1Gbiwgb3B0X2V4dGVudCwgb3B0X3N0b3BzKSB7XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gW107XG4gICAgaWYgKG9wdF9zdG9wcyA+IDEpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gZXh0ZW50WzJdIC0gZXh0ZW50WzBdO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZXh0ZW50WzNdIC0gZXh0ZW50WzFdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdF9zdG9wczsgKytpKSB7XG4gICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKGV4dGVudFswXSArICh3aWR0aCAqIGkpIC8gb3B0X3N0b3BzLCBleHRlbnRbMV0sIGV4dGVudFsyXSwgZXh0ZW50WzFdICsgKGhlaWdodCAqIGkpIC8gb3B0X3N0b3BzLCBleHRlbnRbMl0gLSAod2lkdGggKiBpKSAvIG9wdF9zdG9wcywgZXh0ZW50WzNdLCBleHRlbnRbMF0sIGV4dGVudFszXSAtIChoZWlnaHQgKiBpKSAvIG9wdF9zdG9wcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvb3JkaW5hdGVzID0gW1xuICAgICAgICAgICAgZXh0ZW50WzBdLFxuICAgICAgICAgICAgZXh0ZW50WzFdLFxuICAgICAgICAgICAgZXh0ZW50WzJdLFxuICAgICAgICAgICAgZXh0ZW50WzFdLFxuICAgICAgICAgICAgZXh0ZW50WzJdLFxuICAgICAgICAgICAgZXh0ZW50WzNdLFxuICAgICAgICAgICAgZXh0ZW50WzBdLFxuICAgICAgICAgICAgZXh0ZW50WzNdLFxuICAgICAgICBdO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1Gbihjb29yZGluYXRlcywgY29vcmRpbmF0ZXMsIDIpO1xuICAgIHZhciB4cyA9IFtdO1xuICAgIHZhciB5cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgICAgIHhzLnB1c2goY29vcmRpbmF0ZXNbaV0pO1xuICAgICAgICB5cy5wdXNoKGNvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgfVxuICAgIHJldHVybiBfYm91bmRpbmdFeHRlbnRYWXMoeHMsIHlzLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogTW9kaWZpZXMgdGhlIHByb3ZpZGVkIGV4dGVudCBpbi1wbGFjZSB0byBiZSB3aXRoaW4gdGhlIHJlYWwgd29ybGRcbiAqIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uXG4gKiBAcmV0dXJuIHtFeHRlbnR9IFRoZSBleHRlbnQgd2l0aGluIHRoZSByZWFsIHdvcmxkIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBYKGV4dGVudCwgcHJvamVjdGlvbikge1xuICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICB2YXIgY2VudGVyID0gZ2V0Q2VudGVyKGV4dGVudCk7XG4gICAgaWYgKHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgICAgICAoY2VudGVyWzBdIDwgcHJvamVjdGlvbkV4dGVudFswXSB8fCBjZW50ZXJbMF0gPj0gcHJvamVjdGlvbkV4dGVudFsyXSkpIHtcbiAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgdmFyIHdvcmxkc0F3YXkgPSBNYXRoLmZsb29yKChjZW50ZXJbMF0gLSBwcm9qZWN0aW9uRXh0ZW50WzBdKSAvIHdvcmxkV2lkdGgpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gd29ybGRzQXdheSAqIHdvcmxkV2lkdGg7XG4gICAgICAgIGV4dGVudFswXSAtPSBvZmZzZXQ7XG4gICAgICAgIGV4dGVudFsyXSAtPSBvZmZzZXQ7XG4gICAgfVxuICAgIHJldHVybiBleHRlbnQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V4dGVudC9Db3JuZXJcbiAqL1xuLyoqXG4gKiBFeHRlbnQgY29ybmVyLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnLFxuICAgIEJPVFRPTV9SSUdIVDogJ2JvdHRvbS1yaWdodCcsXG4gICAgVE9QX0xFRlQ6ICd0b3AtbGVmdCcsXG4gICAgVE9QX1JJR0hUOiAndG9wLXJpZ2h0Jyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JuZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V4dGVudC9SZWxhdGlvbnNoaXBcbiAqL1xuLyoqXG4gKiBSZWxhdGlvbnNoaXAgdG8gYW4gZXh0ZW50LlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVOS05PV046IDAsXG4gICAgSU5URVJTRUNUSU5HOiAxLFxuICAgIEFCT1ZFOiAyLFxuICAgIFJJR0hUOiA0LFxuICAgIEJFTE9XOiA4LFxuICAgIExFRlQ6IDE2LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbGF0aW9uc2hpcC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZnVuY3Rpb25zXG4gKi9cbmltcG9ydCB7IGVxdWFscyBhcyBhcnJheUVxdWFscyB9IGZyb20gJy4vYXJyYXkuanMnO1xuLyoqXG4gKiBBbHdheXMgcmV0dXJucyB0cnVlLlxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUUlVFKCkge1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBBbHdheXMgcmV0dXJucyBmYWxzZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBmYWxzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZBTFNFKCkge1xuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQSByZXVzYWJsZSBmdW5jdGlvbiwgdXNlZCBlLmcuIGFzIGEgZGVmYXVsdCBmb3IgY2FsbGJhY2tzLlxuICpcbiAqIEByZXR1cm4ge3ZvaWR9IE5vdGhpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBWT0lEKCkgeyB9XG4vKipcbiAqIFdyYXAgYSBmdW5jdGlvbiBpbiBhbm90aGVyIGZ1bmN0aW9uIHRoYXQgcmVtZW1iZXJzIHRoZSBsYXN0IHJldHVybi4gIElmIHRoZVxuICogcmV0dXJuZWQgZnVuY3Rpb24gaXMgY2FsbGVkIHR3aWNlIGluIGEgcm93IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIGFuZCB0aGUgc2FtZVxuICogdGhpcyBvYmplY3QsIGl0IHdpbGwgcmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSBmaXJzdCBjYWxsIGluIHRoZSBzZWNvbmQgY2FsbC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLmFueSk6IFJldHVyblR5cGV9IGZuIFRoZSBmdW5jdGlvbiB0byBtZW1vaXplLlxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4uYW55KTogUmV0dXJuVHlwZX0gVGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQHRlbXBsYXRlIFJldHVyblR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemVPbmUoZm4pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtSZXR1cm5UeXBlfSAqL1xuICAgIHZhciBsYXN0UmVzdWx0O1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8YW55Pn0gKi9cbiAgICB2YXIgbGFzdEFyZ3M7XG4gICAgdmFyIGxhc3RUaGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0QXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICghY2FsbGVkIHx8IHRoaXMgIT09IGxhc3RUaGlzIHx8ICFhcnJheUVxdWFscyhuZXh0QXJncywgbGFzdEFyZ3MpKSB7XG4gICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICAgICAgbGFzdEFyZ3MgPSBuZXh0QXJncztcbiAgICAgICAgICAgIGxhc3RSZXN1bHQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mdW5jdGlvbnMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vR2VvbWV0cnlMYXlvdXRcbiAqL1xuLyoqXG4gKiBUaGUgY29vcmRpbmF0ZSBsYXlvdXQgZm9yIGdlb21ldHJpZXMsIGluZGljYXRpbmcgd2hldGhlciBhIDNyZCBvciA0dGggeiAoJ1onKVxuICogb3IgbWVhc3VyZSAoJ00nKSBjb29yZGluYXRlIGlzIGF2YWlsYWJsZS4gU3VwcG9ydGVkIHZhbHVlcyBhcmUgYCdYWSdgLFxuICogYCdYWVonYCwgYCdYWU0nYCwgYCdYWVpNJ2AuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgWFk6ICdYWScsXG4gICAgWFlaOiAnWFlaJyxcbiAgICBYWU06ICdYWU0nLFxuICAgIFhZWk06ICdYWVpNJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW9tZXRyeUxheW91dC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9HZW9tZXRyeVR5cGVcbiAqL1xuLyoqXG4gKiBUaGUgZ2VvbWV0cnkgdHlwZS4gT25lIG9mIGAnUG9pbnQnYCwgYCdMaW5lU3RyaW5nJ2AsIGAnTGluZWFyUmluZydgLFxuICogYCdQb2x5Z29uJ2AsIGAnTXVsdGlQb2ludCdgLCBgJ011bHRpTGluZVN0cmluZydgLCBgJ011bHRpUG9seWdvbidgLFxuICogYCdHZW9tZXRyeUNvbGxlY3Rpb24nYCwgYCdDaXJjbGUnYC5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQT0lOVDogJ1BvaW50JyxcbiAgICBMSU5FX1NUUklORzogJ0xpbmVTdHJpbmcnLFxuICAgIExJTkVBUl9SSU5HOiAnTGluZWFyUmluZycsXG4gICAgUE9MWUdPTjogJ1BvbHlnb24nLFxuICAgIE1VTFRJX1BPSU5UOiAnTXVsdGlQb2ludCcsXG4gICAgTVVMVElfTElORV9TVFJJTkc6ICdNdWx0aUxpbmVTdHJpbmcnLFxuICAgIE1VTFRJX1BPTFlHT046ICdNdWx0aVBvbHlnb24nLFxuICAgIEdFT01FVFJZX0NPTExFQ1RJT046ICdHZW9tZXRyeUNvbGxlY3Rpb24nLFxuICAgIENJUkNMRTogJ0NpcmNsZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VvbWV0cnlUeXBlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9Qb2ludFxuICovXG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7IGNvbnRhaW5zWFksIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZGVmbGF0ZUNvb3JkaW5hdGUgfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQgeyBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZER4IH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvaW50IGdlb21ldHJ5LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFBvaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb2ludCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHQ9fSBvcHRfbGF5b3V0IExheW91dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2ludChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZXRDb29yZGluYXRlcyhjb29yZGluYXRlcywgb3B0X2xheW91dCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4geyFQb2ludH0gQ2xvbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50ID0gbmV3IFBvaW50KHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCksIHRoaXMubGF5b3V0KTtcbiAgICAgICAgcG9pbnQuYXBwbHlQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgZmxhdENvb3JkaW5hdGVzWzBdLCBmbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy5zdHJpZGU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgICAgICAgIHJldHVybiBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29vcmRpbmF0ZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmZsYXRDb29yZGluYXRlcyA/IFtdIDogdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29tcHV0ZUV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIGV4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeSB0eXBlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5QT0lOVDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zWFkoZXh0ZW50LCB0aGlzLmZsYXRDb29yZGluYXRlc1swXSwgdGhpcy5mbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshQXJyYXk8Kj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0PX0gb3B0X2xheW91dCBMYXlvdXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMCk7XG4gICAgICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZGVmbGF0ZUNvb3JkaW5hdGUodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIGNvb3JkaW5hdGVzLCB0aGlzLnN0cmlkZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgcmV0dXJuIFBvaW50O1xufShTaW1wbGVHZW9tZXRyeSkpO1xuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vR2VvbWV0cnlcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZUVtcHR5LCBnZXRIZWlnaHQsIHJldHVybk9yVXBkYXRlLCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiwgZ2V0VHJhbnNmb3JtIH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBtZW1vaXplT25lIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICovXG52YXIgdG1wVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHZlY3RvciBnZW9tZXRyaWVzLlxuICpcbiAqIFRvIGdldCBub3RpZmllZCBvZiBjaGFuZ2VzIHRvIHRoZSBnZW9tZXRyeSwgcmVnaXN0ZXIgYSBsaXN0ZW5lciBmb3IgdGhlXG4gKiBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IG9uIHlvdXIgZ2VvbWV0cnkgaW5zdGFuY2UuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudF8gPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudFJldmlzaW9uXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlSZXZpc2lvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSB0cmFuc2Zvcm1lZCBhbmQgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgICogQGFic3RyYWN0XG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXZpc2lvbiBUaGUgZ2VvbWV0cnkgcmV2aXNpb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFtvcHRfdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAgICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAocmV2aXNpb24sIHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmICghb3B0X3RyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgICAgIGNsb25lLmFwcGx5VHJhbnNmb3JtKG9wdF90cmFuc2Zvcm0pO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdHJhbnNmb3JtZWQgYW5kIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3RyYW5zZm9ybV0gT3B0aW9uYWwgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5zaW1wbGlmeVRyYW5zZm9ybWVkID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsKHRoaXMuZ2V0UmV2aXNpb24oKSwgc3F1YXJlZFRvbGVyYW5jZSwgb3B0X3RyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7IUdlb21ldHJ5fSBDbG9uZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIGNvb3JkID0gdGhpcy5nZXRDbG9zZXN0UG9pbnQoW3gsIHldKTtcbiAgICAgICAgcmV0dXJuIGNvb3JkWzBdID09PSB4ICYmIGNvb3JkWzFdID09PSB5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjbG9zZXN0IHBvaW50IG9mIHRoZSBnZW9tZXRyeSB0byB0aGUgcGFzc2VkIHBvaW50IGFzXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGUgY29vcmRpbmF0ZX0uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2Nsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldENsb3Nlc3RQb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgb3B0X2Nsb3Nlc3RQb2ludCkge1xuICAgICAgICB2YXIgY2xvc2VzdFBvaW50ID0gb3B0X2Nsb3Nlc3RQb2ludCA/IG9wdF9jbG9zZXN0UG9pbnQgOiBbTmFOLCBOYU5dO1xuICAgICAgICB0aGlzLmNsb3Nlc3RQb2ludFhZKHBvaW50WzBdLCBwb2ludFsxXSwgY2xvc2VzdFBvaW50LCBJbmZpbml0eSk7XG4gICAgICAgIHJldHVybiBjbG9zZXN0UG9pbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBnZW9tZXRyeSBpbmNsdWRlcyB0aGUgc3BlY2lmaWVkIGNvb3JkaW5hdGUuIElmIHRoZVxuICAgICAqIGNvb3JkaW5hdGUgaXMgb24gdGhlIGJvdW5kYXJ5IG9mIHRoZSBnZW9tZXRyeSwgcmV0dXJucyBmYWxzZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5pbnRlcnNlY3RzQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5zWFkoY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmNvbXB1dGVFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBleHRlbnQgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAob3B0X2V4dGVudCkge1xuICAgICAgICBpZiAodGhpcy5leHRlbnRSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50ID0gdGhpcy5jb21wdXRlRXh0ZW50KHRoaXMuZXh0ZW50Xyk7XG4gICAgICAgICAgICBpZiAoaXNOYU4oZXh0ZW50WzBdKSB8fCBpc05hTihleHRlbnRbMV0pKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlT3JVcGRhdGVFbXB0eShleHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5leHRlbnRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybk9yVXBkYXRlKHRoaXMuZXh0ZW50Xywgb3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhlIGdlb21ldHJ5IGFyb3VuZCBhIGdpdmVuIGNvb3JkaW5hdGUuIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIGFuZ2xlIGluIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlLCBhbmNob3IpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBnZW9tZXRyeSAod2l0aCBhbiBvcHRpb25hbCBvcmlnaW4pLiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3ggVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9zeSBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uIChkZWZhdWx0cyB0byBzeCkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfYW5jaG9yIFRoZSBzY2FsZSBvcmlnaW4gKGRlZmF1bHRzIHRvIHRoZSBjZW50ZXJcbiAgICAgKiAgICAgb2YgdGhlIGdlb21ldHJ5IGV4dGVudCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uIChzeCwgb3B0X3N5LCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeS4gIEZvciBsaW5lc3RyaW5ncywgdGhpcyB1c2VzXG4gICAgICogdGhlIFtEb3VnbGFzIFBldWNrZXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbWVyLURvdWdsYXMtUGV1Y2tlcl9hbGdvcml0aG0pXG4gICAgICogYWxnb3JpdGhtLiAgRm9yIHBvbHlnb25zLCBhIHF1YW50aXphdGlvbi1iYXNlZFxuICAgICAqIHNpbXBsaWZpY2F0aW9uIGlzIHVzZWQgdG8gcHJlc2VydmUgdG9wb2xvZ3kuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUaGUgdG9sZXJhbmNlIGRpc3RhbmNlIGZvciBzaW1wbGlmaWNhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gQSBuZXcsIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgb3JpZ2luYWwgZ2VvbWV0cnkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5zaW1wbGlmeSA9IGZ1bmN0aW9uICh0b2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHRvbGVyYW5jZSAqIHRvbGVyYW5jZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeSB1c2luZyB0aGUgRG91Z2xhcyBQZXVja2VyXG4gICAgICogYWxnb3JpdGhtLlxuICAgICAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SYW1lci1Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkgPSBmdW5jdGlvbiAoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdHlwZSBvZiB0aGlzIGdlb21ldHJ5LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnlUeXBlLmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5IHR5cGUuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBUaGUgZ2VvbWV0cnkgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAgICogSWYgeW91IGRvIG5vdCB3YW50IHRoZSBnZW9tZXRyeSBtb2RpZmllZCBpbiBwbGFjZSwgZmlyc3QgYGNsb25lKClgIGl0IGFuZFxuICAgICAqIHRoZW4gdXNlIHRoaXMgZnVuY3Rpb24gb24gdGhlIGNsb25lLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIENhbGxlZCB3aXRoIGEgZmxhdCBhcnJheSBvZiBnZW9tZXRyeSBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodHJhbnNmb3JtRm4pIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZSB0aGUgZ2VvbWV0cnkuICBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeSBjb29yZGluYXRlcyBpbiBwbGFjZS4gIElmXG4gICAgICogaW5zdGVhZCB5b3Ugd2FudCBhIG5ldyBnZW9tZXRyeSwgZmlyc3QgYGNsb25lKClgIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWCBEZWx0YSBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVgsIGRlbHRhWSkge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGVhY2ggY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkgZnJvbSBvbmUgY29vcmRpbmF0ZSByZWZlcmVuY2VcbiAgICAgKiBzeXN0ZW0gdG8gYW5vdGhlci4gVGhlIGdlb21ldHJ5IGlzIG1vZGlmaWVkIGluIHBsYWNlLlxuICAgICAqIEZvciBleGFtcGxlLCBhIGxpbmUgd2lsbCBiZSB0cmFuc2Zvcm1lZCB0byBhIGxpbmUgYW5kIGEgY2lyY2xlIHRvIGEgY2lyY2xlLlxuICAgICAqIElmIHlvdSBkbyBub3Qgd2FudCB0aGUgZ2VvbWV0cnkgbW9kaWZpZWQgaW4gcGxhY2UsIGZpcnN0IGBjbG9uZSgpYCBpdCBhbmRcbiAgICAgKiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gc291cmNlIFRoZSBjdXJyZW50IHByb2plY3Rpb24uICBDYW4gYmUgYVxuICAgICAqICAgICBzdHJpbmcgaWRlbnRpZmllciBvciBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIFRoZSBkZXNpcmVkIHByb2plY3Rpb24uICBDYW4gYmUgYVxuICAgICAqICAgICBzdHJpbmcgaWRlbnRpZmllciBvciBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gVGhpcyBnZW9tZXRyeS4gIE5vdGUgdGhhdCBvcmlnaW5hbCBnZW9tZXRyeSBpc1xuICAgICAqICAgICBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIChzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovXG4gICAgICAgIHZhciBzb3VyY2VQcm9qID0gZ2V0UHJvamVjdGlvbihzb3VyY2UpO1xuICAgICAgICB2YXIgdHJhbnNmb3JtRm4gPSBzb3VyY2VQcm9qLmdldFVuaXRzKCkgPT0gVW5pdHMuVElMRV9QSVhFTFNcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGluQ29vcmRpbmF0ZXMsIG91dENvb3JkaW5hdGVzLCBzdHJpZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGl4ZWxFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0ZWRFeHRlbnQgPSBzb3VyY2VQcm9qLmdldFdvcmxkRXh0ZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZ2V0SGVpZ2h0KHByb2plY3RlZEV4dGVudCkgLyBnZXRIZWlnaHQocGl4ZWxFeHRlbnQpO1xuICAgICAgICAgICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0odG1wVHJhbnNmb3JtLCBwcm9qZWN0ZWRFeHRlbnRbMF0sIHByb2plY3RlZEV4dGVudFszXSwgc2NhbGUsIC1zY2FsZSwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtMkQoaW5Db29yZGluYXRlcywgMCwgaW5Db29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgdG1wVHJhbnNmb3JtLCBvdXRDb29yZGluYXRlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRyYW5zZm9ybShzb3VyY2VQcm9qLCBkZXN0aW5hdGlvbikoaW5Db29yZGluYXRlcywgb3V0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IGdldFRyYW5zZm9ybShzb3VyY2VQcm9qLCBkZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtRm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeTtcbn0oQmFzZU9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgR2VvbWV0cnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW9tZXRyeS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vU2ltcGxlR2VvbWV0cnlcbiAqL1xuaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4vR2VvbWV0cnkuanMnO1xuaW1wb3J0IEdlb21ldHJ5TGF5b3V0IGZyb20gJy4vR2VvbWV0cnlMYXlvdXQuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcywgZ2V0Q2VudGVyIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IHJvdGF0ZSwgc2NhbGUsIHRyYW5zZm9ybTJELCB0cmFuc2xhdGUgfSBmcm9tICcuL2ZsYXQvdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzOyBkbyBub3QgaW5zdGFudGlhdGVcbiAqIGluIGFwcHMsIGFzIGNhbm5vdCBiZSByZW5kZXJlZC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xudmFyIFNpbXBsZUdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVHZW9tZXRyeSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RyaWRlID0gMjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuY29tcHV0ZUV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSwgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PCo+fSBDb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBmaXJzdCBjb29yZGluYXRlIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEZpcnN0IGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRGaXJzdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgwLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRGbGF0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGFzdCBjb29yZGluYXRlIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IExhc3QgcG9pbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRMYXN0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCAtIHRoaXMuc3RyaWRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUge0BsaW5rIG1vZHVsZTpvbC9nZW9tL0dlb21ldHJ5TGF5b3V0IGxheW91dH0gb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gTGF5b3V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0TGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeSB1c2luZyB0aGUgRG91Z2xhcyBQZXVja2VyIGFsZ29yaXRobS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJuIHtTaW1wbGVHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5ID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24gIT09IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlID0gMDtcbiAgICAgICAgICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgc3F1YXJlZFRvbGVyYW5jZSBpcyBuZWdhdGl2ZSBvciBpZiB3ZSBrbm93IHRoYXQgc2ltcGxpZmljYXRpb24gd2lsbCBub3RcbiAgICAgICAgLy8gaGF2ZSBhbnkgZWZmZWN0IHRoZW4ganVzdCByZXR1cm4gdGhpcy5cbiAgICAgICAgaWYgKHNxdWFyZWRUb2xlcmFuY2UgPCAwIHx8XG4gICAgICAgICAgICAodGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlICE9PSAwICYmXG4gICAgICAgICAgICAgICAgc3F1YXJlZFRvbGVyYW5jZSA8PSB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2ltcGxpZmllZEdlb21ldHJ5ID0gdGhpcy5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbChzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgdmFyIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBzaW1wbGlmaWVkR2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGlmIChzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA8IHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHNpbXBsaWZpZWRHZW9tZXRyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNpbXBsaWZpY2F0aW9uIGRpZCBub3QgYWN0dWFsbHkgcmVtb3ZlIGFueSBjb29yZGluYXRlcy4gIFdlIG5vdyBrbm93XG4gICAgICAgICAgICAvLyB0aGF0IGFueSBjYWxscyB0byBnZXRTaW1wbGlmaWVkR2VvbWV0cnkgd2l0aCBhIHNxdWFyZWRUb2xlcmFuY2UgbGVzc1xuICAgICAgICAgICAgLy8gdGhhbiBvciBlcXVhbCB0byB0aGUgY3VycmVudCBzcXVhcmVkVG9sZXJhbmNlIHdpbGwgYWxzbyBub3QgaGF2ZSBhbnlcbiAgICAgICAgICAgIC8vIGVmZmVjdC4gIFRoaXMgYWxsb3dzIHVzIHRvIHNob3J0IGNpcmN1aXQgc2ltcGxpZmljYXRpb24gKHNhdmluZyBDUFVcbiAgICAgICAgICAgIC8vIGN5Y2xlcykgYW5kIHByZXZlbnRzIHRoZSBjYWNoZSBvZiBzaW1wbGlmaWVkIGdlb21ldHJpZXMgZnJvbSBmaWxsaW5nXG4gICAgICAgICAgICAvLyB1cCB3aXRoIHVzZWxlc3MgaWRlbnRpY2FsIGNvcGllcyBvZiB0aGlzIGdlb21ldHJ5IChzYXZpbmcgbWVtb3J5KS5cbiAgICAgICAgICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IHNxdWFyZWRUb2xlcmFuY2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7U2ltcGxlR2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBTdHJpZGUuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmdldFN0cmlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaWRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IGxheW91dCBMYXlvdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuc2V0RmxhdENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGxheW91dCwgZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgIHRoaXMuc3RyaWRlID0gZ2V0U3RyaWRlRm9yTGF5b3V0KGxheW91dCk7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gbGF5b3V0O1xuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IGZsYXRDb29yZGluYXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7IUFycmF5PCo+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBsYXlvdXQgTGF5b3V0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuZXN0aW5nIE5lc3RpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5zZXRMYXlvdXQgPSBmdW5jdGlvbiAobGF5b3V0LCBjb29yZGluYXRlcywgbmVzdGluZykge1xuICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICAgICAgdmFyIHN0cmlkZTtcbiAgICAgICAgaWYgKGxheW91dCkge1xuICAgICAgICAgICAgc3RyaWRlID0gZ2V0U3RyaWRlRm9yTGF5b3V0KGxheW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5lc3Rpbmc7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXlvdXQgPSBHZW9tZXRyeUxheW91dC5YWTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpZGUgPSAyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7QXJyYXl9ICovIChjb29yZGluYXRlc1swXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyaWRlID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgbGF5b3V0ID0gZ2V0TGF5b3V0Rm9yU3RyaWRlKHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXlvdXQgPSBsYXlvdXQ7XG4gICAgICAgIHRoaXMuc3RyaWRlID0gc3RyaWRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBUaGUgZ2VvbWV0cnkgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAgICogSWYgeW91IGRvIG5vdCB3YW50IHRoZSBnZW9tZXRyeSBtb2RpZmllZCBpbiBwbGFjZSwgZmlyc3QgYGNsb25lKClgIGl0IGFuZFxuICAgICAqIHRoZW4gdXNlIHRoaXMgZnVuY3Rpb24gb24gdGhlIGNsb25lLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIENhbGxlZCB3aXRoIGEgZmxhdCBhcnJheSBvZiBnZW9tZXRyeSBjb29yZGluYXRlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmFwcGx5VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybUZuKSB7XG4gICAgICAgIGlmICh0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdHJhbnNmb3JtRm4odGhpcy5mbGF0Q29vcmRpbmF0ZXMsIHRoaXMuZmxhdENvb3JkaW5hdGVzLCB0aGlzLnN0cmlkZSk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoZSBnZW9tZXRyeSBhcm91bmQgYSBnaXZlbiBjb29yZGluYXRlLiBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeVxuICAgICAqIGNvb3JkaW5hdGVzIGluIHBsYWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBSb3RhdGlvbiBhbmdsZSBpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgVGhlIHJvdGF0aW9uIGNlbnRlci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIChhbmdsZSwgYW5jaG9yKSB7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIHJvdGF0ZShmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgYW5nbGUsIGFuY2hvciwgZmxhdENvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgZ2VvbWV0cnkgKHdpdGggYW4gb3B0aW9uYWwgb3JpZ2luKS4gIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN4IFRoZSBzY2FsaW5nIGZhY3RvciBpbiB0aGUgeC1kaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfc3kgVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbiAoZGVmYXVsdHMgdG8gc3gpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBUaGUgc2NhbGUgb3JpZ2luIChkZWZhdWx0cyB0byB0aGUgY2VudGVyXG4gICAgICogICAgIG9mIHRoZSBnZW9tZXRyeSBleHRlbnQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoc3gsIG9wdF9zeSwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgc3kgPSBvcHRfc3k7XG4gICAgICAgIGlmIChzeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzeSA9IHN4O1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbmNob3IgPSBvcHRfYW5jaG9yO1xuICAgICAgICBpZiAoIWFuY2hvcikge1xuICAgICAgICAgICAgYW5jaG9yID0gZ2V0Q2VudGVyKHRoaXMuZ2V0RXh0ZW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIHNjYWxlKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBzeCwgc3ksIGFuY2hvciwgZmxhdENvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGUgdGhlIGdlb21ldHJ5LiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnkgY29vcmRpbmF0ZXMgaW4gcGxhY2UuICBJZlxuICAgICAqIGluc3RlYWQgeW91IHdhbnQgYSBuZXcgZ2VvbWV0cnksIGZpcnN0IGBjbG9uZSgpYCB0aGlzIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFZIERlbHRhIFkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGlmIChmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSB0aGlzLmdldFN0cmlkZSgpO1xuICAgICAgICAgICAgdHJhbnNsYXRlKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBkZWx0YVgsIGRlbHRhWSwgZmxhdENvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBsYXlvdXQgTGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXRMYXlvdXRGb3JTdHJpZGUoc3RyaWRlKSB7XG4gICAgdmFyIGxheW91dDtcbiAgICBpZiAoc3RyaWRlID09IDIpIHtcbiAgICAgICAgbGF5b3V0ID0gR2VvbWV0cnlMYXlvdXQuWFk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0cmlkZSA9PSAzKSB7XG4gICAgICAgIGxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZWjtcbiAgICB9XG4gICAgZWxzZSBpZiAoc3RyaWRlID09IDQpIHtcbiAgICAgICAgbGF5b3V0ID0gR2VvbWV0cnlMYXlvdXQuWFlaTTtcbiAgICB9XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSAqLyAobGF5b3V0KTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IGxheW91dCBMYXlvdXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFN0cmlkZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmlkZUZvckxheW91dChsYXlvdXQpIHtcbiAgICB2YXIgc3RyaWRlO1xuICAgIGlmIChsYXlvdXQgPT0gR2VvbWV0cnlMYXlvdXQuWFkpIHtcbiAgICAgICAgc3RyaWRlID0gMjtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5b3V0ID09IEdlb21ldHJ5TGF5b3V0LlhZWiB8fCBsYXlvdXQgPT0gR2VvbWV0cnlMYXlvdXQuWFlNKSB7XG4gICAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheW91dCA9PSBHZW9tZXRyeUxheW91dC5YWVpNKSB7XG4gICAgICAgIHN0cmlkZSA9IDQ7XG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHN0cmlkZSk7XG59XG4vKipcbiAqIEBwYXJhbSB7U2ltcGxlR2VvbWV0cnl9IHNpbXBsZUdlb21ldHJ5IFNpbXBsZSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9kZXN0IERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgZmxhdCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUdlb20yRChzaW1wbGVHZW9tZXRyeSwgdHJhbnNmb3JtLCBvcHRfZGVzdCkge1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBzaW1wbGVHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBpZiAoIWZsYXRDb29yZGluYXRlcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBzdHJpZGUgPSBzaW1wbGVHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTJEKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCB0cmFuc2Zvcm0sIG9wdF9kZXN0KTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBTaW1wbGVHZW9tZXRyeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbXBsZUdlb21ldHJ5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvZGVmbGF0ZVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVDb29yZGluYXRlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlLCBzdHJpZGUpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCsrXSA9IGNvb3JkaW5hdGVbaV07XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZXMsIHN0cmlkZSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSBjb29yZGluYXRlc1tpXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdHJpZGU7ICsraikge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCsrXSA9IGNvb3JkaW5hdGVbal07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gY29vcmRpbmF0ZXNzIENvb3JkaW5hdGVzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2VuZHMgRW5kcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEVuZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZXNzLCBzdHJpZGUsIG9wdF9lbmRzKSB7XG4gICAgdmFyIGVuZHMgPSBvcHRfZW5kcyA/IG9wdF9lbmRzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGNvb3JkaW5hdGVzcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIHZhciBlbmQgPSBkZWZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGVzc1tqXSwgc3RyaWRlKTtcbiAgICAgICAgZW5kc1tpKytdID0gZW5kO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIGVuZHMubGVuZ3RoID0gaTtcbiAgICByZXR1cm4gZW5kcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IGNvb3JkaW5hdGVzc3MgQ29vcmRpbmF0ZXNzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pj19IG9wdF9lbmRzcyBFbmRzcy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PG51bWJlcj4+fSBFbmRzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGVzc3MsIHN0cmlkZSwgb3B0X2VuZHNzKSB7XG4gICAgdmFyIGVuZHNzID0gb3B0X2VuZHNzID8gb3B0X2VuZHNzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGNvb3JkaW5hdGVzc3MubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICB2YXIgZW5kcyA9IGRlZmxhdGVDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlc3NzW2pdLCBzdHJpZGUsIGVuZHNzW2ldKTtcbiAgICAgICAgZW5kc3NbaSsrXSA9IGVuZHM7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgZW5kc3MubGVuZ3RoID0gaTtcbiAgICByZXR1cm4gZW5kc3M7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZsYXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvdHJhbnNmb3JtXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9kZXN0IERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm0yRChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHRyYW5zZm9ybSwgb3B0X2Rlc3QpIHtcbiAgICB2YXIgZGVzdCA9IG9wdF9kZXN0ID8gb3B0X2Rlc3QgOiBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICh2YXIgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHggPSBmbGF0Q29vcmRpbmF0ZXNbal07XG4gICAgICAgIHZhciB5ID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXTtcbiAgICAgICAgZGVzdFtpKytdID0gdHJhbnNmb3JtWzBdICogeCArIHRyYW5zZm9ybVsyXSAqIHkgKyB0cmFuc2Zvcm1bNF07XG4gICAgICAgIGRlc3RbaSsrXSA9IHRyYW5zZm9ybVsxXSAqIHggKyB0cmFuc2Zvcm1bM10gKiB5ICsgdHJhbnNmb3JtWzVdO1xuICAgIH1cbiAgICBpZiAob3B0X2Rlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgICAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIEFuZ2xlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgUm90YXRpb24gYW5jaG9yIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2Rlc3QgRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGFuZ2xlLCBhbmNob3IsIG9wdF9kZXN0KSB7XG4gICAgdmFyIGRlc3QgPSBvcHRfZGVzdCA/IG9wdF9kZXN0IDogW107XG4gICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIHZhciBhbmNob3JYID0gYW5jaG9yWzBdO1xuICAgIHZhciBhbmNob3JZID0gYW5jaG9yWzFdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gZmxhdENvb3JkaW5hdGVzW2pdIC0gYW5jaG9yWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gLSBhbmNob3JZO1xuICAgICAgICBkZXN0W2krK10gPSBhbmNob3JYICsgZGVsdGFYICogY29zIC0gZGVsdGFZICogc2luO1xuICAgICAgICBkZXN0W2krK10gPSBhbmNob3JZICsgZGVsdGFYICogc2luICsgZGVsdGFZICogY29zO1xuICAgICAgICBmb3IgKHZhciBrID0gaiArIDI7IGsgPCBqICsgc3RyaWRlOyArK2spIHtcbiAgICAgICAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1trXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0X2Rlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgICAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufVxuLyoqXG4gKiBTY2FsZSB0aGUgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciBpbiB0aGUgeC1kaXJlY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYW5jaG9yIFNjYWxlIGFuY2hvciBwb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9kZXN0IERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHN4LCBzeSwgYW5jaG9yLCBvcHRfZGVzdCkge1xuICAgIHZhciBkZXN0ID0gb3B0X2Rlc3QgPyBvcHRfZGVzdCA6IFtdO1xuICAgIHZhciBhbmNob3JYID0gYW5jaG9yWzBdO1xuICAgIHZhciBhbmNob3JZID0gYW5jaG9yWzFdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gZmxhdENvb3JkaW5hdGVzW2pdIC0gYW5jaG9yWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gLSBhbmNob3JZO1xuICAgICAgICBkZXN0W2krK10gPSBhbmNob3JYICsgc3ggKiBkZWx0YVg7XG4gICAgICAgIGRlc3RbaSsrXSA9IGFuY2hvclkgKyBzeSAqIGRlbHRhWTtcbiAgICAgICAgZm9yICh2YXIgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICAgICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICAgICAgZGVzdC5sZW5ndGggPSBpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9kZXN0IERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBkZWx0YVgsIGRlbHRhWSwgb3B0X2Rlc3QpIHtcbiAgICB2YXIgZGVzdCA9IG9wdF9kZXN0ID8gb3B0X2Rlc3QgOiBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICh2YXIgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2pdICsgZGVsdGFYO1xuICAgICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNbaiArIDFdICsgZGVsdGFZO1xuICAgICAgICBmb3IgKHZhciBrID0gaiArIDI7IGsgPCBqICsgc3RyaWRlOyArK2spIHtcbiAgICAgICAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1trXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0X2Rlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgICAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9oYXNcbiAqL1xudmFyIHVhID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQgIT09ICd1bmRlZmluZWQnXG4gICAgPyBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKClcbiAgICA6ICcnO1xuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggRmlyZWZveCBhcyBicm93c2VyLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgRklSRUZPWCA9IHVhLmluZGV4T2YoJ2ZpcmVmb3gnKSAhPT0gLTE7XG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBTYWZhcmkgYXMgYnJvd3Nlci5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIFNBRkFSSSA9IHVhLmluZGV4T2YoJ3NhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdjaHJvbScpID09IC0xO1xuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBXZWJLaXQgZW5naW5lLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgV0VCS0lUID0gdWEuaW5kZXhPZignd2Via2l0JykgIT09IC0xICYmIHVhLmluZGV4T2YoJ2VkZ2UnKSA9PSAtMTtcbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgTWFjIGFzIHBsYXRmb3JtLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgTUFDID0gdWEuaW5kZXhPZignbWFjaW50b3NoJykgIT09IC0xO1xuLyoqXG4gKiBUaGUgcmF0aW8gYmV0d2VlbiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHNcbiAqIChkaXBzKSBvbiB0aGUgZGV2aWNlIChgd2luZG93LmRldmljZVBpeGVsUmF0aW9gKS5cbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBERVZJQ0VfUElYRUxfUkFUSU8gPSB0eXBlb2YgZGV2aWNlUGl4ZWxSYXRpbyAhPT0gJ3VuZGVmaW5lZCcgPyBkZXZpY2VQaXhlbFJhdGlvIDogMTtcbi8qKlxuICogVGhlIGV4ZWN1dGlvbiBjb250ZXh0IGlzIGEgd29ya2VyIHdpdGggT2Zmc2NyZWVuQ2FudmFzIGF2YWlsYWJsZS5cbiAqIEBjb25zdFxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgPSB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIE9mZnNjcmVlbkNhbnZhcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGU7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuLyoqXG4gKiBJbWFnZS5wcm90b3R5cGUuZGVjb2RlKCkgaXMgc3VwcG9ydGVkLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgSU1BR0VfREVDT0RFID0gdHlwZW9mIEltYWdlICE9PSAndW5kZWZpbmVkJyAmJiBJbWFnZS5wcm90b3R5cGUuZGVjb2RlO1xuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhc3NpdmUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignXycsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignXycsIG51bGwsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gcGFzc2l2ZSBub3Qgc3VwcG9ydGVkXG4gICAgfVxuICAgIHJldHVybiBwYXNzaXZlO1xufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhcy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb25Qcm9wZXJ0eSBmcm9tICcuL1Byb3BlcnR5LmpzJztcbmltcG9ydCB7IGVhc2VPdXQsIGxpbmVhciB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggY29uZmlnIG9wdGlvbnMgZm9yIGludGVyYWN0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEludGVyYWN0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gaGFuZGxlRXZlbnRcbiAqIE1ldGhvZCBjYWxsZWQgYnkgdGhlIG1hcCB0byBub3RpZnkgdGhlIGludGVyYWN0aW9uIHRoYXQgYSBicm93c2VyIGV2ZW50IHdhc1xuICogZGlzcGF0Y2hlZCB0byB0aGUgbWFwLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBwcm9wYWdhdGlvbiBvZlxuICogdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zIGNoYWluIHdpbGwgYmVcbiAqIHByZXZlbnRlZCAodGhpcyBpbmNsdWRlcyBmdW5jdGlvbnMgd2l0aCBubyBleHBsaWNpdCByZXR1cm4pLiBUaGUgaW50ZXJhY3Rpb25zXG4gKiBhcmUgdHJhdmVyc2VkIGluIHJldmVyc2Ugb3JkZXIgb2YgdGhlIGludGVyYWN0aW9ucyBjb2xsZWN0aW9uIG9mIHRoZSBtYXAuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogVXNlciBhY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSBzdGF0ZSBvZiB0aGUgbWFwLiBTb21lIGFyZSBzaW1pbGFyIHRvIGNvbnRyb2xzLFxuICogYnV0IGFyZSBub3QgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQuXG4gKiBGb3IgZXhhbXBsZSwge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfSBpc1xuICogZnVuY3Rpb25hbGx5IHRoZSBzYW1lIGFzIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LCBidXQgdHJpZ2dlcmVkXG4gKiBieSBhIGtleWJvYXJkIGV2ZW50IG5vdCBhIGJ1dHRvbiBlbGVtZW50IGV2ZW50LlxuICogQWx0aG91Z2ggaW50ZXJhY3Rpb25zIGRvIG5vdCBoYXZlIGEgRE9NIGVsZW1lbnQsIHNvbWUgb2YgdGhlbSBkbyByZW5kZXJcbiAqIHZlY3RvcnMgYW5kIHNvIGFyZSB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gKiBAYXBpXG4gKi9cbnZhciBJbnRlcmFjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJhY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtJbnRlcmFjdGlvbk9wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIGlmIChvcHRfb3B0aW9ucyAmJiBvcHRfb3B0aW9ucy5oYW5kbGVFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlRXZlbnQgPSBvcHRfb3B0aW9ucy5oYW5kbGVFdmVudDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwXyA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUgaW50ZXJhY3Rpb24gaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLmdldEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHRoaXMuZ2V0KEludGVyYWN0aW9uUHJvcGVydHkuQUNUSVZFKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnRlcmFjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbi5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSBvciBkZWFjdGl2YXRlIHRoZSBpbnRlcmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFjdGl2ZSBBY3RpdmUuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldEFjdGl2ZSA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5zZXQoSW50ZXJhY3Rpb25Qcm9wZXJ0eS5BQ1RJVkUsIGFjdGl2ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGludGVyYWN0aW9uIGZyb20gaXRzIGN1cnJlbnQgbWFwIGFuZCBhdHRhY2ggaXQgdG8gdGhlIG5ldyBtYXAuXG4gICAgICogU3ViY2xhc3NlcyBtYXkgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGdldCBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvXG4gICAgICogdGhlIG1hcCBoZXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgdGhpcy5tYXBfID0gbWFwO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9kdXJhdGlvbiBEdXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhbih2aWV3LCBkZWx0YSwgb3B0X2R1cmF0aW9uKSB7XG4gICAgdmFyIGN1cnJlbnRDZW50ZXIgPSB2aWV3LmdldENlbnRlckludGVybmFsKCk7XG4gICAgaWYgKGN1cnJlbnRDZW50ZXIpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IFtjdXJyZW50Q2VudGVyWzBdICsgZGVsdGFbMF0sIGN1cnJlbnRDZW50ZXJbMV0gKyBkZWx0YVsxXV07XG4gICAgICAgIHZpZXcuYW5pbWF0ZUludGVybmFsKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRfZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9kdXJhdGlvbiA6IDI1MCxcbiAgICAgICAgICAgIGVhc2luZzogbGluZWFyLFxuICAgICAgICAgICAgY2VudGVyOiB2aWV3LmdldENvbnN0cmFpbmVkQ2VudGVyKGNlbnRlciksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9IHZpZXcgVmlldy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YSBmcm9tIHByZXZpb3VzIHpvb20gbGV2ZWwuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgQW5jaG9yIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2R1cmF0aW9uIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIG9wdF9hbmNob3IsIG9wdF9kdXJhdGlvbikge1xuICAgIHZhciBjdXJyZW50Wm9vbSA9IHZpZXcuZ2V0Wm9vbSgpO1xuICAgIGlmIChjdXJyZW50Wm9vbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5ld1pvb20gPSB2aWV3LmdldENvbnN0cmFpbmVkWm9vbShjdXJyZW50Wm9vbSArIGRlbHRhKTtcbiAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHZpZXcuZ2V0UmVzb2x1dGlvbkZvclpvb20obmV3Wm9vbSk7XG4gICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgIGFuY2hvcjogb3B0X2FuY2hvcixcbiAgICAgICAgZHVyYXRpb246IG9wdF9kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X2R1cmF0aW9uIDogMjUwLFxuICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBJbnRlcmFjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUG9pbnRlclxuICovXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IGdldFZhbHVlcyB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVEb3duRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcImRvd25cIiBldmVudHMuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCB0aGVuIGEgZHJhZ1xuICogc2VxdWVuY2UgaXMgc3RhcnRlZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtoYW5kbGVEcmFnRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcImRyYWdcIiBldmVudHMuIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIFwibW92ZVwiIGV2ZW50c1xuICogZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVFdmVudF1cbiAqIE1ldGhvZCBjYWxsZWQgYnkgdGhlIG1hcCB0byBub3RpZnkgdGhlIGludGVyYWN0aW9uIHRoYXQgYSBicm93c2VyIGV2ZW50IHdhc1xuICogZGlzcGF0Y2hlZCB0byB0aGUgbWFwLiBUaGUgZnVuY3Rpb24gbWF5IHJldHVybiBgZmFsc2VgIHRvIHByZXZlbnQgdGhlXG4gKiBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zIGluIHRoZSBtYXAncyBpbnRlcmFjdGlvbnNcbiAqIGNoYWluLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW2hhbmRsZU1vdmVFdmVudF1cbiAqIEZ1bmN0aW9uIGhhbmRsaW5nIFwibW92ZVwiIGV2ZW50cy4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgb24gXCJtb3ZlXCIgZXZlbnRzLlxuICogVGhpcyBmdW5jdGlvbnMgaXMgYWxzbyBjYWxsZWQgZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZSwgc28gZHVyaW5nIGEgZHJhZ1xuICogc2VxdWVuY2UgYm90aCB0aGUgYGhhbmRsZURyYWdFdmVudGAgZnVuY3Rpb24gYW5kIHRoaXMgZnVuY3Rpb24gYXJlIGNhbGxlZC5cbiAqIElmIGBoYW5kbGVEb3duRXZlbnRgIGlzIGRlZmluZWQgYW5kIGl0IHJldHVybnMgdHJ1ZSB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90XG4gKiBiZSBjYWxsZWQgZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVVcEV2ZW50XVxuICogIEZ1bmN0aW9uIGhhbmRsaW5nIFwidXBcIiBldmVudHMuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAgdGhlbiB0aGVcbiAqIGN1cnJlbnQgZHJhZyBzZXF1ZW5jZSBpcyBzdG9wcGVkLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihib29sZWFuKTpib29sZWFufSBbc3RvcERvd25dXG4gKiBTaG91bGQgdGhlIGRvd24gZXZlbnQgYmUgcHJvcGFnYXRlZCB0byBvdGhlciBpbnRlcmFjdGlvbnMsIG9yIHNob3VsZCBiZVxuICogc3RvcHBlZD9cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIHRoYXQgY2FsbHMgdXNlci1kZWZpbmVkIGZ1bmN0aW9ucyBvbiBgZG93bmAsIGBtb3ZlYCBhbmQgYHVwYFxuICogZXZlbnRzLiBUaGlzIGNsYXNzIGFsc28gbWFuYWdlcyBcImRyYWcgc2VxdWVuY2VzXCIuXG4gKlxuICogV2hlbiB0aGUgYGhhbmRsZURvd25FdmVudGAgdXNlciBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBhIGRyYWcgc2VxdWVuY2UgaXNcbiAqIHN0YXJ0ZWQuIER1cmluZyBhIGRyYWcgc2VxdWVuY2UgdGhlIGBoYW5kbGVEcmFnRXZlbnRgIHVzZXIgZnVuY3Rpb24gaXNcbiAqIGNhbGxlZCBvbiBgbW92ZWAgZXZlbnRzLiBUaGUgZHJhZyBzZXF1ZW5jZSBlbmRzIHdoZW4gdGhlIGBoYW5kbGVVcEV2ZW50YFxuICogdXNlciBmdW5jdGlvbiBpcyBjYWxsZWQgYW5kIHJldHVybnMgYGZhbHNlYC5cbiAqIEBhcGlcbiAqL1xudmFyIFBvaW50ZXJJbnRlcmFjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUG9pbnRlckludGVyYWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnRlckludGVyYWN0aW9uKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuSW50ZXJhY3Rpb25PcHRpb25zfSAqLyAob3B0aW9ucykpIHx8IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zLmhhbmRsZURvd25FdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlRG93bkV2ZW50ID0gb3B0aW9ucy5oYW5kbGVEb3duRXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFuZGxlRHJhZ0V2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVEcmFnRXZlbnQgPSBvcHRpb25zLmhhbmRsZURyYWdFdmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5oYW5kbGVNb3ZlRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZU1vdmVFdmVudCA9IG9wdGlvbnMuaGFuZGxlTW92ZUV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmhhbmRsZVVwRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZVVwRXZlbnQgPSBvcHRpb25zLmhhbmRsZVVwRXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgICAgICAgIF90aGlzLnN0b3BEb3duID0gb3B0aW9ucy5zdG9wRG93bjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgUG9pbnRlckV2ZW50Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYWNrZWRQb2ludGVyc18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxQb2ludGVyRXZlbnQ+fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRQb2ludGVycyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbnVtYmVyIG9mIHBvaW50ZXJzIGludm9sdmVkIGluIHRoZSBpbnRlcmFjdGlvbixcbiAgICAgKiBlLmcuIGAyYCB3aGVuIHR3byBmaW5nZXJzIGFyZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBwb2ludGVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5nZXRQb2ludGVyQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHsgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gYW5kIG1heSBjYWxsIGludG9cbiAgICAgKiBvdGhlciBmdW5jdGlvbnMsIGlmIGV2ZW50IHNlcXVlbmNlcyBsaWtlIGUuZy4gJ2RyYWcnIG9yICdkb3duLXVwJyBldGMuIGFyZVxuICAgICAqIGRldGVjdGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFja2VkUG9pbnRlcnNfKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIGlmICh0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UpIHtcbiAgICAgICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJEUkFHKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEcmFnRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IHBhZ2Ugc2Nyb2xsaW5nIGR1cmluZyBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCkge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVkVXAgPSB0aGlzLmhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UgPVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkVXAgJiYgdGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlZCA9IHRoaXMuaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlID0gaGFuZGxlZDtcbiAgICAgICAgICAgICAgICBzdG9wRXZlbnQgPSB0aGlzLnN0b3BEb3duKGhhbmRsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZUV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBtb3ZlIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlTW92ZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIFwiZG93blwiIGV2ZW50cyBzaG91bGQgYmUgcHJvcGFnYXRlZFxuICAgICAqIHRvIG90aGVyIGludGVyYWN0aW9ucyBvciBzaG91bGQgYmUgc3RvcHBlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhbmRsZWQgV2FzIHRoZSBldmVudCBoYW5kbGVkIGJ5IHRoZSBpbnRlcmFjdGlvbj9cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBTaG91bGQgdGhlIGBkb3duYCBldmVudCBiZSBzdG9wcGVkP1xuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuc3RvcERvd24gPSBmdW5jdGlvbiAoaGFuZGxlZCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUudXBkYXRlVHJhY2tlZFBvaW50ZXJzXyA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKGlzUG9pbnRlckRyYWdnaW5nRXZlbnQobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgdmFyIGV2ZW50XzEgPSBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIHZhciBpZCA9IGV2ZW50XzEucG9pbnRlcklkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy50cmFja2VkUG9pbnRlcnNfW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrZWRQb2ludGVyc19baWRdID0gZXZlbnRfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlkIGluIHRoaXMudHJhY2tlZFBvaW50ZXJzXykge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBvbmx5IHdoZW4gdGhlcmUgd2FzIGEgcG9pbnRlcmRvd24gZXZlbnQgZm9yIHRoaXMgcG9pbnRlclxuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tlZFBvaW50ZXJzX1tpZF0gPSBldmVudF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50YXJnZXRQb2ludGVycyA9IGdldFZhbHVlcyh0aGlzLnRyYWNrZWRQb2ludGVyc18pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnRlckludGVyYWN0aW9uO1xufShJbnRlcmFjdGlvbikpO1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFBvaW50ZXJFdmVudD59IHBvaW50ZXJFdmVudHMgTGlzdCBvZiBldmVudHMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gQ2VudHJvaWQgcGl4ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjZW50cm9pZChwb2ludGVyRXZlbnRzKSB7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50ZXJFdmVudHMubGVuZ3RoO1xuICAgIHZhciBjbGllbnRYID0gMDtcbiAgICB2YXIgY2xpZW50WSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjbGllbnRYICs9IHBvaW50ZXJFdmVudHNbaV0uY2xpZW50WDtcbiAgICAgICAgY2xpZW50WSArPSBwb2ludGVyRXZlbnRzW2ldLmNsaWVudFk7XG4gICAgfVxuICAgIHJldHVybiBbY2xpZW50WCAvIGxlbmd0aCwgY2xpZW50WSAvIGxlbmd0aF07XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGV2ZW50IGlzIGEgcG9pbnRlcmRvd24sIHBvaW50ZXJkcmFnXG4gKiAgICAgb3IgcG9pbnRlcnVwIGV2ZW50LlxuICovXG5mdW5jdGlvbiBpc1BvaW50ZXJEcmFnZ2luZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciB0eXBlID0gbWFwQnJvd3NlckV2ZW50LnR5cGU7XG4gICAgcmV0dXJuICh0eXBlID09PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJET1dOIHx8XG4gICAgICAgIHR5cGUgPT09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcgfHxcbiAgICAgICAgdHlwZSA9PT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVApO1xufVxuZXhwb3J0IGRlZmF1bHQgUG9pbnRlckludGVyYWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnRlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQUNUSVZFOiAnYWN0aXZlJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm9wZXJ0eS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1NlbGVjdFxuICovXG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7IFRSVUUgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgY3JlYXRlRWRpdGluZ1N0eWxlIH0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuaW1wb3J0IHsgZXh0ZW5kLCBpbmNsdWRlcyB9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgbmV2ZXIsIHNoaWZ0S2V5T25seSwgc2luZ2xlQ2xpY2sgfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFNlbGVjdEV2ZW50VHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBmZWF0dXJlKHMpIGhhcyBiZWVuIChkZSlzZWxlY3RlZC5cbiAgICAgKiBAZXZlbnQgU2VsZWN0RXZlbnQjc2VsZWN0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNFTEVDVDogJ3NlbGVjdCcsXG59O1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBvclxuICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRmVhdHVyZX0gYW5kIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfSBhbmQgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGZlYXR1cmUgbWF5IGJlXG4gKiBzZWxlY3RlZCBvciBgZmFsc2VgIG90aGVyd2lzZS5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBGaWx0ZXJGdW5jdGlvblxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFthZGRDb25kaXRpb25dIEEgZnVuY3Rpb25cbiAqIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIEJ5IGRlZmF1bHQsIHRoaXMgaXMge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufm5ldmVyfS4gVXNlIHRoaXMgaWYgeW91XG4gKiB3YW50IHRvIHVzZSBkaWZmZXJlbnQgZXZlbnRzIGZvciBhZGQgYW5kIHJlbW92ZSBpbnN0ZWFkIG9mIGB0b2dnbGVgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBUaGlzIGlzIHRoZSBldmVudFxuICogZm9yIHRoZSBzZWxlY3RlZCBmZWF0dXJlcyBhcyBhIHdob2xlLiBCeSBkZWZhdWx0LCB0aGlzIGlzXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+c2luZ2xlQ2xpY2t9LiBDbGlja2luZyBvbiBhIGZlYXR1cmUgc2VsZWN0cyB0aGF0XG4gKiBmZWF0dXJlIGFuZCByZW1vdmVzIGFueSB0aGF0IHdlcmUgaW4gdGhlIHNlbGVjdGlvbi4gQ2xpY2tpbmcgb3V0c2lkZSBhbnlcbiAqIGZlYXR1cmUgcmVtb3ZlcyBhbGwgZnJvbSB0aGUgc2VsZWN0aW9uLlxuICogU2VlIGB0b2dnbGVgLCBgYWRkYCwgYHJlbW92ZWAgb3B0aW9ucyBmb3IgYWRkaW5nL3JlbW92aW5nIGV4dHJhIGZlYXR1cmVzIHRvL1xuICogZnJvbSB0aGUgc2VsZWN0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0PnxmdW5jdGlvbihpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gW2xheWVyc11cbiAqIEEgbGlzdCBvZiBsYXllcnMgZnJvbSB3aGljaCBmZWF0dXJlcyBzaG91bGQgYmUgc2VsZWN0ZWQuIEFsdGVybmF0aXZlbHksIGFcbiAqIGZpbHRlciBmdW5jdGlvbiBjYW4gYmUgcHJvdmlkZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBsYXllclxuICogaW4gdGhlIG1hcCBhbmQgc2hvdWxkIHJldHVybiBgdHJ1ZWAgZm9yIGxheWVycyB0aGF0IHlvdSB3YW50IHRvIGJlXG4gKiBzZWxlY3RhYmxlLiBJZiB0aGUgb3B0aW9uIGlzIGFic2VudCwgYWxsIHZpc2libGUgbGF5ZXJzIHdpbGwgYmUgY29uc2lkZXJlZFxuICogc2VsZWN0YWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx9IFtzdHlsZV1cbiAqIFN0eWxlIGZvciB0aGUgc2VsZWN0ZWQgZmVhdHVyZXMuIEJ5IGRlZmF1bHQgdGhlIGRlZmF1bHQgZWRpdCBzdHlsZSBpcyB1c2VkXG4gKiAoc2VlIHtAbGluayBtb2R1bGU6b2wvc3R5bGV9KS4gU2V0IHRvIGBudWxsYCBpZiB0aGlzIGludGVyYWN0aW9uIHNob3VsZCBub3QgYXBwbHlcbiAqIGFueSBzdHlsZSBjaGFuZ2VzIGZvciBzZWxlY3RlZCBmZWF0dXJlcy5cbiAqIElmIHNldCB0byBhIGZhbHNleSB2YWx1ZSwgdGhlIHNlbGVjdGVkIGZlYXR1cmUncyBzdHlsZSB3aWxsIG5vdCBjaGFuZ2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbcmVtb3ZlQ29uZGl0aW9uXSBBIGZ1bmN0aW9uXG4gKiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5uZXZlcn0uIFVzZSB0aGlzIGlmIHlvdVxuICogd2FudCB0byB1c2UgZGlmZmVyZW50IGV2ZW50cyBmb3IgYWRkIGFuZCByZW1vdmUgaW5zdGVhZCBvZiBgdG9nZ2xlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFt0b2dnbGVDb25kaXRpb25dIEEgZnVuY3Rpb25cbiAqIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gVGhpcyBpcyBpbiBhZGRpdGlvblxuICogdG8gdGhlIGBjb25kaXRpb25gIGV2ZW50LiBCeSBkZWZhdWx0LFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufnNoaWZ0S2V5T25seX0sIGkuZS4gcHJlc3NpbmcgYHNoaWZ0YCBhc1xuICogd2VsbCBhcyB0aGUgYGNvbmRpdGlvbmAgZXZlbnQsIGFkZHMgdGhhdCBmZWF0dXJlIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpZlxuICogaXQgaXMgbm90IGN1cnJlbnRseSBzZWxlY3RlZCwgYW5kIHJlbW92ZXMgaXQgaWYgaXQgaXMuIFNlZSBgYWRkYCBhbmQgYHJlbW92ZWBcbiAqIGlmIHlvdSB3YW50IHRvIHVzZSBkaWZmZXJlbnQgZXZlbnRzIGluc3RlYWQgb2YgYSB0b2dnbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttdWx0aT1mYWxzZV0gQSBib29sZWFuIHRoYXQgZGV0ZXJtaW5lcyBpZiB0aGUgZGVmYXVsdFxuICogYmVoYXZpb3VyIHNob3VsZCBzZWxlY3Qgb25seSBzaW5nbGUgZmVhdHVyZXMgb3IgYWxsIChvdmVybGFwcGluZykgZmVhdHVyZXMgYXRcbiAqIHRoZSBjbGlja2VkIG1hcCBwb3NpdGlvbi4gVGhlIGRlZmF1bHQgb2YgYGZhbHNlYCBtZWFucyBzaW5nbGUgc2VsZWN0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gW2ZlYXR1cmVzXVxuICogQ29sbGVjdGlvbiB3aGVyZSB0aGUgaW50ZXJhY3Rpb24gd2lsbCBwbGFjZSBzZWxlY3RlZCBmZWF0dXJlcy4gT3B0aW9uYWwuIElmXG4gKiBub3Qgc2V0IHRoZSBpbnRlcmFjdGlvbiB3aWxsIGNyZWF0ZSBhIGNvbGxlY3Rpb24uIEluIGFueSBjYXNlIHRoZSBjb2xsZWN0aW9uXG4gKiB1c2VkIGJ5IHRoZSBpbnRlcmFjdGlvbiBpcyByZXR1cm5lZCBieVxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9TZWxlY3R+U2VsZWN0I2dldEZlYXR1cmVzfS5cbiAqIEBwcm9wZXJ0eSB7RmlsdGVyRnVuY3Rpb259IFtmaWx0ZXJdIEEgZnVuY3Rpb25cbiAqIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBhbmQgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ9IGFuZCByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZmVhdHVyZSBtYXkgYmVcbiAqIHNlbGVjdGVkIG9yIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoaXRUb2xlcmFuY2U9MF0gSGl0LWRldGVjdGlvbiB0b2xlcmFuY2UuIFBpeGVscyBpbnNpZGVcbiAqIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvbiB3aWxsIGJlIGNoZWNrZWQgZm9yIGZlYXR1cmVzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vU2VsZWN0flNlbGVjdH0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2ZcbiAqIHRoaXMgdHlwZS5cbiAqL1xudmFyIFNlbGVjdEV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTZWxlY3RFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1NlbGVjdEV2ZW50VHlwZX0gdHlwZSBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IHNlbGVjdGVkIFNlbGVjdGVkIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZGVzZWxlY3RlZCBEZXNlbGVjdGVkIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBBc3NvY2lhdGVkXG4gICAgICogICAgIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZWxlY3RFdmVudCh0eXBlLCBzZWxlY3RlZCwgZGVzZWxlY3RlZCwgbWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RlZCBmZWF0dXJlcyBhcnJheS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNlbGVjdGVkIGZlYXR1cmVzIGFycmF5LlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVzZWxlY3RlZCA9IGRlc2VsZWN0ZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc3NvY2lhdGVkIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fS5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBCcm93c2VyRXZlbnQgPSBtYXBCcm93c2VyRXZlbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNlbGVjdEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgU2VsZWN0RXZlbnQgfTtcbi8qKlxuICogT3JpZ2luYWwgZmVhdHVyZSBzdHlsZXMgdG8gcmVzZXQgdG8gd2hlbiBmZWF0dXJlcyBhcmUgbm8gbG9uZ2VyIHNlbGVjdGVkLlxuICogQHR5cGUge09iamVjdC48bnVtYmVyLCBpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5LjxpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0PnxpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9uPn1cbiAqL1xudmFyIG9yaWdpbmFsRmVhdHVyZVN0eWxlcyA9IHt9O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBJbnRlcmFjdGlvbiBmb3Igc2VsZWN0aW5nIHZlY3RvciBmZWF0dXJlcy4gQnkgZGVmYXVsdCwgc2VsZWN0ZWQgZmVhdHVyZXMgYXJlXG4gKiBzdHlsZWQgZGlmZmVyZW50bHksIHNvIHRoaXMgaW50ZXJhY3Rpb24gY2FuIGJlIHVzZWQgZm9yIHZpc3VhbCBoaWdobGlnaHRpbmcsXG4gKiBhcyB3ZWxsIGFzIHNlbGVjdGluZyBmZWF0dXJlcyBmb3Igb3RoZXIgYWN0aW9ucywgc3VjaCBhcyBtb2RpZmljYXRpb24gb3JcbiAqIG91dHB1dC4gVGhlcmUgYXJlIHRocmVlIHdheXMgb2YgY29udHJvbGxpbmcgd2hpY2ggZmVhdHVyZXMgYXJlIHNlbGVjdGVkOlxuICogdXNpbmcgdGhlIGJyb3dzZXIgZXZlbnQgYXMgZGVmaW5lZCBieSB0aGUgYGNvbmRpdGlvbmAgYW5kIG9wdGlvbmFsbHkgdGhlXG4gKiBgdG9nZ2xlYCwgYGFkZGAvYHJlbW92ZWAsIGFuZCBgbXVsdGlgIG9wdGlvbnM7IGEgYGxheWVyc2AgZmlsdGVyOyBhbmQgYVxuICogZnVydGhlciBmZWF0dXJlIGZpbHRlciB1c2luZyB0aGUgYGZpbHRlcmAgb3B0aW9uLlxuICpcbiAqIFNlbGVjdGVkIGZlYXR1cmVzIGFyZSBhZGRlZCB0byBhbiBpbnRlcm5hbCB1bm1hbmFnZWQgbGF5ZXIuXG4gKlxuICogQGZpcmVzIFNlbGVjdEV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBTZWxlY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNlbGVjdCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlbGVjdChvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZEFkZEZlYXR1cmVfID0gX3RoaXMuYWRkRmVhdHVyZV8uYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRSZW1vdmVGZWF0dXJlXyA9IF90aGlzLnJlbW92ZUZlYXR1cmVfLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBzaW5nbGVDbGljaztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFkZENvbmRpdGlvbl8gPSBvcHRpb25zLmFkZENvbmRpdGlvbiA/IG9wdGlvbnMuYWRkQ29uZGl0aW9uIDogbmV2ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW1vdmVDb25kaXRpb25fID0gb3B0aW9ucy5yZW1vdmVDb25kaXRpb25cbiAgICAgICAgICAgID8gb3B0aW9ucy5yZW1vdmVDb25kaXRpb25cbiAgICAgICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b2dnbGVDb25kaXRpb25fID0gb3B0aW9ucy50b2dnbGVDb25kaXRpb25cbiAgICAgICAgICAgID8gb3B0aW9ucy50b2dnbGVDb25kaXRpb25cbiAgICAgICAgICAgIDogc2hpZnRLZXlPbmx5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tdWx0aV8gPSBvcHRpb25zLm11bHRpID8gb3B0aW9ucy5tdWx0aSA6IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0ZpbHRlckZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyXyA9IG9wdGlvbnMuZmlsdGVyID8gb3B0aW9ucy5maWx0ZXIgOiBUUlVFO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpdFRvbGVyYW5jZV8gPSBvcHRpb25zLmhpdFRvbGVyYW5jZSA/IG9wdGlvbnMuaGl0VG9sZXJhbmNlIDogMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5LjxpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0PnxpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5zdHlsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHlsZSA6IGdldERlZmF1bHRTdHlsZUZ1bmN0aW9uKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZXNfID0gb3B0aW9ucy5mZWF0dXJlcyB8fCBuZXcgQ29sbGVjdGlvbigpO1xuICAgICAgICAvKiogQHR5cGUge2Z1bmN0aW9uKGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSAqL1xuICAgICAgICB2YXIgbGF5ZXJGaWx0ZXI7XG4gICAgICAgIGlmIChvcHRpb25zLmxheWVycykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmxheWVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyID0gb3B0aW9ucy5sYXllcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJzXzEgPSBvcHRpb25zLmxheWVycztcbiAgICAgICAgICAgICAgICBsYXllckZpbHRlciA9IGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5jbHVkZXMobGF5ZXJzXzEsIGxheWVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGF5ZXJGaWx0ZXIgPSBUUlVFO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXllckZpbHRlcl8gPSBsYXllckZpbHRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFzc29jaWF0aW9uIGJldHdlZW4gc2VsZWN0ZWQgZmVhdHVyZSAoa2V5KVxuICAgICAgICAgKiBhbmQgbGF5ZXIgKHZhbHVlKVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8gPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2VsZWN0LnByb3RvdHlwZS5hZGRGZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8gPSBmdW5jdGlvbiAoZmVhdHVyZSwgbGF5ZXIpIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl9bZ2V0VWlkKGZlYXR1cmUpXSA9IGxheWVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzZWxlY3RlZCBmZWF0dXJlcy5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gRmVhdHVyZXMgY29sbGVjdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2VsZWN0LnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgSGl0LWRldGVjdGlvbiB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybnMge251bWJlcn0gSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNlbGVjdC5wcm90b3R5cGUuZ2V0SGl0VG9sZXJhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaXRUb2xlcmFuY2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXNzb2NpYXRlZCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3Rvcn5WZWN0b3IgdmVjdG9ybGF5ZXJ9IG9mXG4gICAgICogdGhlIChsYXN0KSBzZWxlY3RlZCBmZWF0dXJlLiBOb3RlIHRoYXQgdGhpcyB3aWxsIG5vdCB3b3JrIHdpdGggYW55XG4gICAgICogcHJvZ3JhbW1hdGljIG1ldGhvZCBsaWtlIHB1c2hpbmcgZmVhdHVyZXMgdG9cbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1NlbGVjdH5TZWxlY3QjZ2V0RmVhdHVyZXMgY29sbGVjdGlvbn0uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmVcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoJy4uL2xheWVyL1ZlY3Rvci5qcycpLmRlZmF1bHR9IExheWVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmdldExheWVyID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KCcuLi9sYXllci9WZWN0b3IuanMnKS5kZWZhdWx0fSAqLyAodGhpc1xuICAgICAgICAgICAgLmZlYXR1cmVMYXllckFzc29jaWF0aW9uX1tnZXRVaWQoZmVhdHVyZSldKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhpdC1kZXRlY3Rpb24gdG9sZXJhbmNlLiBQaXhlbHMgaW5zaWRlIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvblxuICAgICAqIHdpbGwgYmUgY2hlY2tlZCBmb3IgZmVhdHVyZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2VsZWN0LnByb3RvdHlwZS5zZXRIaXRUb2xlcmFuY2UgPSBmdW5jdGlvbiAoaGl0VG9sZXJhbmNlKSB7XG4gICAgICAgIHRoaXMuaGl0VG9sZXJhbmNlXyA9IGhpdFRvbGVyYW5jZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgaW50ZXJhY3Rpb24gZnJvbSBpdHMgY3VycmVudCBtYXAsIGlmIGFueSwgIGFuZCBhdHRhY2ggaXQgdG8gYSBuZXdcbiAgICAgKiBtYXAsIGlmIGFueS4gUGFzcyBgbnVsbGAgdG8ganVzdCByZW1vdmUgdGhlIGludGVyYWN0aW9uIGZyb20gdGhlIGN1cnJlbnQgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNlbGVjdC5wcm90b3R5cGUuc2V0TWFwID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICB2YXIgY3VycmVudE1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIGlmIChjdXJyZW50TWFwICYmIHRoaXMuc3R5bGVfKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzXy5mb3JFYWNoKHRoaXMucmVzdG9yZVByZXZpb3VzU3R5bGVfLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcywgbWFwKTtcbiAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc18uYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgdGhpcy5ib3VuZEFkZEZlYXR1cmVfKTtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNfLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIHRoaXMuYm91bmRSZW1vdmVGZWF0dXJlXyk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzXy5mb3JFYWNoKHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNfLnJlbW92ZUV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIHRoaXMuYm91bmRBZGRGZWF0dXJlXyk7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzXy5yZW1vdmVFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCB0aGlzLmJvdW5kUmVtb3ZlRmVhdHVyZV8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldnQgRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmFkZEZlYXR1cmVfID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IGV2dC5lbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5zdHlsZV8pIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlXyhmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IEV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2VsZWN0LnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlXyA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGZlYXR1cmUgPSBldnQuZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVfKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3RvcmVQcmV2aW91c1N0eWxlXyhmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx9IFNlbGVjdCBzdHlsZS5cbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmdldFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmFwcGx5U2VsZWN0ZWRTdHlsZV8gPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB2YXIga2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICBpZiAoIShrZXkgaW4gb3JpZ2luYWxGZWF0dXJlU3R5bGVzKSkge1xuICAgICAgICAgICAgb3JpZ2luYWxGZWF0dXJlU3R5bGVzW2tleV0gPSBmZWF0dXJlLmdldFN0eWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmVhdHVyZS5zZXRTdHlsZSh0aGlzLnN0eWxlXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLnJlc3RvcmVQcmV2aW91c1N0eWxlXyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbnMgPSB0aGlzLmdldE1hcCgpLmdldEludGVyYWN0aW9ucygpLmdldEFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSBpbnRlcmFjdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uc1tpXTtcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbiAhPT0gdGhpcyAmJlxuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uIGluc3RhbmNlb2YgU2VsZWN0ICYmXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb24uZ2V0U3R5bGUoKSAmJlxuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uLmdldEZlYXR1cmVzKCkuZ2V0QXJyYXkoKS5sYXN0SW5kZXhPZihmZWF0dXJlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLnNldFN0eWxlKGludGVyYWN0aW9uLmdldFN0eWxlKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICBmZWF0dXJlLnNldFN0eWxlKG9yaWdpbmFsRmVhdHVyZVN0eWxlc1trZXldKTtcbiAgICAgICAgZGVsZXRlIG9yaWdpbmFsRmVhdHVyZVN0eWxlc1trZXldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVMYXllckFzc29jaWF0aW9uXyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZlYXR1cmVMYXllckFzc29jaWF0aW9uX1tnZXRVaWQoZmVhdHVyZSldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGFuZCBtYXkgY2hhbmdlIHRoZVxuICAgICAqIHNlbGVjdGVkIHN0YXRlIG9mIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQHRoaXMge1NlbGVjdH1cbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWRkID0gdGhpcy5hZGRDb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIHZhciByZW1vdmUgPSB0aGlzLnJlbW92ZUNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgdmFyIHRvZ2dsZSA9IHRoaXMudG9nZ2xlQ29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICB2YXIgc2V0ID0gIWFkZCAmJiAhcmVtb3ZlICYmICF0b2dnbGU7XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSB0aGlzLmdldEZlYXR1cmVzKCk7XG4gICAgICAgIHZhciBkZXNlbGVjdGVkID0gW107XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IFtdO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZmVhdHVyZShzKSB3aXRoIHRoZSBmZWF0dXJlKHMpIGF0IHRoZVxuICAgICAgICAgICAgLy8gcGl4ZWwsIG9yIGNsZWFyIHRoZSBzZWxlY3RlZCBmZWF0dXJlKHMpIGlmIHRoZXJlIGlzIG5vIGZlYXR1cmUgYXRcbiAgICAgICAgICAgIC8vIHRoZSBwaXhlbC5cbiAgICAgICAgICAgIGNsZWFyKHRoaXMuZmVhdHVyZUxheWVyQXNzb2NpYXRpb25fKTtcbiAgICAgICAgICAgIG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwobWFwQnJvd3NlckV2ZW50LnBpeGVsLCBcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IENvbnRpbnVlIHRvIGl0ZXJhdGUgb3ZlciB0aGUgZmVhdHVyZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChmZWF0dXJlLCBsYXllcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbHRlcl8oZmVhdHVyZSwgbGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmVhdHVyZUxheWVyQXNzb2NpYXRpb25fKGZlYXR1cmUsIGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLm11bHRpXztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIHtcbiAgICAgICAgICAgICAgICBsYXllckZpbHRlcjogdGhpcy5sYXllckZpbHRlcl8sXG4gICAgICAgICAgICAgICAgaGl0VG9sZXJhbmNlOiB0aGlzLmhpdFRvbGVyYW5jZV8sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBmZWF0dXJlcy5nZXRMZW5ndGgoKSAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZlYXR1cmUgPSBmZWF0dXJlcy5pdGVtKGkpO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHNlbGVjdGVkLmluZGV4T2YoZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmVhdHVyZSBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlc2VsZWN0ZWQucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZXMuZXh0ZW5kKHNlbGVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1vZGlmeSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGZlYXR1cmUocykuXG4gICAgICAgICAgICBtYXAuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKG1hcEJyb3dzZXJFdmVudC5waXhlbCwgXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICAgICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBDb250aW51ZSB0byBpdGVyYXRlIG92ZXIgdGhlIGZlYXR1cmVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiAoZmVhdHVyZSwgbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJfKGZlYXR1cmUsIGxheWVyKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGFkZCB8fCB0b2dnbGUpICYmICFpbmNsdWRlcyhmZWF0dXJlcy5nZXRBcnJheSgpLCBmZWF0dXJlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmVhdHVyZUxheWVyQXNzb2NpYXRpb25fKGZlYXR1cmUsIGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgocmVtb3ZlIHx8IHRvZ2dsZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzKGZlYXR1cmVzLmdldEFycmF5KCksIGZlYXR1cmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNlbGVjdGVkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZlYXR1cmVMYXllckFzc29jaWF0aW9uXyhmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMubXVsdGlfO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwge1xuICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyOiB0aGlzLmxheWVyRmlsdGVyXyxcbiAgICAgICAgICAgICAgICBoaXRUb2xlcmFuY2U6IHRoaXMuaGl0VG9sZXJhbmNlXyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRlc2VsZWN0ZWQubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlcy5yZW1vdmUoZGVzZWxlY3RlZFtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmZWF0dXJlcy5leHRlbmQoc2VsZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPiAwIHx8IGRlc2VsZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBTZWxlY3RFdmVudChTZWxlY3RFdmVudFR5cGUuU0VMRUNULCBzZWxlY3RlZCwgZGVzZWxlY3RlZCwgbWFwQnJvd3NlckV2ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU2VsZWN0O1xufShJbnRlcmFjdGlvbikpO1xuLyoqXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufSBTdHlsZXMuXG4gKi9cbmZ1bmN0aW9uIGdldERlZmF1bHRTdHlsZUZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHlsZXMgPSBjcmVhdGVFZGl0aW5nU3R5bGUoKTtcbiAgICBleHRlbmQoc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXSwgc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10pO1xuICAgIGV4dGVuZChzdHlsZXNbR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT05dLCBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIGlmICghZmVhdHVyZS5nZXRHZW9tZXRyeSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3R5bGVzW2ZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRUeXBlKCldO1xuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBTZWxlY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZWxlY3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL21hdGhcbiAqL1xuLyoqXG4gKiBUYWtlcyBhIG51bWJlciBhbmQgY2xhbXBzIGl0IHRvIHdpdGhpbiB0aGUgcHJvdmlkZWQgYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbXVtIHZhbHVlIHRvIHJldHVybi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIG1heGltdW0gdmFsdWUgdG8gcmV0dXJuLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5wdXQgbnVtYmVyIGlmIGl0IGlzIHdpdGhpbiBib3VuZHMsIG9yIHRoZSBuZWFyZXN0XG4gKiAgICAgbnVtYmVyIHdpdGhpbiB0aGUgYm91bmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGEgZ2l2ZW4gbnVtYmVyLiBUaGUgbWV0aG9kIHdpbGwgdXNlIHRoZVxuICogbmF0aXZlIGBNYXRoLmNvc2hgIGZ1bmN0aW9uIGlmIGl0IGlzIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHRoZSBoeXBlcmJvbGljXG4gKiBjb3NpbmUgd2lsbCBiZSBjYWxjdWxhdGVkIHZpYSB0aGUgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBNb3ppbGxhXG4gKiBkZXZlbG9wZXIgbmV0d29yay5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHJldHVybiB7bnVtYmVyfSBIeXBlcmJvbGljIGNvc2luZSBvZiB4LlxuICovXG5leHBvcnQgdmFyIGNvc2ggPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdyYXBwZWQgaW4gYSBpaWZlLCB0byBzYXZlIHRoZSBvdmVyaGVhZCBvZiBjaGVja2luZyBmb3IgdGhlIG5hdGl2ZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIG9uIGV2ZXJ5IGludm9jYXRpb24uXG4gICAgdmFyIGNvc2g7XG4gICAgaWYgKCdjb3NoJyBpbiBNYXRoKSB7XG4gICAgICAgIC8vIFRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyB0aGUgbmF0aXZlIE1hdGguY29zaCBmdW5jdGlvbiwgdXNlIGl04oCmXG4gICAgICAgIGNvc2ggPSBNYXRoLmNvc2g7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyDigKYgZWxzZSwgdXNlIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgTUROOlxuICAgICAgICBjb3NoID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHZhciB5ID0gLyoqIEB0eXBlIHtNYXRofSAqLyAoTWF0aCkuZXhwKHgpO1xuICAgICAgICAgICAgcmV0dXJuICh5ICsgMSAvIHkpIC8gMjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNvc2g7XG59KSgpO1xuLyoqXG4gKiBSZXR1cm4gdGhlIGJhc2UgMiBsb2dhcml0aG0gb2YgYSBnaXZlbiBudW1iZXIuIFRoZSBtZXRob2Qgd2lsbCB1c2UgdGhlXG4gKiBuYXRpdmUgYE1hdGgubG9nMmAgZnVuY3Rpb24gaWYgaXQgaXMgYXZhaWxhYmxlLCBvdGhlcndpc2UgdGhlIGJhc2UgMlxuICogbG9nYXJpdGhtIHdpbGwgYmUgY2FsY3VsYXRlZCB2aWEgdGhlIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVcbiAqIE1vemlsbGEgZGV2ZWxvcGVyIG5ldHdvcmsuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEByZXR1cm4ge251bWJlcn0gQmFzZSAyIGxvZ2FyaXRobSBvZiB4LlxuICovXG5leHBvcnQgdmFyIGxvZzIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdyYXBwZWQgaW4gYSBpaWZlLCB0byBzYXZlIHRoZSBvdmVyaGVhZCBvZiBjaGVja2luZyBmb3IgdGhlIG5hdGl2ZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIG9uIGV2ZXJ5IGludm9jYXRpb24uXG4gICAgdmFyIGxvZzI7XG4gICAgaWYgKCdsb2cyJyBpbiBNYXRoKSB7XG4gICAgICAgIC8vIFRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyB0aGUgbmF0aXZlIE1hdGgubG9nMiBmdW5jdGlvbiwgdXNlIGl04oCmXG4gICAgICAgIGxvZzIgPSBNYXRoLmxvZzI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyDigKYgZWxzZSwgdXNlIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgTUROOlxuICAgICAgICBsb2cyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyh4KSAqIE1hdGguTE9HMkU7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBsb2cyO1xufSkoKTtcbi8qKlxuICogUmV0dXJucyB0aGUgc3F1YXJlIG9mIHRoZSBjbG9zZXN0IGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50ICh4LCB5KSBhbmQgdGhlXG4gKiBsaW5lIHNlZ21lbnQgKHgxLCB5MSkgdG8gKHgyLCB5MikuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSBYMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSBZMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MiBYMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MiBZMi5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRTZWdtZW50RGlzdGFuY2UoeCwgeSwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICB2YXIgZHggPSB4MiAtIHgxO1xuICAgIHZhciBkeSA9IHkyIC0geTE7XG4gICAgaWYgKGR4ICE9PSAwIHx8IGR5ICE9PSAwKSB7XG4gICAgICAgIHZhciB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgICAgIHkxID0geTI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA+IDApIHtcbiAgICAgICAgICAgIHgxICs9IGR4ICogdDtcbiAgICAgICAgICAgIHkxICs9IGR5ICogdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKHgsIHksIHgxLCB5MSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNxdWFyZSBvZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9pbnRzICh4MSwgeTEpIGFuZCAoeDIsIHkyKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSBYMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSBZMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MiBYMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MiBZMi5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5Mikge1xuICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG4vKipcbiAqIFNvbHZlcyBzeXN0ZW0gb2YgbGluZWFyIGVxdWF0aW9ucyB1c2luZyBHYXVzc2lhbiBlbGltaW5hdGlvbiBtZXRob2QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gbWF0IEF1Z21lbnRlZCBtYXRyaXggKG4geCBuICsgMSBjb2x1bW4pXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiByb3ctbWFqb3Igb3JkZXIuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUaGUgcmVzdWx0aW5nIHZlY3Rvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNvbHZlTGluZWFyU3lzdGVtKG1hdCkge1xuICAgIHZhciBuID0gbWF0Lmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAvLyBGaW5kIG1heCBpbiB0aGUgaS10aCBjb2x1bW4gKGlnbm9yaW5nIGkgLSAxIGZpcnN0IHJvd3MpXG4gICAgICAgIHZhciBtYXhSb3cgPSBpO1xuICAgICAgICB2YXIgbWF4RWwgPSBNYXRoLmFicyhtYXRbaV1baV0pO1xuICAgICAgICBmb3IgKHZhciByID0gaSArIDE7IHIgPCBuOyByKyspIHtcbiAgICAgICAgICAgIHZhciBhYnNWYWx1ZSA9IE1hdGguYWJzKG1hdFtyXVtpXSk7XG4gICAgICAgICAgICBpZiAoYWJzVmFsdWUgPiBtYXhFbCkge1xuICAgICAgICAgICAgICAgIG1heEVsID0gYWJzVmFsdWU7XG4gICAgICAgICAgICAgICAgbWF4Um93ID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4RWwgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBtYXRyaXggaXMgc2luZ3VsYXJcbiAgICAgICAgfVxuICAgICAgICAvLyBTd2FwIG1heCByb3cgd2l0aCBpLXRoIChjdXJyZW50KSByb3dcbiAgICAgICAgdmFyIHRtcCA9IG1hdFttYXhSb3ddO1xuICAgICAgICBtYXRbbWF4Um93XSA9IG1hdFtpXTtcbiAgICAgICAgbWF0W2ldID0gdG1wO1xuICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgaS10aCByb3cgdG8gbWFrZSBhbGwgdGhlIHJlbWFpbmluZyByb3dzIDAgaW4gdGhlIGktdGggY29sdW1uXG4gICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IG47IGorKykge1xuICAgICAgICAgICAgdmFyIGNvZWYgPSAtbWF0W2pdW2ldIC8gbWF0W2ldW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IGk7IGsgPCBuICsgMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gaykge1xuICAgICAgICAgICAgICAgICAgICBtYXRbal1ba10gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0W2pdW2tdICs9IGNvZWYgKiBtYXRbaV1ba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNvbHZlIEF4PWIgZm9yIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4IEEgKG1hdClcbiAgICB2YXIgeCA9IG5ldyBBcnJheShuKTtcbiAgICBmb3IgKHZhciBsID0gbiAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICAgIHhbbF0gPSBtYXRbbF1bbl0gLyBtYXRbbF1bbF07XG4gICAgICAgIGZvciAodmFyIG0gPSBsIC0gMTsgbSA+PSAwOyBtLS0pIHtcbiAgICAgICAgICAgIG1hdFttXVtuXSAtPSBtYXRbbV1bbF0gKiB4W2xdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4O1xufVxuLyoqXG4gKiBDb252ZXJ0cyByYWRpYW5zIHRvIHRvIGRlZ3JlZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5SYWRpYW5zIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIGluIGRlZ3JlZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZXMoYW5nbGVJblJhZGlhbnMpIHtcbiAgICByZXR1cm4gKGFuZ2xlSW5SYWRpYW5zICogMTgwKSAvIE1hdGguUEk7XG59XG4vKipcbiAqIENvbnZlcnRzIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJbkRlZ3JlZXMgQW5nbGUgaW4gZGVncmVlcy5cbiAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFucyhhbmdsZUluRGVncmVlcykge1xuICAgIHJldHVybiAoYW5nbGVJbkRlZ3JlZXMgKiBNYXRoLlBJKSAvIDE4MDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbW9kdWxvIG9mIGEgLyBiLCBkZXBlbmRpbmcgb24gdGhlIHNpZ24gb2YgYi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYSBEaXZpZGVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIERpdmlzb3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1vZHVsby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZHVsbyhhLCBiKSB7XG4gICAgdmFyIHIgPSBhICUgYjtcbiAgICByZXR1cm4gciAqIGIgPCAwID8gciArIGIgOiByO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgeCBiZXR3ZWVuIGEgYW5kIGIuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGEgTnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFZhbHVlIHRvIGJlIGludGVycG9sYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW50ZXJwb2xhdGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChhLCBiLCB4KSB7XG4gICAgcmV0dXJuIGEgKyB4ICogKGIgLSBhKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGguanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL29ialxuICovXG4vKipcbiAqIFBvbHlmaWxsIGZvciBPYmplY3QuYXNzaWduKCkuICBBc3NpZ25zIGVudW1lcmFibGUgYW5kIG93biBwcm9wZXJ0aWVzIGZyb21cbiAqIG9uZSBvciBtb3JlIHNvdXJjZSBvYmplY3RzIHRvIGEgdGFyZ2V0IG9iamVjdC5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduLlxuICpcbiAqIEBwYXJhbSB7IU9iamVjdH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IHZhcl9zb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0KHMpLlxuICogQHJldHVybiB7IU9iamVjdH0gVGhlIG1vZGlmaWVkIHRhcmdldCBvYmplY3QuXG4gKi9cbmV4cG9ydCB2YXIgYXNzaWduID0gdHlwZW9mIE9iamVjdC5hc3NpZ24gPT09ICdmdW5jdGlvbidcbiAgICA/IE9iamVjdC5hc3NpZ25cbiAgICA6IGZ1bmN0aW9uICh0YXJnZXQsIHZhcl9zb3VyY2VzKSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGlpID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuLyoqXG4gKiBSZW1vdmVzIGFsbCBwcm9wZXJ0aWVzIGZyb20gYW4gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsZWFyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIob2JqZWN0KSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xuICAgIH1cbn1cbi8qKlxuICogUG9seWZpbGwgZm9yIE9iamVjdC52YWx1ZXMoKS4gIEdldCBhbiBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMgZnJvbSBhbiBvYmplY3QuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L3ZhbHVlc1xuICpcbiAqIEBwYXJhbSB7IU9iamVjdDxLLFY+fSBvYmplY3QgVGhlIG9iamVjdCBmcm9tIHdoaWNoIHRvIGdldCB0aGUgdmFsdWVzLlxuICogQHJldHVybiB7IUFycmF5PFY+fSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICogQHRlbXBsYXRlIEssVlxuICovXG5leHBvcnQgdmFyIGdldFZhbHVlcyA9IHR5cGVvZiBPYmplY3QudmFsdWVzID09PSAnZnVuY3Rpb24nXG4gICAgPyBPYmplY3QudmFsdWVzXG4gICAgOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChvYmplY3RbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4vKipcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaGFzIGFueSBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG9iamVjdCBpcyBlbXB0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkob2JqZWN0KSB7XG4gICAgdmFyIHByb3BlcnR5O1xuICAgIGZvciAocHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFwcm9wZXJ0eTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9iai5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9Qcm9qZWN0aW9uXG4gKi9cbmltcG9ydCB7IE1FVEVSU19QRVJfVU5JVCB9IGZyb20gJy4vVW5pdHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29kZSBUaGUgU1JTIGlkZW50aWZpZXIgY29kZSwgZS5nLiBgRVBTRzo0MzI2YC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5kZWZhdWx0fHN0cmluZ30gW3VuaXRzXSBVbml0cy4gUmVxdWlyZWQgdW5sZXNzIGFcbiAqIHByb2o0IHByb2plY3Rpb24gaXMgZGVmaW5lZCBmb3IgYGNvZGVgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgdmFsaWRpdHkgZXh0ZW50IGZvciB0aGUgU1JTLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtheGlzT3JpZW50YXRpb249J2VudSddIFRoZSBheGlzIG9yaWVudGF0aW9uIGFzIHNwZWNpZmllZCBpbiBQcm9qNC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2dsb2JhbD1mYWxzZV0gV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyB2YWxpZCBmb3IgdGhlIHdob2xlIGdsb2JlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttZXRlcnNQZXJVbml0XSBUaGUgbWV0ZXJzIHBlciB1bml0IGZvciB0aGUgU1JTLlxuICogSWYgbm90IHByb3ZpZGVkLCB0aGUgYHVuaXRzYCBhcmUgdXNlZCB0byBnZXQgdGhlIG1ldGVycyBwZXIgdW5pdCBmcm9tIHRoZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovVW5pdHN+TUVURVJTX1BFUl9VTklUfVxuICogbG9va3VwIHRhYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbd29ybGRFeHRlbnRdIFRoZSB3b3JsZCBleHRlbnQgZm9yIHRoZSBTUlMuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ9IFtnZXRQb2ludFJlc29sdXRpb25dXG4gKiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgcmVzb2x1dGlvbiBhdCBhIHBvaW50LiBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYVxuICogYHtudW1iZXJ9YCB2aWV3IHJlc29sdXRpb24gYW5kIGFuIGB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfWAgYXMgYXJndW1lbnRzLCBhbmQgcmV0dXJuc1xuICogdGhlIGB7bnVtYmVyfWAgcmVzb2x1dGlvbiBpbiBwcm9qZWN0aW9uIHVuaXRzIGF0IHRoZSBwYXNzZWQgY29vcmRpbmF0ZS4gSWYgdGhpcyBpcyBgdW5kZWZpbmVkYCxcbiAqIHRoZSBkZWZhdWx0IHtAbGluayBtb2R1bGU6b2wvcHJvaiNnZXRQb2ludFJlc29sdXRpb259IGZ1bmN0aW9uIHdpbGwgYmUgdXNlZC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIGRlZmluaXRpb24gY2xhc3MuIE9uZSBvZiB0aGVzZSBpcyBjcmVhdGVkIGZvciBlYWNoIHByb2plY3Rpb25cbiAqIHN1cHBvcnRlZCBpbiB0aGUgYXBwbGljYXRpb24gYW5kIHN0b3JlZCBpbiB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qfSBuYW1lc3BhY2UuXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBpbiBhcHBsaWNhdGlvbnMsIGJ1dCB0aGlzIGlzIG5vdCByZXF1aXJlZCwgYXMgQVBJIHBhcmFtc1xuICogYW5kIG9wdGlvbnMgdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvan5Qcm9qZWN0aW9uTGlrZX0gd2hpY2ggbWVhbnMgdGhlIHNpbXBsZSBzdHJpbmdcbiAqIGNvZGUgd2lsbCBzdWZmaWNlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvan5nZXR9IHRvIHJldHJpZXZlIHRoZSBvYmplY3QgZm9yIGEgcGFydGljdWxhclxuICogcHJvamVjdGlvbi5cbiAqXG4gKiBUaGUgbGlicmFyeSBpbmNsdWRlcyBkZWZpbml0aW9ucyBmb3IgYEVQU0c6NDMyNmAgYW5kIGBFUFNHOjM4NTdgLCB0b2dldGhlclxuICogd2l0aCB0aGUgZm9sbG93aW5nIGFsaWFzZXM6XG4gKiAqIGBFUFNHOjQzMjZgOiBDUlM6ODQsIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuNjo0MzI2LFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0LCB1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQsXG4gKiAgICAgaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYsXG4gKiAgICAgdXJuOngtb2djOmRlZjpjcnM6RVBTRzo0MzI2XG4gKiAqIGBFUFNHOjM4NTdgOiBFUFNHOjEwMjEwMCwgRVBTRzoxMDIxMTMsIEVQU0c6OTAwOTEzLFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuMTg6MzozODU3LFxuICogICAgIGh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCMzODU3XG4gKlxuICogSWYgeW91IHVzZSBbcHJvajRqc10oaHR0cHM6Ly9naXRodWIuY29tL3Byb2o0anMvcHJvajRqcyksIGFsaWFzZXMgY2FuXG4gKiBiZSBhZGRlZCB1c2luZyBgcHJvajQuZGVmcygpYC4gQWZ0ZXIgYWxsIHJlcXVpcmVkIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgYXJlXG4gKiBhZGRlZCwgY2FsbCB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qL3Byb2o0fnJlZ2lzdGVyfSBmdW5jdGlvbi5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBQcm9qZWN0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvamVjdGlvbihvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2RlXyA9IG9wdGlvbnMuY29kZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXRzIG9mIHByb2plY3RlZCBjb29yZGluYXRlcy4gV2hlbiBzZXQgdG8gYFRJTEVfUElYRUxTYCwgYVxuICAgICAgICAgKiBgdGhpcy5leHRlbnRfYCBhbmQgYHRoaXMud29ybGRFeHRlbnRfYCBtdXN0IGJlIGNvbmZpZ3VyZWQgcHJvcGVybHkgZm9yIGVhY2hcbiAgICAgICAgICogdGlsZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vVW5pdHMuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pdHNfID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1VuaXRzLmpzXCIpLmRlZmF1bHR9ICovIChvcHRpb25zLnVuaXRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkaXR5IGV4dGVudCBvZiB0aGUgcHJvamVjdGlvbiBpbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMuIEZvciBwcm9qZWN0aW9uc1xuICAgICAgICAgKiB3aXRoIGBUSUxFX1BJWEVMU2AgdW5pdHMsIHRoaXMgaXMgdGhlIGV4dGVudCBvZiB0aGUgdGlsZSBpblxuICAgICAgICAgKiB0aWxlIHBpeGVsIHNwYWNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmV4dGVudCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnQgb2YgdGhlIHdvcmxkIGluIEVQU0c6NDMyNi4gRm9yIHByb2plY3Rpb25zIHdpdGhcbiAgICAgICAgICogYFRJTEVfUElYRUxTYCB1bml0cywgdGhpcyBpcyB0aGUgZXh0ZW50IG9mIHRoZSB0aWxlIGluXG4gICAgICAgICAqIHByb2plY3RlZCBjb29yZGluYXRlIHNwYWNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRFeHRlbnRfID1cbiAgICAgICAgICAgIG9wdGlvbnMud29ybGRFeHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud29ybGRFeHRlbnQgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXhpc09yaWVudGF0aW9uXyA9XG4gICAgICAgICAgICBvcHRpb25zLmF4aXNPcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5heGlzT3JpZW50YXRpb24gOiAnZW51JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWxfID0gb3B0aW9ucy5nbG9iYWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZ2xvYmFsIDogZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuV3JhcFhfID0gISEodGhpcy5nbG9iYWxfICYmIHRoaXMuZXh0ZW50Xyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfID0gb3B0aW9ucy5nZXRQb2ludFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFRpbGVHcmlkXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0ZXJzUGVyVW5pdF8gPSBvcHRpb25zLm1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBwcm9qZWN0aW9uIGlzIHN1aXRhYmxlIGZvciB3cmFwcGluZyB0aGUgeC1heGlzXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuY2FuV3JhcFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbldyYXBYXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29kZSBmb3IgdGhpcyBwcm9qZWN0aW9uLCBlLmcuICdFUFNHOjQzMjYnLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQ29kZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbGlkaXR5IGV4dGVudCBmb3IgdGhpcyBwcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1bml0cyBvZiB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5kZWZhdWx0fSBVbml0cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0VW5pdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaXRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW1vdW50IG9mIG1ldGVycyBwZXIgdW5pdCBvZiB0aGlzIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBpc1xuICAgICAqIG5vdCBjb25maWd1cmVkIHdpdGggYG1ldGVyc1BlclVuaXRgIG9yIGEgdW5pdHMgaWRlbnRpZmllciwgdGhlIHJldHVybiBpc1xuICAgICAqIGB1bmRlZmluZWRgLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IE1ldGVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0TWV0ZXJzUGVyVW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0ZXJzUGVyVW5pdF8gfHwgTUVURVJTX1BFUl9VTklUW3RoaXMudW5pdHNfXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5nZXRXb3JsZEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRFeHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBheGlzIG9yaWVudGF0aW9uIG9mIHRoaXMgcHJvamVjdGlvbi5cbiAgICAgKiBFeGFtcGxlIHZhbHVlcyBhcmU6XG4gICAgICogZW51IC0gdGhlIGRlZmF1bHQgZWFzdGluZywgbm9ydGhpbmcsIGVsZXZhdGlvbi5cbiAgICAgKiBuZXUgLSBub3J0aGluZywgZWFzdGluZywgdXAgLSB1c2VmdWwgZm9yIFwibGF0L2xvbmdcIiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzLFxuICAgICAqICAgICBvciBzb3V0aCBvcmllbnRhdGVkIHRyYW5zdmVyc2UgbWVyY2F0b3IuXG4gICAgICogd251IC0gd2VzdGluZywgbm9ydGhpbmcsIHVwIC0gc29tZSBwbGFuZXRhcnkgY29vcmRpbmF0ZSBzeXN0ZW1zIGhhdmVcbiAgICAgKiAgICAgXCJ3ZXN0IHBvc2l0aXZlXCIgY29vcmRpbmF0ZSBzeXN0ZW1zXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBeGlzIG9yaWVudGF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5nZXRBeGlzT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF4aXNPcmllbnRhdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHByb2plY3Rpb24gYSBnbG9iYWwgcHJvamVjdGlvbiB3aGljaCBzcGFucyB0aGUgd2hvbGUgd29ybGQ/XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmlzR2xvYmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGlmIHRoZSBwcm9qZWN0aW9uIGlzIGEgZ2xvYmFsIHByb2plY3Rpb24gd2hpY2ggc3BhbnMgdGhlIHdob2xlIHdvcmxkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBnbG9iYWwgV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldEdsb2JhbCA9IGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxfID0gZ2xvYmFsO1xuICAgICAgICB0aGlzLmNhbldyYXBYXyA9ICEhKGdsb2JhbCAmJiB0aGlzLmV4dGVudF8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmdldERlZmF1bHRUaWxlR3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFRpbGVHcmlkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldERlZmF1bHRUaWxlR3JpZCA9IGZ1bmN0aW9uICh0aWxlR3JpZCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRUaWxlR3JpZF8gPSB0aWxlR3JpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsaWRpdHkgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5zZXRFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudDtcbiAgICAgICAgdGhpcy5jYW5XcmFwWF8gPSAhISh0aGlzLmdsb2JhbF8gJiYgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSB3b3JsZEV4dGVudCBXb3JsZCBleHRlbnRcbiAgICAgKiAgICAgW21pbmxvbiwgbWlubGF0LCBtYXhsb24sIG1heGxhdF0uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldFdvcmxkRXh0ZW50ID0gZnVuY3Rpb24gKHdvcmxkRXh0ZW50KSB7XG4gICAgICAgIHRoaXMud29ybGRFeHRlbnRfID0gd29ybGRFeHRlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGdldFBvaW50UmVzb2x1dGlvbiBmdW5jdGlvbiAoc2VlIHtAbGluayBtb2R1bGU6b2wvcHJvan5nZXRQb2ludFJlc29sdXRpb259XG4gICAgICogZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ9IGZ1bmMgRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuc2V0R2V0UG9pbnRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgdGhpcy5nZXRQb2ludFJlc29sdXRpb25GdW5jXyA9IGZ1bmM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1c3RvbSBwb2ludCByZXNvbHV0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIHByb2plY3Rpb24gKGlmIHNldCkuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcnx1bmRlZmluZWR9IFRoZSBjdXN0b20gcG9pbnRcbiAgICAgKiByZXNvbHV0aW9uIGZ1bmN0aW9uIChpZiBzZXQpLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmdldFBvaW50UmVzb2x1dGlvbkZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfO1xuICAgIH07XG4gICAgcmV0dXJuIFByb2plY3Rpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUHJvamVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb2plY3Rpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL2Vwc2czODU3XG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9Vbml0cy5qcyc7XG5pbXBvcnQgeyBjb3NoIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIFJhZGl1cyBvZiBXR1M4NCBzcGhlcmVcbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgUkFESVVTID0gNjM3ODEzNztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIEhBTEZfU0laRSA9IE1hdGguUEkgKiBSQURJVVM7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gKi9cbmV4cG9ydCB2YXIgRVhURU5UID0gWy1IQUxGX1NJWkUsIC1IQUxGX1NJWkUsIEhBTEZfU0laRSwgSEFMRl9TSVpFXTtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IHZhciBXT1JMRF9FWFRFTlQgPSBbLTE4MCwgLTg1LCAxODAsIDg1XTtcbi8qKlxuICogTWF4aW11bSBzYWZlIHZhbHVlIGluIHkgZGlyZWN0aW9uXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgTUFYX1NBRkVfWSA9IFJBRElVUyAqIE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyAyKSk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb2plY3Rpb24gb2JqZWN0IGZvciB3ZWIvc3BoZXJpY2FsIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICovXG52YXIgRVBTRzM4NTdQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFUFNHMzg1N1Byb2plY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFUFNHMzg1N1Byb2plY3Rpb24oY29kZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgIHVuaXRzOiBVbml0cy5NRVRFUlMsXG4gICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgICAgICAgIHdvcmxkRXh0ZW50OiBXT1JMRF9FWFRFTlQsXG4gICAgICAgICAgICBnZXRQb2ludFJlc29sdXRpb246IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBwb2ludCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uIC8gY29zaChwb2ludFsxXSAvIFJBRElVUyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRVBTRzM4NTdQcm9qZWN0aW9uO1xufShQcm9qZWN0aW9uKSk7XG4vKipcbiAqIFByb2plY3Rpb25zIGVxdWFsIHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCB2YXIgUFJPSkVDVElPTlMgPSBbXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzozODU3JyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzoxMDIxMDAnKSxcbiAgICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdFUFNHOjEwMjExMycpLFxuICAgIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6OTAwOTEzJyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzM4NTcnKSxcbl07XG4vKipcbiAqIFRyYW5zZm9ybWF0aW9uIGZyb20gRVBTRzo0MzI2IHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X291dHB1dCBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9kaW1lbnNpb24gRGltZW5zaW9uIChkZWZhdWx0IGlzIGAyYCkuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRVBTRzQzMjYoaW5wdXQsIG9wdF9vdXRwdXQsIG9wdF9kaW1lbnNpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIHZhciBkaW1lbnNpb24gPSBvcHRfZGltZW5zaW9uID4gMSA/IG9wdF9kaW1lbnNpb24gOiAyO1xuICAgIHZhciBvdXRwdXQgPSBvcHRfb3V0cHV0O1xuICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoZGltZW5zaW9uID4gMikge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgdmFsdWVzIGJleW9uZCBzZWNvbmQgZGltZW5zaW9uXG4gICAgICAgICAgICBvdXRwdXQgPSBpbnB1dC5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgICAgIG91dHB1dFtpXSA9IChIQUxGX1NJWkUgKiBpbnB1dFtpXSkgLyAxODA7XG4gICAgICAgIHZhciB5ID0gUkFESVVTICogTWF0aC5sb2coTWF0aC50YW4oKE1hdGguUEkgKiAoK2lucHV0W2kgKyAxXSArIDkwKSkgLyAzNjApKTtcbiAgICAgICAgaWYgKHkgPiBNQVhfU0FGRV9ZKSB7XG4gICAgICAgICAgICB5ID0gTUFYX1NBRkVfWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5IDwgLU1BWF9TQUZFX1kpIHtcbiAgICAgICAgICAgIHkgPSAtTUFYX1NBRkVfWTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXRbaSArIDFdID0geTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtYXRpb24gZnJvbSBFUFNHOjM4NTcgdG8gRVBTRzo0MzI2LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfb3V0cHV0IE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2RpbWVuc2lvbiBEaW1lbnNpb24gKGRlZmF1bHQgaXMgYDJgKS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRVBTRzQzMjYoaW5wdXQsIG9wdF9vdXRwdXQsIG9wdF9kaW1lbnNpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIHZhciBkaW1lbnNpb24gPSBvcHRfZGltZW5zaW9uID4gMSA/IG9wdF9kaW1lbnNpb24gOiAyO1xuICAgIHZhciBvdXRwdXQgPSBvcHRfb3V0cHV0O1xuICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoZGltZW5zaW9uID4gMikge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgdmFsdWVzIGJleW9uZCBzZWNvbmQgZGltZW5zaW9uXG4gICAgICAgICAgICBvdXRwdXQgPSBpbnB1dC5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgICAgIG91dHB1dFtpXSA9ICgxODAgKiBpbnB1dFtpXSkgLyBIQUxGX1NJWkU7XG4gICAgICAgIG91dHB1dFtpICsgMV0gPVxuICAgICAgICAgICAgKDM2MCAqIE1hdGguYXRhbihNYXRoLmV4cChpbnB1dFtpICsgMV0gLyBSQURJVVMpKSkgLyBNYXRoLlBJIC0gOTA7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcHNnMzg1Ny5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovZXBzZzQzMjZcbiAqL1xuaW1wb3J0IFByb2plY3Rpb24gZnJvbSAnLi9Qcm9qZWN0aW9uLmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuL1VuaXRzLmpzJztcbi8qKlxuICogU2VtaS1tYWpvciByYWRpdXMgb2YgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgUkFESVVTID0gNjM3ODEzNztcbi8qKlxuICogRXh0ZW50IG9mIHRoZSBFUFNHOjQzMjYgcHJvamVjdGlvbiB3aGljaCBpcyB0aGUgd2hvbGUgd29ybGQuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IHZhciBFWFRFTlQgPSBbLTE4MCwgLTkwLCAxODAsIDkwXTtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIE1FVEVSU19QRVJfVU5JVCA9IChNYXRoLlBJICogUkFESVVTKSAvIDE4MDtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJvamVjdGlvbiBvYmplY3QgZm9yIFdHUzg0IGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMgKEVQU0c6NDMyNikuXG4gKlxuICogTm90ZSB0aGF0IE9wZW5MYXllcnMgZG9lcyBub3Qgc3RyaWN0bHkgY29tcGx5IHdpdGggdGhlIEVQU0cgZGVmaW5pdGlvbi5cbiAqIFRoZSBFUFNHIHJlZ2lzdHJ5IGRlZmluZXMgNDMyNiBhcyBhIENSUyBmb3IgTGF0aXR1ZGUsTG9uZ2l0dWRlICh5LHgpLlxuICogT3BlbkxheWVycyB0cmVhdHMgRVBTRzo0MzI2IGFzIGEgcHNldWRvLXByb2plY3Rpb24sIHdpdGggeCx5IGNvb3JkaW5hdGVzLlxuICovXG52YXIgRVBTRzQzMjZQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFUFNHNDMyNlByb2plY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9heGlzT3JpZW50YXRpb24gQXhpcyBvcmllbnRhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFUFNHNDMyNlByb2plY3Rpb24oY29kZSwgb3B0X2F4aXNPcmllbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgIHVuaXRzOiBVbml0cy5ERUdSRUVTLFxuICAgICAgICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICAgICAgICBheGlzT3JpZW50YXRpb246IG9wdF9heGlzT3JpZW50YXRpb24sXG4gICAgICAgICAgICBnbG9iYWw6IHRydWUsXG4gICAgICAgICAgICBtZXRlcnNQZXJVbml0OiBNRVRFUlNfUEVSX1VOSVQsXG4gICAgICAgICAgICB3b3JsZEV4dGVudDogRVhURU5ULFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRVBTRzQzMjZQcm9qZWN0aW9uO1xufShQcm9qZWN0aW9uKSk7XG4vKipcbiAqIFByb2plY3Rpb25zIGVxdWFsIHRvIEVQU0c6NDMyNi5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCB2YXIgUFJPSkVDVElPTlMgPSBbXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignQ1JTOjg0JyksXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignRVBTRzo0MzI2JywgJ25ldScpLFxuICAgIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ3VybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0JyksXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbigndXJuOm9nYzpkZWY6Y3JzOk9HQzoyOjg0JyksXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYnLCAnbmV1JyksXG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXBzZzQzMjYuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovcHJvamVjdGlvbnNcbiAqL1xuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICovXG52YXIgY2FjaGUgPSB7fTtcbi8qKlxuICogQ2xlYXIgdGhlIHByb2plY3Rpb25zIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgY2FjaGUgPSB7fTtcbn1cbi8qKlxuICogR2V0IGEgY2FjaGVkIHByb2plY3Rpb24gYnkgY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIFRoZSBjb2RlIGZvciB0aGUgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBUaGUgcHJvamVjdGlvbiAoaWYgY2FjaGVkKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChjb2RlKSB7XG4gICAgcmV0dXJuIChjYWNoZVtjb2RlXSB8fFxuICAgICAgICBjYWNoZVtjb2RlLnJlcGxhY2UoL3VybjooeC0pP29nYzpkZWY6Y3JzOkVQU0c6KC4qOik/KFxcdyspJC8sICdFUFNHOiQzJyldIHx8XG4gICAgICAgIG51bGwpO1xufVxuLyoqXG4gKiBBZGQgYSBwcm9qZWN0aW9uIHRvIHRoZSBjYWNoZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIFRoZSBwcm9qZWN0aW9uIGNvZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFRoZSBwcm9qZWN0aW9uIHRvIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGNvZGUsIHByb2plY3Rpb24pIHtcbiAgICBjYWNoZVtjb2RlXSA9IHByb2plY3Rpb247XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9qZWN0aW9ucy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai90cmFuc2Zvcm1zXG4gKi9cbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9uPj59XG4gKi9cbnZhciB0cmFuc2Zvcm1zID0ge307XG4vKipcbiAqIENsZWFyIHRoZSB0cmFuc2Zvcm0gY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICB0cmFuc2Zvcm1zID0ge307XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIGNvbnZlcnNpb24gZnVuY3Rpb24gdG8gY29udmVydCBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2VcbiAqIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlIFNvdXJjZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSB0cmFuc2Zvcm1GbiBUcmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoc291cmNlLCBkZXN0aW5hdGlvbiwgdHJhbnNmb3JtRm4pIHtcbiAgICB2YXIgc291cmNlQ29kZSA9IHNvdXJjZS5nZXRDb2RlKCk7XG4gICAgdmFyIGRlc3RpbmF0aW9uQ29kZSA9IGRlc3RpbmF0aW9uLmdldENvZGUoKTtcbiAgICBpZiAoIShzb3VyY2VDb2RlIGluIHRyYW5zZm9ybXMpKSB7XG4gICAgICAgIHRyYW5zZm9ybXNbc291cmNlQ29kZV0gPSB7fTtcbiAgICB9XG4gICAgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXVtkZXN0aW5hdGlvbkNvZGVdID0gdHJhbnNmb3JtRm47XG59XG4vKipcbiAqIFVucmVnaXN0ZXJzIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9uIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlXG4gKiBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjbGVhbiB1cFxuICogY2FjaGVkIHRyYW5zZm9ybXMgZHVyaW5nIHRlc3RpbmcuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRoZSB1bnJlZ2lzdGVyZWQgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICB2YXIgc291cmNlQ29kZSA9IHNvdXJjZS5nZXRDb2RlKCk7XG4gICAgdmFyIGRlc3RpbmF0aW9uQ29kZSA9IGRlc3RpbmF0aW9uLmdldENvZGUoKTtcbiAgICB2YXIgdHJhbnNmb3JtID0gdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXVtkZXN0aW5hdGlvbkNvZGVdO1xuICAgIGRlbGV0ZSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gICAgaWYgKGlzRW1wdHkodHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSkpIHtcbiAgICAgICAgZGVsZXRlIHRyYW5zZm9ybXNbc291cmNlQ29kZV07XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm07XG59XG4vKipcbiAqIEdldCBhIHRyYW5zZm9ybSBnaXZlbiBhIHNvdXJjZSBjb2RlIGFuZCBhIGRlc3RpbmF0aW9uIGNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlQ29kZSBUaGUgY29kZSBmb3IgdGhlIHNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGRlc3RpbmF0aW9uQ29kZSBUaGUgY29kZSBmb3IgdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufHVuZGVmaW5lZH0gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiAoaWYgZm91bmQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHNvdXJjZUNvZGUsIGRlc3RpbmF0aW9uQ29kZSkge1xuICAgIHZhciB0cmFuc2Zvcm07XG4gICAgaWYgKHNvdXJjZUNvZGUgaW4gdHJhbnNmb3JtcyAmJiBkZXN0aW5hdGlvbkNvZGUgaW4gdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSkge1xuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm1zLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zcGhlcmVcbiAqL1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCB7IHRvRGVncmVlcywgdG9SYWRpYW5zIH0gZnJvbSAnLi9tYXRoLmpzJztcbi8qKlxuICogT2JqZWN0IGxpdGVyYWwgd2l0aCBvcHRpb25zIGZvciB0aGUge0BsaW5rIGdldExlbmd0aH0gb3Ige0BsaW5rIGdldEFyZWF9XG4gKiBmdW5jdGlvbnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTcGhlcmVNZXRyaWNPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddXG4gKiBQcm9qZWN0aW9uIG9mIHRoZSAgZ2VvbWV0cnkuICBCeSBkZWZhdWx0LCB0aGUgZ2VvbWV0cnkgaXMgYXNzdW1lZCB0byBiZSBpblxuICogV2ViIE1lcmNhdG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXM9NjM3MTAwOC44XSBTcGhlcmUgcmFkaXVzLiAgQnkgZGVmYXVsdCwgdGhlXG4gKiBbbWVhbiBFYXJ0aCByYWRpdXNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VhcnRoX3JhZGl1cyNNZWFuX3JhZGl1cylcbiAqIGZvciB0aGUgV0dTODQgZWxsaXBzb2lkIGlzIHVzZWQuXG4gKi9cbi8qKlxuICogVGhlIG1lYW4gRWFydGggcmFkaXVzICgxLzMgKiAoMmEgKyBiKSkgZm9yIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FYXJ0aF9yYWRpdXMjTWVhbl9yYWRpdXNcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9SQURJVVMgPSA2MzcxMDA4Ljg7XG4vKipcbiAqIEdldCB0aGUgZ3JlYXQgY2lyY2xlIGRpc3RhbmNlIChpbiBtZXRlcnMpIGJldHdlZW4gdHdvIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0FycmF5fSBjMSBTdGFydGluZyBjb29yZGluYXRlLlxuICogQHBhcmFtIHtBcnJheX0gYzIgRW5kaW5nIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9yYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLiAgRGVmYXVsdHMgdG8gdGhlIEVhcnRoJ3NcbiAqICAgICBtZWFuIHJhZGl1cyB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZ3JlYXQgY2lyY2xlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50cyAoaW4gbWV0ZXJzKS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlKGMxLCBjMiwgb3B0X3JhZGl1cykge1xuICAgIHZhciByYWRpdXMgPSBvcHRfcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgICB2YXIgbGF0MiA9IHRvUmFkaWFucyhjMlsxXSk7XG4gICAgdmFyIGRlbHRhTGF0QnkyID0gKGxhdDIgLSBsYXQxKSAvIDI7XG4gICAgdmFyIGRlbHRhTG9uQnkyID0gdG9SYWRpYW5zKGMyWzBdIC0gYzFbMF0pIC8gMjtcbiAgICB2YXIgYSA9IE1hdGguc2luKGRlbHRhTGF0QnkyKSAqIE1hdGguc2luKGRlbHRhTGF0QnkyKSArXG4gICAgICAgIE1hdGguc2luKGRlbHRhTG9uQnkyKSAqXG4gICAgICAgICAgICBNYXRoLnNpbihkZWx0YUxvbkJ5MikgKlxuICAgICAgICAgICAgTWF0aC5jb3MobGF0MSkgKlxuICAgICAgICAgICAgTWF0aC5jb3MobGF0Mik7XG4gICAgcmV0dXJuIDIgKiByYWRpdXMgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XG59XG4vKipcbiAqIEdldCB0aGUgY3VtdWxhdGl2ZSBncmVhdCBjaXJjbGUgbGVuZ3RoIG9mIGxpbmVzdHJpbmcgY29vcmRpbmF0ZXMgKGdlb2dyYXBoaWMpLlxuICogQHBhcmFtIHtBcnJheX0gY29vcmRpbmF0ZXMgTGluZXN0cmluZyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIChpbiBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKSB7XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWkgLSAxOyArK2kpIHtcbiAgICAgICAgbGVuZ3RoICs9IGdldERpc3RhbmNlKGNvb3JkaW5hdGVzW2ldLCBjb29yZGluYXRlc1tpICsgMV0sIHJhZGl1cyk7XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGxlbmd0aCBvZiBhIGdlb21ldHJ5LiAgVGhpcyBsZW5ndGggaXMgdGhlIHN1bSBvZiB0aGVcbiAqIGdyZWF0IGNpcmNsZSBkaXN0YW5jZXMgYmV0d2VlbiBjb29yZGluYXRlcy4gIEZvciBwb2x5Z29ucywgdGhlIGxlbmd0aCBpc1xuICogdGhlIHN1bSBvZiBhbGwgcmluZ3MuICBGb3IgcG9pbnRzLCB0aGUgbGVuZ3RoIGlzIHplcm8uICBGb3IgbXVsdGktcGFydFxuICogZ2VvbWV0cmllcywgdGhlIGxlbmd0aCBpcyB0aGUgc3VtIG9mIHRoZSBsZW5ndGggb2YgZWFjaCBwYXJ0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgQSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7U3BoZXJlTWV0cmljT3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMgZm9yIHRoZVxuICogbGVuZ3RoIGNhbGN1bGF0aW9uLiAgQnkgZGVmYXVsdCwgZ2VvbWV0cmllcyBhcmUgYXNzdW1lZCB0byBiZSBpbiAnRVBTRzozODU3Jy5cbiAqIFlvdSBjYW4gY2hhbmdlIHRoaXMgYnkgcHJvdmlkaW5nIGEgYHByb2plY3Rpb25gIG9wdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHNwaGVyaWNhbCBsZW5ndGggKGluIG1ldGVycykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZW5ndGgoZ2VvbWV0cnksIG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgREVGQVVMVF9SQURJVVM7XG4gICAgdmFyIHByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb24gfHwgJ0VQU0c6Mzg1Nyc7XG4gICAgdmFyIHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgaWYgKHR5cGUgIT09IEdlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OKSB7XG4gICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKS50cmFuc2Zvcm0ocHJvamVjdGlvbiwgJ0VQU0c6NDMyNicpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICB2YXIgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5MSU5FQVJfUklORzoge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBsZW5ndGggPSBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0xZR09OOiB7XG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGxlbmd0aCArPSBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlc1tpXSwgcmFkaXVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMCwgamogPSBjb29yZHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRzW2pdLCByYWRpdXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT046IHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyaWVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0R2VvbWV0cmllcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoKGdlb21ldHJpZXNbaV0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNwaGVyaWNhbCBhcmVhIGZvciBhIGxpc3Qgb2YgY29vcmRpbmF0ZXMuXG4gKlxuICogW1JlZmVyZW5jZV0oaHR0cHM6Ly90cnMtbmV3LmpwbC5uYXNhLmdvdi9oYW5kbGUvMjAxNC80MDQwOSlcbiAqIFJvYmVydC4gRy4gQ2hhbWJlcmxhaW4gYW5kIFdpbGxpYW0gSC4gRHVxdWV0dGUsIFwiU29tZSBBbGdvcml0aG1zIGZvclxuICogUG9seWdvbnMgb24gYSBTcGhlcmVcIiwgSlBMIFB1YmxpY2F0aW9uIDA3LTAzLCBKZXQgUHJvcHVsc2lvblxuICogTGFib3JhdG9yeSwgUGFzYWRlbmEsIENBLCBKdW5lIDIwMDdcbiAqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgTGlzdCBvZiBjb29yZGluYXRlcyBvZiBhIGxpbmVhclxuICogcmluZy4gSWYgdGhlIHJpbmcgaXMgb3JpZW50ZWQgY2xvY2t3aXNlLCB0aGUgYXJlYSB3aWxsIGJlIHBvc2l0aXZlLFxuICogb3RoZXJ3aXNlIGl0IHdpbGwgYmUgbmVnYXRpdmUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFRoZSBzcGhlcmUgcmFkaXVzLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhIChpbiBzcXVhcmUgbWV0ZXJzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzLCByYWRpdXMpIHtcbiAgICB2YXIgYXJlYSA9IDA7XG4gICAgdmFyIGxlbiA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICB2YXIgeDEgPSBjb29yZGluYXRlc1tsZW4gLSAxXVswXTtcbiAgICB2YXIgeTEgPSBjb29yZGluYXRlc1tsZW4gLSAxXVsxXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciB4MiA9IGNvb3JkaW5hdGVzW2ldWzBdO1xuICAgICAgICB2YXIgeTIgPSBjb29yZGluYXRlc1tpXVsxXTtcbiAgICAgICAgYXJlYSArPVxuICAgICAgICAgICAgdG9SYWRpYW5zKHgyIC0geDEpICpcbiAgICAgICAgICAgICAgICAoMiArIE1hdGguc2luKHRvUmFkaWFucyh5MSkpICsgTWF0aC5zaW4odG9SYWRpYW5zKHkyKSkpO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gKGFyZWEgKiByYWRpdXMgKiByYWRpdXMpIC8gMi4wO1xufVxuLyoqXG4gKiBHZXQgdGhlIHNwaGVyaWNhbCBhcmVhIG9mIGEgZ2VvbWV0cnkuICBUaGlzIGlzIHRoZSBhcmVhIChpbiBtZXRlcnMpIGFzc3VtaW5nXG4gKiB0aGF0IHBvbHlnb24gZWRnZXMgYXJlIHNlZ21lbnRzIG9mIGdyZWF0IGNpcmNsZXMgb24gYSBzcGhlcmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBBIGdlb21ldHJ5LlxuICogQHBhcmFtIHtTcGhlcmVNZXRyaWNPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIGFyZWFcbiAqICAgICBjYWxjdWxhdGlvbi4gIEJ5IGRlZmF1bHQsIGdlb21ldHJpZXMgYXJlIGFzc3VtZWQgdG8gYmUgaW4gJ0VQU0c6Mzg1NycuXG4gKiAgICAgWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBwcm92aWRpbmcgYSBgcHJvamVjdGlvbmAgb3B0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3BoZXJpY2FsIGFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShnZW9tZXRyeSwgb3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgIHZhciByYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCBERUZBVUxUX1JBRElVUztcbiAgICB2YXIgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbiB8fCAnRVBTRzozODU3JztcbiAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICBpZiAodHlwZSAhPT0gR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT04pIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpLnRyYW5zZm9ybShwcm9qZWN0aW9uLCAnRVBTRzo0MzI2Jyk7XG4gICAgfVxuICAgIHZhciBhcmVhID0gMDtcbiAgICB2YXIgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORUFSX1JJTkc6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBhcmVhID0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzW2ldLCByYWRpdXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICAgICAgYXJlYSArPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAxLCBqaiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3Jkc1tqXSwgcmFkaXVzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTjoge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJpZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRHZW9tZXRyaWVzKCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGFyZWEgKz0gZ2V0QXJlYShnZW9tZXRyaWVzW2ldLCBvcHRfb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICcgKyB0eXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBhdCB0aGUgZ2l2ZW4gZGlzdGFuY2UgYW5kIGJlYXJpbmcgZnJvbSBgYzFgLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGMxIFRoZSBvcmlnaW4gcG9pbnQgKGBbbG9uLCBsYXRdYCBpbiBkZWdyZWVzKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBUaGUgZ3JlYXQtY2lyY2xlIGRpc3RhbmNlIGJldHdlZW4gdGhlIG9yaWdpblxuICogICAgIHBvaW50IGFuZCB0aGUgdGFyZ2V0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgVGhlIGJlYXJpbmcgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcmFkaXVzIFRoZSBzcGhlcmUgcmFkaXVzIHRvIHVzZS4gIERlZmF1bHRzIHRvIHRoZSBFYXJ0aCdzXG4gKiAgICAgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgdGFyZ2V0IHBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0KGMxLCBkaXN0YW5jZSwgYmVhcmluZywgb3B0X3JhZGl1cykge1xuICAgIHZhciByYWRpdXMgPSBvcHRfcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgICB2YXIgbG9uMSA9IHRvUmFkaWFucyhjMVswXSk7XG4gICAgdmFyIGRCeVIgPSBkaXN0YW5jZSAvIHJhZGl1cztcbiAgICB2YXIgbGF0ID0gTWF0aC5hc2luKE1hdGguc2luKGxhdDEpICogTWF0aC5jb3MoZEJ5UikgK1xuICAgICAgICBNYXRoLmNvcyhsYXQxKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MoYmVhcmluZykpO1xuICAgIHZhciBsb24gPSBsb24xICtcbiAgICAgICAgTWF0aC5hdGFuMihNYXRoLnNpbihiZWFyaW5nKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MobGF0MSksIE1hdGguY29zKGRCeVIpIC0gTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQpKTtcbiAgICByZXR1cm4gW3RvRGVncmVlcyhsb24pLCB0b0RlZ3JlZXMobGF0KV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcGhlcmUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2pcbiAqL1xuLyoqXG4gKiBUaGUgb2wvcHJvaiBtb2R1bGUgc3RvcmVzOlxuICogKiBhIGxpc3Qgb2Yge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259XG4gKiBvYmplY3RzLCBvbmUgZm9yIGVhY2ggcHJvamVjdGlvbiBzdXBwb3J0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uXG4gKiAqIGEgbGlzdCBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIG5lZWRlZCB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGluIG9uZSBwcm9qZWN0aW9uXG4gKiBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIHN0YXRpYyBmdW5jdGlvbnMgYXJlIHRoZSBtZXRob2RzIHVzZWQgdG8gbWFpbnRhaW4gdGhlc2UuXG4gKiBFYWNoIHRyYW5zZm9ybSBmdW5jdGlvbiBjYW4gaGFuZGxlIG5vdCBvbmx5IHNpbXBsZSBjb29yZGluYXRlIHBhaXJzLCBidXQgYWxzb1xuICogbGFyZ2UgYXJyYXlzIG9mIGNvb3JkaW5hdGVzIHN1Y2ggYXMgdmVjdG9yIGdlb21ldHJpZXMuXG4gKlxuICogV2hlbiBsb2FkZWQsIHRoZSBsaWJyYXJ5IGFkZHMgcHJvamVjdGlvbiBvYmplY3RzIGZvciBFUFNHOjQzMjYgKFdHUzg0XG4gKiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzKSBhbmQgRVBTRzozODU3IChXZWIgb3IgU3BoZXJpY2FsIE1lcmNhdG9yLCBhcyB1c2VkXG4gKiBmb3IgZXhhbXBsZSBieSBCaW5nIE1hcHMgb3IgT3BlblN0cmVldE1hcCksIHRvZ2V0aGVyIHdpdGggdGhlIHJlbGV2YW50XG4gKiB0cmFuc2Zvcm0gZnVuY3Rpb25zLlxuICpcbiAqIEFkZGl0aW9uYWwgdHJhbnNmb3JtcyBtYXkgYmUgYWRkZWQgYnkgdXNpbmcgdGhlIGh0dHA6Ly9wcm9qNGpzLm9yZy9cbiAqIGxpYnJhcnkgKHZlcnNpb24gMi4yIG9yIGxhdGVyKS4gWW91IGNhbiB1c2UgdGhlIGZ1bGwgYnVpbGQgc3VwcGxpZWQgYnlcbiAqIFByb2o0anMsIG9yIGNyZWF0ZSBhIGN1c3RvbSBidWlsZCB0byBzdXBwb3J0IHRob3NlIHByb2plY3Rpb25zIHlvdSBuZWVkOyBzZWVcbiAqIHRoZSBQcm9qNGpzIHdlYnNpdGUgZm9yIGhvdyB0byBkbyB0aGlzLiBZb3UgYWxzbyBuZWVkIHRoZSBQcm9qNGpzIGRlZmluaXRpb25zXG4gKiBmb3IgdGhlIHJlcXVpcmVkIHByb2plY3Rpb25zLiBUaGVzZSBkZWZpbml0aW9ucyBjYW4gYmUgb2J0YWluZWQgZnJvbVxuICogaHR0cHM6Ly9lcHNnLmlvLywgYW5kIGFyZSBhIEpTIGZ1bmN0aW9uLCBzbyBjYW4gYmUgbG9hZGVkIGluIGEgc2NyaXB0XG4gKiB0YWcgKGFzIGluIHRoZSBleGFtcGxlcykgb3IgcGFzdGVkIGludG8geW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBBZnRlciBhbGwgcmVxdWlyZWQgcHJvamVjdGlvbiBkZWZpbml0aW9ucyBhcmUgYWRkZWQgdG8gcHJvajQncyByZWdpc3RyeSAoYnlcbiAqIHVzaW5nIGBwcm9qNC5kZWZzKClgKSwgc2ltcGx5IGNhbGwgYHJlZ2lzdGVyKHByb2o0KWAgZnJvbSB0aGUgYG9sL3Byb2ovcHJvajRgXG4gKiBwYWNrYWdlLiBFeGlzdGluZyB0cmFuc2Zvcm1zIGFyZSBub3QgY2hhbmdlZCBieSB0aGlzIGZ1bmN0aW9uLiBTZWVcbiAqIGV4YW1wbGVzL3dtcy1pbWFnZS1jdXN0b20tcHJvaiBmb3IgYW4gZXhhbXBsZSBvZiB0aGlzLlxuICpcbiAqIEFkZGl0aW9uYWwgcHJvamVjdGlvbiBkZWZpbml0aW9ucyBjYW4gYmUgcmVnaXN0ZXJlZCB3aXRoIGBwcm9qNC5kZWZzKClgIGFueVxuICogdGltZS4gSnVzdCBtYWtlIHN1cmUgdG8gY2FsbCBgcmVnaXN0ZXIocHJvajQpYCBhZ2FpbjsgZm9yIGV4YW1wbGUsIHdpdGggdXNlci1zdXBwbGllZCBkYXRhIHdoZXJlIHlvdSBkb24ndFxuICoga25vdyBpbiBhZHZhbmNlIHdoYXQgcHJvamVjdGlvbnMgYXJlIG5lZWRlZCwgeW91IGNhbiBpbml0aWFsbHkgbG9hZCBtaW5pbWFsXG4gKiBzdXBwb3J0IGFuZCB0aGVuIGxvYWQgd2hpY2hldmVyIGFyZSByZXF1ZXN0ZWQuXG4gKlxuICogTm90ZSB0aGF0IFByb2o0anMgZG9lcyBub3Qgc3VwcG9ydCBwcm9qZWN0aW9uIGV4dGVudHMuIElmIHlvdSB3YW50IHRvIGFkZFxuICogb25lIGZvciBjcmVhdGluZyBkZWZhdWx0IHRpbGUgZ3JpZHMsIHlvdSBjYW4gYWRkIGl0IGFmdGVyIHRoZSBQcm9qZWN0aW9uXG4gKiBvYmplY3QgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGBzZXRFeHRlbnRgLCBmb3IgZXhhbXBsZSxcbiAqIGBnZXQoJ0VQU0c6MTIzNCcpLnNldEV4dGVudChleHRlbnQpYC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBQcm9qNGpzIHN1cHBvcnQsIGFueSB0cmFuc2Zvcm0gZnVuY3Rpb25zIGNhbiBiZSBhZGRlZCB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2p+YWRkQ29vcmRpbmF0ZVRyYW5zZm9ybXN9LiBUbyB1c2UgdGhpcywgeW91IG11c3QgZmlyc3QgY3JlYXRlXG4gKiBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSBvYmplY3QgZm9yIHRoZSBuZXcgcHJvamVjdGlvbiBhbmQgYWRkIGl0IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvan5hZGRQcm9qZWN0aW9ufS4gWW91IGNhbiB0aGVuIGFkZCB0aGUgZm9yd2FyZCBhbmQgaW52ZXJzZVxuICogZnVuY3Rpb25zIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9wcm9qfmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zfS4gU2VlXG4gKiBleGFtcGxlcy93bXMtY3VzdG9tLXByb2ogZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKiBOb3RlIHRoYXQgaWYgbm8gdHJhbnNmb3JtcyBhcmUgbmVlZGVkIGFuZCB5b3Ugb25seSBuZWVkIHRvIGRlZmluZSB0aGVcbiAqIHByb2plY3Rpb24sIGp1c3QgYWRkIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvan5hZGRQcm9qZWN0aW9ufS4gU2VlIGV4YW1wbGVzL3dtcy1uby1wcm9qIGZvciBhbiBleGFtcGxlIG9mXG4gKiB0aGlzLlxuICovXG5pbXBvcnQgUHJvamVjdGlvbiBmcm9tICcuL3Byb2ovUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMsIHsgTUVURVJTX1BFUl9VTklUIH0gZnJvbSAnLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IFBST0pFQ1RJT05TIGFzIEVQU0czODU3X1BST0pFQ1RJT05TLCBmcm9tRVBTRzQzMjYsIHRvRVBTRzQzMjYsIH0gZnJvbSAnLi9wcm9qL2Vwc2czODU3LmpzJztcbmltcG9ydCB7IFBST0pFQ1RJT05TIGFzIEVQU0c0MzI2X1BST0pFQ1RJT05TIH0gZnJvbSAnLi9wcm9qL2Vwc2c0MzI2LmpzJztcbmltcG9ydCB7IGFkZCBhcyBhZGRQcm9qLCBjbGVhciBhcyBjbGVhclByb2osIGdldCBhcyBnZXRQcm9qLCB9IGZyb20gJy4vcHJvai9wcm9qZWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhZGQgYXMgYWRkVHJhbnNmb3JtRnVuYywgY2xlYXIgYXMgY2xlYXJUcmFuc2Zvcm1GdW5jcywgZ2V0IGFzIGdldFRyYW5zZm9ybUZ1bmMsIH0gZnJvbSAnLi9wcm9qL3RyYW5zZm9ybXMuanMnO1xuaW1wb3J0IHsgYXBwbHlUcmFuc2Zvcm0sIGdldFdpZHRoIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY2xhbXAsIG1vZHVsbyB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBnZXREaXN0YW5jZSB9IGZyb20gJy4vc3BoZXJlLmpzJztcbmltcG9ydCB7IGdldFdvcmxkc0F3YXkgfSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBBIHByb2plY3Rpb24gYXMge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259LCBTUlMgaWRlbnRpZmllclxuICogc3RyaW5nIG9yIHVuZGVmaW5lZC5cbiAqIEB0eXBlZGVmIHtQcm9qZWN0aW9ufHN0cmluZ3x1bmRlZmluZWR9IFByb2plY3Rpb25MaWtlXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQSB0cmFuc2Zvcm0gZnVuY3Rpb24gYWNjZXB0cyBhbiBhcnJheSBvZiBpbnB1dCBjb29yZGluYXRlIHZhbHVlcywgYW4gb3B0aW9uYWxcbiAqIG91dHB1dCBhcnJheSwgYW5kIGFuIG9wdGlvbmFsIGRpbWVuc2lvbiAoZGVmYXVsdCBzaG91bGQgYmUgMikuICBUaGUgZnVuY3Rpb25cbiAqIHRyYW5zZm9ybXMgdGhlIGlucHV0IGNvb3JkaW5hdGUgdmFsdWVzLCBwb3B1bGF0ZXMgdGhlIG91dHB1dCBhcnJheSwgYW5kXG4gKiByZXR1cm5zIHRoZSBvdXRwdXQgYXJyYXkuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKEFycmF5PG51bWJlcj4sIEFycmF5PG51bWJlcj49LCBudW1iZXI9KTogQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHsgTUVURVJTX1BFUl9VTklUIH07XG5leHBvcnQgeyBQcm9qZWN0aW9uIH07XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgY29vcmRpbmF0ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9vdXRwdXQgT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGltZW5zaW9uIERpbWVuc2lvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBjb29yZGluYXRlIGFycmF5IChuZXcgYXJyYXksIHNhbWUgY29vcmRpbmF0ZVxuICogICAgIHZhbHVlcykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZVRyYW5zZm9ybShpbnB1dCwgb3B0X291dHB1dCwgb3B0X2RpbWVuc2lvbikge1xuICAgIHZhciBvdXRwdXQ7XG4gICAgaWYgKG9wdF9vdXRwdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBvcHRfb3V0cHV0W2ldID0gaW5wdXRbaV07XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0ID0gb3B0X291dHB1dDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG91dHB1dCA9IGlucHV0LnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgY29vcmRpbmF0ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9vdXRwdXQgT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGltZW5zaW9uIERpbWVuc2lvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IElucHV0IGNvb3JkaW5hdGUgYXJyYXkgKHNhbWUgYXJyYXkgYXMgaW5wdXQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHlUcmFuc2Zvcm0oaW5wdXQsIG9wdF9vdXRwdXQsIG9wdF9kaW1lbnNpb24pIHtcbiAgICBpZiAob3B0X291dHB1dCAhPT0gdW5kZWZpbmVkICYmIGlucHV0ICE9PSBvcHRfb3V0cHV0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIG9wdF9vdXRwdXRbaV0gPSBpbnB1dFtpXTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IG9wdF9vdXRwdXQ7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dDtcbn1cbi8qKlxuICogQWRkIGEgUHJvamVjdGlvbiBvYmplY3QgdG8gdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHByb2plY3Rpb25zIHRoYXQgY2FuIGJlXG4gKiBsb29rZWQgdXAgYnkgdGhlaXIgY29kZS5cbiAqXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHByb2plY3Rpb24gUHJvamVjdGlvbiBpbnN0YW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIGFkZFByb2oocHJvamVjdGlvbi5nZXRDb2RlKCksIHByb2plY3Rpb24pO1xuICAgIGFkZFRyYW5zZm9ybUZ1bmMocHJvamVjdGlvbiwgcHJvamVjdGlvbiwgY2xvbmVUcmFuc2Zvcm0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9ucyBQcm9qZWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3Rpb25zKHByb2plY3Rpb25zKSB7XG4gICAgcHJvamVjdGlvbnMuZm9yRWFjaChhZGRQcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogRmV0Y2hlcyBhIFByb2plY3Rpb24gb2JqZWN0IGZvciB0aGUgY29kZSBzcGVjaWZpZWQuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbkxpa2UgRWl0aGVyIGEgY29kZSBzdHJpbmcgd2hpY2ggaXNcbiAqICAgICBhIGNvbWJpbmF0aW9uIG9mIGF1dGhvcml0eSBhbmQgaWRlbnRpZmllciBzdWNoIGFzIFwiRVBTRzo0MzI2XCIsIG9yIGFuXG4gKiAgICAgZXhpc3RpbmcgcHJvamVjdGlvbiBvYmplY3QsIG9yIHVuZGVmaW5lZC5cbiAqIEByZXR1cm4ge1Byb2plY3Rpb259IFByb2plY3Rpb24gb2JqZWN0LCBvciBudWxsIGlmIG5vdCBpbiBsaXN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHByb2plY3Rpb25MaWtlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwcm9qZWN0aW9uTGlrZSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBnZXRQcm9qKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocHJvamVjdGlvbkxpa2UpKVxuICAgICAgICA6IC8qKiBAdHlwZSB7UHJvamVjdGlvbn0gKi8gKHByb2plY3Rpb25MaWtlKSB8fCBudWxsO1xufVxuLyoqXG4gKiBHZXQgdGhlIHJlc29sdXRpb24gb2YgdGhlIHBvaW50IGluIGRlZ3JlZXMgb3IgZGlzdGFuY2UgdW5pdHMuXG4gKiBGb3IgcHJvamVjdGlvbnMgd2l0aCBkZWdyZWVzIGFzIHRoZSB1bml0IHRoaXMgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZVxuICogcHJvdmlkZWQgcmVzb2x1dGlvbi4gRm9yIG90aGVyIHByb2plY3Rpb25zIHRoZSBwb2ludCByZXNvbHV0aW9uIGlzXG4gKiBieSBkZWZhdWx0IGVzdGltYXRlZCBieSB0cmFuc2Zvcm1pbmcgdGhlICdwb2ludCcgcGl4ZWwgdG8gRVBTRzo0MzI2LFxuICogbWVhc3VyaW5nIGl0cyB3aWR0aCBhbmQgaGVpZ2h0IG9uIHRoZSBub3JtYWwgc3BoZXJlLFxuICogYW5kIHRha2luZyB0aGUgYXZlcmFnZSBvZiB0aGUgd2lkdGggYW5kIGhlaWdodC5cbiAqIEEgY3VzdG9tIGZ1bmN0aW9uIGNhbiBiZSBwcm92aWRlZCBmb3IgYSBzcGVjaWZpYyBwcm9qZWN0aW9uLCBlaXRoZXJcbiAqIGJ5IHNldHRpbmcgdGhlIGBnZXRQb2ludFJlc29sdXRpb25gIG9wdGlvbiBpbiB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGNvbnN0cnVjdG9yIG9yIGJ5IHVzaW5nXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9uI3NldEdldFBvaW50UmVzb2x1dGlvbn0gdG8gY2hhbmdlIGFuIGV4aXN0aW5nXG4gKiBwcm9qZWN0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBOb21pbmFsIHJlc29sdXRpb24gaW4gcHJvamVjdGlvbiB1bml0cy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50IHRvIGZpbmQgYWRqdXN0ZWQgcmVzb2x1dGlvbiBhdC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1VuaXRzLmpzXCIpLmRlZmF1bHQ9fSBvcHRfdW5pdHMgVW5pdHMgdG8gZ2V0IHRoZSBwb2ludCByZXNvbHV0aW9uIGluLlxuICogRGVmYXVsdCBpcyB0aGUgcHJvamVjdGlvbidzIHVuaXRzLlxuICogQHJldHVybiB7bnVtYmVyfSBQb2ludCByZXNvbHV0aW9uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRSZXNvbHV0aW9uKHByb2plY3Rpb24sIHJlc29sdXRpb24sIHBvaW50LCBvcHRfdW5pdHMpIHtcbiAgICBwcm9qZWN0aW9uID0gZ2V0KHByb2plY3Rpb24pO1xuICAgIHZhciBwb2ludFJlc29sdXRpb247XG4gICAgdmFyIGdldHRlciA9IHByb2plY3Rpb24uZ2V0UG9pbnRSZXNvbHV0aW9uRnVuYygpO1xuICAgIGlmIChnZXR0ZXIpIHtcbiAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gZ2V0dGVyKHJlc29sdXRpb24sIHBvaW50KTtcbiAgICAgICAgaWYgKG9wdF91bml0cyAmJiBvcHRfdW5pdHMgIT09IHByb2plY3Rpb24uZ2V0VW5pdHMoKSkge1xuICAgICAgICAgICAgdmFyIG1ldGVyc1BlclVuaXQgPSBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKTtcbiAgICAgICAgICAgIGlmIChtZXRlcnNQZXJVbml0KSB7XG4gICAgICAgICAgICAgICAgcG9pbnRSZXNvbHV0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgKHBvaW50UmVzb2x1dGlvbiAqIG1ldGVyc1BlclVuaXQpIC8gTUVURVJTX1BFUl9VTklUW29wdF91bml0c107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB1bml0cyA9IHByb2plY3Rpb24uZ2V0VW5pdHMoKTtcbiAgICAgICAgaWYgKCh1bml0cyA9PSBVbml0cy5ERUdSRUVTICYmICFvcHRfdW5pdHMpIHx8IG9wdF91bml0cyA9PSBVbml0cy5ERUdSRUVTKSB7XG4gICAgICAgICAgICBwb2ludFJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRXN0aW1hdGUgcG9pbnQgcmVzb2x1dGlvbiBieSB0cmFuc2Zvcm1pbmcgdGhlIGNlbnRlciBwaXhlbCB0byBFUFNHOjQzMjYsXG4gICAgICAgICAgICAvLyBtZWFzdXJpbmcgaXRzIHdpZHRoIGFuZCBoZWlnaHQgb24gdGhlIG5vcm1hbCBzcGhlcmUsIGFuZCB0YWtpbmcgdGhlXG4gICAgICAgICAgICAvLyBhdmVyYWdlIG9mIHRoZSB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAgICAgICAgdmFyIHRvRVBTRzQzMjZfMSA9IGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhwcm9qZWN0aW9uLCBnZXQoJ0VQU0c6NDMyNicpKTtcbiAgICAgICAgICAgIGlmICh0b0VQU0c0MzI2XzEgPT09IGlkZW50aXR5VHJhbnNmb3JtICYmIHVuaXRzICE9PSBVbml0cy5ERUdSRUVTKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gdHJhbnNmb3JtIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIHBvaW50UmVzb2x1dGlvbiA9IHJlc29sdXRpb24gKiBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMF0gLSByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzBdICsgcmVzb2x1dGlvbiAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzFdLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFswXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMV0gLSByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzFdICsgcmVzb2x1dGlvbiAvIDIsXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IHRvRVBTRzQzMjZfMSh2ZXJ0aWNlcywgdmVydGljZXMsIDIpO1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IGdldERpc3RhbmNlKHZlcnRpY2VzLnNsaWNlKDAsIDIpLCB2ZXJ0aWNlcy5zbGljZSgyLCA0KSk7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGdldERpc3RhbmNlKHZlcnRpY2VzLnNsaWNlKDQsIDYpLCB2ZXJ0aWNlcy5zbGljZSg2LCA4KSk7XG4gICAgICAgICAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gKHdpZHRoICsgaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWV0ZXJzUGVyVW5pdCA9IG9wdF91bml0c1xuICAgICAgICAgICAgICAgID8gTUVURVJTX1BFUl9VTklUW29wdF91bml0c11cbiAgICAgICAgICAgICAgICA6IHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICAgICAgaWYgKG1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBvaW50UmVzb2x1dGlvbiAvPSBtZXRlcnNQZXJVbml0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2ludFJlc29sdXRpb247XG59XG4vKipcbiAqIFJlZ2lzdGVycyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdGhhdCBkb24ndCBhbHRlciBjb29yZGluYXRlcy4gVGhvc2UgYWxsb3dcbiAqIHRvIHRyYW5zZm9ybSBiZXR3ZWVuIHByb2plY3Rpb25zIHdpdGggZXF1YWwgbWVhbmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9ucyBQcm9qZWN0aW9ucy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucykge1xuICAgIGFkZFByb2plY3Rpb25zKHByb2plY3Rpb25zKTtcbiAgICBwcm9qZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcHJvamVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNmb3JtRnVuYyhzb3VyY2UsIGRlc3RpbmF0aW9uLCBjbG9uZVRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgaW4gYW55IHByb2plY3Rpb25cbiAqIGluIHByb2plY3Rpb24xIHRvIGFueSBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24yLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8UHJvamVjdGlvbj59IHByb2plY3Rpb25zMSBQcm9qZWN0aW9ucyB3aXRoIGVxdWFsXG4gKiAgICAgbWVhbmluZy5cbiAqIEBwYXJhbSB7QXJyYXk8UHJvamVjdGlvbj59IHByb2plY3Rpb25zMiBQcm9qZWN0aW9ucyB3aXRoIGVxdWFsXG4gKiAgICAgbWVhbmluZy5cbiAqIEBwYXJhbSB7VHJhbnNmb3JtRnVuY3Rpb259IGZvcndhcmRUcmFuc2Zvcm0gVHJhbnNmb3JtYXRpb24gZnJvbSBhbnlcbiAqICAgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMSB0byBhbnkgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMi5cbiAqIEBwYXJhbSB7VHJhbnNmb3JtRnVuY3Rpb259IGludmVyc2VUcmFuc2Zvcm0gVHJhbnNmb3JtIGZyb20gYW55IHByb2plY3Rpb25cbiAqICAgaW4gcHJvamVjdGlvbjIgdG8gYW55IHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjEuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXF1aXZhbGVudFRyYW5zZm9ybXMocHJvamVjdGlvbnMxLCBwcm9qZWN0aW9uczIsIGZvcndhcmRUcmFuc2Zvcm0sIGludmVyc2VUcmFuc2Zvcm0pIHtcbiAgICBwcm9qZWN0aW9uczEuZm9yRWFjaChmdW5jdGlvbiAocHJvamVjdGlvbjEpIHtcbiAgICAgICAgcHJvamVjdGlvbnMyLmZvckVhY2goZnVuY3Rpb24gKHByb2plY3Rpb24yKSB7XG4gICAgICAgICAgICBhZGRUcmFuc2Zvcm1GdW5jKHByb2plY3Rpb24xLCBwcm9qZWN0aW9uMiwgZm9yd2FyZFRyYW5zZm9ybSk7XG4gICAgICAgICAgICBhZGRUcmFuc2Zvcm1GdW5jKHByb2plY3Rpb24yLCBwcm9qZWN0aW9uMSwgaW52ZXJzZVRyYW5zZm9ybSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBDbGVhciBhbGwgY2FjaGVkIHByb2plY3Rpb25zIGFuZCB0cmFuc2Zvcm1zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbGxQcm9qZWN0aW9ucygpIHtcbiAgICBjbGVhclByb2ooKTtcbiAgICBjbGVhclRyYW5zZm9ybUZ1bmNzKCk7XG59XG4vKipcbiAqIEBwYXJhbSB7UHJvamVjdGlvbnxzdHJpbmd8dW5kZWZpbmVkfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdENvZGUgRGVmYXVsdCBjb2RlLlxuICogQHJldHVybiB7UHJvamVjdGlvbn0gUHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2plY3Rpb24ocHJvamVjdGlvbiwgZGVmYXVsdENvZGUpIHtcbiAgICBpZiAoIXByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGdldChkZWZhdWx0Q29kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwcm9qZWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZ2V0KHByb2plY3Rpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7UHJvamVjdGlvbn0gKi8gKHByb2plY3Rpb24pO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBtb2R1bGU6b2wvcHJvan5UcmFuc2Zvcm1GdW5jdGlvbn0gZnJvbSBhIHNpbXBsZSAyRCBjb29yZGluYXRlIHRyYW5zZm9ybVxuICogZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkVHJhbnNmb3JtIENvb3JkaW5hdGVcbiAqICAgICB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHtUcmFuc2Zvcm1GdW5jdGlvbn0gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNmb3JtRnJvbUNvb3JkaW5hdGVUcmFuc2Zvcm0oY29vcmRUcmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X291dHB1dCBPdXRwdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGltZW5zaW9uIERpbWVuc2lvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGlucHV0LCBvcHRfb3V0cHV0LCBvcHRfZGltZW5zaW9uKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIHZhciBkaW1lbnNpb24gPSBvcHRfZGltZW5zaW9uICE9PSB1bmRlZmluZWQgPyBvcHRfZGltZW5zaW9uIDogMjtcbiAgICAgICAgdmFyIG91dHB1dCA9IG9wdF9vdXRwdXQgIT09IHVuZGVmaW5lZCA/IG9wdF9vdXRwdXQgOiBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBjb29yZFRyYW5zZm9ybShbaW5wdXRbaV0sIGlucHV0W2kgKyAxXV0pO1xuICAgICAgICAgICAgb3V0cHV0W2ldID0gcG9pbnRbMF07XG4gICAgICAgICAgICBvdXRwdXRbaSArIDFdID0gcG9pbnRbMV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSAyOyAtLWopIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbaSArIGpdID0gaW5wdXRbaSArIGpdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbnMgdG8gY29udmVydCBjb29yZGluYXRlcyBiZXR3ZWVuIHRoZVxuICogc291cmNlIHByb2plY3Rpb24gYW5kIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogVGhlIGZvcndhcmQgYW5kIGludmVyc2UgZnVuY3Rpb25zIGNvbnZlcnQgY29vcmRpbmF0ZSBwYWlyczsgdGhpcyBmdW5jdGlvblxuICogY29udmVydHMgdGhlc2UgaW50byB0aGUgZnVuY3Rpb25zIHVzZWQgaW50ZXJuYWxseSB3aGljaCBhbHNvIGhhbmRsZVxuICogZXh0ZW50cyBhbmQgY29vcmRpbmF0ZSBhcnJheXMuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZm9yd2FyZCBUaGUgZm9yd2FyZCB0cmFuc2Zvcm1cbiAqICAgICBmdW5jdGlvbiAodGhhdCBpcywgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uXG4gKiAgICAgcHJvamVjdGlvbikgdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSBhcyBhcmd1bWVudCBhbmQgcmV0dXJuc1xuICogICAgIHRoZSB0cmFuc2Zvcm1lZCB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGludmVyc2UgVGhlIGludmVyc2UgdHJhbnNmb3JtXG4gKiAgICAgZnVuY3Rpb24gKHRoYXQgaXMsIGZyb20gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24gdG8gdGhlIHNvdXJjZVxuICogICAgIHByb2plY3Rpb24pIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnNcbiAqICAgICB0aGUgdHJhbnNmb3JtZWQge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29vcmRpbmF0ZVRyYW5zZm9ybXMoc291cmNlLCBkZXN0aW5hdGlvbiwgZm9yd2FyZCwgaW52ZXJzZSkge1xuICAgIHZhciBzb3VyY2VQcm9qID0gZ2V0KHNvdXJjZSk7XG4gICAgdmFyIGRlc3RQcm9qID0gZ2V0KGRlc3RpbmF0aW9uKTtcbiAgICBhZGRUcmFuc2Zvcm1GdW5jKHNvdXJjZVByb2osIGRlc3RQcm9qLCBjcmVhdGVUcmFuc2Zvcm1Gcm9tQ29vcmRpbmF0ZVRyYW5zZm9ybShmb3J3YXJkKSk7XG4gICAgYWRkVHJhbnNmb3JtRnVuYyhkZXN0UHJvaiwgc291cmNlUHJvaiwgY3JlYXRlVHJhbnNmb3JtRnJvbUNvb3JkaW5hdGVUcmFuc2Zvcm0oaW52ZXJzZSkpO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIGxvbmdpdHVkZS9sYXRpdHVkZSB0byBhIGRpZmZlcmVudCBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlIGFzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUsIGkuZS5cbiAqICAgICBhbiBhcnJheSB3aXRoIGxvbmdpdHVkZSBhcyAxc3QgYW5kIGxhdGl0dWRlIGFzIDJuZCBlbGVtZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZT19IG9wdF9wcm9qZWN0aW9uIFRhcmdldCBwcm9qZWN0aW9uLiBUaGVcbiAqICAgICBkZWZhdWx0IGlzIFdlYiBNZXJjYXRvciwgaS5lLiAnRVBTRzozODU3Jy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlIHByb2plY3RlZCB0byB0aGUgdGFyZ2V0IHByb2plY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTG9uTGF0KGNvb3JkaW5hdGUsIG9wdF9wcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCAnRVBTRzo0MzI2Jywgb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1NycpO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSB0byBsb25naXR1ZGUvbGF0aXR1ZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFByb2plY3RlZCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZT19IG9wdF9wcm9qZWN0aW9uIFByb2plY3Rpb24gb2YgdGhlIGNvb3JkaW5hdGUuXG4gKiAgICAgVGhlIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgYXMgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSwgaS5lLiBhbiBhcnJheVxuICogICAgIHdpdGggbG9uZ2l0dWRlIGFzIDFzdCBhbmQgbGF0aXR1ZGUgYXMgMm5kIGVsZW1lbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0xvbkxhdChjb29yZGluYXRlLCBvcHRfcHJvamVjdGlvbikge1xuICAgIHZhciBsb25MYXQgPSB0cmFuc2Zvcm0oY29vcmRpbmF0ZSwgb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcbiAgICB2YXIgbG9uID0gbG9uTGF0WzBdO1xuICAgIGlmIChsb24gPCAtMTgwIHx8IGxvbiA+IDE4MCkge1xuICAgICAgICBsb25MYXRbMF0gPSBtb2R1bG8obG9uICsgMTgwLCAzNjApIC0gMTgwO1xuICAgIH1cbiAgICByZXR1cm4gbG9uTGF0O1xufVxuLyoqXG4gKiBDaGVja3MgaWYgdHdvIHByb2plY3Rpb25zIGFyZSB0aGUgc2FtZSwgdGhhdCBpcyBldmVyeSBjb29yZGluYXRlIGluIG9uZVxuICogcHJvamVjdGlvbiBkb2VzIHJlcHJlc2VudCB0aGUgc2FtZSBnZW9ncmFwaGljIHBvaW50IGFzIHRoZSBzYW1lIGNvb3JkaW5hdGUgaW5cbiAqIHRoZSBvdGhlciBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gcHJvamVjdGlvbjEgUHJvamVjdGlvbiAxLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uMiBQcm9qZWN0aW9uIDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBFcXVpdmFsZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVudChwcm9qZWN0aW9uMSwgcHJvamVjdGlvbjIpIHtcbiAgICBpZiAocHJvamVjdGlvbjEgPT09IHByb2plY3Rpb24yKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgZXF1YWxVbml0cyA9IHByb2plY3Rpb24xLmdldFVuaXRzKCkgPT09IHByb2plY3Rpb24yLmdldFVuaXRzKCk7XG4gICAgaWYgKHByb2plY3Rpb24xLmdldENvZGUoKSA9PT0gcHJvamVjdGlvbjIuZ2V0Q29kZSgpKSB7XG4gICAgICAgIHJldHVybiBlcXVhbFVuaXRzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMgPT09IGNsb25lVHJhbnNmb3JtICYmIGVxdWFsVW5pdHM7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2hlcyBpbiB0aGUgbGlzdCBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIGZvciB0aGUgZnVuY3Rpb24gZm9yIGNvbnZlcnRpbmdcbiAqIGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gc291cmNlUHJvamVjdGlvbiBTb3VyY2UgUHJvamVjdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IGRlc3RpbmF0aW9uUHJvamVjdGlvbiBEZXN0aW5hdGlvbiBQcm9qZWN0aW9uXG4gKiAgICAgb2JqZWN0LlxuICogQHJldHVybiB7VHJhbnNmb3JtRnVuY3Rpb259IFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pIHtcbiAgICB2YXIgc291cmNlQ29kZSA9IHNvdXJjZVByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIHZhciBkZXN0aW5hdGlvbkNvZGUgPSBkZXN0aW5hdGlvblByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIHZhciB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtRnVuYyhzb3VyY2VDb2RlLCBkZXN0aW5hdGlvbkNvZGUpO1xuICAgIGlmICghdHJhbnNmb3JtRnVuYykge1xuICAgICAgICB0cmFuc2Zvcm1GdW5jID0gaWRlbnRpdHlUcmFuc2Zvcm07XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1GdW5jO1xufVxuLyoqXG4gKiBHaXZlbiB0aGUgcHJvamVjdGlvbi1saWtlIG9iamVjdHMsIHNlYXJjaGVzIGZvciBhIHRyYW5zZm9ybWF0aW9uXG4gKiBmdW5jdGlvbiB0byBjb252ZXJ0IGEgY29vcmRpbmF0ZXMgYXJyYXkgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgIHZhciBzb3VyY2VQcm9qZWN0aW9uID0gZ2V0KHNvdXJjZSk7XG4gICAgdmFyIGRlc3RpbmF0aW9uUHJvamVjdGlvbiA9IGdldChkZXN0aW5hdGlvbik7XG4gICAgcmV0dXJuIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIHNvdXJjZSBwcm9qZWN0aW9uIHRvIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBUaGlzIHJldHVybnMgYSBuZXcgY29vcmRpbmF0ZSAoYW5kIGRvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwpLlxuICpcbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2p+dHJhbnNmb3JtRXh0ZW50fSBmb3IgZXh0ZW50IHRyYW5zZm9ybWF0aW9uLlxuICogU2VlIHRoZSB0cmFuc2Zvcm0gbWV0aG9kIG9mIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gYW5kIGl0c1xuICogc3ViY2xhc3NlcyBmb3IgZ2VvbWV0cnkgdHJhbnNmb3Jtcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24tbGlrZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24tbGlrZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICB2YXIgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gdHJhbnNmb3JtRnVuYyhjb29yZGluYXRlLCB1bmRlZmluZWQsIGNvb3JkaW5hdGUubGVuZ3RoKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBleHRlbnQgZnJvbSBzb3VyY2UgcHJvamVjdGlvbiB0byBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpc1xuICogcmV0dXJucyBhIG5ldyBleHRlbnQgKGFuZCBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9zdG9wcyBOdW1iZXIgb2Ygc3RvcHMgcGVyIHNpZGUgdXNlZCBmb3IgdGhlIHRyYW5zZm9ybS5cbiAqIEJ5IGRlZmF1bHQgb25seSB0aGUgY29ybmVycyBhcmUgdXNlZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIHRyYW5zZm9ybWVkIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZSwgZGVzdGluYXRpb24sIG9wdF9zdG9wcykge1xuICAgIHZhciB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtKHNvdXJjZSwgZGVzdGluYXRpb24pO1xuICAgIHJldHVybiBhcHBseVRyYW5zZm9ybShleHRlbnQsIHRyYW5zZm9ybUZ1bmMsIHVuZGVmaW5lZCwgb3B0X3N0b3BzKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgZ2l2ZW4gcG9pbnQgdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQgUG9pbnQuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHNvdXJjZVByb2plY3Rpb24gU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IGRlc3RpbmF0aW9uUHJvamVjdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtV2l0aFByb2plY3Rpb25zKHBvaW50LCBzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pIHtcbiAgICB2YXIgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pO1xuICAgIHJldHVybiB0cmFuc2Zvcm1GdW5jKHBvaW50KTtcbn1cbi8qKlxuICogQHR5cGUgez9Qcm9qZWN0aW9ufVxuICovXG52YXIgdXNlclByb2plY3Rpb24gPSBudWxsO1xuLyoqXG4gKiBTZXQgdGhlIHByb2plY3Rpb24gZm9yIGNvb3JkaW5hdGVzIHN1cHBsaWVkIGZyb20gYW5kIHJldHVybmVkIGJ5IEFQSSBtZXRob2RzLlxuICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGlzIG5vdCB5ZXQgYSBwYXJ0IG9mIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlclxuICogcHJvamVjdGlvbnMgaXMgbm90IHlldCBjb21wbGV0ZSBhbmQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBUaGUgdXNlciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VXNlclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIHVzZXJQcm9qZWN0aW9uID0gZ2V0KHByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBDbGVhciB0aGUgdXNlciBwcm9qZWN0aW9uIGlmIHNldC4gIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBpcyBub3QgeWV0IGEgcGFydCBvZlxuICogdGhlIHN0YWJsZSBBUEkuICBTdXBwb3J0IGZvciB1c2VyIHByb2plY3Rpb25zIGlzIG5vdCB5ZXQgY29tcGxldGUgYW5kIHNob3VsZFxuICogYmUgY29uc2lkZXJlZCBleHBlcmltZW50YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJQcm9qZWN0aW9uKCkge1xuICAgIHVzZXJQcm9qZWN0aW9uID0gbnVsbDtcbn1cbi8qKlxuICogR2V0IHRoZSBwcm9qZWN0aW9uIGZvciBjb29yZGluYXRlcyBzdXBwbGllZCBmcm9tIGFuZCByZXR1cm5lZCBieSBBUEkgbWV0aG9kcy5cbiAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBpcyBub3QgeWV0IGEgcGFydCBvZiB0aGUgc3RhYmxlIEFQSS4gIFN1cHBvcnQgZm9yIHVzZXJcbiAqIHByb2plY3Rpb25zIGlzIG5vdCB5ZXQgY29tcGxldGUgYW5kIHNob3VsZCBiZSBjb25zaWRlcmVkIGV4cGVyaW1lbnRhbC5cbiAqIEByZXR1cm5zIHs/UHJvamVjdGlvbn0gVGhlIHVzZXIgcHJvamVjdGlvbiAob3IgbnVsbCBpZiBub3Qgc2V0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJQcm9qZWN0aW9uKCkge1xuICAgIHJldHVybiB1c2VyUHJvamVjdGlvbjtcbn1cbi8qKlxuICogVXNlIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMgKFdHUy04NCBkYXR1bSkgaW4gQVBJIG1ldGhvZHMuICBOb3RlIHRoYXQgdGhpc1xuICogbWV0aG9kIGlzIG5vdCB5ZXQgYSBwYXJ0IG9mIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlciBwcm9qZWN0aW9ucyBpc1xuICogbm90IHlldCBjb21wbGV0ZSBhbmQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlR2VvZ3JhcGhpYygpIHtcbiAgICBzZXRVc2VyUHJvamVjdGlvbignRVBTRzo0MzI2Jyk7XG59XG4vKipcbiAqIFJldHVybiBhIGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQgaW50byB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBjb29yZGluYXRlIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlIElucHV0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2VQcm9qZWN0aW9uIFRoZSBpbnB1dCBjb29yZGluYXRlIHByb2plY3Rpb24uXG4gKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gVGhlIGlucHV0IGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgc291cmNlUHJvamVjdGlvbikge1xuICAgIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGU7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm0oY29vcmRpbmF0ZSwgc291cmNlUHJvamVjdGlvbiwgdXNlclByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBSZXR1cm4gYSBjb29yZGluYXRlIHRyYW5zZm9ybWVkIGZyb20gdGhlIHVzZXIgcHJvamVjdGlvbi4gIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCB0aGUgb3JpZ2luYWwgY29vcmRpbmF0ZSBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZSBJbnB1dCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gVGhlIGlucHV0IGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgZGVzdFByb2plY3Rpb24pIHtcbiAgICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHVzZXJQcm9qZWN0aW9uLCBkZXN0UHJvamVjdGlvbik7XG59XG4vKipcbiAqIFJldHVybiBhbiBleHRlbnQgdHJhbnNmb3JtZWQgaW50byB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBleHRlbnQgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IElucHV0IGV4dGVudC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZVByb2plY3Rpb24gVGhlIGlucHV0IGV4dGVudCBwcm9qZWN0aW9uLlxuICogQHJldHVybnMge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGlucHV0IGV4dGVudCBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyRXh0ZW50KGV4dGVudCwgc291cmNlUHJvamVjdGlvbikge1xuICAgIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZVByb2plY3Rpb24sIHVzZXJQcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogUmV0dXJuIGFuIGV4dGVudCB0cmFuc2Zvcm1lZCBmcm9tIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGV4dGVudCBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgSW5wdXQgZXh0ZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJucyB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBUaGUgaW5wdXQgZXh0ZW50IHRyYW5zZm9ybWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVVzZXJFeHRlbnQoZXh0ZW50LCBkZXN0UHJvamVjdGlvbikge1xuICAgIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHVzZXJQcm9qZWN0aW9uLCBkZXN0UHJvamVjdGlvbik7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBzYWZlIGNvb3JkaW5hdGUgdHJhbnNmb3JtIGZ1bmN0aW9uIGZyb20gYSBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIFwiU2FmZVwiIG1lYW5zIHRoYXQgaXQgY2FuIGhhbmRsZSB3cmFwcGluZyBvZiB4LWNvb3JkaW5hdGVzIGZvciBnbG9iYWwgcHJvamVjdGlvbnMsXG4gKiBhbmQgdGhhdCBjb29yZGluYXRlcyBleGNlZWRpbmcgdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHZhbGlkaXR5IGV4dGVudCdzIHJhbmdlIHdpbGwgYmVcbiAqIGNsYW1wZWQgdG8gdGhlIHZhbGlkaXR5IHJhbmdlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0UHJvaiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0cmFuc2Zvcm0gVHJhbnNmb3JtIGZ1bmN0aW9uIChzb3VyY2UgdG8gZGVzdGlhdGlvbikuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBTYWZlIHRyYW5zZm9ybSBmdW5jdGlvbiAoc291cmNlIHRvIGRlc3RpYXRpb24pLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2FmZUNvb3JkaW5hdGVUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdFByb2osIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgdmFyIHNvdXJjZVggPSBjb29yZFswXTtcbiAgICAgICAgdmFyIHNvdXJjZVkgPSBjb29yZFsxXTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkLCB3b3JsZHNBd2F5O1xuICAgICAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VFeHRlbnRXaWR0aCA9IGdldFdpZHRoKHNvdXJjZUV4dGVudCk7XG4gICAgICAgICAgICB3b3JsZHNBd2F5ID0gZ2V0V29ybGRzQXdheShjb29yZCwgc291cmNlUHJvaiwgc291cmNlRXh0ZW50V2lkdGgpO1xuICAgICAgICAgICAgaWYgKHdvcmxkc0F3YXkpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHggdG8gdGhlIHJlYWwgd29ybGRcbiAgICAgICAgICAgICAgICBzb3VyY2VYID0gc291cmNlWCAtIHdvcmxkc0F3YXkgKiBzb3VyY2VFeHRlbnRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZVggPSBjbGFtcChzb3VyY2VYLCBzb3VyY2VFeHRlbnRbMF0sIHNvdXJjZUV4dGVudFsyXSk7XG4gICAgICAgICAgICBzb3VyY2VZID0gY2xhbXAoc291cmNlWSwgc291cmNlRXh0ZW50WzFdLCBzb3VyY2VFeHRlbnRbM10pO1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm0oW3NvdXJjZVgsIHNvdXJjZVldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtKGNvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod29ybGRzQXdheSAmJiBkZXN0UHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICAvLyBNb3ZlIHRyYW5zZm9ybWVkIGNvb3JkaW5hdGUgYmFjayB0byB0aGUgb2Zmc2V0IHdvcmxkXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZFswXSArPSB3b3JsZHNBd2F5ICogZ2V0V2lkdGgoZGVzdFByb2ouZ2V0RXh0ZW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZDtcbiAgICB9O1xufVxuLyoqXG4gKiBBZGQgdHJhbnNmb3JtcyB0byBhbmQgZnJvbSBFUFNHOjQzMjYgYW5kIEVQU0c6Mzg1Ny4gIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkXG4gKiBieSB3aGVuIHRoaXMgbW9kdWxlIGlzIGV4ZWN1dGVkIGFuZCBzaG91bGQgb25seSBuZWVkIHRvIGJlIGNhbGxlZCBhZ2FpbiBhZnRlclxuICogYGNsZWFyQWxsUHJvamVjdGlvbnMoKWAgaXMgY2FsbGVkIChlLmcuIGluIHRlc3RzKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbW1vbigpIHtcbiAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRoYXQgZG9uJ3QgYWx0ZXIgY29vcmRpbmF0ZXMgdG8gY29udmVydCB3aXRoaW4gc2V0IG9mXG4gICAgLy8gcHJvamVjdGlvbnMgd2l0aCBlcXVhbCBtZWFuaW5nLlxuICAgIGFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyhFUFNHMzg1N19QUk9KRUNUSU9OUyk7XG4gICAgYWRkRXF1aXZhbGVudFByb2plY3Rpb25zKEVQU0c0MzI2X1BST0pFQ1RJT05TKTtcbiAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRvIGNvbnZlcnQgRVBTRzo0MzI2IGxpa2UgY29vcmRpbmF0ZXMgdG8gRVBTRzozODU3IGxpa2VcbiAgICAvLyBjb29yZGluYXRlcyBhbmQgYmFjay5cbiAgICBhZGRFcXVpdmFsZW50VHJhbnNmb3JtcyhFUFNHNDMyNl9QUk9KRUNUSU9OUywgRVBTRzM4NTdfUFJPSkVDVElPTlMsIGZyb21FUFNHNDMyNiwgdG9FUFNHNDMyNik7XG59XG5hZGRDb21tb24oKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ouanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovVW5pdHNcbiAqL1xuLyoqXG4gKiBQcm9qZWN0aW9uIHVuaXRzOiBgJ2RlZ3JlZXMnYCwgYCdmdCdgLCBgJ20nYCwgYCdwaXhlbHMnYCwgYCd0aWxlLXBpeGVscydgIG9yXG4gKiBgJ3VzLWZ0J2AuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgVW5pdHMgPSB7XG4gICAgLyoqXG4gICAgICogRGVncmVlc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBERUdSRUVTOiAnZGVncmVlcycsXG4gICAgLyoqXG4gICAgICogRmVldFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGRUVUOiAnZnQnLFxuICAgIC8qKlxuICAgICAqIE1ldGVyc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNRVRFUlM6ICdtJyxcbiAgICAvKipcbiAgICAgKiBQaXhlbHNcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUElYRUxTOiAncGl4ZWxzJyxcbiAgICAvKipcbiAgICAgKiBUaWxlIFBpeGVsc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUSUxFX1BJWEVMUzogJ3RpbGUtcGl4ZWxzJyxcbiAgICAvKipcbiAgICAgKiBVUyBGZWV0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVTRkVFVDogJ3VzLWZ0Jyxcbn07XG4vKipcbiAqIE1ldGVycyBwZXIgdW5pdCBsb29rdXAgdGFibGUuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtPYmplY3Q8VW5pdHMsIG51bWJlcj59XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgTUVURVJTX1BFUl9VTklUID0ge307XG4vLyB1c2UgdGhlIHJhZGl1cyBvZiB0aGUgTm9ybWFsIHNwaGVyZVxuTUVURVJTX1BFUl9VTklUW1VuaXRzLkRFR1JFRVNdID0gKDIgKiBNYXRoLlBJICogNjM3MDk5NykgLyAzNjA7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuRkVFVF0gPSAwLjMwNDg7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuTUVURVJTXSA9IDE7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuVVNGRUVUXSA9IDEyMDAgLyAzOTM3O1xuZXhwb3J0IGRlZmF1bHQgVW5pdHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vbml0cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhc1xuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4uL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IHsgV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7IGdldEZvbnRQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vY3NzLmpzJztcbmltcG9ydCB7IHRvU3RyaW5nIH0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsbFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGZpbGxTdHlsZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIExhYmVsXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHRcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nfG51bWJlcj59IGNvbnRleHRJbnN0cnVjdGlvbnNcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaWxsU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2N1cnJlbnRGaWxsU3R5bGVdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjdXJyZW50U3Ryb2tlU3R5bGVdXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtjdXJyZW50TGluZUNhcF1cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudExpbmVEYXNoXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lRGFzaE9mZnNldF1cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtjdXJyZW50TGluZUpvaW5dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lV2lkdGhdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRNaXRlckxpbWl0XVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsYXN0U3Ryb2tlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbZmlsbFN0eWxlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlU3R5bGVdXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtsaW5lQ2FwXVxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsaW5lRGFzaE9mZnNldF1cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtsaW5lSm9pbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZVdpZHRoXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaXRlckxpbWl0XVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0cm9rZVN0YXRlXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IGxpbmVDYXBcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldFxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gbGluZUpvaW5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lV2lkdGhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaXRlckxpbWl0XG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IHN0cm9rZVN0eWxlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVGV4dFN0YXRlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZm9udFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZXh0QWxpZ25dXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGV4dEJhc2VsaW5lXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3BsYWNlbWVudF1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4QW5nbGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVyZmxvd11cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZEZpbGxdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZFN0cm9rZV1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGVdXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nXVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNlcmlhbGl6YWJsZUluc3RydWN0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaW5zdHJ1Y3Rpb25zLlxuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIFRoZSBhcnJheSBvZiBhbGwgY29vcmRpbmF0ZXMuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBUZXh0U3RhdGU+fSBbdGV4dFN0YXRlc10gVGhlIHRleHQgc3RhdGVzIChkZWNsdXR0ZXJpbmcpLlxuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgRmlsbFN0YXRlPn0gW2ZpbGxTdGF0ZXNdIFRoZSBmaWxsIHN0YXRlcyAoZGVjbHV0dGVyaW5nKS5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIFN0cm9rZVN0YXRlPn0gW3N0cm9rZVN0YXRlc10gVGhlIHN0cm9rZSBzdGF0ZXMgKGRlY2x1dHRlcmluZykuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdDxudW1iZXIsIGltcG9ydChcIi4vY2FudmFzL0V4ZWN1dG9yLmpzXCIpLlJlcGxheUltYWdlT3JMYWJlbEFyZ3M+fSBEZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XG4gKi9cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRGb250ID0gJzEwcHggc2Fucy1zZXJpZic7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdEZpbGxTdHlsZSA9ICcjMDAwJztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Q2FudmFzTGluZUNhcH1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUNhcCA9ICdyb3VuZCc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdExpbmVEYXNoID0gW107XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZURhc2hPZmZzZXQgPSAwO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUpvaW4gPSAncm91bmQnO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdE1pdGVyTGltaXQgPSAxMDtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0U3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEFsaWduID0gJ2NlbnRlcic7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdFBhZGRpbmcgPSBbMCwgMCwgMCwgMF07XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZVdpZHRoID0gMTtcbi8qKlxuICogQHR5cGUge0Jhc2VPYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgY2hlY2tlZEZvbnRzID0gbmV3IEJhc2VPYmplY3QoKTtcbi8qKlxuICogVGhlIGxhYmVsIGNhY2hlIGZvciB0ZXh0IHJlbmRlcmluZy4gVG8gY2hhbmdlIHRoZSBkZWZhdWx0IGNhY2hlIHNpemUgb2YgMjA0OFxuICogZW50cmllcywgdXNlIHtAbGluayBtb2R1bGU6b2wvc3RydWN0cy9MUlVDYWNoZSNzZXRTaXplfS5cbiAqIERlcHJlY2F0ZWQgLSB0aGVyZSBpcyBubyBsYWJlbCBjYWNoZSBhbnkgbW9yZS5cbiAqIEB0eXBlIHs/fVxuICogQGFwaVxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IHZhciBsYWJlbENhY2hlID0gbmV3IEV2ZW50VGFyZ2V0KCk7XG5sYWJlbENhY2hlLnNldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS53YXJuKCdsYWJlbENhY2hlIGlzIGRlcHJlY2F0ZWQuJyk7IC8vZXNsaW50LWRpc2FibGUtbGluZVxufTtcbi8qKlxuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqL1xudmFyIG1lYXN1cmVDb250ZXh0ID0gbnVsbDtcbi8qKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIG1lYXN1cmVGb250O1xuLyoqXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgdGV4dEhlaWdodHMgPSB7fTtcbi8qKlxuICogQ2xlYXJzIHRoZSBsYWJlbCBjYWNoZSB3aGVuIGEgZm9udCBiZWNvbWVzIGF2YWlsYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3BlYyBDU1MgZm9udCBzcGVjLlxuICovXG5leHBvcnQgdmFyIHJlZ2lzdGVyRm9udCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJldHJpZXMgPSAxMDA7XG4gICAgdmFyIHNpemUgPSAnMzJweCAnO1xuICAgIHZhciByZWZlcmVuY2VGb250cyA9IFsnbW9ub3NwYWNlJywgJ3NlcmlmJ107XG4gICAgdmFyIGxlbiA9IHJlZmVyZW5jZUZvbnRzLmxlbmd0aDtcbiAgICB2YXIgdGV4dCA9ICd3bXl0emlsV01ZVFpJTEAjLyY/JCUxMFxcdUYwMTMnO1xuICAgIHZhciBpbnRlcnZhbCwgcmVmZXJlbmNlV2lkdGg7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTdHlsZSBDc3MgZm9udC1zdHlsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250V2VpZ2h0IENzcyBmb250LXdlaWdodFxuICAgICAqIEBwYXJhbSB7Kn0gZm9udEZhbWlseSBDc3MgZm9udC1mYW1pbHlcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBGb250IHdpdGggc3R5bGUgYW5kIHdlaWdodCBpcyBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F2YWlsYWJsZShmb250U3R5bGUsIGZvbnRXZWlnaHQsIGZvbnRGYW1pbHkpIHtcbiAgICAgICAgdmFyIGF2YWlsYWJsZSA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2VGb250ID0gcmVmZXJlbmNlRm9udHNbaV07XG4gICAgICAgICAgICByZWZlcmVuY2VXaWR0aCA9IG1lYXN1cmVUZXh0V2lkdGgoZm9udFN0eWxlICsgJyAnICsgZm9udFdlaWdodCArICcgJyArIHNpemUgKyByZWZlcmVuY2VGb250LCB0ZXh0KTtcbiAgICAgICAgICAgIGlmIChmb250RmFtaWx5ICE9IHJlZmVyZW5jZUZvbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKGZvbnRTdHlsZSArXG4gICAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgICBzaXplICtcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseSArXG4gICAgICAgICAgICAgICAgICAgICcsJyArXG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUZvbnQsIHRleHQpO1xuICAgICAgICAgICAgICAgIC8vIElmIHdpZHRoIGFuZCByZWZlcmVuY2VXaWR0aCBhcmUgdGhlIHNhbWUsIHRoZW4gdGhlIGZhbGxiYWNrIHdhcyB1c2VkXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgZm9udCB3ZSB3YW50ZWQsIHNvIHRoZSBmb250IGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgYXZhaWxhYmxlID0gYXZhaWxhYmxlICYmIHdpZHRoICE9IHJlZmVyZW5jZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhdmFpbGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICAgIHZhciBkb25lID0gdHJ1ZTtcbiAgICAgICAgdmFyIGZvbnRzID0gY2hlY2tlZEZvbnRzLmdldEtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZm9udHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGZvbnQgPSBmb250c1tpXTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkRm9udHMuZ2V0KGZvbnQpIDwgcmV0cmllcykge1xuICAgICAgICAgICAgICAgIGlmIChpc0F2YWlsYWJsZS5hcHBseSh0aGlzLCBmb250LnNwbGl0KCdcXG4nKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIodGV4dEhlaWdodHMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBsb2FkZWQgZm9udHMgYXJlIHBpY2tlZCB1cCBieSBTYWZhcmlcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRm9udCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEZvbnRzLnNldChmb250LCByZXRyaWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoZm9udCwgY2hlY2tlZEZvbnRzLmdldChmb250KSArIDEsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBkb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIGludGVydmFsID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZm9udFNwZWMpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBnZXRGb250UGFyYW1ldGVycyhmb250U3BlYyk7XG4gICAgICAgIGlmICghZm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmYW1pbGllcyA9IGZvbnQuZmFtaWxpZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZhbWlsaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBmYW1pbHkgPSBmYW1pbGllc1tpXTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBmb250LnN0eWxlICsgJ1xcbicgKyBmb250LndlaWdodCArICdcXG4nICsgZmFtaWx5O1xuICAgICAgICAgICAgaWYgKGNoZWNrZWRGb250cy5nZXQoa2V5KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZEZvbnRzLnNldChrZXksIHJldHJpZXMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICghaXNBdmFpbGFibGUoZm9udC5zdHlsZSwgZm9udC53ZWlnaHQsIGZhbWlseSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEZvbnRzLnNldChrZXksIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJ2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVjaywgMzIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IE1lYXN1cmVtZW50LlxuICovXG5leHBvcnQgdmFyIG1lYXN1cmVUZXh0SGVpZ2h0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICovXG4gICAgdmFyIGRpdjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0SGVpZ2h0c1tmb250U3BlY107XG4gICAgICAgIGlmIChoZWlnaHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoV09SS0VSX09GRlNDUkVFTl9DQU5WQVMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9udCA9IGdldEZvbnRQYXJhbWV0ZXJzKGZvbnRTcGVjKTtcbiAgICAgICAgICAgICAgICB2YXIgbWV0cmljcyA9IG1lYXN1cmVUZXh0KGZvbnRTcGVjLCAnxb1nJyk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBpc05hTihOdW1iZXIoZm9udC5saW5lSGVpZ2h0KSlcbiAgICAgICAgICAgICAgICAgICAgPyAxLjJcbiAgICAgICAgICAgICAgICAgICAgOiBOdW1iZXIoZm9udC5saW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPVxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXYpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnTSc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5tYXJnaW4gPSAnMCAhaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMCAhaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlICFpbXBvcnRhbnQnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICctOTk5OTlweCAhaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmZvbnQgPSBmb250U3BlYztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZGl2Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0SGVpZ2h0c1tmb250U3BlY10gPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQuXG4gKiBAcmV0dXJuIHtUZXh0TWV0cmljc30gVGV4dCBtZXRyaWNzLlxuICovXG5mdW5jdGlvbiBtZWFzdXJlVGV4dChmb250LCB0ZXh0KSB7XG4gICAgaWYgKCFtZWFzdXJlQ29udGV4dCkge1xuICAgICAgICBtZWFzdXJlQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICB9XG4gICAgaWYgKGZvbnQgIT0gbWVhc3VyZUZvbnQpIHtcbiAgICAgICAgbWVhc3VyZUNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIG1lYXN1cmVGb250ID0gbWVhc3VyZUNvbnRleHQuZm9udDtcbiAgICB9XG4gICAgcmV0dXJuIG1lYXN1cmVDb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEByZXR1cm4ge251bWJlcn0gV2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpIHtcbiAgICByZXR1cm4gbWVhc3VyZVRleHQoZm9udCwgdGV4dCkud2lkdGg7XG59XG4vKipcbiAqIE1lYXN1cmUgdGV4dCB3aWR0aCB1c2luZyBhIGNhY2hlLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgVGhlIGZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBtZWFzdXJlLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBjYWNoZSBBIGxvb2t1cCBvZiBjYWNoZWQgd2lkdGhzIGJ5IHRleHQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgdGV4dCB3aWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZSkge1xuICAgIGlmICh0ZXh0IGluIGNhY2hlKSB7XG4gICAgICAgIHJldHVybiBjYWNoZVt0ZXh0XTtcbiAgICB9XG4gICAgdmFyIHdpZHRoID0gbWVhc3VyZVRleHRXaWR0aChmb250LCB0ZXh0KTtcbiAgICBjYWNoZVt0ZXh0XSA9IHdpZHRoO1xuICAgIHJldHVybiB3aWR0aDtcbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udCB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gbGluZXMgTGluZXMgdG8gbWVhc3VyZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gd2lkdGhzIEFycmF5IHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggdGhlIHdpZHRocyBvZlxuICogZWFjaCBsaW5lLlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aCBvZiB0aGUgd2hvbGUgdGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVUZXh0V2lkdGhzKGZvbnQsIGxpbmVzLCB3aWR0aHMpIHtcbiAgICB2YXIgbnVtTGluZXMgPSBsaW5lcy5sZW5ndGg7XG4gICAgdmFyIHdpZHRoID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUxpbmVzOyArK2kpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRXaWR0aCA9IG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgbGluZXNbaV0pO1xuICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjdXJyZW50V2lkdGgpO1xuICAgICAgICB3aWR0aHMucHVzaChjdXJyZW50V2lkdGgpO1xuICAgIH1cbiAgICByZXR1cm4gd2lkdGg7XG59XG4vKipcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCBYIG9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRZIFkgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQXRPZmZzZXQoY29udGV4dCwgcm90YXRpb24sIG9mZnNldFgsIG9mZnNldFkpIHtcbiAgICBpZiAocm90YXRpb24gIT09IDApIHtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgICAgIGNvbnRleHQucm90YXRlKHJvdGF0aW9uKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm18bnVsbH0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gKiBAcGFyYW0ge0xhYmVsfEhUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gbGFiZWxPckltYWdlIExhYmVsLlxuICogQHBhcmFtIHtudW1iZXJ9IG9yaWdpblggT3JpZ2luIFguXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoLlxuICogQHBhcmFtIHtudW1iZXJ9IGggSGVpZ2h0LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SW1hZ2VPckxhYmVsKGNvbnRleHQsIHRyYW5zZm9ybSwgb3BhY2l0eSwgbGFiZWxPckltYWdlLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCB4LCB5LCBzY2FsZSkge1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGlmIChvcGFjaXR5ICE9PSAxKSB7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgKj0gb3BhY2l0eTtcbiAgICB9XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCB0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBpZiAoIC8qKiBAdHlwZSB7Kn0gKi8obGFiZWxPckltYWdlKS5jb250ZXh0SW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIC8vIGxhYmVsXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSk7XG4gICAgICAgIGV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucygvKiogQHR5cGUge0xhYmVsfSAqLyAobGFiZWxPckltYWdlKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjYWxlWzBdIDwgMCB8fCBzY2FsZVsxXSA8IDApIHtcbiAgICAgICAgLy8gZmxpcHBlZCBpbWFnZVxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgICAgY29udGV4dC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9ICovIChsYWJlbE9ySW1hZ2UpLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCAwLCAwLCB3LCBoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGlmIGltYWdlIG5vdCBmbGlwcGVkIHRyYW5zbGF0ZSBhbmQgc2NhbGUgY2FuIGJlIGF2b2lkZWRcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSAqLyAobGFiZWxPckltYWdlKSwgb3JpZ2luWCwgb3JpZ2luWSwgdywgaCwgeCwgeSwgdyAqIHNjYWxlWzBdLCBoICogc2NhbGVbMV0pO1xuICAgIH1cbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbn1cbi8qKlxuICogQHBhcmFtIHtMYWJlbH0gbGFiZWwgTGFiZWwuXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICovXG5mdW5jdGlvbiBleGVjdXRlTGFiZWxJbnN0cnVjdGlvbnMobGFiZWwsIGNvbnRleHQpIHtcbiAgICB2YXIgY29udGV4dEluc3RydWN0aW9ucyA9IGxhYmVsLmNvbnRleHRJbnN0cnVjdGlvbnM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29udGV4dEluc3RydWN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgaSArPSAyKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRleHRJbnN0cnVjdGlvbnNbaSArIDFdKSkge1xuICAgICAgICAgICAgY29udGV4dFtjb250ZXh0SW5zdHJ1Y3Rpb25zW2ldXS5hcHBseShjb250ZXh0LCBjb250ZXh0SW5zdHJ1Y3Rpb25zW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0W2NvbnRleHRJbnN0cnVjdGlvbnNbaV1dID0gY29udGV4dEluc3RydWN0aW9uc1tpICsgMV07XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBjcmVhdGVUcmFuc2Zvcm1TdHJpbmdDYW52YXMgPSBudWxsO1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENTUyB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1TdHJpbmcodHJhbnNmb3JtKSB7XG4gICAgaWYgKFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZyh0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFjcmVhdGVUcmFuc2Zvcm1TdHJpbmdDYW52YXMpIHtcbiAgICAgICAgICAgIGNyZWF0ZVRyYW5zZm9ybVN0cmluZ0NhbnZhcyA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKS5jYW52YXM7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlVHJhbnNmb3JtU3RyaW5nQ2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IHRvU3RyaW5nKHRyYW5zZm9ybSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2Zvcm1TdHJpbmdDYW52YXMuc3R5bGUudHJhbnNmb3JtO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbnZhcy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc2l6ZVxuICovXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGEgc2l6ZTogYFt3aWR0aCwgaGVpZ2h0XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gU2l6ZVxuICogQGFwaVxuICovXG4vKipcbiAqIFJldHVybnMgYSBidWZmZXJlZCBzaXplLlxuICogQHBhcmFtIHtTaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIFRoZSBhbW91bnQgYnkgd2hpY2ggdG8gYnVmZmVyLlxuICogQHBhcmFtIHtTaXplPX0gb3B0X3NpemUgT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBidWZmZXJlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyKHNpemUsIG51bSwgb3B0X3NpemUpIHtcbiAgICBpZiAob3B0X3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRfc2l6ZSA9IFswLCAwXTtcbiAgICB9XG4gICAgb3B0X3NpemVbMF0gPSBzaXplWzBdICsgMiAqIG51bTtcbiAgICBvcHRfc2l6ZVsxXSA9IHNpemVbMV0gKyAyICogbnVtO1xuICAgIHJldHVybiBvcHRfc2l6ZTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBUaGUgc2l6ZSB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0FyZWEoc2l6ZSkge1xuICAgIHJldHVybiBzaXplWzBdID4gMCAmJiBzaXplWzFdID4gMDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHNpemUgc2NhbGVkIGJ5IGEgcmF0aW8uIFRoZSByZXN1bHQgd2lsbCBiZSBhbiBhcnJheSBvZiBpbnRlZ2Vycy5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFJhdGlvLlxuICogQHBhcmFtIHtTaXplPX0gb3B0X3NpemUgT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBzY2FsZWQgc2l6ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKHNpemUsIHJhdGlvLCBvcHRfc2l6ZSkge1xuICAgIGlmIChvcHRfc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdF9zaXplID0gWzAsIDBdO1xuICAgIH1cbiAgICBvcHRfc2l6ZVswXSA9IChzaXplWzBdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgICBvcHRfc2l6ZVsxXSA9IChzaXplWzFdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgICByZXR1cm4gb3B0X3NpemU7XG59XG4vKipcbiAqIFJldHVybnMgYW4gYFNpemVgIGFycmF5IGZvciB0aGUgcGFzc2VkIGluIG51bWJlciAobWVhbmluZzogc3F1YXJlKSBvclxuICogYFNpemVgIGFycmF5LlxuICogKG1lYW5pbmc6IG5vbi1zcXVhcmUpLFxuICogQHBhcmFtIHtudW1iZXJ8U2l6ZX0gc2l6ZSBXaWR0aCBhbmQgaGVpZ2h0LlxuICogQHBhcmFtIHtTaXplPX0gb3B0X3NpemUgT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFNpemUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1NpemUoc2l6ZSwgb3B0X3NpemUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzaXplKSkge1xuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChvcHRfc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRfc2l6ZSA9IFtzaXplLCBzaXplXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdF9zaXplWzBdID0gc2l6ZTtcbiAgICAgICAgICAgIG9wdF9zaXplWzFdID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0X3NpemU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2l6ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvUmVndWxhclNoYXBlXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBJbWFnZVN0eWxlIGZyb20gJy4vSW1hZ2UuanMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL2NvbG9yLmpzJztcbmltcG9ydCB7IGFzQ29sb3JMaWtlIH0gZnJvbSAnLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0TGluZUNhcCwgZGVmYXVsdExpbmVKb2luLCBkZWZhdWx0TGluZVdpZHRoLCBkZWZhdWx0TWl0ZXJMaW1pdCwgZGVmYXVsdFN0cm9rZVN0eWxlLCB9IGZyb20gJy4uL3JlbmRlci9jYW52YXMuanMnO1xuLyoqXG4gKiBTcGVjaWZ5IHJhZGl1cyBmb3IgcmVndWxhciBwb2x5Z29ucywgb3IgcmFkaXVzMSBhbmQgcmFkaXVzMiBmb3Igc3RhcnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbZmlsbF0gRmlsbCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwb2ludHMgTnVtYmVyIG9mIHBvaW50cyBmb3Igc3RhcnMgYW5kIHJlZ3VsYXIgcG9seWdvbnMuIEluIGNhc2Ugb2YgYSBwb2x5Z29uLCB0aGUgbnVtYmVyIG9mIHBvaW50c1xuICogaXMgdGhlIG51bWJlciBvZiBzaWRlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzXSBSYWRpdXMgb2YgYSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1czFdIE91dGVyIHJhZGl1cyBvZiBhIHN0YXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1czJdIElubmVyIHJhZGl1cyBvZiBhIHN0YXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2FuZ2xlPTBdIFNoYXBlJ3MgYW5nbGUgaW4gcmFkaWFucy4gQSB2YWx1ZSBvZiAwIHdpbGwgaGF2ZSBvbmUgb2YgdGhlIHNoYXBlJ3MgcG9pbnQgZmFjaW5nIHVwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbZGlzcGxhY2VtZW50PVswLDBdXSBEaXNwbGFjZW1lbnQgb2YgdGhlIHNoYXBlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgc2hhcGUgd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlPTFdIFNjYWxlLiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXJcbiAqIHJlc3VsdCBtYXkgYmUgb2J0YWluZWQgd2l0aCBhcHByb3ByaWF0ZSBzZXR0aW5ncyBmb3IgYHJhZGl1c2AsIGByYWRpdXMxYCBhbmQgYHJhZGl1czJgLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbmRlck9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3N0cm9rZVN0eWxlXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0cm9rZVdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZVxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBsaW5lQ2FwXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGxpbmVEYXNoXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZURhc2hPZmZzZXRcbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IGxpbmVKb2luXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWl0ZXJMaW1pdFxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCByZWd1bGFyIHNoYXBlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuIFRoZSByZXN1bHRpbmcgc2hhcGUgd2lsbCBiZVxuICogYSByZWd1bGFyIHBvbHlnb24gd2hlbiBgcmFkaXVzYCBpcyBwcm92aWRlZCwgb3IgYSBzdGFyIHdoZW4gYHJhZGl1czFgIGFuZFxuICogYHJhZGl1czJgIGFyZSBwcm92aWRlZC5cbiAqIEBhcGlcbiAqL1xudmFyIFJlZ3VsYXJTaGFwZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVndWxhclNoYXBlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZ3VsYXJTaGFwZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciByb3RhdGVXaXRoVmlldyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgOiBmYWxzZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IHJvdGF0ZVdpdGhWaWV3LFxuICAgICAgICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRpb24gOiAwLFxuICAgICAgICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgSFRNTENhbnZhc0VsZW1lbnQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWxsXyA9IG9wdGlvbnMuZmlsbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5maWxsIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHNfID0gb3B0aW9ucy5wb2ludHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yYWRpdXNfID1cbiAgICAgICAgICAgIG9wdGlvbnMucmFkaXVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJhZGl1cyA6IG9wdGlvbnMucmFkaXVzMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmFkaXVzMl8gPSBvcHRpb25zLnJhZGl1czI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5nbGVfID0gb3B0aW9ucy5hbmdsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmdsZSA6IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0cm9rZV8gPSBvcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJva2UgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VTaXplXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VTaXplXyA9IG51bGw7XG4gICAgICAgIF90aGlzLnJlbmRlcigpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7UmVndWxhclNoYXBlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgICAgIHZhciBzdHlsZSA9IG5ldyBSZWd1bGFyU2hhcGUoe1xuICAgICAgICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcG9pbnRzOiB0aGlzLmdldFBvaW50cygpLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGlzLmdldFJhZGl1cygpLFxuICAgICAgICAgICAgcmFkaXVzMjogdGhpcy5nZXRSYWRpdXMyKCksXG4gICAgICAgICAgICBhbmdsZTogdGhpcy5nZXRBbmdsZSgpLFxuICAgICAgICAgICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHN0eWxlLnNldE9wYWNpdHkodGhpcy5nZXRPcGFjaXR5KCkpO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBpbiBwaXhlbHMuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICAgKiBzeW1ib2xpemVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRBbmNob3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuY2hvcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuZ2xlIHVzZWQgaW4gZ2VuZXJhdGluZyB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBTaGFwZSdzIHJvdGF0aW9uIGluIHJhZGlhbnMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0QW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuZ2xlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmlsbCBzdHlsZSBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBGaWxsIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkNhbnZhc18pIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJPcHRpb25zID0gdGhpcy5jcmVhdGVSZW5kZXJPcHRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgaWNvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICBpZiAoIXRoaXMuY2FudmFzX1twaXhlbFJhdGlvIHx8IDFdKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyT3B0aW9ucyA9IHRoaXMuY3JlYXRlUmVuZGVyT3B0aW9ucygpO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQocmVuZGVyT3B0aW9ucy5zaXplICogcGl4ZWxSYXRpbyB8fCAxLCByZW5kZXJPcHRpb25zLnNpemUgKiBwaXhlbFJhdGlvIHx8IDEpO1xuICAgICAgICAgICAgdGhpcy5kcmF3XyhyZW5kZXJPcHRpb25zLCBjb250ZXh0LCAwLCAwLCBwaXhlbFJhdGlvIHx8IDEpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW8gfHwgMV0gPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW8gfHwgMV07XG4gICAgfTtcbiAgICAvKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgcGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFBpeGVsUmF0aW8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gcGl4ZWxSYXRpbztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEltYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VTaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2l6ZSBvZiB0aGUgaGl0LWRldGVjdGlvbiBpbWFnZS5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEhpdERldGVjdGlvbkltYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VTaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRJbWFnZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9yaWdpbiBvZiB0aGUgc3ltYm9saXplci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgcG9pbnRzIGZvciBnZW5lcmF0aW5nIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiBwb2ludHMgZm9yIHN0YXJzIGFuZCByZWd1bGFyIHBvbHlnb25zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgKHByaW1hcnkpIHJhZGl1cyBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmFkaXVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFJhZGl1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vjb25kYXJ5IHJhZGl1cyBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJhZGl1czIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0UmFkaXVzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzMl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIHN5bWJvbGl6ZXIgKGluIHBpeGVscykuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHJva2Ugc3R5bGUgZm9yIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0U3Ryb2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJva2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUubGlzdGVuSW1hZ2VDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHsgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUudW5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikgeyB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtSZW5kZXJPcHRpb25zfSAgVGhlIHJlbmRlciBvcHRpb25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxpbmVDYXAgPSBkZWZhdWx0TGluZUNhcDtcbiAgICAgICAgdmFyIGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgICAgICB2YXIgbWl0ZXJMaW1pdCA9IDA7XG4gICAgICAgIHZhciBsaW5lRGFzaCA9IG51bGw7XG4gICAgICAgIHZhciBsaW5lRGFzaE9mZnNldCA9IDA7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gMDtcbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlXykge1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZV8uZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgIGlmIChzdHJva2VTdHlsZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gZGVmYXVsdFN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZShzdHJva2VTdHlsZSk7XG4gICAgICAgICAgICBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlXy5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgaWYgKHN0cm9rZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IGRlZmF1bHRMaW5lV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lRGFzaCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgbGluZURhc2hPZmZzZXQgPSB0aGlzLnN0cm9rZV8uZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgICAgIGxpbmVKb2luID0gdGhpcy5zdHJva2VfLmdldExpbmVKb2luKCk7XG4gICAgICAgICAgICBpZiAobGluZUpvaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZUNhcCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lQ2FwKCk7XG4gICAgICAgICAgICBpZiAobGluZUNhcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGluZUNhcCA9IGRlZmF1bHRMaW5lQ2FwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWl0ZXJMaW1pdCA9IHRoaXMuc3Ryb2tlXy5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICBpZiAobWl0ZXJMaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWl0ZXJMaW1pdCA9IGRlZmF1bHRNaXRlckxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaXplID0gMiAqICh0aGlzLnJhZGl1c18gKyBzdHJva2VXaWR0aCkgKyAxO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIGxpbmVDYXA6IGxpbmVDYXAsXG4gICAgICAgICAgICBsaW5lRGFzaDogbGluZURhc2gsXG4gICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogbGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICBsaW5lSm9pbjogbGluZUpvaW4sXG4gICAgICAgICAgICBtaXRlckxpbWl0OiBtaXRlckxpbWl0LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVuZGVyT3B0aW9ucyA9IHRoaXMuY3JlYXRlUmVuZGVyT3B0aW9ucygpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChyZW5kZXJPcHRpb25zLnNpemUsIHJlbmRlck9wdGlvbnMuc2l6ZSk7XG4gICAgICAgIHRoaXMuZHJhd18ocmVuZGVyT3B0aW9ucywgY29udGV4dCwgMCwgMCwgMSk7XG4gICAgICAgIHRoaXMuY2FudmFzXyA9IHt9O1xuICAgICAgICB0aGlzLmNhbnZhc19bMV0gPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgLy8gY2FudmFzLndpZHRoIGFuZCBoZWlnaHQgYXJlIHJvdW5kZWQgdG8gdGhlIGNsb3Nlc3QgaW50ZWdlclxuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRleHQuY2FudmFzLndpZHRoO1xuICAgICAgICB2YXIgaW1hZ2VTaXplID0gc2l6ZTtcbiAgICAgICAgdmFyIGRpc3BsYWNlbWVudCA9IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VTaXplXyA9IFtyZW5kZXJPcHRpb25zLnNpemUsIHJlbmRlck9wdGlvbnMuc2l6ZV07XG4gICAgICAgIHRoaXMuY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyhyZW5kZXJPcHRpb25zKTtcbiAgICAgICAgdGhpcy5hbmNob3JfID0gW3NpemUgLyAyIC0gZGlzcGxhY2VtZW50WzBdLCBzaXplIC8gMiArIGRpc3BsYWNlbWVudFsxXV07XG4gICAgICAgIHRoaXMuc2l6ZV8gPSBbc2l6ZSwgc2l6ZV07XG4gICAgICAgIHRoaXMuaW1hZ2VTaXplXyA9IFtpbWFnZVNpemUsIGltYWdlU2l6ZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGhlIG9yaWdpbiBmb3IgdGhlIHN5bWJvbCAoeCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIG9yaWdpbiBmb3IgdGhlIHN5bWJvbCAoeSkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gVGhlIHBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZHJhd18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucywgY29udGV4dCwgeCwgeSwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgaSwgYW5nbGUwLCByYWRpdXNDO1xuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm1cbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0ocGl4ZWxSYXRpbywgMCwgMCwgcGl4ZWxSYXRpbywgMCwgMCk7XG4gICAgICAgIC8vIHRoZW4gbW92ZSB0byAoeCwgeSlcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50c187XG4gICAgICAgIGlmIChwb2ludHMgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBjb250ZXh0LmFyYyhyZW5kZXJPcHRpb25zLnNpemUgLyAyLCByZW5kZXJPcHRpb25zLnNpemUgLyAyLCB0aGlzLnJhZGl1c18sIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByYWRpdXMyID0gdGhpcy5yYWRpdXMyXyAhPT0gdW5kZWZpbmVkID8gdGhpcy5yYWRpdXMyXyA6IHRoaXMucmFkaXVzXztcbiAgICAgICAgICAgIGlmIChyYWRpdXMyICE9PSB0aGlzLnJhZGl1c18pIHtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSAyICogcG9pbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8PSBwb2ludHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGFuZ2xlMCA9IChpICogMiAqIE1hdGguUEkpIC8gcG9pbnRzIC0gTWF0aC5QSSAvIDIgKyB0aGlzLmFuZ2xlXztcbiAgICAgICAgICAgICAgICByYWRpdXNDID0gaSAlIDIgPT09IDAgPyB0aGlzLnJhZGl1c18gOiByYWRpdXMyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIgKyByYWRpdXNDICogTWF0aC5jb3MoYW5nbGUwKSwgcmVuZGVyT3B0aW9ucy5zaXplIC8gMiArIHJhZGl1c0MgKiBNYXRoLnNpbihhbmdsZTApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuICAgICAgICAgICAgaWYgKGNvbG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBkZWZhdWx0RmlsbFN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBhc0NvbG9yTGlrZShjb2xvcik7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJva2VfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gcmVuZGVyT3B0aW9ucy5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gcmVuZGVyT3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnNldExpbmVEYXNoICYmIHJlbmRlck9wdGlvbnMubGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHJlbmRlck9wdGlvbnMubGluZURhc2gpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSByZW5kZXJPcHRpb25zLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gcmVuZGVyT3B0aW9ucy5saW5lQ2FwO1xuICAgICAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHJlbmRlck9wdGlvbnMubGluZUpvaW47XG4gICAgICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSByZW5kZXJPcHRpb25zLm1pdGVyTGltaXQ7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucykge1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkNhbnZhc18gPSB0aGlzLmdldEltYWdlKDEpO1xuICAgICAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIGZpbGwgaXMgdHJhbnNwYXJlbnQgKG9yIHBhdHRlcm4gb3IgZ3JhZGllbnQpXG4gICAgICAgICAgICB2YXIgb3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gYXNBcnJheShjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eSA9IGNvbG9yLmxlbmd0aCA9PT0gNCA/IGNvbG9yWzNdIDogMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYSB0cmFuc3BhcmVudCBmaWxsIHN0eWxlIGlzIHNldCwgY3JlYXRlIGFuIGV4dHJhIGhpdC1kZXRlY3Rpb24gaW1hZ2VcbiAgICAgICAgICAgICAgICAvLyB3aXRoIGEgZGVmYXVsdCBmaWxsIHN0eWxlXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQocmVuZGVyT3B0aW9ucy5zaXplLCByZW5kZXJPcHRpb25zLnNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0hpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucywgY29udGV4dCwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW5kZXJPcHRpb25zfSByZW5kZXJPcHRpb25zIFJlbmRlciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBvcmlnaW4gZm9yIHRoZSBzeW1ib2wgKHgpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSBvcmlnaW4gZm9yIHRoZSBzeW1ib2wgKHkpLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZHJhd0hpdERldGVjdGlvbkNhbnZhc18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucywgY29udGV4dCwgeCwgeSkge1xuICAgICAgICAvLyBtb3ZlIHRvICh4LCB5KVxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzXztcbiAgICAgICAgaWYgKHBvaW50cyA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsIHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsIHRoaXMucmFkaXVzXywgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1czJfICE9PSB1bmRlZmluZWQgPyB0aGlzLnJhZGl1czJfIDogdGhpcy5yYWRpdXNfO1xuICAgICAgICAgICAgaWYgKHJhZGl1czIgIT09IHRoaXMucmFkaXVzXykge1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IDIgKiBwb2ludHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaSA9IHZvaWQgMCwgcmFkaXVzQyA9IHZvaWQgMCwgYW5nbGUwID0gdm9pZCAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8PSBwb2ludHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGFuZ2xlMCA9IChpICogMiAqIE1hdGguUEkpIC8gcG9pbnRzIC0gTWF0aC5QSSAvIDIgKyB0aGlzLmFuZ2xlXztcbiAgICAgICAgICAgICAgICByYWRpdXNDID0gaSAlIDIgPT09IDAgPyB0aGlzLnJhZGl1c18gOiByYWRpdXMyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIgKyByYWRpdXNDICogTWF0aC5jb3MoYW5nbGUwKSwgcmVuZGVyT3B0aW9ucy5zaXplIC8gMiArIHJhZGl1c0MgKiBNYXRoLnNpbihhbmdsZTApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGRlZmF1bHRGaWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICBpZiAodGhpcy5zdHJva2VfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gcmVuZGVyT3B0aW9ucy5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gcmVuZGVyT3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgIGlmIChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gcmVuZGVyT3B0aW9ucy5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9O1xuICAgIHJldHVybiBSZWd1bGFyU2hhcGU7XG59KEltYWdlU3R5bGUpKTtcbmV4cG9ydCBkZWZhdWx0IFJlZ3VsYXJTaGFwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZ3VsYXJTaGFwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvQ2lyY2xlXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgUmVndWxhclNoYXBlIGZyb20gJy4vUmVndWxhclNoYXBlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzIENpcmNsZSByYWRpdXMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2Rpc3BsYWNlbWVudD1bMCwwXV0gZGlzcGxhY2VtZW50XG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZT0xXSBTY2FsZS4gQSB0d28gZGltZW5zaW9uYWwgc2NhbGUgd2lsbCBwcm9kdWNlIGFuIGVsbGlwc2UuXG4gKiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXIgcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFuIGFwcHJvcHJpYXRlIHNldHRpbmcgZm9yIGByYWRpdXNgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gKiAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlLCBtZWFuaW5nZnVsIG9ubHkgd2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0d28gZGltZW5zaW9uYWwgc2NhbGUpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBzaGFwZSB3aXRoIHRoZSB2aWV3XG4gKiAobWVhbmluZ2Z1bCBvbmx5IHdoZW4gdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlKS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgY2lyY2xlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBDaXJjbGVTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2lyY2xlU3R5bGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDaXJjbGVTdHlsZShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBwb2ludHM6IEluZmluaXR5LFxuICAgICAgICAgICAgZmlsbDogb3B0aW9ucy5maWxsLFxuICAgICAgICAgICAgcmFkaXVzOiBvcHRpb25zLnJhZGl1cyxcbiAgICAgICAgICAgIHN0cm9rZTogb3B0aW9ucy5zdHJva2UsXG4gICAgICAgICAgICBzY2FsZTogb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDEsXG4gICAgICAgICAgICByb3RhdGlvbjogb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDAsXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogb3B0aW9ucy5yb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGVXaXRoVmlldyA6IGZhbHNlLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtDaXJjbGVTdHlsZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2lyY2xlU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgICAgIHZhciBzdHlsZSA9IG5ldyBDaXJjbGVTdHlsZSh7XG4gICAgICAgICAgICBmaWxsOiB0aGlzLmdldEZpbGwoKSA/IHRoaXMuZ2V0RmlsbCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByYWRpdXM6IHRoaXMuZ2V0UmFkaXVzKCksXG4gICAgICAgICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICAgICAgICByb3RhdGlvbjogdGhpcy5nZXRSb3RhdGlvbigpLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgICAgICAgIGRpc3BsYWNlbWVudDogdGhpcy5nZXREaXNwbGFjZW1lbnQoKS5zbGljZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgc3R5bGUuc2V0T3BhY2l0eSh0aGlzLmdldE9wYWNpdHkoKSk7XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY2lyY2xlIHJhZGl1cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgQ2lyY2xlIHJhZGl1cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2lyY2xlU3R5bGUucHJvdG90eXBlLnNldFJhZGl1cyA9IGZ1bmN0aW9uIChyYWRpdXMpIHtcbiAgICAgICAgdGhpcy5yYWRpdXNfID0gcmFkaXVzO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgcmV0dXJuIENpcmNsZVN0eWxlO1xufShSZWd1bGFyU2hhcGUpKTtcbmV4cG9ydCBkZWZhdWx0IENpcmNsZVN0eWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2lyY2xlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9GaWxsXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbY29sb3I9bnVsbF0gQSBjb2xvciwgZ3JhZGllbnQgb3IgcGF0dGVybi5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL2NvbG9yfkNvbG9yfSBhbmQge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfSBmb3IgcG9zc2libGUgZm9ybWF0cy5cbiAqIERlZmF1bHQgbnVsbDsgaWYgbnVsbCwgdGhlIENhbnZhcy9yZW5kZXJlciBkZWZhdWx0IGJsYWNrIHdpbGwgYmUgdXNlZC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgZmlsbCBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG52YXIgRmlsbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbGwob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbG9yIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS4gVGhlIGNvbG9yIGlzIG5vdCBjbG9uZWQgaWYgaXQgaXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfS5cbiAgICAgKiBAcmV0dXJuIHtGaWxsfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGaWxsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5nZXRDb2xvcigpO1xuICAgICAgICByZXR1cm4gbmV3IEZpbGwoe1xuICAgICAgICAgICAgY29sb3I6IEFycmF5LmlzQXJyYXkoY29sb3IpID8gY29sb3Iuc2xpY2UoKSA6IGNvbG9yIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZpbGwgY29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gQ29sb3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZpbGwucHJvdG90eXBlLmdldENvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBjb2xvciBDb2xvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmlsbC5wcm90b3R5cGUuc2V0Q29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgdGhpcy5jb2xvcl8gPSBjb2xvcjtcbiAgICB9O1xuICAgIHJldHVybiBGaWxsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEZpbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWxsLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JbWFnZVxuICovXG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgdG9TaXplIH0gZnJvbSAnLi4vc2l6ZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcGFjaXR5XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHJvdGF0ZVdpdGhWaWV3XG4gKiBAcHJvcGVydHkge251bWJlcn0gcm90YXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gZGlzcGxhY2VtZW50XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBiYXNlIGNsYXNzIHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdCBpbnN0YW50aWF0ZWQgaW5cbiAqIGFwcHMuIEJhc2UgY2xhc3MgZm9yIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSwge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9DaXJjbGV+Q2lyY2xlU3R5bGV9IGFuZFxuICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9SZWd1bGFyU2hhcGV+UmVndWxhclNoYXBlfS5cbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG52YXIgSW1hZ2VTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVN0eWxlKG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wYWNpdHlfID0gb3B0aW9ucy5vcGFjaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSBvcHRpb25zLnJvdGF0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlXyA9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRfID0gb3B0aW9ucy5kaXNwbGFjZW1lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7SW1hZ2VTdHlsZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZVN0eWxlKHtcbiAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0T3BhY2l0eSgpLFxuICAgICAgICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgb3BhY2l0eS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE9wYWNpdHkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldE9wYWNpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYWNpdHlfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHN5bWJvbGl6ZXIgcm90YXRlcyB3aXRoIHRoZSBtYXAuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUm90YXRlIHdpdGggbWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRSb3RhdGVXaXRoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlV2l0aFZpZXdfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzeW1vYmxpemVyIHJvdGF0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUm90YXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2NhbGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTY2FsZSBhcnJheS5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRTY2FsZUFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZUFycmF5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlzcGxhY2VtZW50IG9mIHRoZSBzaGFwZVxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFNoYXBlJ3MgY2VudGVyIGRpc3BsYWNlbWVudFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXREaXNwbGFjZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYWNlbWVudF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBpbiBwaXhlbHMuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICAgKiBzeW1ib2xpemVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRBbmNob3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBlbGVtZW50IGZvciB0aGUgc3ltYm9saXplci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgcGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEltYWdlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEltYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNpemUgb2YgdGhlIGhpdC1kZXRlY3Rpb24gaW1hZ2UuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2VTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRPcmlnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBzeW1ib2xpemVyIChpbiBwaXhlbHMpLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2l6ZS5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb3BhY2l0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbiAob3BhY2l0eSkge1xuICAgICAgICB0aGlzLm9wYWNpdHlfID0gb3BhY2l0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRvIHJvdGF0ZSB0aGUgc3R5bGUgd2l0aCB0aGUgdmlldy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm90YXRlV2l0aFZpZXcgUm90YXRlIHdpdGggbWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5zZXRSb3RhdGVXaXRoVmlldyA9IGZ1bmN0aW9uIChyb3RhdGVXaXRoVmlldykge1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHJvdGF0ZVdpdGhWaWV3O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2NhbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5zZXRTY2FsZSA9IGZ1bmN0aW9uIChzY2FsZSkge1xuICAgICAgICB0aGlzLnNjYWxlXyA9IHNjYWxlO1xuICAgICAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKHNjYWxlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VTdHlsZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBJbWFnZVN0eWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1N0cm9rZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NvbG9yXSBBIGNvbG9yLCBncmFkaWVudCBvciBwYXR0ZXJuLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvY29sb3J+Q29sb3J9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9IGZvciBwb3NzaWJsZSBmb3JtYXRzLlxuICogRGVmYXVsdCBudWxsOyBpZiBudWxsLCB0aGUgQ2FudmFzL3JlbmRlcmVyIGRlZmF1bHQgYmxhY2sgd2lsbCBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbbGluZUNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtsaW5lSm9pbj0ncm91bmQnXSBMaW5lIGpvaW4gc3R5bGU6IGBiZXZlbGAsIGByb3VuZGAsIG9yIGBtaXRlcmAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtsaW5lRGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uIERlZmF1bHQgaXMgYG51bGxgIChubyBkYXNoKS5cbiAqIFBsZWFzZSBub3RlIHRoYXQgSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIGxvd2VyIGRvIG5vdCBzdXBwb3J0IHRoZSBgc2V0TGluZURhc2hgIG1ldGhvZCBvblxuICogdGhlIGBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRgIGFuZCB0aGVyZWZvcmUgdGhpcyBvcHRpb24gd2lsbCBoYXZlIG5vIHZpc3VhbCBlZmZlY3QgaW4gdGhlc2UgYnJvd3NlcnMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVEYXNoT2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pdGVyTGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aWR0aF0gV2lkdGguXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IHN0cm9rZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogTm90ZSB0aGF0IHRoZSBkZWZhdWx0cyBnaXZlbiBhcmUgdGhlIENhbnZhcyBkZWZhdWx0cywgd2hpY2ggd2lsbCBiZSB1c2VkIGlmXG4gKiBvcHRpb24gaXMgbm90IGRlZmluZWQuIFRoZSBgZ2V0YCBmdW5jdGlvbnMgcmV0dXJuIHdoYXRldmVyIHdhcyBlbnRlcmVkIGluXG4gKiB0aGUgb3B0aW9uczsgdGhleSB3aWxsIG5vdCByZXR1cm4gdGhlIGRlZmF1bHQuXG4gKiBAYXBpXG4gKi9cbnZhciBTdHJva2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdHJva2Uob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbG9yIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUNhcF8gPSBvcHRpb25zLmxpbmVDYXA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZURhc2hfID0gb3B0aW9ucy5saW5lRGFzaCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5saW5lRGFzaCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZURhc2hPZmZzZXRfID0gb3B0aW9ucy5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNMaW5lSm9pbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVKb2luXyA9IG9wdGlvbnMubGluZUpvaW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWl0ZXJMaW1pdF8gPSBvcHRpb25zLm1pdGVyTGltaXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGhfID0gb3B0aW9ucy53aWR0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJva2V9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IHRoaXMuZ2V0Q29sb3IoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJva2Uoe1xuICAgICAgICAgICAgY29sb3I6IEFycmF5LmlzQXJyYXkoY29sb3IpID8gY29sb3Iuc2xpY2UoKSA6IGNvbG9yIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGxpbmVDYXA6IHRoaXMuZ2V0TGluZUNhcCgpLFxuICAgICAgICAgICAgbGluZURhc2g6IHRoaXMuZ2V0TGluZURhc2goKSA/IHRoaXMuZ2V0TGluZURhc2goKS5zbGljZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGluZURhc2hPZmZzZXQ6IHRoaXMuZ2V0TGluZURhc2hPZmZzZXQoKSxcbiAgICAgICAgICAgIGxpbmVKb2luOiB0aGlzLmdldExpbmVKb2luKCksXG4gICAgICAgICAgICBtaXRlckxpbWl0OiB0aGlzLmdldE1pdGVyTGltaXQoKSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmdldFdpZHRoKCksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHJva2UgY29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gQ29sb3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0Q29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGluZSBjYXAgdHlwZSBmb3IgdGhlIHN0cm9rZS5cbiAgICAgKiBAcmV0dXJuIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH0gTGluZSBjYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0TGluZUNhcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUNhcF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpbmUgZGFzaCBzdHlsZSBmb3IgdGhlIHN0cm9rZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBMaW5lIGRhc2guXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0TGluZURhc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVEYXNoXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGluZSBkYXNoIG9mZnNldCBmb3IgdGhlIHN0cm9rZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBMaW5lIGRhc2ggb2Zmc2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldExpbmVEYXNoT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lRGFzaE9mZnNldF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpbmUgam9pbiB0eXBlIGZvciB0aGUgc3Ryb2tlLlxuICAgICAqIEByZXR1cm4ge0NhbnZhc0xpbmVKb2lufHVuZGVmaW5lZH0gTGluZSBqb2luLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldExpbmVKb2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lSm9pbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1pdGVyIGxpbWl0IGZvciB0aGUgc3Ryb2tlLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IE1pdGVyIGxpbWl0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldE1pdGVyTGltaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pdGVyTGltaXRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHJva2Ugd2lkdGguXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gV2lkdGguXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29sb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldENvbG9yID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuY29sb3JfID0gY29sb3I7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgY2FwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH0gbGluZUNhcCBMaW5lIGNhcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRMaW5lQ2FwID0gZnVuY3Rpb24gKGxpbmVDYXApIHtcbiAgICAgICAgdGhpcy5saW5lQ2FwXyA9IGxpbmVDYXA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgZGFzaC5cbiAgICAgKlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIGxvd2VyIFtkbyBub3Qgc3VwcG9ydF1bbWRuXSB0aGVcbiAgICAgKiBgc2V0TGluZURhc2hgIG1ldGhvZCBvbiB0aGUgYENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRGAgYW5kIHRoZXJlZm9yZSB0aGlzXG4gICAgICogcHJvcGVydHkgd2lsbCBoYXZlIG5vIHZpc3VhbCBlZmZlY3QgaW4gdGhlc2UgYnJvd3NlcnMuXG4gICAgICpcbiAgICAgKiBbbWRuXTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRMaW5lRGFzaCNCcm93c2VyX2NvbXBhdGliaWxpdHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2ggTGluZSBkYXNoLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldExpbmVEYXNoID0gZnVuY3Rpb24gKGxpbmVEYXNoKSB7XG4gICAgICAgIHRoaXMubGluZURhc2hfID0gbGluZURhc2g7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgZGFzaCBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGxpbmVEYXNoT2Zmc2V0IExpbmUgZGFzaCBvZmZzZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuc2V0TGluZURhc2hPZmZzZXQgPSBmdW5jdGlvbiAobGluZURhc2hPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5saW5lRGFzaE9mZnNldF8gPSBsaW5lRGFzaE9mZnNldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGluZSBqb2luLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW52YXNMaW5lSm9pbnx1bmRlZmluZWR9IGxpbmVKb2luIExpbmUgam9pbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRMaW5lSm9pbiA9IGZ1bmN0aW9uIChsaW5lSm9pbikge1xuICAgICAgICB0aGlzLmxpbmVKb2luXyA9IGxpbmVKb2luO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtaXRlciBsaW1pdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gbWl0ZXJMaW1pdCBNaXRlciBsaW1pdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRNaXRlckxpbWl0ID0gZnVuY3Rpb24gKG1pdGVyTGltaXQpIHtcbiAgICAgICAgdGhpcy5taXRlckxpbWl0XyA9IG1pdGVyTGltaXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHdpZHRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB3aWR0aCBXaWR0aC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRXaWR0aCA9IGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgICB0aGlzLndpZHRoXyA9IHdpZHRoO1xuICAgIH07XG4gICAgcmV0dXJuIFN0cm9rZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdHJva2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJva2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1N0eWxlXG4gKi9cbmltcG9ydCBDaXJjbGVTdHlsZSBmcm9tICcuL0NpcmNsZS5qcyc7XG5pbXBvcnQgRmlsbCBmcm9tICcuL0ZpbGwuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgU3Ryb2tlIGZyb20gJy4vU3Ryb2tlLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBhbmQgYSBge251bWJlcn1gXG4gKiByZXByZXNlbnRpbmcgdGhlIHZpZXcncyByZXNvbHV0aW9uLiBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1N0eWxlfSBvciBhbiBhcnJheSBvZiB0aGVtLiBUaGlzIHdheSBlLmcuIGFcbiAqIHZlY3RvciBsYXllciBjYW4gYmUgc3R5bGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdW5kZWZpbmVkYCwgdGhlXG4gKiBmZWF0dXJlIHdpbGwgbm90IGJlIHJlbmRlcmVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBudW1iZXIpOihTdHlsZXxBcnJheTxTdHlsZT58dm9pZCl9IFN0eWxlRnVuY3Rpb25cbiAqL1xuLyoqXG4gKiBBIHtAbGluayBTdHlsZX0sIGFuIGFycmF5IG9mIHtAbGluayBTdHlsZX0sIG9yIGEge0BsaW5rIFN0eWxlRnVuY3Rpb259LlxuICogQHR5cGVkZWYge1N0eWxlfEFycmF5PFN0eWxlPnxTdHlsZUZ1bmN0aW9ufSBTdHlsZUxpa2VcbiAqL1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBhcyBhcmd1bWVudCBhbmQgcmV0dXJucyBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9nZW9tL0dlb21ldHJ5fSB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYW5kIHN0eWxlZCBmb3IgdGhlIGZlYXR1cmUuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UpOlxuICogICAgIChpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWQpfSBHZW9tZXRyeUZ1bmN0aW9uXG4gKi9cbi8qKlxuICogQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLiBUYWtlcyB0d28gYXJndW1lbnRzOlxuICpcbiAqIDEuIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgZ2VvbWV0cnkgaW4gR2VvSlNPTiBub3RhdGlvbi5cbiAqIDIuIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlcn5TdGF0ZX0gb2YgdGhlIGxheWVyIHJlbmRlcmVyLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT58QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4pLGltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5TdGF0ZSk6IHZvaWR9XG4gKiBSZW5kZXJGdW5jdGlvblxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufSBbZ2VvbWV0cnldIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnlcbiAqIG9yIGZ1bmN0aW9uIHJldHVybmluZyBhIGdlb21ldHJ5IHRvIHJlbmRlciBmb3IgdGhpcyBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IFtpbWFnZV0gSW1hZ2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge1JlbmRlckZ1bmN0aW9ufSBbcmVuZGVyZXJdIEN1c3RvbSByZW5kZXJlci4gV2hlbiBjb25maWd1cmVkLCBgZmlsbGAsIGBzdHJva2VgIGFuZCBgaW1hZ2VgIHdpbGwgYmVcbiAqIGlnbm9yZWQsIGFuZCB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBlYWNoIHJlbmRlciBmcmFtZSBmb3IgZWFjaCBnZW9tZXRyeS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW3N0cm9rZV0gU3Ryb2tlIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gW3RleHRdIFRleHQgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gWiBpbmRleC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250YWluZXIgZm9yIHZlY3RvciBmZWF0dXJlIHJlbmRlcmluZyBzdHlsZXMuIEFueSBjaGFuZ2VzIG1hZGUgdG8gdGhlIHN0eWxlXG4gKiBvciBpdHMgY2hpbGRyZW4gdGhyb3VnaCBgc2V0KigpYCBtZXRob2RzIHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZVxuICogZmVhdHVyZSBvciBsYXllciB0aGF0IHVzZXMgdGhlIHN0eWxlIGlzIHJlLXJlbmRlcmVkLlxuICpcbiAqICMjIEZlYXR1cmUgc3R5bGVzXG4gKlxuICogSWYgbm8gc3R5bGUgaXMgZGVmaW5lZCwgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHN0eWxlIGlzIHVzZWQ6XG4gKiBgYGBqc1xuICogIGltcG9ydCB7RmlsbCwgU3Ryb2tlLCBDaXJjbGUsIFN0eWxlfSBmcm9tICdvbC9zdHlsZSc7XG4gKlxuICogIHZhciBmaWxsID0gbmV3IEZpbGwoe1xuICogICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNCknXG4gKiAgfSk7XG4gKiAgdmFyIHN0cm9rZSA9IG5ldyBTdHJva2Uoe1xuICogICAgY29sb3I6ICcjMzM5OUNDJyxcbiAqICAgIHdpZHRoOiAxLjI1XG4gKiAgfSk7XG4gKiAgdmFyIHN0eWxlcyA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICBmaWxsOiBmaWxsLFxuICogICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICogICAgICAgIHJhZGl1czogNVxuICogICAgICB9KSxcbiAqICAgICAgZmlsbDogZmlsbCxcbiAqICAgICAgc3Ryb2tlOiBzdHJva2VcbiAqICAgIH0pXG4gKiAgXTtcbiAqIGBgYFxuICpcbiAqIEEgc2VwYXJhdGUgZWRpdGluZyBzdHlsZSBoYXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0czpcbiAqIGBgYGpzXG4gKiAgaW1wb3J0IHtGaWxsLCBTdHJva2UsIENpcmNsZSwgU3R5bGV9IGZyb20gJ29sL3N0eWxlJztcbiAqICBpbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJ29sL2dlb20vR2VvbWV0cnlUeXBlJztcbiAqXG4gKiAgdmFyIHdoaXRlID0gWzI1NSwgMjU1LCAyNTUsIDFdO1xuICogIHZhciBibHVlID0gWzAsIDE1MywgMjU1LCAxXTtcbiAqICB2YXIgd2lkdGggPSAzO1xuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl0gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMjU1LCAwLjVdXG4gKiAgICAgIH0pXG4gKiAgICB9KVxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OXSA9XG4gKiAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICogICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAqICAgICAgICB3aWR0aDogd2lkdGggKyAyXG4gKiAgICAgIH0pXG4gKiAgICB9KSxcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgY29sb3I6IGJsdWUsXG4gKiAgICAgICAgd2lkdGg6IHdpZHRoXG4gKiAgICAgIH0pXG4gKiAgICB9KVxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklOR10gPVxuICogICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXSA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICByYWRpdXM6IHdpZHRoICogMixcbiAqICAgICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgICBjb2xvcjogYmx1ZVxuICogICAgICAgIH0pLFxuICogICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gKiAgICAgICAgICB3aWR0aDogd2lkdGggLyAyXG4gKiAgICAgICAgfSlcbiAqICAgICAgfSksXG4gKiAgICAgIHpJbmRleDogSW5maW5pdHlcbiAqICAgIH0pXG4gKiAgXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UXSA9XG4gKiAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdO1xuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTl0gPVxuICogICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dLmNvbmNhdChcbiAqICAgICAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddLFxuICogICAgICAgICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF1cbiAqICAgICAgKTtcbiAqIGBgYFxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIFN0eWxlIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3R5bGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUdlb21ldHJ5RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb247XG4gICAgICAgIGlmIChvcHRpb25zLmdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0R2VvbWV0cnkob3B0aW9ucy5nZW9tZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbF8gPSBvcHRpb25zLmZpbGwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZmlsbCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbWFnZV8gPSBvcHRpb25zLmltYWdlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSZW5kZXJGdW5jdGlvbnxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSBvcHRpb25zLnJlbmRlcmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJlbmRlcmVyIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHJva2VfID0gb3B0aW9ucy5zdHJva2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3Ryb2tlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dF8gPSBvcHRpb25zLnRleHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGV4dCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuekluZGV4XyA9IG9wdGlvbnMuekluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge1N0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5ICYmIHR5cGVvZiBnZW9tZXRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuY2xvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgICAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGltYWdlOiB0aGlzLmdldEltYWdlKCkgPyB0aGlzLmdldEltYWdlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRleHQ6IHRoaXMuZ2V0VGV4dCgpID8gdGhpcy5nZXRUZXh0KCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHpJbmRleDogdGhpcy5nZXRaSW5kZXgoKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1c3RvbSByZW5kZXJlciBmdW5jdGlvbiB0aGF0IHdhcyBjb25maWd1cmVkIHdpdGhcbiAgICAgKiB7QGxpbmsgI3NldFJlbmRlcmVyfSBvciB0aGUgYHJlbmRlcmVyYCBjb25zdHJ1Y3RvciBvcHRpb24uXG4gICAgICogQHJldHVybiB7UmVuZGVyRnVuY3Rpb258bnVsbH0gQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgYSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gZm9yIHRoaXMgc3R5bGUuIFdoZW4gc2V0LCBgZmlsbGAsIGBzdHJva2VgXG4gICAgICogYW5kIGBpbWFnZWAgb3B0aW9ucyBvZiB0aGUgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7UmVuZGVyRnVuY3Rpb258bnVsbH0gcmVuZGVyZXIgQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSByZW5kZXJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZ2VvbWV0cnkgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufVxuICAgICAqIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnkgb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBnZW9tZXRyeSB0aGF0IHdpbGxcbiAgICAgKiBiZSByZW5kZXJlZCB3aXRoIHRoaXMgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIGEgZ2VvbWV0cnkgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcmV0dXJuIHshR2VvbWV0cnlGdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBhIGZlYXR1cmVcbiAgICAgKiBhbmQgcmV0dXJucyB0aGUgZ2VvbWV0cnkgdG8gcmVuZGVyIGluc3RlYWQgb2YgdGhlIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldEdlb21ldHJ5RnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmaWxsIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBGaWxsIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0RmlsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsbF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZpbGwgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbCBGaWxsIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0RmlsbCA9IGZ1bmN0aW9uIChmaWxsKSB7XG4gICAgICAgIHRoaXMuZmlsbF8gPSBmaWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaW1hZ2Ugc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3Ryb2tlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldFN0cm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3Ryb2tlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLnNldFN0cm9rZSA9IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgdGhpcy5zdHJva2VfID0gc3Ryb2tlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0ZXh0IHN0eWxlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fSBUZXh0IHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHRleHQgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dCBUZXh0IHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dF8gPSB0ZXh0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB6LWluZGV4IGZvciB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gWkluZGV4LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0WkluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy56SW5kZXhfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgZ2VvbWV0cnkgdGhhdCBpcyByZW5kZXJlZCBpbnN0ZWFkIG9mIHRoZSBmZWF0dXJlJ3MgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn0gZ2VvbWV0cnlcbiAgICAgKiAgICAgRmVhdHVyZSBwcm9wZXJ0eSBvciBnZW9tZXRyeSBvciBmdW5jdGlvbiByZXR1cm5pbmcgYSBnZW9tZXRyeSB0byByZW5kZXJcbiAgICAgKiAgICAgZm9yIHRoaXMgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGdlb21ldHJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZ2VvbWV0cnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGdlb21ldHJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZmVhdHVyZS5nZXQoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlfID0gZ2VvbWV0cnk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHotaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHpJbmRleCBaSW5kZXguXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRaSW5kZXggPSBmdW5jdGlvbiAoekluZGV4KSB7XG4gICAgICAgIHRoaXMuekluZGV4XyA9IHpJbmRleDtcbiAgICB9O1xuICAgIHJldHVybiBTdHlsZTtcbn0oKSk7XG4vKipcbiAqIENvbnZlcnQgdGhlIHByb3ZpZGVkIG9iamVjdCBpbnRvIGEgc3R5bGUgZnVuY3Rpb24uICBGdW5jdGlvbnMgcGFzc2VkIHRocm91Z2hcbiAqIHVuY2hhbmdlZC4gIEFycmF5cyBvZiBTdHlsZSBvciBzaW5nbGUgc3R5bGUgb2JqZWN0cyB3cmFwcGVkIGluIGFcbiAqIG5ldyBzdHlsZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7U3R5bGVGdW5jdGlvbnxBcnJheTxTdHlsZT58U3R5bGV9IG9ialxuICogICAgIEEgc3R5bGUgZnVuY3Rpb24sIGEgc2luZ2xlIHN0eWxlLCBvciBhbiBhcnJheSBvZiBzdHlsZXMuXG4gKiBAcmV0dXJuIHtTdHlsZUZ1bmN0aW9ufSBBIHN0eWxlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9GdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc3R5bGVGdW5jdGlvbjtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzdHlsZUZ1bmN0aW9uID0gb2JqO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxTdHlsZT59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc3R5bGVzXzE7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIHN0eWxlc18xID0gb2JqO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob2JqKS5nZXRaSW5kZXgpID09PSAnZnVuY3Rpb24nLCA0MSk7IC8vIEV4cGVjdGVkIGFuIGBTdHlsZWAgb3IgYW4gYXJyYXkgb2YgYFN0eWxlYFxuICAgICAgICAgICAgdmFyIHN0eWxlID0gLyoqIEB0eXBlIHtTdHlsZX0gKi8gKG9iaik7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IFtzdHlsZV07XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGVGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZXNfMTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlRnVuY3Rpb247XG59XG4vKipcbiAqIEB0eXBlIHtBcnJheTxTdHlsZT59XG4gKi9cbnZhciBkZWZhdWx0U3R5bGVzID0gbnVsbDtcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHJldHVybiB7QXJyYXk8U3R5bGU+fSBTdHlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRTdHlsZShmZWF0dXJlLCByZXNvbHV0aW9uKSB7XG4gICAgLy8gV2UgZG9uJ3QgdXNlIGFuIGltbWVkaWF0ZWx5LWludm9rZWQgZnVuY3Rpb25cbiAgICAvLyBhbmQgYSBjbG9zdXJlIHNvIHdlIGRvbid0IGdldCBhbiBlcnJvciBhdCBzY3JpcHQgZXZhbHVhdGlvbiB0aW1lIGluXG4gICAgLy8gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBDYW52YXMuIChpbXBvcnQoXCIuL0NpcmNsZS5qc1wiKS5DaXJjbGVTdHlsZSBkb2VzXG4gICAgLy8gY2FudmFzLmdldENvbnRleHQoJzJkJykgYXQgY29uc3RydWN0aW9uIHRpbWUsIHdoaWNoIHdpbGwgY2F1c2UgYW4uZXJyb3JcbiAgICAvLyBpbiBzdWNoIGJyb3dzZXJzLilcbiAgICBpZiAoIWRlZmF1bHRTdHlsZXMpIHtcbiAgICAgICAgdmFyIGZpbGwgPSBuZXcgRmlsbCh7XG4gICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC40KScsXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc3Ryb2tlID0gbmV3IFN0cm9rZSh7XG4gICAgICAgICAgICBjb2xvcjogJyMzMzk5Q0MnLFxuICAgICAgICAgICAgd2lkdGg6IDEuMjUsXG4gICAgICAgIH0pO1xuICAgICAgICBkZWZhdWx0U3R5bGVzID0gW1xuICAgICAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgICAgICBpbWFnZTogbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogNSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBmaWxsOiBmaWxsLFxuICAgICAgICAgICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0U3R5bGVzO1xufVxuLyoqXG4gKiBEZWZhdWx0IHN0eWxlcyBmb3IgZWRpdGluZyBmZWF0dXJlcy5cbiAqIEByZXR1cm4ge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0LCBBcnJheTxTdHlsZT4+fSBTdHlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVkaXRpbmdTdHlsZSgpIHtcbiAgICAvKiogQHR5cGUge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0LCBBcnJheTxTdHlsZT4+fSAqL1xuICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICB2YXIgd2hpdGUgPSBbMjU1LCAyNTUsIDI1NSwgMV07XG4gICAgdmFyIGJsdWUgPSBbMCwgMTUzLCAyNTUsIDFdO1xuICAgIHZhciB3aWR0aCA9IDM7XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXSA9IFtcbiAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAyNTUsIDAuNV0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT05dID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSA9IFtcbiAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCArIDIsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBTdHlsZSh7XG4gICAgICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICBdO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkddID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR107XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5DSVJDTEVdID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXS5jb25jYXQoc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10pO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdID0gW1xuICAgICAgICBuZXcgU3R5bGUoe1xuICAgICAgICAgICAgaW1hZ2U6IG5ldyBDaXJjbGVTdHlsZSh7XG4gICAgICAgICAgICAgICAgcmFkaXVzOiB3aWR0aCAqIDIsXG4gICAgICAgICAgICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogYmx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHpJbmRleDogSW5maW5pdHksXG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVF0gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT05dID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXS5jb25jYXQoc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10sIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdKTtcbiAgICByZXR1cm4gc3R5bGVzO1xufVxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGEgZmVhdHVyZSBhbmQgcmV0dXJucyBpdHMgZGVmYXVsdCBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlIHRvIGdldCB0aGUgZ2VvbWV0cnkgZm9yLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBHZW9tZXRyeSB0byByZW5kZXIuXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICByZXR1cm4gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xufVxuZXhwb3J0IGRlZmF1bHQgU3R5bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvVGV4dFBsYWNlbWVudFxuICovXG4vKipcbiAqIFRleHQgcGxhY2VtZW50LiBPbmUgb2YgYCdwb2ludCdgLCBgJ2xpbmUnYC4gRGVmYXVsdCBpcyBgJ3BvaW50J2AuIE5vdGUgdGhhdFxuICogYCdsaW5lJ2AgcmVxdWlyZXMgdGhlIHVuZGVybHlpbmcgZ2VvbWV0cnkgdG8gYmUgYSB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTGluZVN0cmluZ35MaW5lU3RyaW5nfSxcbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9Qb2x5Z29uflBvbHlnb259LCB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTXVsdGlMaW5lU3RyaW5nfk11bHRpTGluZVN0cmluZ30gb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9NdWx0aVBvbHlnb25+TXVsdGlQb2x5Z29ufS5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQT0lOVDogJ3BvaW50JyxcbiAgICBMSU5FOiAnbGluZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dFBsYWNlbWVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdHJhbnNmb3JtXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG4vKipcbiAqIEFuIGFycmF5IHJlcHJlc2VudGluZyBhbiBhZmZpbmUgMmQgdHJhbnNmb3JtYXRpb24gZm9yIHVzZSB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3RyYW5zZm9ybX0gZnVuY3Rpb25zLiBUaGUgYXJyYXkgaGFzIDYgZWxlbWVudHMuXG4gKiBAdHlwZWRlZiB7IUFycmF5PG51bWJlcj59IFRyYW5zZm9ybVxuICogQGFwaVxuICovXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgYWZmaW5lIDJkIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucy4gVGhlIGZ1bmN0aW9ucyB3b3JrIG9uIGFuXG4gKiBhcnJheSBvZiA2IGVsZW1lbnRzLiBUaGUgZWxlbWVudCBvcmRlciBpcyBjb21wYXRpYmxlIHdpdGggdGhlIFtTVkdNYXRyaXhcbiAqIGludGVyZmFjZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NWR01hdHJpeCkgYW5kIGlzXG4gKiBhIHN1YnNldCAoZWxlbWVudHMgYSB0byBmKSBvZiBhIDPDlzMgbWF0cml4OlxuICogYGBgXG4gKiBbIGEgYyBlIF1cbiAqIFsgYiBkIGYgXVxuICogWyAwIDAgMSBdXG4gKiBgYGBcbiAqL1xuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge1RyYW5zZm9ybX1cbiAqL1xudmFyIHRtcF8gPSBuZXcgQXJyYXkoNik7XG4vKipcbiAqIENyZWF0ZSBhbiBpZGVudGl0eSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBJZGVudGl0eSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIFsxLCAwLCAwLCAxLCAwLCAwXTtcbn1cbi8qKlxuICogUmVzZXRzIHRoZSBnaXZlbiB0cmFuc2Zvcm0gdG8gYW4gaWRlbnRpdHkgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQodHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHNldCh0cmFuc2Zvcm0sIDEsIDAsIDAsIDEsIDAsIDApO1xufVxuLyoqXG4gKiBNdWx0aXBseSB0aGUgdW5kZXJseWluZyBtYXRyaWNlcyBvZiB0d28gdHJhbnNmb3JtcyBhbmQgcmV0dXJuIHRoZSByZXN1bHQgaW5cbiAqIHRoZSBmaXJzdCB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTEgVHJhbnNmb3JtIHBhcmFtZXRlcnMgb2YgbWF0cml4IDEuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTIgVHJhbnNmb3JtIHBhcmFtZXRlcnMgb2YgbWF0cml4IDIuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIG11bHRpcGxpZWQgd2l0aCB0cmFuc2Zvcm0yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkodHJhbnNmb3JtMSwgdHJhbnNmb3JtMikge1xuICAgIHZhciBhMSA9IHRyYW5zZm9ybTFbMF07XG4gICAgdmFyIGIxID0gdHJhbnNmb3JtMVsxXTtcbiAgICB2YXIgYzEgPSB0cmFuc2Zvcm0xWzJdO1xuICAgIHZhciBkMSA9IHRyYW5zZm9ybTFbM107XG4gICAgdmFyIGUxID0gdHJhbnNmb3JtMVs0XTtcbiAgICB2YXIgZjEgPSB0cmFuc2Zvcm0xWzVdO1xuICAgIHZhciBhMiA9IHRyYW5zZm9ybTJbMF07XG4gICAgdmFyIGIyID0gdHJhbnNmb3JtMlsxXTtcbiAgICB2YXIgYzIgPSB0cmFuc2Zvcm0yWzJdO1xuICAgIHZhciBkMiA9IHRyYW5zZm9ybTJbM107XG4gICAgdmFyIGUyID0gdHJhbnNmb3JtMls0XTtcbiAgICB2YXIgZjIgPSB0cmFuc2Zvcm0yWzVdO1xuICAgIHRyYW5zZm9ybTFbMF0gPSBhMSAqIGEyICsgYzEgKiBiMjtcbiAgICB0cmFuc2Zvcm0xWzFdID0gYjEgKiBhMiArIGQxICogYjI7XG4gICAgdHJhbnNmb3JtMVsyXSA9IGExICogYzIgKyBjMSAqIGQyO1xuICAgIHRyYW5zZm9ybTFbM10gPSBiMSAqIGMyICsgZDEgKiBkMjtcbiAgICB0cmFuc2Zvcm0xWzRdID0gYTEgKiBlMiArIGMxICogZjIgKyBlMTtcbiAgICB0cmFuc2Zvcm0xWzVdID0gYjEgKiBlMiArIGQxICogZjIgKyBmMTtcbiAgICByZXR1cm4gdHJhbnNmb3JtMTtcbn1cbi8qKlxuICogU2V0IHRoZSB0cmFuc2Zvcm0gY29tcG9uZW50cyBhLWYgb24gYSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgYSBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFRoZSBiIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGMgVGhlIGMgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gZCBUaGUgZCBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlIFRoZSBlIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGYgVGhlIGYgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBNYXRyaXggd2l0aCB0cmFuc2Zvcm0gYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldCh0cmFuc2Zvcm0sIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICB0cmFuc2Zvcm1bMF0gPSBhO1xuICAgIHRyYW5zZm9ybVsxXSA9IGI7XG4gICAgdHJhbnNmb3JtWzJdID0gYztcbiAgICB0cmFuc2Zvcm1bM10gPSBkO1xuICAgIHRyYW5zZm9ybVs0XSA9IGU7XG4gICAgdHJhbnNmb3JtWzVdID0gZjtcbiAgICByZXR1cm4gdHJhbnNmb3JtO1xufVxuLyoqXG4gKiBTZXQgdHJhbnNmb3JtIG9uIG9uZSBtYXRyaXggZnJvbSBhbm90aGVyIG1hdHJpeC5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSBNYXRyaXggdG8gc2V0IHRyYW5zZm9ybSB0by5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMiBNYXRyaXggdG8gc2V0IHRyYW5zZm9ybSBmcm9tLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSB3aXRoIHRyYW5zZm9ybSBmcm9tIHRyYW5zZm9ybTIgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEZyb21BcnJheSh0cmFuc2Zvcm0xLCB0cmFuc2Zvcm0yKSB7XG4gICAgdHJhbnNmb3JtMVswXSA9IHRyYW5zZm9ybTJbMF07XG4gICAgdHJhbnNmb3JtMVsxXSA9IHRyYW5zZm9ybTJbMV07XG4gICAgdHJhbnNmb3JtMVsyXSA9IHRyYW5zZm9ybTJbMl07XG4gICAgdHJhbnNmb3JtMVszXSA9IHRyYW5zZm9ybTJbM107XG4gICAgdHJhbnNmb3JtMVs0XSA9IHRyYW5zZm9ybTJbNF07XG4gICAgdHJhbnNmb3JtMVs1XSA9IHRyYW5zZm9ybTJbNV07XG4gICAgcmV0dXJuIHRyYW5zZm9ybTE7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIGNvb3JkaW5hdGUgd2l0aCB0aGUgZ2l2ZW4gdHJhbnNmb3JtIHJldHVybmluZyB0aGVcbiAqIHJlc3VsdGluZywgdHJhbnNmb3JtZWQgY29vcmRpbmF0ZS4gVGhlIGNvb3JkaW5hdGUgd2lsbCBiZSBtb2RpZmllZCBpbi1wbGFjZS5cbiAqXG4gKiBAcGFyYW0ge1RyYW5zZm9ybX0gdHJhbnNmb3JtIFRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZSB0byB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSByZXR1cm4gY29vcmRpbmF0ZSBzbyB0aGF0IG9wZXJhdGlvbnMgY2FuIGJlXG4gKiAgICAgY2hhaW5lZCB0b2dldGhlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5KHRyYW5zZm9ybSwgY29vcmRpbmF0ZSkge1xuICAgIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV07XG4gICAgY29vcmRpbmF0ZVswXSA9IHRyYW5zZm9ybVswXSAqIHggKyB0cmFuc2Zvcm1bMl0gKiB5ICsgdHJhbnNmb3JtWzRdO1xuICAgIGNvb3JkaW5hdGVbMV0gPSB0cmFuc2Zvcm1bMV0gKiB4ICsgdHJhbnNmb3JtWzNdICogeSArIHRyYW5zZm9ybVs1XTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQXBwbGllcyByb3RhdGlvbiB0byB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgcm90YXRlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUodHJhbnNmb3JtLCBhbmdsZSkge1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgY29zLCBzaW4sIC1zaW4sIGNvcywgMCwgMCkpO1xufVxuLyoqXG4gKiBBcHBsaWVzIHNjYWxlIHRvIGEgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IHggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0geSBTY2FsZSBmYWN0b3IgeS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBzY2FsZWQgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUodHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgcmV0dXJuIG11bHRpcGx5KHRyYW5zZm9ybSwgc2V0KHRtcF8sIHgsIDAsIDAsIHksIDAsIDApKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHNjYWxlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdGFyZ2V0IFRyYW5zZm9ybSB0byBvdmVyd3JpdGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBTY2FsZSBmYWN0b3IgeC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFNjYWxlIGZhY3RvciB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIHNjYWxlIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTY2FsZSh0YXJnZXQsIHgsIHkpIHtcbiAgICByZXR1cm4gc2V0KHRhcmdldCwgeCwgMCwgMCwgeSwgMCwgMCk7XG59XG4vKipcbiAqIEFwcGxpZXMgdHJhbnNsYXRpb24gdG8gdGhlIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeCBUcmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5IFRyYW5zbGF0aW9uIHkuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgdHJhbnNsYXRlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUodHJhbnNmb3JtLCBkeCwgZHkpIHtcbiAgICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgMSwgMCwgMCwgMSwgZHgsIGR5KSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBjb21wb3NpdGUgdHJhbnNmb3JtIGdpdmVuIGFuIGluaXRpYWwgdHJhbnNsYXRpb24sIHNjYWxlLCByb3RhdGlvbiwgYW5kXG4gKiBmaW5hbCB0cmFuc2xhdGlvbiAoaW4gdGhhdCBvcmRlciBvbmx5LCBub3QgY29tbXV0YXRpdmUpLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVGhlIHRyYW5zZm9ybSAod2lsbCBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gKiBAcGFyYW0ge251bWJlcn0gZHgxIEluaXRpYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTEgSW5pdGlhbCB0cmFuc2xhdGlvbiB5LlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHN5IFNjYWxlIGZhY3RvciB5LlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIChpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDIgRmluYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTIgRmluYWwgdHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBjb21wb3NpdGUgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZSh0cmFuc2Zvcm0sIGR4MSwgZHkxLCBzeCwgc3ksIGFuZ2xlLCBkeDIsIGR5Mikge1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB0cmFuc2Zvcm1bMF0gPSBzeCAqIGNvcztcbiAgICB0cmFuc2Zvcm1bMV0gPSBzeSAqIHNpbjtcbiAgICB0cmFuc2Zvcm1bMl0gPSAtc3ggKiBzaW47XG4gICAgdHJhbnNmb3JtWzNdID0gc3kgKiBjb3M7XG4gICAgdHJhbnNmb3JtWzRdID0gZHgyICogc3ggKiBjb3MgLSBkeTIgKiBzeCAqIHNpbiArIGR4MTtcbiAgICB0cmFuc2Zvcm1bNV0gPSBkeDIgKiBzeSAqIHNpbiArIGR5MiAqIHN5ICogY29zICsgZHkxO1xuICAgIHJldHVybiB0cmFuc2Zvcm07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBjb21wb3NpdGUgdHJhbnNmb3JtIGdpdmVuIGFuIGluaXRpYWwgdHJhbnNsYXRpb24sIHNjYWxlLCByb3RhdGlvbiwgYW5kXG4gKiBmaW5hbCB0cmFuc2xhdGlvbiAoaW4gdGhhdCBvcmRlciBvbmx5LCBub3QgY29tbXV0YXRpdmUpLiBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybVxuICogc3RyaW5nIGNhbiBiZSBhcHBsaWVkIGFzIGB0cmFuc2Zvcm1gIHBvcnBlcnR5IG9mIGFuIEhUTUxFbGVtZW50J3Mgc3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZHgxIEluaXRpYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTEgSW5pdGlhbCB0cmFuc2xhdGlvbiB5LlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHN5IFNjYWxlIGZhY3RvciB5LlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIChpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDIgRmluYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTIgRmluYWwgdHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbXBvc2l0ZSBjc3MgdHJhbnNmb3JtLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZUNzc1RyYW5zZm9ybShkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpIHtcbiAgICByZXR1cm4gdG9TdHJpbmcoY29tcG9zZShjcmVhdGUoKSwgZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKSk7XG59XG4vKipcbiAqIEludmVydCB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBzb3VyY2UgVGhlIHNvdXJjZSB0cmFuc2Zvcm0gdG8gaW52ZXJ0LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGludmVydGVkIChzb3VyY2UpIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChzb3VyY2UpIHtcbiAgICByZXR1cm4gbWFrZUludmVyc2Uoc291cmNlLCBzb3VyY2UpO1xufVxuLyoqXG4gKiBJbnZlcnQgdGhlIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdGFyZ2V0IFRyYW5zZm9ybSB0byBiZSBzZXQgYXMgdGhlIGludmVyc2Ugb2ZcbiAqICAgICB0aGUgc291cmNlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gc291cmNlIFRoZSBzb3VyY2UgdHJhbnNmb3JtIHRvIGludmVydC5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBpbnZlcnRlZCAodGFyZ2V0KSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSW52ZXJzZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHZhciBkZXQgPSBkZXRlcm1pbmFudChzb3VyY2UpO1xuICAgIGFzc2VydChkZXQgIT09IDAsIDMyKTsgLy8gVHJhbnNmb3JtYXRpb24gbWF0cml4IGNhbm5vdCBiZSBpbnZlcnRlZFxuICAgIHZhciBhID0gc291cmNlWzBdO1xuICAgIHZhciBiID0gc291cmNlWzFdO1xuICAgIHZhciBjID0gc291cmNlWzJdO1xuICAgIHZhciBkID0gc291cmNlWzNdO1xuICAgIHZhciBlID0gc291cmNlWzRdO1xuICAgIHZhciBmID0gc291cmNlWzVdO1xuICAgIHRhcmdldFswXSA9IGQgLyBkZXQ7XG4gICAgdGFyZ2V0WzFdID0gLWIgLyBkZXQ7XG4gICAgdGFyZ2V0WzJdID0gLWMgLyBkZXQ7XG4gICAgdGFyZ2V0WzNdID0gYSAvIGRldDtcbiAgICB0YXJnZXRbNF0gPSAoYyAqIGYgLSBkICogZSkgLyBkZXQ7XG4gICAgdGFyZ2V0WzVdID0gLShhICogZiAtIGIgKiBlKSAvIGRldDtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZXRlcm1pbmFudCBvZiB0aGUgZ2l2ZW4gbWF0cml4LlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBtYXQgTWF0cml4LlxuICogQHJldHVybiB7bnVtYmVyfSBEZXRlcm1pbmFudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KG1hdCkge1xuICAgIHJldHVybiBtYXRbMF0gKiBtYXRbM10gLSBtYXRbMV0gKiBtYXRbMl07XG59XG4vKipcbiAqIEEgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHRyYW5zZm9ybS4gIFRoaXMgY2FuIGJlIHVzZWRcbiAqIGZvciBDU1MgdHJhbnNmb3Jtcy5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gbWF0IE1hdHJpeC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRyYW5zZm9ybSBhcyBhIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nKG1hdCkge1xuICAgIHJldHVybiAnbWF0cml4KCcgKyBtYXQuam9pbignLCAnKSArICcpJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdXRpbFxuICovXG4vKipcbiAqIEByZXR1cm4gez99IEFueSByZXR1cm4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhYnN0cmFjdCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHs/fSAqLyAoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZC4nKTtcbiAgICB9KSgpKTtcbn1cbi8qKlxuICogQ291bnRlciBmb3IgZ2V0VWlkLlxuICogQHR5cGUge251bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciB1aWRDb3VudGVyXyA9IDA7XG4vKipcbiAqIEdldHMgYSB1bmlxdWUgSUQgZm9yIGFuIG9iamVjdC4gVGhpcyBtdXRhdGVzIHRoZSBvYmplY3Qgc28gdGhhdCBmdXJ0aGVyIGNhbGxzXG4gKiB3aXRoIHRoZSBzYW1lIG9iamVjdCBhcyBhIHBhcmFtZXRlciByZXR1cm5zIHRoZSBzYW1lIHZhbHVlLiBVbmlxdWUgSURzIGFyZSBnZW5lcmF0ZWRcbiAqIGFzIGEgc3RyaWN0bHkgaW5jcmVhc2luZyBzZXF1ZW5jZS4gQWRhcHRlZCBmcm9tIGdvb2cuZ2V0VWlkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBnZXQgdGhlIHVuaXF1ZSBJRCBmb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB1bmlxdWUgSUQgZm9yIHRoZSBvYmplY3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVaWQob2JqKSB7XG4gICAgcmV0dXJuIG9iai5vbF91aWQgfHwgKG9iai5vbF91aWQgPSBTdHJpbmcoKyt1aWRDb3VudGVyXykpO1xufVxuLyoqXG4gKiBPcGVuTGF5ZXJzIHZlcnNpb24uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIFZFUlNJT04gPSAnNi41LjAnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiLCIhZnVuY3Rpb24odCxpKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1pKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShpKToodD10fHxzZWxmKS5SQnVzaD1pKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQscixlLGEsaCl7IWZ1bmN0aW9uIHQobixyLGUsYSxoKXtmb3IoO2E+ZTspe2lmKGEtZT42MDApe3ZhciBvPWEtZSsxLHM9ci1lKzEsbD1NYXRoLmxvZyhvKSxmPS41Kk1hdGguZXhwKDIqbC8zKSx1PS41Kk1hdGguc3FydChsKmYqKG8tZikvbykqKHMtby8yPDA/LTE6MSksbT1NYXRoLm1heChlLE1hdGguZmxvb3Ioci1zKmYvbyt1KSksYz1NYXRoLm1pbihhLE1hdGguZmxvb3Iocisoby1zKSpmL28rdSkpO3QobixyLG0sYyxoKX12YXIgcD1uW3JdLGQ9ZSx4PWE7Zm9yKGkobixlLHIpLGgoblthXSxwKT4wJiZpKG4sZSxhKTtkPHg7KXtmb3IoaShuLGQseCksZCsrLHgtLTtoKG5bZF0scCk8MDspZCsrO2Zvcig7aChuW3hdLHApPjA7KXgtLX0wPT09aChuW2VdLHApP2kobixlLHgpOmkobiwrK3gsYSkseDw9ciYmKGU9eCsxKSxyPD14JiYoYT14LTEpfX0odCxyLGV8fDAsYXx8dC5sZW5ndGgtMSxofHxuKX1mdW5jdGlvbiBpKHQsaSxuKXt2YXIgcj10W2ldO3RbaV09dFtuXSx0W25dPXJ9ZnVuY3Rpb24gbih0LGkpe3JldHVybiB0PGk/LTE6dD5pPzE6MH12YXIgcj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD05KSx0aGlzLl9tYXhFbnRyaWVzPU1hdGgubWF4KDQsdCksdGhpcy5fbWluRW50cmllcz1NYXRoLm1heCgyLE1hdGguY2VpbCguNCp0aGlzLl9tYXhFbnRyaWVzKSksdGhpcy5jbGVhcigpfTtmdW5jdGlvbiBlKHQsaSxuKXtpZighbilyZXR1cm4gaS5pbmRleE9mKHQpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKWlmKG4odCxpW3JdKSlyZXR1cm4gcjtyZXR1cm4tMX1mdW5jdGlvbiBhKHQsaSl7aCh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsaSx0KX1mdW5jdGlvbiBoKHQsaSxuLHIsZSl7ZXx8KGU9cChudWxsKSksZS5taW5YPTEvMCxlLm1pblk9MS8wLGUubWF4WD0tMS8wLGUubWF4WT0tMS8wO2Zvcih2YXIgYT1pO2E8bjthKyspe3ZhciBoPXQuY2hpbGRyZW5bYV07byhlLHQubGVhZj9yKGgpOmgpfXJldHVybiBlfWZ1bmN0aW9uIG8odCxpKXtyZXR1cm4gdC5taW5YPU1hdGgubWluKHQubWluWCxpLm1pblgpLHQubWluWT1NYXRoLm1pbih0Lm1pblksaS5taW5ZKSx0Lm1heFg9TWF0aC5tYXgodC5tYXhYLGkubWF4WCksdC5tYXhZPU1hdGgubWF4KHQubWF4WSxpLm1heFkpLHR9ZnVuY3Rpb24gcyh0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfWZ1bmN0aW9uIGwodCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX1mdW5jdGlvbiBmKHQpe3JldHVybih0Lm1heFgtdC5taW5YKSoodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5tYXhYLXQubWluWCsodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gbSh0LGkpe3JldHVybiB0Lm1pblg8PWkubWluWCYmdC5taW5ZPD1pLm1pblkmJmkubWF4WDw9dC5tYXhYJiZpLm1heFk8PXQubWF4WX1mdW5jdGlvbiBjKHQsaSl7cmV0dXJuIGkubWluWDw9dC5tYXhYJiZpLm1pblk8PXQubWF4WSYmaS5tYXhYPj10Lm1pblgmJmkubWF4WT49dC5taW5ZfWZ1bmN0aW9uIHAodCl7cmV0dXJue2NoaWxkcmVuOnQsaGVpZ2h0OjEsbGVhZjohMCxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfX1mdW5jdGlvbiBkKGksbixyLGUsYSl7Zm9yKHZhciBoPVtuLHJdO2gubGVuZ3RoOylpZighKChyPWgucG9wKCkpLShuPWgucG9wKCkpPD1lKSl7dmFyIG89bitNYXRoLmNlaWwoKHItbikvZS8yKSplO3QoaSxvLG4scixhKSxoLnB1c2gobixvLG8scil9fXJldHVybiByLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxsKHRoaXMuZGF0YSxbXSl9LHIucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGEsbj1bXTtpZighYyh0LGkpKXJldHVybiBuO2Zvcih2YXIgcj10aGlzLnRvQkJveCxlPVtdO2k7KXtmb3IodmFyIGE9MDthPGkuY2hpbGRyZW4ubGVuZ3RoO2ErKyl7dmFyIGg9aS5jaGlsZHJlblthXSxvPWkubGVhZj9yKGgpOmg7Yyh0LG8pJiYoaS5sZWFmP24ucHVzaChoKTptKHQsbyk/dGhpcy5fYWxsKGgsbik6ZS5wdXNoKGgpKX1pPWUucG9wKCl9cmV0dXJuIG59LHIucHJvdG90eXBlLmNvbGxpZGVzPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YTtpZighYyh0LGkpKXJldHVybiExO2Zvcih2YXIgbj1bXTtpOyl7Zm9yKHZhciByPTA7cjxpLmNoaWxkcmVuLmxlbmd0aDtyKyspe3ZhciBlPWkuY2hpbGRyZW5bcl0sYT1pLmxlYWY/dGhpcy50b0JCb3goZSk6ZTtpZihjKHQsYSkpe2lmKGkubGVhZnx8bSh0LGEpKXJldHVybiEwO24ucHVzaChlKX19aT1uLnBvcCgpfXJldHVybiExfSxyLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy5pbnNlcnQodFtpXSk7cmV0dXJuIHRoaXN9dmFyIG49dGhpcy5fYnVpbGQodC5zbGljZSgpLDAsdC5sZW5ndGgtMSwwKTtpZih0aGlzLmRhdGEuY2hpbGRyZW4ubGVuZ3RoKWlmKHRoaXMuZGF0YS5oZWlnaHQ9PT1uLmhlaWdodCl0aGlzLl9zcGxpdFJvb3QodGhpcy5kYXRhLG4pO2Vsc2V7aWYodGhpcy5kYXRhLmhlaWdodDxuLmhlaWdodCl7dmFyIHI9dGhpcy5kYXRhO3RoaXMuZGF0YT1uLG49cn10aGlzLl9pbnNlcnQobix0aGlzLmRhdGEuaGVpZ2h0LW4uaGVpZ2h0LTEsITApfWVsc2UgdGhpcy5kYXRhPW47cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5faW5zZXJ0KHQsdGhpcy5kYXRhLmhlaWdodC0xKSx0aGlzfSxyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGE9cChbXSksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuIHRoaXM7Zm9yKHZhciBuLHIsYSxoPXRoaXMuZGF0YSxvPXRoaXMudG9CQm94KHQpLHM9W10sbD1bXTtofHxzLmxlbmd0aDspe2lmKGh8fChoPXMucG9wKCkscj1zW3MubGVuZ3RoLTFdLG49bC5wb3AoKSxhPSEwKSxoLmxlYWYpe3ZhciBmPWUodCxoLmNoaWxkcmVuLGkpO2lmKC0xIT09ZilyZXR1cm4gaC5jaGlsZHJlbi5zcGxpY2UoZiwxKSxzLnB1c2goaCksdGhpcy5fY29uZGVuc2UocyksdGhpc31hfHxoLmxlYWZ8fCFtKGgsbyk/cj8obisrLGg9ci5jaGlsZHJlbltuXSxhPSExKTpoPW51bGw6KHMucHVzaChoKSxsLnB1c2gobiksbj0wLHI9aCxoPWguY2hpbGRyZW5bMF0pfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS50b0JCb3g9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHIucHJvdG90eXBlLmNvbXBhcmVNaW5YPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9LHIucHJvdG90eXBlLmNvbXBhcmVNaW5ZPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9LHIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LHIucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGE9dCx0aGlzfSxyLnByb3RvdHlwZS5fYWxsPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBuPVtdO3Q7KXQubGVhZj9pLnB1c2guYXBwbHkoaSx0LmNoaWxkcmVuKTpuLnB1c2guYXBwbHkobix0LmNoaWxkcmVuKSx0PW4ucG9wKCk7cmV0dXJuIGl9LHIucHJvdG90eXBlLl9idWlsZD1mdW5jdGlvbih0LGksbixyKXt2YXIgZSxoPW4taSsxLG89dGhpcy5fbWF4RW50cmllcztpZihoPD1vKXJldHVybiBhKGU9cCh0LnNsaWNlKGksbisxKSksdGhpcy50b0JCb3gpLGU7cnx8KHI9TWF0aC5jZWlsKE1hdGgubG9nKGgpL01hdGgubG9nKG8pKSxvPU1hdGguY2VpbChoL01hdGgucG93KG8sci0xKSkpLChlPXAoW10pKS5sZWFmPSExLGUuaGVpZ2h0PXI7dmFyIHM9TWF0aC5jZWlsKGgvbyksbD1zKk1hdGguY2VpbChNYXRoLnNxcnQobykpO2QodCxpLG4sbCx0aGlzLmNvbXBhcmVNaW5YKTtmb3IodmFyIGY9aTtmPD1uO2YrPWwpe3ZhciB1PU1hdGgubWluKGYrbC0xLG4pO2QodCxmLHUscyx0aGlzLmNvbXBhcmVNaW5ZKTtmb3IodmFyIG09ZjttPD11O20rPXMpe3ZhciBjPU1hdGgubWluKG0rcy0xLHUpO2UuY2hpbGRyZW4ucHVzaCh0aGlzLl9idWlsZCh0LG0sYyxyLTEpKX19cmV0dXJuIGEoZSx0aGlzLnRvQkJveCksZX0sci5wcm90b3R5cGUuX2Nob29zZVN1YnRyZWU9ZnVuY3Rpb24odCxpLG4scil7Zm9yKDtyLnB1c2goaSksIWkubGVhZiYmci5sZW5ndGgtMSE9PW47KXtmb3IodmFyIGU9MS8wLGE9MS8wLGg9dm9pZCAwLG89MDtvPGkuY2hpbGRyZW4ubGVuZ3RoO28rKyl7dmFyIHM9aS5jaGlsZHJlbltvXSxsPWYocyksdT0obT10LGM9cywoTWF0aC5tYXgoYy5tYXhYLG0ubWF4WCktTWF0aC5taW4oYy5taW5YLG0ubWluWCkpKihNYXRoLm1heChjLm1heFksbS5tYXhZKS1NYXRoLm1pbihjLm1pblksbS5taW5ZKSktbCk7dTxhPyhhPXUsZT1sPGU/bDplLGg9cyk6dT09PWEmJmw8ZSYmKGU9bCxoPXMpfWk9aHx8aS5jaGlsZHJlblswXX12YXIgbSxjO3JldHVybiBpfSxyLnByb3RvdHlwZS5faW5zZXJ0PWZ1bmN0aW9uKHQsaSxuKXt2YXIgcj1uP3Q6dGhpcy50b0JCb3godCksZT1bXSxhPXRoaXMuX2Nob29zZVN1YnRyZWUocix0aGlzLmRhdGEsaSxlKTtmb3IoYS5jaGlsZHJlbi5wdXNoKHQpLG8oYSxyKTtpPj0wJiZlW2ldLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdChlLGkpLGktLTt0aGlzLl9hZGp1c3RQYXJlbnRCQm94ZXMocixlLGkpfSxyLnByb3RvdHlwZS5fc3BsaXQ9ZnVuY3Rpb24odCxpKXt2YXIgbj10W2ldLHI9bi5jaGlsZHJlbi5sZW5ndGgsZT10aGlzLl9taW5FbnRyaWVzO3RoaXMuX2Nob29zZVNwbGl0QXhpcyhuLGUscik7dmFyIGg9dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLGUsciksbz1wKG4uY2hpbGRyZW4uc3BsaWNlKGgsbi5jaGlsZHJlbi5sZW5ndGgtaCkpO28uaGVpZ2h0PW4uaGVpZ2h0LG8ubGVhZj1uLmxlYWYsYShuLHRoaXMudG9CQm94KSxhKG8sdGhpcy50b0JCb3gpLGk/dFtpLTFdLmNoaWxkcmVuLnB1c2gobyk6dGhpcy5fc3BsaXRSb290KG4sbyl9LHIucHJvdG90eXBlLl9zcGxpdFJvb3Q9ZnVuY3Rpb24odCxpKXt0aGlzLmRhdGE9cChbdCxpXSksdGhpcy5kYXRhLmhlaWdodD10LmhlaWdodCsxLHRoaXMuZGF0YS5sZWFmPSExLGEodGhpcy5kYXRhLHRoaXMudG9CQm94KX0sci5wcm90b3R5cGUuX2Nob29zZVNwbGl0SW5kZXg9ZnVuY3Rpb24odCxpLG4pe2Zvcih2YXIgcixlLGEsbyxzLGwsdSxtPTEvMCxjPTEvMCxwPWk7cDw9bi1pO3ArKyl7dmFyIGQ9aCh0LDAscCx0aGlzLnRvQkJveCkseD1oKHQscCxuLHRoaXMudG9CQm94KSx2PShlPWQsYT14LG89dm9pZCAwLHM9dm9pZCAwLGw9dm9pZCAwLHU9dm9pZCAwLG89TWF0aC5tYXgoZS5taW5YLGEubWluWCkscz1NYXRoLm1heChlLm1pblksYS5taW5ZKSxsPU1hdGgubWluKGUubWF4WCxhLm1heFgpLHU9TWF0aC5taW4oZS5tYXhZLGEubWF4WSksTWF0aC5tYXgoMCxsLW8pKk1hdGgubWF4KDAsdS1zKSksTT1mKGQpK2YoeCk7djxtPyhtPXYscj1wLGM9TTxjP006Yyk6dj09PW0mJk08YyYmKGM9TSxyPXApfXJldHVybiByfHxuLWl9LHIucHJvdG90eXBlLl9jaG9vc2VTcGxpdEF4aXM9ZnVuY3Rpb24odCxpLG4pe3ZhciByPXQubGVhZj90aGlzLmNvbXBhcmVNaW5YOnMsZT10LmxlYWY/dGhpcy5jb21wYXJlTWluWTpsO3RoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4scik8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixlKSYmdC5jaGlsZHJlbi5zb3J0KHIpfSxyLnByb3RvdHlwZS5fYWxsRGlzdE1hcmdpbj1mdW5jdGlvbih0LGksbixyKXt0LmNoaWxkcmVuLnNvcnQocik7Zm9yKHZhciBlPXRoaXMudG9CQm94LGE9aCh0LDAsaSxlKSxzPWgodCxuLWksbixlKSxsPXUoYSkrdShzKSxmPWk7ZjxuLWk7ZisrKXt2YXIgbT10LmNoaWxkcmVuW2ZdO28oYSx0LmxlYWY/ZShtKTptKSxsKz11KGEpfWZvcih2YXIgYz1uLWktMTtjPj1pO2MtLSl7dmFyIHA9dC5jaGlsZHJlbltjXTtvKHMsdC5sZWFmP2UocCk6cCksbCs9dShzKX1yZXR1cm4gbH0sci5wcm90b3R5cGUuX2FkanVzdFBhcmVudEJCb3hlcz1mdW5jdGlvbih0LGksbil7Zm9yKHZhciByPW47cj49MDtyLS0pbyhpW3JdLHQpfSxyLnByb3RvdHlwZS5fY29uZGVuc2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQubGVuZ3RoLTEsbj12b2lkIDA7aT49MDtpLS0pMD09PXRbaV0uY2hpbGRyZW4ubGVuZ3RoP2k+MD8obj10W2ktMV0uY2hpbGRyZW4pLnNwbGljZShuLmluZGV4T2YodFtpXSksMSk6dGhpcy5jbGVhcigpOmEodFtpXSx0aGlzLnRvQkJveCl9LHJ9KTtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvRmVhdHVyZVxuICovXG5pbXBvcnQgQmFzZU9iamVjdCwgeyBnZXRDaGFuZ2VFdmVudFR5cGUgfSBmcm9tICcuL09iamVjdC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi9ldmVudHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7dHlwZW9mIEZlYXR1cmV8dHlwZW9mIGltcG9ydChcIi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZUNsYXNzXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge0ZlYXR1cmV8aW1wb3J0KFwiLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBGZWF0dXJlTGlrZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgdmVjdG9yIG9iamVjdCBmb3IgZ2VvZ3JhcGhpYyBmZWF0dXJlcyB3aXRoIGEgZ2VvbWV0cnkgYW5kIG90aGVyXG4gKiBhdHRyaWJ1dGUgcHJvcGVydGllcywgc2ltaWxhciB0byB0aGUgZmVhdHVyZXMgaW4gdmVjdG9yIGZpbGUgZm9ybWF0cyBsaWtlXG4gKiBHZW9KU09OLlxuICpcbiAqIEZlYXR1cmVzIGNhbiBiZSBzdHlsZWQgaW5kaXZpZHVhbGx5IHdpdGggYHNldFN0eWxlYDsgb3RoZXJ3aXNlIHRoZXkgdXNlIHRoZVxuICogc3R5bGUgb2YgdGhlaXIgdmVjdG9yIGxheWVyLlxuICpcbiAqIE5vdGUgdGhhdCBhdHRyaWJ1dGUgcHJvcGVydGllcyBhcmUgc2V0IGFzIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fSBwcm9wZXJ0aWVzIG9uXG4gKiB0aGUgZmVhdHVyZSBvYmplY3QsIHNvIHRoZXkgYXJlIG9ic2VydmFibGUsIGFuZCBoYXZlIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIFR5cGljYWxseSwgYSBmZWF0dXJlIGhhcyBhIHNpbmdsZSBnZW9tZXRyeSBwcm9wZXJ0eS4gWW91IGNhbiBzZXQgdGhlXG4gKiBnZW9tZXRyeSB1c2luZyB0aGUgYHNldEdlb21ldHJ5YCBtZXRob2QgYW5kIGdldCBpdCB3aXRoIGBnZXRHZW9tZXRyeWAuXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBzdG9yZSBtb3JlIHRoYW4gb25lIGdlb21ldHJ5IG9uIGEgZmVhdHVyZSB1c2luZyBhdHRyaWJ1dGVcbiAqIHByb3BlcnRpZXMuIEJ5IGRlZmF1bHQsIHRoZSBnZW9tZXRyeSB1c2VkIGZvciByZW5kZXJpbmcgaXMgaWRlbnRpZmllZCBieVxuICogdGhlIHByb3BlcnR5IG5hbWUgYGdlb21ldHJ5YC4gSWYgeW91IHdhbnQgdG8gdXNlIGFub3RoZXIgZ2VvbWV0cnkgcHJvcGVydHlcbiAqIGZvciByZW5kZXJpbmcsIHVzZSB0aGUgYHNldEdlb21ldHJ5TmFtZWAgbWV0aG9kIHRvIGNoYW5nZSB0aGUgYXR0cmlidXRlXG4gKiBwcm9wZXJ0eSBhc3NvY2lhdGVkIHdpdGggdGhlIGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS4gIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKlxuICogaW1wb3J0IEZlYXR1cmUgZnJvbSAnb2wvRmVhdHVyZSc7XG4gKiBpbXBvcnQgUG9seWdvbiBmcm9tICdvbC9nZW9tL1BvbHlnb24nO1xuICogaW1wb3J0IFBvaW50IGZyb20gJ29sL2dlb20vUG9pbnQnO1xuICpcbiAqIHZhciBmZWF0dXJlID0gbmV3IEZlYXR1cmUoe1xuICogICBnZW9tZXRyeTogbmV3IFBvbHlnb24ocG9seUNvb3JkcyksXG4gKiAgIGxhYmVsUG9pbnQ6IG5ldyBQb2ludChsYWJlbENvb3JkcyksXG4gKiAgIG5hbWU6ICdNeSBQb2x5Z29uJ1xuICogfSk7XG4gKlxuICogLy8gZ2V0IHRoZSBwb2x5Z29uIGdlb21ldHJ5XG4gKiB2YXIgcG9seSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAqXG4gKiAvLyBSZW5kZXIgdGhlIGZlYXR1cmUgYXMgYSBwb2ludCB1c2luZyB0aGUgY29vcmRpbmF0ZXMgZnJvbSBsYWJlbFBvaW50XG4gKiBmZWF0dXJlLnNldEdlb21ldHJ5TmFtZSgnbGFiZWxQb2ludCcpO1xuICpcbiAqIC8vIGdldCB0aGUgcG9pbnQgZ2VvbWV0cnlcbiAqIHZhciBwb2ludCA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAqIGBgYFxuICpcbiAqIEBhcGlcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5XG4gKi9cbnZhciBGZWF0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGZWF0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7R2VvbWV0cnl8T2JqZWN0PHN0cmluZywgKj49fSBvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXNcbiAgICAgKiAgICAgWW91IG1heSBwYXNzIGEgR2VvbWV0cnkgb2JqZWN0IGRpcmVjdGx5LCBvciBhbiBvYmplY3QgbGl0ZXJhbCBjb250YWluaW5nXG4gICAgICogICAgIHByb3BlcnRpZXMuIElmIHlvdSBwYXNzIGFuIG9iamVjdCBsaXRlcmFsLCB5b3UgbWF5IGluY2x1ZGUgYSBHZW9tZXRyeVxuICAgICAqICAgICBhc3NvY2lhdGVkIHdpdGggYSBgZ2VvbWV0cnlgIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGZWF0dXJlKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5TmFtZV8gPSAnZ2VvbWV0cnknO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlciBwcm92aWRlZCBzdHlsZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3R5bGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3R5bGVGdW5jdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IG51bGw7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKF90aGlzLmdlb21ldHJ5TmFtZV8pLCBfdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfKTtcbiAgICAgICAgaWYgKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAoXG4gICAgICAgICAgICAvKiogQHR5cGUgez99ICovIChvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXMpLmdldFNpbXBsaWZpZWRHZW9tZXRyeSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSAvKiogQHR5cGUge0dlb21ldHJ5fSAqLyAob3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRHZW9tZXRyeShnZW9tZXRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fSAqL1xuICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gb3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIGZlYXR1cmUuIElmIHRoZSBvcmlnaW5hbCBmZWF0dXJlIGhhcyBhIGdlb21ldHJ5IGl0XG4gICAgICogaXMgYWxzbyBjbG9uZWQuIFRoZSBmZWF0dXJlIGlkIGlzIG5vdCBzZXQgaW4gdGhlIGNsb25lLlxuICAgICAqIEByZXR1cm4ge0ZlYXR1cmV9IFRoZSBjbG9uZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IG5ldyBGZWF0dXJlKHRoaXMuaGFzUHJvcGVydGllcygpID8gdGhpcy5nZXRQcm9wZXJ0aWVzKCkgOiBudWxsKTtcbiAgICAgICAgY2xvbmUuc2V0R2VvbWV0cnlOYW1lKHRoaXMuZ2V0R2VvbWV0cnlOYW1lKCkpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdldEdlb21ldHJ5KCk7XG4gICAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgY2xvbmUuc2V0R2VvbWV0cnkoZ2VvbWV0cnkuY2xvbmUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRTdHlsZSgpO1xuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIGNsb25lLnNldFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUncyBkZWZhdWx0IGdlb21ldHJ5LiAgQSBmZWF0dXJlIG1heSBoYXZlIGFueSBudW1iZXIgb2YgbmFtZWRcbiAgICAgKiBnZW9tZXRyaWVzLiAgVGhlIFwiZGVmYXVsdFwiIGdlb21ldHJ5ICh0aGUgb25lIHRoYXQgaXMgcmVuZGVyZWQgYnkgZGVmYXVsdCkgaXNcbiAgICAgKiBzZXQgd2hlbiBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI3NldEdlb21ldHJ5fS5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeXx1bmRlZmluZWR9IFRoZSBkZWZhdWx0IGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAYXBpXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7R2VvbWV0cnl8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQodGhpcy5nZW9tZXRyeU5hbWVfKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUgaWRlbnRpZmllci4gIFRoaXMgaXMgYSBzdGFibGUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUgYW5kXG4gICAgICogaXMgZWl0aGVyIHNldCB3aGVuIHJlYWRpbmcgZGF0YSBmcm9tIGEgcmVtb3RlIHNvdXJjZSBvciBzZXQgZXhwbGljaXRseSBieVxuICAgICAqIGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjc2V0SWR9LlxuICAgICAqIEByZXR1cm4ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBJZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSdzIGRlZmF1bHQgZ2VvbWV0cnkuICBCeSBkZWZhdWx0LCB0aGUgZGVmYXVsdFxuICAgICAqIGdlb21ldHJ5IGlzIG5hbWVkIGBnZW9tZXRyeWAuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBHZXQgdGhlIHByb3BlcnR5IG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBkZWZhdWx0IGdlb21ldHJ5XG4gICAgICogICAgIGZvciB0aGlzIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldEdlb21ldHJ5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlOYW1lXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmVhdHVyZSdzIHN0eWxlLiBXaWxsIHJldHVybiB3aGF0IHdhcyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNzZXRTdHlsZX0gbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfHVuZGVmaW5lZH0gVGhlIGZlYXR1cmUgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUncyBzdHlsZSBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBSZXR1cm4gYSBmdW5jdGlvblxuICAgICAqIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdHlsZSBvZiB0aGlzIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldFN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlRnVuY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5oYW5kbGVHZW9tZXRyeUNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeUNoYW5nZUtleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5nZW9tZXRyeUNoYW5nZUtleV8pO1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZUtleV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IGxpc3RlbihnZW9tZXRyeSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZV8sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBkZWZhdWx0IGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS4gIFRoaXMgd2lsbCB1cGRhdGUgdGhlIHByb3BlcnR5XG4gICAgICogd2l0aCB0aGUgbmFtZSByZXR1cm5lZCBieSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNnZXRHZW9tZXRyeU5hbWV9LlxuICAgICAqIEBwYXJhbSB7R2VvbWV0cnl8dW5kZWZpbmVkfSBnZW9tZXRyeSBUaGUgbmV3IGdlb21ldHJ5LlxuICAgICAqIEBhcGlcbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLnNldEdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMuZ2VvbWV0cnlOYW1lXywgZ2VvbWV0cnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBmb3IgdGhlIGZlYXR1cmUgdG8gb3ZlcnJpZGUgdGhlIGxheWVyIHN0eWxlLiAgVGhpcyBjYW4gYmUgYVxuICAgICAqIHNpbmdsZSBzdHlsZSBvYmplY3QsIGFuIGFycmF5IG9mIHN0eWxlcywgb3IgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFcbiAgICAgKiByZXNvbHV0aW9uIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHN0eWxlcy4gVG8gdW5zZXQgdGhlIGZlYXR1cmUgc3R5bGUsIGNhbGxcbiAgICAgKiBgc2V0U3R5bGUoKWAgd2l0aG91dCBhcmd1bWVudHMgb3IgYSBmYWxzZXkgdmFsdWUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZT19IG9wdF9zdHlsZSBTdHlsZSBmb3IgdGhpcyBmZWF0dXJlLlxuICAgICAqIEBhcGlcbiAgICAgKiBAZmlyZXMgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5CYXNlRXZlbnQjZXZlbnQ6Y2hhbmdlXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAob3B0X3N0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGVfID0gb3B0X3N0eWxlO1xuICAgICAgICB0aGlzLnN0eWxlRnVuY3Rpb25fID0gIW9wdF9zdHlsZVxuICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogY3JlYXRlU3R5bGVGdW5jdGlvbihvcHRfc3R5bGUpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmVhdHVyZSBpZC4gIFRoZSBmZWF0dXJlIGlkIGlzIGNvbnNpZGVyZWQgc3RhYmxlIGFuZCBtYXkgYmUgdXNlZCB3aGVuXG4gICAgICogcmVxdWVzdGluZyBmZWF0dXJlcyBvciBjb21wYXJpbmcgaWRlbnRpZmllcnMgcmV0dXJuZWQgZnJvbSBhIHJlbW90ZSBzb3VyY2UuXG4gICAgICogVGhlIGZlYXR1cmUgaWQgY2FuIGJlIHVzZWQgd2l0aCB0aGVcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldEZlYXR1cmVCeUlkfSBtZXRob2QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH0gaWQgVGhlIGZlYXR1cmUgaWQuXG4gICAgICogQGFwaVxuICAgICAqIEBmaXJlcyBtb2R1bGU6b2wvZXZlbnRzL0V2ZW50fkJhc2VFdmVudCNldmVudDpjaGFuZ2VcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5zZXRJZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB0aGlzLmlkXyA9IGlkO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIHdoZW4gZ2V0dGluZyB0aGUgZmVhdHVyZSdzIGRlZmF1bHQgZ2VvbWV0cnkuXG4gICAgICogV2hlbiBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI2dldEdlb21ldHJ5fSwgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoXG4gICAgICogdGhpcyBuYW1lIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIHByb3BlcnR5IG5hbWUgb2YgdGhlIGRlZmF1bHQgZ2VvbWV0cnkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLnNldEdlb21ldHJ5TmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihnZXRDaGFuZ2VFdmVudFR5cGUodGhpcy5nZW9tZXRyeU5hbWVfKSwgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeU5hbWVfID0gbmFtZTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZSh0aGlzLmdlb21ldHJ5TmFtZV8pLCB0aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8pO1xuICAgICAgICB0aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8oKTtcbiAgICB9O1xuICAgIHJldHVybiBGZWF0dXJlO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIENvbnZlcnQgdGhlIHByb3ZpZGVkIG9iamVjdCBpbnRvIGEgZmVhdHVyZSBzdHlsZSBmdW5jdGlvbi4gIEZ1bmN0aW9ucyBwYXNzZWRcbiAqIHRocm91Z2ggdW5jaGFuZ2VkLiAgQXJyYXlzIG9mIFN0eWxlIG9yIHNpbmdsZSBzdHlsZSBvYmplY3RzIHdyYXBwZWRcbiAqIGluIGEgbmV3IGZlYXR1cmUgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258IUFycmF5PGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdD58IWltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gb2JqXG4gKiAgICAgQSBmZWF0dXJlIHN0eWxlIGZ1bmN0aW9uLCBhIHNpbmdsZSBzdHlsZSwgb3IgYW4gYXJyYXkgb2Ygc3R5bGVzLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufSBBIHN0eWxlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3R5bGVGdW5jdGlvbihvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHN0eWxlc18xO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IG9iajtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9iaikuZ2V0WkluZGV4KSA9PT0gJ2Z1bmN0aW9uJywgNDEpOyAvLyBFeHBlY3RlZCBhbiBgaW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZWAgb3IgYW4gYXJyYXkgb2YgYGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVgXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gKi8gKG9iaik7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IFtzdHlsZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZXNfMTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVhdHVyZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvT3ZlcmxheVBvc2l0aW9uaW5nXG4gKi9cbi8qKlxuICogT3ZlcmxheSBwb3NpdGlvbjogYCdib3R0b20tbGVmdCdgLCBgJ2JvdHRvbS1jZW50ZXInYCwgIGAnYm90dG9tLXJpZ2h0J2AsXG4gKiBgJ2NlbnRlci1sZWZ0J2AsIGAnY2VudGVyLWNlbnRlcidgLCBgJ2NlbnRlci1yaWdodCdgLCBgJ3RvcC1sZWZ0J2AsXG4gKiBgJ3RvcC1jZW50ZXInYCwgYCd0b3AtcmlnaHQnYFxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnLFxuICAgIEJPVFRPTV9DRU5URVI6ICdib3R0b20tY2VudGVyJyxcbiAgICBCT1RUT01fUklHSFQ6ICdib3R0b20tcmlnaHQnLFxuICAgIENFTlRFUl9MRUZUOiAnY2VudGVyLWxlZnQnLFxuICAgIENFTlRFUl9DRU5URVI6ICdjZW50ZXItY2VudGVyJyxcbiAgICBDRU5URVJfUklHSFQ6ICdjZW50ZXItcmlnaHQnLFxuICAgIFRPUF9MRUZUOiAndG9wLWxlZnQnLFxuICAgIFRPUF9DRU5URVI6ICd0b3AtY2VudGVyJyxcbiAgICBUT1BfUklHSFQ6ICd0b3AtcmlnaHQnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU92ZXJsYXlQb3NpdGlvbmluZy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL092ZXJsYXlcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QsIHsgZ2V0Q2hhbmdlRXZlbnRUeXBlIH0gZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuL01hcEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT3ZlcmxheVBvc2l0aW9uaW5nIGZyb20gJy4vT3ZlcmxheVBvc2l0aW9uaW5nLmpzJztcbmltcG9ydCB7IENMQVNTX1NFTEVDVEFCTEUgfSBmcm9tICcuL2Nzcy5qcyc7XG5pbXBvcnQgeyBjb250YWluc0V4dGVudCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbmltcG9ydCB7IG91dGVySGVpZ2h0LCBvdXRlcldpZHRoLCByZW1vdmVDaGlsZHJlbiwgcmVtb3ZlTm9kZSB9IGZyb20gJy4vZG9tLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ8c3RyaW5nfSBbaWRdIFNldCB0aGUgb3ZlcmxheSBpZC4gVGhlIG92ZXJsYXkgaWQgY2FuIGJlIHVzZWRcbiAqIHdpdGggdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNnZXRPdmVybGF5QnlJZH0gbWV0aG9kLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gW2VsZW1lbnRdIFRoZSBvdmVybGF5IGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtvZmZzZXQ9WzAsIDBdXSBPZmZzZXRzIGluIHBpeGVscyB1c2VkIHdoZW4gcG9zaXRpb25pbmdcbiAqIHRoZSBvdmVybGF5LiBUaGUgZmlyc3QgZWxlbWVudCBpbiB0aGVcbiAqIGFycmF5IGlzIHRoZSBob3Jpem9udGFsIG9mZnNldC4gQSBwb3NpdGl2ZSB2YWx1ZSBzaGlmdHMgdGhlIG92ZXJsYXkgcmlnaHQuXG4gKiBUaGUgc2Vjb25kIGVsZW1lbnQgaW4gdGhlIGFycmF5IGlzIHRoZSB2ZXJ0aWNhbCBvZmZzZXQuIEEgcG9zaXRpdmUgdmFsdWVcbiAqIHNoaWZ0cyB0aGUgb3ZlcmxheSBkb3duLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW3Bvc2l0aW9uXSBUaGUgb3ZlcmxheSBwb3NpdGlvblxuICogaW4gbWFwIHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vT3ZlcmxheVBvc2l0aW9uaW5nLmpzXCIpLmRlZmF1bHR9IFtwb3NpdGlvbmluZz0ndG9wLWxlZnQnXSBEZWZpbmVzIGhvd1xuICogdGhlIG92ZXJsYXkgaXMgYWN0dWFsbHkgcG9zaXRpb25lZCB3aXRoIHJlc3BlY3QgdG8gaXRzIGBwb3NpdGlvbmAgcHJvcGVydHkuXG4gKiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGAnYm90dG9tLWxlZnQnYCwgYCdib3R0b20tY2VudGVyJ2AsIGAnYm90dG9tLXJpZ2h0J2AsXG4gKiBgJ2NlbnRlci1sZWZ0J2AsIGAnY2VudGVyLWNlbnRlcidgLCBgJ2NlbnRlci1yaWdodCdgLCBgJ3RvcC1sZWZ0J2AsXG4gKiBgJ3RvcC1jZW50ZXInYCwgYW5kIGAndG9wLXJpZ2h0J2AuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzdG9wRXZlbnQ9dHJ1ZV0gV2hldGhlciBldmVudCBwcm9wYWdhdGlvbiB0byB0aGUgbWFwXG4gKiB2aWV3cG9ydCBzaG91bGQgYmUgc3RvcHBlZC4gSWYgYHRydWVgIHRoZSBvdmVybGF5IGlzIHBsYWNlZCBpbiB0aGUgc2FtZVxuICogY29udGFpbmVyIGFzIHRoYXQgb2YgdGhlIGNvbnRyb2xzIChDU1MgY2xhc3MgbmFtZVxuICogYG9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50YCk7IGlmIGBmYWxzZWAgaXQgaXMgcGxhY2VkIGluIHRoZSBjb250YWluZXJcbiAqIHdpdGggQ1NTIGNsYXNzIG5hbWUgc3BlY2lmaWVkIGJ5IHRoZSBgY2xhc3NOYW1lYCBwcm9wZXJ0eS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2luc2VydEZpcnN0PXRydWVdIFdoZXRoZXIgdGhlIG92ZXJsYXkgaXMgaW5zZXJ0ZWQgZmlyc3RcbiAqIGluIHRoZSBvdmVybGF5IGNvbnRhaW5lciwgb3IgYXBwZW5kZWQuIElmIHRoZSBvdmVybGF5IGlzIHBsYWNlZCBpbiB0aGUgc2FtZVxuICogY29udGFpbmVyIGFzIHRoYXQgb2YgdGhlIGNvbnRyb2xzIChzZWUgdGhlIGBzdG9wRXZlbnRgIG9wdGlvbikgeW91IHdpbGxcbiAqIHByb2JhYmx5IHNldCBgaW5zZXJ0Rmlyc3RgIHRvIGB0cnVlYCBzbyB0aGUgb3ZlcmxheSBpcyBkaXNwbGF5ZWQgYmVsb3cgdGhlXG4gKiBjb250cm9scy5cbiAqIEBwcm9wZXJ0eSB7UGFuSW50b1ZpZXdPcHRpb25zfGJvb2xlYW59IFthdXRvUGFuPWZhbHNlXSBQYW4gdGhlIG1hcCB3aGVuIGNhbGxpbmdcbiAqIGBzZXRQb3NpdGlvbmAsIHNvIHRoYXQgdGhlIG92ZXJsYXkgaXMgZW50aXJlbHkgdmlzaWJsZSBpbiB0aGUgY3VycmVudCB2aWV3cG9ydD9cbiAqIElmIGB0cnVlYCAoZGVwcmVjYXRlZCksIHRoZW4gYGF1dG9QYW5BbmltYXRpb25gIGFuZCBgYXV0b1Bhbk1hcmdpbmAgd2lsbCBiZVxuICogdXNlZCB0byBkZXRlcm1pbmUgdGhlIHBhbm5pbmcgcGFyYW1ldGVyczsgaWYgYW4gb2JqZWN0IGlzIHN1cHBsaWVkIHRoZW4gb3RoZXJcbiAqIHBhcmFtZXRlcnMgYXJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge1Bhbk9wdGlvbnN9IFthdXRvUGFuQW5pbWF0aW9uXSBUaGUgYW5pbWF0aW9uIG9wdGlvbnMgdXNlZCB0byBwYW5cbiAqIHRoZSBvdmVybGF5IGludG8gdmlldy4gVGhpcyBhbmltYXRpb24gaXMgb25seSB1c2VkIHdoZW4gYGF1dG9QYW5gIGlzIGVuYWJsZWQuXG4gKiBBIGBkdXJhdGlvbmAgYW5kIGBlYXNpbmdgIG1heSBiZSBwcm92aWRlZCB0byBjdXN0b21pemUgdGhlIGFuaW1hdGlvbi5cbiAqIERlcHJlY2F0ZWQgYW5kIGlnbm9yZWQgaWYgYGF1dG9QYW5gIGlzIHN1cHBsaWVkIGFzIGFuIG9iamVjdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYXV0b1Bhbk1hcmdpbj0yMF0gVGhlIG1hcmdpbiAoaW4gcGl4ZWxzKSBiZXR3ZWVuIHRoZVxuICogb3ZlcmxheSBhbmQgdGhlIGJvcmRlcnMgb2YgdGhlIG1hcCB3aGVuIGF1dG9wYW5uaW5nLiBEZXByZWNhdGVkIGFuZCBpZ25vcmVkXG4gKiBpZiBgYXV0b1BhbmAgaXMgc3VwcGxpZWQgYXMgYW4gb2JqZWN0LlxuICogQHByb3BlcnR5IHtQYW5JbnRvVmlld09wdGlvbnN9IFthdXRvUGFuT3B0aW9uc10gVGhlIG9wdGlvbnMgdG8gdXNlIGZvciB0aGVcbiAqIGF1dG9QYW4uIFRoaXMgaXMgb25seSB1c2VkIHdoZW4gYGF1dG9QYW5gIGlzIGVuYWJsZWQgYW5kIGhhcyBwcmVmZXJlbmNlIG92ZXJcbiAqIHRoZSBpbmRpdmlkdWFsIGBhdXRvUGFuTWFyZ2luYCBhbmQgYGF1dG9QYW5PcHRpb25zYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1vdmVybGF5LWNvbnRhaW5lciBvbC1zZWxlY3RhYmxlJ10gQ1NTIGNsYXNzXG4gKiBuYW1lLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwMF0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlLiBDYW5cbiAqIGJlIG9uZSBmcm9tIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nfSBvciBhIGN1c3RvbSBmdW5jdGlvbi5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9LlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhbkludG9WaWV3T3B0aW9uc1xuICogQHByb3BlcnR5IHtQYW5PcHRpb25zfSBbYW5pbWF0aW9uPXt9XSBUaGUgYW5pbWF0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSBwYW5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWFyZ2luPTIwXSBUaGUgbWFyZ2luIChpbiBwaXhlbHMpIGJldHdlZW4gdGhlXG4gKiBvdmVybGF5IGFuZCB0aGUgYm9yZGVycyBvZiB0aGUgbWFwIHdoZW4gcGFubmluZyBpbnRvIHZpZXcuXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm90ZWN0ZWRcbiAqL1xudmFyIFByb3BlcnR5ID0ge1xuICAgIEVMRU1FTlQ6ICdlbGVtZW50JyxcbiAgICBNQVA6ICdtYXAnLFxuICAgIE9GRlNFVDogJ29mZnNldCcsXG4gICAgUE9TSVRJT046ICdwb3NpdGlvbicsXG4gICAgUE9TSVRJT05JTkc6ICdwb3NpdGlvbmluZycsXG59O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbiBlbGVtZW50IHRvIGJlIGRpc3BsYXllZCBvdmVyIHRoZSBtYXAgYW5kIGF0dGFjaGVkIHRvIGEgc2luZ2xlIG1hcFxuICogbG9jYXRpb24uICBMaWtlIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Db250cm9sfkNvbnRyb2x9LCBPdmVybGF5cyBhcmVcbiAqIHZpc2libGUgd2lkZ2V0cy4gVW5saWtlIENvbnRyb2xzLCB0aGV5IGFyZSBub3QgaW4gYSBmaXhlZCBwb3NpdGlvbiBvbiB0aGVcbiAqIHNjcmVlbiwgYnV0IGFyZSB0aWVkIHRvIGEgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUsIHNvIHBhbm5pbmcgdGhlIG1hcCB3aWxsXG4gKiBtb3ZlIGFuIE92ZXJsYXkgYnV0IG5vdCBhIENvbnRyb2wuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IE92ZXJsYXkgZnJvbSAnb2wvT3ZlcmxheSc7XG4gKlxuICogICAgIHZhciBwb3B1cCA9IG5ldyBPdmVybGF5KHtcbiAqICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cCcpXG4gKiAgICAgfSk7XG4gKiAgICAgcG9wdXAuc2V0UG9zaXRpb24oY29vcmRpbmF0ZSk7XG4gKiAgICAgbWFwLmFkZE92ZXJsYXkocG9wdXApO1xuICpcbiAqIEBhcGlcbiAqL1xudmFyIE92ZXJsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE92ZXJsYXksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIE92ZXJsYXkgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPdmVybGF5KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge09wdGlvbnN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaWQgPSBvcHRpb25zLmlkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluc2VydEZpcnN0ID1cbiAgICAgICAgICAgIG9wdGlvbnMuaW5zZXJ0Rmlyc3QgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW5zZXJ0Rmlyc3QgOiB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0b3BFdmVudCA9IG9wdGlvbnMuc3RvcEV2ZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0b3BFdmVudCA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgX3RoaXMuZWxlbWVudC5jbGFzc05hbWUgPVxuICAgICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jbGFzc05hbWVcbiAgICAgICAgICAgICAgICA6ICdvbC1vdmVybGF5LWNvbnRhaW5lciAnICsgQ0xBU1NfU0VMRUNUQUJMRTtcbiAgICAgICAgX3RoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLmVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgdmFyIGF1dG9QYW4gPSBvcHRpb25zLmF1dG9QYW47XG4gICAgICAgIGlmIChhdXRvUGFuICYmICdvYmplY3QnICE9PSB0eXBlb2YgYXV0b1Bhbikge1xuICAgICAgICAgICAgYXV0b1BhbiA9IHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IG9wdGlvbnMuYXV0b1BhbkFuaW1hdGlvbixcbiAgICAgICAgICAgICAgICBtYXJnaW46IG9wdGlvbnMuYXV0b1Bhbk1hcmdpbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge1BhbkludG9WaWV3T3B0aW9uc3xmYWxzZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QYW4gPSAvKiogQHR5cGUge1BhbkludG9WaWV3T3B0aW9uc30gKi8gKGF1dG9QYW4pIHx8IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7e3RyYW5zZm9ybV86IHN0cmluZyxcbiAgICAgICAgICogICAgICAgICB2aXNpYmxlOiBib29sZWFufX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkID0ge1xuICAgICAgICAgICAgdHJhbnNmb3JtXzogJycsXG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcFBvc3RyZW5kZXJMaXN0ZW5lcktleSA9IG51bGw7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKFByb3BlcnR5LkVMRU1FTlQpLCBfdGhpcy5oYW5kbGVFbGVtZW50Q2hhbmdlZCk7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKFByb3BlcnR5Lk1BUCksIF90aGlzLmhhbmRsZU1hcENoYW5nZWQpO1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShQcm9wZXJ0eS5PRkZTRVQpLCBfdGhpcy5oYW5kbGVPZmZzZXRDaGFuZ2VkKTtcbiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihnZXRDaGFuZ2VFdmVudFR5cGUoUHJvcGVydHkuUE9TSVRJT04pLCBfdGhpcy5oYW5kbGVQb3NpdGlvbkNoYW5nZWQpO1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShQcm9wZXJ0eS5QT1NJVElPTklORyksIF90aGlzLmhhbmRsZVBvc2l0aW9uaW5nQ2hhbmdlZCk7XG4gICAgICAgIGlmIChvcHRpb25zLmVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RWxlbWVudChvcHRpb25zLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnNldE9mZnNldChvcHRpb25zLm9mZnNldCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXQgOiBbMCwgMF0pO1xuICAgICAgICBfdGhpcy5zZXRQb3NpdGlvbmluZyhvcHRpb25zLnBvc2l0aW9uaW5nICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL092ZXJsYXlQb3NpdGlvbmluZy5qc1wiKS5kZWZhdWx0fSAqLyAob3B0aW9ucy5wb3NpdGlvbmluZylcbiAgICAgICAgICAgIDogT3ZlcmxheVBvc2l0aW9uaW5nLlRPUF9MRUZUKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0UG9zaXRpb24ob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIERPTSBlbGVtZW50IG9mIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudHx1bmRlZmluZWR9IFRoZSBFbGVtZW50IGNvbnRhaW5pbmcgdGhlIG92ZXJsYXkuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoUHJvcGVydHkuRUxFTUVOVCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBvdmVybGF5IGlkZW50aWZpZXIgd2hpY2ggaXMgc2V0IG9uIGNvbnN0cnVjdG9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBJZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIG1hcCB0aGF0IHRoZVxuICAgICAqIG92ZXJsYXkgaXMgcGFydCBvZi5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoUHJvcGVydHkuTUFQKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9mZnNldCBvZiB0aGlzIG92ZXJsYXkuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIG9mZnNldC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5nZXRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovICh0aGlzLmdldChQcm9wZXJ0eS5PRkZTRVQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGlzIG92ZXJsYXkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBUaGUgc3BhdGlhbCBwb2ludCB0aGF0IHRoZSBvdmVybGF5IGlzXG4gICAgICogICAgIGFuY2hvcmVkIGF0LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChQcm9wZXJ0eS5QT1NJVElPTikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHBvc2l0aW9uaW5nIG9mIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL092ZXJsYXlQb3NpdGlvbmluZy5qc1wiKS5kZWZhdWx0fSBIb3cgdGhlIG92ZXJsYXkgaXMgcG9zaXRpb25lZFxuICAgICAqICAgICByZWxhdGl2ZSB0byBpdHMgcG9pbnQgb24gdGhlIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5nZXRQb3NpdGlvbmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9PdmVybGF5UG9zaXRpb25pbmcuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0KFByb3BlcnR5LlBPU0lUSU9OSU5HKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuaGFuZGxlRWxlbWVudENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZUNoaWxkcmVuKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5oYW5kbGVNYXBDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tYXBQb3N0cmVuZGVyTGlzdGVuZXJLZXkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBQb3N0cmVuZGVyTGlzdGVuZXJLZXkpO1xuICAgICAgICAgICAgdGhpcy5tYXBQb3N0cmVuZGVyTGlzdGVuZXJLZXkgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFBvc3RyZW5kZXJMaXN0ZW5lcktleSA9IGxpc3RlbihtYXAsIE1hcEV2ZW50VHlwZS5QT1NUUkVOREVSLCB0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBpeGVsUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnN0b3BFdmVudFxuICAgICAgICAgICAgICAgID8gbWFwLmdldE92ZXJsYXlDb250YWluZXJTdG9wRXZlbnQoKVxuICAgICAgICAgICAgICAgIDogbWFwLmdldE92ZXJsYXlDb250YWluZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmluc2VydEZpcnN0KSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQsIGNvbnRhaW5lci5jaGlsZE5vZGVzWzBdIHx8IG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BdXRvUGFuKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGl4ZWxQb3NpdGlvbigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLmhhbmRsZU9mZnNldENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGl4ZWxQb3NpdGlvbigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLmhhbmRsZVBvc2l0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVQaXhlbFBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMucGVyZm9ybUF1dG9QYW4oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5oYW5kbGVQb3NpdGlvbmluZ0NoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGl4ZWxQb3NpdGlvbigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBET00gZWxlbWVudCB0byBiZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBvdmVybGF5LlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8dW5kZWZpbmVkfSBlbGVtZW50IFRoZSBFbGVtZW50IGNvbnRhaW5pbmcgdGhlIG92ZXJsYXkuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuc2V0RWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5LkVMRU1FTlQsIGVsZW1lbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXAgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBtYXAgVGhlIG1hcCB0aGF0IHRoZVxuICAgICAqIG92ZXJsYXkgaXMgcGFydCBvZi5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5Lk1BUCwgbWFwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb2Zmc2V0IGZvciB0aGlzIG92ZXJsYXkuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLnNldE9mZnNldCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuT0ZGU0VULCBvZmZzZXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwb3NpdGlvbiBmb3IgdGhpcyBvdmVybGF5LiBJZiB0aGUgcG9zaXRpb24gaXMgYHVuZGVmaW5lZGAgdGhlXG4gICAgICogb3ZlcmxheSBpcyBoaWRkZW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IHBvc2l0aW9uIFRoZSBzcGF0aWFsIHBvaW50IHRoYXQgdGhlIG92ZXJsYXlcbiAgICAgKiAgICAgaXMgYW5jaG9yZWQgYXQuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuUE9TSVRJT04sIHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhbiB0aGUgbWFwIHNvIHRoYXQgdGhlIG92ZXJsYXkgaXMgZW50aXJlbHkgdmlzaXNibGUgaW4gdGhlIGN1cnJlbnQgdmlld3BvcnRcbiAgICAgKiAoaWYgbmVjZXNzYXJ5KSB1c2luZyB0aGUgY29uZmlndXJlZCBhdXRvUGFuIHBhcmFtZXRlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUucGVyZm9ybUF1dG9QYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9QYW4pIHtcbiAgICAgICAgICAgIHRoaXMucGFuSW50b1ZpZXcodGhpcy5hdXRvUGFuKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFuIHRoZSBtYXAgc28gdGhhdCB0aGUgb3ZlcmxheSBpcyBlbnRpcmVseSB2aXNpYmxlIGluIHRoZSBjdXJyZW50IHZpZXdwb3J0XG4gICAgICogKGlmIG5lY2Vzc2FyeSkuXG4gICAgICogQHBhcmFtIHtQYW5JbnRvVmlld09wdGlvbnM9fSBvcHRfcGFuSW50b1ZpZXdPcHRpb25zIE9wdGlvbnMgZm9yIHRoZSBwYW4gYWN0aW9uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLnBhbkludG9WaWV3ID0gZnVuY3Rpb24gKG9wdF9wYW5JbnRvVmlld09wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIGlmICghbWFwIHx8ICFtYXAuZ2V0VGFyZ2V0RWxlbWVudCgpIHx8ICF0aGlzLmdldChQcm9wZXJ0eS5QT1NJVElPTikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFwUmVjdCA9IHRoaXMuZ2V0UmVjdChtYXAuZ2V0VGFyZ2V0RWxlbWVudCgpLCBtYXAuZ2V0U2l6ZSgpKTtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoKTtcbiAgICAgICAgdmFyIG92ZXJsYXlSZWN0ID0gdGhpcy5nZXRSZWN0KGVsZW1lbnQsIFtcbiAgICAgICAgICAgIG91dGVyV2lkdGgoZWxlbWVudCksXG4gICAgICAgICAgICBvdXRlckhlaWdodChlbGVtZW50KSxcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBwYW5JbnRvVmlld09wdGlvbnMgPSBvcHRfcGFuSW50b1ZpZXdPcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgbXlNYXJnaW4gPSBwYW5JbnRvVmlld09wdGlvbnMubWFyZ2luID09PSB1bmRlZmluZWQgPyAyMCA6IHBhbkludG9WaWV3T3B0aW9ucy5tYXJnaW47XG4gICAgICAgIGlmICghY29udGFpbnNFeHRlbnQobWFwUmVjdCwgb3ZlcmxheVJlY3QpKSB7XG4gICAgICAgICAgICAvLyB0aGUgb3ZlcmxheSBpcyBub3QgY29tcGxldGVseSBpbnNpZGUgdGhlIHZpZXdwb3J0LCBzbyBwYW4gdGhlIG1hcFxuICAgICAgICAgICAgdmFyIG9mZnNldExlZnQgPSBvdmVybGF5UmVjdFswXSAtIG1hcFJlY3RbMF07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0UmlnaHQgPSBtYXBSZWN0WzJdIC0gb3ZlcmxheVJlY3RbMl07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0VG9wID0gb3ZlcmxheVJlY3RbMV0gLSBtYXBSZWN0WzFdO1xuICAgICAgICAgICAgdmFyIG9mZnNldEJvdHRvbSA9IG1hcFJlY3RbM10gLSBvdmVybGF5UmVjdFszXTtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IFswLCAwXTtcbiAgICAgICAgICAgIGlmIChvZmZzZXRMZWZ0IDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIG1vdmUgbWFwIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZGVsdGFbMF0gPSBvZmZzZXRMZWZ0IC0gbXlNYXJnaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvZmZzZXRSaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIG1hcCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBkZWx0YVswXSA9IE1hdGguYWJzKG9mZnNldFJpZ2h0KSArIG15TWFyZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9mZnNldFRvcCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIG1hcCB1cFxuICAgICAgICAgICAgICAgIGRlbHRhWzFdID0gb2Zmc2V0VG9wIC0gbXlNYXJnaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvZmZzZXRCb3R0b20gPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbW92ZSBtYXAgZG93blxuICAgICAgICAgICAgICAgIGRlbHRhWzFdID0gTWF0aC5hYnMob2Zmc2V0Qm90dG9tKSArIG15TWFyZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbHRhWzBdICE9PSAwIHx8IGRlbHRhWzFdICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovIChtYXBcbiAgICAgICAgICAgICAgICAgICAgLmdldFZpZXcoKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0Q2VudGVySW50ZXJuYWwoKSk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlclB4ID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbChjZW50ZXIpO1xuICAgICAgICAgICAgICAgIGlmICghY2VudGVyUHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmV3Q2VudGVyUHggPSBbY2VudGVyUHhbMF0gKyBkZWx0YVswXSwgY2VudGVyUHhbMV0gKyBkZWx0YVsxXV07XG4gICAgICAgICAgICAgICAgdmFyIHBhbk9wdGlvbnMgPSBwYW5JbnRvVmlld09wdGlvbnMuYW5pbWF0aW9uIHx8IHt9O1xuICAgICAgICAgICAgICAgIG1hcC5nZXRWaWV3KCkuYW5pbWF0ZUludGVybmFsKHtcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKG5ld0NlbnRlclB4KSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHBhbk9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogcGFuT3B0aW9ucy5lYXNpbmcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50XG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFRoZSBzaXplIG9mIHRoZSBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGV4dGVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuZ2V0UmVjdCA9IGZ1bmN0aW9uIChlbGVtZW50LCBzaXplKSB7XG4gICAgICAgIHZhciBib3ggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgb2Zmc2V0WCA9IGJveC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgICAgICB2YXIgb2Zmc2V0WSA9IGJveC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgIHJldHVybiBbb2Zmc2V0WCwgb2Zmc2V0WSwgb2Zmc2V0WCArIHNpemVbMF0sIG9mZnNldFkgKyBzaXplWzFdXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcG9zaXRpb25pbmcgZm9yIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheVBvc2l0aW9uaW5nLmpzXCIpLmRlZmF1bHR9IHBvc2l0aW9uaW5nIGhvdyB0aGUgb3ZlcmxheSBpc1xuICAgICAqICAgICBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIGl0cyBwb2ludCBvbiB0aGUgbWFwLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLnNldFBvc2l0aW9uaW5nID0gZnVuY3Rpb24gKHBvc2l0aW9uaW5nKSB7XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5LlBPU0lUSU9OSU5HLCBwb3NpdGlvbmluZyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlIEVsZW1lbnQgdmlzaWJpbGl0eS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkLnZpc2libGUgIT09IHZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZC52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHBpeGVsIHBvc2l0aW9uLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS51cGRhdGVQaXhlbFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbigpO1xuICAgICAgICBpZiAoIW1hcCB8fCAhbWFwLmlzUmVuZGVyZWQoKSB8fCAhcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBpeGVsID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGUocG9zaXRpb24pO1xuICAgICAgICB2YXIgbWFwU2l6ZSA9IG1hcC5nZXRTaXplKCk7XG4gICAgICAgIHRoaXMudXBkYXRlUmVuZGVyZWRQb3NpdGlvbihwaXhlbCwgbWFwU2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFRoZSBwaXhlbCBsb2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gbWFwU2l6ZSBUaGUgbWFwIHNpemUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLnVwZGF0ZVJlbmRlcmVkUG9zaXRpb24gPSBmdW5jdGlvbiAocGl4ZWwsIG1hcFNpemUpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5lbGVtZW50LnN0eWxlO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXQoKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uaW5nID0gdGhpcy5nZXRQb3NpdGlvbmluZygpO1xuICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHZhciB4ID0gTWF0aC5yb3VuZChwaXhlbFswXSArIG9mZnNldFswXSkgKyAncHgnO1xuICAgICAgICB2YXIgeSA9IE1hdGgucm91bmQocGl4ZWxbMV0gKyBvZmZzZXRbMV0pICsgJ3B4JztcbiAgICAgICAgdmFyIHBvc1ggPSAnMCUnO1xuICAgICAgICB2YXIgcG9zWSA9ICcwJSc7XG4gICAgICAgIGlmIChwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQk9UVE9NX1JJR0hUIHx8XG4gICAgICAgICAgICBwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQ0VOVEVSX1JJR0hUIHx8XG4gICAgICAgICAgICBwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuVE9QX1JJR0hUKSB7XG4gICAgICAgICAgICBwb3NYID0gJy0xMDAlJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQk9UVE9NX0NFTlRFUiB8fFxuICAgICAgICAgICAgcG9zaXRpb25pbmcgPT0gT3ZlcmxheVBvc2l0aW9uaW5nLkNFTlRFUl9DRU5URVIgfHxcbiAgICAgICAgICAgIHBvc2l0aW9uaW5nID09IE92ZXJsYXlQb3NpdGlvbmluZy5UT1BfQ0VOVEVSKSB7XG4gICAgICAgICAgICBwb3NYID0gJy01MCUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQk9UVE9NX0xFRlQgfHxcbiAgICAgICAgICAgIHBvc2l0aW9uaW5nID09IE92ZXJsYXlQb3NpdGlvbmluZy5CT1RUT01fQ0VOVEVSIHx8XG4gICAgICAgICAgICBwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICBwb3NZID0gJy0xMDAlJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQ0VOVEVSX0xFRlQgfHxcbiAgICAgICAgICAgIHBvc2l0aW9uaW5nID09IE92ZXJsYXlQb3NpdGlvbmluZy5DRU5URVJfQ0VOVEVSIHx8XG4gICAgICAgICAgICBwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQ0VOVEVSX1JJR0hUKSB7XG4gICAgICAgICAgICBwb3NZID0gJy01MCUnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHBvc1ggKyBcIiwgXCIgKyBwb3NZICsgXCIpIHRyYW5zbGF0ZShcIiArIHggKyBcIiwgXCIgKyB5ICsgXCIpXCI7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkLnRyYW5zZm9ybV8gIT0gdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIElFOVxuICAgICAgICAgICAgc3R5bGUubXNUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIG9wdGlvbnMgdGhpcyBPdmVybGF5IGhhcyBiZWVuIGNyZWF0ZWQgd2l0aFxuICAgICAqIEByZXR1cm4ge09wdGlvbnN9IG92ZXJsYXkgb3B0aW9uc1xuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gICAgfTtcbiAgICByZXR1cm4gT3ZlcmxheTtcbn0oQmFzZU9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgT3ZlcmxheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU92ZXJsYXkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1RleHRcbiAqL1xuaW1wb3J0IEZpbGwgZnJvbSAnLi9GaWxsLmpzJztcbmltcG9ydCBUZXh0UGxhY2VtZW50IGZyb20gJy4vVGV4dFBsYWNlbWVudC5qcyc7XG5pbXBvcnQgeyB0b1NpemUgfSBmcm9tICcuLi9zaXplLmpzJztcbi8qKlxuICogVGhlIGRlZmF1bHQgZmlsbCBjb2xvciB0byB1c2UgaWYgbm8gZmlsbCB3YXMgc2V0IGF0IGNvbnN0cnVjdGlvbiB0aW1lOyBhXG4gKiBibGFja2lzaCBgIzMzM2AuXG4gKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbnZhciBERUZBVUxUX0ZJTExfQ09MT1IgPSAnIzMzMyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZm9udF0gRm9udCBzdHlsZSBhcyBDU1MgJ2ZvbnQnIHZhbHVlLCBzZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZvbnQuIERlZmF1bHQgaXMgJzEwcHggc2Fucy1zZXJpZidcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4QW5nbGU9TWF0aC5QSS80XSBXaGVuIGBwbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgYSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAqIFRoZSBleHBlY3RlZCB2YWx1ZSBpcyBpbiByYWRpYW5zLCBhbmQgdGhlIGRlZmF1bHQgaXMgNDXCsCAoYE1hdGguUEkgLyA0YCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29mZnNldFg9MF0gSG9yaXpvbnRhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCByaWdodC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb2Zmc2V0WT0wXSBWZXJ0aWNhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCBkb3duLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3ZlcmZsb3c9ZmFsc2VdIEZvciBwb2x5Z29uIGxhYmVscyBvciB3aGVuIGBwbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgdGV4dCB0byBleGNlZWRcbiAqIHRoZSB3aWR0aCBvZiB0aGUgcG9seWdvbiBhdCB0aGUgbGFiZWwgcG9zaXRpb24gb3IgdGhlIGxlbmd0aCBvZiB0aGUgcGF0aCB0aGF0IGl0IGZvbGxvd3MuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVGV4dFBsYWNlbWVudC5qc1wiKS5kZWZhdWx0fHN0cmluZ30gW3BsYWNlbWVudD0ncG9pbnQnXSBUZXh0IHBsYWNlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlXSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgdGV4dCB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZXh0XSBUZXh0IGNvbnRlbnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RleHRBbGlnbl0gVGV4dCBhbGlnbm1lbnQuIFBvc3NpYmxlIHZhbHVlczogJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJywgJ2VuZCcgb3IgJ3N0YXJ0Jy5cbiAqIERlZmF1bHQgaXMgJ2NlbnRlcicgZm9yIGBwbGFjZW1lbnQ6ICdwb2ludCdgLiBGb3IgYHBsYWNlbWVudDogJ2xpbmUnYCwgdGhlIGRlZmF1bHQgaXMgdG8gbGV0IHRoZSByZW5kZXJlciBjaG9vc2UgYVxuICogcGxhY2VtZW50IHdoZXJlIGBtYXhBbmdsZWAgaXMgbm90IGV4Y2VlZGVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZXh0QmFzZWxpbmU9J21pZGRsZSddIFRleHQgYmFzZSBsaW5lLiBQb3NzaWJsZSB2YWx1ZXM6ICdib3R0b20nLCAndG9wJywgJ21pZGRsZScsICdhbHBoYWJldGljJyxcbiAqICdoYW5naW5nJywgJ2lkZW9ncmFwaGljJy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLiBJZiBub25lIGlzIHByb3ZpZGVkLCB3ZSdsbCB1c2UgYSBkYXJrIGZpbGwtc3R5bGUgKCMzMzMpLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbc3Ryb2tlXSBTdHJva2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZEZpbGxdIEZpbGwgc3R5bGUgZm9yIHRoZSB0ZXh0IGJhY2tncm91bmQgd2hlbiBgcGxhY2VtZW50YCBpc1xuICogYCdwb2ludCdgLiBEZWZhdWx0IGlzIG5vIGZpbGwuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kU3Ryb2tlXSBTdHJva2Ugc3R5bGUgZm9yIHRoZSB0ZXh0IGJhY2tncm91bmQgIHdoZW4gYHBsYWNlbWVudGBcbiAqIGlzIGAncG9pbnQnYC4gRGVmYXVsdCBpcyBubyBzdHJva2UuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyBpbiBwaXhlbHMgYXJvdW5kIHRoZSB0ZXh0IGZvciBkZWNsdXR0ZXJpbmcgYW5kIGJhY2tncm91bmQuIFRoZSBvcmRlciBvZlxuICogdmFsdWVzIGluIHRoZSBhcnJheSBpcyBgW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF1gLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCB0ZXh0IHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dChvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnRfID0gb3B0aW9ucy5mb250O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uXyA9IG9wdGlvbnMucm90YXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlXyA9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShvcHRpb25zLnNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNjYWxlIDogMSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dF8gPSBvcHRpb25zLnRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dEFsaWduXyA9IG9wdGlvbnMudGV4dEFsaWduO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHRCYXNlbGluZV8gPSBvcHRpb25zLnRleHRCYXNlbGluZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbF8gPVxuICAgICAgICAgICAgb3B0aW9ucy5maWxsICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuZmlsbFxuICAgICAgICAgICAgICAgIDogbmV3IEZpbGwoeyBjb2xvcjogREVGQVVMVF9GSUxMX0NPTE9SIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4QW5nbGVfID1cbiAgICAgICAgICAgIG9wdGlvbnMubWF4QW5nbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4QW5nbGUgOiBNYXRoLlBJIC8gNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RleHRQbGFjZW1lbnQuanNcIikuZGVmYXVsdHxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsYWNlbWVudF8gPVxuICAgICAgICAgICAgb3B0aW9ucy5wbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGxhY2VtZW50IDogVGV4dFBsYWNlbWVudC5QT0lOVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdmVyZmxvd18gPSAhIW9wdGlvbnMub3ZlcmZsb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3Ryb2tlXyA9IG9wdGlvbnMuc3Ryb2tlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0cm9rZSA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vZmZzZXRYXyA9IG9wdGlvbnMub2Zmc2V0WCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXRYIDogMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9mZnNldFlfID0gb3B0aW9ucy5vZmZzZXRZICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZnNldFkgOiAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kRmlsbF8gPSBvcHRpb25zLmJhY2tncm91bmRGaWxsXG4gICAgICAgICAgICA/IG9wdGlvbnMuYmFja2dyb3VuZEZpbGxcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU3Ryb2tlXyA9IG9wdGlvbnMuYmFja2dyb3VuZFN0cm9rZVxuICAgICAgICAgICAgPyBvcHRpb25zLmJhY2tncm91bmRTdHJva2VcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWRkaW5nXyA9IG9wdGlvbnMucGFkZGluZyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG9wdGlvbnMucGFkZGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtUZXh0fSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgICAgICByZXR1cm4gbmV3IFRleHQoe1xuICAgICAgICAgICAgZm9udDogdGhpcy5nZXRGb250KCksXG4gICAgICAgICAgICBwbGFjZW1lbnQ6IHRoaXMuZ2V0UGxhY2VtZW50KCksXG4gICAgICAgICAgICBtYXhBbmdsZTogdGhpcy5nZXRNYXhBbmdsZSgpLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IHRoaXMuZ2V0T3ZlcmZsb3coKSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgICAgICAgdGV4dDogdGhpcy5nZXRUZXh0KCksXG4gICAgICAgICAgICB0ZXh0QWxpZ246IHRoaXMuZ2V0VGV4dEFsaWduKCksXG4gICAgICAgICAgICB0ZXh0QmFzZWxpbmU6IHRoaXMuZ2V0VGV4dEJhc2VsaW5lKCksXG4gICAgICAgICAgICBmaWxsOiB0aGlzLmdldEZpbGwoKSA/IHRoaXMuZ2V0RmlsbCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvZmZzZXRYOiB0aGlzLmdldE9mZnNldFgoKSxcbiAgICAgICAgICAgIG9mZnNldFk6IHRoaXMuZ2V0T2Zmc2V0WSgpLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbGw6IHRoaXMuZ2V0QmFja2dyb3VuZEZpbGwoKVxuICAgICAgICAgICAgICAgID8gdGhpcy5nZXRCYWNrZ3JvdW5kRmlsbCgpLmNsb25lKClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2U6IHRoaXMuZ2V0QmFja2dyb3VuZFN0cm9rZSgpXG4gICAgICAgICAgICAgICAgPyB0aGlzLmdldEJhY2tncm91bmRTdHJva2UoKS5jbG9uZSgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwYWRkaW5nOiB0aGlzLmdldFBhZGRpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGBvdmVyZmxvd2AgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBMZXQgdGV4dCBvdmVyZmxvdyB0aGUgbGVuZ3RoIG9mIHRoZSBwYXRoIHRoZXkgZm9sbG93LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRPdmVyZmxvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmZsb3dfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmb250IG5hbWUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gRm9udC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0Rm9udCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1heGltdW0gYW5nbGUgYmV0d2VlbiBhZGphY2VudCBjaGFyYWN0ZXJzLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TWF4QW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heEFuZ2xlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGFiZWwgcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGV4dFBsYWNlbWVudC5qc1wiKS5kZWZhdWx0fHN0cmluZ30gVGV4dCBwbGFjZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFBsYWNlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VtZW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgeC1vZmZzZXQgZm9yIHRoZSB0ZXh0LlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSG9yaXpvbnRhbCB0ZXh0IG9mZnNldC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0T2Zmc2V0WCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0WF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHktb2Zmc2V0IGZvciB0aGUgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFZlcnRpY2FsIHRleHQgb2Zmc2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRPZmZzZXRZID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXRZXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmlsbCBzdHlsZSBmb3IgdGhlIHRleHQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHRleHQgcm90YXRlcyB3aXRoIHRoZSBtYXAuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IFJvdGF0ZSB3aXRoIG1hcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0Um90YXRlV2l0aFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVdpdGhWaWV3XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCByb3RhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0Um90YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCBzY2FsZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gU2NhbGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTY2FsZSBhcnJheS5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRTY2FsZUFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZUFycmF5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3Ryb2tlIHN0eWxlIGZvciB0aGUgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFN0cm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUZXh0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCBhbGlnbm1lbnQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGV4dCBhbGlnbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0VGV4dEFsaWduID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0QWxpZ25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0ZXh0IGJhc2VsaW5lLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRleHQgYmFzZWxpbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFRleHRCYXNlbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dEJhc2VsaW5lXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYmFja2dyb3VuZCBmaWxsIHN0eWxlIGZvciB0aGUgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gRmlsbCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRGaWxsXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYmFja2dyb3VuZCBzdHJva2Ugc3R5bGUgZm9yIHRoZSB0ZXh0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFN0cm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZFN0cm9rZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhZGRpbmcgZm9yIHRoZSB0ZXh0LlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFBhZGRpbmcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFBhZGRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhZGRpbmdfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBgb3ZlcmZsb3dgIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVyZmxvdyBMZXQgdGV4dCBvdmVyZmxvdyB0aGUgcGF0aCB0aGF0IGl0IGZvbGxvd3MuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldE92ZXJmbG93ID0gZnVuY3Rpb24gKG92ZXJmbG93KSB7XG4gICAgICAgIHRoaXMub3ZlcmZsb3dfID0gb3ZlcmZsb3c7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZvbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGZvbnQgRm9udC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuc2V0Rm9udCA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIHRoaXMuZm9udF8gPSBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBbmdsZSBBbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRNYXhBbmdsZSA9IGZ1bmN0aW9uIChtYXhBbmdsZSkge1xuICAgICAgICB0aGlzLm1heEFuZ2xlXyA9IG1heEFuZ2xlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB4IG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIEhvcml6b250YWwgdGV4dCBvZmZzZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldE9mZnNldFggPSBmdW5jdGlvbiAob2Zmc2V0WCkge1xuICAgICAgICB0aGlzLm9mZnNldFhfID0gb2Zmc2V0WDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgeSBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSBWZXJ0aWNhbCB0ZXh0IG9mZnNldC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuc2V0T2Zmc2V0WSA9IGZ1bmN0aW9uIChvZmZzZXRZKSB7XG4gICAgICAgIHRoaXMub2Zmc2V0WV8gPSBvZmZzZXRZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0ZXh0IHBsYWNlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UZXh0UGxhY2VtZW50LmpzXCIpLmRlZmF1bHR8c3RyaW5nfSBwbGFjZW1lbnQgUGxhY2VtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRQbGFjZW1lbnQgPSBmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgICAgIHRoaXMucGxhY2VtZW50XyA9IHBsYWNlbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRvIHJvdGF0ZSB0aGUgdGV4dCB3aXRoIHRoZSB2aWV3LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb3RhdGVXaXRoVmlldyBSb3RhdGUgd2l0aCBtYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFJvdGF0ZVdpdGhWaWV3ID0gZnVuY3Rpb24gKHJvdGF0ZVdpdGhWaWV3KSB7XG4gICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gcm90YXRlV2l0aFZpZXc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldEZpbGwgPSBmdW5jdGlvbiAoZmlsbCkge1xuICAgICAgICB0aGlzLmZpbGxfID0gZmlsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRSb3RhdGlvbiA9IGZ1bmN0aW9uIChyb3RhdGlvbikge1xuICAgICAgICB0aGlzLnJvdGF0aW9uXyA9IHJvdGF0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzY2FsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IHNjYWxlIFNjYWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRTY2FsZSA9IGZ1bmN0aW9uIChzY2FsZSkge1xuICAgICAgICB0aGlzLnNjYWxlXyA9IHNjYWxlO1xuICAgICAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKHNjYWxlICE9PSB1bmRlZmluZWQgPyBzY2FsZSA6IDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHJva2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFN0cm9rZSA9IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgdGhpcy5zdHJva2VfID0gc3Ryb2tlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSB0ZXh0IFRleHQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB0aGlzLnRleHRfID0gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGV4dCBhbGlnbm1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHRleHRBbGlnbiBUZXh0IGFsaWduLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRUZXh0QWxpZ24gPSBmdW5jdGlvbiAodGV4dEFsaWduKSB7XG4gICAgICAgIHRoaXMudGV4dEFsaWduXyA9IHRleHRBbGlnbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGV4dCBiYXNlbGluZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gdGV4dEJhc2VsaW5lIFRleHQgYmFzZWxpbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFRleHRCYXNlbGluZSA9IGZ1bmN0aW9uICh0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgdGhpcy50ZXh0QmFzZWxpbmVfID0gdGV4dEJhc2VsaW5lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBiYWNrZ3JvdW5kIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldEJhY2tncm91bmRGaWxsID0gZnVuY3Rpb24gKGZpbGwpIHtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kRmlsbF8gPSBmaWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBiYWNrZ3JvdW5kIHN0cm9rZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZFN0cm9rZSA9IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU3Ryb2tlXyA9IHN0cm9rZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFkZGluZyAoYFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdYCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFBcnJheTxudW1iZXI+fSBwYWRkaW5nIFBhZGRpbmcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFBhZGRpbmcgPSBmdW5jdGlvbiAocGFkZGluZykge1xuICAgICAgICB0aGlzLnBhZGRpbmdfID0gcGFkZGluZztcbiAgICB9O1xuICAgIHJldHVybiBUZXh0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFRleHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0LmpzLm1hcCIsImltcG9ydCB7IEZlYXR1cmUsIE1hcCwgT3ZlcmxheSB9IGZyb20gJ29sJ1xuaW1wb3J0IHsgQ2lyY2xlLCBGaWxsLCBTdHJva2UsIFN0eWxlLCBUZXh0IH0gZnJvbSAnb2wvc3R5bGUnXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ29sL2dlb20nXG5pbXBvcnQgeyBmcm9tTG9uTGF0IH0gZnJvbSAnb2wvcHJvaidcbmltcG9ydCB7IEZlYXR1cmVMaWtlIH0gZnJvbSAnb2wvRmVhdHVyZSdcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnb2wvZ2VvbS9HZW9tZXRyeVR5cGUnXG5pbXBvcnQgT3ZlcmxheVBvc2l0aW9uaW5nIGZyb20gJ29sL092ZXJsYXlQb3NpdGlvbmluZydcbmltcG9ydCB7IGZpbHRlck9iamVjdCB9IGZyb20gJy4vdXRpbCdcblxuY29uc3QgQ09MT1JfREVGQVVMVFMgPSB7XG4gIHByaW1hcnk6ICcjZmYxNDkzJyxcbiAgc2Vjb25kYXJ5OiAnI2ZmZmYwMCdcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5mb0VsZW1lbnQgKGlubmVySFRNTCA9ICcnKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIHsgY2xhc3NOYW1lOiAnaW5mbycsIGlubmVySFRNTCB9XG4gIClcbn1cblxuZnVuY3Rpb24gbWluaWZ5IChodG1sOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGh0bWwudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyIGV4dGVuZHMgRmVhdHVyZSB7XG4gIHByaXZhdGUgcG9wdXA6IE92ZXJsYXkgPSBudWxsXG5cbiAgY29uc3RydWN0b3IgKHsgbmFtZSwgbG9jYXRpb24sIGluZm8gPSBudWxsLCBpbmZvSFRNTCA9ICcnLCBjb2xvciA9IHt9IH0pIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBHZW9tZXRyeVR5cGUuUE9JTlQsXG4gICAgICBnZW9tZXRyeTogbmV3IFBvaW50KGZyb21Mb25MYXQobG9jYXRpb24pKSxcbiAgICAgIG5hbWVcbiAgICB9KVxuXG4gICAgdGhpcy5zZXQoJ2xvY2F0aW9uJywgbG9jYXRpb24pXG4gICAgdGhpcy5zZXQoJ2luZm8nLCBpbmZvIHx8IGNyZWF0ZUluZm9FbGVtZW50KGluZm9IVE1MKSlcbiAgICB0aGlzLnNldCgnY29sb3InLCB7IC4uLkNPTE9SX0RFRkFVTFRTLCAuLi5jb2xvciB9KVxuICAgIHRoaXMub24oJ3Byb3BlcnR5Y2hhbmdlJywgdGhpcy5oYW5kbGVDaGFuZ2UpXG4gICAgdGhpcy5wb3B1cCA9IHRoaXMuaW5pdFBvcHVwKClcbiAgfVxuXG4gIHB1YmxpYyBnZXQgaGFzSW5mbyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9wdXAuZ2V0RWxlbWVudCgpLmlubmVySFRNTC50cmltKCkgIT09ICcnXG4gIH1cblxuICBwdWJsaWMgc2hvd0luZm8gKG1hcDogTWFwKSB7XG4gICAgaWYgKHRoaXMuaGFzSW5mbykge1xuICAgICAgbWFwLmFkZE92ZXJsYXkodGhpcy5wb3B1cClcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGlkZUluZm8gKG1hcDogTWFwKSB7XG4gICAgbWFwLnJlbW92ZU92ZXJsYXkodGhpcy5wb3B1cClcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGVJbmZvIChtYXA6IE1hcCwgdmFsdWU6IGJvb2xlYW4pIHtcbiAgICByZXR1cm4gdmFsdWUgPyB0aGlzLnNob3dJbmZvKG1hcCkgOiB0aGlzLmhpZGVJbmZvKG1hcClcbiAgfVxuXG4gIHB1YmxpYyB0b0pTT04gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLmdldCgnbmFtZScpLFxuICAgICAgbG9jYXRpb246IHRoaXMuZ2V0KCdsb2NhdGlvbicpLFxuICAgICAgaW5mb0hUTUw6IG1pbmlmeSh0aGlzLmdldCgnaW5mbycpLmlubmVySFRNTCksXG4gICAgICBjb2xvcjogZmlsdGVyT2JqZWN0PHN0cmluZz4odGhpcy5nZXQoJ2NvbG9yJyksIChrZXksIHZhbHVlKSA9PlxuICAgICAgICB2YWx1ZS50b0xvd2VyQ2FzZSgpICE9PSBDT0xPUl9ERUZBVUxUU1trZXldKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5pdFBvcHVwICgpIHtcbiAgICBpZiAodGhpcy5wb3B1cCkge1xuICAgICAgdGhpcy5wb3B1cC5kaXNwb3NlKClcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE92ZXJsYXkoe1xuICAgICAgZWxlbWVudDogdGhpcy5nZXQoJ2luZm8nKSxcbiAgICAgIHBvc2l0aW9uOiBmcm9tTG9uTGF0KHRoaXMuZ2V0KCdsb2NhdGlvbicpKSxcbiAgICAgIHBvc2l0aW9uaW5nOiAnY2VudGVyLWxlZnQnIGFzIE92ZXJsYXlQb3NpdGlvbmluZyxcbiAgICAgIG9mZnNldDogWzIwLCAwXSxcbiAgICAgIGF1dG9QYW46IHtcbiAgICAgICAgYW5pbWF0aW9uOiB7IGR1cmF0aW9uOiAyMDAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSAnbG9jYXRpb24nOlxuICAgICAgICB0aGlzLnBvcHVwLnNldFBvc2l0aW9uKGZyb21Mb25MYXQodGhpcy5nZXQoJ2xvY2F0aW9uJykpKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgdGhpcy5wb3B1cC5zZXRFbGVtZW50KHRoaXMuZ2V0KCdpbmZvJykpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXJrZXJTdHlsZSAoZmVhdHVyZTogRmVhdHVyZUxpa2UsIHNlbGVjdGVkID0gZmFsc2UpIHtcbiAgY29uc3QgY29sb3IgPSBmZWF0dXJlLmdldCgnY29sb3InKVxuXG4gIHJldHVybiBuZXcgU3R5bGUoe1xuICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAgICAgIHJhZGl1czogMTAsXG4gICAgICBmaWxsOiBuZXcgRmlsbCh7IGNvbG9yOiBzZWxlY3RlZCA/IGNvbG9yLnNlY29uZGFyeSA6IGNvbG9yLnByaW1hcnkgfSksXG4gICAgICAuLi5zZWxlY3RlZCA/IHtcbiAgICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgICBjb2xvcjogY29sb3IucHJpbWFyeSxcbiAgICAgICAgICB3aWR0aDogM1xuICAgICAgICB9KVxuICAgICAgfSA6IHt9XG4gICAgfSksXG4gICAgdGV4dDogbmV3IFRleHQoe1xuICAgICAgdGV4dDogZmVhdHVyZS5nZXQoJ25hbWUnKSxcbiAgICAgIHRleHRBbGlnbjogJ3RvcCcsXG4gICAgICBiYWNrZ3JvdW5kRmlsbDogbmV3IEZpbGwoeyBjb2xvcjogJ3doaXRlJyB9KSxcbiAgICAgIHBhZGRpbmc6IFs0LCA0LCA0LCA0XSxcbiAgICAgIG9mZnNldFk6IDI1XG4gICAgfSlcbiAgfSlcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJPYmplY3Q8VCA9IGFueT5cbiAgKHNvdXJjZTogb2JqZWN0LCBwcmVkaWNhdGU6IChrZXk6IHN0cmluZywgdmFsdWU6IFQpID0+IGJvb2xlYW4pIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHNvdXJjZSkucmVkdWNlKChyZXN1bHQsIFtrZXksIHZhbHVlXSkgPT4gKHtcbiAgICAuLi5yZXN1bHQsXG4gICAgLi4ucHJlZGljYXRlKGtleSwgdmFsdWUpID8geyBba2V5XTogdmFsdWUgfSA6IHt9XG4gIH0pLCB7fSlcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLmpzXCI7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFsbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuY3NzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG5cbl9fd2VicGFja19yZXF1aXJlX18uZi5qID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSA/IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA6IHVuZGVmaW5lZDtcblx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cblx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYodHJ1ZSkgeyAvLyBhbGwgY2h1bmtzIGhhdmUgSlNcblx0XHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG5cdFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuXHRcdFx0XHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCk7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRcdFx0XHRcdHZhciBsb2FkaW5nRW5kZWQgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpKSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG5cdFx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhWzFdKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkLCBcImNodW5rLVwiICsgY2h1bmtJZCwgY2h1bmtJZCk7XG5cdFx0XHRcdH0gZWxzZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cbn07XG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIGRlZmVycmVkIHN0YXJ0dXBcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHR9XG5cdH1cblx0aWYocnVudGltZSkgcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcblx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG5cdH1cblxufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua21hcF9tYXJrZXJzXCJdID0gc2VsZltcIndlYnBhY2tDaHVua21hcF9tYXJrZXJzXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTtcblxuLy8gbm8gZGVmZXJyZWQgc3RhcnR1cCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZVxuICovXG5pbXBvcnQgeyBhc1N0cmluZyB9IGZyb20gJy4uL2NvbG9yLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2luZ2xldG9uIGNsYXNzLiBBdmFpbGFibGUgdGhyb3VnaCB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfnNoYXJlZH0uXG4gKi9cbnZhciBJY29uSW1hZ2VDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJY29uSW1hZ2VDYWNoZSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVTaXplXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhDYWNoZVNpemVfID0gMzI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgICAqL1xuICAgIEljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWNoZV8gPSB7fTtcbiAgICAgICAgdGhpcy5jYWNoZVNpemVfID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAgICovXG4gICAgSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVNpemVfID4gdGhpcy5tYXhDYWNoZVNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAgICovXG4gICAgSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmV4cGlyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuY2FjaGVfKSB7XG4gICAgICAgICAgICAgICAgdmFyIGljb25JbWFnZSA9IHRoaXMuY2FjaGVfW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKChpKysgJiAzKSA9PT0gMCAmJiAhaWNvbkltYWdlLmhhc0xpc3RlbmVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVfW2tleV07XG4gICAgICAgICAgICAgICAgICAgIC0tdGhpcy5jYWNoZVNpemVfO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdH0gSWNvbiBpbWFnZS5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKSB7XG4gICAgICAgIHZhciBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgICAgICByZXR1cm4ga2V5IGluIHRoaXMuY2FjaGVfID8gdGhpcy5jYWNoZV9ba2V5XSA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHR9IGljb25JbWFnZSBJY29uIGltYWdlLlxuICAgICAqL1xuICAgIEljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IsIGljb25JbWFnZSkge1xuICAgICAgICB2YXIga2V5ID0gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgICAgICAgdGhpcy5jYWNoZV9ba2V5XSA9IGljb25JbWFnZTtcbiAgICAgICAgKyt0aGlzLmNhY2hlU2l6ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNhY2hlIHNpemUgb2YgdGhlIGljb24gY2FjaGUuIERlZmF1bHQgaXMgYDMyYC4gQ2hhbmdlIHRoaXMgdmFsdWUgd2hlblxuICAgICAqIHlvdXIgbWFwIHVzZXMgbW9yZSB0aGFuIDMyIGRpZmZlcmVudCBpY29uIGltYWdlcyBhbmQgeW91IGFyZSBub3QgY2FjaGluZyBpY29uXG4gICAgICogc3R5bGVzIG9uIHRoZSBhcHBsaWNhdGlvbiBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4Q2FjaGVTaXplIENhY2hlIG1heCBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIChtYXhDYWNoZVNpemUpIHtcbiAgICAgICAgdGhpcy5tYXhDYWNoZVNpemVfID0gbWF4Q2FjaGVTaXplO1xuICAgICAgICB0aGlzLmV4cGlyZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIEljb25JbWFnZUNhY2hlO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBDYWNoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIGdldEtleShzcmMsIGNyb3NzT3JpZ2luLCBjb2xvcikge1xuICAgIHZhciBjb2xvclN0cmluZyA9IGNvbG9yID8gYXNTdHJpbmcoY29sb3IpIDogJ251bGwnO1xuICAgIHJldHVybiBjcm9zc09yaWdpbiArICc6JyArIHNyYyArICc6JyArIGNvbG9yU3RyaW5nO1xufVxuZXhwb3J0IGRlZmF1bHQgSWNvbkltYWdlQ2FjaGU7XG4vKipcbiAqIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfkljb25JbWFnZUNhY2hlfSBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSBpbWFnZXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2hhcmVkID0gbmV3IEljb25JbWFnZUNhY2hlKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uSW1hZ2VDYWNoZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvUHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgT1BBQ0lUWTogJ29wYWNpdHknLFxuICAgIFZJU0lCTEU6ICd2aXNpYmxlJyxcbiAgICBFWFRFTlQ6ICdleHRlbnQnLFxuICAgIFpfSU5ERVg6ICd6SW5kZXgnLFxuICAgIE1BWF9SRVNPTFVUSU9OOiAnbWF4UmVzb2x1dGlvbicsXG4gICAgTUlOX1JFU09MVVRJT046ICdtaW5SZXNvbHV0aW9uJyxcbiAgICBNQVhfWk9PTTogJ21heFpvb20nLFxuICAgIE1JTl9aT09NOiAnbWluWm9vbScsXG4gICAgU09VUkNFOiAnc291cmNlJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm9wZXJ0eS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0Jhc2VcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBMYXllclByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogTm90ZSB0aGF0IHdpdGgge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlfSBhbmQgYWxsIGl0cyBzdWJjbGFzc2VzLCBhbnkgcHJvcGVydHkgc2V0IGluXG4gKiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH0gcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdCwgc29cbiAqIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQGFwaVxuICovXG52YXIgQmFzZUxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIExheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZUxheWVyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk9QQUNJVFldID1cbiAgICAgICAgICAgIG9wdGlvbnMub3BhY2l0eSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFjaXR5IDogMTtcbiAgICAgICAgYXNzZXJ0KHR5cGVvZiBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuT1BBQ0lUWV0gPT09ICdudW1iZXInLCA2NCk7IC8vIExheWVyIG9wYWNpdHkgbXVzdCBiZSBhIG51bWJlclxuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuVklTSUJMRV0gPVxuICAgICAgICAgICAgb3B0aW9ucy52aXNpYmxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnZpc2libGUgOiB0cnVlO1xuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuWl9JTkRFWF0gPSBvcHRpb25zLnpJbmRleDtcbiAgICAgICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OXSA9XG4gICAgICAgICAgICBvcHRpb25zLm1heFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4UmVzb2x1dGlvbiA6IEluZmluaXR5O1xuICAgICAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT05dID1cbiAgICAgICAgICAgIG9wdGlvbnMubWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5SZXNvbHV0aW9uIDogMDtcbiAgICAgICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1JTl9aT09NXSA9XG4gICAgICAgICAgICBvcHRpb25zLm1pblpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluWm9vbSA6IC1JbmZpbml0eTtcbiAgICAgICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1BWF9aT09NXSA9XG4gICAgICAgICAgICBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IEluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsYXNzTmFtZV8gPVxuICAgICAgICAgICAgcHJvcGVydGllcy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLWxheWVyJztcbiAgICAgICAgZGVsZXRlIHByb3BlcnRpZXMuY2xhc3NOYW1lO1xuICAgICAgICBfdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZV8gPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQ1NTIGNsYXNzIG5hbWUuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsYXNzTmFtZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgbWVhbnQgdG8gYmUgY2FsbGVkIGJ5IGxheWVycyBvciBsYXllciByZW5kZXJlcnMgYmVjYXVzZSB0aGUgc3RhdGVcbiAgICAgKiBpcyBpbmNvcnJlY3QgaWYgdGhlIGxheWVyIGlzIGluY2x1ZGVkIGluIGEgbGF5ZXIgZ3JvdXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfbWFuYWdlZCBMYXllciBpcyBtYW5hZ2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9IExheWVyIHN0YXRlLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZSA9IGZ1bmN0aW9uIChvcHRfbWFuYWdlZCkge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9ICovXG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVfIHx8XG4gICAgICAgICAgICAvKiogQHR5cGUgez99ICovICh7XG4gICAgICAgICAgICAgICAgbGF5ZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgbWFuYWdlZDogb3B0X21hbmFnZWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRfbWFuYWdlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB2YXIgekluZGV4ID0gdGhpcy5nZXRaSW5kZXgoKTtcbiAgICAgICAgc3RhdGUub3BhY2l0eSA9IGNsYW1wKE1hdGgucm91bmQodGhpcy5nZXRPcGFjaXR5KCkgKiAxMDApIC8gMTAwLCAwLCAxKTtcbiAgICAgICAgc3RhdGUuc291cmNlU3RhdGUgPSB0aGlzLmdldFNvdXJjZVN0YXRlKCk7XG4gICAgICAgIHN0YXRlLnZpc2libGUgPSB0aGlzLmdldFZpc2libGUoKTtcbiAgICAgICAgc3RhdGUuZXh0ZW50ID0gdGhpcy5nZXRFeHRlbnQoKTtcbiAgICAgICAgc3RhdGUuekluZGV4ID1cbiAgICAgICAgICAgIHpJbmRleCAhPT0gdW5kZWZpbmVkID8gekluZGV4IDogc3RhdGUubWFuYWdlZCA9PT0gZmFsc2UgPyBJbmZpbml0eSA6IDA7XG4gICAgICAgIHN0YXRlLm1heFJlc29sdXRpb24gPSB0aGlzLmdldE1heFJlc29sdXRpb24oKTtcbiAgICAgICAgc3RhdGUubWluUmVzb2x1dGlvbiA9IE1hdGgubWF4KHRoaXMuZ2V0TWluUmVzb2x1dGlvbigpLCAwKTtcbiAgICAgICAgc3RhdGUubWluWm9vbSA9IHRoaXMuZ2V0TWluWm9vbSgpO1xuICAgICAgICBzdGF0ZS5tYXhab29tID0gdGhpcy5nZXRNYXhab29tKCk7XG4gICAgICAgIHRoaXMuc3RhdGVfID0gc3RhdGU7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pj19IG9wdF9hcnJheSBBcnJheSBvZiBsYXllcnMgKHRvIGJlXG4gICAgICogICAgIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIChvcHRfYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+PX0gb3B0X3N0YXRlcyBPcHRpb25hbCBsaXN0IG9mIGxheWVyXG4gICAgICogICAgIHN0YXRlcyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBMaXN0IG9mIGxheWVyIHN0YXRlcy5cbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldExheWVyU3RhdGVzQXJyYXkgPSBmdW5jdGlvbiAob3B0X3N0YXRlcykge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50IGV4dGVudH0gb2YgdGhlIGxheWVyIG9yIGB1bmRlZmluZWRgIGlmIGl0XG4gICAgICogd2lsbCBiZSB2aXNpYmxlIHJlZ2FyZGxlc3Mgb2YgZXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR8dW5kZWZpbmVkfSBUaGUgbGF5ZXIgZXh0ZW50LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuRVhURU5UKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldE1heFJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT04pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNaW5ab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1JTl9aT09NKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSB6b29tIGxldmVsIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldE1heFpvb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUFYX1pPT00pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIgKGJldHdlZW4gMCBhbmQgMSkuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRPcGFjaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk9QQUNJVFkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBTb3VyY2Ugc3RhdGUuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRTb3VyY2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyIChgdHJ1ZWAgb3IgYGZhbHNlYCkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0VmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuVklTSUJMRSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBaLWluZGV4IG9mIHRoZSBsYXllciwgd2hpY2ggaXMgdXNlZCB0byBvcmRlciBsYXllcnMgYmVmb3JlXG4gICAgICogcmVuZGVyaW5nLiBUaGUgZGVmYXVsdCBaLWluZGV4IGlzIDAuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgWi1pbmRleCBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRaSW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuWl9JTkRFWCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBleHRlbnQgYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuICBJZiBgdW5kZWZpbmVkYCwgdGhlIGxheWVyXG4gICAgICogd2lsbCBiZSB2aXNpYmxlIGF0IGFsbCBleHRlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9IGV4dGVudCBUaGUgZXh0ZW50IG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldEV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5FWFRFTlQsIGV4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1heGltdW0gcmVzb2x1dGlvbiBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldE1heFJlc29sdXRpb24gPSBmdW5jdGlvbiAobWF4UmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OLCBtYXhSZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5SZXNvbHV0aW9uIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0TWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChtaW5SZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT04sIG1pblJlc29sdXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXhpbXVtIHpvb20gKGV4Y2x1c2l2ZSkgYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAgICogTm90ZSB0aGF0IHRoZSB6b29tIGxldmVscyBmb3IgbGF5ZXIgdmlzaWJpbGl0eSBhcmUgYmFzZWQgb24gdGhlXG4gICAgICogdmlldyB6b29tIGxldmVsLCB3aGljaCBtYXkgYmUgZGlmZmVyZW50IGZyb20gYSB0aWxlIHNvdXJjZSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhab29tIFRoZSBtYXhpbXVtIHpvb20gb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0TWF4Wm9vbSA9IGZ1bmN0aW9uIChtYXhab29tKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFYX1pPT00sIG1heFpvb20pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtaW5pbXVtIHpvb20gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAgICogTm90ZSB0aGF0IHRoZSB6b29tIGxldmVscyBmb3IgbGF5ZXIgdmlzaWJpbGl0eSBhcmUgYmFzZWQgb24gdGhlXG4gICAgICogdmlldyB6b29tIGxldmVsLCB3aGljaCBtYXkgYmUgZGlmZmVyZW50IGZyb20gYSB0aWxlIHNvdXJjZSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ab29tIFRoZSBtaW5pbXVtIHpvb20gb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0TWluWm9vbSA9IGZ1bmN0aW9uIChtaW5ab29tKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUlOX1pPT00sIG1pblpvb20pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBvcGFjaXR5IG9mIHRoZSBsYXllciwgYWxsb3dlZCB2YWx1ZXMgcmFuZ2UgZnJvbSAwIHRvIDEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgVGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uIChvcGFjaXR5KSB7XG4gICAgICAgIGFzc2VydCh0eXBlb2Ygb3BhY2l0eSA9PT0gJ251bWJlcicsIDY0KTsgLy8gTGF5ZXIgb3BhY2l0eSBtdXN0IGJlIGEgbnVtYmVyXG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuT1BBQ0lUWSwgb3BhY2l0eSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyIChgdHJ1ZWAgb3IgYGZhbHNlYCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldFZpc2libGUgPSBmdW5jdGlvbiAodmlzaWJsZSkge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5LlZJU0lCTEUsIHZpc2libGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IFotaW5kZXggb2YgdGhlIGxheWVyLCB3aGljaCBpcyB1c2VkIHRvIG9yZGVyIGxheWVycyBiZWZvcmUgcmVuZGVyaW5nLlxuICAgICAqIFRoZSBkZWZhdWx0IFotaW5kZXggaXMgMC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gemluZGV4IFRoZSB6LWluZGV4IG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldFpJbmRleCA9IGZ1bmN0aW9uICh6aW5kZXgpIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5aX0lOREVYLCB6aW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlXykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZV8ubGF5ZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZUxheWVyO1xufShCYXNlT2JqZWN0KSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBiZWZvcmUgYSBsYXllciBpcyByZW5kZXJlZC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwcmVyZW5kZXJcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUFJFUkVOREVSOiAncHJlcmVuZGVyJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgYSBsYXllciBpcyByZW5kZXJlZC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwb3N0cmVuZGVyXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBPU1RSRU5ERVI6ICdwb3N0cmVuZGVyJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYmVmb3JlIGxheWVycyBhcmUgcmVuZGVyZWQuXG4gICAgICogVGhlIGV2ZW50IG9iamVjdCB3aWxsIG5vdCBoYXZlIGEgYGNvbnRleHRgIHNldC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwcmVjb21wb3NlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBSRUNPTVBPU0U6ICdwcmVjb21wb3NlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgYWxsIGxheWVycyBhcmUgcmVuZGVyZWQuXG4gICAgICogVGhlIGV2ZW50IG9iamVjdCB3aWxsIG5vdCBoYXZlIGEgYGNvbnRleHRgIHNldC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwb3N0Y29tcG9zZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQT1NUQ09NUE9TRTogJ3Bvc3Rjb21wb3NlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUsIGkuZS4gYWxsIHNvdXJjZXMgYW5kIHRpbGVzIGhhdmVcbiAgICAgKiBmaW5pc2hlZCBsb2FkaW5nIGZvciB0aGUgY3VycmVudCB2aWV3cG9ydCwgYW5kIGFsbCB0aWxlcyBhcmUgZmFkZWQgaW4uXG4gICAgICogVGhlIGV2ZW50IG9iamVjdCB3aWxsIG5vdCBoYXZlIGEgYGNvbnRleHRgIHNldC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNyZW5kZXJjb21wbGV0ZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSRU5ERVJDT01QTEVURTogJ3JlbmRlcmNvbXBsZXRlJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9TdGF0ZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBTdGF0ZSBvZiB0aGUgc291cmNlLCBvbmUgb2YgJ3VuZGVmaW5lZCcsICdsb2FkaW5nJywgJ3JlYWR5JyBvciAnZXJyb3InLlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgVU5ERUZJTkVEOiAndW5kZWZpbmVkJyxcbiAgICBMT0FESU5HOiAnbG9hZGluZycsXG4gICAgUkVBRFk6ICdyZWFkeScsXG4gICAgRVJST1I6ICdlcnJvcicsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9MYXllclxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IExheWVyUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBnZXRDaGFuZ2VFdmVudFR5cGUgfSBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlKTpIVE1MRWxlbWVudH0gUmVuZGVyRnVuY3Rpb25cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLmRlZmF1bHR9IFtzb3VyY2VdIFNvdXJjZSBmb3IgdGhpcyBsYXllci4gIElmIG5vdCBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IsXG4gKiB0aGUgc291cmNlIGNhbiBiZSBzZXQgYnkgY2FsbGluZyB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyI3NldFNvdXJjZSBsYXllci5zZXRTb3VyY2Uoc291cmNlKX0gYWZ0ZXJcbiAqIGNvbnN0cnVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIE1hcC5cbiAqIEBwcm9wZXJ0eSB7UmVuZGVyRnVuY3Rpb259IFtyZW5kZXJdIFJlbmRlciBmdW5jdGlvbi4gVGFrZXMgdGhlIGZyYW1lIHN0YXRlIGFzIGlucHV0IGFuZCBpcyBleHBlY3RlZCB0byByZXR1cm4gYW5cbiAqIEhUTUwgZWxlbWVudC4gV2lsbCBvdmVyd3JpdGUgdGhlIGRlZmF1bHQgcmVuZGVyaW5nIGZvciB0aGUgbGF5ZXIuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllclxuICogQHByb3BlcnR5IHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eSwgdGhlIHZhbHVlIGlzIHJvdW5kZWQgdG8gdHdvIGRpZ2l0cyB0byBhcHBlYXIgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2VTdGF0ZVxuICogQHByb3BlcnR5IHtib29sZWFufSB2aXNpYmxlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG1hbmFnZWRcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6SW5kZXhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluUmVzb2x1dGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblpvb21cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhab29tXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmcm9tIHdoaWNoIGFsbCBsYXllciB0eXBlcyBhcmUgZGVyaXZlZC4gVGhpcyBzaG91bGQgb25seSBiZSBpbnN0YW50aWF0ZWRcbiAqIGluIHRoZSBjYXNlIHdoZXJlIGEgY3VzdG9tIGxheWVyIGlzIGJlIGFkZGVkIHRvIHRoZSBtYXAgd2l0aCBhIGN1c3RvbSBgcmVuZGVyYCBmdW5jdGlvbi5cbiAqIFN1Y2ggYSBmdW5jdGlvbiBjYW4gYmUgc3BlY2lmaWVkIGluIHRoZSBgb3B0aW9uc2Agb2JqZWN0LCBhbmQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGFuIEhUTUwgZWxlbWVudC5cbiAqXG4gKiBBIHZpc3VhbCByZXByZXNlbnRhdGlvbiBvZiByYXN0ZXIgb3IgdmVjdG9yIG1hcCBkYXRhLlxuICogTGF5ZXJzIGdyb3VwIHRvZ2V0aGVyIHRob3NlIHByb3BlcnRpZXMgdGhhdCBwZXJ0YWluIHRvIGhvdyB0aGUgZGF0YSBpcyB0byBiZVxuICogZGlzcGxheWVkLCBpcnJlc3BlY3RpdmUgb2YgdGhlIHNvdXJjZSBvZiB0aGF0IGRhdGEuXG4gKlxuICogTGF5ZXJzIGFyZSB1c3VhbGx5IGFkZGVkIHRvIGEgbWFwIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9NYXAjYWRkTGF5ZXJ9LiBDb21wb25lbnRzXG4gKiBsaWtlIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vU2VsZWN0flNlbGVjdH0gdXNlIHVubWFuYWdlZCBsYXllcnNcbiAqIGludGVybmFsbHkuIFRoZXNlIHVubWFuYWdlZCBsYXllcnMgYXJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwIHVzaW5nXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyI3NldE1hcH0gaW5zdGVhZC5cbiAqXG4gKiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBjaGFuZ2VzLlxuICpcbiAqIFBsZWFzZSBub3RlIHRoYXQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgc2V2ZXJhbCBsYXllcnMgbWlnaHQgZ2V0IHJlbmRlcmVkIHRvXG4gKiB0aGUgc2FtZSBIVE1MIGVsZW1lbnQsIHdoaWNoIHdpbGwgY2F1c2Uge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwI2ZvckVhY2hMYXllckF0UGl4ZWx9IHRvXG4gKiBnaXZlIGZhbHNlIHBvc2l0aXZlcy4gVG8gYXZvaWQgdGhpcywgYXBwbHkgZGlmZmVyZW50IGBjbGFzc05hbWVgIHByb3BlcnRpZXMgdG8gdGhlXG4gKiBsYXllcnMgYXQgY3JlYXRpb24gdGltZS5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50LmpzXCIpLlJlbmRlckV2ZW50I3ByZXJlbmRlclxuICogQGZpcmVzIGltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5SZW5kZXJFdmVudCNwb3N0cmVuZGVyXG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLmRlZmF1bHR9IFNvdXJjZVR5cGVcbiAqIEBhcGlcbiAqL1xudmFyIExheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgTGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXllcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBiYXNlT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5zb3VyY2U7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZU9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBSZW5kZXJLZXlfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZUNoYW5nZUtleV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuICAgICAgICAvLyBPdmVyd3JpdGUgZGVmYXVsdCByZW5kZXIgbWV0aG9kIHdpdGggYSBjdXN0b20gb25lXG4gICAgICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWFwKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRNYXAob3B0aW9ucy5tYXApO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKExheWVyUHJvcGVydHkuU09VUkNFKSwgX3RoaXMuaGFuZGxlU291cmNlUHJvcGVydHlDaGFuZ2VfKTtcbiAgICAgICAgdmFyIHNvdXJjZSA9IG9wdGlvbnMuc291cmNlXG4gICAgICAgICAgICA/IC8qKiBAdHlwZSB7U291cmNlVHlwZX0gKi8gKG9wdGlvbnMuc291cmNlKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBfdGhpcy5zZXRTb3VyY2Uoc291cmNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD49fSBvcHRfYXJyYXkgQXJyYXkgb2YgbGF5ZXJzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gQXJyYXkgb2YgbGF5ZXJzLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIChvcHRfYXJyYXkpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gb3B0X2FycmF5ID8gb3B0X2FycmF5IDogW107XG4gICAgICAgIGFycmF5LnB1c2godGhpcyk7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT49fSBvcHRfc3RhdGVzIE9wdGlvbmFsIGxpc3Qgb2YgbGF5ZXIgc3RhdGVzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IExpc3Qgb2YgbGF5ZXIgc3RhdGVzLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRMYXllclN0YXRlc0FycmF5ID0gZnVuY3Rpb24gKG9wdF9zdGF0ZXMpIHtcbiAgICAgICAgdmFyIHN0YXRlcyA9IG9wdF9zdGF0ZXMgPyBvcHRfc3RhdGVzIDogW107XG4gICAgICAgIHN0YXRlcy5wdXNoKHRoaXMuZ2V0TGF5ZXJTdGF0ZSgpKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGF5ZXIgc291cmNlLlxuICAgICAqIEByZXR1cm4ge1NvdXJjZVR5cGV9IFRoZSBsYXllciBzb3VyY2UgKG9yIGBudWxsYCBpZiBub3QgeWV0IHNldCkuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmdldFNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7U291cmNlVHlwZX0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuU09VUkNFKSkgfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBTb3VyY2Ugc3RhdGUuXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmdldFNvdXJjZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICAgICAgcmV0dXJuICFzb3VyY2UgPyBTb3VyY2VTdGF0ZS5VTkRFRklORUQgOiBzb3VyY2UuZ2V0U3RhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmhhbmRsZVNvdXJjZUNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuaGFuZGxlU291cmNlUHJvcGVydHlDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2VDaGFuZ2VLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMuc291cmNlQ2hhbmdlS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNoYW5nZUtleV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNoYW5nZUtleV8gPSBsaXN0ZW4oc291cmNlLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZVNvdXJjZUNoYW5nZV8sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbFwiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLmRlZmF1bHQ+Pn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGhcbiAgICAgKiBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAocGl4ZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfLmdldEZlYXR1cmVzKHBpeGVsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluIGNoYXJnZSB0byBtYW5hZ2UgdGhlIHJlbmRlcmluZyBvZiB0aGUgbGF5ZXIuIE9uZSBsYXllciB0eXBlIGlzXG4gICAgICogYm91bmRlZCB3aXRoIG9uZSBsYXllciByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgVGFyZ2V0IHdoaWNoIHRoZSByZW5kZXJlciBtYXkgKGJ1dCBuZWVkIG5vdCkgdXNlXG4gICAgICogZm9yIHJlbmRlcmluZyBpdHMgY29udGVudC5cbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGxheWVyUmVuZGVyZXIgPSB0aGlzLmdldFJlbmRlcmVyKCk7XG4gICAgICAgIGlmIChsYXllclJlbmRlcmVyLnByZXBhcmVGcmFtZShmcmFtZVN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGxheWVyUmVuZGVyZXIucmVuZGVyRnJhbWUoZnJhbWVTdGF0ZSwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGF5ZXIgdG8gYmUgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGxheWVycyBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsXG4gICAgICogbm90IG1hbmFnZSB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBjYWxsYmFjayBpblxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvTWFwI2ZvckVhY2hMYXllckF0UGl4ZWx9IHdpbGwgcmVjZWl2ZSBgbnVsbGAgYXMgbGF5ZXIuIFRoaXNcbiAgICAgKiBpcyB1c2VmdWwgZm9yIHRlbXBvcmFyeSBsYXllcnMuIFRvIHJlbW92ZSBhbiB1bm1hbmFnZWQgbGF5ZXIgZnJvbSB0aGUgbWFwLFxuICAgICAqIHVzZSBgI3NldE1hcChudWxsKWAuXG4gICAgICpcbiAgICAgKiBUbyBhZGQgdGhlIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCwgdXNlXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9NYXAjYWRkTGF5ZXJ9IGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgaWYgKHRoaXMubWFwUHJlY29tcG9zZUtleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBQcmVjb21wb3NlS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hcCkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWFwUmVuZGVyS2V5Xykge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLm1hcFJlbmRlcktleV8pO1xuICAgICAgICAgICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbGlzdGVuKG1hcCwgUmVuZGVyRXZlbnRUeXBlLlBSRUNPTVBPU0UsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyRXZlbnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0fSAqLyAoZXZ0KTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IHJlbmRlckV2ZW50LmZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gQSBsYXllciBjYW4gb25seSBiZSBhZGRlZCB0byB0aGUgbWFwIG9uY2UuIFVzZSBlaXRoZXIgYGxheWVyLnNldE1hcCgpYCBvciBgbWFwLmFkZExheWVyKClgLCBub3QgYm90aC5cbiAgICAgICAgICAgICAgICBhc3NlcnQoIWxheWVyU3RhdGVzQXJyYXkuc29tZShmdW5jdGlvbiAoYXJyYXlMYXllclN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheUxheWVyU3RhdGUubGF5ZXIgPT09IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICAgICAgfSksIDY3KTtcbiAgICAgICAgICAgICAgICBsYXllclN0YXRlc0FycmF5LnB1c2gobGF5ZXJTdGF0ZSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubWFwUmVuZGVyS2V5XyA9IGxpc3Rlbih0aGlzLCBFdmVudFR5cGUuQ0hBTkdFLCBtYXAucmVuZGVyLCBtYXApO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGF5ZXIgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U291cmNlVHlwZX0gc291cmNlIFRoZSBsYXllciBzb3VyY2UuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLnNldFNvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5TT1VSQ0UsIHNvdXJjZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlbmRlcmVyIGZvciB0aGlzIGxheWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IFRoZSBsYXllciByZW5kZXJlci5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXJfID0gdGhpcy5jcmVhdGVSZW5kZXJlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBsYXllciBoYXMgYSByZW5kZXJlci5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuaGFzUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMucmVuZGVyZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgcmVuZGVyZXIgZm9yIHRoaXMgbGF5ZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vcmVuZGVyZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gQSBsYXllciByZW5kZXJlci5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0U291cmNlKG51bGwpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIExheWVyO1xufShCYXNlTGF5ZXIpKTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgbGF5ZXIgaXMgdmlzaWJsZSBhbmQgaWYgdGhlIHByb3ZpZGVkIHZpZXcgc3RhdGVcbiAqIGhhcyByZXNvbHV0aW9uIGFuZCB6b29tIGxldmVscyB0aGF0IGFyZSBpbiByYW5nZSBvZiB0aGUgbGF5ZXIncyBtaW4vbWF4LlxuICogQHBhcmFtIHtTdGF0ZX0gbGF5ZXJTdGF0ZSBMYXllciBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5TdGF0ZX0gdmlld1N0YXRlIFZpZXcgc3RhdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgbGF5ZXIgaXMgdmlzaWJsZSBhdCB0aGUgZ2l2ZW4gdmlldyBzdGF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluVmlldyhsYXllclN0YXRlLCB2aWV3U3RhdGUpIHtcbiAgICBpZiAoIWxheWVyU3RhdGUudmlzaWJsZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciByZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgaWYgKHJlc29sdXRpb24gPCBsYXllclN0YXRlLm1pblJlc29sdXRpb24gfHxcbiAgICAgICAgcmVzb2x1dGlvbiA+PSBsYXllclN0YXRlLm1heFJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgem9vbSA9IHZpZXdTdGF0ZS56b29tO1xuICAgIHJldHVybiB6b29tID4gbGF5ZXJTdGF0ZS5taW5ab29tICYmIHpvb20gPD0gbGF5ZXJTdGF0ZS5tYXhab29tO1xufVxuZXhwb3J0IGRlZmF1bHQgTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MYXllci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvY29vcmRpbmF0ZVxuICovXG5pbXBvcnQgeyBnZXRXaWR0aCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IG1vZHVsbyB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBwYWROdW1iZXIgfSBmcm9tICcuL3N0cmluZy5qcyc7XG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGFuIHh5IGNvb3JkaW5hdGUuIEV4YW1wbGU6IGBbMTYsIDQ4XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gQ29vcmRpbmF0ZVxuICogQGFwaVxuICovXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSBhbmRcbiAqIHRyYW5zZm9ybXMgaXQgaW50byBhIGB7c3RyaW5nfWAuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChDb29yZGluYXRlfHVuZGVmaW5lZCkpOiBzdHJpbmd9IENvb3JkaW5hdGVGb3JtYXRcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBBZGQgYGRlbHRhYCB0byBgY29vcmRpbmF0ZWAuIGBjb29yZGluYXRlYCBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmQgcmV0dXJuZWRcbiAqIGJ5IHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBpbXBvcnQge2FkZH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGFkZChjb29yZCwgWy0yLCA0XSk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFs1Ljg1LCA1MS45ODMzMzNdXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGRlbHRhIERlbHRhLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gVGhlIGlucHV0IGNvb3JkaW5hdGUgYWRqdXN0ZWQgYnlcbiAqIHRoZSBnaXZlbiBkZWx0YS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChjb29yZGluYXRlLCBkZWx0YSkge1xuICAgIGNvb3JkaW5hdGVbMF0gKz0gK2RlbHRhWzBdO1xuICAgIGNvb3JkaW5hdGVbMV0gKz0gK2RlbHRhWzFdO1xuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb2ludCBjbG9zZXN0IHRvIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBvbiB0aGUgcGFzc2VkIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlIFRoZSBjaXJjbGUuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDbG9zZXN0IHBvaW50IG9uIHRoZSBjaXJjdW1mZXJlbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdE9uQ2lyY2xlKGNvb3JkaW5hdGUsIGNpcmNsZSkge1xuICAgIHZhciByID0gY2lyY2xlLmdldFJhZGl1cygpO1xuICAgIHZhciBjZW50ZXIgPSBjaXJjbGUuZ2V0Q2VudGVyKCk7XG4gICAgdmFyIHgwID0gY2VudGVyWzBdO1xuICAgIHZhciB5MCA9IGNlbnRlclsxXTtcbiAgICB2YXIgeDEgPSBjb29yZGluYXRlWzBdO1xuICAgIHZhciB5MSA9IGNvb3JkaW5hdGVbMV07XG4gICAgdmFyIGR4ID0geDEgLSB4MDtcbiAgICB2YXIgZHkgPSB5MSAtIHkwO1xuICAgIGlmIChkeCA9PT0gMCAmJiBkeSA9PT0gMCkge1xuICAgICAgICBkeCA9IDE7XG4gICAgfVxuICAgIHZhciBkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB2YXIgeCA9IHgwICsgKHIgKiBkeCkgLyBkO1xuICAgIHZhciB5ID0geTAgKyAociAqIGR5KSAvIGQ7XG4gICAgcmV0dXJuIFt4LCB5XTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9pbnQgY2xvc2VzdCB0byB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgb24gdGhlIHBhc3NlZCBzZWdtZW50LlxuICogVGhpcyBpcyB0aGUgZm9vdCBvZiB0aGUgcGVycGVuZGljdWxhciBvZiB0aGUgY29vcmRpbmF0ZSB0byB0aGUgc2VnbWVudCB3aGVuXG4gKiB0aGUgZm9vdCBpcyBvbiB0aGUgc2VnbWVudCwgb3IgdGhlIGNsb3Nlc3Qgc2VnbWVudCBjb29yZGluYXRlIHdoZW4gdGhlIGZvb3RcbiAqIGlzIG91dHNpZGUgdGhlIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtBcnJheTxDb29yZGluYXRlPn0gc2VnbWVudCBUaGUgdHdvIGNvb3JkaW5hdGVzXG4gKiBvZiB0aGUgc2VnbWVudC5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBmb290IG9mIHRoZSBwZXJwZW5kaWN1bGFyIG9mXG4gKiB0aGUgY29vcmRpbmF0ZSB0byB0aGUgc2VnbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RPblNlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkge1xuICAgIHZhciB4MCA9IGNvb3JkaW5hdGVbMF07XG4gICAgdmFyIHkwID0gY29vcmRpbmF0ZVsxXTtcbiAgICB2YXIgc3RhcnQgPSBzZWdtZW50WzBdO1xuICAgIHZhciBlbmQgPSBzZWdtZW50WzFdO1xuICAgIHZhciB4MSA9IHN0YXJ0WzBdO1xuICAgIHZhciB5MSA9IHN0YXJ0WzFdO1xuICAgIHZhciB4MiA9IGVuZFswXTtcbiAgICB2YXIgeTIgPSBlbmRbMV07XG4gICAgdmFyIGR4ID0geDIgLSB4MTtcbiAgICB2YXIgZHkgPSB5MiAtIHkxO1xuICAgIHZhciBhbG9uZyA9IGR4ID09PSAwICYmIGR5ID09PSAwXG4gICAgICAgID8gMFxuICAgICAgICA6IChkeCAqICh4MCAtIHgxKSArIGR5ICogKHkwIC0geTEpKSAvIChkeCAqIGR4ICsgZHkgKiBkeSB8fCAwKTtcbiAgICB2YXIgeCwgeTtcbiAgICBpZiAoYWxvbmcgPD0gMCkge1xuICAgICAgICB4ID0geDE7XG4gICAgICAgIHkgPSB5MTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYWxvbmcgPj0gMSkge1xuICAgICAgICB4ID0geDI7XG4gICAgICAgIHkgPSB5MjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHggPSB4MSArIGFsb25nICogZHg7XG4gICAgICAgIHkgPSB5MSArIGFsb25nICogZHk7XG4gICAgfVxuICAgIHJldHVybiBbeCwgeV07XG59XG4vKipcbiAqIFJldHVybnMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZUZvcm1hdH0gZnVuY3Rpb24gdGhhdCBjYW4gYmVcbiAqIHVzZWQgdG8gZm9ybWF0XG4gKiBhIHtDb29yZGluYXRlfSB0byBhIHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyB0aGUgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Y3JlYXRlU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc3RyaW5naWZ5RnVuYyA9IGNyZWF0ZVN0cmluZ1hZKCk7XG4gKiAgICAgdmFyIG91dCA9IHN0cmluZ2lmeUZ1bmMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzgsIDQ4J1xuICpcbiAqIEV4YW1wbGUgd2l0aCBleHBsaWNpdGx5IHNwZWNpZnlpbmcgMiBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtjcmVhdGVTdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBzdHJpbmdpZnlGdW5jID0gY3JlYXRlU3RyaW5nWFkoMik7XG4gKiAgICAgdmFyIG91dCA9IHN0cmluZ2lmeUZ1bmMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzcuODUsIDQ3Ljk4J1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2ZyYWN0aW9uRGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGVGb3JtYXR9IENvb3JkaW5hdGUgZm9ybWF0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RyaW5nWFkob3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZyBYWS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmdYWShjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gaGVtaXNwaGVyZXMgSGVtaXNwaGVyZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVncmVlcyBEZWdyZWVzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZnJhY3Rpb25EaWdpdHMgVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWdyZWVzVG9TdHJpbmdIRE1TKGhlbWlzcGhlcmVzLCBkZWdyZWVzLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICB2YXIgbm9ybWFsaXplZERlZ3JlZXMgPSBtb2R1bG8oZGVncmVlcyArIDE4MCwgMzYwKSAtIDE4MDtcbiAgICB2YXIgeCA9IE1hdGguYWJzKDM2MDAgKiBub3JtYWxpemVkRGVncmVlcyk7XG4gICAgdmFyIGRmbFByZWNpc2lvbiA9IG9wdF9mcmFjdGlvbkRpZ2l0cyB8fCAwO1xuICAgIHZhciBwcmVjaXNpb24gPSBNYXRoLnBvdygxMCwgZGZsUHJlY2lzaW9uKTtcbiAgICB2YXIgZGVnID0gTWF0aC5mbG9vcih4IC8gMzYwMCk7XG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3IoKHggLSBkZWcgKiAzNjAwKSAvIDYwKTtcbiAgICB2YXIgc2VjID0geCAtIGRlZyAqIDM2MDAgLSBtaW4gKiA2MDtcbiAgICBzZWMgPSBNYXRoLmNlaWwoc2VjICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbjtcbiAgICBpZiAoc2VjID49IDYwKSB7XG4gICAgICAgIHNlYyA9IDA7XG4gICAgICAgIG1pbiArPSAxO1xuICAgIH1cbiAgICBpZiAobWluID49IDYwKSB7XG4gICAgICAgIG1pbiA9IDA7XG4gICAgICAgIGRlZyArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gKGRlZyArXG4gICAgICAgICdcXHUwMGIwICcgK1xuICAgICAgICBwYWROdW1iZXIobWluLCAyKSArXG4gICAgICAgICdcXHUyMDMyICcgK1xuICAgICAgICBwYWROdW1iZXIoc2VjLCAyLCBkZmxQcmVjaXNpb24pICtcbiAgICAgICAgJ1xcdTIwMzMnICtcbiAgICAgICAgKG5vcm1hbGl6ZWREZWdyZWVzID09IDBcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogJyAnICsgaGVtaXNwaGVyZXMuY2hhckF0KG5vcm1hbGl6ZWREZWdyZWVzIDwgMCA/IDEgOiAwKSkpO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnaXZlbiB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmdcbiAqIHVzaW5nIHRoZSBnaXZlbiBzdHJpbmcgdGVtcGxhdGUuIFRoZSBzdHJpbmdzIGB7eH1gIGFuZCBge3l9YCBpbiB0aGUgdGVtcGxhdGVcbiAqIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgZmlyc3QgYW5kIHNlY29uZCBjb29yZGluYXRlIHZhbHVlcyByZXNwZWN0aXZlbHkuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg4fDQ4KS4nXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIHZhciBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlLCAyKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg3Ljg1fDQ3Ljk4KS4nXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgQSB0ZW1wbGF0ZSBzdHJpbmcgd2l0aCBge3h9YCBhbmQgYHt5fWAgcGxhY2Vob2xkZXJzXG4gKiAgICAgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IGZpcnN0IGFuZCBzZWNvbmQgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEZvcm1hdHRlZCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGNvb3JkaW5hdGUsIHRlbXBsYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICBpZiAoY29vcmRpbmF0ZSkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7eH0nLCBjb29yZGluYXRlWzBdLnRvRml4ZWQob3B0X2ZyYWN0aW9uRGlnaXRzKSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7eX0nLCBjb29yZGluYXRlWzFdLnRvRml4ZWQob3B0X2ZyYWN0aW9uRGlnaXRzKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUxIEZpcnN0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBjb29yZGluYXRlcyBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoY29vcmRpbmF0ZTEsIGNvb3JkaW5hdGUyKSB7XG4gICAgdmFyIGVxdWFscyA9IHRydWU7XG4gICAgZm9yICh2YXIgaSA9IGNvb3JkaW5hdGUxLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGlmIChjb29yZGluYXRlMVtpXSAhPSBjb29yZGluYXRlMltpXSkge1xuICAgICAgICAgICAgZXF1YWxzID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXF1YWxzO1xufVxuLyoqXG4gKiBSb3RhdGUgYGNvb3JkaW5hdGVgIGJ5IGBhbmdsZWAuIGBjb29yZGluYXRlYCBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmRcbiAqIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBpbXBvcnQge3JvdGF0ZX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciByb3RhdGVSYWRpYW5zID0gTWF0aC5QSSAvIDI7IC8vIDkwIGRlZ3JlZXNcbiAqICAgICByb3RhdGUoY29vcmQsIHJvdGF0ZVJhZGlhbnMpO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbLTQ3Ljk4MzMzMywgNy44NV1cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBBbmdsZSBpbiByYWRpYW4uXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKGNvb3JkaW5hdGUsIGFuZ2xlKSB7XG4gICAgdmFyIGNvc0FuZ2xlID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIHZhciBzaW5BbmdsZSA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICB2YXIgeCA9IGNvb3JkaW5hdGVbMF0gKiBjb3NBbmdsZSAtIGNvb3JkaW5hdGVbMV0gKiBzaW5BbmdsZTtcbiAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgICBjb29yZGluYXRlWzBdID0geDtcbiAgICBjb29yZGluYXRlWzFdID0geTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogU2NhbGUgYGNvb3JkaW5hdGVgIGJ5IGBzY2FsZWAuIGBjb29yZGluYXRlYCBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmQgcmV0dXJuZWRcbiAqIGJ5IHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBpbXBvcnQge3NjYWxlIGFzIHNjYWxlQ29vcmRpbmF0ZX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBzY2FsZSA9IDEuMjtcbiAqICAgICBzY2FsZUNvb3JkaW5hdGUoY29vcmQsIHNjYWxlKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWzkuNDIsIDU3LjU3OTk5OTZdXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgU2NhbGUgZmFjdG9yLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKGNvb3JkaW5hdGUsIHNjYWxlKSB7XG4gICAgY29vcmRpbmF0ZVswXSAqPSBzY2FsZTtcbiAgICBjb29yZGluYXRlWzFdICo9IHNjYWxlO1xuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBjb29yZDEgYW5kIGNvb3JkMi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICAgIHZhciBkeCA9IGNvb3JkMVswXSAtIGNvb3JkMlswXTtcbiAgICB2YXIgZHkgPSBjb29yZDFbMV0gLSBjb29yZDJbMV07XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IERpc3RhbmNlIGJldHdlZW4gY29vcmQxIGFuZCBjb29yZDIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoc3F1YXJlZERpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc3F1YXJlZCBkaXN0YW5jZSBmcm9tIGEgY29vcmRpbmF0ZSB0byBhIGxpbmUgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PENvb3JkaW5hdGU+fSBzZWdtZW50IExpbmUgc2VnbWVudCAoMlxuICogY29vcmRpbmF0ZXMpLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhlIHBvaW50IHRvIHRoZSBsaW5lIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2VUb1NlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkge1xuICAgIHJldHVybiBzcXVhcmVkRGlzdGFuY2UoY29vcmRpbmF0ZSwgY2xvc2VzdE9uU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSk7XG59XG4vKipcbiAqIEZvcm1hdCBhIGdlb2dyYXBoaWMgY29vcmRpbmF0ZSB3aXRoIHRoZSBoZW1pc3BoZXJlLCBkZWdyZWVzLCBtaW51dGVzLCBhbmRcbiAqIHNlY29uZHMuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MOKAsyBOIDfCsCA1MOKAsiA2MOKAsyBFJ1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIDEgZnJhY3Rpb25hbCBkaWdpdDpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ0hETVN9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgb3V0ID0gdG9TdHJpbmdIRE1TKGNvb3JkLCAxKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc0N8KwIDU44oCyIDYwLjDigLMgTiA3wrAgNTDigLIgNjAuMOKAsyBFJ1xuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZnJhY3Rpb25EaWdpdHMgVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBIZW1pc3BoZXJlLCBkZWdyZWVzLCBtaW51dGVzIGFuZCBzZWNvbmRzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdIRE1TKGNvb3JkaW5hdGUsIG9wdF9mcmFjdGlvbkRpZ2l0cykge1xuICAgIGlmIChjb29yZGluYXRlKSB7XG4gICAgICAgIHJldHVybiAoZGVncmVlc1RvU3RyaW5nSERNUygnTlMnLCBjb29yZGluYXRlWzFdLCBvcHRfZnJhY3Rpb25EaWdpdHMpICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICBkZWdyZWVzVG9TdHJpbmdIRE1TKCdFVycsIGNvb3JkaW5hdGVbMF0sIG9wdF9mcmFjdGlvbkRpZ2l0cykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbi8qKlxuICogRm9ybWF0IGEgY29vcmRpbmF0ZSBhcyBhIGNvbW1hIGRlbGltaXRlZCBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ1hZKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ1hZKGNvb3JkLCAxKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3LjgsIDQ4LjAnXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFhZLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdYWShjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICByZXR1cm4gZm9ybWF0KGNvb3JkaW5hdGUsICd7eH0sIHt5fScsIG9wdF9mcmFjdGlvbkRpZ2l0cyk7XG59XG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBjb29yZGluYXRlIGluLXBsYWNlIHRvIGJlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZFxuICogZXh0ZW50LiBUaGUgbG93ZXIgcHJvamVjdGlvbiBleHRlbnQgYm91bmRhcnkgaXMgaW5jbHVzaXZlLCB0aGUgdXBwZXIgb25lXG4gKiBleGNsdXNpdmUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWChjb29yZGluYXRlLCBwcm9qZWN0aW9uKSB7XG4gICAgaWYgKHByb2plY3Rpb24uY2FuV3JhcFgoKSkge1xuICAgICAgICB2YXIgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb24uZ2V0RXh0ZW50KCkpO1xuICAgICAgICB2YXIgd29ybGRzQXdheSA9IGdldFdvcmxkc0F3YXkoY29vcmRpbmF0ZSwgcHJvamVjdGlvbiwgd29ybGRXaWR0aCk7XG4gICAgICAgIGlmICh3b3JsZHNBd2F5KSB7XG4gICAgICAgICAgICBjb29yZGluYXRlWzBdIC09IHdvcmxkc0F3YXkgKiB3b3JsZFdpZHRoO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfc291cmNlRXh0ZW50V2lkdGggV2lkdGggb2YgdGhlIHNvdXJjZSBleHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE9mZnNldCBpbiB3b3JsZCB3aWR0aHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JsZHNBd2F5KGNvb3JkaW5hdGUsIHByb2plY3Rpb24sIG9wdF9zb3VyY2VFeHRlbnRXaWR0aCkge1xuICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICB2YXIgd29ybGRzQXdheSA9IDA7XG4gICAgaWYgKHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgICAgICAoY29vcmRpbmF0ZVswXSA8IHByb2plY3Rpb25FeHRlbnRbMF0gfHwgY29vcmRpbmF0ZVswXSA+IHByb2plY3Rpb25FeHRlbnRbMl0pKSB7XG4gICAgICAgIHZhciBzb3VyY2VFeHRlbnRXaWR0aCA9IG9wdF9zb3VyY2VFeHRlbnRXaWR0aCB8fCBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgd29ybGRzQXdheSA9IE1hdGguZmxvb3IoKGNvb3JkaW5hdGVbMF0gLSBwcm9qZWN0aW9uRXh0ZW50WzBdKSAvIHNvdXJjZUV4dGVudFdpZHRoKTtcbiAgICB9XG4gICAgcmV0dXJuIHdvcmxkc0F3YXk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb29yZGluYXRlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTWFwXG4gKi9cbmltcG9ydCBEaXNwb3NhYmxlIGZyb20gJy4uL0Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IHsgVFJVRSB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLCBtYWtlSW52ZXJzZSB9IGZyb20gJy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBnZXRXaWR0aCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBzaGFyZWQgYXMgaWNvbkltYWdlQ2FjaGUgfSBmcm9tICcuLi9zdHlsZS9JY29uSW1hZ2VDYWNoZS5qcyc7XG5pbXBvcnQgeyBpblZpZXcgfSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgeyB3cmFwWCB9IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiBIaXRNYXRjaFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaXN0YW5jZVNxXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2tcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbnZhciBNYXBSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBSZW5kZXJlcihtYXApIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBtYXA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5kaXNwYXRjaFJlbmRlckV2ZW50ID0gZnVuY3Rpb24gKHR5cGUsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmNhbGN1bGF0ZU1hdHJpY2VzMkQgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIHZhciBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSA9IGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm07XG4gICAgICAgIHZhciBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSA9IGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm07XG4gICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0oY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGZyYW1lU3RhdGUuc2l6ZVswXSAvIDIsIGZyYW1lU3RhdGUuc2l6ZVsxXSAvIDIsIDEgLyB2aWV3U3RhdGUucmVzb2x1dGlvbiwgLTEgLyB2aWV3U3RhdGUucmVzb2x1dGlvbiwgLXZpZXdTdGF0ZS5yb3RhdGlvbiwgLXZpZXdTdGF0ZS5jZW50ZXJbMF0sIC12aWV3U3RhdGUuY2VudGVyWzFdKTtcbiAgICAgICAgbWFrZUludmVyc2UocGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjaGVja1dyYXBwZWQgQ2hlY2sgZm9yIHdyYXBwZWQgZ2VvbWV0cmllcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge1N9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgICAqICAgICBmdW5jdGlvbiwgb25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBAcGFyYW0ge1V9IHRoaXNBcmcyIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGxheWVyRmlsdGVyYC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBTLFQsVVxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNoZWNrV3JhcHBlZCwgY2FsbGJhY2ssIHRoaXNBcmcsIGxheWVyRmlsdGVyLCB0aGlzQXJnMikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1hbmFnZWQgTWFuYWdlZCBsYXllci5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKG1hbmFnZWQsIGZlYXR1cmUsIGxheWVyLCBnZW9tZXRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgZmVhdHVyZSwgbWFuYWdlZCA/IGxheWVyIDogbnVsbCwgZ2VvbWV0cnkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgICAgIHZhciB0cmFuc2xhdGVkQ29vcmRpbmF0ZSA9IHdyYXBYKGNvb3JkaW5hdGUuc2xpY2UoKSwgcHJvamVjdGlvbik7XG4gICAgICAgIHZhciBvZmZzZXRzID0gW1swLCAwXV07XG4gICAgICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiYgY2hlY2tXcmFwcGVkKSB7XG4gICAgICAgICAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICB2YXIgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpO1xuICAgICAgICAgICAgb2Zmc2V0cy5wdXNoKFstd29ybGRXaWR0aCwgMF0sIFt3b3JsZFdpZHRoLCAwXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxheWVyU3RhdGVzID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgICAgICB2YXIgbnVtTGF5ZXJzID0gbGF5ZXJTdGF0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IC8qKiBAdHlwZSB7QXJyYXk8SGl0TWF0Y2g8VD4+fSAqLyAoW10pO1xuICAgICAgICB2YXIgdG1wQ29vcmQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvZmZzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gbnVtTGF5ZXJzIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzW2pdO1xuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLmhhc1JlbmRlcmVyKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5WaWV3KGxheWVyU3RhdGUsIHZpZXdTdGF0ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJGaWx0ZXIuY2FsbCh0aGlzQXJnMiwgbGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXllclJlbmRlcmVyID0gbGF5ZXIuZ2V0UmVuZGVyZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGxheWVyLmdldFNvdXJjZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJSZW5kZXJlciAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IHNvdXJjZS5nZXRXcmFwWCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cmFuc2xhdGVkQ29vcmRpbmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY29vcmRpbmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja18xID0gZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUuYmluZChudWxsLCBsYXllclN0YXRlLm1hbmFnZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wQ29vcmRbMF0gPSBjb29yZGluYXRlc1swXSArIG9mZnNldHNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXBDb29yZFsxXSA9IGNvb3JkaW5hdGVzWzFdICsgb2Zmc2V0c1tpXVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGxheWVyUmVuZGVyZXIuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUodG1wQ29vcmQsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2tfMSwgbWF0Y2hlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9yZGVyID0gMSAvIG1hdGNoZXMubGVuZ3RoO1xuICAgICAgICBtYXRjaGVzLmZvckVhY2goZnVuY3Rpb24gKG0sIGkpIHsgcmV0dXJuIChtLmRpc3RhbmNlU3EgKz0gaSAqIG9yZGVyKTsgfSk7XG4gICAgICAgIG1hdGNoZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5kaXN0YW5jZVNxIC0gYi5kaXN0YW5jZVNxOyB9KTtcbiAgICAgICAgbWF0Y2hlcy5zb21lKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICByZXR1cm4gKHJlc3VsdCA9IG0uY2FsbGJhY2sobS5mZWF0dXJlLCBtLmxheWVyLCBtLmdlb21ldHJ5KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0LCAoVWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheSkpOiBUfSBjYWxsYmFjayBMYXllclxuICAgICAqICAgICBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgICAqICAgICByZXR1cm5zIGB0cnVlYCB3aWxsIGJlIHRlc3RlZCBmb3IgZmVhdHVyZXMuICBCeSBkZWZhdWx0LCBhbGwgdmlzaWJsZVxuICAgICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5mb3JFYWNoTGF5ZXJBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCBsYXllckZpbHRlcikge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjaGVja1dyYXBwZWQgQ2hlY2sgZm9yIHdyYXBwZWQgZ2VvbWV0cmllcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgICAqICAgICByZXR1cm5zIGB0cnVlYCB3aWxsIGJlIHRlc3RlZCBmb3IgZmVhdHVyZXMuICBCeSBkZWZhdWx0LCBhbGwgdmlzaWJsZVxuICAgICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAgICogQHBhcmFtIHtVfSB0aGlzQXJnIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGxheWVyRmlsdGVyYC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyB0aGVyZSBhIGZlYXR1cmUgYXQgdGhlIGdpdmVuIGNvb3JkaW5hdGU/XG4gICAgICogQHRlbXBsYXRlIFVcbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNoZWNrV3JhcHBlZCwgbGF5ZXJGaWx0ZXIsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIGhhc0ZlYXR1cmUgPSB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2hlY2tXcmFwcGVkLCBUUlVFLCB0aGlzLCBsYXllckZpbHRlciwgdGhpc0FyZyk7XG4gICAgICAgIHJldHVybiBoYXNGZWF0dXJlICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5zY2hlZHVsZUV4cGlyZUljb25DYWNoZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIGlmIChpY29uSW1hZ2VDYWNoZS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAgICAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaChleHBpcmVJY29uQ2FjaGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWFwUmVuZGVyZXI7XG59KERpc3Bvc2FibGUpKTtcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIGV4cGlyZUljb25DYWNoZShtYXAsIGZyYW1lU3RhdGUpIHtcbiAgICBpY29uSW1hZ2VDYWNoZS5leHBpcmUoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IE1hcFJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvRXZlbnRcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xudmFyIFJlbmRlckV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZW5kZXJFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm09fSBvcHRfaW52ZXJzZVBpeGVsVHJhbnNmb3JtIFRyYW5zZm9ybSBmb3JcbiAgICAgKiAgICAgQ1NTIHBpeGVscyB0byByZW5kZXJlZCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZT19IG9wdF9mcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7P0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD19IG9wdF9jb250ZXh0IENvbnRleHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyRXZlbnQodHlwZSwgb3B0X2ludmVyc2VQaXhlbFRyYW5zZm9ybSwgb3B0X2ZyYW1lU3RhdGUsIG9wdF9jb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFuc2Zvcm0gZnJvbSBDU1MgcGl4ZWxzIChyZWxhdGl2ZSB0byB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBtYXAgdmlld3BvcnQpXG4gICAgICAgICAqIHRvIHJlbmRlcmVkIHBpeGVscyBvbiB0aGlzIGV2ZW50J3MgYGNvbnRleHRgLiBPbmx5IGF2YWlsYWJsZSB3aGVuIGEgQ2FudmFzIHJlbmRlcmVyIGlzIHVzZWQsIG51bGwgb3RoZXJ3aXNlLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybXx1bmRlZmluZWR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludmVyc2VQaXhlbFRyYW5zZm9ybSA9IG9wdF9pbnZlcnNlUGl4ZWxUcmFuc2Zvcm07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHJlbmRlciBmcmFtZSBzdGF0ZS5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZnJhbWVTdGF0ZSA9IG9wdF9mcmFtZVN0YXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FudmFzIGNvbnRleHQuIE5vdCBhdmFpbGFibGUgd2hlbiB0aGUgZXZlbnQgaXMgZGlzcGF0Y2hlZCBieSB0aGUgbWFwLiBPbmx5IGF2YWlsYWJsZVxuICAgICAgICAgKiB3aGVuIGEgQ2FudmFzIHJlbmRlcmVyIGlzIHVzZWQsIG51bGwgb3RoZXJ3aXNlLlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfG51bGx8dW5kZWZpbmVkfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gb3B0X2NvbnRleHQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFJlbmRlckV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVuZGVyRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL0NvbXBvc2l0ZVxuICovXG5pbXBvcnQgTWFwUmVuZGVyZXIgZnJvbSAnLi9NYXAuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50IGZyb20gJy4uL3JlbmRlci9FdmVudC5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgY2hlY2tlZEZvbnRzIH0gZnJvbSAnLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBpblZpZXcgfSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHsgcmVwbGFjZUNoaWxkcmVuIH0gZnJvbSAnLi4vZG9tLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIG1hcCByZW5kZXJlci5cbiAqIEBhcGlcbiAqL1xudmFyIENvbXBvc2l0ZU1hcFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21wb3NpdGVNYXBSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXBvc2l0ZU1hcFJlbmRlcmVyKG1hcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtYXApIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvbnRDaGFuZ2VMaXN0ZW5lcktleV8gPSBsaXN0ZW4oY2hlY2tlZEZvbnRzLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIG1hcC5yZWRyYXdUZXh0LmJpbmQobWFwKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB2YXIgc3R5bGUgPSBfdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICAgICAgc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBzdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBzdHlsZS56SW5kZXggPSAnMCc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9IENMQVNTX1VOU0VMRUNUQUJMRSArICcgb2wtbGF5ZXJzJztcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IG1hcC5nZXRWaWV3cG9ydCgpO1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKF90aGlzLmVsZW1lbnRfLCBjb250YWluZXIuZmlyc3RDaGlsZCB8fCBudWxsKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxIVE1MRWxlbWVudD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGlsZHJlbl8gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZU1hcFJlbmRlcmVyLnByb3RvdHlwZS5kaXNwYXRjaFJlbmRlckV2ZW50ID0gZnVuY3Rpb24gKHR5cGUsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIGlmIChtYXAuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHVuZGVmaW5lZCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgICAgICBtYXAuZGlzcGF0Y2hFdmVudChldmVudF8xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLmZvbnRDaGFuZ2VMaXN0ZW5lcktleV8pO1xuICAgICAgICB0aGlzLmVsZW1lbnRfLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlTWF0cmljZXMyRChmcmFtZVN0YXRlKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50KFJlbmRlckV2ZW50VHlwZS5QUkVDT01QT1NFLCBmcmFtZVN0YXRlKTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzQXJyYXkgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5fLmxlbmd0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vbGF5ZXIvQmFzZVZlY3Rvci5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWNsdXR0ZXJMYXllcnMgPSBbXTtcbiAgICAgICAgdmFyIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzQXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc0FycmF5W2ldO1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS5sYXllckluZGV4ID0gaTtcbiAgICAgICAgICAgIGlmICghaW5WaWV3KGxheWVyU3RhdGUsIHZpZXdTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAobGF5ZXJTdGF0ZS5zb3VyY2VTdGF0ZSAhPSBTb3VyY2VTdGF0ZS5SRUFEWSAmJlxuICAgICAgICAgICAgICAgICAgICBsYXllclN0YXRlLnNvdXJjZVN0YXRlICE9IFNvdXJjZVN0YXRlLlVOREVGSU5FRCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGxheWVyLnJlbmRlcihmcmFtZVN0YXRlLCBwcmV2aW91c0VsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gcHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbl8ucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdnZXREZWNsdXR0ZXInIGluIGxheWVyKSB7XG4gICAgICAgICAgICAgICAgZGVjbHV0dGVyTGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBkZWNsdXR0ZXJMYXllcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGRlY2x1dHRlckxheWVyc1tpXS5yZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZUNoaWxkcmVuKHRoaXMuZWxlbWVudF8sIHRoaXMuY2hpbGRyZW5fKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50KFJlbmRlckV2ZW50VHlwZS5QT1NUQ09NUE9TRSwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRfLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2hlZHVsZUV4cGlyZUljb25DYWNoZShmcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCwgKFVpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXkpKTogVH0gY2FsbGJhY2sgTGF5ZXJcbiAgICAgKiAgICAgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gbGF5ZXJGaWx0ZXIgTGF5ZXIgZmlsdGVyXG4gICAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICAgKiAgICAgcmV0dXJucyBgdHJ1ZWAgd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiAgQnkgZGVmYXVsdCwgYWxsIHZpc2libGVcbiAgICAgKiAgICAgbGF5ZXJzIHdpbGwgYmUgdGVzdGVkLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBDb21wb3NpdGVNYXBSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgbGF5ZXJGaWx0ZXIpIHtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgbGF5ZXJTdGF0ZXMgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXk7XG4gICAgICAgIHZhciBudW1MYXllcnMgPSBsYXllclN0YXRlcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSBudW1MYXllcnMgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc1tpXTtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICBpZiAobGF5ZXIuaGFzUmVuZGVyZXIoKSAmJlxuICAgICAgICAgICAgICAgIGluVmlldyhsYXllclN0YXRlLCB2aWV3U3RhdGUpICYmXG4gICAgICAgICAgICAgICAgbGF5ZXJGaWx0ZXIobGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyUmVuZGVyZXIgPSBsYXllci5nZXRSZW5kZXJlcigpO1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gbGF5ZXJSZW5kZXJlci5nZXREYXRhQXRQaXhlbChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2sobGF5ZXIsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcG9zaXRlTWFwUmVuZGVyZXI7XG59KE1hcFJlbmRlcmVyKSk7XG5leHBvcnQgZGVmYXVsdCBDb21wb3NpdGVNYXBSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbXBvc2l0ZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0dyb3VwXG4gKi9cbmltcG9ydCBCYXNlTGF5ZXIgZnJvbSAnLi9CYXNlLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4uL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4uL3NvdXJjZS9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiwgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgZ2V0Q2hhbmdlRXZlbnRUeXBlIH0gZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCB7IGdldEludGVyc2VjdGlvbiB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD58aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gW2xheWVyc10gQ2hpbGQgbGF5ZXJzLlxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUHJvcGVydHkgPSB7XG4gICAgTEFZRVJTOiAnbGF5ZXJzJyxcbn07XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259IG9mIGxheWVycyB0aGF0IGFyZSBoYW5kbGVkIHRvZ2V0aGVyLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgZ3JvdXAvQ29sbGVjdGlvbiBjaGFuZ2VzLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIExheWVyR3JvdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExheWVyR3JvdXAsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgTGF5ZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXllckdyb3VwKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBiYXNlT3B0aW9ucyA9IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKGFzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMubGF5ZXJzO1xuICAgICAgICB2YXIgbGF5ZXJzID0gb3B0aW9ucy5sYXllcnM7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYmFzZU9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGlzdGVuZXJLZXlzXyA9IHt9O1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShQcm9wZXJ0eS5MQVlFUlMpLCBfdGhpcy5oYW5kbGVMYXllcnNDaGFuZ2VkXyk7XG4gICAgICAgIGlmIChsYXllcnMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxheWVycykpIHtcbiAgICAgICAgICAgICAgICBsYXllcnMgPSBuZXcgQ29sbGVjdGlvbihsYXllcnMuc2xpY2UoKSwgeyB1bmlxdWU6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQodHlwZW9mICggLyoqIEB0eXBlIHs/fSAqLyhsYXllcnMpLmdldEFycmF5KSA9PT0gJ2Z1bmN0aW9uJywgNDMpOyAvLyBFeHBlY3RlZCBgbGF5ZXJzYCB0byBiZSBhbiBhcnJheSBvciBhIGBDb2xsZWN0aW9uYFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGF5ZXJzID0gbmV3IENvbGxlY3Rpb24odW5kZWZpbmVkLCB7IHVuaXF1ZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zZXRMYXllcnMobGF5ZXJzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmhhbmRsZUxheWVyQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmhhbmRsZUxheWVyc0NoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxheWVyc0xpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgICAgICB0aGlzLmxheWVyc0xpc3RlbmVyS2V5c18ucHVzaChsaXN0ZW4obGF5ZXJzLCBDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgdGhpcy5oYW5kbGVMYXllcnNBZGRfLCB0aGlzKSwgbGlzdGVuKGxheWVycywgQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIHRoaXMuaGFuZGxlTGF5ZXJzUmVtb3ZlXywgdGhpcykpO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmxpc3RlbmVyS2V5c18pIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJLZXlzX1tpZF0uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhcih0aGlzLmxpc3RlbmVyS2V5c18pO1xuICAgICAgICB2YXIgbGF5ZXJzQXJyYXkgPSBsYXllcnMuZ2V0QXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJzQXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gbGF5ZXJzQXJyYXlbaV07XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyS2V5c19bZ2V0VWlkKGxheWVyKV0gPSBbXG4gICAgICAgICAgICAgICAgbGlzdGVuKGxheWVyLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIHRoaXMuaGFuZGxlTGF5ZXJDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgICAgICAgICBsaXN0ZW4obGF5ZXIsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlTGF5ZXJDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBjb2xsZWN0aW9uRXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuaGFuZGxlTGF5ZXJzQWRkXyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uRXZlbnQpIHtcbiAgICAgICAgdmFyIGxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdH0gKi8gKGNvbGxlY3Rpb25FdmVudC5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcktleXNfW2dldFVpZChsYXllcildID0gW1xuICAgICAgICAgICAgbGlzdGVuKGxheWVyLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIHRoaXMuaGFuZGxlTGF5ZXJDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgICAgIGxpc3RlbihsYXllciwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVMYXllckNoYW5nZV8sIHRoaXMpLFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGNvbGxlY3Rpb25FdmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllcnNSZW1vdmVfID0gZnVuY3Rpb24gKGNvbGxlY3Rpb25FdmVudCkge1xuICAgICAgICB2YXIgbGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0fSAqLyAoY29sbGVjdGlvbkV2ZW50LmVsZW1lbnQpO1xuICAgICAgICB2YXIga2V5ID0gZ2V0VWlkKGxheWVyKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcktleXNfW2tleV0uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJLZXlzX1trZXldO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbiBjb2xsZWN0aW9ufSBvZiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyIGxheWVyc31cbiAgICAgKiBpbiB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBDb2xsZWN0aW9uIG9mXG4gICAgICogICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2UgbGF5ZXJzfSB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgZ3JvdXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0TGF5ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gKi8gKHRoaXMuZ2V0KFByb3BlcnR5LkxBWUVSUykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb24gY29sbGVjdGlvbn0gb2Yge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciBsYXllcnN9XG4gICAgICogaW4gdGhpcyBncm91cC5cbiAgICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgQ29sbGVjdGlvbiBvZlxuICAgICAqICAge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlIGxheWVyc30gdGhhdCBhcmUgcGFydCBvZiB0aGlzIGdyb3VwLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLnNldExheWVycyA9IGZ1bmN0aW9uIChsYXllcnMpIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuTEFZRVJTLCBsYXllcnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+PX0gb3B0X2FycmF5IEFycmF5IG9mIGxheWVycyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IEFycmF5IG9mIGxheWVycy5cbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5nZXRMYXllcnNBcnJheSA9IGZ1bmN0aW9uIChvcHRfYXJyYXkpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gb3B0X2FycmF5ICE9PSB1bmRlZmluZWQgPyBvcHRfYXJyYXkgOiBbXTtcbiAgICAgICAgdGhpcy5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICAgICAgbGF5ZXIuZ2V0TGF5ZXJzQXJyYXkoYXJyYXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPj19IG9wdF9zdGF0ZXMgT3B0aW9uYWwgbGlzdCBvZiBsYXllciBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZXNBcnJheSA9IGZ1bmN0aW9uIChvcHRfc3RhdGVzKSB7XG4gICAgICAgIHZhciBzdGF0ZXMgPSBvcHRfc3RhdGVzICE9PSB1bmRlZmluZWQgPyBvcHRfc3RhdGVzIDogW107XG4gICAgICAgIHZhciBwb3MgPSBzdGF0ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmdldExheWVycygpLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgICBsYXllci5nZXRMYXllclN0YXRlc0FycmF5KHN0YXRlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb3duTGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gcG9zLCBpaSA9IHN0YXRlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZSA9IHN0YXRlc1tpXTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUub3BhY2l0eSAqPSBvd25MYXllclN0YXRlLm9wYWNpdHk7XG4gICAgICAgICAgICBsYXllclN0YXRlLnZpc2libGUgPSBsYXllclN0YXRlLnZpc2libGUgJiYgb3duTGF5ZXJTdGF0ZS52aXNpYmxlO1xuICAgICAgICAgICAgbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uID0gTWF0aC5taW4obGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uLCBvd25MYXllclN0YXRlLm1heFJlc29sdXRpb24pO1xuICAgICAgICAgICAgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uID0gTWF0aC5tYXgobGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uLCBvd25MYXllclN0YXRlLm1pblJlc29sdXRpb24pO1xuICAgICAgICAgICAgbGF5ZXJTdGF0ZS5taW5ab29tID0gTWF0aC5tYXgobGF5ZXJTdGF0ZS5taW5ab29tLCBvd25MYXllclN0YXRlLm1pblpvb20pO1xuICAgICAgICAgICAgbGF5ZXJTdGF0ZS5tYXhab29tID0gTWF0aC5taW4obGF5ZXJTdGF0ZS5tYXhab29tLCBvd25MYXllclN0YXRlLm1heFpvb20pO1xuICAgICAgICAgICAgaWYgKG93bkxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXJTdGF0ZS5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsYXllclN0YXRlLmV4dGVudCA9IGdldEludGVyc2VjdGlvbihsYXllclN0YXRlLmV4dGVudCwgb3duTGF5ZXJTdGF0ZS5leHRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJTdGF0ZS5leHRlbnQgPSBvd25MYXllclN0YXRlLmV4dGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBTb3VyY2Ugc3RhdGUuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0U291cmNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBTb3VyY2VTdGF0ZS5SRUFEWTtcbiAgICB9O1xuICAgIHJldHVybiBMYXllckdyb3VwO1xufShCYXNlTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IExheWVyR3JvdXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hcm91cC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL01hcEV2ZW50XG4gKi9cbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBldmVudHMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9QbHVnZ2FibGVNYXB+UGx1Z2dhYmxlTWFwfSBmb3Igd2hpY2ggZXZlbnRzIHRyaWdnZXIgYSBtYXAgZXZlbnQuXG4gKi9cbnZhciBNYXBFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZT19IG9wdF9mcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcEV2ZW50KHR5cGUsIG1hcCwgb3B0X2ZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHlwZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgd2hlcmUgdGhlIGV2ZW50IG9jY3VycmVkLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwID0gbWFwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYW1lIHN0YXRlIGF0IHRoZSB0aW1lIG9mIHRoZSBldmVudC5cbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZVN0YXRlID0gb3B0X2ZyYW1lU3RhdGUgIT09IHVuZGVmaW5lZCA/IG9wdF9mcmFtZVN0YXRlIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gTWFwRXZlbnQ7XG59KEV2ZW50KSk7XG5leHBvcnQgZGVmYXVsdCBNYXBFdmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEV2ZW50LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlckV2ZW50XG4gKi9cbmltcG9ydCBNYXBFdmVudCBmcm9tICcuL01hcEV2ZW50LmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYXMgbWFwIGJyb3dzZXIgZXZlbnRzIGFyZSBpbnN0YW5jZXMgb2YgdGhpcyB0eXBlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvUGx1Z2dhYmxlTWFwflBsdWdnYWJsZU1hcH0gZm9yIHdoaWNoIGV2ZW50cyB0cmlnZ2VyIGEgbWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAdGVtcGxhdGUge1VJRXZlbnR9IEVWRU5UXG4gKi9cbnZhciBNYXBCcm93c2VyRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1hcEJyb3dzZXJFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFdmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKiBAcGFyYW0ge0VWRU5UfSBvcmlnaW5hbEV2ZW50IE9yaWdpbmFsIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9kcmFnZ2luZyBJcyB0aGUgbWFwIGN1cnJlbnRseSBiZWluZyBkcmFnZ2VkP1xuICAgICAqIEBwYXJhbSB7P2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGU9fSBvcHRfZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBCcm93c2VyRXZlbnQodHlwZSwgbWFwLCBvcmlnaW5hbEV2ZW50LCBvcHRfZHJhZ2dpbmcsIG9wdF9mcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUsIG1hcCwgb3B0X2ZyYW1lU3RhdGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtFVkVOVH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIHBpeGVsIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29vcmRpbmF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBtYXAgaXMgY3VycmVudGx5IGJlaW5nIGRyYWdnZWQuIE9ubHkgc2V0IGZvclxuICAgICAgICAgKiBgUE9JTlRFUkRSQUdgIGFuZCBgUE9JTlRFUk1PVkVgIGV2ZW50cy4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhZ2dpbmcgPSBvcHRfZHJhZ2dpbmcgIT09IHVuZGVmaW5lZCA/IG9wdF9kcmFnZ2luZyA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlLCBcInBpeGVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgcGl4ZWwgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGl4ZWxfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbF8gPSB0aGlzLm1hcC5nZXRFdmVudFBpeGVsKHRoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waXhlbF87XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgICAgICB0aGlzLnBpeGVsXyA9IHBpeGVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUsIFwiY29vcmRpbmF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LiAgVGhpcyB3aWxsIGJlIGluIHRoZSB1c2VyXG4gICAgICAgICAqIHByb2plY3Rpb24gaWYgb25lIGlzIHNldC4gIE90aGVyd2lzZSBpdCB3aWxsIGJlIGluIHRoZSB2aWV3IHByb2plY3Rpb24uXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29vcmRpbmF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVfID0gdGhpcy5tYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCh0aGlzLnBpeGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVfO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVfID0gY29vcmRpbmF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHRoZSBkZWZhdWx0IGJyb3dzZXIgYWN0aW9uLlxuICAgICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQucHJldmVudERlZmF1bHQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucHJldmVudERlZmF1bHQuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBmdXJ0aGVyIHByb3BhZ2F0aW9uIG9mIHRoZSBjdXJyZW50IGV2ZW50LlxuICAgICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQuc3RvcFByb3BhZ2F0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24uY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcEJyb3dzZXJFdmVudDtcbn0oTWFwRXZlbnQpKTtcbmV4cG9ydCBkZWZhdWx0IE1hcEJyb3dzZXJFdmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEJyb3dzZXJFdmVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcG9pbnRlci9FdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIGV2ZW50IG5hbWVzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIFBPSU5URVJNT1ZFOiAncG9pbnRlcm1vdmUnLFxuICAgIFBPSU5URVJET1dOOiAncG9pbnRlcmRvd24nLFxuICAgIFBPSU5URVJVUDogJ3BvaW50ZXJ1cCcsXG4gICAgUE9JTlRFUk9WRVI6ICdwb2ludGVyb3ZlcicsXG4gICAgUE9JTlRFUk9VVDogJ3BvaW50ZXJvdXQnLFxuICAgIFBPSU5URVJFTlRFUjogJ3BvaW50ZXJlbnRlcicsXG4gICAgUE9JTlRFUkxFQVZFOiAncG9pbnRlcmxlYXZlJyxcbiAgICBQT0lOVEVSQ0FOQ0VMOiAncG9pbnRlcmNhbmNlbCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRIYW5kbGVyXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnQgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnQuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCBQb2ludGVyRXZlbnRUeXBlIGZyb20gJy4vcG9pbnRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgREVWSUNFX1BJWEVMX1JBVElPLCBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyB9IGZyb20gJy4vaGFzLmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbnZhciBNYXBCcm93c2VyRXZlbnRIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNYXBCcm93c2VyRXZlbnRIYW5kbGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIFRoZSBtYXAgd2l0aCB0aGUgdmlld3BvcnQgdG8gbGlzdGVuIHRvIGV2ZW50cyBvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1vdmVUb2xlcmFuY2UgVGhlIG1pbmltYWwgZGlzdGFuY2UgdGhlIHBvaW50ZXIgbXVzdCB0cmF2ZWwgdG8gdHJpZ2dlciBhIG1vdmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQnJvd3NlckV2ZW50SGFuZGxlcihtYXAsIG1vdmVUb2xlcmFuY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWFwKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZWxlbWVudCB0aGF0IHdlIHdpbGwgbGlzdGVuIHRvIHRoZSByZWFsIGV2ZW50cyBvbi5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBfID0gbWFwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2FueX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsaWNrVGltZW91dElkXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVtdWxhdGUgZGJsY2xpY2sgYW5kIHNpbmdsZWNsaWNrLiBXaWxsIGJlIHRydWUgd2hlbiBvbmx5IG9uZSBwb2ludGVyIGlzIGFjdGl2ZS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbXVsYXRlQ2xpY2tzXyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmFnZ2luZ18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYWdMaXN0ZW5lcktleXNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVRvbGVyYW5jZV8gPSBtb3ZlVG9sZXJhbmNlXG4gICAgICAgICAgICA/IG1vdmVUb2xlcmFuY2UgKiBERVZJQ0VfUElYRUxfUkFUSU9cbiAgICAgICAgICAgIDogREVWSUNFX1BJWEVMX1JBVElPO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vc3QgcmVjZW50IFwiZG93blwiIHR5cGUgZXZlbnQgKG9yIG51bGwgaWYgbm9uZSBoYXZlIG9jY3VycmVkKS5cbiAgICAgICAgICogU2V0IG9uIHBvaW50ZXJkb3duLlxuICAgICAgICAgKiBAdHlwZSB7UG9pbnRlckV2ZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZG93bl8gPSBudWxsO1xuICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLm1hcF8uZ2V0Vmlld3BvcnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVQb2ludGVyc18gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLCBib29sZWFuPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYWNrZWRUb3VjaGVzXyA9IHt9O1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfID0gbGlzdGVuKGVsZW1lbnQsIFBvaW50ZXJFdmVudFR5cGUuUE9JTlRFUkRPV04sIF90aGlzLmhhbmRsZVBvaW50ZXJEb3duXywgX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BvaW50ZXJFdmVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8gPSBsaXN0ZW4oZWxlbWVudCwgUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSwgX3RoaXMucmVsYXlFdmVudF8sIF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZVRvdWNoTW92ZV8gPSBfdGhpcy5oYW5kbGVUb3VjaE1vdmVfLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5UT1VDSE1PVkUsIF90aGlzLmJvdW5kSGFuZGxlVG91Y2hNb3ZlXywgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5lbXVsYXRlQ2xpY2tfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICB2YXIgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KE1hcEJyb3dzZXJFdmVudFR5cGUuQ0xJQ0ssIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgICAgaWYgKHRoaXMuY2xpY2tUaW1lb3V0SWRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGRvdWJsZS1jbGlja1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tUaW1lb3V0SWRfKTtcbiAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KE1hcEJyb3dzZXJFdmVudFR5cGUuREJMQ0xJQ0ssIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBjbGlja1xuICAgICAgICAgICAgdGhpcy5jbGlja1RpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgLyoqIEB0aGlzIHtNYXBCcm93c2VyRXZlbnRIYW5kbGVyfSAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5TSU5HTEVDTElDSywgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIDI1MCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtlZXBzIHRyYWNrIG9uIGhvdyBtYW55IHBvaW50ZXJzIGFyZSBjdXJyZW50bHkgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVBY3RpdmVQb2ludGVyc18gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAgfHxcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSQ0FOQ0VMKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy50cmFja2VkVG91Y2hlc19bZXZlbnQucG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tlZFRvdWNoZXNfW2V2ZW50LnBvaW50ZXJJZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlUG9pbnRlcnNfID0gT2JqZWN0LmtleXModGhpcy50cmFja2VkVG91Y2hlc18pLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlclVwXyA9IGZ1bmN0aW9uIChwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVQb2ludGVyc18ocG9pbnRlckV2ZW50KTtcbiAgICAgICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAvLyBXZSBlbXVsYXRlIGNsaWNrIGV2ZW50cyBvbiBsZWZ0IG1vdXNlIGJ1dHRvbiBjbGljaywgdG91Y2ggY29udGFjdCwgYW5kIHBlblxuICAgICAgICAvLyBjb250YWN0LiBpc01vdXNlQWN0aW9uQnV0dG9uIHJldHVybnMgdHJ1ZSBpbiB0aGVzZSBjYXNlcyAoZXZ0LmJ1dHRvbiBpcyBzZXRcbiAgICAgICAgLy8gdG8gMCkuXG4gICAgICAgIC8vIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyNidXR0b24tc3RhdGVzXG4gICAgICAgIC8vIFdlIG9ubHkgZmlyZSBjbGljaywgc2luZ2xlY2xpY2ssIGFuZCBkb3VibGVjbGljayBpZiBub2JvZHkgaGFzIGNhbGxlZFxuICAgICAgICAvLyBldmVudC5zdG9wUHJvcGFnYXRpb24oKSBvciBldmVudC5wcmV2ZW50RGVmYXVsdCgpLlxuICAgICAgICBpZiAodGhpcy5lbXVsYXRlQ2xpY2tzXyAmJlxuICAgICAgICAgICAgIW5ld0V2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCAmJlxuICAgICAgICAgICAgIXRoaXMuZHJhZ2dpbmdfICYmXG4gICAgICAgICAgICB0aGlzLmlzTW91c2VBY3Rpb25CdXR0b25fKHBvaW50ZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW11bGF0ZUNsaWNrXyh0aGlzLmRvd25fKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb2ludGVyc18gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmdfID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRvd25fID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGxlZnQgbW91c2UgYnV0dG9uIHdhcyBwcmVzc2VkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaXNNb3VzZUFjdGlvbkJ1dHRvbl8gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHJldHVybiBwb2ludGVyRXZlbnQuYnV0dG9uID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVQb2ludGVyRG93bl8gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHRoaXMuZW11bGF0ZUNsaWNrc18gPSB0aGlzLmFjdGl2ZVBvaW50ZXJzXyA9PT0gMDtcbiAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVQb2ludGVyc18ocG9pbnRlckV2ZW50KTtcbiAgICAgICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJET1dOLCB0aGlzLm1hcF8sIHBvaW50ZXJFdmVudCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgIHRoaXMuZG93bl8gPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGlmICh0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIGRvYyA9IHRoaXMubWFwXy5nZXRPd25lckRvY3VtZW50KCk7XG4gICAgICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLnB1c2gobGlzdGVuKGRvYywgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSwgdGhpcy5oYW5kbGVQb2ludGVyTW92ZV8sIHRoaXMpLCBsaXN0ZW4oZG9jLCBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSwgXG4gICAgICAgICAgICAvKiBOb3RlIHRoYXQgdGhlIGxpc3RlbmVyIGZvciBgcG9pbnRlcmNhbmNlbCBpcyBzZXQgdXAgb25cbiAgICAgICAgICAgICAqIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AgYW5kIG5vdCBgZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyX2AgbGlrZVxuICAgICAgICAgICAgICogdGhlIGBwb2ludGVydXBgIGFuZCBgcG9pbnRlcm1vdmVgIGxpc3RlbmVycy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoZSBmb2xsb3dpbmc6IGBUb3VjaFNvdXJjZS52YWN1dW1Ub3VjaGVzXygpYFxuICAgICAgICAgICAgICogaXNzdWVzIGBwb2ludGVyY2FuY2VsYCBldmVudHMsIHdoZW4gdGhlcmUgd2FzIG5vIGB0b3VjaGVuZGAgZm9yIGFcbiAgICAgICAgICAgICAqIGB0b3VjaHN0YXJ0YC4gTm93LCBsZXQncyBzYXkgYSBmaXJzdCBgdG91Y2hzdGFydGAgaXMgcmVnaXN0ZXJlZCBvblxuICAgICAgICAgICAgICogYHBvaW50ZXJFdmVudEhhbmRsZXJfYC4gVGhlIGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBpcyBzZXQgdXAuXG4gICAgICAgICAgICAgKiBCdXQgYGRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl9gIGRvZXNuJ3Qga25vdyBhYm91dCB0aGUgZmlyc3RcbiAgICAgICAgICAgICAqIGB0b3VjaHN0YXJ0YC4gSWYgdGhlcmUgaXMgbm8gYHRvdWNoZW5kYCBmb3IgdGhlIGB0b3VjaHN0YXJ0YCwgd2UgY2FuXG4gICAgICAgICAgICAgKiBvbmx5IHJlY2VpdmUgYSBgdG91Y2hjYW5jZWxgIGZyb20gYHBvaW50ZXJFdmVudEhhbmRsZXJfYCwgYmVjYXVzZSBpdCBpc1xuICAgICAgICAgICAgICogb25seSByZWdpc3RlcmVkIHRoZXJlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsaXN0ZW4odGhpcy5lbGVtZW50XywgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSQ0FOQ0VMLCB0aGlzLmhhbmRsZVBvaW50ZXJVcF8sIHRoaXMpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlICYmIHRoaXMuZWxlbWVudF8uZ2V0Um9vdE5vZGUoKSAhPT0gZG9jKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5wdXNoKGxpc3Rlbih0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlKCksIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUlVQLCB0aGlzLmhhbmRsZVBvaW50ZXJVcF8sIHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVQb2ludGVyTW92ZV8gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIC8vIEJldHdlZW4gcG9pbnRlcmRvd24gYW5kIHBvaW50ZXJ1cCwgcG9pbnRlcm1vdmUgZXZlbnRzIGFyZSB0cmlnZ2VyZWQuXG4gICAgICAgIC8vIFRvIGF2b2lkIGEgJ2ZhbHNlJyB0b3VjaG1vdmUgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZCwgd2UgdGVzdCBpZiB0aGUgcG9pbnRlclxuICAgICAgICAvLyBtb3ZlZCBhIHNpZ25pZmljYW50IGRpc3RhbmNlLlxuICAgICAgICBpZiAodGhpcy5pc01vdmluZ18ocG9pbnRlckV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZ18gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJEUkFHLCB0aGlzLm1hcF8sIHBvaW50ZXJFdmVudCwgdGhpcy5kcmFnZ2luZ18pO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JhcCBhbmQgcmVsYXkgYSBwb2ludGVyIGV2ZW50LiAgTm90ZSB0aGF0IHRoaXMgcmVxdWlyZXMgdGhhdCB0aGUgdHlwZVxuICAgICAqIHN0cmluZyBmb3IgdGhlIE1hcEJyb3dzZXJFdmVudCBtYXRjaGVzIHRoZSBQb2ludGVyRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICAgKiBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLnJlbGF5RXZlbnRfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF8gPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIHZhciBkcmFnZ2luZyA9ICEhKHRoaXMuZG93bl8gJiYgdGhpcy5pc01vdmluZ18ocG9pbnRlckV2ZW50KSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTWFwQnJvd3NlckV2ZW50KHBvaW50ZXJFdmVudC50eXBlLCB0aGlzLm1hcF8sIHBvaW50ZXJFdmVudCwgZHJhZ2dpbmcpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZsZXhpYmxlIGhhbmRsaW5nIG9mIGEgYHRvdWNoLWFjdGlvbjogbm9uZWAgY3NzIGVxdWl2YWxlbnQ6IGJlY2F1c2UgY2FsbGluZ1xuICAgICAqIGBwcmV2ZW50RGVmYXVsdCgpYCBvbiBhIGBwb2ludGVybW92ZWAgZXZlbnQgZG9lcyBub3Qgc3RvcCBuYXRpdmUgcGFnZSBzY3JvbGxpbmdcbiAgICAgKiBhbmQgem9vbWluZywgd2UgYWxzbyBsaXN0ZW4gZm9yIGB0b3VjaG1vdmVgIGFuZCBjYWxsIGBwcmV2ZW50RGVmYXVsdCgpYCBvbiBpdFxuICAgICAqIHdoZW4gYW4gaW50ZXJhY3Rpb24gKGN1cnJlbnRseSBgRHJhZ1BhbmAgaGFuZGxlcyB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldmVudCBFdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZVRvdWNoTW92ZV8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gRHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tcGl6ZW5iZXJnL2VsbS1wZXAvaXNzdWVzLzIsIGB0aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF9gXG4gICAgICAgIC8vIG1heSBub3QgYmUgaW5pdGlhbGl6ZWQgeWV0IHdoZW4gd2UgZ2V0IGhlcmUgb24gYSBwbGF0Zm9ybSB3aXRob3V0IG5hdGl2ZSBwb2ludGVyIGV2ZW50cy5cbiAgICAgICAgaWYgKCF0aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF8gfHxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50Xy5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICAgKiBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBtb3ZpbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5pc01vdmluZ18gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5kcmFnZ2luZ18gfHxcbiAgICAgICAgICAgIE1hdGguYWJzKHBvaW50ZXJFdmVudC5jbGllbnRYIC0gdGhpcy5kb3duXy5jbGllbnRYKSA+XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyB8fFxuICAgICAgICAgICAgTWF0aC5hYnMocG9pbnRlckV2ZW50LmNsaWVudFkgLSB0aGlzLmRvd25fLmNsaWVudFkpID4gdGhpcy5tb3ZlVG9sZXJhbmNlXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfKTtcbiAgICAgICAgICAgIHRoaXMucmVsYXllZExpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5UT1VDSE1PVkUsIHRoaXMuYm91bmRIYW5kbGVUb3VjaE1vdmVfKTtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5lbGVtZW50XyA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwQnJvd3NlckV2ZW50SGFuZGxlcjtcbn0oRXZlbnRUYXJnZXQpKTtcbmV4cG9ydCBkZWZhdWx0IE1hcEJyb3dzZXJFdmVudEhhbmRsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBCcm93c2VyRXZlbnRIYW5kbGVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBQcm9wZXJ0eVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBMQVlFUkdST1VQOiAnbGF5ZXJncm91cCcsXG4gICAgU0laRTogJ3NpemUnLFxuICAgIFRBUkdFVDogJ3RhcmdldCcsXG4gICAgVklFVzogJ3ZpZXcnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcFByb3BlcnR5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL1ByaW9yaXR5UXVldWVcbiAqL1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBjbGVhciB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgRFJPUCA9IEluZmluaXR5O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcmlvcml0eSBxdWV1ZS5cbiAqXG4gKiBUaGUgaW1wbGVtZW50YXRpb24gaXMgaW5zcGlyZWQgZnJvbSB0aGUgQ2xvc3VyZSBMaWJyYXJ5J3MgSGVhcCBjbGFzcyBhbmRcbiAqIFB5dGhvbidzIGhlYXBxIG1vZHVsZS5cbiAqXG4gKiBTZWUgaHR0cDovL2Nsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9zdm4vZG9jcy9jbG9zdXJlX2dvb2dfc3RydWN0c19oZWFwLmpzLnNvdXJjZS5odG1sXG4gKiBhbmQgaHR0cDovL2hnLnB5dGhvbi5vcmcvY3B5dGhvbi9maWxlLzIuNy9MaWIvaGVhcHEucHkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqL1xudmFyIFByaW9yaXR5UXVldWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihUKTogbnVtYmVyfSBwcmlvcml0eUZ1bmN0aW9uIFByaW9yaXR5IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6IHN0cmluZ30ga2V5RnVuY3Rpb24gS2V5IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByaW9yaXR5UXVldWUocHJpb3JpdHlGdW5jdGlvbiwga2V5RnVuY3Rpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtmdW5jdGlvbihUKTogbnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0eUZ1bmN0aW9uXyA9IHByaW9yaXR5RnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oVCk6IHN0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMua2V5RnVuY3Rpb25fID0ga2V5RnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8VD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsZW1lbnRzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXRpZXNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZWRFbGVtZW50c18gPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucHJpb3JpdGllc18ubGVuZ3RoID0gMDtcbiAgICAgICAgY2xlYXIodGhpcy5xdWV1ZWRFbGVtZW50c18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuZCByZXR1cm4gdGhlIGhpZ2hlc3QtcHJpb3JpdHkgZWxlbWVudC4gTyhsb2cgTikuXG4gICAgICogQHJldHVybiB7VH0gRWxlbWVudC5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5kZXF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgICAgICAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzWzBdO1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBwcmlvcml0aWVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50c1swXSA9IGVsZW1lbnRzLnBvcCgpO1xuICAgICAgICAgICAgcHJpb3JpdGllc1swXSA9IHByaW9yaXRpZXMucG9wKCk7XG4gICAgICAgICAgICB0aGlzLnNpZnRVcF8oMCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnRLZXkgPSB0aGlzLmtleUZ1bmN0aW9uXyhlbGVtZW50KTtcbiAgICAgICAgZGVsZXRlIHRoaXMucXVldWVkRWxlbWVudHNfW2VsZW1lbnRLZXldO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVucXVldWUgYW4gZWxlbWVudC4gTyhsb2cgTikuXG4gICAgICogQHBhcmFtIHtUfSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5lbnF1ZXVlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgYXNzZXJ0KCEodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkgaW4gdGhpcy5xdWV1ZWRFbGVtZW50c18pLCAzMSk7IC8vIFRyaWVkIHRvIGVucXVldWUgYW4gYGVsZW1lbnRgIHRoYXQgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHF1ZXVlXG4gICAgICAgIHZhciBwcmlvcml0eSA9IHRoaXMucHJpb3JpdHlGdW5jdGlvbl8oZWxlbWVudCk7XG4gICAgICAgIGlmIChwcmlvcml0eSAhPSBEUk9QKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzXy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5wcmlvcml0aWVzXy5wdXNoKHByaW9yaXR5KTtcbiAgICAgICAgICAgIHRoaXMucXVldWVkRWxlbWVudHNfW3RoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpXSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNpZnREb3duXygwLCB0aGlzLmVsZW1lbnRzXy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgbGVmdCBjaGlsZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIGxlZnQgY2hpbGQgZm9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBsZWZ0IGNoaWxkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0TGVmdENoaWxkSW5kZXhfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRleCAqIDIgKyAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggb2YgdGhlIHJpZ2h0IGNoaWxkIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgcmlnaHQgY2hpbGQgZm9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldFJpZ2h0Q2hpbGRJbmRleF8gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4ICogMiArIDI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgcGFyZW50IG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgcGFyZW50IGZvci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgcGFyZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZ2V0UGFyZW50SW5kZXhfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiAoaW5kZXggLSAxKSA+PiAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSB0aGlzIGEgaGVhcC4gTyhOKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmhlYXBpZnlfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gKHRoaXMuZWxlbWVudHNfLmxlbmd0aCA+PiAxKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnNpZnRVcF8oaSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGggPT09IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBrZXkgcXVldWVkLlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzS2V5UXVldWVkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5IGluIHRoaXMucXVldWVkRWxlbWVudHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUfSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcXVldWVkLlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmlzUXVldWVkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNLZXlRdWV1ZWQodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBtb3ZlIGRvd24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5zaWZ0VXBfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgICAgICB2YXIgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gICAgICAgIHZhciBjb3VudCA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgIHZhciBwcmlvcml0eSA9IHByaW9yaXRpZXNbaW5kZXhdO1xuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBjb3VudCA+PiAxKSB7XG4gICAgICAgICAgICB2YXIgbEluZGV4ID0gdGhpcy5nZXRMZWZ0Q2hpbGRJbmRleF8oaW5kZXgpO1xuICAgICAgICAgICAgdmFyIHJJbmRleCA9IHRoaXMuZ2V0UmlnaHRDaGlsZEluZGV4XyhpbmRleCk7XG4gICAgICAgICAgICB2YXIgc21hbGxlckNoaWxkSW5kZXggPSBySW5kZXggPCBjb3VudCAmJiBwcmlvcml0aWVzW3JJbmRleF0gPCBwcmlvcml0aWVzW2xJbmRleF1cbiAgICAgICAgICAgICAgICA/IHJJbmRleFxuICAgICAgICAgICAgICAgIDogbEluZGV4O1xuICAgICAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbc21hbGxlckNoaWxkSW5kZXhdO1xuICAgICAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0aWVzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICAgICAgICAgIGluZGV4ID0gc21hbGxlckNoaWxkSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudDtcbiAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICAgICAgdGhpcy5zaWZ0RG93bl8oc3RhcnRJbmRleCwgaW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggVGhlIGluZGV4IG9mIHRoZSByb290LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gbW92ZSB1cC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLnNpZnREb3duXyA9IGZ1bmN0aW9uIChzdGFydEluZGV4LCBpbmRleCkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgICAgICAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgdmFyIHByaW9yaXR5ID0gcHJpb3JpdGllc1tpbmRleF07XG4gICAgICAgIHdoaWxlIChpbmRleCA+IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRJbmRleCA9IHRoaXMuZ2V0UGFyZW50SW5kZXhfKGluZGV4KTtcbiAgICAgICAgICAgIGlmIChwcmlvcml0aWVzW3BhcmVudEluZGV4XSA+IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbcGFyZW50SW5kZXhdO1xuICAgICAgICAgICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdGllc1twYXJlbnRJbmRleF07XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYXJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5yZXByaW9yaXRpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmlvcml0eUZ1bmN0aW9uID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXztcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgICAgIHZhciBwcmlvcml0aWVzID0gdGhpcy5wcmlvcml0aWVzXztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG4gPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBlbGVtZW50LCBpLCBwcmlvcml0eTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgcHJpb3JpdHkgPSBwcmlvcml0eUZ1bmN0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHByaW9yaXR5ID09IERST1ApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5xdWV1ZWRFbGVtZW50c19bdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1tpbmRleCsrXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIHByaW9yaXRpZXMubGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIHRoaXMuaGVhcGlmeV8oKTtcbiAgICB9O1xuICAgIHJldHVybiBQcmlvcml0eVF1ZXVlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFByaW9yaXR5UXVldWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcmlvcml0eVF1ZXVlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvVGlsZVF1ZXVlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBQcmlvcml0eVF1ZXVlLCB7IERST1AgfSBmcm9tICcuL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0LCBzdHJpbmcsIGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlLCBudW1iZXIpOiBudW1iZXJ9IFByaW9yaXR5RnVuY3Rpb25cbiAqL1xudmFyIFRpbGVRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZVF1ZXVlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UHJpb3JpdHlGdW5jdGlvbn0gdGlsZVByaW9yaXR5RnVuY3Rpb24gVGlsZSBwcmlvcml0eSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6ID99IHRpbGVDaGFuZ2VDYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgb24gZWFjaCB0aWxlIGNoYW5nZSBldmVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlUXVldWUodGlsZVByaW9yaXR5RnVuY3Rpb24sIHRpbGVDaGFuZ2VDYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfSBQcmlvcml0eS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGlsZVByaW9yaXR5RnVuY3Rpb24uYXBwbHkobnVsbCwgZWxlbWVudCk7XG4gICAgICAgIH0sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudCBFbGVtZW50LlxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGVsZW1lbnRbMF0pLmdldEtleSgpO1xuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKiogQHByaXZhdGUgKi9cbiAgICAgICAgX3RoaXMuYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyA9IF90aGlzLmhhbmRsZVRpbGVDaGFuZ2UuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKTogP31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVDaGFuZ2VDYWxsYmFja18gPSB0aWxlQ2hhbmdlQ2FsbGJhY2s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZXNMb2FkaW5nXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsYm9vbGVhbj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlc0xvYWRpbmdLZXlzXyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgZWxlbWVudCB3YXMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgICAqL1xuICAgIFRpbGVRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBhZGRlZCA9IF9zdXBlci5wcm90b3R5cGUuZW5xdWV1ZS5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgICAgICBpZiAoYWRkZWQpIHtcbiAgICAgICAgICAgIHZhciB0aWxlID0gZWxlbWVudFswXTtcbiAgICAgICAgICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZGRlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHRpbGVzIGxvYWRpbmcuXG4gICAgICovXG4gICAgVGlsZVF1ZXVlLnByb3RvdHlwZS5nZXRUaWxlc0xvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVzTG9hZGluZ187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlUXVldWUucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoKHRpbGUuaGlmaSAmJiBzdGF0ZSA9PT0gVGlsZVN0YXRlLkxPQURFRCkgfHxcbiAgICAgICAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IgfHxcbiAgICAgICAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRU1QVFkpIHtcbiAgICAgICAgICAgIHRpbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgICAgICAgICAgdmFyIHRpbGVLZXkgPSB0aWxlLmdldEtleSgpO1xuICAgICAgICAgICAgaWYgKHRpbGVLZXkgaW4gdGhpcy50aWxlc0xvYWRpbmdLZXlzXykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVzTG9hZGluZ0tleXNfW3RpbGVLZXldO1xuICAgICAgICAgICAgICAgIC0tdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50aWxlQ2hhbmdlQ2FsbGJhY2tfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb3RhbExvYWRpbmcgTWF4aW11bSBudW1iZXIgdGlsZXMgdG8gbG9hZCBzaW11bHRhbmVvdXNseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TmV3TG9hZHMgTWF4aW11bSBudW1iZXIgb2YgbmV3IHRpbGVzIHRvIGxvYWQuXG4gICAgICovXG4gICAgVGlsZVF1ZXVlLnByb3RvdHlwZS5sb2FkTW9yZVRpbGVzID0gZnVuY3Rpb24gKG1heFRvdGFsTG9hZGluZywgbWF4TmV3TG9hZHMpIHtcbiAgICAgICAgdmFyIG5ld0xvYWRzID0gMDtcbiAgICAgICAgdmFyIHN0YXRlLCB0aWxlLCB0aWxlS2V5O1xuICAgICAgICB3aGlsZSAodGhpcy50aWxlc0xvYWRpbmdfIDwgbWF4VG90YWxMb2FkaW5nICYmXG4gICAgICAgICAgICBuZXdMb2FkcyA8IG1heE5ld0xvYWRzICYmXG4gICAgICAgICAgICB0aGlzLmdldENvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZGVxdWV1ZSgpWzBdKTtcbiAgICAgICAgICAgIHRpbGVLZXkgPSB0aWxlLmdldEtleSgpO1xuICAgICAgICAgICAgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5JRExFICYmICEodGlsZUtleSBpbiB0aGlzLnRpbGVzTG9hZGluZ0tleXNfKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZXNMb2FkaW5nS2V5c19bdGlsZUtleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICsrdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICAgICAgICAgICsrbmV3TG9hZHM7XG4gICAgICAgICAgICAgICAgdGlsZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWxlUXVldWU7XG59KFByaW9yaXR5UXVldWUpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVRdWV1ZTtcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vUGx1Z2dhYmxlTWFwLmpzJykuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0aWxlU291cmNlS2V5IFRpbGUgc291cmNlIGtleS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRpbGVDZW50ZXIgVGlsZSBjZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGlsZVJlc29sdXRpb24gVGlsZSByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHByaW9yaXR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGlsZVByaW9yaXR5KGZyYW1lU3RhdGUsIHRpbGUsIHRpbGVTb3VyY2VLZXksIHRpbGVDZW50ZXIsIHRpbGVSZXNvbHV0aW9uKSB7XG4gICAgLy8gRmlsdGVyIG91dCB0aWxlcyBhdCBoaWdoZXIgem9vbSBsZXZlbHMgdGhhbiB0aGUgY3VycmVudCB6b29tIGxldmVsLCBvciB0aGF0XG4gICAgLy8gYXJlIG91dHNpZGUgdGhlIHZpc2libGUgZXh0ZW50LlxuICAgIGlmICghZnJhbWVTdGF0ZSB8fCAhKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgICAgcmV0dXJuIERST1A7XG4gICAgfVxuICAgIGlmICghZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XVt0aWxlLmdldEtleSgpXSkge1xuICAgICAgICByZXR1cm4gRFJPUDtcbiAgICB9XG4gICAgLy8gUHJpb3JpdGl6ZSB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHRpbGVzIGNsb3Nlc3QgdG8gdGhlIGZvY3VzLlxuICAgIC8vIFRpbGVzIGF0IGhpZ2hlciB6b29tIGxldmVscyBhcmUgcHJpb3JpdGl6ZWQgdXNpbmcgTWF0aC5sb2codGlsZVJlc29sdXRpb24pLlxuICAgIC8vIFdpdGhpbiBhIHpvb20gbGV2ZWwsIHRpbGVzIGFyZSBwcmlvcml0aXplZCBieSB0aGUgZGlzdGFuY2UgaW4gcGl4ZWxzIGJldHdlZW5cbiAgICAvLyB0aGUgY2VudGVyIG9mIHRoZSB0aWxlIGFuZCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydC4gIFRoZSBmYWN0b3Igb2YgNjU1MzZcbiAgICAvLyBtZWFucyB0aGF0IHRoZSBwcmlvcml0aXphdGlvbiBzaG91bGQgYmVoYXZlIGFzIGRlc2lyZWQgZm9yIHRpbGVzIHVwIHRvXG4gICAgLy8gNjU1MzYgKiBNYXRoLmxvZygyKSA9IDQ1NDI2IHBpeGVscyBmcm9tIHRoZSBmb2N1cy5cbiAgICB2YXIgY2VudGVyID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUuY2VudGVyO1xuICAgIHZhciBkZWx0YVggPSB0aWxlQ2VudGVyWzBdIC0gY2VudGVyWzBdO1xuICAgIHZhciBkZWx0YVkgPSB0aWxlQ2VudGVyWzFdIC0gY2VudGVyWzFdO1xuICAgIHJldHVybiAoNjU1MzYgKiBNYXRoLmxvZyh0aWxlUmVzb2x1dGlvbikgK1xuICAgICAgICBNYXRoLnNxcnQoZGVsdGFYICogZGVsdGFYICsgZGVsdGFZICogZGVsdGFZKSAvIHRpbGVSZXNvbHV0aW9uKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVRdWV1ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVN0YXRlXG4gKi9cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIElETEU6IDAsXG4gICAgTE9BRElORzogMSxcbiAgICBMT0FERUQ6IDIsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGlsZSBsb2FkaW5nIGZhaWxlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgRVJST1I6IDMsXG4gICAgRU1QVFk6IDQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZVN0YXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9WaWV3SGludFxuICovXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBBTklNQVRJTkc6IDAsXG4gICAgSU5URVJBQ1RJTkc6IDEsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld0hpbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1ZpZXdQcm9wZXJ0eVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBDRU5URVI6ICdjZW50ZXInLFxuICAgIFJFU09MVVRJT046ICdyZXNvbHV0aW9uJyxcbiAgICBST1RBVElPTjogJ3JvdGF0aW9uJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3UHJvcGVydHkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVncmlkL2NvbW1vblxuICovXG4vKipcbiAqIERlZmF1bHQgbWF4aW11bSB6b29tIGZvciBkZWZhdWx0IHRpbGUgZ3JpZHMuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERFRkFVTFRfTUFYX1pPT00gPSA0Mjtcbi8qKlxuICogRGVmYXVsdCB0aWxlIHNpemUuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERFRkFVTFRfVElMRV9TSVpFID0gMjU2O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jZW50ZXJjb25zdHJhaW50XG4gKi9cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9tYXRoLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWQpLCBudW1iZXIsIGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplLCBib29sZWFuPSwgQXJyYXk8bnVtYmVyPj0pOiAoaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkKX0gVHlwZVxuICovXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtib29sZWFufSBvbmx5Q2VudGVyIElmIHRydWUsIHRoZSBjb25zdHJhaW50IHdpbGwgb25seSBhcHBseSB0byB0aGUgdmlldyBjZW50ZXIuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNtb290aCBJZiB0cnVlLCB0aGUgdmlldyB3aWxsIGJlIGFibGUgdG8gZ28gc2xpZ2h0bHkgb3V0IG9mIHRoZSBnaXZlbiBleHRlbnRcbiAqIChvbmx5IGR1cmluZyBpbnRlcmFjdGlvbiBhbmQgYW5pbWF0aW9uKS5cbiAqIEByZXR1cm4ge1R5cGV9IFRoZSBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXh0ZW50KGV4dGVudCwgb25seUNlbnRlciwgc21vb3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gY2VudGVyIENlbnRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZTsgdW51c2VkIGlmIGBvbmx5Q2VudGVyYCB3YXMgc3BlY2lmaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc01vdmluZyBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfY2VudGVyU2hpZnQgU2hpZnQgYmV0d2VlbiBtYXAgY2VudGVyIGFuZCB2aWV3cG9ydCBjZW50ZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGNlbnRlciwgcmVzb2x1dGlvbiwgc2l6ZSwgb3B0X2lzTW92aW5nLCBvcHRfY2VudGVyU2hpZnQpIHtcbiAgICAgICAgaWYgKGNlbnRlcikge1xuICAgICAgICAgICAgdmFyIHZpZXdXaWR0aCA9IG9ubHlDZW50ZXIgPyAwIDogc2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdmlld0hlaWdodCA9IG9ubHlDZW50ZXIgPyAwIDogc2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgc2hpZnRYID0gb3B0X2NlbnRlclNoaWZ0ID8gb3B0X2NlbnRlclNoaWZ0WzBdIDogMDtcbiAgICAgICAgICAgIHZhciBzaGlmdFkgPSBvcHRfY2VudGVyU2hpZnQgPyBvcHRfY2VudGVyU2hpZnRbMV0gOiAwO1xuICAgICAgICAgICAgdmFyIG1pblggPSBleHRlbnRbMF0gKyB2aWV3V2lkdGggLyAyICsgc2hpZnRYO1xuICAgICAgICAgICAgdmFyIG1heFggPSBleHRlbnRbMl0gLSB2aWV3V2lkdGggLyAyICsgc2hpZnRYO1xuICAgICAgICAgICAgdmFyIG1pblkgPSBleHRlbnRbMV0gKyB2aWV3SGVpZ2h0IC8gMiArIHNoaWZ0WTtcbiAgICAgICAgICAgIHZhciBtYXhZID0gZXh0ZW50WzNdIC0gdmlld0hlaWdodCAvIDIgKyBzaGlmdFk7XG4gICAgICAgICAgICAvLyBub3RlOiB3aGVuIHpvb21pbmcgb3V0IG9mIGJvdW5kcywgbWluIGFuZCBtYXggdmFsdWVzIGZvciB4IGFuZCB5IG1heVxuICAgICAgICAgICAgLy8gZW5kIHVwIGludmVydGVkIChtaW4gPiBtYXgpOyB0aGlzIGhhcyB0byBiZSBhY2NvdW50ZWQgZm9yXG4gICAgICAgICAgICBpZiAobWluWCA+IG1heFgpIHtcbiAgICAgICAgICAgICAgICBtaW5YID0gKG1heFggKyBtaW5YKSAvIDI7XG4gICAgICAgICAgICAgICAgbWF4WCA9IG1pblg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWluWSA+IG1heFkpIHtcbiAgICAgICAgICAgICAgICBtaW5ZID0gKG1heFkgKyBtaW5ZKSAvIDI7XG4gICAgICAgICAgICAgICAgbWF4WSA9IG1pblk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgeCA9IGNsYW1wKGNlbnRlclswXSwgbWluWCwgbWF4WCk7XG4gICAgICAgICAgICB2YXIgeSA9IGNsYW1wKGNlbnRlclsxXSwgbWluWSwgbWF4WSk7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSAzMCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICAvLyBkdXJpbmcgYW4gaW50ZXJhY3Rpb24sIGFsbG93IHNvbWUgb3ZlcnNjcm9sbFxuICAgICAgICAgICAgaWYgKG9wdF9pc01vdmluZyAmJiBzbW9vdGgpIHtcbiAgICAgICAgICAgICAgICB4ICs9XG4gICAgICAgICAgICAgICAgICAgIC1yYXRpbyAqIE1hdGgubG9nKDEgKyBNYXRoLm1heCgwLCBtaW5YIC0gY2VudGVyWzBdKSAvIHJhdGlvKSArXG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbyAqIE1hdGgubG9nKDEgKyBNYXRoLm1heCgwLCBjZW50ZXJbMF0gLSBtYXhYKSAvIHJhdGlvKTtcbiAgICAgICAgICAgICAgICB5ICs9XG4gICAgICAgICAgICAgICAgICAgIC1yYXRpbyAqIE1hdGgubG9nKDEgKyBNYXRoLm1heCgwLCBtaW5ZIC0gY2VudGVyWzFdKSAvIHJhdGlvKSArXG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbyAqIE1hdGgubG9nKDEgKyBNYXRoLm1heCgwLCBjZW50ZXJbMV0gLSBtYXhZKSAvIHJhdGlvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbeCwgeV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBjZW50ZXIgQ2VudGVyLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub25lKGNlbnRlcikge1xuICAgIHJldHVybiBjZW50ZXI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jZW50ZXJjb25zdHJhaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXNvbHV0aW9uY29uc3RyYWludFxuICovXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBnZXRIZWlnaHQsIGdldFdpZHRoIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgbGluZWFyRmluZE5lYXJlc3QgfSBmcm9tICcuL2FycmF5LmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChudW1iZXJ8dW5kZWZpbmVkKSwgbnVtYmVyLCBpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZSwgYm9vbGVhbj0pOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgcmVzb2x1dGlvbiB0YWtpbmcgaW50byBhY2NvdW50IHRoZSB2aWV3cG9ydCBzaXplIGFuZCBtYXhpbXVtXG4gKiBhbGxvd2VkIGV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb25cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBhbGxvd2VkIGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHZpZXdwb3J0U2l6ZSBWaWV3cG9ydCBzaXplLlxuICogQHBhcmFtIHtib29sZWFufSBzaG93RnVsbEV4dGVudCBXaGV0aGVyIHRvIHNob3cgdGhlIGZ1bGwgZXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBDYXBwZWQgcmVzb2x1dGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBtYXhFeHRlbnQsIHZpZXdwb3J0U2l6ZSwgc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICB2YXIgeFJlc29sdXRpb24gPSBnZXRXaWR0aChtYXhFeHRlbnQpIC8gdmlld3BvcnRTaXplWzBdO1xuICAgIHZhciB5UmVzb2x1dGlvbiA9IGdldEhlaWdodChtYXhFeHRlbnQpIC8gdmlld3BvcnRTaXplWzFdO1xuICAgIGlmIChzaG93RnVsbEV4dGVudCkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4ocmVzb2x1dGlvbiwgTWF0aC5tYXgoeFJlc29sdXRpb24sIHlSZXNvbHV0aW9uKSk7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1pbihyZXNvbHV0aW9uLCBNYXRoLm1pbih4UmVzb2x1dGlvbiwgeVJlc29sdXRpb24pKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIG1vZGlmaWVkIHJlc29sdXRpb24gdG8gYmUgYmV0d2VlbiBtYXhSZXNvbHV0aW9uIGFuZCBtaW5SZXNvbHV0aW9uIHdoaWxlXG4gKiBzdGlsbCBhbGxvd2luZyB0aGUgdmFsdWUgdG8gYmUgc2xpZ2h0bHkgb3V0IG9mIGJvdW5kcy5cbiAqIE5vdGU6IHRoZSBjb21wdXRhdGlvbiBpcyBiYXNlZCBvbiB0aGUgbG9nYXJpdGhtIGZ1bmN0aW9uIChsbik6XG4gKiAgLSBhdCAxLCBsbih4KSBpcyAwXG4gKiAgLSBhYm92ZSAxLCBsbih4KSBrZWVwcyBpbmNyZWFzaW5nIGJ1dCBhdCBhIG11Y2ggc2xvd2VyIHBhY2UgdGhhbiB4XG4gKiBUaGUgZmluYWwgcmVzdWx0IGlzIGNsYW1wZWQgdG8gcHJldmVudCBnZXR0aW5nIHRvbyBmYXIgYXdheSBmcm9tIGJvdW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBNYXggcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5SZXNvbHV0aW9uIE1pbiByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBTbW9vdGhlZCByZXNvbHV0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRTbW9vdGhDbGFtcGVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uKSB7XG4gICAgdmFyIHJlc3VsdCA9IE1hdGgubWluKHJlc29sdXRpb24sIG1heFJlc29sdXRpb24pO1xuICAgIHZhciByYXRpbyA9IDUwO1xuICAgIHJlc3VsdCAqPVxuICAgICAgICBNYXRoLmxvZygxICsgcmF0aW8gKiBNYXRoLm1heCgwLCByZXNvbHV0aW9uIC8gbWF4UmVzb2x1dGlvbiAtIDEpKSAvIHJhdGlvICtcbiAgICAgICAgICAgIDE7XG4gICAgaWYgKG1pblJlc29sdXRpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gTWF0aC5tYXgocmVzdWx0LCBtaW5SZXNvbHV0aW9uKTtcbiAgICAgICAgcmVzdWx0IC89XG4gICAgICAgICAgICBNYXRoLmxvZygxICsgcmF0aW8gKiBNYXRoLm1heCgwLCBtaW5SZXNvbHV0aW9uIC8gcmVzb2x1dGlvbiAtIDEpKSAvXG4gICAgICAgICAgICAgICAgcmF0aW8gK1xuICAgICAgICAgICAgICAgIDE7XG4gICAgfVxuICAgIHJldHVybiBjbGFtcChyZXN1bHQsIG1pblJlc29sdXRpb24gLyAyLCBtYXhSZXNvbHV0aW9uICogMik7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcmVzb2x1dGlvbnMgUmVzb2x1dGlvbnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc21vb3RoIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9tYXhFeHRlbnQgTWF4aW11bSBhbGxvd2VkIGV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9zaG93RnVsbEV4dGVudCBJZiB0cnVlLCBhbGxvd3MgdXMgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuIERlZmF1bHQ6IGZhbHNlLlxuICogQHJldHVybiB7VHlwZX0gWm9vbSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb1Jlc29sdXRpb25zKHJlc29sdXRpb25zLCBvcHRfc21vb3RoLCBvcHRfbWF4RXh0ZW50LCBvcHRfc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaXNNb3ZpbmcgVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIG1heFJlc29sdXRpb24gPSByZXNvbHV0aW9uc1swXTtcbiAgICAgICAgICAgIHZhciBtaW5SZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbcmVzb2x1dGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgY2FwcGVkTWF4UmVzID0gb3B0X21heEV4dGVudFxuICAgICAgICAgICAgICAgID8gZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBvcHRfbWF4RXh0ZW50LCBzaXplLCBvcHRfc2hvd0Z1bGxFeHRlbnQpXG4gICAgICAgICAgICAgICAgOiBtYXhSZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gZHVyaW5nIGludGVyYWN0aW5nIG9yIGFuaW1hdGluZywgYWxsb3cgaW50ZXJtZWRpYXJ5IHZhbHVlc1xuICAgICAgICAgICAgaWYgKG9wdF9pc01vdmluZykge1xuICAgICAgICAgICAgICAgIHZhciBzbW9vdGggPSBvcHRfc21vb3RoICE9PSB1bmRlZmluZWQgPyBvcHRfc21vb3RoIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXNtb290aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xhbXAocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIGNhcHBlZE1heFJlcywgbWluUmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2FwcGVkID0gTWF0aC5taW4oY2FwcGVkTWF4UmVzLCByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHZhciB6ID0gTWF0aC5mbG9vcihsaW5lYXJGaW5kTmVhcmVzdChyZXNvbHV0aW9ucywgY2FwcGVkLCBkaXJlY3Rpb24pKTtcbiAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uc1t6XSA+IGNhcHBlZE1heFJlcyAmJiB6IDwgcmVzb2x1dGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uc1t6ICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNbel07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3dlciBQb3dlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heGltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X21pblJlc29sdXRpb24gTWluaW11bSByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3Ntb290aCBJZiB0cnVlLCB0aGUgdmlldyB3aWxsIGJlIGFibGUgdG8gc2xpZ2h0bHkgZXhjZWVkIHJlc29sdXRpb24gbGltaXRzLiBEZWZhdWx0OiB0cnVlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfbWF4RXh0ZW50IE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2hvd0Z1bGxFeHRlbnQgSWYgdHJ1ZSwgYWxsb3dzIHVzIHRvIHNob3cgdGhlIGZ1bGwgZXh0ZW50LiBEZWZhdWx0OiBmYWxzZS5cbiAqIEByZXR1cm4ge1R5cGV9IFpvb20gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbmFwVG9Qb3dlcihwb3dlciwgbWF4UmVzb2x1dGlvbiwgb3B0X21pblJlc29sdXRpb24sIG9wdF9zbW9vdGgsIG9wdF9tYXhFeHRlbnQsIG9wdF9zaG93RnVsbEV4dGVudCkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBEaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc01vdmluZyBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZXNvbHV0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUsIG9wdF9pc01vdmluZykge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgY2FwcGVkTWF4UmVzID0gb3B0X21heEV4dGVudFxuICAgICAgICAgICAgICAgID8gZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBvcHRfbWF4RXh0ZW50LCBzaXplLCBvcHRfc2hvd0Z1bGxFeHRlbnQpXG4gICAgICAgICAgICAgICAgOiBtYXhSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIG1pblJlc29sdXRpb24gPSBvcHRfbWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X21pblJlc29sdXRpb24gOiAwO1xuICAgICAgICAgICAgLy8gZHVyaW5nIGludGVyYWN0aW5nIG9yIGFuaW1hdGluZywgYWxsb3cgaW50ZXJtZWRpYXJ5IHZhbHVlc1xuICAgICAgICAgICAgaWYgKG9wdF9pc01vdmluZykge1xuICAgICAgICAgICAgICAgIHZhciBzbW9vdGggPSBvcHRfc21vb3RoICE9PSB1bmRlZmluZWQgPyBvcHRfc21vb3RoIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXNtb290aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xhbXAocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIGNhcHBlZE1heFJlcywgbWluUmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdG9sZXJhbmNlID0gMWUtOTtcbiAgICAgICAgICAgIHZhciBtaW5ab29tTGV2ZWwgPSBNYXRoLmNlaWwoTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIGNhcHBlZE1heFJlcykgLyBNYXRoLmxvZyhwb3dlcikgLSB0b2xlcmFuY2UpO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IC1kaXJlY3Rpb24gKiAoMC41IC0gdG9sZXJhbmNlKSArIDAuNTtcbiAgICAgICAgICAgIHZhciBjYXBwZWQgPSBNYXRoLm1pbihjYXBwZWRNYXhSZXMsIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgdmFyIGNhcHBlZFpvb21MZXZlbCA9IE1hdGguZmxvb3IoTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIGNhcHBlZCkgLyBNYXRoLmxvZyhwb3dlcikgKyBvZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHpvb21MZXZlbCA9IE1hdGgubWF4KG1pblpvb21MZXZlbCwgY2FwcGVkWm9vbUxldmVsKTtcbiAgICAgICAgICAgIHZhciBuZXdSZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHBvd2VyLCB6b29tTGV2ZWwpO1xuICAgICAgICAgICAgcmV0dXJuIGNsYW1wKG5ld1Jlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gTWluIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc21vb3RoIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9tYXhFeHRlbnQgTWF4aW11bSBhbGxvd2VkIGV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9zaG93RnVsbEV4dGVudCBJZiB0cnVlLCBhbGxvd3MgdXMgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuIERlZmF1bHQ6IGZhbHNlLlxuICogQHJldHVybiB7VHlwZX0gWm9vbSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1pbk1heFJlc29sdXRpb24obWF4UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgb3B0X3Ntb290aCwgb3B0X21heEV4dGVudCwgb3B0X3Nob3dGdWxsRXh0ZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIERpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFZpZXdwb3J0IHNpemUuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2lzTW92aW5nIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlc29sdXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJlc29sdXRpb24sIGRpcmVjdGlvbiwgc2l6ZSwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBjYXBwZWRNYXhSZXMgPSBvcHRfbWF4RXh0ZW50XG4gICAgICAgICAgICAgICAgPyBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKG1heFJlc29sdXRpb24sIG9wdF9tYXhFeHRlbnQsIHNpemUsIG9wdF9zaG93RnVsbEV4dGVudClcbiAgICAgICAgICAgICAgICA6IG1heFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgc21vb3RoID0gb3B0X3Ntb290aCAhPT0gdW5kZWZpbmVkID8gb3B0X3Ntb290aCA6IHRydWU7XG4gICAgICAgICAgICBpZiAoIXNtb290aCB8fCAhb3B0X2lzTW92aW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzLCBtaW5SZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdXRpb25jb25zdHJhaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yb3RhdGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHsgdG9SYWRpYW5zIH0gZnJvbSAnLi9tYXRoLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChudW1iZXJ8dW5kZWZpbmVkKSwgYm9vbGVhbj0pOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlKHJvdGF0aW9uKSB7XG4gICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZShyb3RhdGlvbikge1xuICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbiBOLlxuICogQHJldHVybiB7VHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb04obikge1xuICAgIHZhciB0aGV0YSA9ICgyICogTWF0aC5QSSkgLyBuO1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaXNNb3ZpbmcgVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJvdGF0aW9uLCBvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgaWYgKG9wdF9pc01vdmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByb3RhdGlvbiA9IE1hdGguZmxvb3Iocm90YXRpb24gLyB0aGV0YSArIDAuNSkgKiB0aGV0YTtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEByZXR1cm4ge1R5cGV9IFJvdGF0aW9uIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbmFwVG9aZXJvKG9wdF90b2xlcmFuY2UpIHtcbiAgICB2YXIgdG9sZXJhbmNlID0gb3B0X3RvbGVyYW5jZSB8fCB0b1JhZGlhbnMoNSk7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc01vdmluZyBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocm90YXRpb24sIG9wdF9pc01vdmluZykge1xuICAgICAgICBpZiAob3B0X2lzTW92aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGlvbikgPD0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3RhdGlvbmNvbnN0cmFpbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jbG9zZXN0XG4gKi9cbmltcG9ydCB7IGxlcnAsIHNxdWFyZWREaXN0YW5jZSBhcyBzcXVhcmVkRHggfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcbi8qKlxuICogUmV0dXJucyB0aGUgcG9pbnQgb24gdGhlIDJEIGxpbmUgc2VnbWVudCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV0gdG9cbiAqIGZsYXRDb29yZGluYXRlc1tvZmZzZXQyXSB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIHBvaW50ICh4LCB5KS4gIEV4dHJhXG4gKiBkaW1lbnNpb25zIGFyZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldDEgT2Zmc2V0IDEuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0MiBPZmZzZXQgMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICovXG5mdW5jdGlvbiBhc3NpZ25DbG9zZXN0KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0MSwgb2Zmc2V0Miwgc3RyaWRlLCB4LCB5LCBjbG9zZXN0UG9pbnQpIHtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyAxXTtcbiAgICB2YXIgZHggPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0Ml0gLSB4MTtcbiAgICB2YXIgZHkgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MiArIDFdIC0geTE7XG4gICAgdmFyIG9mZnNldDtcbiAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGxlcnAoZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyBpXSwgZmxhdENvb3JkaW5hdGVzW29mZnNldDIgKyBpXSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpXTtcbiAgICB9XG4gICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBzcXVhcmVkIG9mIHRoZSBsYXJnZXN0IGRpc3RhbmNlIGJldHdlZW4gYW55IHBhaXIgb2YgY29uc2VjdXRpdmVcbiAqIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4KSB7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGZvciAob2Zmc2V0ICs9IHN0cmlkZTsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIHZhciBzcXVhcmVkRGVsdGEgPSBzcXVhcmVkRHgoeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgICBpZiAoc3F1YXJlZERlbHRhID4gbWF4KSB7XG4gICAgICAgICAgICBtYXggPSBzcXVhcmVkRGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICB9XG4gICAgcmV0dXJuIG1heDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICBtYXggPSBtYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXgpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBtYXg7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpQXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG1heCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgbWF4ID0gYXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gbWF4O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF90bXBQb2ludCBUZW1wb3JhcnkgcG9pbnQgb2JqZWN0LlxuICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DbG9zZXN0UG9pbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgb3B0X3RtcFBvaW50KSB7XG4gICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICB9XG4gICAgdmFyIGksIHNxdWFyZWREaXN0YW5jZTtcbiAgICBpZiAobWF4RGVsdGEgPT09IDApIHtcbiAgICAgICAgLy8gQWxsIHBvaW50cyBhcmUgaWRlbnRpY2FsLCBzbyBqdXN0IHRlc3QgdGhlIGZpcnN0IHBvaW50LlxuICAgICAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSk7XG4gICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICAgICAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgdG1wUG9pbnQgPSBvcHRfdG1wUG9pbnQgPyBvcHRfdG1wUG9pbnQgOiBbTmFOLCBOYU5dO1xuICAgIHZhciBpbmRleCA9IG9mZnNldCArIHN0cmlkZTtcbiAgICB3aGlsZSAoaW5kZXggPCBlbmQpIHtcbiAgICAgICAgYXNzaWduQ2xvc2VzdChmbGF0Q29vcmRpbmF0ZXMsIGluZGV4IC0gc3RyaWRlLCBpbmRleCwgc3RyaWRlLCB4LCB5LCB0bXBQb2ludCk7XG4gICAgICAgIHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREeCh4LCB5LCB0bXBQb2ludFswXSwgdG1wUG9pbnRbMV0pO1xuICAgICAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSB0bXBQb2ludFtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICAgICAgICBpbmRleCArPSBzdHJpZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBTa2lwIGFoZWFkIG11bHRpcGxlIHBvaW50cywgYmVjYXVzZSB3ZSBrbm93IHRoYXQgYWxsIHRoZSBza2lwcGVkXG4gICAgICAgICAgICAvLyBwb2ludHMgY2Fubm90IGJlIGFueSBjbG9zZXIgdGhhbiB0aGUgY2xvc2VzdCBwb2ludCB3ZSBoYXZlIGZvdW5kIHNvXG4gICAgICAgICAgICAvLyBmYXIuICBXZSBrbm93IHRoaXMgYmVjYXVzZSB3ZSBrbm93IGhvdyBjbG9zZSB0aGUgY3VycmVudCBwb2ludCBpcywgaG93XG4gICAgICAgICAgICAvLyBjbG9zZSB0aGUgY2xvc2VzdCBwb2ludCB3ZSBoYXZlIGZvdW5kIHNvIGZhciBpcywgYW5kIHRoZSBtYXhpbXVtXG4gICAgICAgICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNvbnNlY3V0aXZlIHBvaW50cy4gIEZvciBleGFtcGxlLCBpZiB3ZSdyZSBjdXJyZW50bHlcbiAgICAgICAgICAgIC8vIGF0IGRpc3RhbmNlIDEwLCB0aGUgYmVzdCB3ZSd2ZSBmb3VuZCBzbyBmYXIgaXMgMywgYW5kIHRoYXQgdGhlIG1heGltdW1cbiAgICAgICAgICAgIC8vIGRpc3RhbmNlIGJldHdlZW4gY29uc2VjdXRpdmUgcG9pbnRzIGlzIDIsIHRoZW4gd2UnbGwgbmVlZCB0byBza2lwIGF0XG4gICAgICAgICAgICAvLyBsZWFzdCAoMTAgLSAzKSAvIDIgPT0gMyAocm91bmRlZCBkb3duKSBwb2ludHMgdG8gaGF2ZSBhbnkgY2hhbmNlIG9mXG4gICAgICAgICAgICAvLyBmaW5kaW5nIGEgY2xvc2VyIHBvaW50LiAgV2UgdXNlIE1hdGgubWF4KC4uLiwgMSkgdG8gZW5zdXJlIHRoYXQgd2VcbiAgICAgICAgICAgIC8vIGFsd2F5cyBhZHZhbmNlIGF0IGxlYXN0IG9uZSBwb2ludCwgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcC5cbiAgICAgICAgICAgIGluZGV4ICs9XG4gICAgICAgICAgICAgICAgc3RyaWRlICpcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoKChNYXRoLnNxcnQoc3F1YXJlZERpc3RhbmNlKSAtIE1hdGguc3FydChtaW5TcXVhcmVkRGlzdGFuY2UpKSAvXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhEZWx0YSkgfFxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzUmluZykge1xuICAgICAgICAvLyBDaGVjayB0aGUgY2xvc2luZyBzZWdtZW50LlxuICAgICAgICBhc3NpZ25DbG9zZXN0KGZsYXRDb29yZGluYXRlcywgZW5kIC0gc3RyaWRlLCBvZmZzZXQsIHN0cmlkZSwgeCwgeSwgdG1wUG9pbnQpO1xuICAgICAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgdG1wUG9pbnRbMF0sIHRtcFBvaW50WzFdKTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gdG1wUG9pbnRbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X3RtcFBvaW50IFRlbXBvcmFyeSBwb2ludCBvYmplY3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG1heERlbHRhLCBpc1JpbmcsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlLCBvcHRfdG1wUG9pbnQpIHtcbiAgICB2YXIgdG1wUG9pbnQgPSBvcHRfdG1wUG9pbnQgPyBvcHRfdG1wUG9pbnQgOiBbTmFOLCBOYU5dO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gYXNzaWduQ2xvc2VzdFBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIHRtcFBvaW50KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF90bXBQb2ludCBUZW1wb3JhcnkgcG9pbnQgb2JqZWN0LlxuICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DbG9zZXN0TXVsdGlBcnJheVBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgb3B0X3RtcFBvaW50KSB7XG4gICAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG1heERlbHRhLCBpc1JpbmcsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlLCB0bXBQb2ludCk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsb3Nlc3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zaW1wbGlmeVxuICovXG4vLyBCYXNlZCBvbiBzaW1wbGlmeS1qcyBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9zaW1wbGlmeS1qc1xuLy8gQ29weXJpZ2h0IChjKSAyMDEyLCBWbGFkaW1pciBBZ2Fmb25raW5cbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbi8vXG4vLyAgICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4vLyAgICAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy9cbi8vICAgIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4vLyAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4vLyBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4vLyBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuLy8gQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRVxuLy8gTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxuLy8gQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0Zcbi8vIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTU1xuLy8gSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU5cbi8vIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4vLyBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuLy8gUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG5pbXBvcnQgeyBzcXVhcmVkRGlzdGFuY2UsIHNxdWFyZWRTZWdtZW50RGlzdGFuY2UgfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtib29sZWFufSBoaWdoUXVhbGl0eSBIaWdoZXN0IHF1YWxpdHkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFNpbXBsaWZpZWQgbGluZSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGlmeUxpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBoaWdoUXVhbGl0eSwgb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IG9wdF9zaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRfc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1xuICAgICAgICA6IFtdO1xuICAgIGlmICghaGlnaFF1YWxpdHkpIHtcbiAgICAgICAgZW5kID0gcmFkaWFsRGlzdGFuY2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwKTtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcztcbiAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgc3RyaWRlID0gMjtcbiAgICB9XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkb3VnbGFzUGV1Y2tlcihmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICAgIHJldHVybiBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3VnbGFzUGV1Y2tlcihmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpIHtcbiAgICB2YXIgbiA9IChlbmQgLSBvZmZzZXQpIC8gc3RyaWRlO1xuICAgIGlmIChuIDwgMykge1xuICAgICAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICAgIH1cbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgdmFyIG1hcmtlcnMgPSBuZXcgQXJyYXkobik7XG4gICAgbWFya2Vyc1swXSA9IDE7XG4gICAgbWFya2Vyc1tuIC0gMV0gPSAxO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICB2YXIgc3RhY2sgPSBbb2Zmc2V0LCBlbmQgLSBzdHJpZGVdO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGxhc3QgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGZpcnN0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIHZhciBtYXhTcXVhcmVkRGlzdGFuY2UgPSAwO1xuICAgICAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3RdO1xuICAgICAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3QgKyAxXTtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2xhc3RdO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbbGFzdCArIDFdO1xuICAgICAgICBmb3IgKHZhciBpID0gZmlyc3QgKyBzdHJpZGU7IGkgPCBsYXN0OyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgdmFyIHggPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICB2YXIgc3F1YXJlZERpc3RhbmNlXzEgPSBzcXVhcmVkU2VnbWVudERpc3RhbmNlKHgsIHksIHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2VfMSA+IG1heFNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBtYXhTcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2VfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4U3F1YXJlZERpc3RhbmNlID4gc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgbWFya2Vyc1soaW5kZXggLSBvZmZzZXQpIC8gc3RyaWRlXSA9IDE7XG4gICAgICAgICAgICBpZiAoZmlyc3QgKyBzdHJpZGUgPCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goZmlyc3QsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCArIHN0cmlkZSA8IGxhc3QpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGluZGV4LCBsYXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAobWFya2Vyc1tpXSkge1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaSAqIHN0cmlkZV07XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpICogc3RyaWRlICsgMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRW5kcyBTaW1wbGlmaWVkIGVuZHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IGRvdWdsYXNQZXVja2VyKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzLnB1c2goc2ltcGxpZmllZE9mZnNldCk7XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gc2ltcGxpZmllZEVuZHNzIFNpbXBsaWZpZWQgZW5kc3MuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kc3MpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgICAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gZG91Z2xhc1BldWNrZXJBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaWFsRGlzdGFuY2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KSB7XG4gICAgaWYgKGVuZCA8PSBvZmZzZXQgKyBzdHJpZGUpIHtcbiAgICAgICAgLy8gemVybyBvciBvbmUgcG9pbnQsIG5vIHNpbXBsaWZpY2F0aW9uIHBvc3NpYmxlLCBzbyBjb3B5IGFuZCByZXR1cm5cbiAgICAgICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICB9XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIC8vIGNvcHkgZmlyc3QgcG9pbnRcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MTtcbiAgICB2YXIgeDIgPSB4MTtcbiAgICB2YXIgeTIgPSB5MTtcbiAgICBmb3IgKG9mZnNldCArPSBzdHJpZGU7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5MikgPiBzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAvLyBjb3B5IHBvaW50IGF0IG9mZnNldFxuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICAgICAgICAgIHgxID0geDI7XG4gICAgICAgICAgICB5MSA9IHkyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh4MiAhPSB4MSB8fCB5MiAhPSB5MSkge1xuICAgICAgICAvLyBjb3B5IGxhc3QgcG9pbnRcbiAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJvdW5kZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbmFwKHZhbHVlLCB0b2xlcmFuY2UpIHtcbiAgICByZXR1cm4gdG9sZXJhbmNlICogTWF0aC5yb3VuZCh2YWx1ZSAvIHRvbGVyYW5jZSk7XG59XG4vKipcbiAqIFNpbXBsaWZpZXMgYSBsaW5lIHN0cmluZyB1c2luZyBhbiBhbGdvcml0aG0gZGVzaWduZWQgYnkgVGltIFNjaGF1Yi5cbiAqIENvb3JkaW5hdGVzIGFyZSBzbmFwcGVkIHRvIHRoZSBuZWFyZXN0IHZhbHVlIGluIGEgdmlydHVhbCBncmlkIGFuZFxuICogY29uc2VjdXRpdmUgZHVwbGljYXRlIGNvb3JkaW5hdGVzIGFyZSBkaXNjYXJkZWQuICBUaGlzIGVmZmVjdGl2ZWx5IHByZXNlcnZlc1xuICogdG9wb2xvZ3kgYXMgdGhlIHNpbXBsaWZpY2F0aW9uIG9mIGFueSBzdWJzZWN0aW9uIG9mIGEgbGluZSBzdHJpbmcgaXNcbiAqIGluZGVwZW5kZW50IG9mIHRoZSByZXN0IG9mIHRoZSBsaW5lIHN0cmluZy4gIFRoaXMgbWVhbnMgdGhhdCwgZm9yIGV4YW1wbGVzLFxuICogdGhlIGNvbW1vbiBlZGdlIGJldHdlZW4gdHdvIHBvbHlnb25zIHdpbGwgYmUgc2ltcGxpZmllZCB0byB0aGUgc2FtZSBsaW5lXG4gKiBzdHJpbmcgaW5kZXBlbmRlbnRseSBpbiBib3RoIHBvbHlnb25zLiAgVGhpcyBpbXBsZW1lbnRhdGlvbiB1c2VzIGEgc2luZ2xlXG4gKiBwYXNzIG92ZXIgdGhlIGNvb3JkaW5hdGVzIGFuZCBlbGltaW5hdGVzIGludGVybWVkaWF0ZSBjb2xsaW5lYXIgcG9pbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0b2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpIHtcbiAgICAvLyBkbyBub3RoaW5nIGlmIHRoZSBsaW5lIGlzIGVtcHR5XG4gICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gICAgfVxuICAgIC8vIHNuYXAgdGhlIGZpcnN0IGNvb3JkaW5hdGUgKFAxKVxuICAgIHZhciB4MSA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgdmFyIHkxID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAvLyBhZGQgdGhlIGZpcnN0IGNvb3JkaW5hdGUgdG8gdGhlIG91dHB1dFxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgxO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkxO1xuICAgIC8vIGZpbmQgdGhlIG5leHQgY29vcmRpbmF0ZSB0aGF0IGRvZXMgbm90IHNuYXAgdG8gdGhlIHNhbWUgdmFsdWUgYXMgdGhlIGZpcnN0XG4gICAgLy8gY29vcmRpbmF0ZSAoUDIpXG4gICAgdmFyIHgyLCB5MjtcbiAgICBkbyB7XG4gICAgICAgIHgyID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgICAgICAgeTIgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgICAgICAgIC8vIGFsbCBjb29yZGluYXRlcyBzbmFwIHRvIHRoZSBzYW1lIHZhbHVlLCB0aGUgbGluZSBjb2xsYXBzZXMgdG8gYSBwb2ludFxuICAgICAgICAgICAgLy8gcHVzaCB0aGUgbGFzdCBzbmFwcGVkIHZhbHVlIGFueXdheSB0byBlbnN1cmUgdGhhdCB0aGUgb3V0cHV0IGNvbnRhaW5zXG4gICAgICAgICAgICAvLyBhdCBsZWFzdCB0d28gcG9pbnRzXG4gICAgICAgICAgICAvLyBGSVhNRSBzaG91bGQgd2UgcmVhbGx5IHJldHVybiBhdCBsZWFzdCB0d28gcG9pbnRzIGFueXdheT9cbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgICAgICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKHgyID09IHgxICYmIHkyID09IHkxKTtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kKSB7XG4gICAgICAgIC8vIHNuYXAgdGhlIG5leHQgY29vcmRpbmF0ZSAoUDMpXG4gICAgICAgIHZhciB4MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgICAgIHZhciB5MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdLCB0b2xlcmFuY2UpO1xuICAgICAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgICAgICAvLyBza2lwIFAzIGlmIGl0IGlzIGVxdWFsIHRvIFAyXG4gICAgICAgIGlmICh4MyA9PSB4MiAmJiB5MyA9PSB5Mikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIFAxIGFuZCBQMlxuICAgICAgICB2YXIgZHgxID0geDIgLSB4MTtcbiAgICAgICAgdmFyIGR5MSA9IHkyIC0geTE7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiBQMyBhbmQgUDFcbiAgICAgICAgdmFyIGR4MiA9IHgzIC0geDE7XG4gICAgICAgIHZhciBkeTIgPSB5MyAtIHkxO1xuICAgICAgICAvLyBpZiBQMSwgUDIsIGFuZCBQMyBhcmUgY29saW5lYXIgYW5kIFAzIGlzIGZ1cnRoZXIgZnJvbSBQMSB0aGFuIFAyIGlzIGZyb21cbiAgICAgICAgLy8gUDEgaW4gdGhlIHNhbWUgZGlyZWN0aW9uIHRoZW4gUDIgaXMgb24gdGhlIHN0cmFpZ2h0IGxpbmUgYmV0d2VlbiBQMSBhbmRcbiAgICAgICAgLy8gUDNcbiAgICAgICAgaWYgKGR4MSAqIGR5MiA9PSBkeTEgKiBkeDIgJiZcbiAgICAgICAgICAgICgoZHgxIDwgMCAmJiBkeDIgPCBkeDEpIHx8IGR4MSA9PSBkeDIgfHwgKGR4MSA+IDAgJiYgZHgyID4gZHgxKSkgJiZcbiAgICAgICAgICAgICgoZHkxIDwgMCAmJiBkeTIgPCBkeTEpIHx8IGR5MSA9PSBkeTIgfHwgKGR5MSA+IDAgJiYgZHkyID4gZHkxKSkpIHtcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgUDIgYW5kIHNldCBQMiA9IFAzXG4gICAgICAgICAgICB4MiA9IHgzO1xuICAgICAgICAgICAgeTIgPSB5MztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVpdGhlciBQMSwgUDIsIGFuZCBQMyBhcmUgbm90IGNvbGluZWFyLCBvciB0aGV5IGFyZSBjb2xpbmVhciBidXQgUDMgaXNcbiAgICAgICAgLy8gYmV0d2VlbiBQMyBhbmQgUDEgb3Igb24gdGhlIG9wcG9zaXRlIGhhbGYgb2YgdGhlIGxpbmUgdG8gUDIuICBhZGQgUDIsXG4gICAgICAgIC8vIGFuZCBjb250aW51ZSB3aXRoIFAxID0gUDIgYW5kIFAyID0gUDNcbiAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgICAgICB4MiA9IHgzO1xuICAgICAgICB5MiA9IHkzO1xuICAgIH1cbiAgICAvLyBhZGQgdGhlIGxhc3QgcG9pbnQgKFAyKVxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEVuZHMgU2ltcGxpZmllZCBlbmRzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICAgICAgc2ltcGxpZmllZEVuZHMucHVzaChzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBzaW1wbGlmaWVkRW5kc3MgU2ltcGxpZmllZCBlbmRzcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZU11bHRpQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIHRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHNzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICB2YXIgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0LCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpbXBsaWZ5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW5mbGF0ZVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT49fSBvcHRfY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBDb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIG9wdF9jb29yZGluYXRlcykge1xuICAgIHZhciBjb29yZGluYXRlcyA9IG9wdF9jb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkID8gb3B0X2Nvb3JkaW5hdGVzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzW2krK10gPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoaiwgaiArIHN0cmlkZSk7XG4gICAgfVxuICAgIGNvb3JkaW5hdGVzLmxlbmd0aCA9IGk7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGVzO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj19IG9wdF9jb29yZGluYXRlc3MgQ29vcmRpbmF0ZXNzLlxuICogQHJldHVybiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IENvb3JkaW5hdGVzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9jb29yZGluYXRlc3MpIHtcbiAgICB2YXIgY29vcmRpbmF0ZXNzID0gb3B0X2Nvb3JkaW5hdGVzcyAhPT0gdW5kZWZpbmVkID8gb3B0X2Nvb3JkaW5hdGVzcyA6IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBlbmRzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbal07XG4gICAgICAgIGNvb3JkaW5hdGVzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY29vcmRpbmF0ZXNzW2ldKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICBjb29yZGluYXRlc3MubGVuZ3RoID0gaTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZXNzO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj49fSBvcHRfY29vcmRpbmF0ZXNzc1xuICogICAgIENvb3JkaW5hdGVzc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IENvb3JkaW5hdGVzc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBvcHRfY29vcmRpbmF0ZXNzcykge1xuICAgIHZhciBjb29yZGluYXRlc3NzID0gb3B0X2Nvb3JkaW5hdGVzc3MgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlc3NzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGVuZHNzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tqXTtcbiAgICAgICAgY29vcmRpbmF0ZXNzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgY29vcmRpbmF0ZXNzc1tpXSk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgY29vcmRpbmF0ZXNzcy5sZW5ndGggPSBpO1xuICAgIHJldHVybiBjb29yZGluYXRlc3NzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5mbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2FyZWFcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB2YXIgdHdpY2VBcmVhID0gMDtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICB0d2ljZUFyZWEgKz0geTEgKiB4MiAtIHgxICogeTI7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiB0d2ljZUFyZWEgLyAyO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgIHZhciBhcmVhID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIGFyZWEgKz0gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBhcmVhO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlKSB7XG4gICAgdmFyIGFyZWEgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgYXJlYSArPSBsaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZWEuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL0xpbmVhclJpbmdcbiAqL1xuaW1wb3J0IEdlb21ldHJ5TGF5b3V0IGZyb20gJy4vR2VvbWV0cnlMYXlvdXQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQgeyBhc3NpZ25DbG9zZXN0UG9pbnQsIG1heFNxdWFyZWREZWx0YSB9IGZyb20gJy4vZmxhdC9jbG9zZXN0LmpzJztcbmltcG9ydCB7IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZsYXRlQ29vcmRpbmF0ZXMgfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQgeyBkb3VnbGFzUGV1Y2tlciB9IGZyb20gJy4vZmxhdC9zaW1wbGlmeS5qcyc7XG5pbXBvcnQgeyBpbmZsYXRlQ29vcmRpbmF0ZXMgfSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQgeyBsaW5lYXJSaW5nIGFzIGxpbmVhclJpbmdBcmVhIH0gZnJvbSAnLi9mbGF0L2FyZWEuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMaW5lYXIgcmluZyBnZW9tZXRyeS4gT25seSB1c2VkIGFzIHBhcnQgb2YgcG9seWdvbjsgY2Fubm90IGJlIHJlbmRlcmVkXG4gKiBvbiBpdHMgb3duLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIExpbmVhclJpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExpbmVhclJpbmcsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqICAgICBGb3IgaW50ZXJuYWwgdXNlLCBmbGF0IGNvb3JkaW5hdGVzIGluIGNvbWJpbmF0aW9uIHdpdGggYG9wdF9sYXlvdXRgIGFyZSBhbHNvIGFjY2VwdGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0PX0gb3B0X2xheW91dCBMYXlvdXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGluZWFyUmluZyhjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heERlbHRhXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heERlbHRhUmV2aXNpb25fID0gLTE7XG4gICAgICAgIGlmIChvcHRfbGF5b3V0ICE9PSB1bmRlZmluZWQgJiYgIUFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXNbMF0pKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRGbGF0Q29vcmRpbmF0ZXMob3B0X2xheW91dCwgXG4gICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChjb29yZGluYXRlcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuc2V0Q29vcmRpbmF0ZXMoXG4gICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59ICovIChjb29yZGluYXRlcyksIG9wdF9sYXlvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4geyFMaW5lYXJSaW5nfSBDbG9uZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGluZWFyUmluZyh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmNsb3Nlc3RQb2ludFhZID0gZnVuY3Rpb24gKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgIGlmIChtaW5TcXVhcmVkRGlzdGFuY2UgPCBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkodGhpcy5nZXRFeHRlbnQoKSwgeCwgeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICAgICAgICB0aGlzLm1heERlbHRhXyA9IE1hdGguc3FydChtYXhTcXVhcmVkRGVsdGEodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIDApKTtcbiAgICAgICAgICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzc2lnbkNsb3Nlc3RQb2ludCh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSwgdGhpcy5tYXhEZWx0YV8sIHRydWUsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJlYSBvZiB0aGUgbGluZWFyIHJpbmcgb24gcHJvamVjdGVkIHBsYW5lLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQXJlYSAob24gcHJvamVjdGVkIHBsYW5lKS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0QXJlYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxpbmVhclJpbmdBcmVhKHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHRoaXMuc3RyaWRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGxpbmVhciByaW5nLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IENvb3JkaW5hdGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGluZmxhdGVDb29yZGluYXRlcyh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJuIHtMaW5lYXJSaW5nfSBTaW1wbGlmaWVkIExpbmVhclJpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICAgICAgdmFyIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkb3VnbGFzUGV1Y2tlcih0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgMCk7XG4gICAgICAgIHJldHVybiBuZXcgTGluZWFyUmluZyhzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeSB0eXBlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gR2VvbWV0cnlUeXBlLkxJTkVBUl9SSU5HO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBwYXNzZWQgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGxpbmVhciByaW5nLlxuICAgICAqIEBwYXJhbSB7IUFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0PX0gb3B0X2xheW91dCBMYXlvdXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgICAgIHRoaXMuc2V0TGF5b3V0KG9wdF9sYXlvdXQsIGNvb3JkaW5hdGVzLCAxKTtcbiAgICAgICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkZWZsYXRlQ29vcmRpbmF0ZXModGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIGNvb3JkaW5hdGVzLCB0aGlzLnN0cmlkZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgcmV0dXJuIExpbmVhclJpbmc7XG59KFNpbXBsZUdlb21ldHJ5KSk7XG5leHBvcnQgZGVmYXVsdCBMaW5lYXJSaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGluZWFyUmluZy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2NvbnRhaW5zXG4gKi9cbmltcG9ydCB7IGZvckVhY2hDb3JuZXIgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgZXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50KSB7XG4gICAgdmFyIG91dHNpZGUgPSBmb3JFYWNoQ29ybmVyKGV4dGVudCwgXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuICFsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0pO1xuICAgIH0pO1xuICAgIHJldHVybiAhb3V0c2lkZTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB4LCB5KSB7XG4gICAgLy8gaHR0cDovL2dlb21hbGdvcml0aG1zLmNvbS9hMDMtX2luY2x1c2lvbi5odG1sXG4gICAgLy8gQ29weXJpZ2h0IDIwMDAgc29mdFN1cmZlciwgMjAxMiBEYW4gU3VuZGF5XG4gICAgLy8gVGhpcyBjb2RlIG1heSBiZSBmcmVlbHkgdXNlZCBhbmQgbW9kaWZpZWQgZm9yIGFueSBwdXJwb3NlXG4gICAgLy8gcHJvdmlkaW5nIHRoYXQgdGhpcyBjb3B5cmlnaHQgbm90aWNlIGlzIGluY2x1ZGVkIHdpdGggaXQuXG4gICAgLy8gU29mdFN1cmZlciBtYWtlcyBubyB3YXJyYW50eSBmb3IgdGhpcyBjb2RlLCBhbmQgY2Fubm90IGJlIGhlbGRcbiAgICAvLyBsaWFibGUgZm9yIGFueSByZWFsIG9yIGltYWdpbmVkIGRhbWFnZSByZXN1bHRpbmcgZnJvbSBpdHMgdXNlLlxuICAgIC8vIFVzZXJzIG9mIHRoaXMgY29kZSBtdXN0IHZlcmlmeSBjb3JyZWN0bmVzcyBmb3IgdGhlaXIgYXBwbGljYXRpb24uXG4gICAgdmFyIHduID0gMDtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICBpZiAoeTEgPD0geSkge1xuICAgICAgICAgICAgaWYgKHkyID4geSAmJiAoeDIgLSB4MSkgKiAoeSAtIHkxKSAtICh4IC0geDEpICogKHkyIC0geTEpID4gMCkge1xuICAgICAgICAgICAgICAgIHduKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeTIgPD0geSAmJiAoeDIgLSB4MSkgKiAoeSAtIHkxKSAtICh4IC0geDEpICogKHkyIC0geTEpIDwgMCkge1xuICAgICAgICAgICAgd24tLTtcbiAgICAgICAgfVxuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gd24gIT09IDA7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSB7XG4gICAgaWYgKGVuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAxLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCB4LCB5KSB7XG4gICAgaWYgKGVuZHNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgaWYgKGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250YWlucy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyc2VjdHNleHRlbnRcbiAqL1xuaW1wb3J0IHsgY29udGFpbnNFeHRlbnQsIGNyZWF0ZUVtcHR5LCBleHRlbmRGbGF0Q29vcmRpbmF0ZXMsIGludGVyc2VjdHMsIGludGVyc2VjdHNTZWdtZW50LCB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBmb3JFYWNoIGFzIGZvckVhY2hTZWdtZW50IH0gZnJvbSAnLi9zZWdtZW50cy5qcyc7XG5pbXBvcnQgeyBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQsIGxpbmVhclJpbmdDb250YWluc1hZIH0gZnJvbSAnLi9jb250YWlucy5qcyc7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudCkge1xuICAgIHZhciBjb29yZGluYXRlc0V4dGVudCA9IGV4dGVuZEZsYXRDb29yZGluYXRlcyhjcmVhdGVFbXB0eSgpLCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIGlmICghaW50ZXJzZWN0cyhleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjb250YWluc0V4dGVudChleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVzRXh0ZW50WzBdID49IGV4dGVudFswXSAmJiBjb29yZGluYXRlc0V4dGVudFsyXSA8PSBleHRlbnRbMl0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb29yZGluYXRlc0V4dGVudFsxXSA+PSBleHRlbnRbMV0gJiYgY29vcmRpbmF0ZXNFeHRlbnRbM10gPD0gZXh0ZW50WzNdKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm9yRWFjaFNlZ21lbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQxIFN0YXJ0IHBvaW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludDIgRW5kIHBvaW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgc2VnbWVudCBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QsXG4gICAgICogICAgIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChwb2ludDEsIHBvaW50Mikge1xuICAgICAgICByZXR1cm4gaW50ZXJzZWN0c1NlZ21lbnQoZXh0ZW50LCBwb2ludDEsIHBvaW50Mik7XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbaV0sIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnRbMF0sIGV4dGVudFsxXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudFswXSwgZXh0ZW50WzNdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzJdLCBleHRlbnRbMV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnRbMl0sIGV4dGVudFszXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZXh0ZW50KSB7XG4gICAgaWYgKCFpbnRlcnNlY3RzTGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGVuZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMSwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKGxpbmVhclJpbmdDb250YWluc0V4dGVudChmbGF0Q29vcmRpbmF0ZXMsIGVuZHNbaSAtIDFdLCBlbmRzW2ldLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIGlmICghaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmdNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBleHRlbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIGlmIChpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJzZWN0c2V4dGVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NlZ21lbnRzXG4gKi9cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxscyBgY2FsbGJhY2tgIGZvciBlYWNoIHNlZ21lbnQgb2YgdGhlIGZsYXQgY29vcmRpbmF0ZXNcbiAqIGFycmF5LiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGF0XG4gKiB2YWx1ZSBpbW1lZGlhdGVseS4gT3RoZXJ3aXNlIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUsIGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFR9IGNhbGxiYWNrIEZ1bmN0aW9uXG4gKiAgICAgY2FsbGVkIGZvciBlYWNoIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtUfGJvb2xlYW59IFZhbHVlLlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjYWxsYmFjaykge1xuICAgIHZhciBwb2ludDEgPSBbZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXV07XG4gICAgdmFyIHBvaW50MiA9IFtdO1xuICAgIHZhciByZXQ7XG4gICAgZm9yICg7IG9mZnNldCArIHN0cmlkZSA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICBwb2ludDJbMF0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgc3RyaWRlXTtcbiAgICAgICAgcG9pbnQyWzFdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZSArIDFdO1xuICAgICAgICByZXQgPSBjYWxsYmFjayhwb2ludDEsIHBvaW50Mik7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcG9pbnQxWzBdID0gcG9pbnQyWzBdO1xuICAgICAgICBwb2ludDFbMV0gPSBwb2ludDJbMV07XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlZ21lbnRzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvcmV2ZXJzZVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kIC0gc3RyaWRlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV0gPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV07XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV0gPSB0bXA7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgZW5kIC09IHN0cmlkZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXZlcnNlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvb3JpZW50XG4gKi9cbmltcG9ydCB7IGNvb3JkaW5hdGVzIGFzIHJldmVyc2VDb29yZGluYXRlcyB9IGZyb20gJy4vcmV2ZXJzZS5qcyc7XG4vKipcbiAqIElzIHRoZSBsaW5lYXIgcmluZyBvcmllbnRlZCBjbG9ja3dpc2UgaW4gYSBjb29yZGluYXRlIHN5c3RlbSB3aXRoIGEgYm90dG9tLWxlZnRcbiAqIGNvb3JkaW5hdGUgb3JpZ2luPyBGb3IgYSBjb29yZGluYXRlIHN5c3RlbSB3aXRoIGEgdG9wLWxlZnQgY29vcmRpbmF0ZSBvcmlnaW4sXG4gKiB0aGUgcmluZydzIG9yaWVudGF0aW9uIGlzIGNsb2Nrd2lzZSB3aGVuIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBmYWxzZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBjbG9ja3dpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgLy8gaHR0cDovL3Rpbnl1cmwuY29tL2Nsb2Nrd2lzZS1tZXRob2RcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vT1NHZW8vZ2RhbC9ibG9iL3RydW5rL2dkYWwvb2dyL29ncmxpbmVhcnJpbmcuY3BwXG4gICAgdmFyIGVkZ2UgPSAwO1xuICAgIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICAgIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXTtcbiAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIGVkZ2UgKz0gKHgyIC0geDEpICogKHkyICsgeTEpO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gZWRnZSA9PT0gMCA/IHVuZGVmaW5lZCA6IGVkZ2UgPiAwO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGxpbmVhciByaW5ncyBhcmUgb3JpZW50ZWQuICBCeSBkZWZhdWx0LCBsZWZ0LWhhbmQgb3JpZW50YXRpb25cbiAqIGlzIHRlc3RlZCAoZmlyc3QgcmluZyBtdXN0IGJlIGNsb2Nrd2lzZSwgcmVtYWluaW5nIHJpbmdzIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqIFRvIHRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb24sIHVzZSB0aGUgYG9wdF9yaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEFycmF5IG9mIGVuZCBpbmRleGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmlnaHQgVGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvblxuICogICAgIChjb3VudGVyLWNsb2Nrd2lzZSBleHRlcmlvciByaW5nIGFuZCBjbG9ja3dpc2UgaW50ZXJpb3IgcmluZ3MpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmluZ3MgYXJlIGNvcnJlY3RseSBvcmllbnRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gICAgdmFyIHJpZ2h0ID0gb3B0X3JpZ2h0ICE9PSB1bmRlZmluZWQgPyBvcHRfcmlnaHQgOiBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIHZhciBpc0Nsb2Nrd2lzZSA9IGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKChyaWdodCAmJiBpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiAhaXNDbG9ja3dpc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChyaWdodCAmJiAhaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgaXNDbG9ja3dpc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBBcnJheSBvZiBhcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JpZ2h0IFRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb25cbiAqICAgICAoY291bnRlci1jbG9ja3dpc2UgZXh0ZXJpb3IgcmluZyBhbmQgY2xvY2t3aXNlIGludGVyaW9yIHJpbmdzKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJpbmdzIGFyZSBjb3JyZWN0bHkgb3JpZW50ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3NBcmVPcmllbnRlZChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICBpZiAoIWxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X3JpZ2h0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBPcmllbnQgY29vcmRpbmF0ZXMgaW4gYSBmbGF0IGFycmF5IG9mIGxpbmVhciByaW5ncy4gIEJ5IGRlZmF1bHQsIHJpbmdzXG4gKiBhcmUgb3JpZW50ZWQgZm9sbG93aW5nIHRoZSBsZWZ0LWhhbmQgcnVsZSAoY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmRcbiAqIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuICBUbyBvcmllbnQgYWNjb3JkaW5nIHRvIHRoZVxuICogcmlnaHQtaGFuZCBydWxlLCB1c2UgdGhlIGBvcHRfcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmlnaHQgRm9sbG93IHRoZSByaWdodC1oYW5kIHJ1bGUgZm9yIG9yaWVudGF0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmllbnRMaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBvcHRfcmlnaHQpIHtcbiAgICB2YXIgcmlnaHQgPSBvcHRfcmlnaHQgIT09IHVuZGVmaW5lZCA/IG9wdF9yaWdodCA6IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgdmFyIGlzQ2xvY2t3aXNlID0gbGluZWFyUmluZ0lzQ2xvY2t3aXNlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgICAgIHZhciByZXZlcnNlID0gaSA9PT0gMFxuICAgICAgICAgICAgPyAocmlnaHQgJiYgaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgIWlzQ2xvY2t3aXNlKVxuICAgICAgICAgICAgOiAocmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmIGlzQ2xvY2t3aXNlKTtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHJldmVyc2VDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8qKlxuICogT3JpZW50IGNvb3JkaW5hdGVzIGluIGEgZmxhdCBhcnJheSBvZiBsaW5lYXIgcmluZ3MuICBCeSBkZWZhdWx0LCByaW5nc1xuICogYXJlIG9yaWVudGVkIGZvbGxvd2luZyB0aGUgbGVmdC1oYW5kIHJ1bGUgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kXG4gKiBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLiAgVG8gb3JpZW50IGFjY29yZGluZyB0byB0aGVcbiAqIHJpZ2h0LWhhbmQgcnVsZSwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBBcnJheSBvZiBhcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JpZ2h0IEZvbGxvdyB0aGUgcmlnaHQtaGFuZCBydWxlIGZvciBvcmllbnRhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50TGluZWFyUmluZ3NBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBvZmZzZXQgPSBvcmllbnRMaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3NbaV0sIHN0cmlkZSwgb3B0X3JpZ2h0KTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9yaWVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vUG9seWdvblxuICovXG5pbXBvcnQgR2VvbWV0cnlMYXlvdXQgZnJvbSAnLi9HZW9tZXRyeUxheW91dC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBMaW5lYXJSaW5nIGZyb20gJy4vTGluZWFyUmluZy5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9Qb2ludC5qcyc7XG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQgeyBhcnJheU1heFNxdWFyZWREZWx0YSwgYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQgfSBmcm9tICcuL2ZsYXQvY2xvc2VzdC5qcyc7XG5pbXBvcnQgeyBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFksIGdldENlbnRlciB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSB9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGdldEludGVyaW9yUG9pbnRPZkFycmF5IH0gZnJvbSAnLi9mbGF0L2ludGVyaW9ycG9pbnQuanMnO1xuaW1wb3J0IHsgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkgfSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5IH0gZnJvbSAnLi9mbGF0L2ludGVyc2VjdHNleHRlbnQuanMnO1xuaW1wb3J0IHsgbGluZWFyUmluZ3NBcmVPcmllbnRlZCwgb3JpZW50TGluZWFyUmluZ3MgfSBmcm9tICcuL2ZsYXQvb3JpZW50LmpzJztcbmltcG9ydCB7IGxpbmVhclJpbmdzIGFzIGxpbmVhclJpbmdzQXJlYSB9IGZyb20gJy4vZmxhdC9hcmVhLmpzJztcbmltcG9ydCB7IGxpbmVhclJpbmdzQ29udGFpbnNYWSB9IGZyb20gJy4vZmxhdC9jb250YWlucy5qcyc7XG5pbXBvcnQgeyBtb2R1bG8gfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7IHF1YW50aXplQXJyYXkgfSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuaW1wb3J0IHsgb2Zmc2V0IGFzIHNwaGVyZU9mZnNldCB9IGZyb20gJy4uL3NwaGVyZS5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvbHlnb24gZ2VvbWV0cnkuXG4gKlxuICogQGFwaVxuICovXG52YXIgUG9seWdvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUG9seWdvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+PnwhQXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXNcbiAgICAgKiAgICAgQXJyYXkgb2YgbGluZWFyIHJpbmdzIHRoYXQgZGVmaW5lIHRoZSBwb2x5Z29uLiBUaGUgZmlyc3QgbGluZWFyIHJpbmcgb2YgdGhlXG4gICAgICogICAgIGFycmF5IGRlZmluZXMgdGhlIG91dGVyLWJvdW5kYXJ5IG9yIHN1cmZhY2Ugb2YgdGhlIHBvbHlnb24uIEVhY2ggc3Vic2VxdWVudFxuICAgICAqICAgICBsaW5lYXIgcmluZyBkZWZpbmVzIGEgaG9sZSBpbiB0aGUgc3VyZmFjZSBvZiB0aGUgcG9seWdvbi4gQSBsaW5lYXIgcmluZyBpc1xuICAgICAqICAgICBhbiBhcnJheSBvZiB2ZXJ0aWNlcycgY29vcmRpbmF0ZXMgd2hlcmUgdGhlIGZpcnN0IGNvb3JkaW5hdGUgYW5kIHRoZSBsYXN0IGFyZVxuICAgICAqICAgICBlcXVpdmFsZW50LiAoRm9yIGludGVybmFsIHVzZSwgZmxhdCBjb29yZGluYXRlcyBpbiBjb21iaW5hdGlvbiB3aXRoXG4gICAgICogICAgIGBvcHRfbGF5b3V0YCBhbmQgYG9wdF9lbmRzYCBhcmUgYWxzbyBhY2NlcHRlZC4pXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHQ9fSBvcHRfbGF5b3V0IExheW91dC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfZW5kcyBFbmRzIChmb3IgaW50ZXJuYWwgdXNlIHdpdGggZmxhdCBjb29yZGluYXRlcykuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbihjb29yZGluYXRlcywgb3B0X2xheW91dCwgb3B0X2VuZHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW5kc18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZsYXRJbnRlcmlvclBvaW50XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWF4RGVsdGFfID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmllbnRlZFJldmlzaW9uXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18gPSBudWxsO1xuICAgICAgICBpZiAob3B0X2xheW91dCAhPT0gdW5kZWZpbmVkICYmIG9wdF9lbmRzKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRGbGF0Q29vcmRpbmF0ZXMob3B0X2xheW91dCwgXG4gICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChjb29yZGluYXRlcykpO1xuICAgICAgICAgICAgX3RoaXMuZW5kc18gPSBvcHRfZW5kcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNldENvb3JkaW5hdGVzKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gKi8gKGNvb3JkaW5hdGVzKSwgb3B0X2xheW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgdGhlIHBhc3NlZCBsaW5lYXIgcmluZyB0byB0aGlzIHBvbHlnb24uXG4gICAgICogQHBhcmFtIHtMaW5lYXJSaW5nfSBsaW5lYXJSaW5nIExpbmVhciByaW5nLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5hcHBlbmRMaW5lYXJSaW5nID0gZnVuY3Rpb24gKGxpbmVhclJpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBsaW5lYXJSaW5nLmdldEZsYXRDb29yZGluYXRlcygpLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleHRlbmQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIGxpbmVhclJpbmcuZ2V0RmxhdENvb3JkaW5hdGVzKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kc18ucHVzaCh0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHshUG9seWdvbn0gQ2xvbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCksIHRoaXMubGF5b3V0LCB0aGlzLmVuZHNfLnNsaWNlKCkpO1xuICAgICAgICBwb2x5Z29uLmFwcGx5UHJvcGVydGllcyh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHBvbHlnb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb3Nlc3RQb2ludFhZID0gZnVuY3Rpb24gKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgIGlmIChtaW5TcXVhcmVkRGlzdGFuY2UgPCBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkodGhpcy5nZXRFeHRlbnQoKSwgeCwgeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICAgICAgICB0aGlzLm1heERlbHRhXyA9IE1hdGguc3FydChhcnJheU1heFNxdWFyZWREZWx0YSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIDApKTtcbiAgICAgICAgICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgdGhpcy5tYXhEZWx0YV8sIHRydWUsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnNYWSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHJldHVybiBsaW5lYXJSaW5nc0NvbnRhaW5zWFkodGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgeCwgeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZWEgb2YgdGhlIHBvbHlnb24gb24gcHJvamVjdGVkIHBsYW5lLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQXJlYSAob24gcHJvamVjdGVkIHBsYW5lKS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0QXJlYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxpbmVhclJpbmdzQXJlYSh0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29vcmRpbmF0ZSBhcnJheSBmb3IgdGhpcyBnZW9tZXRyeS4gIFRoaXMgYXJyYXkgaGFzIHRoZSBzdHJ1Y3R1cmVcbiAgICAgKiBvZiBhIEdlb0pTT04gY29vcmRpbmF0ZSBhcnJheSBmb3IgcG9seWdvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmlnaHQgT3JpZW50IGNvb3JkaW5hdGVzIGFjY29yZGluZyB0byB0aGUgcmlnaHQtaGFuZFxuICAgICAqICAgICBydWxlIChjb3VudGVyLWNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLlxuICAgICAqICAgICBJZiBgZmFsc2VgLCBjb29yZGluYXRlcyB3aWxsIGJlIG9yaWVudGVkIGFjY29yZGluZyB0byB0aGUgbGVmdC1oYW5kIHJ1bGVcbiAgICAgKiAgICAgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuXG4gICAgICogICAgIEJ5IGRlZmF1bHQsIGNvb3JkaW5hdGUgb3JpZW50YXRpb24gd2lsbCBkZXBlbmQgb24gaG93IHRoZSBnZW9tZXRyeSB3YXNcbiAgICAgKiAgICAgY29uc3RydWN0ZWQuXG4gICAgICogQHJldHVybiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IENvb3JkaW5hdGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChvcHRfcmlnaHQpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcztcbiAgICAgICAgaWYgKG9wdF9yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICAgICAgICAgIG9yaWVudExpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIG9wdF9yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBFbmRzLlxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldEVuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW50ZXJpb3IgcG9pbnQuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0RmxhdEludGVyaW9yUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdmFyIGZsYXRDZW50ZXIgPSBnZXRDZW50ZXIodGhpcy5nZXRFeHRlbnQoKSk7XG4gICAgICAgICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50XyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIGZsYXRDZW50ZXIsIDApO1xuICAgICAgICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW50ZXJpb3IgcG9pbnQgb2YgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UG9pbnR9IEludGVyaW9yIHBvaW50IGFzIFhZTSBjb29yZGluYXRlLCB3aGVyZSBNIGlzIHRoZVxuICAgICAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0SW50ZXJpb3JQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLmdldEZsYXRJbnRlcmlvclBvaW50KCksIEdlb21ldHJ5TGF5b3V0LlhZTSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG51bWJlciBvZiByaW5ncyBvZiB0aGUgcG9seWdvbiwgIHRoaXMgaW5jbHVkZXMgdGhlIGV4dGVyaW9yXG4gICAgICogcmluZyBhbmQgYW55IGludGVyaW9yIHJpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgcmluZ3MuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmdDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kc18ubGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBOdGggbGluZWFyIHJpbmcgb2YgdGhlIHBvbHlnb24gZ2VvbWV0cnkuIFJldHVybiBgbnVsbGAgaWYgdGhlXG4gICAgICogZ2l2ZW4gaW5kZXggaXMgb3V0IG9mIHJhbmdlLlxuICAgICAqIFRoZSBleHRlcmlvciBsaW5lYXIgcmluZyBpcyBhdmFpbGFibGUgYXQgaW5kZXggYDBgIGFuZCB0aGUgaW50ZXJpb3IgcmluZ3NcbiAgICAgKiBhdCBpbmRleCBgMWAgYW5kIGJleW9uZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICAgKiBAcmV0dXJuIHtMaW5lYXJSaW5nfSBMaW5lYXIgcmluZy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0TGluZWFyUmluZyA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuZW5kc18ubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoaW5kZXggPT09IDAgPyAwIDogdGhpcy5lbmRzX1tpbmRleCAtIDFdLCB0aGlzLmVuZHNfW2luZGV4XSksIHRoaXMubGF5b3V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGluZWFyIHJpbmdzIG9mIHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge0FycmF5PExpbmVhclJpbmc+fSBMaW5lYXIgcmluZ3MuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5b3V0ID0gdGhpcy5sYXlvdXQ7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgICAgdmFyIGVuZHMgPSB0aGlzLmVuZHNfO1xuICAgICAgICB2YXIgbGluZWFyUmluZ3MgPSBbXTtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgICAgICB2YXIgbGluZWFyUmluZyA9IG5ldyBMaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIGVuZCksIGxheW91dCk7XG4gICAgICAgICAgICBsaW5lYXJSaW5ncy5wdXNoKGxpbmVhclJpbmcpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lYXJSaW5ncztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWVudGVkIGZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWVudGVkUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgICAgICAgICAgaWYgKGxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IGZsYXRDb29yZGluYXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18ubGVuZ3RoID0gb3JpZW50TGluZWFyUmluZ3ModGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18sIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3JpZW50ZWRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7UG9seWdvbn0gU2ltcGxpZmllZCBQb2x5Z29uLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IHF1YW50aXplQXJyYXkodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCBNYXRoLnNxcnQoc3F1YXJlZFRvbGVyYW5jZSksIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDAsIHNpbXBsaWZpZWRFbmRzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5Z29uKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZLCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeSB0eXBlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gR2VvbWV0cnlUeXBlLlBPTFlHT047XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkodGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlnb24uXG4gICAgICogQHBhcmFtIHshQXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0PX0gb3B0X2xheW91dCBMYXlvdXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLnNldENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzLCBvcHRfbGF5b3V0KSB7XG4gICAgICAgIHRoaXMuc2V0TGF5b3V0KG9wdF9sYXlvdXQsIGNvb3JkaW5hdGVzLCAyKTtcbiAgICAgICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kcyA9IGRlZmxhdGVDb29yZGluYXRlc0FycmF5KHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCBjb29yZGluYXRlcywgdGhpcy5zdHJpZGUsIHRoaXMuZW5kc18pO1xuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBlbmRzLmxlbmd0aCA9PT0gMCA/IDAgOiBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgcmV0dXJuIFBvbHlnb247XG59KFNpbXBsZUdlb21ldHJ5KSk7XG5leHBvcnQgZGVmYXVsdCBQb2x5Z29uO1xuLyoqXG4gKiBDcmVhdGUgYW4gYXBwcm94aW1hdGlvbiBvZiBhIGNpcmNsZSBvbiB0aGUgc3VyZmFjZSBvZiBhIHNwaGVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyIChgW2xvbiwgbGF0XWAgaW4gZGVncmVlcykuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFRoZSBncmVhdC1jaXJjbGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIHRvXG4gKiAgICAgdGhlIHBvbHlnb24gdmVydGljZXMuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9uIE9wdGlvbmFsIG51bWJlciBvZiB2ZXJ0aWNlcyBmb3IgdGhlIHJlc3VsdGluZ1xuICogICAgIHBvbHlnb24uIERlZmF1bHQgaXMgYDMyYC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3NwaGVyZVJhZGl1cyBPcHRpb25hbCByYWRpdXMgZm9yIHRoZSBzcGhlcmUgKGRlZmF1bHRzIHRvXG4gKiAgICAgdGhlIEVhcnRoJ3MgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZCkuXG4gKiBAcmV0dXJuIHtQb2x5Z29ufSBUaGUgXCJjaXJjdWxhclwiIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaXJjdWxhcihjZW50ZXIsIHJhZGl1cywgb3B0X24sIG9wdF9zcGhlcmVSYWRpdXMpIHtcbiAgICB2YXIgbiA9IG9wdF9uID8gb3B0X24gOiAzMjtcbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGV4dGVuZChmbGF0Q29vcmRpbmF0ZXMsIHNwaGVyZU9mZnNldChjZW50ZXIsIHJhZGl1cywgKDIgKiBNYXRoLlBJICogaSkgLyBuLCBvcHRfc3BoZXJlUmFkaXVzKSk7XG4gICAgfVxuICAgIGZsYXRDb29yZGluYXRlcy5wdXNoKGZsYXRDb29yZGluYXRlc1swXSwgZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgICByZXR1cm4gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgW1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgIF0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBwb2x5Z29uIGZyb20gYW4gZXh0ZW50LiBUaGUgbGF5b3V0IHVzZWQgaXMgYFhZYC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcmV0dXJuIHtQb2x5Z29ufSBUaGUgcG9seWdvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FeHRlbnQoZXh0ZW50KSB7XG4gICAgdmFyIG1pblggPSBleHRlbnRbMF07XG4gICAgdmFyIG1pblkgPSBleHRlbnRbMV07XG4gICAgdmFyIG1heFggPSBleHRlbnRbMl07XG4gICAgdmFyIG1heFkgPSBleHRlbnRbM107XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IFtcbiAgICAgICAgbWluWCxcbiAgICAgICAgbWluWSxcbiAgICAgICAgbWluWCxcbiAgICAgICAgbWF4WSxcbiAgICAgICAgbWF4WCxcbiAgICAgICAgbWF4WSxcbiAgICAgICAgbWF4WCxcbiAgICAgICAgbWluWSxcbiAgICAgICAgbWluWCxcbiAgICAgICAgbWluWSxcbiAgICBdO1xuICAgIHJldHVybiBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsIEdlb21ldHJ5TGF5b3V0LlhZLCBbXG4gICAgICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgXSk7XG59XG4vKipcbiAqIENyZWF0ZSBhIHJlZ3VsYXIgcG9seWdvbiBmcm9tIGEgY2lyY2xlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGUgQ2lyY2xlIGdlb21ldHJ5LlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfc2lkZXMgTnVtYmVyIG9mIHNpZGVzIG9mIHRoZSBwb2x5Z29uLiBEZWZhdWx0IGlzIDMyLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfYW5nbGUgU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLiAwIG1lYW5zIEVhc3QuIERlZmF1bHQgaXMgMC5cbiAqIEByZXR1cm4ge1BvbHlnb259IFBvbHlnb24gZ2VvbWV0cnkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQ2lyY2xlKGNpcmNsZSwgb3B0X3NpZGVzLCBvcHRfYW5nbGUpIHtcbiAgICB2YXIgc2lkZXMgPSBvcHRfc2lkZXMgPyBvcHRfc2lkZXMgOiAzMjtcbiAgICB2YXIgc3RyaWRlID0gY2lyY2xlLmdldFN0cmlkZSgpO1xuICAgIHZhciBsYXlvdXQgPSBjaXJjbGUuZ2V0TGF5b3V0KCk7XG4gICAgdmFyIGNlbnRlciA9IGNpcmNsZS5nZXRDZW50ZXIoKTtcbiAgICB2YXIgYXJyYXlMZW5ndGggPSBzdHJpZGUgKiAoc2lkZXMgKyAxKTtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbmV3IEFycmF5KGFycmF5TGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5TGVuZ3RoOyBpICs9IHN0cmlkZSkge1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbaV0gPSAwO1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdID0gMDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDI7IGogPCBzdHJpZGU7IGorKykge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW2kgKyBqXSA9IGNlbnRlcltqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgbGF5b3V0LCBlbmRzKTtcbiAgICBtYWtlUmVndWxhcihwb2x5Z29uLCBjZW50ZXIsIGNpcmNsZS5nZXRSYWRpdXMoKSwgb3B0X2FuZ2xlKTtcbiAgICByZXR1cm4gcG9seWdvbjtcbn1cbi8qKlxuICogTW9kaWZ5IHRoZSBjb29yZGluYXRlcyBvZiBhIHBvbHlnb24gdG8gbWFrZSBpdCBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7UG9seWdvbn0gcG9seWdvbiBQb2x5Z29uIGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIgb2YgdGhlIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9hbmdsZSBTdGFydCBhbmdsZSBmb3IgdGhlIGZpcnN0IHZlcnRleCBvZiB0aGUgcG9seWdvbiBpblxuICogICAgIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMuIDAgbWVhbnMgRWFzdC4gRGVmYXVsdCBpcyAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVJlZ3VsYXIocG9seWdvbiwgY2VudGVyLCByYWRpdXMsIG9wdF9hbmdsZSkge1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBwb2x5Z29uLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIHZhciBzdHJpZGUgPSBwb2x5Z29uLmdldFN0cmlkZSgpO1xuICAgIHZhciBzaWRlcyA9IGZsYXRDb29yZGluYXRlcy5sZW5ndGggLyBzdHJpZGUgLSAxO1xuICAgIHZhciBzdGFydEFuZ2xlID0gb3B0X2FuZ2xlID8gb3B0X2FuZ2xlIDogMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzaWRlczsgKytpKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSBpICogc3RyaWRlO1xuICAgICAgICB2YXIgYW5nbGUgPSBzdGFydEFuZ2xlICsgKG1vZHVsbyhpLCBzaWRlcykgKiAyICogTWF0aC5QSSkgLyBzaWRlcztcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldF0gPSBjZW50ZXJbMF0gKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSA9IGNlbnRlclsxXSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKTtcbiAgICB9XG4gICAgcG9seWdvbi5jaGFuZ2VkKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2x5Z29uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludFxuICovXG5pbXBvcnQgeyBsaW5lYXJSaW5nc0NvbnRhaW5zWFkgfSBmcm9tICcuL2NvbnRhaW5zLmpzJztcbmltcG9ydCB7IG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG4vKipcbiAqIENhbGN1bGF0ZXMgYSBwb2ludCB0aGF0IGlzIGxpa2VseSB0byBsaWUgaW4gdGhlIGludGVyaW9yIG9mIHRoZSBsaW5lYXIgcmluZ3MuXG4gKiBJbnNwaXJlZCBieSBKVFMncyBjb20udml2aWRzb2x1dGlvbnMuanRzLmdlb20uR2VvbWV0cnkjZ2V0SW50ZXJpb3JQb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDZW50ZXJzIEZsYXQgY2VudGVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGF0Q2VudGVyc09mZnNldCBGbGF0IGNlbnRlciBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfZGVzdCBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IERlc3RpbmF0aW9uIHBvaW50IGFzIFhZTSBjb29yZGluYXRlLCB3aGVyZSBNIGlzIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBob3Jpem9udGFsIGludGVyc2VjdGlvbiB0aGF0IHRoZSBwb2ludCBiZWxvbmdzIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZmxhdENlbnRlcnMsIGZsYXRDZW50ZXJzT2Zmc2V0LCBvcHRfZGVzdCkge1xuICAgIHZhciBpLCBpaSwgeCwgeDEsIHgyLCB5MSwgeTI7XG4gICAgdmFyIHkgPSBmbGF0Q2VudGVyc1tmbGF0Q2VudGVyc09mZnNldCArIDFdO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9ucyA9IFtdO1xuICAgIC8vIENhbGN1bGF0ZSBpbnRlcnNlY3Rpb25zIHdpdGggdGhlIGhvcml6b250YWwgbGluZVxuICAgIGZvciAodmFyIHIgPSAwLCByciA9IGVuZHMubGVuZ3RoOyByIDwgcnI7ICsrcikge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tyXTtcbiAgICAgICAgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICAgICAgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICAgICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKCh5IDw9IHkxICYmIHkyIDw9IHkpIHx8ICh5MSA8PSB5ICYmIHkgPD0geTIpKSB7XG4gICAgICAgICAgICAgICAgeCA9ICgoeSAtIHkxKSAvICh5MiAtIHkxKSkgKiAoeDIgLSB4MSkgKyB4MTtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25zLnB1c2goeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4MSA9IHgyO1xuICAgICAgICAgICAgeTEgPSB5MjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBGaW5kIHRoZSBsb25nZXN0IHNlZ21lbnQgb2YgdGhlIGhvcml6b250YWwgbGluZSB0aGF0IGhhcyBpdHMgY2VudGVyIHBvaW50XG4gICAgLy8gaW5zaWRlIHRoZSBsaW5lYXIgcmluZy5cbiAgICB2YXIgcG9pbnRYID0gTmFOO1xuICAgIHZhciBtYXhTZWdtZW50TGVuZ3RoID0gLUluZmluaXR5O1xuICAgIGludGVyc2VjdGlvbnMuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgICB4MSA9IGludGVyc2VjdGlvbnNbMF07XG4gICAgZm9yIChpID0gMSwgaWkgPSBpbnRlcnNlY3Rpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgeDIgPSBpbnRlcnNlY3Rpb25zW2ldO1xuICAgICAgICB2YXIgc2VnbWVudExlbmd0aCA9IE1hdGguYWJzKHgyIC0geDEpO1xuICAgICAgICBpZiAoc2VnbWVudExlbmd0aCA+IG1heFNlZ21lbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIHggPSAoeDEgKyB4MikgLyAyO1xuICAgICAgICAgICAgaWYgKGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICAgICAgICAgIHBvaW50WCA9IHg7XG4gICAgICAgICAgICAgICAgbWF4U2VnbWVudExlbmd0aCA9IHNlZ21lbnRMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeDEgPSB4MjtcbiAgICB9XG4gICAgaWYgKGlzTmFOKHBvaW50WCkpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gaG9yaXpvbnRhbCBsaW5lIHRoYXQgaGFzIGl0cyBjZW50ZXIgcG9pbnQgaW5zaWRlIHRoZSBsaW5lYXJcbiAgICAgICAgLy8gcmluZy4gIFVzZSB0aGUgY2VudGVyIG9mIHRoZSB0aGUgbGluZWFyIHJpbmcncyBleHRlbnQuXG4gICAgICAgIHBvaW50WCA9IGZsYXRDZW50ZXJzW2ZsYXRDZW50ZXJzT2Zmc2V0XTtcbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0KSB7XG4gICAgICAgIG9wdF9kZXN0LnB1c2gocG9pbnRYLCB5LCBtYXhTZWdtZW50TGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIG9wdF9kZXN0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtwb2ludFgsIHksIG1heFNlZ21lbnRMZW5ndGhdO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENlbnRlcnMgRmxhdCBjZW50ZXJzLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW50ZXJpb3IgcG9pbnRzIGFzIFhZTSBjb29yZGluYXRlcywgd2hlcmUgTSBpcyB0aGVcbiAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyaW9yUG9pbnRzT2ZNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBmbGF0Q2VudGVycykge1xuICAgIHZhciBpbnRlcmlvclBvaW50cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgaW50ZXJpb3JQb2ludHMgPSBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBmbGF0Q2VudGVycywgMiAqIGksIGludGVyaW9yUG9pbnRzKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gaW50ZXJpb3JQb2ludHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmlvcnBvaW50LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvVmlld1xuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuL09iamVjdC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFVuaXRzIGZyb20gJy4vcHJvai9Vbml0cy5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi9WaWV3SGludC5qcyc7XG5pbXBvcnQgVmlld1Byb3BlcnR5IGZyb20gJy4vVmlld1Byb3BlcnR5LmpzJztcbmltcG9ydCB7IERFRkFVTFRfVElMRV9TSVpFIH0gZnJvbSAnLi90aWxlZ3JpZC9jb21tb24uanMnO1xuaW1wb3J0IHsgTUVURVJTX1BFUl9VTklULCBjcmVhdGVQcm9qZWN0aW9uLCBmcm9tVXNlckNvb3JkaW5hdGUsIGZyb21Vc2VyRXh0ZW50LCBnZXRVc2VyUHJvamVjdGlvbiwgdG9Vc2VyQ29vcmRpbmF0ZSwgdG9Vc2VyRXh0ZW50LCB9IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQgeyBWT0lEIH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYWRkIGFzIGFkZENvb3JkaW5hdGUsIGVxdWFscyBhcyBjb29yZGluYXRlc0VxdWFsLCByb3RhdGUgYXMgcm90YXRlQ29vcmRpbmF0ZSwgfSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vb2JqLmpzJztcbmltcG9ydCB7IG5vbmUgYXMgY2VudGVyTm9uZSwgY3JlYXRlRXh0ZW50IH0gZnJvbSAnLi9jZW50ZXJjb25zdHJhaW50LmpzJztcbmltcG9ydCB7IGNsYW1wLCBtb2R1bG8gfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHsgY3JlYXRlTWluTWF4UmVzb2x1dGlvbiB9IGZyb20gJy4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU25hcFRvTiwgY3JlYXRlU25hcFRvWmVybywgZGlzYWJsZSwgbm9uZSBhcyByb3RhdGlvbk5vbmUsIH0gZnJvbSAnLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU25hcFRvUG93ZXIsIGNyZWF0ZVNuYXBUb1Jlc29sdXRpb25zLCB9IGZyb20gJy4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4vZWFzaW5nLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4vY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQgeyBnZXRDZW50ZXIsIGdldEZvclZpZXdBbmRTaXplLCBnZXRIZWlnaHQsIGdldFdpZHRoLCBpc0VtcHR5LCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGluQW5kT3V0IH0gZnJvbSAnLi9lYXNpbmcuanMnO1xuaW1wb3J0IHsgbGluZWFyRmluZE5lYXJlc3QgfSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7IGZyb21FeHRlbnQgYXMgcG9seWdvbkZyb21FeHRlbnQgfSBmcm9tICcuL2dlb20vUG9seWdvbi5qcyc7XG4vKipcbiAqIEFuIGFuaW1hdGlvbiBjb25maWd1cmF0aW9uXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbc291cmNlQ2VudGVyXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW3RhcmdldENlbnRlcl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc291cmNlUmVzb2x1dGlvbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGFyZ2V0UmVzb2x1dGlvbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc291cmNlUm90YXRpb25dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJvdGF0aW9uXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvbXBsZXRlXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlcik6bnVtYmVyfSBlYXNpbmdcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6dm9pZH0gY2FsbGJhY2tcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb25zdHJhaW50c1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gY2VudGVyXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gcmVzb2x1dGlvblxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3JvdGF0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSByb3RhdGlvblxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpdE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIGJveCB0byBmaXRcbiAqIHRoZSBleHRlbnQgaW50by4gRGVmYXVsdCBpcyB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBmaXJzdCBtYXAgaW4gdGhlIERPTSB0aGF0XG4gKiB1c2VzIHRoaXMgdmlldywgb3IgYFsxMDAsIDEwMF1gIGlmIG5vIHN1Y2ggbWFwIGlzIGZvdW5kLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gW3BhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIChpbiBwaXhlbHMpIHRvIGJlXG4gKiBjbGVhcmVkIGluc2lkZSB0aGUgdmlldy4gVmFsdWVzIGluIHRoZSBhcnJheSBhcmUgdG9wLCByaWdodCwgYm90dG9tIGFuZCBsZWZ0XG4gKiBwYWRkaW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbmVhcmVzdD1mYWxzZV0gSWYgdGhlIHZpZXcgYGNvbnN0cmFpblJlc29sdXRpb25gIG9wdGlvbiBpcyBgdHJ1ZWAsXG4gKiBnZXQgdGhlIG5lYXJlc3QgZXh0ZW50IGluc3RlYWQgb2YgdGhlIGNsb3Nlc3QgdGhhdCBhY3R1YWxseSBmaXRzIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uPTBdIE1pbmltdW0gcmVzb2x1dGlvbiB0aGF0IHdlIHpvb20gdG8uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbSBsZXZlbCB0aGF0IHdlIHpvb20gdG8uIElmXG4gKiBgbWluUmVzb2x1dGlvbmAgaXMgZ2l2ZW4sIHRoaXMgcHJvcGVydHkgaXMgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb25dIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEJ5IGRlZmF1bHQsIHRoZXJlIGlzIG5vIGFuaW1hdGlvbiB0byB0aGUgdGFyZ2V0IGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdXNlZCBkdXJpbmdcbiAqIHRoZSBhbmltYXRpb24gKGRlZmF1bHRzIHRvIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nfmluQW5kT3V0fSkuXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgd2l0aCBhIG51bWJlciByZXByZXNlbnRpbmcgYVxuICogZnJhY3Rpb24gb2YgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLiAgVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXJcbiAqIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRvd2FyZCB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGJvb2xlYW4pOnZvaWR9IFtjYWxsYmFja10gRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIHZpZXcgaXMgaW5cbiAqIGl0cyBmaW5hbCBwb3NpdGlvbi4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb25cbiAqIHNlcmllcyBjb21wbGV0ZWQgb24gaXRzIG93biBvciBgZmFsc2VgIGlmIGl0IHdhcyBjYW5jZWxsZWQuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVmlld09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjZW50ZXJdIFRoZSBpbml0aWFsIGNlbnRlciBmb3JcbiAqIHRoZSB2aWV3LiBJZiBhIHVzZXIgcHJvamVjdGlvbiBpcyBub3Qgc2V0LCB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gZm9yIHRoZSBjZW50ZXIgaXNcbiAqIHNwZWNpZmllZCB3aXRoIHRoZSBgcHJvamVjdGlvbmAgb3B0aW9uLiBMYXllciBzb3VyY2VzIHdpbGwgbm90IGJlIGZldGNoZWQgaWYgdGhpc1xuICogaXMgbm90IHNldCwgYnV0IHRoZSBjZW50ZXIgY2FuIGJlIHNldCBsYXRlciB3aXRoIHtAbGluayAjc2V0Q2VudGVyfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxudW1iZXJ9IFtjb25zdHJhaW5Sb3RhdGlvbj10cnVlXSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICogYGZhbHNlYCBtZWFucyBubyBjb25zdHJhaW50LiBgdHJ1ZWAgbWVhbnMgbm8gY29uc3RyYWludCwgYnV0IHNuYXAgdG8gemVyb1xuICogbmVhciB6ZXJvLiBBIG51bWJlciBjb25zdHJhaW5zIHRoZSByb3RhdGlvbiB0byB0aGF0IG51bWJlciBvZiB2YWx1ZXMuIEZvclxuICogZXhhbXBsZSwgYDRgIHdpbGwgY29uc3RyYWluIHRoZSByb3RhdGlvbiB0byAwLCA5MCwgMTgwLCBhbmQgMjcwIGRlZ3JlZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtlbmFibGVSb3RhdGlvbj10cnVlXSBFbmFibGUgcm90YXRpb24uXG4gKiBJZiBgZmFsc2VgLCBhIHJvdGF0aW9uIGNvbnN0cmFpbnQgdGhhdCBhbHdheXMgc2V0cyB0aGUgcm90YXRpb24gdG8gemVybyBpc1xuICogdXNlZC4gVGhlIGBjb25zdHJhaW5Sb3RhdGlvbmAgb3B0aW9uIGhhcyBubyBlZmZlY3QgaWYgYGVuYWJsZVJvdGF0aW9uYCBpc1xuICogYGZhbHNlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgZXh0ZW50IHRoYXQgY29uc3RyYWlucyB0aGVcbiAqIHZpZXcsIGluIG90aGVyIHdvcmRzLCBub3RoaW5nIG91dHNpZGUgb2YgdGhpcyBleHRlbnQgY2FuIGJlIHZpc2libGUgb24gdGhlIG1hcC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpbk9ubHlDZW50ZXI9ZmFsc2VdIElmIHRydWUsIHRoZSBleHRlbnRcbiAqIGNvbnN0cmFpbnQgd2lsbCBvbmx5IGFwcGx5IHRvIHRoZSB2aWV3IGNlbnRlciBhbmQgbm90IHRoZSB3aG9sZSBleHRlbnQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzbW9vdGhFeHRlbnRDb25zdHJhaW50PXRydWVdIElmIHRydWUsIHRoZSBleHRlbnRcbiAqIGNvbnN0cmFpbnQgd2lsbCBiZSBhcHBsaWVkIHNtb290aGx5LCBpLmUuIGFsbG93IHRoZSB2aWV3IHRvIGdvIHNsaWdodGx5IG91dHNpZGVcbiAqIG9mIHRoZSBnaXZlbiBgZXh0ZW50YC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiB1c2VkIHRvIGRldGVybWluZVxuICogdGhlIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtaW5SZXNvbHV0aW9uYCAob3JcbiAqIGBtYXhab29tYCkgYW5kIGB6b29tRmFjdG9yYC4gSWYgdW5zcGVjaWZpZWQgaXQgaXMgY2FsY3VsYXRlZCBpbiBzdWNoIGEgd2F5XG4gKiB0aGF0IHRoZSBwcm9qZWN0aW9uJ3MgdmFsaWRpdHkgZXh0ZW50IGZpdHMgaW4gYSAyNTZ4MjU2IHB4IHRpbGUuIElmIHRoZVxuICogcHJvamVjdGlvbiBpcyBTcGhlcmljYWwgTWVyY2F0b3IgKHRoZSBkZWZhdWx0KSB0aGVuIGBtYXhSZXNvbHV0aW9uYCBkZWZhdWx0c1xuICogdG8gYDQwMDc1MDE2LjY4NTU3ODQ5IC8gMjU2ID0gMTU2NTQzLjAzMzkyODA0MDk3YC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiB1c2VkIHRvIGRldGVybWluZVxuICogdGhlIHJlc29sdXRpb24gY29uc3RyYWludC4gIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWF4UmVzb2x1dGlvbmAgKG9yXG4gKiBgbWluWm9vbWApIGFuZCBgem9vbUZhY3RvcmAuICBJZiB1bnNwZWNpZmllZCBpdCBpcyBjYWxjdWxhdGVkIGFzc3VtaW5nIDI5XG4gKiB6b29tIGxldmVscyAod2l0aCBhIGZhY3RvciBvZiAyKS4gSWYgdGhlIHByb2plY3Rpb24gaXMgU3BoZXJpY2FsIE1lcmNhdG9yXG4gKiAodGhlIGRlZmF1bHQpIHRoZW4gYG1pblJlc29sdXRpb25gIGRlZmF1bHRzIHRvXG4gKiBgNDAwNzUwMTYuNjg1NTc4NDkgLyAyNTYgLyBNYXRoLnBvdygyLCAyOCkgPSAwLjAwMDU4MzE2ODI0NTU4MzkyNTNgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tPTI4XSBUaGUgbWF4aW11bSB6b29tIGxldmVsIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZVxuICogcmVzb2x1dGlvbiBjb25zdHJhaW50LiBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1pblpvb21gIChvclxuICogYG1heFJlc29sdXRpb25gKSBhbmQgYHpvb21GYWN0b3JgLiAgTm90ZSB0aGF0IGlmIGBtaW5SZXNvbHV0aW9uYCBpcyBhbHNvXG4gKiBwcm92aWRlZCwgaXQgaXMgZ2l2ZW4gcHJlY2VkZW5jZSBvdmVyIGBtYXhab29tYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBUaGUgbWluaW11bSB6b29tIGxldmVsIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZVxuICogcmVzb2x1dGlvbiBjb25zdHJhaW50LiBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1heFpvb21gIChvclxuICogYG1pblJlc29sdXRpb25gKSBhbmQgYHpvb21GYWN0b3JgLiAgTm90ZSB0aGF0IGlmIGBtYXhSZXNvbHV0aW9uYCBpcyBhbHNvXG4gKiBwcm92aWRlZCwgaXQgaXMgZ2l2ZW4gcHJlY2VkZW5jZSBvdmVyIGBtaW5ab29tYC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW211bHRpV29ybGQ9ZmFsc2VdIElmIGBmYWxzZWAgdGhlIHZpZXcgaXMgY29uc3RyYWluZWQgc29cbiAqIG9ubHkgb25lIHdvcmxkIGlzIHZpc2libGUsIGFuZCB5b3UgY2Fubm90IHBhbiBvZmYgdGhlIGVkZ2UuICBJZiBgdHJ1ZWAgdGhlIG1hcFxuICogbWF5IHNob3cgbXVsdGlwbGUgd29ybGRzIGF0IGxvdyB6b29tIGxldmVscy4gIE9ubHkgdXNlZCBpZiB0aGUgYHByb2plY3Rpb25gIGlzXG4gKiBnbG9iYWwuICBOb3RlIHRoYXQgaWYgYGV4dGVudGAgaXMgYWxzbyBwcm92aWRlZCBpdCBpcyBnaXZlbiBwcmVjZWRlbmNlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29uc3RyYWluUmVzb2x1dGlvbj1mYWxzZV0gSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBhbHdheXNcbiAqIGFuaW1hdGUgdG8gdGhlIGNsb3Nlc3Qgem9vbSBsZXZlbCBhZnRlciBhbiBpbnRlcmFjdGlvbjsgZmFsc2UgbWVhbnNcbiAqIGludGVybWVkaWFyeSB6b29tIGxldmVscyBhcmUgYWxsb3dlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Ntb290aFJlc29sdXRpb25Db25zdHJhaW50PXRydWVdIElmIHRydWUsIHRoZSByZXNvbHV0aW9uXG4gKiBtaW4vbWF4IHZhbHVlcyB3aWxsIGJlIGFwcGxpZWQgc21vb3RobHksIGkuIGUuIGFsbG93IHRoZSB2aWV3IHRvIGV4Y2VlZCBzbGlnaHRseVxuICogdGhlIGdpdmVuIHJlc29sdXRpb24gb3Igem9vbSBib3VuZHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaG93RnVsbEV4dGVudD1mYWxzZV0gQWxsb3cgdGhlIHZpZXcgdG8gYmUgem9vbWVkIG91dCB0b1xuICogc2hvdyB0aGUgZnVsbCBjb25maWd1cmVkIGV4dGVudC4gQnkgZGVmYXVsdCwgd2hlbiBhIHZpZXcgaXMgY29uZmlndXJlZCB3aXRoIGFuXG4gKiBleHRlbnQsIHVzZXJzIHdpbGwgbm90IGJlIGFibGUgdG8gem9vbSBvdXQgc28gdGhlIHZpZXdwb3J0IGV4Y2VlZHMgdGhlIGV4dGVudCBpblxuICogZWl0aGVyIGRpbWVuc2lvbi4gVGhpcyBtZWFucyB0aGUgZnVsbCBleHRlbnQgbWF5IG5vdCBiZSB2aXNpYmxlIGlmIHRoZSB2aWV3cG9ydFxuICogaXMgdGFsbGVyIG9yIHdpZGVyIHRoYW4gdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgY29uZmlndXJlZCBleHRlbnQuIElmXG4gKiBzaG93RnVsbEV4dGVudCBpcyB0cnVlLCB0aGUgdXNlciB3aWxsIGJlIGFibGUgdG8gem9vbSBvdXQgc28gdGhhdCB0aGUgdmlld3BvcnRcbiAqIGV4Y2VlZHMgdGhlIGhlaWdodCBvciB3aWR0aCBvZiB0aGUgY29uZmlndXJlZCBleHRlbnQsIGJ1dCBub3QgYm90aCwgYWxsb3dpbmcgdGhlXG4gKiBmdWxsIGV4dGVudCB0byBiZSBzaG93bi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J10gVGhlXG4gKiBwcm9qZWN0aW9uLiBUaGUgZGVmYXVsdCBpcyBTcGhlcmljYWwgTWVyY2F0b3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3Jlc29sdXRpb25dIFRoZSBpbml0aWFsIHJlc29sdXRpb24gZm9yIHRoZSB2aWV3LiBUaGVcbiAqIHVuaXRzIGFyZSBgcHJvamVjdGlvbmAgdW5pdHMgcGVyIHBpeGVsIChlLmcuIG1ldGVycyBwZXIgcGl4ZWwpLiBBblxuICogYWx0ZXJuYXRpdmUgdG8gc2V0dGluZyB0aGlzIGlzIHRvIHNldCBgem9vbWAuIExheWVyIHNvdXJjZXMgd2lsbCBub3QgYmVcbiAqIGZldGNoZWQgaWYgbmVpdGhlciB0aGlzIG5vciBgem9vbWAgYXJlIGRlZmluZWQsIGJ1dCB0aGV5IGNhbiBiZSBzZXQgbGF0ZXJcbiAqIHdpdGgge0BsaW5rICNzZXRab29tfSBvciB7QGxpbmsgI3NldFJlc29sdXRpb259LlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbcmVzb2x1dGlvbnNdIFJlc29sdXRpb25zIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSWYgc2V0IHRoZSBgbWF4UmVzb2x1dGlvbmAsIGBtaW5SZXNvbHV0aW9uYCxcbiAqIGBtaW5ab29tYCwgYG1heFpvb21gLCBhbmQgYHpvb21GYWN0b3JgIG9wdGlvbnMgYXJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFRoZSBpbml0aWFsIHJvdGF0aW9uIGZvciB0aGUgdmlldyBpbiByYWRpYW5zXG4gKiAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlLCAwIG1lYW5zIE5vcnRoKS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbV0gT25seSB1c2VkIGlmIGByZXNvbHV0aW9uYCBpcyBub3QgZGVmaW5lZC4gWm9vbVxuICogbGV2ZWwgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGluaXRpYWwgcmVzb2x1dGlvbiBmb3IgdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21GYWN0b3I9Ml0gVGhlIHpvb20gZmFjdG9yIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAqIGNvcnJlc3BvbmRpbmcgcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyAoaW4gY3NzIHBpeGVscykuXG4gKiBJZiB0aGUgbWFwIHZpZXdwb3J0IGlzIHBhcnRpYWxseSBjb3ZlcmVkIHdpdGggb3RoZXIgY29udGVudCAob3ZlcmxheXMpIGFsb25nXG4gKiBpdHMgZWRnZXMsIHRoaXMgc2V0dGluZyBhbGxvd3MgdG8gc2hpZnQgdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnQgYXdheSBmcm9tXG4gKiB0aGF0IGNvbnRlbnQuIFRoZSBvcmRlciBvZiB0aGUgdmFsdWVzIGlzIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdC5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBUaGUgY2VudGVyIG9mIHRoZSB2aWV3IGF0IHRoZSBlbmQgb2ZcbiAqIHRoZSBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21dIFRoZSB6b29tIGxldmVsIG9mIHRoZSB2aWV3IGF0IHRoZSBlbmQgb2YgdGhlXG4gKiBhbmltYXRpb24uIFRoaXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGByZXNvbHV0aW9uYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHZpZXcgYXQgdGhlIGVuZFxuICogb2YgdGhlIGFuaW1hdGlvbi4gIElmIGB6b29tYCBpcyBhbHNvIHByb3ZpZGVkLCB0aGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uXSBUaGUgcm90YXRpb24gb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZlxuICogdGhlIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIE9wdGlvbmFsIGFuY2hvciB0byByZW1haW4gZml4ZWRcbiAqIGR1cmluZyBhIHJvdGF0aW9uIG9yIHJlc29sdXRpb24gYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0xMDAwXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlcik6bnVtYmVyfSBbZWFzaW5nXSBUaGUgZWFzaW5nIGZ1bmN0aW9uIHVzZWRcbiAqIGR1cmluZyB0aGUgYW5pbWF0aW9uIChkZWZhdWx0cyB0byB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZ35pbkFuZE91dH0pLlxuICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIGZyYW1lIHdpdGggYSBudW1iZXIgcmVwcmVzZW50aW5nIGFcbiAqIGZyYWN0aW9uIG9mIHRoZSBhbmltYXRpb24ncyBkdXJhdGlvbi4gIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgbnVtYmVyXG4gKiBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyB0b3dhcmQgdGhlIGRlc3RpbmF0aW9uIHN0YXRlLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXJcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByb3RhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpvb21cbiAqL1xuLyoqXG4gKiBEZWZhdWx0IG1pbiB6b29tIGxldmVsIGZvciB0aGUgbWFwIHZpZXcuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgREVGQVVMVF9NSU5fWk9PTSA9IDA7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgVmlldyBvYmplY3QgcmVwcmVzZW50cyBhIHNpbXBsZSAyRCB2aWV3IG9mIHRoZSBtYXAuXG4gKlxuICogVGhpcyBpcyB0aGUgb2JqZWN0IHRvIGFjdCB1cG9uIHRvIGNoYW5nZSB0aGUgY2VudGVyLCByZXNvbHV0aW9uLFxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBtYXAuXG4gKlxuICogQSBWaWV3IGhhcyBhIGBwcm9qZWN0aW9uYC4gVGhlIHByb2plY3Rpb24gZGV0ZXJtaW5lcyB0aGVcbiAqIGNvb3JkaW5hdGUgc3lzdGVtIG9mIHRoZSBjZW50ZXIsIGFuZCBpdHMgdW5pdHMgZGV0ZXJtaW5lIHRoZSB1bml0cyBvZiB0aGVcbiAqIHJlc29sdXRpb24gKHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsKS4gVGhlIGRlZmF1bHQgcHJvamVjdGlvbiBpc1xuICogU3BoZXJpY2FsIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICpcbiAqICMjIyBUaGUgdmlldyBzdGF0ZXNcbiAqXG4gKiBBIFZpZXcgaXMgZGV0ZXJtaW5lZCBieSB0aHJlZSBzdGF0ZXM6IGBjZW50ZXJgLCBgcmVzb2x1dGlvbmAsXG4gKiBhbmQgYHJvdGF0aW9uYC4gRWFjaCBzdGF0ZSBoYXMgYSBjb3JyZXNwb25kaW5nIGdldHRlciBhbmQgc2V0dGVyLCBlLmcuXG4gKiBgZ2V0Q2VudGVyYCBhbmQgYHNldENlbnRlcmAgZm9yIHRoZSBgY2VudGVyYCBzdGF0ZS5cbiAqXG4gKiBUaGUgYHpvb21gIHN0YXRlIGlzIGFjdHVhbGx5IG5vdCBzYXZlZCBvbiB0aGUgdmlldzogYWxsIGNvbXB1dGF0aW9uc1xuICogaW50ZXJuYWxseSB1c2UgdGhlIGByZXNvbHV0aW9uYCBzdGF0ZS4gU3RpbGwsIHRoZSBgc2V0Wm9vbWAgYW5kIGBnZXRab29tYFxuICogbWV0aG9kcyBhcmUgYXZhaWxhYmxlLCBhcyB3ZWxsIGFzIGBnZXRSZXNvbHV0aW9uRm9yWm9vbWAgYW5kXG4gKiBgZ2V0Wm9vbUZvclJlc29sdXRpb25gIHRvIHN3aXRjaCBmcm9tIG9uZSBzeXN0ZW0gdG8gdGhlIG90aGVyLlxuICpcbiAqICMjIyBUaGUgY29uc3RyYWludHNcbiAqXG4gKiBgc2V0Q2VudGVyYCwgYHNldFJlc29sdXRpb25gIGFuZCBgc2V0Um90YXRpb25gIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGVcbiAqIHN0YXRlcyBvZiB0aGUgdmlldywgYnV0IGFueSBjb25zdHJhaW50IGRlZmluZWQgaW4gdGhlIGNvbnN0cnVjdG9yIHdpbGxcbiAqIGJlIGFwcGxpZWQgYWxvbmcgdGhlIHdheS5cbiAqXG4gKiBBIFZpZXcgb2JqZWN0IGNhbiBoYXZlIGEgKnJlc29sdXRpb24gY29uc3RyYWludCosIGEgKnJvdGF0aW9uIGNvbnN0cmFpbnQqXG4gKiBhbmQgYSAqY2VudGVyIGNvbnN0cmFpbnQqLlxuICpcbiAqIFRoZSAqcmVzb2x1dGlvbiBjb25zdHJhaW50KiB0eXBpY2FsbHkgcmVzdHJpY3RzIG1pbi9tYXggdmFsdWVzIGFuZFxuICogc25hcHMgdG8gc3BlY2lmaWMgcmVzb2x1dGlvbnMuIEl0IGlzIGRldGVybWluZWQgYnkgdGhlIGZvbGxvd2luZ1xuICogb3B0aW9uczogYHJlc29sdXRpb25zYCwgYG1heFJlc29sdXRpb25gLCBgbWF4Wm9vbWAgYW5kIGB6b29tRmFjdG9yYC5cbiAqIElmIGByZXNvbHV0aW9uc2AgaXMgc2V0LCB0aGUgb3RoZXIgdGhyZWUgb3B0aW9ucyBhcmUgaWdub3JlZC4gU2VlXG4gKiBkb2N1bWVudGF0aW9uIGZvciBlYWNoIG9wdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gQnkgZGVmYXVsdCwgdGhlIHZpZXdcbiAqIG9ubHkgaGFzIGEgbWluL21heCByZXN0cmljdGlvbiBhbmQgYWxsb3cgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzIHdoZW5cbiAqIHBpbmNoLXpvb21pbmcgZm9yIGV4YW1wbGUuXG4gKlxuICogVGhlICpyb3RhdGlvbiBjb25zdHJhaW50KiBzbmFwcyB0byBzcGVjaWZpYyBhbmdsZXMuIEl0IGlzIGRldGVybWluZWRcbiAqIGJ5IHRoZSBmb2xsb3dpbmcgb3B0aW9uczogYGVuYWJsZVJvdGF0aW9uYCBhbmQgYGNvbnN0cmFpblJvdGF0aW9uYC5cbiAqIEJ5IGRlZmF1bHQgcm90YXRpb24gaXMgYWxsb3dlZCBhbmQgaXRzIHZhbHVlIGlzIHNuYXBwZWQgdG8gemVybyB3aGVuIGFwcHJvYWNoaW5nIHRoZVxuICogaG9yaXpvbnRhbC5cbiAqXG4gKiBUaGUgKmNlbnRlciBjb25zdHJhaW50KiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBgZXh0ZW50YCBvcHRpb24uIEJ5XG4gKiBkZWZhdWx0IHRoZSB2aWV3IGNlbnRlciBpcyBub3QgY29uc3RyYWluZWQgYXQgYWxsLlxuICpcbiAqICMjIyBDaGFuZ2luZyB0aGUgdmlldyBzdGF0ZVxuICpcbiAqIEl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgYHNldFpvb21gLCBgc2V0UmVzb2x1dGlvbmAsIGBzZXRDZW50ZXJgIGFuZFxuICogYHNldFJvdGF0aW9uYCBhcmUgc3ViamVjdCB0byB0aGUgYWJvdmUgbWVudGlvbmVkIGNvbnN0cmFpbnRzLiBBcyBzdWNoLCBpdFxuICogbWF5IHNvbWV0aW1lcyBub3QgYmUgcG9zc2libGUgdG8ga25vdyBpbiBhZHZhbmNlIHRoZSByZXN1bHRpbmcgc3RhdGUgb2YgdGhlXG4gKiBWaWV3LiBGb3IgZXhhbXBsZSwgY2FsbGluZyBgc2V0UmVzb2x1dGlvbigxMClgIGRvZXMgbm90IGd1YXJhbnRlZSB0aGF0XG4gKiBgZ2V0UmVzb2x1dGlvbigpYCB3aWxsIHJldHVybiBgMTBgLlxuICpcbiAqIEEgY29uc2VxdWVuY2Ugb2YgdGhpcyBpcyB0aGF0LCB3aGVuIGFwcGx5aW5nIGEgZGVsdGEgb24gdGhlIHZpZXcgc3RhdGUsIG9uZVxuICogc2hvdWxkIHVzZSBgYWRqdXN0Q2VudGVyYCwgYGFkanVzdFJvdGF0aW9uYCwgYGFkanVzdFpvb21gIGFuZCBgYWRqdXN0UmVzb2x1dGlvbmBcbiAqIHJhdGhlciB0aGFuIHRoZSBjb3JyZXNwb25kaW5nIHNldHRlcnMuIFRoaXMgd2lsbCBsZXQgdmlldyBkbyBpdHMgaW50ZXJuYWxcbiAqIGNvbXB1dGF0aW9ucy4gQmVzaWRlcywgdGhlIGBhZGp1c3QqYCBtZXRob2RzIGFsc28gdGFrZSBhbiBgb3B0X2FuY2hvcmBcbiAqIGFyZ3VtZW50IHdoaWNoIGFsbG93cyBzcGVjaWZ5aW5nIGFuIG9yaWdpbiBmb3IgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICpcbiAqICMjIyBJbnRlcmFjdGluZyB3aXRoIHRoZSB2aWV3XG4gKlxuICogVmlldyBjb25zdHJhaW50cyBhcmUgdXN1YWxseSBvbmx5IGFwcGxpZWQgd2hlbiB0aGUgdmlldyBpcyAqYXQgcmVzdCosIG1lYW5pbmcgdGhhdFxuICogbm8gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIG9uZ29pbmcuIEFzIHN1Y2gsIGlmIHRoZSB1c2VyIHB1dHMgdGhlIHZpZXcgaW4gYVxuICogc3RhdGUgdGhhdCBpcyBub3QgZXF1aXZhbGVudCB0byBhIGNvbnN0cmFpbmVkIG9uZSAoZS5nLiByb3RhdGluZyB0aGUgdmlldyB3aGVuXG4gKiB0aGUgc25hcCBhbmdsZSBpcyAwKSwgYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGF0IHRoZSBpbnRlcmFjdGlvbiBlbmQgdG9cbiAqIHB1dCBiYWNrIHRoZSB2aWV3IHRvIGEgc3RhYmxlIHN0YXRlO1xuICpcbiAqIEBhcGlcbiAqL1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZpZXcsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9ucz19IG9wdF9vcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWaWV3KG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXNzaWduKHt9LCBvcHRfb3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpbnRzXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxBcnJheTxBbmltYXRpb24+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvbnNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVwZGF0ZUFuaW1hdGlvbktleV87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9qZWN0aW9uXyA9IGNyZWF0ZVByb2plY3Rpb24ob3B0aW9ucy5wcm9qZWN0aW9uLCAnRVBTRzozODU3Jyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3cG9ydFNpemVfID0gWzEwMCwgMTAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRDZW50ZXJfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0UmVzb2x1dGlvbl87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldFJvdGF0aW9uXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW5jZWxBbmNob3JfID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAob3B0aW9ucy5jZW50ZXIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuY2VudGVyID0gZnJvbVVzZXJDb29yZGluYXRlKG9wdGlvbnMuY2VudGVyLCBfdGhpcy5wcm9qZWN0aW9uXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZXh0ZW50KSB7XG4gICAgICAgICAgICBvcHRpb25zLmV4dGVudCA9IGZyb21Vc2VyRXh0ZW50KG9wdGlvbnMuZXh0ZW50LCBfdGhpcy5wcm9qZWN0aW9uXyk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuYXBwbHlPcHRpb25zXyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdXAgdGhlIHZpZXcgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hcHBseU9wdGlvbnNfID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludEluZm8gPSBjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludChvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFJlc29sdXRpb25fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1heFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5SZXNvbHV0aW9uXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5taW5SZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuem9vbUZhY3Rvcl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8uem9vbUZhY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbnNfID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgKGluIGNzcyBwaXhlbHMpLlxuICAgICAgICAgKiBJZiB0aGUgbWFwIHZpZXdwb3J0IGlzIHBhcnRpYWxseSBjb3ZlcmVkIHdpdGggb3RoZXIgY29udGVudCAob3ZlcmxheXMpIGFsb25nXG4gICAgICAgICAqIGl0cyBlZGdlcywgdGhpcyBzZXR0aW5nIGFsbG93cyB0byBzaGlmdCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydCBhd2F5IGZyb20gdGhhdFxuICAgICAgICAgKiBjb250ZW50LiBUaGUgb3JkZXIgb2YgdGhlIHZhbHVlcyBpbiB0aGUgYXJyYXkgaXMgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBubyBwYWRkaW5nLCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIGBbMCwgMCwgMCwgMF1gLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFkZGluZyA9IG9wdGlvbnMucGFkZGluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblpvb21fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1pblpvb207XG4gICAgICAgIHZhciBjZW50ZXJDb25zdHJhaW50ID0gY3JlYXRlQ2VudGVyQ29uc3RyYWludChvcHRpb25zKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb25Db25zdHJhaW50ID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLmNvbnN0cmFpbnQ7XG4gICAgICAgIHZhciByb3RhdGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVSb3RhdGlvbkNvbnN0cmFpbnQob3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q29uc3RyYWludHN9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRzXyA9IHtcbiAgICAgICAgICAgIGNlbnRlcjogY2VudGVyQ29uc3RyYWludCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb25Db25zdHJhaW50LFxuICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uQ29uc3RyYWludCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMCk7XG4gICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwob3B0aW9ucy5jZW50ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2VudGVyIDogbnVsbCk7XG4gICAgICAgIGlmIChvcHRpb25zLnJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKG9wdGlvbnMucmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Wm9vbShvcHRpb25zLnpvb20pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtWaWV3T3B0aW9uc31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3B0aW9uc18gPSBvcHRpb25zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFuIHVwZGF0ZWQgdmVyc2lvbiBvZiB0aGUgdmlldyBvcHRpb25zIHVzZWQgdG8gY29uc3RydWN0IHRoZSB2aWV3LiAgVGhlXG4gICAgICogY3VycmVudCByZXNvbHV0aW9uIChvciB6b29tKSwgY2VudGVyLCBhbmQgcm90YXRpb24gYXJlIGFwcGxpZWQgdG8gYW55IHN0b3JlZFxuICAgICAqIG9wdGlvbnMuICBUaGUgcHJvdmlkZWQgb3B0aW9ucyBjYW4gYmUgdXNlZCB0byBhcHBseSBuZXcgbWluL21heCB6b29tIG9yXG4gICAgICogcmVzb2x1dGlvbiBsaW1pdHMuXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gbmV3T3B0aW9ucyBOZXcgb3B0aW9ucyB0byBiZSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm4ge1ZpZXdPcHRpb25zfSBOZXcgb3B0aW9ucyB1cGRhdGVkIHdpdGggdGhlIGN1cnJlbnQgdmlldyBzdGF0ZS5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRVcGRhdGVkT3B0aW9uc18gPSBmdW5jdGlvbiAobmV3T3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5vcHRpb25zXyk7XG4gICAgICAgIC8vIHByZXNlcnZlIHJlc29sdXRpb24gKG9yIHpvb20pXG4gICAgICAgIGlmIChvcHRpb25zLnJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLnpvb20gPSB0aGlzLmdldFpvb20oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVzZXJ2ZSBjZW50ZXJcbiAgICAgICAgb3B0aW9ucy5jZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgICAgIC8vIHByZXNlcnZlIHJvdGF0aW9uXG4gICAgICAgIG9wdGlvbnMucm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgICAgIHJldHVybiBhc3NpZ24oe30sIG9wdGlvbnMsIG5ld09wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQW5pbWF0ZSB0aGUgdmlldy4gIFRoZSB2aWV3J3MgY2VudGVyLCB6b29tIChvciByZXNvbHV0aW9uKSwgYW5kIHJvdGF0aW9uXG4gICAgICogY2FuIGJlIGFuaW1hdGVkIGZvciBzbW9vdGggdHJhbnNpdGlvbnMgYmV0d2VlbiB2aWV3IHN0YXRlcy4gIEZvciBleGFtcGxlLFxuICAgICAqIHRvIGFuaW1hdGUgdGhlIHZpZXcgdG8gYSBuZXcgem9vbSBsZXZlbDpcbiAgICAgKlxuICAgICAqICAgICB2aWV3LmFuaW1hdGUoe3pvb206IHZpZXcuZ2V0Wm9vbSgpICsgMX0pO1xuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIGFuaW1hdGlvbiBsYXN0cyBvbmUgc2Vjb25kIGFuZCB1c2VzIGluLWFuZC1vdXQgZWFzaW5nLiAgWW91XG4gICAgICogY2FuIGN1c3RvbWl6ZSB0aGlzIGJlaGF2aW9yIGJ5IGluY2x1ZGluZyBgZHVyYXRpb25gIChpbiBtaWxsaXNlY29uZHMpIGFuZFxuICAgICAqIGBlYXNpbmdgIG9wdGlvbnMgKHNlZSB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZ30pLlxuICAgICAqXG4gICAgICogVG8gY2hhaW4gdG9nZXRoZXIgbXVsdGlwbGUgYW5pbWF0aW9ucywgY2FsbCB0aGUgbWV0aG9kIHdpdGggbXVsdGlwbGVcbiAgICAgKiBhbmltYXRpb24gb2JqZWN0cy4gIEZvciBleGFtcGxlLCB0byBmaXJzdCB6b29tIGFuZCB0aGVuIHBhbjpcbiAgICAgKlxuICAgICAqICAgICB2aWV3LmFuaW1hdGUoe3pvb206IDEwfSwge2NlbnRlcjogWzAsIDBdfSk7XG4gICAgICpcbiAgICAgKiBJZiB5b3UgcHJvdmlkZSBhIGZ1bmN0aW9uIGFzIHRoZSBsYXN0IGFyZ3VtZW50IHRvIHRoZSBhbmltYXRlIG1ldGhvZCwgaXRcbiAgICAgKiB3aWxsIGdldCBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbiBhbmltYXRpb24gc2VyaWVzLiAgVGhlIGNhbGxiYWNrIHdpbGwgYmVcbiAgICAgKiBjYWxsZWQgd2l0aCBgdHJ1ZWAgaWYgdGhlIGFuaW1hdGlvbiBzZXJpZXMgY29tcGxldGVkIG9uIGl0cyBvd24gb3IgYGZhbHNlYFxuICAgICAqIGlmIGl0IHdhcyBjYW5jZWxsZWQuXG4gICAgICpcbiAgICAgKiBBbmltYXRpb25zIGFyZSBjYW5jZWxsZWQgYnkgdXNlciBpbnRlcmFjdGlvbnMgKGUuZy4gZHJhZ2dpbmcgdGhlIG1hcCkgb3IgYnlcbiAgICAgKiBjYWxsaW5nIGB2aWV3LnNldENlbnRlcigpYCwgYHZpZXcuc2V0UmVzb2x1dGlvbigpYCwgb3IgYHZpZXcuc2V0Um90YXRpb24oKWBcbiAgICAgKiAob3IgYW5vdGhlciBtZXRob2QgdGhhdCBjYWxscyBvbmUgb2YgdGhlc2UpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4oQW5pbWF0aW9uT3B0aW9uc3xmdW5jdGlvbihib29sZWFuKTogdm9pZCl9IHZhcl9hcmdzIEFuaW1hdGlvblxuICAgICAqICAgICBvcHRpb25zLiAgTXVsdGlwbGUgYW5pbWF0aW9ucyBjYW4gYmUgcnVuIGluIHNlcmllcyBieSBwYXNzaW5nIG11bHRpcGxlXG4gICAgICogICAgIG9wdGlvbnMgb2JqZWN0cy4gIFRvIHJ1biBtdWx0aXBsZSBhbmltYXRpb25zIGluIHBhcmFsbGVsLCBjYWxsIHRoZSBtZXRob2RcbiAgICAgKiAgICAgbXVsdGlwbGUgdGltZXMuICBBbiBvcHRpb25hbCBjYWxsYmFjayBjYW4gYmUgcHJvdmlkZWQgYXMgYSBmaW5hbFxuICAgICAqICAgICBhcmd1bWVudC4gIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXJcbiAgICAgKiAgICAgdGhlIGFuaW1hdGlvbiBjb21wbGV0ZWQgd2l0aG91dCBiZWluZyBjYW5jZWxsZWQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAodmFyX2FyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEZWYoKSAmJiAhdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jZW50ZXIpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNlbnRlciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRpb25zLmNlbnRlciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hbmNob3IgPSBmcm9tVXNlckNvb3JkaW5hdGUob3B0aW9ucy5hbmNob3IsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3NbaV0gPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0ZUludGVybmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsuLi4oQW5pbWF0aW9uT3B0aW9uc3xmdW5jdGlvbihib29sZWFuKTogdm9pZCl9IHZhcl9hcmdzIEFuaW1hdGlvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFuaW1hdGVJbnRlcm5hbCA9IGZ1bmN0aW9uICh2YXJfYXJncykge1xuICAgICAgICB2YXIgYW5pbWF0aW9uQ291bnQgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB2YXIgY2FsbGJhY2s7XG4gICAgICAgIGlmIChhbmltYXRpb25Db3VudCA+IDEgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhcmd1bWVudHNbYW5pbWF0aW9uQ291bnQgLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbYW5pbWF0aW9uQ291bnQgLSAxXTtcbiAgICAgICAgICAgIC0tYW5pbWF0aW9uQ291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRGVmKCkpIHtcbiAgICAgICAgICAgIC8vIGlmIHZpZXcgcHJvcGVydGllcyBhcmUgbm90IHlldCBzZXQsIHNob3J0Y3V0IHRvIHRoZSBmaW5hbCBzdGF0ZVxuICAgICAgICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV07XG4gICAgICAgICAgICBpZiAoc3RhdGUuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChzdGF0ZS5jZW50ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLnpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Wm9vbShzdGF0ZS56b29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihzdGF0ZS5yb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMudGFyZ2V0Q2VudGVyXy5zbGljZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMudGFyZ2V0UmVzb2x1dGlvbl87XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMudGFyZ2V0Um90YXRpb25fO1xuICAgICAgICB2YXIgc2VyaWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSAvKiogQHR5cGUge0FuaW1hdGlvbk9wdGlvbnN9ICovIChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFuY2hvcjogb3B0aW9ucy5hbmNob3IsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDAwLFxuICAgICAgICAgICAgICAgIGVhc2luZzogb3B0aW9ucy5lYXNpbmcgfHwgaW5BbmRPdXQsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNlbnRlcikge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnRhcmdldENlbnRlciA9IG9wdGlvbnMuY2VudGVyLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgY2VudGVyID0gYW5pbWF0aW9uLnRhcmdldENlbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20ob3B0aW9ucy56b29tKTtcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLnJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IG1vZHVsbyhvcHRpb25zLnJvdGF0aW9uIC0gcm90YXRpb24gKyBNYXRoLlBJLCAyICogTWF0aC5QSSkgLSBNYXRoLlBJO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbiA9IHJvdGF0aW9uICsgZGVsdGE7XG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSBhbmltYXRpb24udGFyZ2V0Um90YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBhbmltYXRpb24gaXMgYSBuby1vcFxuICAgICAgICAgICAgaWYgKGlzTm9vcEFuaW1hdGlvbihhbmltYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyB3ZSBzdGlsbCBwdXNoIGl0IG9udG8gdGhlIHNlcmllcyBmb3IgY2FsbGJhY2sgaGFuZGxpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0ICs9IGFuaW1hdGlvbi5kdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlcmllcy5wdXNoKGFuaW1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRpb25zXy5wdXNoKHNlcmllcyk7XG4gICAgICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIDEpO1xuICAgICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbnNfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIHZpZXcgaXMgYmVpbmcgYW5pbWF0ZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpZXcgaXMgYmVpbmcgYW5pbWF0ZWQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldEFuaW1hdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGludHNfW1ZpZXdIaW50LkFOSU1BVElOR10gPiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHRoZSB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIHZpZXcsIHN1Y2ggYXMgcGFubmluZyBvciB6b29taW5nLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB2aWV3IGlzIGJlaW5nIGludGVyYWN0ZWQgd2l0aC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0SW50ZXJhY3RpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpbnRzX1tWaWV3SGludC5JTlRFUkFDVElOR10gPiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGFueSBvbmdvaW5nIGFuaW1hdGlvbnMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNhbmNlbEFuaW1hdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIC10aGlzLmhpbnRzX1tWaWV3SGludC5BTklNQVRJTkddKTtcbiAgICAgICAgdmFyIGFuY2hvcjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5hbmltYXRpb25zXy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc2VyaWVzID0gdGhpcy5hbmltYXRpb25zX1tpXTtcbiAgICAgICAgICAgIGlmIChzZXJpZXNbMF0uY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25DYWxsYmFjayhzZXJpZXNbMF0uY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gc2VyaWVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNlcmllc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IGFuaW1hdGlvbi5hbmNob3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbnNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY2FuY2VsQW5jaG9yXyA9IGFuY2hvcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhbGwgYW5pbWF0aW9ucy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS51cGRhdGVBbmltYXRpb25zXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbW9yZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5hbmltYXRpb25zXy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIHNlcmllcyA9IHRoaXMuYW5pbWF0aW9uc19baV07XG4gICAgICAgICAgICB2YXIgc2VyaWVzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gc2VyaWVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2VyaWVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gYW5pbWF0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgICAgIHZhciBmcmFjdGlvbiA9IGFuaW1hdGlvbi5kdXJhdGlvbiA+IDAgPyBlbGFwc2VkIC8gYW5pbWF0aW9uLmR1cmF0aW9uIDogMTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhY3Rpb24gPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmcmFjdGlvbiA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXJpZXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBhbmltYXRpb24uZWFzaW5nKGZyYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHgwICsgcHJvZ3Jlc3MgKiAoeDEgLSB4MCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0geTAgKyBwcm9ncmVzcyAqICh5MSAtIHkwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gW3gsIHldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gJiYgYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBwcm9ncmVzcyA9PT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgOiBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24gLSBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uYW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbmVkUmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24ocmVzb2x1dGlvbiwgMCwgc2l6ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSB0aGlzLmNhbGN1bGF0ZUNlbnRlclpvb20oY29uc3RyYWluZWRSZXNvbHV0aW9uLCBhbmltYXRpb24uYW5jaG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXyh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3RhdGlvbiA9IHByb2dyZXNzID09PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG1vZHVsbyhhbmltYXRpb24udGFyZ2V0Um90YXRpb24gKyBNYXRoLlBJLCAyICogTWF0aC5QSSkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguUElcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhbmltYXRpb24udGFyZ2V0Um90YXRpb24gLSBhbmltYXRpb24uc291cmNlUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbmVkUm90YXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yb3RhdGlvbihyb3RhdGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSB0aGlzLmNhbGN1bGF0ZUNlbnRlclJvdGF0ZShjb25zdHJhaW5lZFJvdGF0aW9uLCBhbmltYXRpb24uYW5jaG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFJvdGF0aW9uXyA9IHJvdGF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKHRydWUpO1xuICAgICAgICAgICAgICAgIG1vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXJpZXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc19baV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIC0xKTtcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBzZXJpZXNbMF0uY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJ1bmUgY29tcGxldGVkIHNlcmllc1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNfID0gdGhpcy5hbmltYXRpb25zXy5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGlmIChtb3JlICYmIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVBbmltYXRpb25zXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFRhcmdldCByb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgUm90YXRpb24gYW5jaG9yLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyIGZvciByb3RhdGlvbiBhbmQgYW5jaG9yLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNhbGN1bGF0ZUNlbnRlclJvdGF0ZSA9IGZ1bmN0aW9uIChyb3RhdGlvbiwgYW5jaG9yKSB7XG4gICAgICAgIHZhciBjZW50ZXI7XG4gICAgICAgIHZhciBjdXJyZW50Q2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgICAgICBpZiAoY3VycmVudENlbnRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjZW50ZXIgPSBbY3VycmVudENlbnRlclswXSAtIGFuY2hvclswXSwgY3VycmVudENlbnRlclsxXSAtIGFuY2hvclsxXV07XG4gICAgICAgICAgICByb3RhdGVDb29yZGluYXRlKGNlbnRlciwgcm90YXRpb24gLSB0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgYWRkQ29vcmRpbmF0ZShjZW50ZXIsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNlbnRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBab29tIGFuY2hvci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3IgcmVzb2x1dGlvbiBhbmQgYW5jaG9yLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNhbGN1bGF0ZUNlbnRlclpvb20gPSBmdW5jdGlvbiAocmVzb2x1dGlvbiwgYW5jaG9yKSB7XG4gICAgICAgIHZhciBjZW50ZXI7XG4gICAgICAgIHZhciBjdXJyZW50Q2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgICAgICB2YXIgY3VycmVudFJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICAgICAgaWYgKGN1cnJlbnRDZW50ZXIgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGFuY2hvclswXSAtXG4gICAgICAgICAgICAgICAgKHJlc29sdXRpb24gKiAoYW5jaG9yWzBdIC0gY3VycmVudENlbnRlclswXSkpIC8gY3VycmVudFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgeSA9IGFuY2hvclsxXSAtXG4gICAgICAgICAgICAgICAgKHJlc29sdXRpb24gKiAoYW5jaG9yWzFdIC0gY3VycmVudENlbnRlclsxXSkpIC8gY3VycmVudFJlc29sdXRpb247XG4gICAgICAgICAgICBjZW50ZXIgPSBbeCwgeV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNlbnRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3JvdGF0aW9uIFRha2UgaW50byBhY2NvdW50IHRoZSByb3RhdGlvbiBvZiB0aGUgdmlld3BvcnQgd2hlbiBnaXZpbmcgdGhlIHNpemVcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gVmlld3BvcnQgc2l6ZSBvciBgWzEwMCwgMTAwXWAgd2hlbiBubyB2aWV3cG9ydCBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRWaWV3cG9ydFNpemVfID0gZnVuY3Rpb24gKG9wdF9yb3RhdGlvbikge1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMudmlld3BvcnRTaXplXztcbiAgICAgICAgaWYgKG9wdF9yb3RhdGlvbikge1xuICAgICAgICAgICAgdmFyIHcgPSBzaXplWzBdO1xuICAgICAgICAgICAgdmFyIGggPSBzaXplWzFdO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBNYXRoLmFicyh3ICogTWF0aC5jb3Mob3B0X3JvdGF0aW9uKSkgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhoICogTWF0aC5zaW4ob3B0X3JvdGF0aW9uKSksXG4gICAgICAgICAgICAgICAgTWF0aC5hYnModyAqIE1hdGguc2luKG9wdF9yb3RhdGlvbikpICtcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoaCAqIE1hdGguY29zKG9wdF9yb3RhdGlvbikpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzaXplO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdGhlIHZpZXdwb3J0IHNpemUgb24gdGhlIHZpZXcuIFRoZSB2aWV3cG9ydCBzaXplIGlzIG5vdCByZWFkIGV2ZXJ5IHRpbWUgZnJvbSB0aGUgRE9NXG4gICAgICogdG8gYXZvaWQgcGVyZm9ybWFuY2UgaGl0IGFuZCBsYXlvdXQgcmVmbG93LlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGRvbmUgb24gbWFwIHNpemUgY2hhbmdlLlxuICAgICAqIE5vdGU6IHRoZSBjb25zdHJhaW50cyBhcmUgbm90IHJlc29sdmVkIGR1cmluZyBhbiBhbmltYXRpb24gdG8gYXZvaWQgc3RvcHBpbmcgaXRcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplPX0gb3B0X3NpemUgVmlld3BvcnQgc2l6ZTsgaWYgdW5kZWZpbmVkLCBbMTAwLCAxMDBdIGlzIGFzc3VtZWRcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRWaWV3cG9ydFNpemUgPSBmdW5jdGlvbiAob3B0X3NpemUpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydFNpemVfID0gQXJyYXkuaXNBcnJheShvcHRfc2l6ZSlcbiAgICAgICAgICAgID8gb3B0X3NpemUuc2xpY2UoKVxuICAgICAgICAgICAgOiBbMTAwLCAxMDBdO1xuICAgICAgICBpZiAoIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgY2VudGVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgICAgIGlmICghY2VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1VzZXJDb29yZGluYXRlKGNlbnRlciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IGNlbnRlciB3aXRob3V0IHRyYW5zZm9ybWluZyB0byB1c2VyIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChWaWV3UHJvcGVydHkuQ0VOVEVSKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtDb25zdHJhaW50c30gQ29uc3RyYWludHMuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJlc29sdXRpb24gY29uc3RyYWludCBpcyBzZXRcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zXy5jb25zdHJhaW5SZXNvbHV0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2hpbnRzIERlc3RpbmF0aW9uIGFycmF5LlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEhpbnQuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0SGludHMgPSBmdW5jdGlvbiAob3B0X2hpbnRzKSB7XG4gICAgICAgIGlmIChvcHRfaGludHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3B0X2hpbnRzWzBdID0gdGhpcy5oaW50c19bMF07XG4gICAgICAgICAgICBvcHRfaGludHNbMV0gPSB0aGlzLmhpbnRzX1sxXTtcbiAgICAgICAgICAgIHJldHVybiBvcHRfaGludHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaW50c18uc2xpY2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBleHRlbnQgZm9yIHRoZSBjdXJyZW50IHZpZXcgc3RhdGUgYW5kIHRoZSBwYXNzZWQgc2l6ZS5cbiAgICAgKiBUaGUgc2l6ZSBpcyB0aGUgcGl4ZWwgZGltZW5zaW9ucyBvZiB0aGUgYm94IGludG8gd2hpY2ggdGhlIGNhbGN1bGF0ZWQgZXh0ZW50XG4gICAgICogc2hvdWxkIGZpdC4gSW4gbW9zdCBjYXNlcyB5b3Ugd2FudCB0byBnZXQgdGhlIGV4dGVudCBvZiB0aGUgZW50aXJlIG1hcCxcbiAgICAgKiB0aGF0IGlzIGBtYXAuZ2V0U2l6ZSgpYC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplPX0gb3B0X3NpemUgQm94IHBpeGVsIHNpemUuIElmIG5vdCBwcm92aWRlZCwgdGhlIHNpemVcbiAgICAgKiBvZiB0aGUgbWFwIHRoYXQgdXNlcyB0aGlzIHZpZXcgd2lsbCBiZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVFeHRlbnQgPSBmdW5jdGlvbiAob3B0X3NpemUpIHtcbiAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMuY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwob3B0X3NpemUpO1xuICAgICAgICByZXR1cm4gdG9Vc2VyRXh0ZW50KGV4dGVudCwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF9zaXplIEJveCBwaXhlbCBzaXplLiBJZiBub3QgcHJvdmlkZWQsXG4gICAgICogdGhlIG1hcCdzIGxhc3Qga25vd24gdmlld3BvcnQgc2l6ZSB3aWxsIGJlIHVzZWQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwgPSBmdW5jdGlvbiAob3B0X3NpemUpIHtcbiAgICAgICAgdmFyIHNpemUgPSBvcHRfc2l6ZSB8fCB0aGlzLmdldFZpZXdwb3J0U2l6ZV8oKTtcbiAgICAgICAgdmFyIGNlbnRlciA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqLyAodGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpKTtcbiAgICAgICAgYXNzZXJ0KGNlbnRlciwgMSk7IC8vIFRoZSB2aWV3IGNlbnRlciBpcyBub3QgZGVmaW5lZFxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IC8qKiBAdHlwZSB7IW51bWJlcn0gKi8gKHRoaXMuZ2V0UmVzb2x1dGlvbigpKTtcbiAgICAgICAgYXNzZXJ0KHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCwgMik7IC8vIFRoZSB2aWV3IHJlc29sdXRpb24gaXMgbm90IGRlZmluZWRcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gLyoqIEB0eXBlIHshbnVtYmVyfSAqLyAodGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgYXNzZXJ0KHJvdGF0aW9uICE9PSB1bmRlZmluZWQsIDMpOyAvLyBUaGUgdmlldyByb3RhdGlvbiBpcyBub3QgZGVmaW5lZFxuICAgICAgICByZXR1cm4gZ2V0Rm9yVmlld0FuZFNpemUoY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgc2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldE1heFJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heFJlc29sdXRpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRNaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5SZXNvbHV0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldE1heFpvb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5taW5SZXNvbHV0aW9uXykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgbmV3IG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1heGltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0TWF4Wm9vbSA9IGZ1bmN0aW9uICh6b29tKSB7XG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7IG1heFpvb206IHpvb20gfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0TWluWm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgYSBuZXcgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBUaGUgbWluaW11bSB6b29tIGxldmVsLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRNaW5ab29tID0gZnVuY3Rpb24gKHpvb20pIHtcbiAgICAgICAgdGhpcy5hcHBseU9wdGlvbnNfKHRoaXMuZ2V0VXBkYXRlZE9wdGlvbnNfKHsgbWluWm9vbTogem9vbSB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGUgdmlldyBzaG91ZCBhbGxvdyBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIFdoZXRoZXIgdGhlIHJlc29sdXRpb24gaXMgY29uc3RyYWluZWQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldENvbnN0cmFpblJlc29sdXRpb24gPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmFwcGx5T3B0aW9uc18odGhpcy5nZXRVcGRhdGVkT3B0aW9uc18oeyBjb25zdHJhaW5SZXNvbHV0aW9uOiBlbmFibGVkIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFRoZSBwcm9qZWN0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmlldyByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFRoZSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcnx1bmRlZmluZWR9ICovICh0aGlzLmdldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXNvbHV0aW9ucyBmb3IgdGhlIHZpZXcuIFRoaXMgcmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzb2x1dGlvbnNcbiAgICAgKiBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBWaWV3LCBvciB1bmRlZmluZWQgaWYgbm9uZSB3ZXJlIGdpdmVuLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfSBUaGUgcmVzb2x1dGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlc29sdXRpb24gZm9yIGEgcHJvdmlkZWQgZXh0ZW50IChpbiBtYXAgdW5pdHMpIGFuZCBzaXplIChpbiBwaXhlbHMpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemU9fSBvcHRfc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3JFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50LCBvcHRfc2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwoZnJvbVVzZXJFeHRlbnQoZXh0ZW50LCB0aGlzLmdldFByb2plY3Rpb24oKSksIG9wdF9zaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF9zaXplIEJveCBwaXhlbCBzaXplLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIHByb3ZpZGVkIGV4dGVudCB3aWxsIHJlbmRlciBhdFxuICAgICAqICAgICB0aGUgZ2l2ZW4gc2l6ZS5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwgPSBmdW5jdGlvbiAoZXh0ZW50LCBvcHRfc2l6ZSkge1xuICAgICAgICB2YXIgc2l6ZSA9IG9wdF9zaXplIHx8IHRoaXMuZ2V0Vmlld3BvcnRTaXplXygpO1xuICAgICAgICB2YXIgeFJlc29sdXRpb24gPSBnZXRXaWR0aChleHRlbnQpIC8gc2l6ZVswXTtcbiAgICAgICAgdmFyIHlSZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KGV4dGVudCkgLyBzaXplWzFdO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoeFJlc29sdXRpb24sIHlSZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMSBmb3IgYVxuICAgICAqIHJlc29sdXRpb24uIEV4cG9uZW50aWFsIHNjYWxpbmcgaXMgYXNzdW1lZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9wb3dlciBQb3dlci5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihudW1iZXIpOiBudW1iZXJ9IFJlc29sdXRpb24gZm9yIHZhbHVlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3JWYWx1ZUZ1bmN0aW9uID0gZnVuY3Rpb24gKG9wdF9wb3dlcikge1xuICAgICAgICB2YXIgcG93ZXIgPSBvcHRfcG93ZXIgfHwgMjtcbiAgICAgICAgdmFyIG1heFJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKTtcbiAgICAgICAgdmFyIG1pblJlc29sdXRpb24gPSB0aGlzLm1pblJlc29sdXRpb25fO1xuICAgICAgICB2YXIgbWF4ID0gTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIG1pblJlc29sdXRpb24pIC8gTWF0aC5sb2cocG93ZXIpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICAgICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHBvd2VyLCB2YWx1ZSAqIG1heCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgcm90YXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcm90YXRpb24gb2YgdGhlIHZpZXcgaW4gcmFkaWFucy5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRSb3RhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXNvbHV0aW9uIGZvciBhIHZhbHVlIGJldHdlZW5cbiAgICAgKiAwIGFuZCAxLiBFeHBvbmVudGlhbCBzY2FsaW5nIGlzIGFzc3VtZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcG93ZXIgUG93ZXIuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyKTogbnVtYmVyfSBWYWx1ZSBmb3IgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRWYWx1ZUZvclJlc29sdXRpb25GdW5jdGlvbiA9IGZ1bmN0aW9uIChvcHRfcG93ZXIpIHtcbiAgICAgICAgdmFyIGxvZ1Bvd2VyID0gTWF0aC5sb2cob3B0X3Bvd2VyIHx8IDIpO1xuICAgICAgICB2YXIgbWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRoaXMubWF4UmVzb2x1dGlvbl8pO1xuICAgICAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgICAgIHZhciBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBsb2dQb3dlcjtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gVmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIHJlc29sdXRpb24pIC8gbG9nUG93ZXIgLyBtYXg7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgdmlld3BvcnQgbWludXMgcGFkZGluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3JvdGF0aW9uIFRha2UgaW50byBhY2NvdW50IHRoZSByb3RhdGlvbiBvZiB0aGUgdmlld3BvcnQgd2hlbiBnaXZpbmcgdGhlIHNpemVcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gVmlld3BvcnQgc2l6ZSByZWR1Y2VkIGJ5IHRoZSBwYWRkaW5nLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18gPSBmdW5jdGlvbiAob3B0X3JvdGF0aW9uKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKG9wdF9yb3RhdGlvbik7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5wYWRkaW5nO1xuICAgICAgICBpZiAocGFkZGluZykge1xuICAgICAgICAgICAgc2l6ZSA9IFtcbiAgICAgICAgICAgICAgICBzaXplWzBdIC0gcGFkZGluZ1sxXSAtIHBhZGRpbmdbM10sXG4gICAgICAgICAgICAgICAgc2l6ZVsxXSAtIHBhZGRpbmdbMF0gLSBwYWRkaW5nWzJdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1N0YXRlfSBWaWV3IHN0YXRlLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXRSZXNvbHV0aW9uKCkpO1xuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgICAgIHZhciBjZW50ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqLyAodGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpKTtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmc7XG4gICAgICAgIGlmIChwYWRkaW5nKSB7XG4gICAgICAgICAgICB2YXIgcmVkdWNlZFNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18oKTtcbiAgICAgICAgICAgIGNlbnRlciA9IGNhbGN1bGF0ZUNlbnRlck9uKGNlbnRlciwgdGhpcy5nZXRWaWV3cG9ydFNpemVfKCksIFtyZWR1Y2VkU2l6ZVswXSAvIDIgKyBwYWRkaW5nWzNdLCByZWR1Y2VkU2l6ZVsxXSAvIDIgKyBwYWRkaW5nWzBdXSwgcmVzb2x1dGlvbiwgcm90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlci5zbGljZSgwKSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IHByb2plY3Rpb24gOiBudWxsLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgICAgIHpvb206IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuIFRoaXMgbWV0aG9kIG1heSByZXR1cm4gbm9uLWludGVnZXIgem9vbSBsZXZlbHNcbiAgICAgKiBpZiB0aGUgdmlldyBkb2VzIG5vdCBjb25zdHJhaW4gdGhlIHJlc29sdXRpb24sIG9yIGlmIGFuIGludGVyYWN0aW9uIG9yXG4gICAgICogYW5pbWF0aW9uIGlzIHVuZGVyd2F5LlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFpvb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB6b29tO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB6b29tID0gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgem9vbSBsZXZlbCBmb3IgYSByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFRoZSByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFRoZSB6b29tIGxldmVsIGZvciB0aGUgcHJvdmlkZWQgcmVzb2x1dGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Wm9vbUZvclJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5taW5ab29tXyB8fCAwO1xuICAgICAgICB2YXIgbWF4LCB6b29tRmFjdG9yO1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgICAgICAgIHZhciBuZWFyZXN0ID0gbGluZWFyRmluZE5lYXJlc3QodGhpcy5yZXNvbHV0aW9uc18sIHJlc29sdXRpb24sIDEpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gbmVhcmVzdDtcbiAgICAgICAgICAgIG1heCA9IHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3RdO1xuICAgICAgICAgICAgaWYgKG5lYXJlc3QgPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgem9vbUZhY3RvciA9IG1heCAvIHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3QgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1heCA9IHRoaXMubWF4UmVzb2x1dGlvbl87XG4gICAgICAgICAgICB6b29tRmFjdG9yID0gdGhpcy56b29tRmFjdG9yXztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgTWF0aC5sb2cobWF4IC8gcmVzb2x1dGlvbikgLyBNYXRoLmxvZyh6b29tRmFjdG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgdmlldyByZXNvbHV0aW9uIGZvciB0aGUgcHJvdmlkZWQgem9vbSBsZXZlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvclpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJhc2VMZXZlbCA9IGNsYW1wKE1hdGguZmxvb3Ioem9vbSksIDAsIHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICAgdmFyIHpvb21GYWN0b3IgPSB0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWxdIC8gdGhpcy5yZXNvbHV0aW9uc19bYmFzZUxldmVsICsgMV07XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMucmVzb2x1dGlvbnNfW2Jhc2VMZXZlbF0gL1xuICAgICAgICAgICAgICAgIE1hdGgucG93KHpvb21GYWN0b3IsIGNsYW1wKHpvb20gLSBiYXNlTGV2ZWwsIDAsIDEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubWF4UmVzb2x1dGlvbl8gLyBNYXRoLnBvdyh0aGlzLnpvb21GYWN0b3JfLCB6b29tIC0gdGhpcy5taW5ab29tXykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXQgdGhlIGdpdmVuIGdlb21ldHJ5IG9yIGV4dGVudCBiYXNlZCBvbiB0aGUgZ2l2ZW4gbWFwIHNpemUgYW5kIGJvcmRlci5cbiAgICAgKiBUaGUgc2l6ZSBpcyBwaXhlbCBkaW1lbnNpb25zIG9mIHRoZSBib3ggdG8gZml0IHRoZSBleHRlbnQgaW50by5cbiAgICAgKiBJbiBtb3N0IGNhc2VzIHlvdSB3aWxsIHdhbnQgdG8gdXNlIHRoZSBtYXAgc2l6ZSwgdGhhdCBpcyBgbWFwLmdldFNpemUoKWAuXG4gICAgICogVGFrZXMgY2FyZSBvZiB0aGUgbWFwIGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBnZW9tZXRyeU9yRXh0ZW50IFRoZSBnZW9tZXRyeSBvclxuICAgICAqICAgICBleHRlbnQgdG8gZml0IHRoZSB2aWV3IHRvLlxuICAgICAqIEBwYXJhbSB7Rml0T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIChnZW9tZXRyeU9yRXh0ZW50LCBvcHRfb3B0aW9ucykge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqL1xuICAgICAgICB2YXIgZ2VvbWV0cnk7XG4gICAgICAgIGFzc2VydChBcnJheS5pc0FycmF5KGdlb21ldHJ5T3JFeHRlbnQpIHx8XG4gICAgICAgICAgICB0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKGdlb21ldHJ5T3JFeHRlbnQpLmdldFNpbXBsaWZpZWRHZW9tZXRyeSkgPT09XG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uJywgMjQpOyAvLyBJbnZhbGlkIGV4dGVudCBvciBnZW9tZXRyeSBwcm92aWRlZCBhcyBgZ2VvbWV0cnlgXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGdlb21ldHJ5T3JFeHRlbnQpKSB7XG4gICAgICAgICAgICBhc3NlcnQoIWlzRW1wdHkoZ2VvbWV0cnlPckV4dGVudCksIDI1KTsgLy8gQ2Fubm90IGZpdCBlbXB0eSBleHRlbnQgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YFxuICAgICAgICAgICAgdmFyIGV4dGVudCA9IGZyb21Vc2VyRXh0ZW50KGdlb21ldHJ5T3JFeHRlbnQsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gcG9seWdvbkZyb21FeHRlbnQoZXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeU9yRXh0ZW50LmdldFR5cGUoKSA9PT0gR2VvbWV0cnlUeXBlLkNJUkNMRSkge1xuICAgICAgICAgICAgdmFyIGV4dGVudCA9IGZyb21Vc2VyRXh0ZW50KGdlb21ldHJ5T3JFeHRlbnQuZ2V0RXh0ZW50KCksIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gcG9seWdvbkZyb21FeHRlbnQoZXh0ZW50KTtcbiAgICAgICAgICAgIGdlb21ldHJ5LnJvdGF0ZSh0aGlzLmdldFJvdGF0aW9uKCksIGdldENlbnRlcihleHRlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB1c2VyUHJvamVjdGlvbiA9IGdldFVzZXJQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAodXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeU9yRXh0ZW50XG4gICAgICAgICAgICAgICAgICAgIC5jbG9uZSgpXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2Zvcm0odXNlclByb2plY3Rpb24sIHRoaXMuZ2V0UHJvamVjdGlvbigpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5T3JFeHRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXRJbnRlcm5hbChnZW9tZXRyeSwgb3B0X29wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7Rml0T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZml0SW50ZXJuYWwgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBzaXplID0gb3B0aW9ucy5zaXplO1xuICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAgIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFkZGluZyA9IG9wdGlvbnMucGFkZGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wYWRkaW5nIDogWzAsIDAsIDAsIDBdO1xuICAgICAgICB2YXIgbmVhcmVzdCA9IG9wdGlvbnMubmVhcmVzdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uZWFyZXN0IDogZmFsc2U7XG4gICAgICAgIHZhciBtaW5SZXNvbHV0aW9uO1xuICAgICAgICBpZiAob3B0aW9ucy5taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSBvcHRpb25zLm1pblJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKG9wdGlvbnMubWF4Wm9vbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29vcmRzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSByb3RhdGVkIGV4dGVudFxuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKC1yb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5BbmdsZSA9IE1hdGguc2luKC1yb3RhdGlvbik7XG4gICAgICAgIHZhciBtaW5Sb3RYID0gK0luZmluaXR5O1xuICAgICAgICB2YXIgbWluUm90WSA9ICtJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heFJvdFggPSAtSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhSb3RZID0gLUluZmluaXR5O1xuICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3Jkcy5sZW5ndGg7IGkgPCBpaTsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIHZhciByb3RYID0gY29vcmRzW2ldICogY29zQW5nbGUgLSBjb29yZHNbaSArIDFdICogc2luQW5nbGU7XG4gICAgICAgICAgICB2YXIgcm90WSA9IGNvb3Jkc1tpXSAqIHNpbkFuZ2xlICsgY29vcmRzW2kgKyAxXSAqIGNvc0FuZ2xlO1xuICAgICAgICAgICAgbWluUm90WCA9IE1hdGgubWluKG1pblJvdFgsIHJvdFgpO1xuICAgICAgICAgICAgbWluUm90WSA9IE1hdGgubWluKG1pblJvdFksIHJvdFkpO1xuICAgICAgICAgICAgbWF4Um90WCA9IE1hdGgubWF4KG1heFJvdFgsIHJvdFgpO1xuICAgICAgICAgICAgbWF4Um90WSA9IE1hdGgubWF4KG1heFJvdFksIHJvdFkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGN1bGF0ZSByZXNvbHV0aW9uXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwoW21pblJvdFgsIG1pblJvdFksIG1heFJvdFgsIG1heFJvdFldLCBbc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLCBzaXplWzFdIC0gcGFkZGluZ1swXSAtIHBhZGRpbmdbMl1dKTtcbiAgICAgICAgcmVzb2x1dGlvbiA9IGlzTmFOKHJlc29sdXRpb24pXG4gICAgICAgICAgICA/IG1pblJlc29sdXRpb25cbiAgICAgICAgICAgIDogTWF0aC5tYXgocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbik7XG4gICAgICAgIHJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBuZWFyZXN0ID8gMCA6IDEpO1xuICAgICAgICAvLyBjYWxjdWxhdGUgY2VudGVyXG4gICAgICAgIHNpbkFuZ2xlID0gLXNpbkFuZ2xlOyAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIHJvdGF0aW9uXG4gICAgICAgIHZhciBjZW50ZXJSb3RYID0gKG1pblJvdFggKyBtYXhSb3RYKSAvIDI7XG4gICAgICAgIHZhciBjZW50ZXJSb3RZID0gKG1pblJvdFkgKyBtYXhSb3RZKSAvIDI7XG4gICAgICAgIGNlbnRlclJvdFggKz0gKChwYWRkaW5nWzFdIC0gcGFkZGluZ1szXSkgLyAyKSAqIHJlc29sdXRpb247XG4gICAgICAgIGNlbnRlclJvdFkgKz0gKChwYWRkaW5nWzBdIC0gcGFkZGluZ1syXSkgLyAyKSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBjZW50ZXJYID0gY2VudGVyUm90WCAqIGNvc0FuZ2xlIC0gY2VudGVyUm90WSAqIHNpbkFuZ2xlO1xuICAgICAgICB2YXIgY2VudGVyWSA9IGNlbnRlclJvdFkgKiBjb3NBbmdsZSArIGNlbnRlclJvdFggKiBzaW5BbmdsZTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q29uc3RyYWluZWRDZW50ZXIoW2NlbnRlclgsIGNlbnRlclldLCByZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayA/IG9wdGlvbnMuY2FsbGJhY2sgOiBWT0lEO1xuICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2VudGVyIG9uIGNvb3JkaW5hdGUgYW5kIHZpZXcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQm94IHBpeGVsIHNpemUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNlbnRlck9uID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuY2VudGVyT25JbnRlcm5hbChmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpLCBzaXplLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jZW50ZXJPbkludGVybmFsID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoY2FsY3VsYXRlQ2VudGVyT24oY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24sIHRoaXMuZ2V0UmVzb2x1dGlvbigpLCB0aGlzLmdldFJvdGF0aW9uKCkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNoaWZ0IGJldHdlZW4gbWFwIGFuZCB2aWV3cG9ydCBjZW50ZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IENlbnRlciBzaGlmdC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJTaGlmdCA9IGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplKSB7XG4gICAgICAgIHZhciBjZW50ZXJTaGlmdDtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmc7XG4gICAgICAgIGlmIChwYWRkaW5nICYmIGNlbnRlcikge1xuICAgICAgICAgICAgdmFyIHJlZHVjZWRTaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKC1yb3RhdGlvbik7XG4gICAgICAgICAgICB2YXIgc2hpZnRlZENlbnRlciA9IGNhbGN1bGF0ZUNlbnRlck9uKGNlbnRlciwgc2l6ZSwgW3JlZHVjZWRTaXplWzBdIC8gMiArIHBhZGRpbmdbM10sIHJlZHVjZWRTaXplWzFdIC8gMiArIHBhZGRpbmdbMF1dLCByZXNvbHV0aW9uLCByb3RhdGlvbik7XG4gICAgICAgICAgICBjZW50ZXJTaGlmdCA9IFtcbiAgICAgICAgICAgICAgICBjZW50ZXJbMF0gLSBzaGlmdGVkQ2VudGVyWzBdLFxuICAgICAgICAgICAgICAgIGNlbnRlclsxXSAtIHNoaWZ0ZWRDZW50ZXJbMV0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZW50ZXJTaGlmdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGRlZmluZWQuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuaXNEZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSAmJiB0aGlzLmdldFJlc29sdXRpb24oKSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyByZWxhdGl2ZSBjb29yZGluYXRlcyB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3LiBBbnkgZXh0ZW50IGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkZWx0YUNvb3JkaW5hdGVzIFJlbGF0aXZlIHZhbHVlIHRvIGFkZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYWRqdXN0Q2VudGVyID0gZnVuY3Rpb24gKGRlbHRhQ29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRvVXNlckNvb3JkaW5hdGUodGhpcy50YXJnZXRDZW50ZXJfLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgIHRoaXMuc2V0Q2VudGVyKFtcbiAgICAgICAgICAgIGNlbnRlclswXSArIGRlbHRhQ29vcmRpbmF0ZXNbMF0sXG4gICAgICAgICAgICBjZW50ZXJbMV0gKyBkZWx0YUNvb3JkaW5hdGVzWzFdLFxuICAgICAgICBdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlldy4gQW55IGV4dGVudCBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGFDb29yZGluYXRlcyBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYWRqdXN0Q2VudGVySW50ZXJuYWwgPSBmdW5jdGlvbiAoZGVsdGFDb29yZGluYXRlcykge1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy50YXJnZXRDZW50ZXJfO1xuICAgICAgICB0aGlzLnNldENlbnRlckludGVybmFsKFtcbiAgICAgICAgICAgIGNlbnRlclswXSArIGRlbHRhQ29vcmRpbmF0ZXNbMF0sXG4gICAgICAgICAgICBjZW50ZXJbMV0gKyBkZWx0YUNvb3JkaW5hdGVzWzFdLFxuICAgICAgICBdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoZSB2aWV3IHJlc29sdXRpb24gYnkgYSByYXRpbywgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByZXNvbHV0aW9uXG4gICAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYXRpbyBUaGUgcmF0aW8gdG8gYXBwbHkgb24gdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYWRqdXN0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyYXRpbywgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgYW5jaG9yID0gb3B0X2FuY2hvciAmJiBmcm9tVXNlckNvb3JkaW5hdGUob3B0X2FuY2hvciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICB0aGlzLmFkanVzdFJlc29sdXRpb25JbnRlcm5hbChyYXRpbywgYW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoZSB2aWV3IHJlc29sdXRpb24gYnkgYSByYXRpbywgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByZXNvbHV0aW9uXG4gICAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYXRpbyBUaGUgcmF0aW8gdG8gYXBwbHkgb24gdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwgPSBmdW5jdGlvbiAocmF0aW8sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGlzTW92aW5nID0gdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIHZhciBuZXdSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0aGlzLnRhcmdldFJlc29sdXRpb25fICogcmF0aW8sIDAsIHNpemUsIGlzTW92aW5nKTtcbiAgICAgICAgaWYgKG9wdF9hbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyWm9vbShuZXdSZXNvbHV0aW9uLCBvcHRfYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fICo9IHJhdGlvO1xuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdmFsdWUgdG8gdGhlIHZpZXcgem9vbSBsZXZlbCwgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByZXNvbHV0aW9uXG4gICAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdFpvb20gPSBmdW5jdGlvbiAoZGVsdGEsIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdGhpcy5hZGp1c3RSZXNvbHV0aW9uKE1hdGgucG93KHRoaXMuem9vbUZhY3Rvcl8sIC1kZWx0YSksIG9wdF9hbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHZhbHVlIHRvIHRoZSB2aWV3IHJvdGF0aW9uLCBvcHRpb25hbGx5IHVzaW5nIGFuIGFuY2hvci4gQW55IHJvdGF0aW9uXG4gICAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gcm90YXRpb24sIGluIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgVGhlIHJvdGF0aW9uIGNlbnRlci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYWRqdXN0Um90YXRpb24gPSBmdW5jdGlvbiAoZGVsdGEsIG9wdF9hbmNob3IpIHtcbiAgICAgICAgaWYgKG9wdF9hbmNob3IpIHtcbiAgICAgICAgICAgIG9wdF9hbmNob3IgPSBmcm9tVXNlckNvb3JkaW5hdGUob3B0X2FuY2hvciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRqdXN0Um90YXRpb25JbnRlcm5hbChkZWx0YSwgb3B0X2FuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgUmVsYXRpdmUgdmFsdWUgdG8gYWRkIHRvIHRoZSB6b29tIHJvdGF0aW9uLCBpbiByYWRpYW5zLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfYW5jaG9yIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYWRqdXN0Um90YXRpb25JbnRlcm5hbCA9IGZ1bmN0aW9uIChkZWx0YSwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgaXNNb3ZpbmcgPSB0aGlzLmdldEFuaW1hdGluZygpIHx8IHRoaXMuZ2V0SW50ZXJhY3RpbmcoKTtcbiAgICAgICAgdmFyIG5ld1JvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24odGhpcy50YXJnZXRSb3RhdGlvbl8gKyBkZWx0YSwgaXNNb3ZpbmcpO1xuICAgICAgICBpZiAob3B0X2FuY2hvcikge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUobmV3Um90YXRpb24sIG9wdF9hbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fICs9IGRlbHRhO1xuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNlbnRlciBvZiB0aGUgY3VycmVudCB2aWV3LiBBbnkgZXh0ZW50IGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Q2VudGVyID0gZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICB0aGlzLnNldENlbnRlckludGVybmFsKGZyb21Vc2VyQ29vcmRpbmF0ZShjZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNlbnRlciB1c2luZyB0aGUgdmlldyBwcm9qZWN0aW9uIChub3QgdGhlIHVzZXIgcHJvamVjdGlvbikuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKGNlbnRlcikge1xuICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9WaWV3SGludC5qc1wiKS5kZWZhdWx0fSBoaW50IEhpbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTmV3IHZhbHVlLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldEhpbnQgPSBmdW5jdGlvbiAoaGludCwgZGVsdGEpIHtcbiAgICAgICAgdGhpcy5oaW50c19baGludF0gKz0gZGVsdGE7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5oaW50c19baGludF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlc29sdXRpb24gZm9yIHRoaXMgdmlldy4gQW55IHJlc29sdXRpb24gY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcm90YXRpb24gZm9yIHRoaXMgdmlldy4gQW55IHJvdGF0aW9uIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogWm9vbSB0byBhIHNwZWNpZmljIHpvb20gbGV2ZWwuIEFueSByZXNvbHV0aW9uIGNvbnN0cmFpbiB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldFpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICB0aGlzLnNldFJlc29sdXRpb24odGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh6b29tKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNvbXB1dGUgcm90YXRpb24vcmVzb2x1dGlvbi9jZW50ZXIgYmFzZWQgb24gdGFyZ2V0IHZhbHVlcy5cbiAgICAgKiBOb3RlOiB3ZSBoYXZlIHRvIGNvbXB1dGUgcm90YXRpb24gZmlyc3QsIHRoZW4gcmVzb2x1dGlvbiBhbmQgY2VudGVyIGNvbnNpZGVyaW5nIHRoYXRcbiAgICAgKiBwYXJhbWV0ZXJzIGNhbiBpbmZsdWVuY2Ugb25lIGFub3RoZXIgaW4gY2FzZSBhIHZpZXcgZXh0ZW50IGNvbnN0cmFpbnQgaXMgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZG9Ob3RDYW5jZWxBbmltcyBEbyBub3QgY2FuY2VsIGFuaW1hdGlvbnMuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2ZvcmNlTW92aW5nIEFwcGx5IGNvbnN0cmFpbnRzIGFzIGlmIHRoZSB2aWV3IGlzIG1vdmluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFwcGx5VGFyZ2V0U3RhdGVfID0gZnVuY3Rpb24gKG9wdF9kb05vdENhbmNlbEFuaW1zLCBvcHRfZm9yY2VNb3ZpbmcpIHtcbiAgICAgICAgdmFyIGlzTW92aW5nID0gdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCkgfHwgb3B0X2ZvcmNlTW92aW5nO1xuICAgICAgICAvLyBjb21wdXRlIHJvdGF0aW9uXG4gICAgICAgIHZhciBuZXdSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKHRoaXMudGFyZ2V0Um90YXRpb25fLCBpc01vdmluZyk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKG5ld1JvdGF0aW9uKTtcbiAgICAgICAgdmFyIG5ld1Jlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8sIDAsIHNpemUsIGlzTW92aW5nKTtcbiAgICAgICAgdmFyIG5ld0NlbnRlciA9IHRoaXMuY29uc3RyYWludHNfLmNlbnRlcih0aGlzLnRhcmdldENlbnRlcl8sIG5ld1Jlc29sdXRpb24sIHNpemUsIGlzTW92aW5nLCB0aGlzLmNhbGN1bGF0ZUNlbnRlclNoaWZ0KHRoaXMudGFyZ2V0Q2VudGVyXywgbmV3UmVzb2x1dGlvbiwgbmV3Um90YXRpb24sIHNpemUpKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5ST1RBVElPTikgIT09IG5ld1JvdGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuUk9UQVRJT04sIG5ld1JvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJFU09MVVRJT04pICE9PSBuZXdSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTiwgbmV3UmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmdldChWaWV3UHJvcGVydHkuQ0VOVEVSKSB8fFxuICAgICAgICAgICAgIWVxdWFscyh0aGlzLmdldChWaWV3UHJvcGVydHkuQ0VOVEVSKSwgbmV3Q2VudGVyKSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LkNFTlRFUiwgbmV3Q2VudGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRBbmltYXRpbmcoKSAmJiAhb3B0X2RvTm90Q2FuY2VsQW5pbXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuY2VsQW5jaG9yXyA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIGFueSBjb25zdHJhaW50cyBuZWVkIHRvIGJlIGFwcGxpZWQsIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZC5cbiAgICAgKiBUaGlzIGlzIHR5cGljYWxseSBkb25lIG9uIGludGVyYWN0aW9uIGVuZC5cbiAgICAgKiBOb3RlOiBjYWxsaW5nIHRoaXMgd2l0aCBhIGR1cmF0aW9uIG9mIDAgd2lsbCBhcHBseSB0aGUgY29uc3RyYWluZWQgdmFsdWVzIHN0cmFpZ2h0IGF3YXksXG4gICAgICogd2l0aG91dCBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZHVyYXRpb24gVGhlIGFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9yZXNvbHV0aW9uRGlyZWN0aW9uIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfYW5jaG9yIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnJlc29sdmVDb25zdHJhaW50cyA9IGZ1bmN0aW9uIChvcHRfZHVyYXRpb24sIG9wdF9yZXNvbHV0aW9uRGlyZWN0aW9uLCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IG9wdF9kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X2R1cmF0aW9uIDogMjAwO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24gfHwgMDtcbiAgICAgICAgdmFyIG5ld1JvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24odGhpcy50YXJnZXRSb3RhdGlvbl8pO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyhuZXdSb3RhdGlvbik7XG4gICAgICAgIHZhciBuZXdSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0aGlzLnRhcmdldFJlc29sdXRpb25fLCBkaXJlY3Rpb24sIHNpemUpO1xuICAgICAgICB2YXIgbmV3Q2VudGVyID0gdGhpcy5jb25zdHJhaW50c18uY2VudGVyKHRoaXMudGFyZ2V0Q2VudGVyXywgbmV3UmVzb2x1dGlvbiwgc2l6ZSwgZmFsc2UsIHRoaXMuY2FsY3VsYXRlQ2VudGVyU2hpZnQodGhpcy50YXJnZXRDZW50ZXJfLCBuZXdSZXNvbHV0aW9uLCBuZXdSb3RhdGlvbiwgc2l6ZSkpO1xuICAgICAgICBpZiAoZHVyYXRpb24gPT09IDAgJiYgIXRoaXMuY2FuY2VsQW5jaG9yXykge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IG5ld1Jlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLnRhcmdldFJvdGF0aW9uXyA9IG5ld1JvdGF0aW9uO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gbmV3Q2VudGVyO1xuICAgICAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbmNob3IgPSBvcHRfYW5jaG9yIHx8IChkdXJhdGlvbiA9PT0gMCA/IHRoaXMuY2FuY2VsQW5jaG9yXyA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuY2FuY2VsQW5jaG9yXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0UmVzb2x1dGlvbigpICE9PSBuZXdSZXNvbHV0aW9uIHx8XG4gICAgICAgICAgICB0aGlzLmdldFJvdGF0aW9uKCkgIT09IG5ld1JvdGF0aW9uIHx8XG4gICAgICAgICAgICAhdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpIHx8XG4gICAgICAgICAgICAhZXF1YWxzKHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSwgbmV3Q2VudGVyKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZUludGVybmFsKHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogbmV3Um90YXRpb24sXG4gICAgICAgICAgICAgICAgY2VudGVyOiBuZXdDZW50ZXIsXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogbmV3UmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5vdGlmeSB0aGUgVmlldyB0aGF0IGFuIGludGVyYWN0aW9uIGhhcyBzdGFydGVkLlxuICAgICAqIFRoZSB2aWV3IHN0YXRlIHdpbGwgYmUgcmVzb2x2ZWQgdG8gYSBzdGFibGUgb25lIGlmIG5lZWRlZFxuICAgICAqIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYmVnaW5JbnRlcmFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgICAgIHRoaXMuc2V0SGludChWaWV3SGludC5JTlRFUkFDVElORywgMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIFZpZXcgdGhhdCBhbiBpbnRlcmFjdGlvbiBoYXMgZW5kZWQuIFRoZSB2aWV3IHN0YXRlIHdpbGwgYmUgcmVzb2x2ZWRcbiAgICAgKiB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9kdXJhdGlvbiBBbmltYXRpb24gZHVyYXRpb24gaW4gbXMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiBXaGljaCBkaXJlY3Rpb24gdG8gem9vbS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZW5kSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAob3B0X2R1cmF0aW9uLCBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgYW5jaG9yID0gb3B0X2FuY2hvciAmJiBmcm9tVXNlckNvb3JkaW5hdGUob3B0X2FuY2hvciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICB0aGlzLmVuZEludGVyYWN0aW9uSW50ZXJuYWwob3B0X2R1cmF0aW9uLCBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiwgYW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5vdGlmeSB0aGUgVmlldyB0aGF0IGFuIGludGVyYWN0aW9uIGhhcyBlbmRlZC4gVGhlIHZpZXcgc3RhdGUgd2lsbCBiZSByZXNvbHZlZFxuICAgICAqIHRvIGEgc3RhYmxlIG9uZSBpZiBuZWVkZWQgKGRlcGVuZGluZyBvbiBpdHMgY29uc3RyYWludHMpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2R1cmF0aW9uIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9yZXNvbHV0aW9uRGlyZWN0aW9uIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfYW5jaG9yIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmVuZEludGVyYWN0aW9uSW50ZXJuYWwgPSBmdW5jdGlvbiAob3B0X2R1cmF0aW9uLCBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiwgb3B0X2FuY2hvcikge1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIC0xKTtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMob3B0X2R1cmF0aW9uLCBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiwgb3B0X2FuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB2YWxpZCBwb3NpdGlvbiBmb3IgdGhlIHZpZXcgY2VudGVyIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBjb25zdHJhaW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gdGFyZ2V0Q2VudGVyIFRhcmdldCBjZW50ZXIgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi4gSWYgbm90IHN1cHBsaWVkLCB0aGUgY3VycmVudCBvbmUgd2lsbCBiZSB1c2VkLlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIHRvIGd1ZXNzIGEgdmFsaWQgY2VudGVyIHBvc2l0aW9uIGF0IGEgZGlmZmVyZW50IHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBWYWxpZCBjZW50ZXIgcG9zaXRpb24uXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Q29uc3RyYWluZWRDZW50ZXIgPSBmdW5jdGlvbiAodGFyZ2V0Q2VudGVyLCBvcHRfdGFyZ2V0UmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c18uY2VudGVyKHRhcmdldENlbnRlciwgb3B0X3RhcmdldFJlc29sdXRpb24gfHwgdGhpcy5nZXRSZXNvbHV0aW9uKCksIHNpemUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgdmFsaWQgem9vbSBsZXZlbCBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgdmlldyBjb25zdHJhaW50cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHRhcmdldFpvb20gVGFyZ2V0IHpvb20uXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBbb3B0X2RpcmVjdGlvbj0wXSBJbmRpY2F0ZSB3aGljaCByZXNvbHV0aW9uIHNob3VsZCBiZSB1c2VkXG4gICAgICogYnkgYSByZW5kZXJlciBpZiB0aGUgdmlldyByZXNvbHV0aW9uIGRvZXMgbm90IG1hdGNoIGFueSByZXNvbHV0aW9uIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICAgKiBJZiAwLCB0aGUgbmVhcmVzdCByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC4gSWYgMSwgdGhlIG5lYXJlc3QgbG93ZXIgcmVzb2x1dGlvblxuICAgICAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBWYWxpZCB6b29tIGxldmVsLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldENvbnN0cmFpbmVkWm9vbSA9IGZ1bmN0aW9uICh0YXJnZXRab29tLCBvcHRfZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciB0YXJnZXRSZXMgPSB0aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKHRhcmdldFpvb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbih0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbih0YXJnZXRSZXMsIG9wdF9kaXJlY3Rpb24pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHZhbGlkIHJlc29sdXRpb24gYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHZpZXcgY29uc3RyYWludHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW29wdF9kaXJlY3Rpb249MF0gSW5kaWNhdGUgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAgICAgKiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgcmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24gPSBmdW5jdGlvbiAodGFyZ2V0UmVzb2x1dGlvbiwgb3B0X2RpcmVjdGlvbikge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gb3B0X2RpcmVjdGlvbiB8fCAwO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0YXJnZXRSZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUpO1xuICAgIH07XG4gICAgcmV0dXJuIFZpZXc7XG59KEJhc2VPYmplY3QpKTtcbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcGFyYW0geyp9IHJldHVyblZhbHVlIFJldHVybiB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHJldHVyblZhbHVlKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJldHVyblZhbHVlKTtcbiAgICB9LCAwKTtcbn1cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZW50ZXJDb25zdHJhaW50KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgc21vb3RoID0gb3B0aW9ucy5zbW9vdGhFeHRlbnRDb25zdHJhaW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5zbW9vdGhFeHRlbnRDb25zdHJhaW50XG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIHJldHVybiBjcmVhdGVFeHRlbnQob3B0aW9ucy5leHRlbnQsIG9wdGlvbnMuY29uc3RyYWluT25seUNlbnRlciwgc21vb3RoKTtcbiAgICB9XG4gICAgdmFyIHByb2plY3Rpb24gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICAgIGlmIChvcHRpb25zLm11bHRpV29ybGQgIT09IHRydWUgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpLnNsaWNlKCk7XG4gICAgICAgIGV4dGVudFswXSA9IC1JbmZpbml0eTtcbiAgICAgICAgZXh0ZW50WzJdID0gSW5maW5pdHk7XG4gICAgICAgIHJldHVybiBjcmVhdGVFeHRlbnQoZXh0ZW50LCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gY2VudGVyTm9uZTtcbn1cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHt7Y29uc3RyYWludDogaW1wb3J0KFwiLi9yZXNvbHV0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlLCBtYXhSZXNvbHV0aW9uOiBudW1iZXIsXG4gKiAgICAgbWluUmVzb2x1dGlvbjogbnVtYmVyLCBtaW5ab29tOiBudW1iZXIsIHpvb21GYWN0b3I6IG51bWJlcn19IFRoZSBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVzb2x1dGlvbkNvbnN0cmFpbnQob3B0aW9ucykge1xuICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludDtcbiAgICB2YXIgbWF4UmVzb2x1dGlvbjtcbiAgICB2YXIgbWluUmVzb2x1dGlvbjtcbiAgICAvLyBUT0RPOiBtb3ZlIHRoZXNlIHRvIGJlIG9sIGNvbnN0YW50c1xuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbmxheWVycy9vcGVubGF5ZXJzL2lzc3Vlcy8yMDc2XG4gICAgdmFyIGRlZmF1bHRNYXhab29tID0gMjg7XG4gICAgdmFyIGRlZmF1bHRab29tRmFjdG9yID0gMjtcbiAgICB2YXIgbWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogREVGQVVMVF9NSU5fWk9PTTtcbiAgICB2YXIgbWF4Wm9vbSA9IG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogZGVmYXVsdE1heFpvb207XG4gICAgdmFyIHpvb21GYWN0b3IgPSBvcHRpb25zLnpvb21GYWN0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUZhY3RvciA6IGRlZmF1bHRab29tRmFjdG9yO1xuICAgIHZhciBtdWx0aVdvcmxkID0gb3B0aW9ucy5tdWx0aVdvcmxkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm11bHRpV29ybGQgOiBmYWxzZTtcbiAgICB2YXIgc21vb3RoID0gb3B0aW9ucy5zbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5zbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludFxuICAgICAgICA6IHRydWU7XG4gICAgdmFyIHNob3dGdWxsRXh0ZW50ID0gb3B0aW9ucy5zaG93RnVsbEV4dGVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaG93RnVsbEV4dGVudCA6IGZhbHNlO1xuICAgIHZhciBwcm9qZWN0aW9uID0gY3JlYXRlUHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24sICdFUFNHOjM4NTcnKTtcbiAgICB2YXIgcHJvakV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIGNvbnN0cmFpbk9ubHlDZW50ZXIgPSBvcHRpb25zLmNvbnN0cmFpbk9ubHlDZW50ZXI7XG4gICAgdmFyIGV4dGVudCA9IG9wdGlvbnMuZXh0ZW50O1xuICAgIGlmICghbXVsdGlXb3JsZCAmJiAhZXh0ZW50ICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgICAgICBjb25zdHJhaW5Pbmx5Q2VudGVyID0gZmFsc2U7XG4gICAgICAgIGV4dGVudCA9IHByb2pFeHRlbnQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJlc29sdXRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb25zID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICAgICAgbWF4UmVzb2x1dGlvbiA9IHJlc29sdXRpb25zW21pblpvb21dO1xuICAgICAgICBtaW5SZXNvbHV0aW9uID1cbiAgICAgICAgICAgIHJlc29sdXRpb25zW21heFpvb21dICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHJlc29sdXRpb25zW21heFpvb21dXG4gICAgICAgICAgICAgICAgOiByZXNvbHV0aW9uc1tyZXNvbHV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyhyZXNvbHV0aW9ucywgc21vb3RoLCAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsIHNob3dGdWxsRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBzbW9vdGgsICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCwgc2hvd0Z1bGxFeHRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGRlZmF1bHQgbWluIGFuZCBtYXggcmVzb2x1dGlvblxuICAgICAgICB2YXIgc2l6ZSA9ICFwcm9qRXh0ZW50XG4gICAgICAgICAgICA/IC8vIHVzZSBhbiBleHRlbnQgdGhhdCBjYW4gZml0IHRoZSB3aG9sZSB3b3JsZCBpZiBuZWVkIGJlXG4gICAgICAgICAgICAgICAgKDM2MCAqIE1FVEVSU19QRVJfVU5JVFtVbml0cy5ERUdSRUVTXSkgLyBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKVxuICAgICAgICAgICAgOiBNYXRoLm1heChnZXRXaWR0aChwcm9qRXh0ZW50KSwgZ2V0SGVpZ2h0KHByb2pFeHRlbnQpKTtcbiAgICAgICAgdmFyIGRlZmF1bHRNYXhSZXNvbHV0aW9uID0gc2l6ZSAvIERFRkFVTFRfVElMRV9TSVpFIC8gTWF0aC5wb3coZGVmYXVsdFpvb21GYWN0b3IsIERFRkFVTFRfTUlOX1pPT00pO1xuICAgICAgICB2YXIgZGVmYXVsdE1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvXG4gICAgICAgICAgICBNYXRoLnBvdyhkZWZhdWx0Wm9vbUZhY3RvciwgZGVmYXVsdE1heFpvb20gLSBERUZBVUxUX01JTl9aT09NKTtcbiAgICAgICAgLy8gdXNlciBwcm92aWRlZCBtYXhSZXNvbHV0aW9uIHRha2VzIHByZWNlZGVuY2VcbiAgICAgICAgbWF4UmVzb2x1dGlvbiA9IG9wdGlvbnMubWF4UmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKG1heFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWluWm9vbSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhSZXNvbHV0aW9uID0gZGVmYXVsdE1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtaW5ab29tKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1c2VyIHByb3ZpZGVkIG1pblJlc29sdXRpb24gdGFrZXMgcHJlY2VkZW5jZVxuICAgICAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgICAgICBpZiAobWluUmVzb2x1dGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluUmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWluUmVzb2x1dGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBnaXZlbiBkaXNjcmV0ZSB6b29tIGxldmVscywgbWluUmVzb2x1dGlvbiBtYXkgYmUgZGlmZmVyZW50IHRoYW4gcHJvdmlkZWRcbiAgICAgICAgbWF4Wm9vbSA9XG4gICAgICAgICAgICBtaW5ab29tICtcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHpvb21GYWN0b3IpKTtcbiAgICAgICAgbWluUmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tIC0gbWluWm9vbSk7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlU25hcFRvUG93ZXIoem9vbUZhY3RvciwgbWF4UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgc21vb3RoLCAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsIHNob3dGdWxsRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBzbW9vdGgsICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCwgc2hvd0Z1bGxFeHRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnN0cmFpbnQ6IHJlc29sdXRpb25Db25zdHJhaW50LFxuICAgICAgICBtYXhSZXNvbHV0aW9uOiBtYXhSZXNvbHV0aW9uLFxuICAgICAgICBtaW5SZXNvbHV0aW9uOiBtaW5SZXNvbHV0aW9uLFxuICAgICAgICBtaW5ab29tOiBtaW5ab29tLFxuICAgICAgICB6b29tRmFjdG9yOiB6b29tRmFjdG9yLFxuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9yb3RhdGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gICAgdmFyIGVuYWJsZVJvdGF0aW9uID0gb3B0aW9ucy5lbmFibGVSb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5lbmFibGVSb3RhdGlvbiA6IHRydWU7XG4gICAgaWYgKGVuYWJsZVJvdGF0aW9uKSB7XG4gICAgICAgIHZhciBjb25zdHJhaW5Sb3RhdGlvbiA9IG9wdGlvbnMuY29uc3RyYWluUm90YXRpb247XG4gICAgICAgIGlmIChjb25zdHJhaW5Sb3RhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGNvbnN0cmFpblJvdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU25hcFRvWmVybygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbnN0cmFpblJvdGF0aW9uID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uTm9uZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uc3RyYWluUm90YXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU25hcFRvTihjb25zdHJhaW5Sb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb25Ob25lO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZGlzYWJsZTtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZSBpZiBhbiBhbmltYXRpb24gaW52b2x2ZXMgbm8gdmlldyBjaGFuZ2UuXG4gKiBAcGFyYW0ge0FuaW1hdGlvbn0gYW5pbWF0aW9uIFRoZSBhbmltYXRpb24uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgYW5pbWF0aW9uIGludm9sdmVzIG5vIHZpZXcgY2hhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikge1xuICAgIGlmIChhbmltYXRpb24uc291cmNlQ2VudGVyICYmIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpIHtcbiAgICAgICAgaWYgKCFjb29yZGluYXRlc0VxdWFsKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIsIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICE9PSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhbmltYXRpb24uc291cmNlUm90YXRpb24gIT09IGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIEJveCBwaXhlbCBzaXplLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFNoaWZ0ZWQgY2VudGVyLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVDZW50ZXJPbihjb29yZGluYXRlLCBzaXplLCBwb3NpdGlvbiwgcmVzb2x1dGlvbiwgcm90YXRpb24pIHtcbiAgICAvLyBjYWxjdWxhdGUgcm90YXRlZCBwb3NpdGlvblxuICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKC1yb3RhdGlvbik7XG4gICAgdmFyIHNpbkFuZ2xlID0gTWF0aC5zaW4oLXJvdGF0aW9uKTtcbiAgICB2YXIgcm90WCA9IGNvb3JkaW5hdGVbMF0gKiBjb3NBbmdsZSAtIGNvb3JkaW5hdGVbMV0gKiBzaW5BbmdsZTtcbiAgICB2YXIgcm90WSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgICByb3RYICs9IChzaXplWzBdIC8gMiAtIHBvc2l0aW9uWzBdKSAqIHJlc29sdXRpb247XG4gICAgcm90WSArPSAocG9zaXRpb25bMV0gLSBzaXplWzFdIC8gMikgKiByZXNvbHV0aW9uO1xuICAgIC8vIGdvIGJhY2sgdG8gb3JpZ2luYWwgYW5nbGVcbiAgICBzaW5BbmdsZSA9IC1zaW5BbmdsZTsgLy8gZ28gYmFjayB0byBvcmlnaW5hbCByb3RhdGlvblxuICAgIHZhciBjZW50ZXJYID0gcm90WCAqIGNvc0FuZ2xlIC0gcm90WSAqIHNpbkFuZ2xlO1xuICAgIHZhciBjZW50ZXJZID0gcm90WSAqIGNvc0FuZ2xlICsgcm90WCAqIHNpbkFuZ2xlO1xuICAgIHJldHVybiBbY2VudGVyWCwgY2VudGVyWV07XG59XG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL1BsdWdnYWJsZU1hcFxuICovXG5pbXBvcnQgQmFzZU9iamVjdCwgeyBnZXRDaGFuZ2VFdmVudFR5cGUgfSBmcm9tICcuL09iamVjdC5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBMYXllckdyb3VwIGZyb20gJy4vbGF5ZXIvR3JvdXAuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudCBmcm9tICcuL01hcEJyb3dzZXJFdmVudC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50SGFuZGxlciBmcm9tICcuL01hcEJyb3dzZXJFdmVudEhhbmRsZXIuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCBNYXBFdmVudCBmcm9tICcuL01hcEV2ZW50LmpzJztcbmltcG9ydCBNYXBFdmVudFR5cGUgZnJvbSAnLi9NYXBFdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcFByb3BlcnR5IGZyb20gJy4vTWFwUHJvcGVydHkuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUG9pbnRlckV2ZW50VHlwZSBmcm9tICcuL3BvaW50ZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlUXVldWUsIHsgZ2V0VGlsZVByaW9yaXR5IH0gZnJvbSAnLi9UaWxlUXVldWUuanMnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi9WaWV3LmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7IERFVklDRV9QSVhFTF9SQVRJTywgSU1BR0VfREVDT0RFLCBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUywgfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQgeyBUUlVFIH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNsb25lLCBjcmVhdGVPclVwZGF0ZUVtcHR5LCBlcXVhbHMsIGdldEZvclZpZXdBbmRTaXplLCBpc0VtcHR5LCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGZyb21Vc2VyQ29vcmRpbmF0ZSwgdG9Vc2VyQ29vcmRpbmF0ZSB9IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQgeyBoYXNBcmVhIH0gZnJvbSAnLi9zaXplLmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbmltcG9ydCB7IHJlbW92ZU5vZGUgfSBmcm9tICcuL2RvbS5qcyc7XG4vKipcbiAqIFN0YXRlIG9mIHRoZSBjdXJyZW50IGZyYW1lLiBPbmx5IGBwaXhlbFJhdGlvYCwgYHRpbWVgIGFuZCBgdmlld1N0YXRlYCBzaG91bGRcbiAqIGJlIHVzZWQgaW4gYXBwbGljYXRpb25zLlxuICogQHR5cGVkZWYge09iamVjdH0gRnJhbWVTdGF0ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBpeGVsUmF0aW8gVGhlIHBpeGVsIHJhdGlvIG9mIHRoZSBmcmFtZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIFRoZSB0aW1lIHdoZW4gcmVuZGVyaW5nIG9mIHRoZSBmcmFtZSB3YXMgcmVxdWVzdGVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1ZpZXcuanNcIikuU3RhdGV9IHZpZXdTdGF0ZSBUaGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgdmlldy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW5pbWF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXG4gKiBAcHJvcGVydHkge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IGRlY2x1dHRlclRyZWVcbiAqIEBwcm9wZXJ0eSB7bnVsbHxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4XG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGU+fSBsYXllclN0YXRlc0FycmF5XG4gKiBAcHJvcGVydHkge251bWJlcn0gbGF5ZXJJbmRleFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXG4gKiBAcHJvcGVydHkge0FycmF5PFBvc3RSZW5kZXJGdW5jdGlvbj59IHBvc3RSZW5kZXJGdW5jdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemVcbiAqIEBwcm9wZXJ0eSB7VGlsZVF1ZXVlfSB0aWxlUXVldWVcbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gdXNlZFRpbGVzXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IHZpZXdIaW50c1xuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgT2JqZWN0PHN0cmluZywgYm9vbGVhbj4+fSB3YW50ZWRUaWxlc1xuICovXG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihQbHVnZ2FibGVNYXAsID9GcmFtZVN0YXRlKTogYW55fSBQb3N0UmVuZGVyRnVuY3Rpb25cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBdFBpeGVsT3B0aW9uc1xuICogQHByb3BlcnR5IHt1bmRlZmluZWR8ZnVuY3Rpb24oaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gW2xheWVyRmlsdGVyXSBMYXllciBmaWx0ZXJcbiAqIGZ1bmN0aW9uLiBUaGUgZmlsdGVyIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSBvbmUgYXJndW1lbnQsIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciBsYXllci1jYW5kaWRhdGV9IGFuZCBpdCBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbiB2YWx1ZS5cbiAqIE9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYFxuICogd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiBCeSBkZWZhdWx0LCBhbGwgdmlzaWJsZSBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2hpdFRvbGVyYW5jZT0wXSBIaXQtZGV0ZWN0aW9uIHRvbGVyYW5jZSBpbiBjc3MgcGl4ZWxzLiBQaXhlbHNcbiAqIGluc2lkZSB0aGUgcmFkaXVzIGFyb3VuZCB0aGUgZ2l2ZW4gcG9zaXRpb24gd2lsbCBiZSBjaGVja2VkIGZvciBmZWF0dXJlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NoZWNrV3JhcHBlZD10cnVlXSBDaGVjay1XcmFwcGVkIFdpbGwgY2hlY2sgZm9yIGZvciB3cmFwcGVkIGdlb21ldHJpZXMgaW5zaWRlIHRoZSByYW5nZSBvZlxuICogICArLy0gMSB3b3JsZCB3aWR0aC4gV29ya3Mgb25seSBpZiBhIHByb2plY3Rpb24gaXMgdXNlZCB0aGF0IGNhbiBiZSB3cmFwcGVkLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNJbnRlcm5hbFxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBbY29udHJvbHNdXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gW2ludGVyYWN0aW9uc11cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9IGtleWJvYXJkRXZlbnRUYXJnZXRcbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IG92ZXJsYXlzXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSB2YWx1ZXNcbiAqL1xuLyoqXG4gKiBPYmplY3QgbGl0ZXJhbCB3aXRoIGNvbmZpZyBvcHRpb25zIGZvciB0aGUgbWFwLlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwT3B0aW9uc1xuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fEFycmF5PGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBbY29udHJvbHNdXG4gKiBDb250cm9scyBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gSWYgbm90IHNwZWNpZmllZCxcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbH5kZWZhdWx0c30gaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb10gVGhlIHJhdGlvIGJldHdlZW5cbiAqIHBoeXNpY2FsIHBpeGVscyBhbmQgZGV2aWNlLWluZGVwZW5kZW50IHBpeGVscyAoZGlwcykgb24gdGhlIGRldmljZS5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fEFycmF5PGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IFtpbnRlcmFjdGlvbnNdXG4gKiBJbnRlcmFjdGlvbnMgdGhhdCBhcmUgaW5pdGlhbGx5IGFkZGVkIHRvIHRoZSBtYXAuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9ufmRlZmF1bHRzfSBpcyB1c2VkLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxEb2N1bWVudHxzdHJpbmd9IFtrZXlib2FyZEV2ZW50VGFyZ2V0XSBUaGUgZWxlbWVudCB0b1xuICogbGlzdGVuIHRvIGtleWJvYXJkIGV2ZW50cyBvbi4gVGhpcyBkZXRlcm1pbmVzIHdoZW4gdGhlIGBLZXlib2FyZFBhbmAgYW5kXG4gKiBgS2V5Ym9hcmRab29tYCBpbnRlcmFjdGlvbnMgdHJpZ2dlci4gRm9yIGV4YW1wbGUsIGlmIHRoaXMgb3B0aW9uIGlzIHNldCB0b1xuICogYGRvY3VtZW50YCB0aGUga2V5Ym9hcmQgaW50ZXJhY3Rpb25zIHdpbGwgYWx3YXlzIHRyaWdnZXIuIElmIHRoaXMgb3B0aW9uIGlzXG4gKiBub3Qgc3BlY2lmaWVkLCB0aGUgZWxlbWVudCB0aGUgbGlicmFyeSBsaXN0ZW5zIHRvIGtleWJvYXJkIGV2ZW50cyBvbiBpcyB0aGVcbiAqIG1hcCB0YXJnZXQgKGkuZS4gdGhlIHVzZXItcHJvdmlkZWQgZGl2IGZvciB0aGUgbWFwKS4gSWYgdGhpcyBpcyBub3RcbiAqIGBkb2N1bWVudGAsIHRoZSB0YXJnZXQgZWxlbWVudCBuZWVkcyB0byBiZSBmb2N1c2VkIGZvciBrZXkgZXZlbnRzIHRvIGJlXG4gKiBlbWl0dGVkLCByZXF1aXJpbmcgdGhhdCB0aGUgdGFyZ2V0IGVsZW1lbnQgaGFzIGEgYHRhYmluZGV4YCBhdHRyaWJ1dGUuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0PnxDb2xsZWN0aW9uPGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0PnxMYXllckdyb3VwfSBbbGF5ZXJzXVxuICogTGF5ZXJzLiBJZiB0aGlzIGlzIG5vdCBkZWZpbmVkLCBhIG1hcCB3aXRoIG5vIGxheWVycyB3aWxsIGJlIHJlbmRlcmVkLiBOb3RlXG4gKiB0aGF0IGxheWVycyBhcmUgcmVuZGVyZWQgaW4gdGhlIG9yZGVyIHN1cHBsaWVkLCBzbyBpZiB5b3Ugd2FudCwgZm9yIGV4YW1wbGUsXG4gKiBhIHZlY3RvciBsYXllciB0byBhcHBlYXIgb24gdG9wIG9mIGEgdGlsZSBsYXllciwgaXQgbXVzdCBjb21lIGFmdGVyIHRoZSB0aWxlXG4gKiBsYXllci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4VGlsZXNMb2FkaW5nPTE2XSBNYXhpbXVtIG51bWJlciB0aWxlcyB0byBsb2FkXG4gKiBzaW11bHRhbmVvdXNseS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbW92ZVRvbGVyYW5jZT0xXSBUaGUgbWluaW11bSBkaXN0YW5jZSBpbiBwaXhlbHMgdGhlXG4gKiBjdXJzb3IgbXVzdCBtb3ZlIHRvIGJlIGRldGVjdGVkIGFzIGEgbWFwIG1vdmUgZXZlbnQgaW5zdGVhZCBvZiBhIGNsaWNrLlxuICogSW5jcmVhc2luZyB0aGlzIHZhbHVlIGNhbiBtYWtlIGl0IGVhc2llciB0byBjbGljayBvbiB0aGUgbWFwLlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IFtvdmVybGF5c11cbiAqIE92ZXJsYXlzIGluaXRpYWxseSBhZGRlZCB0byB0aGUgbWFwLiBCeSBkZWZhdWx0LCBubyBvdmVybGF5cyBhcmUgYWRkZWQuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gVGhlIGNvbnRhaW5lciBmb3IgdGhlIG1hcCwgZWl0aGVyIHRoZVxuICogZWxlbWVudCBpdHNlbGYgb3IgdGhlIGBpZGAgb2YgdGhlIGVsZW1lbnQuIElmIG5vdCBzcGVjaWZpZWQgYXQgY29uc3RydWN0aW9uXG4gKiB0aW1lLCB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjc2V0VGFyZ2V0fSBtdXN0IGJlIGNhbGxlZCBmb3IgdGhlIG1hcCB0byBiZVxuICogcmVuZGVyZWQuIElmIHBhc3NlZCBieSBlbGVtZW50LCB0aGUgY29udGFpbmVyIGNhbiBiZSBpbiBhIHNlY29uZGFyeSBkb2N1bWVudC5cbiAqIEBwcm9wZXJ0eSB7Vmlld30gW3ZpZXddIFRoZSBtYXAncyB2aWV3LiAgTm8gbGF5ZXIgc291cmNlcyB3aWxsIGJlXG4gKiBmZXRjaGVkIHVubGVzcyB0aGlzIGlzIHNwZWNpZmllZCBhdCBjb25zdHJ1Y3Rpb24gdGltZSBvciB0aHJvdWdoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjc2V0Vmlld30uXG4gKi9cbi8qKlxuICogQGZpcmVzIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLk1hcEJyb3dzZXJFdmVudFxuICogQGZpcmVzIGltcG9ydChcIi4vTWFwRXZlbnQuanNcIikuTWFwRXZlbnRcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0I3ByZWNvbXBvc2VcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0I3Bvc3Rjb21wb3NlXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdCNyZW5kZXJjb21wbGV0ZVxuICogQGFwaVxuICovXG52YXIgUGx1Z2dhYmxlTWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQbHVnZ2FibGVNYXAsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtNYXBPcHRpb25zfSBvcHRpb25zIE1hcCBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBsdWdnYWJsZU1hcChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zSW50ZXJuYWwgPSBjcmVhdGVPcHRpb25zSW50ZXJuYWwob3B0aW9ucyk7XG4gICAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8gPSBfdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWF4VGlsZXNMb2FkaW5nXyA9XG4gICAgICAgICAgICBvcHRpb25zLm1heFRpbGVzTG9hZGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhUaWxlc0xvYWRpbmcgOiAxNjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9XG4gICAgICAgICAgICBvcHRpb25zLnBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5waXhlbFJhdGlvXG4gICAgICAgICAgICAgICAgOiBERVZJQ0VfUElYRUxfUkFUSU87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uRGVsYXlLZXlfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvbkRlbGF5XyA9IC8qKiBAdGhpcyB7UGx1Z2dhYmxlTWFwfSAqLyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWVfKERhdGUubm93KCkpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZyYW1lSW5kZXhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/RnJhbWVTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZyYW1lU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBleHRlbnQgYXQgdGhlIHByZXZpb3VzICdtb3ZlZW5kJyBldmVudC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZXZpb3VzRXh0ZW50XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9BcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlld3BvcnRfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5jbGFzc05hbWUgPVxuICAgICAgICAgICAgJ29sLXZpZXdwb3J0JyArICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgPyAnIG9sLXRvdWNoJyA6ICcnKTtcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLnpJbmRleCA9ICcwJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8uY2xhc3NOYW1lID0gJ29sLW92ZXJsYXljb250YWluZXInO1xuICAgICAgICBfdGhpcy52aWV3cG9ydF8uYXBwZW5kQ2hpbGQoX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUuekluZGV4ID0gJzAnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5jbGFzc05hbWUgPSAnb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnQnO1xuICAgICAgICBfdGhpcy52aWV3cG9ydF8uYXBwZW5kQ2hpbGQoX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge01hcEJyb3dzZXJFdmVudEhhbmRsZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVRvbGVyYW5jZV8gPSBvcHRpb25zLm1vdmVUb2xlcmFuY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5rZXlib2FyZEV2ZW50VGFyZ2V0XyA9IG9wdGlvbnNJbnRlcm5hbC5rZXlib2FyZEV2ZW50VGFyZ2V0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9BcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5SGFuZGxlcktleXNfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250cm9scyA9IG9wdGlvbnNJbnRlcm5hbC5jb250cm9scyB8fCBuZXcgQ29sbGVjdGlvbigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zID0gb3B0aW9uc0ludGVybmFsLmludGVyYWN0aW9ucyB8fCBuZXcgQ29sbGVjdGlvbigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcmxheXNfID0gb3B0aW9uc0ludGVybmFsLm92ZXJsYXlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsb29rdXAgb2Ygb3ZlcmxheXMgYnkgaWQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdmVybGF5SWRJbmRleF8gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3JlbmRlcmVyL01hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXJfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHt1bmRlZmluZWR8ZnVuY3Rpb24oRXZlbnQpOiB2b2lkfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFuZGxlUmVzaXplXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8UG9zdFJlbmRlckZ1bmN0aW9uPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvc3RSZW5kZXJGdW5jdGlvbnNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7VGlsZVF1ZXVlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZVF1ZXVlXyA9IG5ldyBUaWxlUXVldWUoX3RoaXMuZ2V0VGlsZVByaW9yaXR5LmJpbmQoX3RoaXMpLCBfdGhpcy5oYW5kbGVUaWxlQ2hhbmdlXy5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKE1hcFByb3BlcnR5LkxBWUVSR1JPVVApLCBfdGhpcy5oYW5kbGVMYXllckdyb3VwQ2hhbmdlZF8pO1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShNYXBQcm9wZXJ0eS5WSUVXKSwgX3RoaXMuaGFuZGxlVmlld0NoYW5nZWRfKTtcbiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihnZXRDaGFuZ2VFdmVudFR5cGUoTWFwUHJvcGVydHkuU0laRSksIF90aGlzLmhhbmRsZVNpemVDaGFuZ2VkXyk7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKE1hcFByb3BlcnR5LlRBUkdFVCksIF90aGlzLmhhbmRsZVRhcmdldENoYW5nZWRfKTtcbiAgICAgICAgLy8gc2V0UHJvcGVydGllcyB3aWxsIHRyaWdnZXIgdGhlIHJlbmRlcmluZyBvZiB0aGUgbWFwIGlmIHRoZSBtYXBcbiAgICAgICAgLy8gaXMgXCJkZWZpbmVkXCIgYWxyZWFkeS5cbiAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhvcHRpb25zSW50ZXJuYWwudmFsdWVzKTtcbiAgICAgICAgX3RoaXMuY29udHJvbHMuZm9yRWFjaChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdH0gY29udHJvbCBDb250cm9sLlxuICAgICAgICAgKiBAdGhpcyB7UGx1Z2dhYmxlTWFwfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgICAgIGNvbnRyb2wuc2V0TWFwKHRoaXMpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAodGhpcyk7XG4gICAgICAgIH0uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5jb250cm9scy5hZGRFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcChudWxsKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmludGVyYWN0aW9ucy5mb3JFYWNoKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHR9IGludGVyYWN0aW9uIEludGVyYWN0aW9uLlxuICAgICAgICAgKiBAdGhpcyB7UGx1Z2dhYmxlTWFwfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbi5zZXRNYXAodGhpcyk7XG4gICAgICAgIH0uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAodGhpcyk7XG4gICAgICAgIH0uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAobnVsbCk7XG4gICAgICAgIH0uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5vdmVybGF5c18uZm9yRWFjaChfdGhpcy5hZGRPdmVybGF5SW50ZXJuYWxfLmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMub3ZlcmxheXNfLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkT3ZlcmxheUludGVybmFsXyhcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9ICovIChldmVudC5lbGVtZW50KSk7XG4gICAgICAgIH0uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5vdmVybGF5c18uYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIG92ZXJsYXkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQuZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgaWQgPSBvdmVybGF5LmdldElkKCk7XG4gICAgICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm92ZXJsYXlJZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3JlbmRlcmVyL01hcC5qc1wiKS5kZWZhdWx0fSBUaGUgbWFwIHJlbmRlcmVyXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2UgYSBtYXAgdHlwZSB0aGF0IGhhcyBhIGNyZWF0ZVJlbmRlcmVyIG1ldGhvZCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBnaXZlbiBjb250cm9sIHRvIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fSBjb250cm9sIENvbnRyb2wuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkQ29udHJvbCA9IGZ1bmN0aW9uIChjb250cm9sKSB7XG4gICAgICAgIHRoaXMuZ2V0Q29udHJvbHMoKS5wdXNoKGNvbnRyb2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBnaXZlbiBpbnRlcmFjdGlvbiB0byB0aGUgbWFwLiBJZiB5b3Ugd2FudCB0byBhZGQgYW4gaW50ZXJhY3Rpb25cbiAgICAgKiBhdCBhbm90aGVyIHBvaW50IG9mIHRoZSBjb2xsZWN0aW9uIHVzZSBgZ2V0SW50ZXJhY3Rpb24oKWAgYW5kIHRoZSBtZXRob2RzXG4gICAgICogYXZhaWxhYmxlIG9uIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufS4gVGhpcyBjYW4gYmUgdXNlZCB0b1xuICAgICAqIHN0b3AgdGhlIGV2ZW50IHByb3BhZ2F0aW9uIGZyb20gdGhlIGhhbmRsZUV2ZW50IGZ1bmN0aW9uLiBUaGUgaW50ZXJhY3Rpb25zXG4gICAgICogZ2V0IHRvIGhhbmRsZSB0aGUgZXZlbnRzIGluIHRoZSByZXZlcnNlIG9yZGVyIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24gdG8gYWRkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmFkZEludGVyYWN0aW9uID0gZnVuY3Rpb24gKGludGVyYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkucHVzaChpbnRlcmFjdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiBsYXllciB0byB0aGUgdG9wIG9mIHRoaXMgbWFwLiBJZiB5b3Ugd2FudCB0byBhZGQgYSBsYXllclxuICAgICAqIGVsc2V3aGVyZSBpbiB0aGUgc3RhY2ssIHVzZSBgZ2V0TGF5ZXJzKClgIGFuZCB0aGUgbWV0aG9kcyBhdmFpbGFibGUgb25cbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkTGF5ZXIgPSBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgdmFyIGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpO1xuICAgICAgICBsYXllcnMucHVzaChsYXllcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIG92ZXJsYXkgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkT3ZlcmxheSA9IGZ1bmN0aW9uIChvdmVybGF5KSB7XG4gICAgICAgIHRoaXMuZ2V0T3ZlcmxheXMoKS5wdXNoKG92ZXJsYXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBkZWFscyB3aXRoIG1hcCdzIG92ZXJsYXkgY29sbGVjdGlvbiBjaGFuZ2VzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IG92ZXJsYXkgT3ZlcmxheS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuYWRkT3ZlcmxheUludGVybmFsXyA9IGZ1bmN0aW9uIChvdmVybGF5KSB7XG4gICAgICAgIHZhciBpZCA9IG92ZXJsYXkuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheUlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gb3ZlcmxheTtcbiAgICAgICAgfVxuICAgICAgICBvdmVybGF5LnNldE1hcCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0VGFyZ2V0KG51bGwpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LCBhbmQgZXhlY3V0ZSBhXG4gICAgICogY2FsbGJhY2sgd2l0aCBlYWNoIGludGVyc2VjdGluZyBmZWF0dXJlLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlIGRldGVjdGlvbiBjYW5cbiAgICAgKiBiZSBjb25maWd1cmVkIHRocm91Z2ggdGhlIGBsYXllckZpbHRlcmAgb3B0aW9uIGluIGBvcHRfb3B0aW9uc2AuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCk6IFR9IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suIFRoZSBjYWxsYmFjayB3aWxsIGJlXG4gICAgICogICAgIGNhbGxlZCB3aXRoIHR3byBhcmd1bWVudHMuIFRoZSBmaXJzdCBhcmd1bWVudCBpcyBvbmVcbiAgICAgKiAgICAge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlIGZlYXR1cmV9IG9yXG4gICAgICogICAgIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL0ZlYXR1cmUgcmVuZGVyIGZlYXR1cmV9IGF0IHRoZSBwaXhlbCwgdGhlIHNlY29uZCBpc1xuICAgICAqICAgICB0aGUge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciBsYXllcn0gb2YgdGhlIGZlYXR1cmUgYW5kIHdpbGwgYmUgbnVsbCBmb3JcbiAgICAgKiAgICAgdW5tYW5hZ2VkIGxheWVycy4gVG8gc3RvcCBkZXRlY3Rpb24sIGNhbGxiYWNrIGZ1bmN0aW9ucyBjYW4gcmV0dXJuIGFcbiAgICAgKiAgICAgdHJ1dGh5IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXRQaXhlbE9wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25hbCBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQsIGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZiBsYXN0XG4gICAgICogY2FsbGJhY2sgZXhlY3V0aW9uLCBvciB0aGUgZmlyc3QgdHJ1dGh5IGNhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKiBAdGVtcGxhdGUgUyxUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBjYWxsYmFjaywgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCk7XG4gICAgICAgIG9wdF9vcHRpb25zID0gb3B0X29wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRfb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgICAgIHZhciBsYXllckZpbHRlciA9IG9wdF9vcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgICAgIHZhciBjaGVja1dyYXBwZWQgPSBvcHRfb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoY29vcmRpbmF0ZSwgdGhpcy5mcmFtZVN0YXRlXywgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIGNhbGxiYWNrLCBudWxsLCBsYXllckZpbHRlciwgbnVsbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gVGhlIGRldGVjdGVkIGZlYXR1cmVzIG9yXG4gICAgICogYW4gZW1wdHkgYXJyYXkgaWYgbm9uZSB3ZXJlIGZvdW5kLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEZlYXR1cmVzQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIGZlYXR1cmVzID0gW107XG4gICAgICAgIHRoaXMuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKHBpeGVsLCBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgfSwgb3B0X29wdGlvbnMpO1xuICAgICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3QgbGF5ZXJzIHRoYXQgaGF2ZSBhIGNvbG9yIHZhbHVlIGF0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LCBhbmRcbiAgICAgKiBleGVjdXRlIGEgY2FsbGJhY2sgd2l0aCBlYWNoIG1hdGNoaW5nIGxheWVyLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAgICogZGV0ZWN0aW9uIGNhbiBiZSBjb25maWd1cmVkIHRocm91Z2ggYG9wdF9sYXllckZpbHRlcmAuXG4gICAgICpcbiAgICAgKiBOb3RlOiB0aGlzIG1heSBnaXZlIGZhbHNlIHBvc2l0aXZlcyB1bmxlc3MgdGhlIG1hcCBsYXllcnMgaGF2ZSBoYWQgZGlmZmVyZW50IGBjbGFzc05hbWVgXG4gICAgICogcHJvcGVydGllcyBhc3NpZ25lZCB0byB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFMsIGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCwgKFVpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXkpKTogVH0gY2FsbGJhY2tcbiAgICAgKiAgICAgTGF5ZXIgY2FsbGJhY2suIFRoaXMgY2FsbGJhY2sgd2lsbCByZWNlaXZlIHR3byBhcmd1bWVudHM6IGZpcnN0IGlzIHRoZVxuICAgICAqICAgICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyIGxheWVyfSwgc2Vjb25kIGFyZ3VtZW50IGlzIGFuIGFycmF5IHJlcHJlc2VudGluZ1xuICAgICAqICAgICBbUiwgRywgQiwgQV0gcGl4ZWwgdmFsdWVzICgwIC0gMjU1KSBhbmQgd2lsbCBiZSBgbnVsbGAgZm9yIGxheWVyIHR5cGVzXG4gICAgICogICAgIHRoYXQgZG8gbm90IGN1cnJlbnRseSBzdXBwb3J0IHRoaXMgYXJndW1lbnQuIFRvIHN0b3AgZGV0ZWN0aW9uLCBjYWxsYmFja1xuICAgICAqICAgICBmdW5jdGlvbnMgY2FuIHJldHVybiBhIHRydXRoeSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zPX0gb3B0X29wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQsIGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZiBsYXN0XG4gICAgICogY2FsbGJhY2sgZXhlY3V0aW9uLCBvciB0aGUgZmlyc3QgdHJ1dGh5IGNhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKiBAdGVtcGxhdGUgUyxUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgY2FsbGJhY2ssIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5mcmFtZVN0YXRlXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRpb25zLmhpdFRvbGVyYW5jZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5oaXRUb2xlcmFuY2UgOiAwO1xuICAgICAgICB2YXIgbGF5ZXJGaWx0ZXIgPSBvcHRpb25zLmxheWVyRmlsdGVyIHx8IFRSVUU7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5mb3JFYWNoTGF5ZXJBdFBpeGVsKHBpeGVsLCB0aGlzLmZyYW1lU3RhdGVfLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrLCBsYXllckZpbHRlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgZmVhdHVyZXMgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAgICogZGV0ZWN0aW9uIGNhbiBiZSBjb25maWd1cmVkIHRocm91Z2ggYG9wdF9sYXllckZpbHRlcmAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyB0aGVyZSBhIGZlYXR1cmUgYXQgdGhlIGdpdmVuIHBpeGVsP1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhc0ZlYXR1cmVBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBvcHRfb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuZnJhbWVTdGF0ZV8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29vcmRpbmF0ZSA9IHRoaXMuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKHBpeGVsKTtcbiAgICAgICAgb3B0X29wdGlvbnMgPSBvcHRfb3B0aW9ucyAhPT0gdW5kZWZpbmVkID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgdmFyIGxheWVyRmlsdGVyID0gb3B0X29wdGlvbnMubGF5ZXJGaWx0ZXIgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zLmxheWVyRmlsdGVyIDogVFJVRTtcbiAgICAgICAgdmFyIGhpdFRvbGVyYW5jZSA9IG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSAhPT0gdW5kZWZpbmVkID8gb3B0X29wdGlvbnMuaGl0VG9sZXJhbmNlIDogMDtcbiAgICAgICAgdmFyIGNoZWNrV3JhcHBlZCA9IG9wdF9vcHRpb25zLmNoZWNrV3JhcHBlZCAhPT0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5oYXNGZWF0dXJlQXRDb29yZGluYXRlKGNvb3JkaW5hdGUsIHRoaXMuZnJhbWVTdGF0ZV8sIGhpdFRvbGVyYW5jZSwgY2hlY2tXcmFwcGVkLCBsYXllckZpbHRlciwgbnVsbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlIGluIHVzZXIgcHJvamVjdGlvbiBmb3IgYSBicm93c2VyIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0RXZlbnRDb29yZGluYXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWwodGhpcy5nZXRFdmVudFBpeGVsKGV2ZW50KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlIGluIHZpZXcgcHJvamVjdGlvbiBmb3IgYSBicm93c2VyIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRFdmVudENvb3JkaW5hdGVJbnRlcm5hbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwodGhpcy5nZXRFdmVudFBpeGVsKGV2ZW50KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAgcGl4ZWwgcG9zaXRpb24gZm9yIGEgYnJvd3NlciBldmVudCByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQuXG4gICAgICogQHBhcmFtIHtVSUV2ZW50fSBldmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBQaXhlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRFdmVudFBpeGVsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB2aWV3cG9ydFBvc2l0aW9uID0gdGhpcy52aWV3cG9ydF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBldmVudFBvc2l0aW9uID0gXG4gICAgICAgIC8vRklYTUUgQXJlIHdlIHJlYWxseSBjYWxsaW5nIHRoaXMgd2l0aCBhIFRvdWNoRXZlbnQgYW55d2hlcmU/XG4gICAgICAgICdjaGFuZ2VkVG91Y2hlcycgaW4gZXZlbnRcbiAgICAgICAgICAgID8gLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyAoZXZlbnQpLmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgICAgICAgICA6IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8gKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGV2ZW50UG9zaXRpb24uY2xpZW50WCAtIHZpZXdwb3J0UG9zaXRpb24ubGVmdCxcbiAgICAgICAgICAgIGV2ZW50UG9zaXRpb24uY2xpZW50WSAtIHZpZXdwb3J0UG9zaXRpb24udG9wLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0YXJnZXQgaW4gd2hpY2ggdGhpcyBtYXAgaXMgcmVuZGVyZWQuXG4gICAgICogTm90ZSB0aGF0IHRoaXMgcmV0dXJucyB3aGF0IGlzIGVudGVyZWQgYXMgYW4gb3B0aW9uIG9yIGluIHNldFRhcmdldDpcbiAgICAgKiBpZiB0aGF0IHdhcyBhbiBlbGVtZW50LCBpdCByZXR1cm5zIGFuIGVsZW1lbnQ7IGlmIGEgc3RyaW5nLCBpdCByZXR1cm5zIHRoYXQuXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR8c3RyaW5nfHVuZGVmaW5lZH0gVGhlIEVsZW1lbnQgb3IgaWQgb2YgdGhlIEVsZW1lbnQgdGhhdCB0aGVcbiAgICAgKiAgICAgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtIVE1MRWxlbWVudHxzdHJpbmd8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoTWFwUHJvcGVydHkuVEFSR0VUKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIERPTSBlbGVtZW50IGludG8gd2hpY2ggdGhpcyBtYXAgaXMgcmVuZGVyZWQuIEluIGNvbnRyYXN0IHRvXG4gICAgICogYGdldFRhcmdldGAgdGhpcyBtZXRob2QgYWx3YXlzIHJldHVybiBhbiBgRWxlbWVudGAsIG9yIGBudWxsYCBpZiB0aGVcbiAgICAgKiBtYXAgaGFzIG5vIHRhcmdldC5cbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIGVsZW1lbnQgdGhhdCB0aGUgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldFRhcmdldCgpO1xuICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KVxuICAgICAgICAgICAgICAgIDogdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBwaXhlbC4gIFRoaXMgcmV0dXJucyBhIGNvb3JkaW5hdGUgaW4gdGhlXG4gICAgICogdXNlciBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwgcG9zaXRpb24gaW4gdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVGhlIGNvb3JkaW5hdGUgZm9yIHRoZSBwaXhlbCBwb3NpdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRDb29yZGluYXRlRnJvbVBpeGVsID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHJldHVybiB0b1VzZXJDb29yZGluYXRlKHRoaXMuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKHBpeGVsKSwgdGhpcy5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBwaXhlbC4gIFRoaXMgcmV0dXJucyBhIGNvb3JkaW5hdGUgaW4gdGhlXG4gICAgICogbWFwIHZpZXcgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIGZvciB0aGUgcGl4ZWwgcG9zaXRpb24uXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwgPSBmdW5jdGlvbiAocGl4ZWwpIHtcbiAgICAgICAgdmFyIGZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBjb250cm9scy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBjb250cm9sc1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IENvbnRyb2xzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldENvbnRyb2xzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9scztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFwIG92ZXJsYXlzLiBNb2RpZnlpbmcgdGhpcyBjb2xsZWN0aW9uIGNoYW5nZXMgdGhlIG92ZXJsYXlzXG4gICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAuXG4gICAgICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IE92ZXJsYXlzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldE92ZXJsYXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdmVybGF5c187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gb3ZlcmxheSBieSBpdHMgaWRlbnRpZmllciAodGhlIHZhbHVlIHJldHVybmVkIGJ5IG92ZXJsYXkuZ2V0SWQoKSkuXG4gICAgICogTm90ZSB0aGF0IHRoZSBpbmRleCB0cmVhdHMgc3RyaW5nIGFuZCBudW1lcmljIGlkZW50aWZpZXJzIGFzIHRoZSBzYW1lLiBTb1xuICAgICAqIGBtYXAuZ2V0T3ZlcmxheUJ5SWQoMilgIHdpbGwgcmV0dXJuIGFuIG92ZXJsYXkgd2l0aCBpZCBgJzInYCBvciBgMmAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBpZCBPdmVybGF5IGlkZW50aWZpZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IE92ZXJsYXkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0T3ZlcmxheUJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIG92ZXJsYXkgPSB0aGlzLm92ZXJsYXlJZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXkgIT09IHVuZGVmaW5lZCA/IG92ZXJsYXkgOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXAgaW50ZXJhY3Rpb25zLiBNb2RpZnlpbmcgdGhpcyBjb2xsZWN0aW9uIGNoYW5nZXMgdGhlIGludGVyYWN0aW9uc1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgICAqXG4gICAgICogSW50ZXJhY3Rpb25zIGFyZSB1c2VkIGZvciBlLmcuIHBhbiwgem9vbSBhbmQgcm90YXRlLlxuICAgICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gSW50ZXJhY3Rpb25zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEludGVyYWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJhY3Rpb25zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsYXllcmdyb3VwIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC5cbiAgICAgKiBAcmV0dXJuIHtMYXllckdyb3VwfSBBIGxheWVyIGdyb3VwIGNvbnRhaW5pbmcgdGhlIGxheWVycyBpbiB0aGlzIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldExheWVyR3JvdXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge0xheWVyR3JvdXB9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5MQVlFUkdST1VQKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbGxlY3Rpb24gb2YgbGF5ZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC5cbiAgICAgKiBAcmV0dXJuIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD59IExheWVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMYXllcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICAgICAgcmV0dXJuIGxheWVycztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVycyBoYXZlIHNvdXJjZXMgdGhhdCBhcmUgc3RpbGwgbG9hZGluZy5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldExvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlc0FycmF5ID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJTdGF0ZXNBcnJheSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyU3RhdGVzQXJyYXlbaV0ubGF5ZXI7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9ICovIChsYXllcikuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwaXhlbCBmb3IgYSBjb29yZGluYXRlLiAgVGhpcyB0YWtlcyBhIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXJcbiAgICAgKiBwcm9qZWN0aW9uIGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQSBtYXAgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBBIHBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHZhciB2aWV3Q29vcmRpbmF0ZSA9IGZyb21Vc2VyQ29vcmRpbmF0ZShjb29yZGluYXRlLCB0aGlzLmdldFZpZXcoKS5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZyb21Db29yZGluYXRlSW50ZXJuYWwodmlld0Nvb3JkaW5hdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwaXhlbCBmb3IgYSBjb29yZGluYXRlLiAgVGhpcyB0YWtlcyBhIGNvb3JkaW5hdGUgaW4gdGhlIG1hcCB2aWV3XG4gICAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIEEgbWFwIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gQSBwaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgdmFyIGZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGNvb3JkaW5hdGUuc2xpY2UoMCwgMikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3JlbmRlcmVyL01hcC5qc1wiKS5kZWZhdWx0fSBSZW5kZXJlclxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGlzIG1hcC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5TSVpFKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLiBBIHZpZXcgbWFuYWdlcyBwcm9wZXJ0aWVzIHN1Y2ggYXNcbiAgICAgKiBjZW50ZXIgYW5kIHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7Vmlld30gVGhlIHZpZXcgdGhhdCBjb250cm9scyB0aGlzIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge1ZpZXd9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5WSUVXKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVmlld3BvcnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdwb3J0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxlbWVudCB0aGF0IHNlcnZlcyBhcyB0aGUgY29udGFpbmVyIGZvciBvdmVybGF5cy4gIEVsZW1lbnRzIGFkZGVkIHRvXG4gICAgICogdGhpcyBjb250YWluZXIgd2lsbCBsZXQgbW91c2Vkb3duIGFuZCB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsXG4gICAgICogc28gY2xpY2tzIGFuZCBnZXN0dXJlcyBvbiBhbiBvdmVybGF5IHdpbGwgdHJpZ2dlciB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9XG4gICAgICogZXZlbnRzLlxuICAgICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0T3ZlcmxheUNvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxheUNvbnRhaW5lcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgYSBjb250YWluZXIgZm9yIG92ZXJsYXlzIHRoYXQgZG9uJ3QgYWxsb3dcbiAgICAgKiBldmVudCBwcm9wYWdhdGlvbi4gRWxlbWVudHMgYWRkZWQgdG8gdGhpcyBjb250YWluZXIgd29uJ3QgbGV0IG1vdXNlZG93biBhbmRcbiAgICAgKiB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsIHNvIGNsaWNrcyBhbmQgZ2VzdHVyZXMgb24gYW4gb3ZlcmxheVxuICAgICAqIGRvbid0IHRyaWdnZXIgYW55IHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0uXG4gICAgICogQHJldHVybiB7IUhUTUxFbGVtZW50fSBUaGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIgdGhhdCBzdG9wcyBldmVudHMuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFEb2N1bWVudH0gVGhlIGRvY3VtZW50IHdoZXJlIHRoZSBtYXAgaXMgZGlzcGxheWVkLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0T3duZXJEb2N1bWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpXG4gICAgICAgICAgICA/IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpLm93bmVyRG9jdW1lbnRcbiAgICAgICAgICAgIDogZG9jdW1lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRpbGVTb3VyY2VLZXkgVGlsZSBzb3VyY2Uga2V5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRpbGVDZW50ZXIgVGlsZSBjZW50ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbGVSZXNvbHV0aW9uIFRpbGUgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRpbGUgcHJpb3JpdHkuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRUaWxlUHJpb3JpdHkgPSBmdW5jdGlvbiAodGlsZSwgdGlsZVNvdXJjZUtleSwgdGlsZUNlbnRlciwgdGlsZVJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdldFRpbGVQcmlvcml0eSh0aGlzLmZyYW1lU3RhdGVfLCB0aWxlLCB0aWxlU291cmNlS2V5LCB0aWxlQ2VudGVyLCB0aWxlUmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1VJRXZlbnR9IGJyb3dzZXJFdmVudCBCcm93c2VyIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3R5cGUgVHlwZS5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZUJyb3dzZXJFdmVudCA9IGZ1bmN0aW9uIChicm93c2VyRXZlbnQsIG9wdF90eXBlKSB7XG4gICAgICAgIHZhciB0eXBlID0gb3B0X3R5cGUgfHwgYnJvd3NlckV2ZW50LnR5cGU7XG4gICAgICAgIHZhciBtYXBCcm93c2VyRXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KHR5cGUsIHRoaXMsIGJyb3dzZXJFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxlTWFwQnJvd3NlckV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01hcEJyb3dzZXJFdmVudH0gbWFwQnJvd3NlckV2ZW50IFRoZSBldmVudCB0byBoYW5kbGUuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVNYXBCcm93c2VyRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5mcmFtZVN0YXRlXykge1xuICAgICAgICAgICAgLy8gV2l0aCBubyB2aWV3IGRlZmluZWQsIHdlIGNhbm5vdCB0cmFuc2xhdGUgcGl4ZWxzIGludG8gZ2VvZ3JhcGhpY2FsXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBzbyBpbnRlcmFjdGlvbnMgY2Fubm90IGJlIHVzZWQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge1BvaW50ZXJFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IG9yaWdpbmFsRXZlbnQudHlwZTtcbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiB8fFxuICAgICAgICAgICAgZXZlbnRUeXBlID09PSBFdmVudFR5cGUuV0hFRUwgfHxcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLktFWURPV04pIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLmdldE93bmVyRG9jdW1lbnQoKTtcbiAgICAgICAgICAgIHZhciByb290Tm9kZSA9IHRoaXMudmlld3BvcnRfLmdldFJvb3ROb2RlXG4gICAgICAgICAgICAgICAgPyB0aGlzLnZpZXdwb3J0Xy5nZXRSb290Tm9kZSgpXG4gICAgICAgICAgICAgICAgOiBkb2M7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJ2hvc3QnIGluIHJvb3ROb2RlIC8vIFNoYWRvd1Jvb3RcbiAgICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3ROb2RlKS5lbGVtZW50RnJvbVBvaW50KG9yaWdpbmFsRXZlbnQuY2xpZW50WCwgb3JpZ2luYWxFdmVudC5jbGllbnRZKVxuICAgICAgICAgICAgICAgIDogLyoqIEB0eXBlIHtOb2RlfSAqLyAob3JpZ2luYWxFdmVudC50YXJnZXQpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhlIHRhcmdldCBpcyBhIGNoaWxkIG9mIHRoZSBjb250YWluZXIgZm9yIGVsZW1lbnRzIHdob3NlIGV2ZW50cyBhcmUgbm90IG1lYW50XG4gICAgICAgICAgICAvLyB0byBiZSBoYW5kbGVkIGJ5IG1hcCBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLmNvbnRhaW5zKHRhcmdldCkgfHxcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCBpZiB0aGUgZXZlbnQgdGFyZ2V0IGlzIGEgY2hpbGQgb2YgdGhlIGNvbnRhaW5lciB0aGF0IGlzIG5vIGxvbmdlciBpbiB0aGUgcGFnZS5cbiAgICAgICAgICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIGZvciB0aGUgdGFyZ2V0IHRvIG5vIGxvbmdlciBiZSBpbiB0aGUgcGFnZSBpZiBpdCBoYXMgYmVlbiByZW1vdmVkIGluIGFuXG4gICAgICAgICAgICAgICAgLy8gZXZlbnQgbGlzdGVuZXIsIHRoaXMgbWlnaHQgaGFwcGVuIGluIGEgQ29udHJvbCB0aGF0IHJlY3JlYXRlcyBpdCdzIGNvbnRlbnQgYmFzZWQgb25cbiAgICAgICAgICAgICAgICAvLyB1c2VyIGludGVyYWN0aW9uIGVpdGhlciBtYW51YWxseSBvciB2aWEgYSByZW5kZXIgaW4gc29tZXRoaW5nIGxpa2UgaHR0cHM6Ly9yZWFjdGpzLm9yZy9cbiAgICAgICAgICAgICAgICAhKHJvb3ROb2RlID09PSBkb2MgPyBkb2MuZG9jdW1lbnRFbGVtZW50IDogcm9vdE5vZGUpLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWFwQnJvd3NlckV2ZW50LmZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KG1hcEJyb3dzZXJFdmVudCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25zQXJyYXkgPSB0aGlzLmdldEludGVyYWN0aW9ucygpLmdldEFycmF5KCkuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpbnRlcmFjdGlvbnNBcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uc0FycmF5W2ldO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbi5nZXRNYXAoKSAhPT0gdGhpcyB8fFxuICAgICAgICAgICAgICAgICAgICAhaW50ZXJhY3Rpb24uZ2V0QWN0aXZlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY29udCA9IGludGVyYWN0aW9uLmhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250IHx8IG1hcEJyb3dzZXJFdmVudC5wcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVQb3N0UmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgICAgIC8vIE1hbmFnZSB0aGUgdGlsZSBxdWV1ZVxuICAgICAgICAvLyBJbWFnZSBsb2FkcyBhcmUgZXhwZW5zaXZlIGFuZCBhIGxpbWl0ZWQgcmVzb3VyY2UsIHNvIHRyeSB0byB1c2UgdGhlbVxuICAgICAgICAvLyBlZmZpY2llbnRseTpcbiAgICAgICAgLy8gKiBXaGVuIHRoZSB2aWV3IGlzIHN0YXRpYyB3ZSBhbGxvdyBhIGxhcmdlIG51bWJlciBvZiBwYXJhbGxlbCB0aWxlIGxvYWRzXG4gICAgICAgIC8vICAgdG8gY29tcGxldGUgdGhlIGZyYW1lIGFzIHF1aWNrbHkgYXMgcG9zc2libGUuXG4gICAgICAgIC8vICogV2hlbiBhbmltYXRpbmcgb3IgaW50ZXJhY3RpbmcsIGltYWdlIGxvYWRzIGNhbiBjYXVzZSBqYW5rcywgc28gd2UgcmVkdWNlXG4gICAgICAgIC8vICAgdGhlIG1heGltdW0gbnVtYmVyIG9mIGxvYWRzIHBlciBmcmFtZSBhbmQgbGltaXQgdGhlIG51bWJlciBvZiBwYXJhbGxlbFxuICAgICAgICAvLyAgIHRpbGUgbG9hZHMgdG8gcmVtYWluIHJlYWN0aXZlIHRvIHZpZXcgY2hhbmdlcyBhbmQgdG8gcmVkdWNlIHRoZSBjaGFuY2Ugb2ZcbiAgICAgICAgLy8gICBsb2FkaW5nIHRpbGVzIHRoYXQgd2lsbCBxdWlja2x5IGRpc2FwcGVhciBmcm9tIHZpZXcuXG4gICAgICAgIHZhciB0aWxlUXVldWUgPSB0aGlzLnRpbGVRdWV1ZV87XG4gICAgICAgIGlmICghdGlsZVF1ZXVlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdmFyIG1heFRvdGFsTG9hZGluZyA9IHRoaXMubWF4VGlsZXNMb2FkaW5nXztcbiAgICAgICAgICAgIHZhciBtYXhOZXdMb2FkcyA9IG1heFRvdGFsTG9hZGluZztcbiAgICAgICAgICAgIGlmIChmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgICAgICAgICAgICAgaWYgKGhpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgaGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3dPbkZyYW1lQnVkZ2V0ID0gIUlNQUdFX0RFQ09ERSAmJiBEYXRlLm5vdygpIC0gZnJhbWVTdGF0ZS50aW1lID4gODtcbiAgICAgICAgICAgICAgICAgICAgbWF4VG90YWxMb2FkaW5nID0gbG93T25GcmFtZUJ1ZGdldCA/IDAgOiA4O1xuICAgICAgICAgICAgICAgICAgICBtYXhOZXdMb2FkcyA9IGxvd09uRnJhbWVCdWRnZXQgPyAwIDogMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGlsZVF1ZXVlLmdldFRpbGVzTG9hZGluZygpIDwgbWF4VG90YWxMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGlsZVF1ZXVlLnJlcHJpb3JpdGl6ZSgpOyAvLyBGSVhNRSBvbmx5IGNhbGwgaWYgdmlldyBoYXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgIHRpbGVRdWV1ZS5sb2FkTW9yZVRpbGVzKG1heFRvdGFsTG9hZGluZywgbWF4TmV3TG9hZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFtZVN0YXRlICYmXG4gICAgICAgICAgICB0aGlzLmhhc0xpc3RlbmVyKFJlbmRlckV2ZW50VHlwZS5SRU5ERVJDT01QTEVURSkgJiZcbiAgICAgICAgICAgICFmcmFtZVN0YXRlLmFuaW1hdGUgJiZcbiAgICAgICAgICAgICF0aGlzLnRpbGVRdWV1ZV8uZ2V0VGlsZXNMb2FkaW5nKCkgJiZcbiAgICAgICAgICAgICF0aGlzLmdldExvYWRpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8uZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUkVOREVSQ09NUExFVEUsIGZyYW1lU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb3N0UmVuZGVyRnVuY3Rpb25zID0gdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcG9zdFJlbmRlckZ1bmN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zW2ldKHRoaXMsIGZyYW1lU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHBvc3RSZW5kZXJGdW5jdGlvbnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVTaXplQ2hhbmdlZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldFZpZXcoKSAmJiAhdGhpcy5nZXRWaWV3KCkuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpLnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVRhcmdldENoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0YXJnZXQgbWF5IGJlIHVuZGVmaW5lZCwgbnVsbCwgYSBzdHJpbmcgb3IgYW4gRWxlbWVudC5cbiAgICAgICAgLy8gSWYgaXQncyBhIHN0cmluZyB3ZSBjb252ZXJ0IGl0IHRvIGFuIEVsZW1lbnQgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgICAgIC8vIElmIGl0J3Mgbm90IG5vdyBhbiBFbGVtZW50IHdlIHJlbW92ZSB0aGUgdmlld3BvcnQgZnJvbSB0aGUgRE9NLlxuICAgICAgICAvLyBJZiBpdCdzIGFuIEVsZW1lbnQgd2UgYXBwZW5kIHRoZSB2aWV3cG9ydCBlbGVtZW50IHRvIGl0LlxuICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0VGFyZ2V0KCkpIHtcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5rZXlIYW5kbGVyS2V5c18ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5rZXlIYW5kbGVyS2V5c19baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5rZXlIYW5kbGVyS2V5c18gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ09OVEVYVE1FTlUsIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfKTtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLldIRUVMLCB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50Xyk7XG4gICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVSZXNpemVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5SRVNJWkUsIHRoaXMuaGFuZGxlUmVzaXplXywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzaXplXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXyA9IG51bGw7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHRoaXMudmlld3BvcnRfKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlcmVyXykge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXJfLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyXyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25EZWxheUtleV8pIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkRlbGF5S2V5Xyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudmlld3BvcnRfKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyXyA9IHRoaXMuY3JlYXRlUmVuZGVyZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBuZXcgTWFwQnJvd3NlckV2ZW50SGFuZGxlcih0aGlzLCB0aGlzLm1vdmVUb2xlcmFuY2VfKTtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBNYXBCcm93c2VyRXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXy5hZGRFdmVudExpc3RlbmVyKE1hcEJyb3dzZXJFdmVudFR5cGVba2V5XSwgdGhpcy5oYW5kbGVNYXBCcm93c2VyRXZlbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0Xy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DT05URVhUTUVOVSwgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRfLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLldIRUVMLCB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50XywgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICB2YXIga2V5Ym9hcmRFdmVudFRhcmdldCA9ICF0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfXG4gICAgICAgICAgICAgICAgPyB0YXJnZXRFbGVtZW50XG4gICAgICAgICAgICAgICAgOiB0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfO1xuICAgICAgICAgICAgdGhpcy5rZXlIYW5kbGVyS2V5c18gPSBbXG4gICAgICAgICAgICAgICAgbGlzdGVuKGtleWJvYXJkRXZlbnRUYXJnZXQsIEV2ZW50VHlwZS5LRVlET1dOLCB0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCwgdGhpcyksXG4gICAgICAgICAgICAgICAgbGlzdGVuKGtleWJvYXJkRXZlbnRUYXJnZXQsIEV2ZW50VHlwZS5LRVlQUkVTUywgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsIHRoaXMpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGVSZXNpemVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNpemVfID0gdGhpcy51cGRhdGVTaXplLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlJFU0laRSwgdGhpcy5oYW5kbGVSZXNpemVfLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTaXplKCk7XG4gICAgICAgIC8vIHVwZGF0ZVNpemUgY2FsbHMgc2V0U2l6ZSwgc28gbm8gbmVlZCB0byBjYWxsIHRoaXMucmVuZGVyXG4gICAgICAgIC8vIG91cnNlbHZlcyBoZXJlLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZVZpZXdDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKTtcbiAgICAgICAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZV8oKTtcbiAgICAgICAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbGlzdGVuKHZpZXcsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBsaXN0ZW4odmlldywgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXywgdGhpcyk7XG4gICAgICAgICAgICB2aWV3LnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXykge1xuICAgICAgICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllckdyb3VwID0gdGhpcy5nZXRMYXllckdyb3VwKCk7XG4gICAgICAgIGlmIChsYXllckdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBbXG4gICAgICAgICAgICAgICAgbGlzdGVuKGxheWVyR3JvdXAsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5yZW5kZXIsIHRoaXMpLFxuICAgICAgICAgICAgICAgIGxpc3RlbihsYXllckdyb3VwLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLnJlbmRlciwgdGhpcyksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmlzUmVuZGVyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZnJhbWVTdGF0ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhbiBpbW1lZGlhdGUgcmVuZGVyIGluIGEgc3luY2hyb25vdXMgbWFubmVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbmRlclN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkRlbGF5S2V5Xykge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWRyYXdzIGFsbCB0ZXh0IGFmdGVyIG5ldyBmb250cyBoYXZlIGxvYWRlZFxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVkcmF3VGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJTdGF0ZXNBcnJheSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsYXllclN0YXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlc1tpXS5sYXllcjtcbiAgICAgICAgICAgIGlmIChsYXllci5oYXNSZW5kZXJlcigpKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuZ2V0UmVuZGVyZXIoKS5oYW5kbGVGb250c0NoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBhIG1hcCByZW5kZXJpbmcgKGF0IHRoZSBuZXh0IGFuaW1hdGlvbiBmcmFtZSkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlcl8gJiYgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheV8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGdpdmVuIGNvbnRyb2wgZnJvbSB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdH0gY29udHJvbCBDb250cm9sLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBjb250cm9sIChvciB1bmRlZmluZWRcbiAgICAgKiAgICAgaWYgdGhlIGNvbnRyb2wgd2FzIG5vdCBmb3VuZCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlQ29udHJvbCA9IGZ1bmN0aW9uIChjb250cm9sKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbnRyb2xzKCkucmVtb3ZlKGNvbnRyb2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBnaXZlbiBpbnRlcmFjdGlvbiBmcm9tIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHR9IGludGVyYWN0aW9uIEludGVyYWN0aW9uIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBpbnRlcmFjdGlvbiAob3JcbiAgICAgKiAgICAgdW5kZWZpbmVkIGlmIHRoZSBpbnRlcmFjdGlvbiB3YXMgbm90IGZvdW5kKS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5yZW1vdmVJbnRlcmFjdGlvbiA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnRlcmFjdGlvbnMoKS5yZW1vdmUoaW50ZXJhY3Rpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gbGF5ZXIgZnJvbSB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgbGF5ZXIgKG9yIHVuZGVmaW5lZCBpZiB0aGVcbiAgICAgKiAgICAgbGF5ZXIgd2FzIG5vdCBmb3VuZCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlTGF5ZXIgPSBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgdmFyIGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpO1xuICAgICAgICByZXR1cm4gbGF5ZXJzLnJlbW92ZShsYXllcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGdpdmVuIG92ZXJsYXkgZnJvbSB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IG92ZXJsYXkgT3ZlcmxheS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIG92ZXJsYXkgKG9yIHVuZGVmaW5lZFxuICAgICAqICAgICBpZiB0aGUgb3ZlcmxheSB3YXMgbm90IGZvdW5kKS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5yZW1vdmVPdmVybGF5ID0gZnVuY3Rpb24gKG92ZXJsYXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3ZlcmxheXMoKS5yZW1vdmUob3ZlcmxheSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSBUaW1lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5yZW5kZXJGcmFtZV8gPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMuZ2V0VmlldygpO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICAgICAgLyoqIEB0eXBlIHs/RnJhbWVTdGF0ZX0gKi9cbiAgICAgICAgdmFyIGZyYW1lU3RhdGUgPSBudWxsO1xuICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGhhc0FyZWEoc2l6ZSkgJiYgdmlldyAmJiB2aWV3LmlzRGVmKCkpIHtcbiAgICAgICAgICAgIHZhciB2aWV3SGludHMgPSB2aWV3LmdldEhpbnRzKHRoaXMuZnJhbWVTdGF0ZV8gPyB0aGlzLmZyYW1lU3RhdGVfLnZpZXdIaW50cyA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgdmlld1N0YXRlID0gdmlldy5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgZnJhbWVTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBhbmltYXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybTogdGhpcy5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8sXG4gICAgICAgICAgICAgICAgZGVjbHV0dGVyVHJlZTogbnVsbCxcbiAgICAgICAgICAgICAgICBleHRlbnQ6IGdldEZvclZpZXdBbmRTaXplKHZpZXdTdGF0ZS5jZW50ZXIsIHZpZXdTdGF0ZS5yZXNvbHV0aW9uLCB2aWV3U3RhdGUucm90YXRpb24sIHNpemUpLFxuICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmZyYW1lSW5kZXhfKyssXG4gICAgICAgICAgICAgICAgbGF5ZXJJbmRleDogMCxcbiAgICAgICAgICAgICAgICBsYXllclN0YXRlc0FycmF5OiB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllclN0YXRlc0FycmF5KCksXG4gICAgICAgICAgICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgICAgICAgICBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybTogdGhpcy5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybV8sXG4gICAgICAgICAgICAgICAgcG9zdFJlbmRlckZ1bmN0aW9uczogW10sXG4gICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgICAgICB0aWxlUXVldWU6IHRoaXMudGlsZVF1ZXVlXyxcbiAgICAgICAgICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICAgICAgICAgIHVzZWRUaWxlczoge30sXG4gICAgICAgICAgICAgICAgdmlld1N0YXRlOiB2aWV3U3RhdGUsXG4gICAgICAgICAgICAgICAgdmlld0hpbnRzOiB2aWV3SGludHMsXG4gICAgICAgICAgICAgICAgd2FudGVkVGlsZXM6IHt9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyYW1lU3RhdGVfID0gZnJhbWVTdGF0ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8ucmVuZGVyRnJhbWUoZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmIChmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoZnJhbWVTdGF0ZS5hbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18sIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucyk7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNGcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vdmVTdGFydCA9ICF0aGlzLnByZXZpb3VzRXh0ZW50XyB8fFxuICAgICAgICAgICAgICAgICAgICAoIWlzRW1wdHkodGhpcy5wcmV2aW91c0V4dGVudF8pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhZXF1YWxzKGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50XykpO1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuTU9WRVNUQVJULCB0aGlzLCBwcmV2aW91c0ZyYW1lU3RhdGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0V4dGVudF8gPSBjcmVhdGVPclVwZGF0ZUVtcHR5KHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaWRsZSA9IHRoaXMucHJldmlvdXNFeHRlbnRfICYmXG4gICAgICAgICAgICAgICAgIWZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gJiZcbiAgICAgICAgICAgICAgICAhZnJhbWVTdGF0ZS52aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddICYmXG4gICAgICAgICAgICAgICAgIWVxdWFscyhmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pO1xuICAgICAgICAgICAgaWYgKGlkbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5NT1ZFRU5ELCB0aGlzLCBmcmFtZVN0YXRlKSk7XG4gICAgICAgICAgICAgICAgY2xvbmUoZnJhbWVTdGF0ZS5leHRlbnQsIHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5QT1NUUkVOREVSLCB0aGlzLCBmcmFtZVN0YXRlKSk7XG4gICAgICAgIGlmICghdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pIHtcbiAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZVBvc3RSZW5kZXIoKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsYXllcmdyb3VwIG9mIHRoaXMgbWFwLlxuICAgICAqIEBwYXJhbSB7TGF5ZXJHcm91cH0gbGF5ZXJHcm91cCBBIGxheWVyIGdyb3VwIGNvbnRhaW5pbmcgdGhlIGxheWVycyBpbiB0aGlzIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldExheWVyR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJHcm91cCkge1xuICAgICAgICB0aGlzLnNldChNYXBQcm9wZXJ0eS5MQVlFUkdST1VQLCBsYXllckdyb3VwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2l6ZSBvZiB0aGlzIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gc2l6ZSBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIG1hcCBpbiB0aGUgRE9NLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlNJWkUsIHNpemUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0YXJnZXQgZWxlbWVudCB0byByZW5kZXIgdGhpcyBtYXAgaW50by5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ3x1bmRlZmluZWR9IHRhcmdldCBUaGUgRWxlbWVudCBvciBpZCBvZiB0aGUgRWxlbWVudFxuICAgICAqICAgICB0aGF0IHRoZSBtYXAgaXMgcmVuZGVyZWQgaW4uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlRBUkdFVCwgdGFyZ2V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmlldyBmb3IgdGhpcyBtYXAuXG4gICAgICogQHBhcmFtIHtWaWV3fSB2aWV3IFRoZSB2aWV3IHRoYXQgY29udHJvbHMgdGhpcyBtYXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRWaWV3ID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuVklFVywgdmlldyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3JjZSBhIHJlY2FsY3VsYXRpb24gb2YgdGhlIG1hcCB2aWV3cG9ydCBzaXplLiAgVGhpcyBzaG91bGQgYmUgY2FsbGVkIHdoZW5cbiAgICAgKiB0aGlyZC1wYXJ0eSBjb2RlIGNoYW5nZXMgdGhlIHNpemUgb2YgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS51cGRhdGVTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuICAgICAgICBpZiAoIXRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2l6ZSh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRhcmdldEVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5zZXRTaXplKFtcbiAgICAgICAgICAgICAgICB0YXJnZXRFbGVtZW50Lm9mZnNldFdpZHRoIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJMZWZ0V2lkdGgnXSkgLVxuICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdMZWZ0J10pIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydwYWRkaW5nUmlnaHQnXSkgLVxuICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ2JvcmRlclJpZ2h0V2lkdGgnXSksXG4gICAgICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRIZWlnaHQgLVxuICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ2JvcmRlclRvcFdpZHRoJ10pIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydwYWRkaW5nVG9wJ10pIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydwYWRkaW5nQm90dG9tJ10pIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJCb3R0b21XaWR0aCddKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRTaXplXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjb21wdXRlcyB0aGUgdmlld3BvcnQgc2l6ZSBhbmQgc2F2ZSBpdCBvbiB0aGUgdmlldyBvYmplY3QgKGlmIGFueSlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUudXBkYXRlVmlld3BvcnRTaXplXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKHZpZXcpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMudmlld3BvcnRfKTtcbiAgICAgICAgICAgIGlmIChjb21wdXRlZFN0eWxlLndpZHRoICYmIGNvbXB1dGVkU3R5bGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS53aWR0aCwgMTApLFxuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChjb21wdXRlZFN0eWxlLmhlaWdodCwgMTApLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2aWV3LnNldFZpZXdwb3J0U2l6ZShzaXplKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBsdWdnYWJsZU1hcDtcbn0oQmFzZU9iamVjdCkpO1xuLyoqXG4gKiBAcGFyYW0ge01hcE9wdGlvbnN9IG9wdGlvbnMgTWFwIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtNYXBPcHRpb25zSW50ZXJuYWx9IEludGVybmFsIG1hcCBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zSW50ZXJuYWwob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudHxEb2N1bWVudH1cbiAgICAgKi9cbiAgICB2YXIga2V5Ym9hcmRFdmVudFRhcmdldCA9IG51bGw7XG4gICAgaWYgKG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleWJvYXJkRXZlbnRUYXJnZXQgPVxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldClcbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHZhciB2YWx1ZXMgPSB7fTtcbiAgICB2YXIgbGF5ZXJHcm91cCA9IG9wdGlvbnMubGF5ZXJzICYmXG4gICAgICAgIHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob3B0aW9ucy5sYXllcnMpLmdldExheWVycykgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAvKiogQHR5cGUge0xheWVyR3JvdXB9ICovIChvcHRpb25zLmxheWVycylcbiAgICAgICAgOiBuZXcgTGF5ZXJHcm91cCh7IGxheWVyczogLyoqIEB0eXBlIHtDb2xsZWN0aW9ufSAqLyAob3B0aW9ucy5sYXllcnMpIH0pO1xuICAgIHZhbHVlc1tNYXBQcm9wZXJ0eS5MQVlFUkdST1VQXSA9IGxheWVyR3JvdXA7XG4gICAgdmFsdWVzW01hcFByb3BlcnR5LlRBUkdFVF0gPSBvcHRpb25zLnRhcmdldDtcbiAgICB2YWx1ZXNbTWFwUHJvcGVydHkuVklFV10gPVxuICAgICAgICBvcHRpb25zLnZpZXcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudmlldyA6IG5ldyBWaWV3KCk7XG4gICAgdmFyIGNvbnRyb2xzO1xuICAgIGlmIChvcHRpb25zLmNvbnRyb2xzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5jb250cm9scykpIHtcbiAgICAgICAgICAgIGNvbnRyb2xzID0gbmV3IENvbGxlY3Rpb24ob3B0aW9ucy5jb250cm9scy5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9wdGlvbnMuY29udHJvbHMpLmdldEFycmF5KSA9PT0gJ2Z1bmN0aW9uJywgNDcpOyAvLyBFeHBlY3RlZCBgY29udHJvbHNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIGNvbnRyb2xzID0gLyoqIEB0eXBlIHtDb2xsZWN0aW9ufSAqLyAob3B0aW9ucy5jb250cm9scyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGludGVyYWN0aW9ucztcbiAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmludGVyYWN0aW9ucykpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMuaW50ZXJhY3Rpb25zLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob3B0aW9ucy5pbnRlcmFjdGlvbnMpLmdldEFycmF5KSA9PT1cbiAgICAgICAgICAgICAgICAnZnVuY3Rpb24nLCA0OCk7IC8vIEV4cGVjdGVkIGBpbnRlcmFjdGlvbnNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIGludGVyYWN0aW9ucyA9IC8qKiBAdHlwZSB7Q29sbGVjdGlvbn0gKi8gKG9wdGlvbnMuaW50ZXJhY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgb3ZlcmxheXM7XG4gICAgaWYgKG9wdGlvbnMub3ZlcmxheXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLm92ZXJsYXlzKSkge1xuICAgICAgICAgICAgb3ZlcmxheXMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLm92ZXJsYXlzLnNsaWNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob3B0aW9ucy5vdmVybGF5cykuZ2V0QXJyYXkpID09PSAnZnVuY3Rpb24nLCA0OSk7IC8vIEV4cGVjdGVkIGBvdmVybGF5c2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYGltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uYFxuICAgICAgICAgICAgb3ZlcmxheXMgPSBvcHRpb25zLm92ZXJsYXlzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvdmVybGF5cyA9IG5ldyBDb2xsZWN0aW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRyb2xzOiBjb250cm9scyxcbiAgICAgICAgaW50ZXJhY3Rpb25zOiBpbnRlcmFjdGlvbnMsXG4gICAgICAgIGtleWJvYXJkRXZlbnRUYXJnZXQ6IGtleWJvYXJkRXZlbnRUYXJnZXQsXG4gICAgICAgIG92ZXJsYXlzOiBvdmVybGF5cyxcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IFBsdWdnYWJsZU1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsdWdnYWJsZU1hcC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvQ29udHJvbFxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuLi9NYXBFdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgVk9JRCB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL2RvbS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IFtlbGVtZW50XSBUaGUgZWxlbWVudCBpcyB0aGUgY29udHJvbCdzXG4gKiBjb250YWluZXIgZWxlbWVudC4gVGhpcyBvbmx5IG5lZWRzIHRvIGJlIHNwZWNpZmllZCBpZiB5b3UncmUgZGV2ZWxvcGluZ1xuICogYSBjdXN0b20gY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW3JlbmRlcl0gRnVuY3Rpb24gY2FsbGVkIHdoZW5cbiAqIHRoZSBjb250cm9sIHNob3VsZCBiZSByZS1yZW5kZXJlZC4gVGhpcyBpcyBjYWxsZWQgaW4gYSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxuICogY2FsbGJhY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudFxuICogdGhlIGNvbnRyb2wgdG8gYmUgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb250cm9sIGlzIGEgdmlzaWJsZSB3aWRnZXQgd2l0aCBhIERPTSBlbGVtZW50IGluIGEgZml4ZWQgcG9zaXRpb24gb24gdGhlXG4gKiBzY3JlZW4uIFRoZXkgY2FuIGludm9sdmUgdXNlciBpbnB1dCAoYnV0dG9ucyksIG9yIGJlIGluZm9ybWF0aW9uYWwgb25seTtcbiAqIHRoZSBwb3NpdGlvbiBpcyBkZXRlcm1pbmVkIHVzaW5nIENTUy4gQnkgZGVmYXVsdCB0aGVzZSBhcmUgcGxhY2VkIGluIHRoZVxuICogY29udGFpbmVyIHdpdGggQ1NTIGNsYXNzIG5hbWUgYG9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50YCwgYnV0IGNhbiB1c2VcbiAqIGFueSBvdXRzaWRlIERPTSBlbGVtZW50LlxuICpcbiAqIFRoaXMgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGNvbnRyb2xzLiBZb3UgY2FuIHVzZSBpdCBmb3Igc2ltcGxlIGN1c3RvbVxuICogY29udHJvbHMgYnkgY3JlYXRpbmcgdGhlIGVsZW1lbnQgd2l0aCBsaXN0ZW5lcnMsIGNyZWF0aW5nIGFuIGluc3RhbmNlOlxuICogYGBganNcbiAqIHZhciBteUNvbnRyb2wgPSBuZXcgQ29udHJvbCh7ZWxlbWVudDogbXlFbGVtZW50fSk7XG4gKiBgYGBcbiAqIGFuZCB0aGVuIGFkZGluZyB0aGlzIHRvIHRoZSBtYXAuXG4gKlxuICogVGhlIG1haW4gYWR2YW50YWdlIG9mIGhhdmluZyB0aGlzIGFzIGEgY29udHJvbCByYXRoZXIgdGhhbiBhIHNpbXBsZSBzZXBhcmF0ZVxuICogRE9NIGVsZW1lbnQgaXMgdGhhdCBwcmV2ZW50aW5nIHByb3BhZ2F0aW9uIGlzIGhhbmRsZWQgZm9yIHlvdS4gQ29udHJvbHNcbiAqIHdpbGwgYWxzbyBiZSBvYmplY3RzIGluIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LCBzbyB5b3UgY2FuIHVzZSB0aGVpciBtZXRob2RzLlxuICpcbiAqIFlvdSBjYW4gYWxzbyBleHRlbmQgdGhpcyBiYXNlIGZvciB5b3VyIG93biBjb250cm9sIGNsYXNzLiBTZWVcbiAqIGV4YW1wbGVzL2N1c3RvbS1jb250cm9scyBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG8gZG8gdGhpcy5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBDb250cm9sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb250cm9sLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBDb250cm9sIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udHJvbChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuICAgICAgICBpZiAoZWxlbWVudCAmJiAhb3B0aW9ucy50YXJnZXQgJiYgIWVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVsZW1lbnQgPSBlbGVtZW50ID8gZWxlbWVudCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGlzdGVuZXJLZXlzID0gW107XG4gICAgICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRUYXJnZXQob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgQ29udHJvbC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVOb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBjb250cm9sLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBNYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbnRyb2wucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgY29udHJvbCBmcm9tIGl0cyBjdXJyZW50IG1hcCBhbmQgYXR0YWNoIGl0IHRvIHRoZSBuZXcgbWFwLlxuICAgICAqIFN1YmNsYXNzZXMgbWF5IHNldCB1cCBldmVudCBoYW5kbGVycyB0byBnZXQgbm90aWZpZWQgYWJvdXQgY2hhbmdlcyB0b1xuICAgICAqIHRoZSBtYXAgaGVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcy5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMubGlzdGVuZXJLZXlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLm1hcF8gPSBtYXA7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldF9cbiAgICAgICAgICAgICAgICA/IHRoaXMudGFyZ2V0X1xuICAgICAgICAgICAgICAgIDogbWFwLmdldE92ZXJsYXlDb250YWluZXJTdG9wRXZlbnQoKTtcbiAgICAgICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyICE9PSBWT0lEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcktleXMucHVzaChsaXN0ZW4obWFwLCBNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcy5yZW5kZXIsIHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udHJvbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29udHJvbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG1hcEV2ZW50KSB7IH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNldCBhIHRhcmdldCBlbGVtZW50IGZvciB0aGUgY29udHJvbC4gSXQgaGFzIG5vXG4gICAgICogZWZmZWN0IGlmIGl0IGlzIGNhbGxlZCBhZnRlciB0aGUgY29udHJvbCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgbWFwIChpLmUuXG4gICAgICogYWZ0ZXIgYHNldE1hcGAgaXMgY2FsbGVkIG9uIHRoZSBjb250cm9sKS4gSWYgbm8gYHRhcmdldGAgaXMgc2V0IGluIHRoZVxuICAgICAqIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSBjb250cm9sIGNvbnN0cnVjdG9yIGFuZCBpZiBgc2V0VGFyZ2V0YCBpcyBub3QgY2FsbGVkXG4gICAgICogdGhlbiB0aGUgY29udHJvbCBpcyBhZGRlZCB0byB0aGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IHRhcmdldCBUYXJnZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbnRyb2wucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXRfID1cbiAgICAgICAgICAgIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSA6IHRhcmdldDtcbiAgICB9O1xuICAgIHJldHVybiBDb250cm9sO1xufShCYXNlT2JqZWN0KSk7XG5leHBvcnQgZGVmYXVsdCBDb250cm9sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvQXR0cmlidXRpb25cbiAqL1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9Db250cm9sLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19DT0xMQVBTRUQsIENMQVNTX0NPTlRST0wsIENMQVNTX1VOU0VMRUNUQUJMRSB9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBpblZpZXcgfSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQgeyByZW1vdmVDaGlsZHJlbiwgcmVwbGFjZU5vZGUgfSBmcm9tICcuLi9kb20uanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtYXR0cmlidXRpb24nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdVxuICogd2FudCB0aGUgY29udHJvbCB0byBiZSByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAnc1xuICogdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb2xsYXBzaWJsZV0gU3BlY2lmeSBpZiBhdHRyaWJ1dGlvbnMgY2FuXG4gKiBiZSBjb2xsYXBzZWQuIElmIG5vdCBzcGVjaWZpZWQsIHNvdXJjZXMgY29udHJvbCB0aGlzIGJlaGF2aW9yIHdpdGggdGhlaXJcbiAqIGBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZWAgc2V0dGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbGxhcHNlZD10cnVlXSBTcGVjaWZ5IGlmIGF0dHJpYnV0aW9ucyBzaG91bGRcbiAqIGJlIGNvbGxhcHNlZCBhdCBzdGFydHVwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nQXR0cmlidXRpb25zJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsYWJlbD0naSddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGVcbiAqIGNvbGxhcHNlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2V4cGFuZENsYXNzTmFtZT1jbGFzc05hbWUgKyAnLWV4cGFuZCddIENTUyBjbGFzcyBuYW1lIGZvciB0aGVcbiAqIGNvbGxhcHNlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFtjb2xsYXBzZUxhYmVsPSfCuyddIFRleHQgbGFiZWwgdG8gdXNlXG4gKiBmb3IgdGhlIGV4cGFuZGVkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBJbnN0ZWFkIG9mIHRleHQsIGFsc28gYW4gZWxlbWVudCAoZS5nLiBhIGBzcGFuYCBlbGVtZW50KSBjYW4gYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29sbGFwc2VDbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1jb2xsYXBzZSddIENTUyBjbGFzcyBuYW1lIGZvciB0aGVcbiAqIGV4cGFuZGVkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtyZW5kZXJdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuXG4gKiB0aGUgY29udHJvbCBzaG91bGQgYmUgcmUtcmVuZGVyZWQuIFRoaXMgaXMgY2FsbGVkIGluIGEgYHJlcXVlc3RBbmltYXRpb25GcmFtZWBcbiAqIGNhbGxiYWNrLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENvbnRyb2wgdG8gc2hvdyBhbGwgdGhlIGF0dHJpYnV0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGxheWVyIHNvdXJjZXNcbiAqIGluIHRoZSBtYXAuIFRoaXMgY29udHJvbCBpcyBvbmUgb2YgdGhlIGRlZmF1bHQgY29udHJvbHMgaW5jbHVkZWQgaW4gbWFwcy5cbiAqIEJ5IGRlZmF1bHQgaXQgd2lsbCBzaG93IGluIHRoZSBib3R0b20gcmlnaHQgcG9ydGlvbiBvZiB0aGUgbWFwLCBidXQgdGhpcyBjYW5cbiAqIGJlIGNoYW5nZWQgYnkgdXNpbmcgYSBjc3Mgc2VsZWN0b3IgZm9yIGAub2wtYXR0cmlidXRpb25gLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIEF0dHJpYnV0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBdHRyaWJ1dGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBBdHRyaWJ1dGlvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEF0dHJpYnV0aW9uKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgcmVuZGVyOiBvcHRpb25zLnJlbmRlcixcbiAgICAgICAgICAgIHRhcmdldDogb3B0aW9ucy50YXJnZXQsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bEVsZW1lbnRfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sbGFwc2VkXyA9XG4gICAgICAgICAgICBvcHRpb25zLmNvbGxhcHNlZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzZWQgOiB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VyQ29sbGFwc2VkXyA9IF90aGlzLmNvbGxhcHNlZF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm92ZXJyaWRlQ29sbGFwc2libGVfID0gb3B0aW9ucy5jb2xsYXBzaWJsZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xsYXBzaWJsZV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5jb2xsYXBzaWJsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzaWJsZSA6IHRydWU7XG4gICAgICAgIGlmICghX3RoaXMuY29sbGFwc2libGVfKSB7XG4gICAgICAgICAgICBfdGhpcy5jb2xsYXBzZWRfID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC1hdHRyaWJ1dGlvbic7XG4gICAgICAgIHZhciB0aXBMYWJlbCA9IG9wdGlvbnMudGlwTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlwTGFiZWwgOiAnQXR0cmlidXRpb25zJztcbiAgICAgICAgdmFyIGV4cGFuZENsYXNzTmFtZSA9IG9wdGlvbnMuZXhwYW5kQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5leHBhbmRDbGFzc05hbWVcbiAgICAgICAgICAgIDogY2xhc3NOYW1lICsgJy1leHBhbmQnO1xuICAgICAgICB2YXIgY29sbGFwc2VMYWJlbCA9IG9wdGlvbnMuY29sbGFwc2VMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzZUxhYmVsIDogJ1xcdTAwQkInO1xuICAgICAgICB2YXIgY29sbGFwc2VDbGFzc05hbWUgPSBvcHRpb25zLmNvbGxhcHNlQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5jb2xsYXBzZUNsYXNzTmFtZVxuICAgICAgICAgICAgOiBjbGFzc05hbWUgKyAnLWNvbGxwYXNlJztcbiAgICAgICAgaWYgKHR5cGVvZiBjb2xsYXBzZUxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5jb2xsYXBzZUxhYmVsXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIF90aGlzLmNvbGxhcHNlTGFiZWxfLnRleHRDb250ZW50ID0gY29sbGFwc2VMYWJlbDtcbiAgICAgICAgICAgIF90aGlzLmNvbGxhcHNlTGFiZWxfLmNsYXNzTmFtZSA9IGNvbGxhcHNlQ2xhc3NOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuY29sbGFwc2VMYWJlbF8gPSBjb2xsYXBzZUxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYWJlbCA9IG9wdGlvbnMubGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubGFiZWwgOiAnaSc7XG4gICAgICAgIGlmICh0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLmxhYmVsXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIF90aGlzLmxhYmVsXy50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLmNsYXNzTmFtZSA9IGV4cGFuZENsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmxhYmVsXyA9IGxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3RpdmVMYWJlbCA9IF90aGlzLmNvbGxhcHNpYmxlXyAmJiAhX3RoaXMuY29sbGFwc2VkXyA/IF90aGlzLmNvbGxhcHNlTGFiZWxfIDogX3RoaXMubGFiZWxfO1xuICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi50aXRsZSA9IHRpcExhYmVsO1xuICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoYWN0aXZlTGFiZWwpO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0xJQ0ssIF90aGlzLmhhbmRsZUNsaWNrXy5iaW5kKF90aGlzKSwgZmFsc2UpO1xuICAgICAgICB2YXIgY3NzQ2xhc3NlcyA9IGNsYXNzTmFtZSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgQ0xBU1NfVU5TRUxFQ1RBQkxFICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICBDTEFTU19DT05UUk9MICtcbiAgICAgICAgICAgIChfdGhpcy5jb2xsYXBzZWRfICYmIF90aGlzLmNvbGxhcHNpYmxlXyA/ICcgJyArIENMQVNTX0NPTExBUFNFRCA6ICcnKSArXG4gICAgICAgICAgICAoX3RoaXMuY29sbGFwc2libGVfID8gJycgOiAnIG9sLXVuY29sbGFwc2libGUnKTtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNzc0NsYXNzZXM7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMudWxFbGVtZW50Xyk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBjdXJyZW50bHkgcmVuZGVyZWQgcmVzb2x1dGlvbnMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbGxlY3QgYSBsaXN0IG9mIHZpc2libGUgYXR0cmlidXRpb25zIGFuZCBzZXQgdGhlIGNvbGxhcHNpYmxlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gQXR0cmlidXRpb25zLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXR0cmlidXRpb24ucHJvdG90eXBlLmNvbGxlY3RTb3VyY2VBdHRyaWJ1dGlvbnNfID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIGFuIGF0dHJpYnV0aW9uIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGxvb2t1cCA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHZpc2libGUgYXR0cmlidXRpb25zLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciB2aXNpYmxlQXR0cmlidXRpb25zID0gW107XG4gICAgICAgIHZhciBjb2xsYXBzaWJsZSA9IHRydWU7XG4gICAgICAgIHZhciBsYXllclN0YXRlc0FycmF5ID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNBcnJheVtpXTtcbiAgICAgICAgICAgIGlmICghaW5WaWV3KGxheWVyU3RhdGUsIGZyYW1lU3RhdGUudmlld1N0YXRlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyU3RhdGUubGF5ZXIpLmdldFNvdXJjZSgpO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGlvbkdldHRlciA9IHNvdXJjZS5nZXRBdHRyaWJ1dGlvbnMoKTtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRpb25HZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGlvbnMgPSBhdHRyaWJ1dGlvbkdldHRlcihmcmFtZVN0YXRlKTtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xsYXBzaWJsZSA9XG4gICAgICAgICAgICAgICAgY29sbGFwc2libGUgJiYgc291cmNlLmdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlKCkgIT09IGZhbHNlO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRpb25zKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGF0dHJpYnV0aW9ucy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGF0dHJpYnV0aW9uc1tqXSBpbiBsb29rdXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQXR0cmlidXRpb25zLnB1c2goYXR0cmlidXRpb25zW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvb2t1cFthdHRyaWJ1dGlvbnNbal1dID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghKGF0dHJpYnV0aW9ucyBpbiBsb29rdXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVBdHRyaWJ1dGlvbnMucHVzaChhdHRyaWJ1dGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBsb29rdXBbYXR0cmlidXRpb25zXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5vdmVycmlkZUNvbGxhcHNpYmxlXykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb2xsYXBzaWJsZShjb2xsYXBzaWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpc2libGVBdHRyaWJ1dGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7P2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS51cGRhdGVFbGVtZW50XyA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdHRyaWJ1dGlvbnMgPSB0aGlzLmNvbGxlY3RTb3VyY2VBdHRyaWJ1dGlvbnNfKGZyYW1lU3RhdGUpO1xuICAgICAgICB2YXIgdmlzaWJsZSA9IGF0dHJpYnV0aW9ucy5sZW5ndGggPiAwO1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfICE9IHZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdmlzaWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXF1YWxzKGF0dHJpYnV0aW9ucywgdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4odGhpcy51bEVsZW1lbnRfKTtcbiAgICAgICAgLy8gYXBwZW5kIHRoZSBhdHRyaWJ1dGlvbnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXR0cmlidXRpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYXR0cmlidXRpb25zW2ldO1xuICAgICAgICAgICAgdGhpcy51bEVsZW1lbnRfLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfID0gYXR0cmlidXRpb25zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuaGFuZGxlQ2xpY2tfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlVG9nZ2xlXygpO1xuICAgICAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gdGhpcy5jb2xsYXBzZWRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuaGFuZGxlVG9nZ2xlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoQ0xBU1NfQ09MTEFQU0VEKTtcbiAgICAgICAgaWYgKHRoaXMuY29sbGFwc2VkXykge1xuICAgICAgICAgICAgcmVwbGFjZU5vZGUodGhpcy5jb2xsYXBzZUxhYmVsXywgdGhpcy5sYWJlbF8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVwbGFjZU5vZGUodGhpcy5sYWJlbF8sIHRoaXMuY29sbGFwc2VMYWJlbF8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sbGFwc2VkXyA9ICF0aGlzLmNvbGxhcHNlZF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBhdHRyaWJ1dGlvbiBpcyBjb2xsYXBzaWJsZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNpYmxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxhcHNpYmxlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRoZSBhdHRyaWJ1dGlvbiBzaG91bGQgYmUgY29sbGFwc2libGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjb2xsYXBzaWJsZSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2libGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5zZXRDb2xsYXBzaWJsZSA9IGZ1bmN0aW9uIChjb2xsYXBzaWJsZSkge1xuICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZV8gPT09IGNvbGxhcHNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsYXBzaWJsZV8gPSBjb2xsYXBzaWJsZTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ29sLXVuY29sbGFwc2libGUnKTtcbiAgICAgICAgaWYgKHRoaXMudXNlckNvbGxhcHNlZF8pIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVG9nZ2xlXygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsYXBzZSBvciBleHBhbmQgdGhlIGF0dHJpYnV0aW9uIGFjY29yZGluZyB0byB0aGUgcGFzc2VkIHBhcmFtZXRlci4gV2lsbFxuICAgICAqIG5vdCBkbyBhbnl0aGluZyBpZiB0aGUgYXR0cmlidXRpb24gaXNuJ3QgY29sbGFwc2libGUgb3IgaWYgdGhlIGN1cnJlbnRcbiAgICAgKiBjb2xsYXBzZWQgc3RhdGUgaXMgYWxyZWFkeSB0aGUgb25lIHJlcXVlc3RlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbGxhcHNlZCBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuc2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKGNvbGxhcHNlZCkge1xuICAgICAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gY29sbGFwc2VkO1xuICAgICAgICBpZiAoIXRoaXMuY29sbGFwc2libGVfIHx8IHRoaXMuY29sbGFwc2VkXyA9PT0gY29sbGFwc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYHRydWVgIHdoZW4gdGhlIGF0dHJpYnV0aW9uIGlzIGN1cnJlbnRseSBjb2xsYXBzZWQgb3IgYGZhbHNlYFxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsYXBzZWRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBhdHRyaWJ1dGlvbiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwRXZlbnQgTWFwIGV2ZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobWFwRXZlbnQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50XyhtYXBFdmVudC5mcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdHRyaWJ1dGlvbjtcbn0oQ29udHJvbCkpO1xuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdHRyaWJ1dGlvbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvUm90YXRlXG4gKi9cbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgQ0xBU1NfQ09OVFJPTCwgQ0xBU1NfSElEREVOLCBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1yb3RhdGUnXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbbGFiZWw9J+KHpyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgcm90YXRlIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nUmVzZXQgcm90YXRpb24nXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHJvdGF0ZSB0aXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbXBhc3NDbGFzc05hbWU9J29sLWNvbXBhc3MnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIGNvbXBhc3MuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F1dG9IaWRlPXRydWVdIEhpZGUgdGhlIGNvbnRyb2wgd2hlbiByb3RhdGlvbiBpcyAwLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBzaG91bGRcbiAqIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbigpOnZvaWR9IFtyZXNldE5vcnRoXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBpcyBjbGlja2VkLlxuICogVGhpcyB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGByZXNldE5vcnRoYC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdSB3YW50IHRoZSBjb250cm9sIHRvIGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAncyB2aWV3cG9ydC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGJ1dHRvbiBjb250cm9sIHRvIHJlc2V0IHJvdGF0aW9uIHRvIDAuXG4gKiBUbyBzdHlsZSB0aGlzIGNvbnRyb2wgdXNlIGNzcyBzZWxlY3RvciBgLm9sLXJvdGF0ZWAuIEEgYC5vbC1oaWRkZW5gIGNzc1xuICogc2VsZWN0b3IgaXMgYWRkZWQgdG8gdGhlIGJ1dHRvbiB3aGVuIHRoZSByb3RhdGlvbiBpcyAwLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFJvdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIFJvdGF0ZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdGF0ZShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgIHJlbmRlcjogb3B0aW9ucy5yZW5kZXIsXG4gICAgICAgICAgICB0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLXJvdGF0ZSc7XG4gICAgICAgIHZhciBsYWJlbCA9IG9wdGlvbnMubGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubGFiZWwgOiAnXFx1MjFFNyc7XG4gICAgICAgIHZhciBjb21wYXNzQ2xhc3NOYW1lID0gb3B0aW9ucy5jb21wYXNzQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5jb21wYXNzQ2xhc3NOYW1lXG4gICAgICAgICAgICA6ICdvbC1jb21wYXNzJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhYmVsXyA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8uY2xhc3NOYW1lID0gY29tcGFzc0NsYXNzTmFtZTtcbiAgICAgICAgICAgIF90aGlzLmxhYmVsXy50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfID0gbGFiZWw7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8uY2xhc3NMaXN0LmFkZChjb21wYXNzQ2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlwTGFiZWwgPSBvcHRpb25zLnRpcExhYmVsID8gb3B0aW9ucy50aXBMYWJlbCA6ICdSZXNldCByb3RhdGlvbic7XG4gICAgICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzTmFtZSArICctcmVzZXQnO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udGl0bGUgPSB0aXBMYWJlbDtcbiAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKF90aGlzLmxhYmVsXyk7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DTElDSywgX3RoaXMuaGFuZGxlQ2xpY2tfLmJpbmQoX3RoaXMpLCBmYWxzZSk7XG4gICAgICAgIHZhciBjc3NDbGFzc2VzID0gY2xhc3NOYW1lICsgJyAnICsgQ0xBU1NfVU5TRUxFQ1RBQkxFICsgJyAnICsgQ0xBU1NfQ09OVFJPTDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNzc0NsYXNzZXM7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgX3RoaXMuY2FsbFJlc2V0Tm9ydGhfID0gb3B0aW9ucy5yZXNldE5vcnRoID8gb3B0aW9ucy5yZXNldE5vcnRoIDogdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9IaWRlXyA9IG9wdGlvbnMuYXV0b0hpZGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXV0b0hpZGUgOiB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3RhdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChfdGhpcy5hdXRvSGlkZV8pIHtcbiAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19ISURERU4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSb3RhdGUucHJvdG90eXBlLmhhbmRsZUNsaWNrXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5jYWxsUmVzZXROb3J0aF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jYWxsUmVzZXROb3J0aF8oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXROb3J0aF8oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSb3RhdGUucHJvdG90eXBlLnJlc2V0Tm9ydGhfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBpZiAoIXZpZXcpIHtcbiAgICAgICAgICAgIC8vIHRoZSBtYXAgZG9lcyBub3QgaGF2ZSBhIHZpZXcsIHNvIHdlIGNhbid0IGFjdFxuICAgICAgICAgICAgLy8gdXBvbiBpdFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHZpZXcuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmR1cmF0aW9uXyA+IDAgJiYgcm90YXRpb24gJSAoMiAqIE1hdGguUEkpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmlldy5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlldy5zZXRSb3RhdGlvbigwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSByb3RhdGUgY29udHJvbCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwRXZlbnQgTWFwIGV2ZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFJvdGF0ZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG1hcEV2ZW50KSB7XG4gICAgICAgIHZhciBmcmFtZVN0YXRlID0gbWFwRXZlbnQuZnJhbWVTdGF0ZTtcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgIGlmIChyb3RhdGlvbiAhPSB0aGlzLnJvdGF0aW9uXykge1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9ICdyb3RhdGUoJyArIHJvdGF0aW9uICsgJ3JhZCknO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b0hpZGVfKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zID0gdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19ISURERU4pO1xuICAgICAgICAgICAgICAgIGlmICghY29udGFpbnMgJiYgcm90YXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbnMgJiYgcm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhYmVsXy5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBSb3RhdGU7XG59KENvbnRyb2wpKTtcbmV4cG9ydCBkZWZhdWx0IFJvdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvdGF0ZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvWm9vbVxuICovXG5pbXBvcnQgQ29udHJvbCBmcm9tICcuL0NvbnRyb2wuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IENMQVNTX0NPTlRST0wsIENMQVNTX1VOU0VMRUNUQUJMRSB9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQgeyBlYXNlT3V0IH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtem9vbSddIENTUyBjbGFzcyBuYW1lLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tSW5DbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1pbiddIENTUyBjbGFzcyBuYW1lIGZvciB0aGUgem9vbS1pbiBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21PdXRDbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1vdXQnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIHpvb20tb3V0IGJ1dHRvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbem9vbUluTGFiZWw9JysnXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHpvb20taW5cbiAqIGJ1dHRvbi4gSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW3pvb21PdXRMYWJlbD0nLSddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgem9vbS1vdXQgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21JblRpcExhYmVsPSdab29tIGluJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0VGlwTGFiZWw9J1pvb20gb3V0J10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggY2xpY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudCB0aGUgY29udHJvbCB0byBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb250cm9sIHdpdGggMiBidXR0b25zLCBvbmUgZm9yIHpvb20gaW4gYW5kIG9uZSBmb3Igem9vbSBvdXQuXG4gKiBUaGlzIGNvbnRyb2wgaXMgb25lIG9mIHRoZSBkZWZhdWx0IGNvbnRyb2xzIG9mIGEgbWFwLiBUbyBzdHlsZSB0aGlzIGNvbnRyb2xcbiAqIHVzZSBjc3Mgc2VsZWN0b3JzIGAub2wtem9vbS1pbmAgYW5kIGAub2wtem9vbS1vdXRgLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFpvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFpvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgWm9vbSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFpvb20ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICB0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLXpvb20nO1xuICAgICAgICB2YXIgZGVsdGEgPSBvcHRpb25zLmRlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRlbHRhIDogMTtcbiAgICAgICAgdmFyIHpvb21JbkNsYXNzTmFtZSA9IG9wdGlvbnMuem9vbUluQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy56b29tSW5DbGFzc05hbWVcbiAgICAgICAgICAgIDogY2xhc3NOYW1lICsgJy1pbic7XG4gICAgICAgIHZhciB6b29tT3V0Q2xhc3NOYW1lID0gb3B0aW9ucy56b29tT3V0Q2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy56b29tT3V0Q2xhc3NOYW1lXG4gICAgICAgICAgICA6IGNsYXNzTmFtZSArICctb3V0JztcbiAgICAgICAgdmFyIHpvb21JbkxhYmVsID0gb3B0aW9ucy56b29tSW5MYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tSW5MYWJlbCA6ICcrJztcbiAgICAgICAgdmFyIHpvb21PdXRMYWJlbCA9IG9wdGlvbnMuem9vbU91dExhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21PdXRMYWJlbCA6ICdcXHUyMjEyJztcbiAgICAgICAgdmFyIHpvb21JblRpcExhYmVsID0gb3B0aW9ucy56b29tSW5UaXBMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tSW5UaXBMYWJlbCA6ICdab29tIGluJztcbiAgICAgICAgdmFyIHpvb21PdXRUaXBMYWJlbCA9IG9wdGlvbnMuem9vbU91dFRpcExhYmVsICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy56b29tT3V0VGlwTGFiZWxcbiAgICAgICAgICAgIDogJ1pvb20gb3V0JztcbiAgICAgICAgdmFyIGluRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBpbkVsZW1lbnQuY2xhc3NOYW1lID0gem9vbUluQ2xhc3NOYW1lO1xuICAgICAgICBpbkVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBpbkVsZW1lbnQudGl0bGUgPSB6b29tSW5UaXBMYWJlbDtcbiAgICAgICAgaW5FbGVtZW50LmFwcGVuZENoaWxkKHR5cGVvZiB6b29tSW5MYWJlbCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoem9vbUluTGFiZWwpXG4gICAgICAgICAgICA6IHpvb21JbkxhYmVsKTtcbiAgICAgICAgaW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNMSUNLLCBfdGhpcy5oYW5kbGVDbGlja18uYmluZChfdGhpcywgZGVsdGEpLCBmYWxzZSk7XG4gICAgICAgIHZhciBvdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIG91dEVsZW1lbnQuY2xhc3NOYW1lID0gem9vbU91dENsYXNzTmFtZTtcbiAgICAgICAgb3V0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIG91dEVsZW1lbnQudGl0bGUgPSB6b29tT3V0VGlwTGFiZWw7XG4gICAgICAgIG91dEVsZW1lbnQuYXBwZW5kQ2hpbGQodHlwZW9mIHpvb21PdXRMYWJlbCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoem9vbU91dExhYmVsKVxuICAgICAgICAgICAgOiB6b29tT3V0TGFiZWwpO1xuICAgICAgICBvdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNMSUNLLCBfdGhpcy5oYW5kbGVDbGlja18uYmluZChfdGhpcywgLWRlbHRhKSwgZmFsc2UpO1xuICAgICAgICB2YXIgY3NzQ2xhc3NlcyA9IGNsYXNzTmFtZSArICcgJyArIENMQVNTX1VOU0VMRUNUQUJMRSArICcgJyArIENMQVNTX0NPTlRST0w7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGluRWxlbWVudCk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3V0RWxlbWVudCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgWm9vbSBkZWx0YS5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBoYW5kbGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFpvb20ucHJvdG90eXBlLmhhbmRsZUNsaWNrXyA9IGZ1bmN0aW9uIChkZWx0YSwgZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy56b29tQnlEZWx0YV8oZGVsdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFpvb20gZGVsdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBab29tLnByb3RvdHlwZS56b29tQnlEZWx0YV8gPSBmdW5jdGlvbiAoZGVsdGEpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKCF2aWV3KSB7XG4gICAgICAgICAgICAvLyB0aGUgbWFwIGRvZXMgbm90IGhhdmUgYSB2aWV3LCBzbyB3ZSBjYW4ndCBhY3RcbiAgICAgICAgICAgIC8vIHVwb24gaXRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFpvb20gPSB2aWV3LmdldFpvb20oKTtcbiAgICAgICAgaWYgKGN1cnJlbnRab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBuZXdab29tID0gdmlldy5nZXRDb25zdHJhaW5lZFpvb20oY3VycmVudFpvb20gKyBkZWx0YSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kdXJhdGlvbl8gPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHpvb206IG5ld1pvb20sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlldy5zZXRab29tKG5ld1pvb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gWm9vbTtcbn0oQ29udHJvbCkpO1xuZXhwb3J0IGRlZmF1bHQgWm9vbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVpvb20uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb21cbiAqL1xuaW1wb3J0IEludGVyYWN0aW9uLCB7IHpvb21CeURlbHRhIH0gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlbHRhPTFdIFRoZSB6b29tIGRlbHRhIGFwcGxpZWQgb24gZWFjaCBkb3VibGUgY2xpY2suXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gYnkgZG91YmxlLWNsaWNraW5nIG9uIHRoZSBtYXAuXG4gKiBAYXBpXG4gKi9cbnZhciBEb3VibGVDbGlja1pvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERvdWJsZUNsaWNrWm9vbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERvdWJsZUNsaWNrWm9vbShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWx0YV8gPSBvcHRpb25zLmRlbHRhID8gb3B0aW9ucy5kZWx0YSA6IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gKGlmIGl0IHdhcyBhXG4gICAgICogZG91YmxlY2xpY2spIGFuZCBldmVudHVhbGx5IHpvb21zIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKi9cbiAgICBEb3VibGVDbGlja1pvb20ucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLKSB7XG4gICAgICAgICAgICB2YXIgYnJvd3NlckV2ZW50ID0gLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGU7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBicm93c2VyRXZlbnQuc2hpZnRLZXkgPyAtdGhpcy5kZWx0YV8gOiB0aGlzLmRlbHRhXztcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgIHpvb21CeURlbHRhKHZpZXcsIGRlbHRhLCBhbmNob3IsIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAgICAgIGJyb3dzZXJFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc3RvcEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgICB9O1xuICAgIHJldHVybiBEb3VibGVDbGlja1pvb207XG59KEludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBEb3VibGVDbGlja1pvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Eb3VibGVDbGlja1pvb20uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnUGFuXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHsgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsIH0gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7IEZBTFNFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGFsbCwgZm9jdXNXaXRoVGFiaW5kZXgsIG5vTW9kaWZpZXJLZXlzLCBwcmltYXJ5QWN0aW9uLCB9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG5pbXBvcnQgeyByb3RhdGUgYXMgcm90YXRlQ29vcmRpbmF0ZSwgc2NhbGUgYXMgc2NhbGVDb29yZGluYXRlLCB9IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhIGJvb2xlYW5cbiAqIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufm5vTW9kaWZpZXJLZXlzfSBhbmQge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufnByaW1hcnlBY3Rpb259LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb25Gb2N1c09ubHk9ZmFsc2VdIFdoZW4gdGhlIG1hcCdzIHRhcmdldCBoYXMgYSBgdGFiaW5kZXhgIGF0dHJpYnV0ZSBzZXQsXG4gKiB0aGUgaW50ZXJhY3Rpb24gd2lsbCBvbmx5IGhhbmRsZSBldmVudHMgd2hlbiB0aGUgbWFwIGhhcyB0aGUgZm9jdXMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL0tpbmV0aWMuanNcIikuZGVmYXVsdH0gW2tpbmV0aWNdIEtpbmV0aWMgaW5lcnRpYSB0byBhcHBseSB0byB0aGUgcGFuLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCBieSBkcmFnZ2luZyB0aGUgbWFwLlxuICogQGFwaVxuICovXG52YXIgRHJhZ1BhbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHJhZ1BhbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdQYW4ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgc3RvcERvd246IEZBTFNFLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9LaW5ldGljLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2luZXRpY18gPSBvcHRpb25zLmtpbmV0aWM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RQb2ludGVyc0NvdW50XztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFubmluZ18gPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbmRpdGlvbiA9IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICAgICAgICA/IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICAgICAgICA6IGFsbChub01vZGlmaWVyS2V5cywgcHJpbWFyeUFjdGlvbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5vbkZvY3VzT25seVxuICAgICAgICAgICAgPyBhbGwoZm9jdXNXaXRoVGFiaW5kZXgsIGNvbmRpdGlvbilcbiAgICAgICAgICAgIDogY29uZGl0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub0tpbmV0aWNfID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdQYW4ucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhbm5pbmdfKSB7XG4gICAgICAgICAgICB0aGlzLnBhbm5pbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TWFwKCkuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFyZ2V0UG9pbnRlcnMgPSB0aGlzLnRhcmdldFBvaW50ZXJzO1xuICAgICAgICB2YXIgY2VudHJvaWQgPSBjZW50cm9pZEZyb21Qb2ludGVycyh0YXJnZXRQb2ludGVycyk7XG4gICAgICAgIGlmICh0YXJnZXRQb2ludGVycy5sZW5ndGggPT0gdGhpcy5sYXN0UG9pbnRlcnNDb3VudF8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy51cGRhdGUoY2VudHJvaWRbMF0sIGNlbnRyb2lkWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RDZW50cm9pZCkge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWRbMF0gLSBjZW50cm9pZFswXSxcbiAgICAgICAgICAgICAgICAgICAgY2VudHJvaWRbMV0gLSB0aGlzLmxhc3RDZW50cm9pZFsxXSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgICAgICBzY2FsZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0UmVzb2x1dGlvbigpKTtcbiAgICAgICAgICAgICAgICByb3RhdGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgICAgIHZpZXcuYWRqdXN0Q2VudGVySW50ZXJuYWwoZGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IHNvIHdlIGRvbid0IG92ZXJlc3RpbWF0ZSB0aGUga2luZXRpYyBlbmVyZ3kgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGFmdGVyIG9uZSBmaW5nZXIgZG93biwgdGlueSBkcmFnLCBzZWNvbmQgZmluZ2VyIGRvd25cbiAgICAgICAgICAgIHRoaXMua2luZXRpY18uYmVnaW4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IGNlbnRyb2lkO1xuICAgICAgICB0aGlzLmxhc3RQb2ludGVyc0NvdW50XyA9IHRhcmdldFBvaW50ZXJzLmxlbmd0aDtcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnUGFuLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5ub0tpbmV0aWNfICYmIHRoaXMua2luZXRpY18gJiYgdGhpcy5raW5ldGljXy5lbmQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IHRoaXMua2luZXRpY18uZ2V0RGlzdGFuY2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgYW5nbGUgPSB0aGlzLmtpbmV0aWNfLmdldEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHZpZXcuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVycHggPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsKGNlbnRlcik7XG4gICAgICAgICAgICAgICAgdmFyIGRlc3QgPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKFtcbiAgICAgICAgICAgICAgICAgICAgY2VudGVycHhbMF0gLSBkaXN0YW5jZSAqIE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVycHhbMV0gLSBkaXN0YW5jZSAqIE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB2aWV3LmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihkZXN0KSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFubmluZ18pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhbm5pbmdfID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgICAgICAgICAgICAvLyByZXNldCBzbyB3ZSBkb24ndCBvdmVyZXN0aW1hdGUgdGhlIGtpbmV0aWMgZW5lcmd5IGFmdGVyXG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgb25lIGZpbmdlciB1cCwgdGlueSBkcmFnLCBzZWNvbmQgZmluZ2VyIHVwXG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdQYW4ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMCAmJiB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IG51bGw7XG4gICAgICAgICAgICAvLyBzdG9wIGFueSBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm8ga2luZXRpYyBhcyBzb29uIGFzIG1vcmUgdGhhbiBvbmUgcG9pbnRlciBvbiB0aGUgc2NyZWVuIGlzXG4gICAgICAgICAgICAvLyBkZXRlY3RlZC4gVGhpcyBpcyB0byBwcmV2ZW50IG5hc3R5IHBhbnMgYWZ0ZXIgcGluY2guXG4gICAgICAgICAgICB0aGlzLm5vS2luZXRpY18gPSB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+IDE7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERyYWdQYW47XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgRHJhZ1Bhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYWdQYW4uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7IEZBTFNFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGFsdFNoaWZ0S2V5c09ubHksIG1vdXNlQWN0aW9uQnV0dG9uLCBtb3VzZU9ubHksIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyBkaXNhYmxlIH0gZnJvbSAnLi4vcm90YXRpb25jb25zdHJhaW50LmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+YWx0U2hpZnRLZXlzT25seX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcm90YXRlIHRoZSBtYXAgYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gdGhlIGFsdCBhbmQgc2hpZnQga2V5cyBhcmUgaGVsZCBkb3duLlxuICpcbiAqIFRoaXMgaW50ZXJhY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgZm9yIG1vdXNlIGRldmljZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnUm90YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcmFnUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRHJhZ1JvdGF0ZShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBzdG9wRG93bjogRkFMU0UsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IGFsdFNoaWZ0S2V5c09ubHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICovXG4gICAgRHJhZ1JvdGF0ZS5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAoIW1vdXNlT25seShtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKHZpZXcuZ2V0Q29uc3RyYWludHMoKS5yb3RhdGlvbiA9PT0gZGlzYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaXplID0gbWFwLmdldFNpemUoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IG1hcEJyb3dzZXJFdmVudC5waXhlbDtcbiAgICAgICAgdmFyIHRoZXRhID0gTWF0aC5hdGFuMihzaXplWzFdIC8gMiAtIG9mZnNldFsxXSwgb2Zmc2V0WzBdIC0gc2l6ZVswXSAvIDIpO1xuICAgICAgICBpZiAodGhpcy5sYXN0QW5nbGVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IHRoZXRhIC0gdGhpcy5sYXN0QW5nbGVfO1xuICAgICAgICAgICAgdmlldy5hZGp1c3RSb3RhdGlvbkludGVybmFsKC1kZWx0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0QW5nbGVfID0gdGhldGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICovXG4gICAgRHJhZ1JvdGF0ZS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb3VzZUFjdGlvbkJ1dHRvbihtYXBCcm93c2VyRXZlbnQpICYmXG4gICAgICAgICAgICB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICBtYXAuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZ1JvdGF0ZTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBEcmFnUm90YXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhZ1JvdGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL0JveFxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IERpc3Bvc2FibGUgZnJvbSAnLi4vRGlzcG9zYWJsZS5qcyc7XG5pbXBvcnQgUG9seWdvbiBmcm9tICcuLi9nZW9tL1BvbHlnb24uanMnO1xudmFyIFJlbmRlckJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyQm94LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgQ1NTIGNsYXNzIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyQm94KGNsYXNzTmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnlfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRGl2RWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVsZW1lbnRfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgX3RoaXMuZWxlbWVudF8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgX3RoaXMuZWxlbWVudF8uY2xhc3NOYW1lID0gJ29sLWJveCAnICsgY2xhc3NOYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGFydFBpeGVsXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmRQaXhlbF8gPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIFJlbmRlckJveC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE1hcChudWxsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5yZW5kZXJfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhcnRQaXhlbCA9IHRoaXMuc3RhcnRQaXhlbF87XG4gICAgICAgIHZhciBlbmRQaXhlbCA9IHRoaXMuZW5kUGl4ZWxfO1xuICAgICAgICB2YXIgcHggPSAncHgnO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmVsZW1lbnRfLnN0eWxlO1xuICAgICAgICBzdHlsZS5sZWZ0ID0gTWF0aC5taW4oc3RhcnRQaXhlbFswXSwgZW5kUGl4ZWxbMF0pICsgcHg7XG4gICAgICAgIHN0eWxlLnRvcCA9IE1hdGgubWluKHN0YXJ0UGl4ZWxbMV0sIGVuZFBpeGVsWzFdKSArIHB4O1xuICAgICAgICBzdHlsZS53aWR0aCA9IE1hdGguYWJzKGVuZFBpeGVsWzBdIC0gc3RhcnRQaXhlbFswXSkgKyBweDtcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gTWF0aC5hYnMoZW5kUGl4ZWxbMV0gLSBzdGFydFBpeGVsWzFdKSArIHB4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKi9cbiAgICBSZW5kZXJCb3gucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgaWYgKHRoaXMubWFwXykge1xuICAgICAgICAgICAgdGhpcy5tYXBfLmdldE92ZXJsYXlDb250YWluZXIoKS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnRfKTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZWxlbWVudF8uc3R5bGU7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gJ2luaGVyaXQnO1xuICAgICAgICAgICAgc3R5bGUudG9wID0gJ2luaGVyaXQnO1xuICAgICAgICAgICAgc3R5bGUud2lkdGggPSAnaW5oZXJpdCc7XG4gICAgICAgICAgICBzdHlsZS5oZWlnaHQgPSAnaW5oZXJpdCc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXBfID0gbWFwO1xuICAgICAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICAgICAgICB0aGlzLm1hcF8uZ2V0T3ZlcmxheUNvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBzdGFydFBpeGVsIFN0YXJ0IHBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IGVuZFBpeGVsIEVuZCBwaXhlbC5cbiAgICAgKi9cbiAgICBSZW5kZXJCb3gucHJvdG90eXBlLnNldFBpeGVscyA9IGZ1bmN0aW9uIChzdGFydFBpeGVsLCBlbmRQaXhlbCkge1xuICAgICAgICB0aGlzLnN0YXJ0UGl4ZWxfID0gc3RhcnRQaXhlbDtcbiAgICAgICAgdGhpcy5lbmRQaXhlbF8gPSBlbmRQaXhlbDtcbiAgICAgICAgdGhpcy5jcmVhdGVPclVwZGF0ZUdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMucmVuZGVyXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvciB1cGRhdGVzIHRoZSBjYWNoZWQgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5jcmVhdGVPclVwZGF0ZUdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhcnRQaXhlbCA9IHRoaXMuc3RhcnRQaXhlbF87XG4gICAgICAgIHZhciBlbmRQaXhlbCA9IHRoaXMuZW5kUGl4ZWxfO1xuICAgICAgICB2YXIgcGl4ZWxzID0gW1xuICAgICAgICAgICAgc3RhcnRQaXhlbCxcbiAgICAgICAgICAgIFtzdGFydFBpeGVsWzBdLCBlbmRQaXhlbFsxXV0sXG4gICAgICAgICAgICBlbmRQaXhlbCxcbiAgICAgICAgICAgIFtlbmRQaXhlbFswXSwgc3RhcnRQaXhlbFsxXV0sXG4gICAgICAgIF07XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHBpeGVscy5tYXAodGhpcy5tYXBfLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbCwgdGhpcy5tYXBfKTtcbiAgICAgICAgLy8gY2xvc2UgdGhlIHBvbHlnb25cbiAgICAgICAgY29vcmRpbmF0ZXNbNF0gPSBjb29yZGluYXRlc1swXS5zbGljZSgpO1xuICAgICAgICBpZiAoIXRoaXMuZ2VvbWV0cnlfKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5XyA9IG5ldyBQb2x5Z29uKFtjb29yZGluYXRlc10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeV8uc2V0Q29vcmRpbmF0ZXMoW2Nvb3JkaW5hdGVzXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeS5cbiAgICAgKi9cbiAgICBSZW5kZXJCb3gucHJvdG90eXBlLmdldEdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeV87XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyQm94O1xufShEaXNwb3NhYmxlKSk7XG5leHBvcnQgZGVmYXVsdCBSZW5kZXJCb3g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Cb3guanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnQm94XG4gKi9cbi8vIEZJWE1FIGRyYXcgZHJhZyBib3hcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IFJlbmRlckJveCBmcm9tICcuLi9yZW5kZXIvQm94LmpzJztcbmltcG9ydCB7IG1vdXNlQWN0aW9uQnV0dG9uIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fSBhbmQgdHdvXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3BpeGVsflBpeGVsfXMgYW5kIHJldHVybnMgYSBge2Jvb2xlYW59YC4gSWYgdGhlIGNvbmRpdGlvbiBpcyBtZXQsXG4gKiB0cnVlIHNob3VsZCBiZSByZXR1cm5lZC5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbih0aGlzOiA/LCBpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWwsIGltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsKTpib29sZWFufSBFbmRDb25kaXRpb25cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtZHJhZ2JveCddIENTUyBjbGFzcyBuYW1lIGZvciBzdHlsaW5nIHRoZSBib3guXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhIGJvb2xlYW5cbiAqIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG9sL2V2ZW50cy9jb25kaXRpb25+bW91c2VBY3Rpb25CdXR0b259LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5BcmVhPTY0XSBUaGUgbWluaW11bSBhcmVhIG9mIHRoZSBib3ggaW4gcGl4ZWwsIHRoaXMgdmFsdWUgaXMgdXNlZCBieSB0aGUgZGVmYXVsdFxuICogYGJveEVuZENvbmRpdGlvbmAgZnVuY3Rpb24uXG4gKiBAcHJvcGVydHkge0VuZENvbmRpdGlvbn0gW2JveEVuZENvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgdHdvXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3BpeGVsflBpeGVsfXMgdG8gaW5kaWNhdGUgd2hldGhlciBhIGBib3hlbmRgIGV2ZW50IHNob3VsZCBiZSBmaXJlZC5cbiAqIERlZmF1bHQgaXMgYHRydWVgIGlmIHRoZSBhcmVhIG9mIHRoZSBib3ggaXMgYmlnZ2VyIHRoYW4gdGhlIGBtaW5BcmVhYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKHRoaXM6RHJhZ0JveCwgaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtvbkJveEVuZF0gQ29kZSB0byBleGVjdXRlIGp1c3RcbiAqIGJlZm9yZSBgYm94ZW5kYCBpcyBmaXJlZC5cbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgRHJhZ0JveEV2ZW50VHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgdXBvbiBkcmFnIGJveCBzdGFydC5cbiAgICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveHN0YXJ0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJPWFNUQVJUOiAnYm94c3RhcnQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBvbiBkcmFnIHdoZW4gYm94IGlzIGFjdGl2ZS5cbiAgICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveGRyYWdcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQk9YRFJBRzogJ2JveGRyYWcnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB1cG9uIGRyYWcgYm94IGVuZC5cbiAgICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveGVuZFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1hFTkQ6ICdib3hlbmQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB1cG9uIGRyYWcgYm94IGNhbmNlbGVkLlxuICAgICAqIEBldmVudCBEcmFnQm94RXZlbnQjYm94Y2FuY2VsXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJPWENBTkNFTDogJ2JveGNhbmNlbCcsXG59O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdCb3h+RHJhZ0JveH0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2ZcbiAqIHRoaXMgdHlwZS5cbiAqL1xudmFyIERyYWdCb3hFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHJhZ0JveEV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBldmVudCBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBPcmlnaW5hdGluZyBldmVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEcmFnQm94RXZlbnQodHlwZSwgY29vcmRpbmF0ZSwgbWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgZHJhZyBldmVudC5cbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwQnJvd3NlckV2ZW50ID0gbWFwQnJvd3NlckV2ZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBEcmFnQm94RXZlbnQ7XG59KEV2ZW50KSk7XG5leHBvcnQgeyBEcmFnQm94RXZlbnQgfTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIGRyYXcgYSB2ZWN0b3IgYm94IGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIHRoZSBzaGlmdCBvciBvdGhlciBrZXkgaXMgaGVsZCBkb3duLiBUaGlzIGlzIHVzZWQsIGZvciBleGFtcGxlLFxuICogZm9yIHpvb21pbmcgdG8gYSBzcGVjaWZpYyBhcmVhIG9mIHRoZSBtYXBcbiAqIChzZWUge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbX5EcmFnWm9vbX0gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGVBbmRab29tfSkuXG4gKlxuICogQGZpcmVzIERyYWdCb3hFdmVudFxuICogQGFwaVxuICovXG52YXIgRHJhZ0JveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHJhZ0JveCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdCb3gob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL0JveC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm94XyA9IG5ldyBSZW5kZXJCb3gob3B0aW9ucy5jbGFzc05hbWUgfHwgJ29sLWRyYWdib3gnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taW5BcmVhXyA9IG9wdGlvbnMubWluQXJlYSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5BcmVhIDogNjQ7XG4gICAgICAgIGlmIChvcHRpb25zLm9uQm94RW5kKSB7XG4gICAgICAgICAgICBfdGhpcy5vbkJveEVuZCA9IG9wdGlvbnMub25Cb3hFbmQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXJ0UGl4ZWxfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogbW91c2VBY3Rpb25CdXR0b247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7RW5kQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm94RW5kQ29uZGl0aW9uXyA9IG9wdGlvbnMuYm94RW5kQ29uZGl0aW9uXG4gICAgICAgICAgICA/IG9wdGlvbnMuYm94RW5kQ29uZGl0aW9uXG4gICAgICAgICAgICA6IF90aGlzLmRlZmF1bHRCb3hFbmRDb25kaXRpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgY29uZGl0aW9uIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRoZSBib3hlbmQgZXZlbnRcbiAgICAgKiBzaG91bGQgZmlyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgVGhlIG9yaWdpbmF0aW5nIE1hcEJyb3dzZXJFdmVudFxuICAgICAqICAgICBsZWFkaW5nIHRvIHRoZSBib3ggZW5kLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHN0YXJ0UGl4ZWwgVGhlIHN0YXJ0aW5nIHBpeGVsIG9mIHRoZSBib3guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gZW5kUGl4ZWwgVGhlIGVuZCBwaXhlbCBvZiB0aGUgYm94LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBib3hlbmQgY29uZGl0aW9uIHNob3VsZCBiZSBmaXJlZC5cbiAgICAgKi9cbiAgICBEcmFnQm94LnByb3RvdHlwZS5kZWZhdWx0Qm94RW5kQ29uZGl0aW9uID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCwgc3RhcnRQaXhlbCwgZW5kUGl4ZWwpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gZW5kUGl4ZWxbMF0gLSBzdGFydFBpeGVsWzBdO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZW5kUGl4ZWxbMV0gLSBzdGFydFBpeGVsWzFdO1xuICAgICAgICByZXR1cm4gd2lkdGggKiB3aWR0aCArIGhlaWdodCAqIGhlaWdodCA+PSB0aGlzLm1pbkFyZWFfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBnZW9tZXRyeSBvZiBsYXN0IGRyYXduIGJveC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIERyYWdCb3gucHJvdG90eXBlLmdldEdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3hfLmdldEdlb21ldHJ5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB0aGlzLmJveF8uc2V0UGl4ZWxzKHRoaXMuc3RhcnRQaXhlbF8sIG1hcEJyb3dzZXJFdmVudC5waXhlbCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRHJhZ0JveEV2ZW50KERyYWdCb3hFdmVudFR5cGUuQk9YRFJBRywgbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGUsIG1hcEJyb3dzZXJFdmVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdCb3gucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHRoaXMuYm94Xy5zZXRNYXAobnVsbCk7XG4gICAgICAgIHZhciBjb21wbGV0ZUJveCA9IHRoaXMuYm94RW5kQ29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQsIHRoaXMuc3RhcnRQaXhlbF8sIG1hcEJyb3dzZXJFdmVudC5waXhlbCk7XG4gICAgICAgIGlmIChjb21wbGV0ZUJveCkge1xuICAgICAgICAgICAgdGhpcy5vbkJveEVuZChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRHJhZ0JveEV2ZW50KGNvbXBsZXRlQm94ID8gRHJhZ0JveEV2ZW50VHlwZS5CT1hFTkQgOiBEcmFnQm94RXZlbnRUeXBlLkJPWENBTkNFTCwgbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGUsIG1hcEJyb3dzZXJFdmVudCkpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnQm94LnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBpeGVsXyA9IG1hcEJyb3dzZXJFdmVudC5waXhlbDtcbiAgICAgICAgICAgIHRoaXMuYm94Xy5zZXRNYXAobWFwQnJvd3NlckV2ZW50Lm1hcCk7XG4gICAgICAgICAgICB0aGlzLmJveF8uc2V0UGl4ZWxzKHRoaXMuc3RhcnRQaXhlbF8sIHRoaXMuc3RhcnRQaXhlbF8pO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBEcmFnQm94RXZlbnQoRHJhZ0JveEV2ZW50VHlwZS5CT1hTVEFSVCwgbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGUsIG1hcEJyb3dzZXJFdmVudCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIGV4ZWN1dGUganVzdCBiZWZvcmUgYG9uYm94ZW5kYCBpcyBmaXJlZFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdCb3gucHJvdG90eXBlLm9uQm94RW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7IH07XG4gICAgcmV0dXJuIERyYWdCb3g7XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgRHJhZ0JveDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYWdCb3guanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbVxuICovXG5pbXBvcnQgRHJhZ0JveCBmcm9tICcuL0RyYWdCb3guanMnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZXMsIGdldEJvdHRvbUxlZnQsIGdldENlbnRlciwgZ2V0VG9wUmlnaHQsIHNjYWxlRnJvbUNlbnRlciwgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG5pbXBvcnQgeyBzaGlmdEtleU9ubHkgfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWRyYWd6b29tJ10gQ1NTIGNsYXNzIG5hbWUgZm9yIHN0eWxpbmcgdGhlXG4gKiBib3guXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5zaGlmdEtleU9ubHl9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdXQ9ZmFsc2VdIFVzZSBpbnRlcmFjdGlvbiBmb3Igem9vbWluZyBvdXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pbkFyZWE9NjRdIFRoZSBtaW5pbXVtIGFyZWEgb2YgdGhlIGJveCBpbiBwaXhlbCwgdGhpcyB2YWx1ZSBpcyB1c2VkIGJ5IHRoZSBwYXJlbnQgZGVmYXVsdFxuICogYGJveEVuZENvbmRpdGlvbmAgZnVuY3Rpb24uXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmcgb24gdGhlIG1hcCxcbiAqIG5vcm1hbGx5IGNvbWJpbmVkIHdpdGggYW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufSB0aGF0IGxpbWl0c1xuICogaXQgdG8gd2hlbiBhIGtleSwgc2hpZnQgYnkgZGVmYXVsdCwgaXMgaGVsZCBkb3duLlxuICpcbiAqIFRvIGNoYW5nZSB0aGUgc3R5bGUgb2YgdGhlIGJveCwgdXNlIENTUyBhbmQgdGhlIGAub2wtZHJhZ3pvb21gIHNlbGVjdG9yLCBvclxuICogeW91ciBjdXN0b20gb25lIGNvbmZpZ3VyZWQgd2l0aCBgY2xhc3NOYW1lYC5cbiAqIEBhcGlcbiAqL1xudmFyIERyYWdab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcmFnWm9vbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IHNoaWZ0S2V5T25seTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvbixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9ucy5jbGFzc05hbWUgfHwgJ29sLWRyYWd6b29tJyxcbiAgICAgICAgICAgIG1pbkFyZWE6IG9wdGlvbnMubWluQXJlYSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdXRfID0gb3B0aW9ucy5vdXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3V0IDogZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZSBqdXN0IGJlZm9yZSBgb25ib3hlbmRgIGlzIGZpcmVkXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICovXG4gICAgRHJhZ1pvb20ucHJvdG90eXBlLm9uQm94RW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICB2YXIgdmlldyA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL1ZpZXcuanNcIikuZGVmYXVsdH0gKi8gKG1hcC5nZXRWaWV3KCkpO1xuICAgICAgICB2YXIgc2l6ZSA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gKi8gKG1hcC5nZXRTaXplKCkpO1xuICAgICAgICB2YXIgZXh0ZW50ID0gdGhpcy5nZXRHZW9tZXRyeSgpLmdldEV4dGVudCgpO1xuICAgICAgICBpZiAodGhpcy5vdXRfKSB7XG4gICAgICAgICAgICB2YXIgbWFwRXh0ZW50ID0gdmlldy5jYWxjdWxhdGVFeHRlbnRJbnRlcm5hbChzaXplKTtcbiAgICAgICAgICAgIHZhciBib3hQaXhlbEV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGVzKFtcbiAgICAgICAgICAgICAgICBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsKGdldEJvdHRvbUxlZnQoZXh0ZW50KSksXG4gICAgICAgICAgICAgICAgbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbChnZXRUb3BSaWdodChleHRlbnQpKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgdmFyIGZhY3RvciA9IHZpZXcuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsKGJveFBpeGVsRXh0ZW50LCBzaXplKTtcbiAgICAgICAgICAgIHNjYWxlRnJvbUNlbnRlcihtYXBFeHRlbnQsIDEgLyBmYWN0b3IpO1xuICAgICAgICAgICAgZXh0ZW50ID0gbWFwRXh0ZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdmlldy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24odmlldy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwoZXh0ZW50LCBzaXplKSk7XG4gICAgICAgIHZhciBjZW50ZXIgPSB2aWV3LmdldENvbnN0cmFpbmVkQ2VudGVyKGdldENlbnRlcihleHRlbnQpLCByZXNvbHV0aW9uKTtcbiAgICAgICAgdmlldy5hbmltYXRlSW50ZXJuYWwoe1xuICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb25fLFxuICAgICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBEcmFnWm9vbTtcbn0oRHJhZ0JveCkpO1xuZXhwb3J0IGRlZmF1bHQgRHJhZ1pvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EcmFnWm9vbS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0tleWJvYXJkUGFuXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHsgcGFuIH0gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgS2V5Q29kZSBmcm9tICcuLi9ldmVudHMvS2V5Q29kZS5qcyc7XG5pbXBvcnQgeyBub01vZGlmaWVyS2V5cywgdGFyZ2V0Tm90RWRpdGFibGUgfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7IHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlIH0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufm5vTW9kaWZpZXJLZXlzfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn50YXJnZXROb3RFZGl0YWJsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGl4ZWxEZWx0YT0xMjhdIFRoZSBhbW91bnQgb2YgcGl4ZWxzIHRvIHBhbiBvbiBlYWNoIGtleVxuICogcHJlc3MuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHBhbiB0aGUgbWFwIHVzaW5nIGtleWJvYXJkIGFycm93cy5cbiAqIE5vdGUgdGhhdCwgYWx0aG91Z2ggdGhpcyBpbnRlcmFjdGlvbiBpcyBieSBkZWZhdWx0IGluY2x1ZGVkIGluIG1hcHMsXG4gKiB0aGUga2V5cyBjYW4gb25seSBiZSB1c2VkIHdoZW4gYnJvd3NlciBmb2N1cyBpcyBvbiB0aGUgZWxlbWVudCB0byB3aGljaFxuICogdGhlIGtleWJvYXJkIGV2ZW50cyBhcmUgYXR0YWNoZWQuIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIG1hcCBkaXYsXG4gKiB0aG91Z2ggeW91IGNhbiBjaGFuZ2UgdGhpcyB3aXRoIHRoZSBga2V5Ym9hcmRFdmVudFRhcmdldGAgaW5cbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0uIGBkb2N1bWVudGAgbmV2ZXIgbG9zZXMgZm9jdXMgYnV0LCBmb3IgYW55IG90aGVyXG4gKiBlbGVtZW50LCBmb2N1cyB3aWxsIGhhdmUgdG8gYmUgb24sIGFuZCByZXR1cm5lZCB0bywgdGhpcyBlbGVtZW50IGlmIHRoZSBrZXlzXG4gKiBhcmUgdG8gZnVuY3Rpb24uXG4gKiBTZWUgYWxzbyB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbX5LZXlib2FyZFpvb219LlxuICogQGFwaVxuICovXG52YXIgS2V5Ym9hcmRQYW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEtleWJvYXJkUGFuLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gS2V5Ym9hcmRQYW4ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBCcm93c2VyIGV2ZW50LlxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb21iaW5lZCBjb25kaXRpb24gcmVzdWx0LlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVmYXVsdENvbmRpdGlvbl8gPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gKG5vTW9kaWZpZXJLZXlzKG1hcEJyb3dzZXJFdmVudCkgJiYgdGFyZ2V0Tm90RWRpdGFibGUobWFwQnJvd3NlckV2ZW50KSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb25kaXRpb25fID1cbiAgICAgICAgICAgIG9wdGlvbnMuY29uZGl0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICAgICAgICAgICAgOiBfdGhpcy5kZWZhdWx0Q29uZGl0aW9uXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsRGVsdGFfID1cbiAgICAgICAgICAgIG9wdGlvbnMucGl4ZWxEZWx0YSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5waXhlbERlbHRhIDogMTI4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBpZiBpdCB3YXMgYVxuICAgICAqIGBLZXlFdmVudGAsIGFuZCBkZWNpZGVzIHRoZSBkaXJlY3Rpb24gdG8gcGFuIHRvIChpZiBhbiBhcnJvdyBrZXkgd2FzXG4gICAgICogcHJlc3NlZCkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKiBAdGhpcyB7S2V5Ym9hcmRQYW59XG4gICAgICovXG4gICAgS2V5Ym9hcmRQYW4ucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuS0VZRE9XTikge1xuICAgICAgICAgICAgdmFyIGtleUV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBrZXlFdmVudC5rZXlDb2RlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpICYmXG4gICAgICAgICAgICAgICAgKGtleUNvZGUgPT0gS2V5Q29kZS5ET1dOIHx8XG4gICAgICAgICAgICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5MRUZUIHx8XG4gICAgICAgICAgICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5SSUdIVCB8fFxuICAgICAgICAgICAgICAgICAgICBrZXlDb2RlID09IEtleUNvZGUuVVApKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICAgICAgICAgIHZhciBtYXBVbml0c0RlbHRhID0gdmlldy5nZXRSZXNvbHV0aW9uKCkgKiB0aGlzLnBpeGVsRGVsdGFfO1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YVggPSAwLCBkZWx0YVkgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChrZXlDb2RlID09IEtleUNvZGUuRE9XTikge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVkgPSAtbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5Q29kZSA9PSBLZXlDb2RlLkxFRlQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFYID0gLW1hcFVuaXRzRGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleUNvZGUgPT0gS2V5Q29kZS5SSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVggPSBtYXBVbml0c0RlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFZID0gbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gW2RlbHRhWCwgZGVsdGFZXTtcbiAgICAgICAgICAgICAgICByb3RhdGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgICAgIHBhbih2aWV3LCBkZWx0YSwgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICAgICAgICAgIGtleUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgc3RvcEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgICB9O1xuICAgIHJldHVybiBLZXlib2FyZFBhbjtcbn0oSW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkUGFuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2V5Ym9hcmRQYW4uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50cy9LZXlDb2RlXG4gKi9cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqIEBjb25zdFxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgTEVGVDogMzcsXG4gICAgVVA6IDM4LFxuICAgIFJJR0hUOiAzOSxcbiAgICBET1dOOiA0MCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1LZXlDb2RlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHsgem9vbUJ5RGVsdGEgfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7IHRhcmdldE5vdEVkaXRhYmxlIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBEZWZhdWx0IGlzXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+dGFyZ2V0Tm90RWRpdGFibGV9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBsZXZlbCBkZWx0YSBvbiBlYWNoIGtleSBwcmVzcy5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIHVzaW5nIGtleWJvYXJkICsgYW5kIC0uXG4gKiBOb3RlIHRoYXQsIGFsdGhvdWdoIHRoaXMgaW50ZXJhY3Rpb24gaXMgYnkgZGVmYXVsdCBpbmNsdWRlZCBpbiBtYXBzLFxuICogdGhlIGtleXMgY2FuIG9ubHkgYmUgdXNlZCB3aGVuIGJyb3dzZXIgZm9jdXMgaXMgb24gdGhlIGVsZW1lbnQgdG8gd2hpY2hcbiAqIHRoZSBrZXlib2FyZCBldmVudHMgYXJlIGF0dGFjaGVkLiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBtYXAgZGl2LFxuICogdGhvdWdoIHlvdSBjYW4gY2hhbmdlIHRoaXMgd2l0aCB0aGUgYGtleWJvYXJkRXZlbnRUYXJnZXRgIGluXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9LiBgZG9jdW1lbnRgIG5ldmVyIGxvc2VzIGZvY3VzIGJ1dCwgZm9yIGFueSBvdGhlclxuICogZWxlbWVudCwgZm9jdXMgd2lsbCBoYXZlIHRvIGJlIG9uLCBhbmQgcmV0dXJuZWQgdG8sIHRoaXMgZWxlbWVudCBpZiB0aGUga2V5c1xuICogYXJlIHRvIGZ1bmN0aW9uLlxuICogU2VlIGFsc28ge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhbn5LZXlib2FyZFBhbn0uXG4gKiBAYXBpXG4gKi9cbnZhciBLZXlib2FyZFpvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEtleWJvYXJkWm9vbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEtleWJvYXJkWm9vbShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogdGFyZ2V0Tm90RWRpdGFibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVsdGFfID0gb3B0aW9ucy5kZWx0YSA/IG9wdGlvbnMuZGVsdGEgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGlmIGl0IHdhcyBhXG4gICAgICogYEtleUV2ZW50YCwgYW5kIGRlY2lkZXMgd2hldGhlciB0byB6b29tIGluIG9yIG91dCAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlXG4gICAgICoga2V5IHByZXNzZWQgd2FzICcrJyBvciAnLScpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQHRoaXMge0tleWJvYXJkWm9vbX1cbiAgICAgKi9cbiAgICBLZXlib2FyZFpvb20ucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuS0VZRE9XTiB8fFxuICAgICAgICAgICAgbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWVBSRVNTKSB7XG4gICAgICAgICAgICB2YXIga2V5RXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBrZXlFdmVudC5jaGFyQ29kZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAgICAgICAgIChjaGFyQ29kZSA9PSAnKycuY2hhckNvZGVBdCgwKSB8fCBjaGFyQ29kZSA9PSAnLScuY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBjaGFyQ29kZSA9PSAnKycuY2hhckNvZGVBdCgwKSA/IHRoaXMuZGVsdGFfIDogLXRoaXMuZGVsdGFfO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgICAgICB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgdW5kZWZpbmVkLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgICAgICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICAgIH07XG4gICAgcmV0dXJuIEtleWJvYXJkWm9vbTtcbn0oSW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkWm9vbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtleWJvYXJkWm9vbS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvS2luZXRpY1xuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudGF0aW9uIG9mIGluZXJ0aWFsIGRlY2VsZXJhdGlvbiBmb3IgbWFwIG1vdmVtZW50LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIEtpbmV0aWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlY2F5IFJhdGUgb2YgZGVjYXkgKG11c3QgYmUgbmVnYXRpdmUpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5WZWxvY2l0eSBNaW5pbXVtIHZlbG9jaXR5IChwaXhlbHMvbWlsbGlzZWNvbmQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBEZWxheSB0byBjb25zaWRlciB0byBjYWxjdWxhdGUgdGhlIGtpbmV0aWNcbiAgICAgKiAgICAgaW5pdGlhbCB2YWx1ZXMgKG1pbGxpc2Vjb25kcykuXG4gICAgICovXG4gICAgZnVuY3Rpb24gS2luZXRpYyhkZWNheSwgbWluVmVsb2NpdHksIGRlbGF5KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWNheV8gPSBkZWNheTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblZlbG9jaXR5XyA9IG1pblZlbG9jaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsYXlfID0gZGVsYXk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5nbGVfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluaXRpYWxWZWxvY2l0eV8gPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wb2ludHNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYW5nbGVfID0gMDtcbiAgICAgICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnBvaW50c18ucHVzaCh4LCB5LCBEYXRlLm5vdygpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgd2Ugc2hvdWxkIGRvIGtpbmV0aWMgYW5pbWF0aW9uLlxuICAgICAqL1xuICAgIEtpbmV0aWMucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzXy5sZW5ndGggPCA2KSB7XG4gICAgICAgICAgICAvLyBhdCBsZWFzdCAyIHBvaW50cyBhcmUgcmVxdWlyZWQgKGkuZS4gdGhlcmUgbXVzdCBiZSBhdCBsZWFzdCA2IGVsZW1lbnRzXG4gICAgICAgICAgICAvLyBpbiB0aGUgYXJyYXkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGF5ID0gRGF0ZS5ub3coKSAtIHRoaXMuZGVsYXlfO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gdGhpcy5wb2ludHNfLmxlbmd0aCAtIDM7XG4gICAgICAgIGlmICh0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMl0gPCBkZWxheSkge1xuICAgICAgICAgICAgLy8gdGhlIGxhc3QgdHJhY2tlZCBwb2ludCBpcyB0b28gb2xkLCB3aGljaCBtZWFucyB0aGF0IHRoZSB1c2VyIHN0b3BwZWRcbiAgICAgICAgICAgIC8vIHBhbm5pbmcgYmVmb3JlIHJlbGVhc2luZyB0aGUgbWFwXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2V0IHRoZSBmaXJzdCBwb2ludCB3aGljaCBzdGlsbCBmYWxscyBpbnRvIHRoZSBkZWxheSB0aW1lXG4gICAgICAgIHZhciBmaXJzdEluZGV4ID0gbGFzdEluZGV4IC0gMztcbiAgICAgICAgd2hpbGUgKGZpcnN0SW5kZXggPiAwICYmIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl0gPiBkZWxheSkge1xuICAgICAgICAgICAgZmlyc3RJbmRleCAtPSAzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXggKyAyXSAtIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl07XG4gICAgICAgIC8vIHdlIGRvbid0IHdhbnQgYSBkdXJhdGlvbiBvZiAwIChkaXZpZGUgYnkgemVybylcbiAgICAgICAgLy8gd2UgYWxzbyBtYWtlIHN1cmUgdGhlIHVzZXIgcGFubmVkIGZvciBhIGR1cmF0aW9uIG9mIGF0IGxlYXN0IG9uZSBmcmFtZVxuICAgICAgICAvLyAoMS82MHMpIHRvIGNvbXB1dGUgc2FuZSBkaXNwbGFjZW1lbnQgdmFsdWVzXG4gICAgICAgIGlmIChkdXJhdGlvbiA8IDEwMDAgLyA2MCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeCA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXhdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXhdO1xuICAgICAgICB2YXIgZHkgPSB0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMV0gLSB0aGlzLnBvaW50c19bZmlyc3RJbmRleCArIDFdO1xuICAgICAgICB0aGlzLmFuZ2xlXyA9IE1hdGguYXRhbjIoZHksIGR4KTtcbiAgICAgICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSAvIGR1cmF0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsVmVsb2NpdHlfID4gdGhpcy5taW5WZWxvY2l0eV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRvdGFsIGRpc3RhbmNlIHRyYXZlbGxlZCAocGl4ZWxzKS5cbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS5nZXREaXN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblZlbG9jaXR5XyAtIHRoaXMuaW5pdGlhbFZlbG9jaXR5XykgLyB0aGlzLmRlY2F5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgb2YgdGhlIGtpbmV0aWMgcGFubmluZyBhbmltYXRpb24gKHJhZGlhbnMpLlxuICAgICAqL1xuICAgIEtpbmV0aWMucHJvdG90eXBlLmdldEFuZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmdsZV87XG4gICAgfTtcbiAgICByZXR1cm4gS2luZXRpYztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBLaW5ldGljO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2luZXRpYy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHsgem9vbUJ5RGVsdGEgfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7IERFVklDRV9QSVhFTF9SQVRJTywgRklSRUZPWCB9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQgeyBhbGwsIGFsd2F5cywgZm9jdXNXaXRoVGFiaW5kZXggfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgTW9kZSA9IHtcbiAgICBUUkFDS1BBRDogJ3RyYWNrcGFkJyxcbiAgICBXSEVFTDogJ3doZWVsJyxcbn07XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufmFsd2F5c30uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4RGVsdGE9MV0gTWF4aW11bSBtb3VzZSB3aGVlbCBkZWx0YS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTgwXSBNb3VzZSB3aGVlbCB0aW1lb3V0IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUFuY2hvcj10cnVlXSBFbmFibGUgem9vbWluZyB1c2luZyB0aGUgbW91c2Unc1xuICogbG9jYXRpb24gYXMgdGhlIGFuY2hvci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgem9vbWluZyBpbiBhbmQgb3V0IHdpbGwgem9vbSB0b1xuICogdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuIGluc3RlYWQgb2Ygem9vbWluZyBvbiB0aGUgbW91c2UncyBsb2NhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSBtb3VzZSB3aGVlbCB6b29tXG4gKiBldmVudCB3aWxsIGFsd2F5cyBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247XG4gKiBmYWxzZSBtZWFucyBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBzY3JvbGxpbmcgdGhlIG1vdXNlIHdoZWVsLlxuICogQGFwaVxuICovXG52YXIgTW91c2VXaGVlbFpvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1vdXNlV2hlZWxab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTW91c2VXaGVlbFpvb20ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnRlcmFjdGlvbi5qc1wiKS5JbnRlcmFjdGlvbk9wdGlvbnN9ICovIChvcHRpb25zKSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b3RhbERlbHRhXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGFzdERlbHRhXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWF4RGVsdGFfID0gb3B0aW9ucy5tYXhEZWx0YSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhEZWx0YSA6IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aW1lb3V0XyA9IG9wdGlvbnMudGltZW91dCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aW1lb3V0IDogODA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVzZUFuY2hvcl8gPVxuICAgICAgICAgICAgb3B0aW9ucy51c2VBbmNob3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlQW5jaG9yIDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8gPVxuICAgICAgICAgICAgb3B0aW9ucy5jb25zdHJhaW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvblxuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIHZhciBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogYWx3YXlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMub25Gb2N1c09ubHlcbiAgICAgICAgICAgID8gYWxsKGZvY3VzV2l0aFRhYmluZGV4LCBjb25kaXRpb24pXG4gICAgICAgICAgICA6IGNvbmRpdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGFydFRpbWVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez99XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aW1lb3V0SWRfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge01vZGV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW9kZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3BhZCBldmVudHMgc2VwYXJhdGVkIGJ5IHRoaXMgZGVsYXkgd2lsbCBiZSBjb25zaWRlcmVkIHNlcGFyYXRlXG4gICAgICAgICAqIGludGVyYWN0aW9ucy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYWNrcGFkRXZlbnRHYXBfID0gNDAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgez99XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFja3BhZFRpbWVvdXRJZF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGRlbHRhIHZhbHVlcyBwZXIgem9vbSBsZXZlbFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVsdGFQZXJab29tXyA9IDMwMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1vdXNlV2hlZWxab29tLnByb3RvdHlwZS5lbmRJbnRlcmFjdGlvbl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudHJhY2twYWRUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMuZ2V0TWFwKCkuZ2V0VmlldygpO1xuICAgICAgICB2aWV3LmVuZEludGVyYWN0aW9uKHVuZGVmaW5lZCwgdGhpcy5sYXN0RGVsdGFfID8gKHRoaXMubGFzdERlbHRhXyA+IDAgPyAxIDogLTEpIDogMCwgdGhpcy5sYXN0QW5jaG9yXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gKGlmIGl0IHdhcyBhIG1vdXNld2hlZWwtZXZlbnQpIGFuZCBldmVudHVhbGx5XG4gICAgICogem9vbXMgdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqL1xuICAgIE1vdXNlV2hlZWxab29tLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSBtYXBCcm93c2VyRXZlbnQudHlwZTtcbiAgICAgICAgaWYgKHR5cGUgIT09IEV2ZW50VHlwZS5XSEVFTCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgIHZhciB3aGVlbEV2ZW50ID0gLyoqIEB0eXBlIHtXaGVlbEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICB3aGVlbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLnVzZUFuY2hvcl8pIHtcbiAgICAgICAgICAgIHRoaXMubGFzdEFuY2hvcl8gPSBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWx0YSBub3JtYWxpc2F0aW9uIGluc3BpcmVkIGJ5XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2Jsb2IvMDAxYzdiOS9qcy91aS9oYW5kbGVyL3Njcm9sbF96b29tLmpzXG4gICAgICAgIHZhciBkZWx0YTtcbiAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5XSEVFTCkge1xuICAgICAgICAgICAgZGVsdGEgPSB3aGVlbEV2ZW50LmRlbHRhWTtcbiAgICAgICAgICAgIGlmIChGSVJFRk9YICYmIHdoZWVsRXZlbnQuZGVsdGFNb2RlID09PSBXaGVlbEV2ZW50LkRPTV9ERUxUQV9QSVhFTCkge1xuICAgICAgICAgICAgICAgIGRlbHRhIC89IERFVklDRV9QSVhFTF9SQVRJTztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3aGVlbEV2ZW50LmRlbHRhTW9kZSA9PT0gV2hlZWxFdmVudC5ET01fREVMVEFfTElORSkge1xuICAgICAgICAgICAgICAgIGRlbHRhICo9IDQwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWx0YSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFfID0gZGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0VGltZV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVfID0gbm93O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tb2RlXyB8fCBub3cgLSB0aGlzLnN0YXJ0VGltZV8gPiB0aGlzLnRyYWNrcGFkRXZlbnRHYXBfKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVfID0gTWF0aC5hYnMoZGVsdGEpIDwgNCA/IE1vZGUuVFJBQ0tQQUQgOiBNb2RlLldIRUVMO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKHRoaXMubW9kZV8gPT09IE1vZGUuVFJBQ0tQQUQgJiZcbiAgICAgICAgICAgICEodmlldy5nZXRDb25zdHJhaW5SZXNvbHV0aW9uKCkgfHwgdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uXykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNrcGFkVGltZW91dElkXykge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRyYWNrcGFkVGltZW91dElkXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlldy5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYWNrcGFkVGltZW91dElkXyA9IHNldFRpbWVvdXQodGhpcy5lbmRJbnRlcmFjdGlvbl8uYmluZCh0aGlzKSwgdGhpcy50aW1lb3V0Xyk7XG4gICAgICAgICAgICB2aWV3LmFkanVzdFpvb20oLWRlbHRhIC8gdGhpcy5kZWx0YVBlclpvb21fLCB0aGlzLmxhc3RBbmNob3JfKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IG5vdztcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvdGFsRGVsdGFfICs9IGRlbHRhO1xuICAgICAgICB2YXIgdGltZUxlZnQgPSBNYXRoLm1heCh0aGlzLnRpbWVvdXRfIC0gKG5vdyAtIHRoaXMuc3RhcnRUaW1lXyksIDApO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWRfKTtcbiAgICAgICAgdGhpcy50aW1lb3V0SWRfID0gc2V0VGltZW91dCh0aGlzLmhhbmRsZVdoZWVsWm9vbV8uYmluZCh0aGlzLCBtYXApLCB0aW1lTGVmdCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKi9cbiAgICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuaGFuZGxlV2hlZWxab29tXyA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbHRhID0gLWNsYW1wKHRoaXMudG90YWxEZWx0YV8sIC10aGlzLm1heERlbHRhXyAqIHRoaXMuZGVsdGFQZXJab29tXywgdGhpcy5tYXhEZWx0YV8gKiB0aGlzLmRlbHRhUGVyWm9vbV8pIC8gdGhpcy5kZWx0YVBlclpvb21fO1xuICAgICAgICBpZiAodmlldy5nZXRDb25zdHJhaW5SZXNvbHV0aW9uKCkgfHwgdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uXykge1xuICAgICAgICAgICAgLy8gdmlldyBoYXMgYSB6b29tIGNvbnN0cmFpbnQsIHpvb20gYnkgMVxuICAgICAgICAgICAgZGVsdGEgPSBkZWx0YSA/IChkZWx0YSA+IDAgPyAxIDogLTEpIDogMDtcbiAgICAgICAgfVxuICAgICAgICB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgdGhpcy5sYXN0QW5jaG9yXywgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICB0aGlzLm1vZGVfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRvdGFsRGVsdGFfID0gMDtcbiAgICAgICAgdGhpcy5sYXN0QW5jaG9yXyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50aW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlIG9yIGRpc2FibGUgdXNpbmcgdGhlIG1vdXNlJ3MgbG9jYXRpb24gYXMgYW4gYW5jaG9yIHdoZW4gem9vbWluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlQW5jaG9yIHRydWUgdG8gem9vbSB0byB0aGUgbW91c2UncyBsb2NhdGlvbiwgZmFsc2VcbiAgICAgKiB0byB6b29tIHRvIHRoZSBjZW50ZXIgb2YgdGhlIG1hcFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuc2V0TW91c2VBbmNob3IgPSBmdW5jdGlvbiAodXNlQW5jaG9yKSB7XG4gICAgICAgIHRoaXMudXNlQW5jaG9yXyA9IHVzZUFuY2hvcjtcbiAgICAgICAgaWYgKCF1c2VBbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTW91c2VXaGVlbFpvb207XG59KEludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBNb3VzZVdoZWVsWm9vbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vdXNlV2hlZWxab29tLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGVcbiAqL1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiwgeyBjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVycywgfSBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHsgRkFMU0UgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgZGlzYWJsZSB9IGZyb20gJy4uL3JvdGF0aW9uY29uc3RyYWludC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpblxuICogbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aHJlc2hvbGQ9MC4zXSBNaW5pbWFsIGFuZ2xlIGluIHJhZGlhbnMgdG8gc3RhcnQgYSByb3RhdGlvbi5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcm90YXRlIHRoZSBtYXAgYnkgdHdpc3Rpbmcgd2l0aCB0d28gZmluZ2Vyc1xuICogb24gYSB0b3VjaCBzY3JlZW4uXG4gKiBAYXBpXG4gKi9cbnZhciBQaW5jaFJvdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGluY2hSb3RhdGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQaW5jaFJvdGF0ZShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgdmFyIHBvaW50ZXJPcHRpb25zID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gKG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXBvaW50ZXJPcHRpb25zLnN0b3BEb3duKSB7XG4gICAgICAgICAgICBwb2ludGVyT3B0aW9ucy5zdG9wRG93biA9IEZBTFNFO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9pbnRlck9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdGF0aW5nXyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdGF0aW9uRGVsdGFfID0gMC4wO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRocmVzaG9sZF8gPSBvcHRpb25zLnRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aHJlc2hvbGQgOiAwLjM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICovXG4gICAgUGluY2hSb3RhdGUucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdmFyIHJvdGF0aW9uRGVsdGEgPSAwLjA7XG4gICAgICAgIHZhciB0b3VjaDAgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzBdO1xuICAgICAgICB2YXIgdG91Y2gxID0gdGhpcy50YXJnZXRQb2ludGVyc1sxXTtcbiAgICAgICAgLy8gYW5nbGUgYmV0d2VlbiB0b3VjaGVzXG4gICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIodG91Y2gxLmNsaWVudFkgLSB0b3VjaDAuY2xpZW50WSwgdG91Y2gxLmNsaWVudFggLSB0b3VjaDAuY2xpZW50WCk7XG4gICAgICAgIGlmICh0aGlzLmxhc3RBbmdsZV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gYW5nbGUgLSB0aGlzLmxhc3RBbmdsZV87XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uRGVsdGFfICs9IGRlbHRhO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJvdGF0aW5nXyAmJiBNYXRoLmFicyh0aGlzLnJvdGF0aW9uRGVsdGFfKSA+IHRoaXMudGhyZXNob2xkXykge1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRpbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdGF0aW9uRGVsdGEgPSBkZWx0YTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RBbmdsZV8gPSBhbmdsZTtcbiAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKHZpZXcuZ2V0Q29uc3RyYWludHMoKS5yb3RhdGlvbiA9PT0gZGlzYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJvdGF0ZSBhbmNob3IgcG9pbnQuXG4gICAgICAgIC8vIEZJWE1FOiBzaG91bGQgYmUgdGhlIGludGVyc2VjdGlvbiBwb2ludCBiZXR3ZWVuIHRoZSBsaW5lczpcbiAgICAgICAgLy8gICAgIHRvdWNoMCx0b3VjaDEgYW5kIHByZXZpb3VzVG91Y2gwLHByZXZpb3VzVG91Y2gxXG4gICAgICAgIHZhciB2aWV3cG9ydFBvc2l0aW9uID0gbWFwLmdldFZpZXdwb3J0KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBjZW50cm9pZCA9IGNlbnRyb2lkRnJvbVBvaW50ZXJzKHRoaXMudGFyZ2V0UG9pbnRlcnMpO1xuICAgICAgICBjZW50cm9pZFswXSAtPSB2aWV3cG9ydFBvc2l0aW9uLmxlZnQ7XG4gICAgICAgIGNlbnRyb2lkWzFdIC09IHZpZXdwb3J0UG9zaXRpb24udG9wO1xuICAgICAgICB0aGlzLmFuY2hvcl8gPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKGNlbnRyb2lkKTtcbiAgICAgICAgLy8gcm90YXRlXG4gICAgICAgIGlmICh0aGlzLnJvdGF0aW5nXykge1xuICAgICAgICAgICAgbWFwLnJlbmRlcigpO1xuICAgICAgICAgICAgdmlldy5hZGp1c3RSb3RhdGlvbkludGVybmFsKHJvdGF0aW9uRGVsdGEsIHRoaXMuYW5jaG9yXyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBQaW5jaFJvdGF0ZS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICB2aWV3LmVuZEludGVyYWN0aW9uKHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBQaW5jaFJvdGF0ZS5wcm90b3R5cGUuaGFuZGxlRG93bkV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB0aGlzLmFuY2hvcl8gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGluZ18gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25EZWx0YV8gPSAwLjA7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgICAgICAgICAgIG1hcC5nZXRWaWV3KCkuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQaW5jaFJvdGF0ZTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBQaW5jaFJvdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBpbmNoUm90YXRlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUGluY2hab29tXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHsgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsIH0gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7IEZBTFNFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj00MDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBwaW5jaGluZyB3aXRoIHR3byBmaW5nZXJzXG4gKiBvbiBhIHRvdWNoIHNjcmVlbi5cbiAqIEBhcGlcbiAqL1xudmFyIFBpbmNoWm9vbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGluY2hab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGluY2hab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgcG9pbnRlck9wdGlvbnMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vUG9pbnRlci5qc1wiKS5PcHRpb25zfSAqLyAob3B0aW9ucyk7XG4gICAgICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgICAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb2ludGVyT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogNDAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0RGlzdGFuY2VfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RTY2FsZURlbHRhXyA9IDE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIFBpbmNoWm9vbS5wcm90b3R5cGUuaGFuZGxlRHJhZ0V2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgc2NhbGVEZWx0YSA9IDEuMDtcbiAgICAgICAgdmFyIHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgICAgIHZhciB0b3VjaDEgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzFdO1xuICAgICAgICB2YXIgZHggPSB0b3VjaDAuY2xpZW50WCAtIHRvdWNoMS5jbGllbnRYO1xuICAgICAgICB2YXIgZHkgPSB0b3VjaDAuY2xpZW50WSAtIHRvdWNoMS5jbGllbnRZO1xuICAgICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIHRvdWNoZXNcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgaWYgKHRoaXMubGFzdERpc3RhbmNlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZURlbHRhID0gdGhpcy5sYXN0RGlzdGFuY2VfIC8gZGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0RGlzdGFuY2VfID0gZGlzdGFuY2U7XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmIChzY2FsZURlbHRhICE9IDEuMCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSBzY2FsZURlbHRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNjYWxlIGFuY2hvciBwb2ludC5cbiAgICAgICAgdmFyIHZpZXdwb3J0UG9zaXRpb24gPSBtYXAuZ2V0Vmlld3BvcnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGNlbnRyb2lkID0gY2VudHJvaWRGcm9tUG9pbnRlcnModGhpcy50YXJnZXRQb2ludGVycyk7XG4gICAgICAgIGNlbnRyb2lkWzBdIC09IHZpZXdwb3J0UG9zaXRpb24ubGVmdDtcbiAgICAgICAgY2VudHJvaWRbMV0gLT0gdmlld3BvcnRQb3NpdGlvbi50b3A7XG4gICAgICAgIHRoaXMuYW5jaG9yXyA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwoY2VudHJvaWQpO1xuICAgICAgICAvLyBzY2FsZSwgYnlwYXNzIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnRcbiAgICAgICAgbWFwLnJlbmRlcigpO1xuICAgICAgICB2aWV3LmFkanVzdFJlc29sdXRpb25JbnRlcm5hbChzY2FsZURlbHRhLCB0aGlzLmFuY2hvcl8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIFBpbmNoWm9vbS5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5sYXN0U2NhbGVEZWx0YV8gPiAxID8gMSA6IC0xO1xuICAgICAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih0aGlzLmR1cmF0aW9uXywgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBQaW5jaFpvb20ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMubGFzdFNjYWxlRGVsdGFfID0gMTtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBpbmNoWm9vbTtcbn0oUG9pbnRlckludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBQaW5jaFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QaW5jaFpvb20uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9NYXBcbiAqL1xuaW1wb3J0IENvbXBvc2l0ZU1hcFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXIvQ29tcG9zaXRlLmpzJztcbmltcG9ydCBQbHVnZ2FibGVNYXAgZnJvbSAnLi9QbHVnZ2FibGVNYXAuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgZGVmYXVsdHMgYXMgZGVmYXVsdENvbnRyb2xzIH0gZnJvbSAnLi9jb250cm9sLmpzJztcbmltcG9ydCB7IGRlZmF1bHRzIGFzIGRlZmF1bHRJbnRlcmFjdGlvbnMgfSBmcm9tICcuL2ludGVyYWN0aW9uLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogVGhlIG1hcCBpcyB0aGUgY29yZSBjb21wb25lbnQgb2YgT3BlbkxheWVycy4gRm9yIGEgbWFwIHRvIHJlbmRlciwgYSB2aWV3LFxuICogb25lIG9yIG1vcmUgbGF5ZXJzLCBhbmQgYSB0YXJnZXQgY29udGFpbmVyIGFyZSBuZWVkZWQ6XG4gKlxuICogICAgIGltcG9ydCBNYXAgZnJvbSAnb2wvTWFwJztcbiAqICAgICBpbXBvcnQgVmlldyBmcm9tICdvbC9WaWV3JztcbiAqICAgICBpbXBvcnQgVGlsZUxheWVyIGZyb20gJ29sL2xheWVyL1RpbGUnO1xuICogICAgIGltcG9ydCBPU00gZnJvbSAnb2wvc291cmNlL09TTSc7XG4gKlxuICogICAgIHZhciBtYXAgPSBuZXcgTWFwKHtcbiAqICAgICAgIHZpZXc6IG5ldyBWaWV3KHtcbiAqICAgICAgICAgY2VudGVyOiBbMCwgMF0sXG4gKiAgICAgICAgIHpvb206IDFcbiAqICAgICAgIH0pLFxuICogICAgICAgbGF5ZXJzOiBbXG4gKiAgICAgICAgIG5ldyBUaWxlTGF5ZXIoe1xuICogICAgICAgICAgIHNvdXJjZTogbmV3IE9TTSgpXG4gKiAgICAgICAgIH0pXG4gKiAgICAgICBdLFxuICogICAgICAgdGFyZ2V0OiAnbWFwJ1xuICogICAgIH0pO1xuICpcbiAqIFRoZSBhYm92ZSBzbmlwcGV0IGNyZWF0ZXMgYSBtYXAgdXNpbmcgYSB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1RpbGV9IHRvXG4gKiBkaXNwbGF5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL09TTX5PU019IE9TTSBkYXRhIGFuZCByZW5kZXIgaXQgdG8gYSBET01cbiAqIGVsZW1lbnQgd2l0aCB0aGUgaWQgYG1hcGAuXG4gKlxuICogVGhlIGNvbnN0cnVjdG9yIHBsYWNlcyBhIHZpZXdwb3J0IGNvbnRhaW5lciAod2l0aCBDU1MgY2xhc3MgbmFtZVxuICogYG9sLXZpZXdwb3J0YCkgaW4gdGhlIHRhcmdldCBlbGVtZW50IChzZWUgYGdldFZpZXdwb3J0KClgKSwgYW5kIHRoZW4gdHdvXG4gKiBmdXJ0aGVyIGVsZW1lbnRzIHdpdGhpbiB0aGUgdmlld3BvcnQ6IG9uZSB3aXRoIENTUyBjbGFzcyBuYW1lXG4gKiBgb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnRgIGZvciBjb250cm9scyBhbmQgc29tZSBvdmVybGF5cywgYW5kIG9uZSB3aXRoXG4gKiBDU1MgY2xhc3MgbmFtZSBgb2wtb3ZlcmxheWNvbnRhaW5lcmAgZm9yIG90aGVyIG92ZXJsYXlzIChzZWUgdGhlIGBzdG9wRXZlbnRgXG4gKiBvcHRpb24gb2Yge0BsaW5rIG1vZHVsZTpvbC9PdmVybGF5fk92ZXJsYXl9IGZvciB0aGUgZGlmZmVyZW5jZSkuIFRoZSBtYXBcbiAqIGl0c2VsZiBpcyBwbGFjZWQgaW4gYSBmdXJ0aGVyIGVsZW1lbnQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAqXG4gKiBMYXllcnMgYXJlIHN0b3JlZCBhcyBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpblxuICogbGF5ZXJHcm91cHMuIEEgdG9wLWxldmVsIGdyb3VwIGlzIHByb3ZpZGVkIGJ5IHRoZSBsaWJyYXJ5LiBUaGlzIGlzIHdoYXQgaXNcbiAqIGFjY2Vzc2VkIGJ5IGBnZXRMYXllckdyb3VwYCBhbmQgYHNldExheWVyR3JvdXBgLiBMYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgYXJlIGFkZGVkIHRvIHRoaXMgZ3JvdXAsIGFuZCBgYWRkTGF5ZXJgIGFuZCBgcmVtb3ZlTGF5ZXJgIGNoYW5nZSB0aGVcbiAqIGxheWVyIGNvbGxlY3Rpb24gaW4gdGhlIGdyb3VwLiBgZ2V0TGF5ZXJzYCBpcyBhIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvclxuICogYGdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKWAuIE5vdGUgdGhhdCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0dyb3Vwfkdyb3VwfVxuICogaXMgYSBzdWJjbGFzcyBvZiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V9LCBzbyBsYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgb3IgYWRkZWQgd2l0aCBgYWRkTGF5ZXJgIGNhbiBiZSBncm91cHMsIHdoaWNoIGNhbiBjb250YWluIGZ1cnRoZXJcbiAqIGdyb3VwcywgYW5kIHNvIG9uLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIE1hcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuTWFwT3B0aW9uc30gb3B0aW9ucyBNYXAgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmNvbnRyb2xzKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNvbnRyb2xzID0gZGVmYXVsdENvbnRyb2xzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLmludGVyYWN0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucy5pbnRlcmFjdGlvbnMgPSBkZWZhdWx0SW50ZXJhY3Rpb25zKHtcbiAgICAgICAgICAgICAgICBvbkZvY3VzT25seTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNYXAucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvc2l0ZU1hcFJlbmRlcmVyKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcDtcbn0oUGx1Z2dhYmxlTWFwKSk7XG5leHBvcnQgZGVmYXVsdCBNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXAuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2xcbiAqL1xuaW1wb3J0IEF0dHJpYnV0aW9uIGZyb20gJy4vY29udHJvbC9BdHRyaWJ1dGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IFJvdGF0ZSBmcm9tICcuL2NvbnRyb2wvUm90YXRlLmpzJztcbmltcG9ydCBab29tIGZyb20gJy4vY29udHJvbC9ab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXR0cmlidXRpb24gfSBmcm9tICcuL2NvbnRyb2wvQXR0cmlidXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBDb250cm9sIH0gZnJvbSAnLi9jb250cm9sL0NvbnRyb2wuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGdWxsU2NyZWVuIH0gZnJvbSAnLi9jb250cm9sL0Z1bGxTY3JlZW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb3VzZVBvc2l0aW9uIH0gZnJvbSAnLi9jb250cm9sL01vdXNlUG9zaXRpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBPdmVydmlld01hcCB9IGZyb20gJy4vY29udHJvbC9PdmVydmlld01hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJvdGF0ZSB9IGZyb20gJy4vY29udHJvbC9Sb3RhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTY2FsZUxpbmUgfSBmcm9tICcuL2NvbnRyb2wvU2NhbGVMaW5lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbSB9IGZyb20gJy4vY29udHJvbC9ab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbVNsaWRlciB9IGZyb20gJy4vY29udHJvbC9ab29tU2xpZGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWm9vbVRvRXh0ZW50IH0gZnJvbSAnLi9jb250cm9sL1pvb21Ub0V4dGVudC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERlZmF1bHRzT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb249dHJ1ZV0gSW5jbHVkZVxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb250cm9sL0F0dHJpYnV0aW9uLmpzXCIpLk9wdGlvbnN9IFthdHRyaWJ1dGlvbk9wdGlvbnNdXG4gKiBPcHRpb25zIGZvciB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvQXR0cmlidXRpb25+QXR0cmlidXRpb259LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlPXRydWVdIEluY2x1ZGVcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb250cm9sL1JvdGF0ZS5qc1wiKS5PcHRpb25zfSBbcm90YXRlT3B0aW9uc10gT3B0aW9uc1xuICogZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3pvb21dIEluY2x1ZGUge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1pvb21+Wm9vbX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29udHJvbC9ab29tLmpzXCIpLk9wdGlvbnN9IFt6b29tT3B0aW9uc10gT3B0aW9ucyBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LlxuICogQGFwaVxuICovXG4vKipcbiAqIFNldCBvZiBjb250cm9scyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFVubGVzcyBjb25maWd1cmVkIG90aGVyd2lzZSxcbiAqIHRoaXMgcmV0dXJucyBhIGNvbGxlY3Rpb24gY29udGFpbmluZyBhbiBpbnN0YW5jZSBvZiBlYWNoIG9mIHRoZSBmb2xsb3dpbmdcbiAqIGNvbnRyb2xzOlxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvUm90YXRlflJvdGF0ZX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufVxuICpcbiAqIEBwYXJhbSB7RGVmYXVsdHNPcHRpb25zPX0gb3B0X29wdGlvbnNcbiAqIERlZmF1bHRzIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fVxuICogQ29udHJvbHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0cyhvcHRfb3B0aW9ucykge1xuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgIHZhciBjb250cm9scyA9IG5ldyBDb2xsZWN0aW9uKCk7XG4gICAgdmFyIHpvb21Db250cm9sID0gb3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb20gOiB0cnVlO1xuICAgIGlmICh6b29tQ29udHJvbCkge1xuICAgICAgICBjb250cm9scy5wdXNoKG5ldyBab29tKG9wdGlvbnMuem9vbU9wdGlvbnMpKTtcbiAgICB9XG4gICAgdmFyIHJvdGF0ZUNvbnRyb2wgPSBvcHRpb25zLnJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGUgOiB0cnVlO1xuICAgIGlmIChyb3RhdGVDb250cm9sKSB7XG4gICAgICAgIGNvbnRyb2xzLnB1c2gobmV3IFJvdGF0ZShvcHRpb25zLnJvdGF0ZU9wdGlvbnMpKTtcbiAgICB9XG4gICAgdmFyIGF0dHJpYnV0aW9uQ29udHJvbCA9IG9wdGlvbnMuYXR0cmlidXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXR0cmlidXRpb24gOiB0cnVlO1xuICAgIGlmIChhdHRyaWJ1dGlvbkNvbnRyb2wpIHtcbiAgICAgICAgY29udHJvbHMucHVzaChuZXcgQXR0cmlidXRpb24ob3B0aW9ucy5hdHRyaWJ1dGlvbk9wdGlvbnMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyb2xzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udHJvbC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb25cbiAqL1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBEb3VibGVDbGlja1pvb20gZnJvbSAnLi9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb20uanMnO1xuaW1wb3J0IERyYWdQYW4gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmFnUGFuLmpzJztcbmltcG9ydCBEcmFnUm90YXRlIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZS5qcyc7XG5pbXBvcnQgRHJhZ1pvb20gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmFnWm9vbS5qcyc7XG5pbXBvcnQgS2V5Ym9hcmRQYW4gZnJvbSAnLi9pbnRlcmFjdGlvbi9LZXlib2FyZFBhbi5qcyc7XG5pbXBvcnQgS2V5Ym9hcmRab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tLmpzJztcbmltcG9ydCBLaW5ldGljIGZyb20gJy4vS2luZXRpYy5qcyc7XG5pbXBvcnQgTW91c2VXaGVlbFpvb20gZnJvbSAnLi9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbS5qcyc7XG5pbXBvcnQgUGluY2hSb3RhdGUgZnJvbSAnLi9pbnRlcmFjdGlvbi9QaW5jaFJvdGF0ZS5qcyc7XG5pbXBvcnQgUGluY2hab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRG91YmxlQ2xpY2tab29tIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmFnQW5kRHJvcCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ0FuZERyb3AuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmFnQm94IH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmFnQm94LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ1BhbiB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1Bhbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERyYWdSb3RhdGUgfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmFnUm90YXRlQW5kWm9vbSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZUFuZFpvb20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmFnWm9vbSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmF3IH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmF3LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXh0ZW50IH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9FeHRlbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnRlcmFjdGlvbiB9IGZyb20gJy4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBLZXlib2FyZFBhbiB9IGZyb20gJy4vaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBLZXlib2FyZFpvb20gfSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1vZGlmeSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vTW9kaWZ5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTW91c2VXaGVlbFpvb20gfSBmcm9tICcuL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUGluY2hSb3RhdGUgfSBmcm9tICcuL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUGluY2hab29tIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9QaW5jaFpvb20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQb2ludGVyIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9Qb2ludGVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2VsZWN0IH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9TZWxlY3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTbmFwIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9TbmFwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVHJhbnNsYXRlIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9UcmFuc2xhdGUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsdFNoaWZ0RHJhZ1JvdGF0ZT10cnVlXSBXaGV0aGVyIEFsdC1TaGlmdC1kcmFnIHJvdGF0ZSBpc1xuICogZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29uRm9jdXNPbmx5PWZhbHNlXSBJbnRlcmFjdCBvbmx5IHdoZW4gdGhlIG1hcCBoYXMgdGhlXG4gKiBmb2N1cy4gVGhpcyBhZmZlY3RzIHRoZSBgTW91c2VXaGVlbFpvb21gIGFuZCBgRHJhZ1BhbmAgaW50ZXJhY3Rpb25zIGFuZCBpc1xuICogdXNlZnVsIHdoZW4gcGFnZSBzY3JvbGwgaXMgZGVzaXJlZCBmb3IgbWFwcyB0aGF0IGRvIG5vdCBoYXZlIHRoZSBicm93c2VyJ3NcbiAqIGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZG91YmxlQ2xpY2tab29tPXRydWVdIFdoZXRoZXIgZG91YmxlIGNsaWNrIHpvb20gaXNcbiAqIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtrZXlib2FyZD10cnVlXSBXaGV0aGVyIGtleWJvYXJkIGludGVyYWN0aW9uIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttb3VzZVdoZWVsWm9vbT10cnVlXSBXaGV0aGVyIG1vdXNld2hlZWwgem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hpZnREcmFnWm9vbT10cnVlXSBXaGV0aGVyIFNoaWZ0LWRyYWcgem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZHJhZ1Bhbj10cnVlXSBXaGV0aGVyIGRyYWcgcGFuIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwaW5jaFJvdGF0ZT10cnVlXSBXaGV0aGVyIHBpbmNoIHJvdGF0ZSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGluY2hab29tPXRydWVdIFdoZXRoZXIgcGluY2ggem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tRGVsdGFdIFpvb20gbGV2ZWwgZGVsdGEgd2hlbiB1c2luZyBrZXlib2FyZCBvciBkb3VibGUgY2xpY2sgem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbUR1cmF0aW9uXSBEdXJhdGlvbiBvZiB0aGUgem9vbSBhbmltYXRpb24gaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqL1xuLyoqXG4gKiBTZXQgb2YgaW50ZXJhY3Rpb25zIGluY2x1ZGVkIGluIG1hcHMgYnkgZGVmYXVsdC4gU3BlY2lmaWMgaW50ZXJhY3Rpb25zIGNhbiBiZVxuICogZXhjbHVkZWQgYnkgc2V0dGluZyB0aGUgYXBwcm9wcmlhdGUgb3B0aW9uIHRvIGZhbHNlIGluIHRoZSBjb25zdHJ1Y3RvclxuICogb3B0aW9ucywgYnV0IHRoZSBvcmRlciBvZiB0aGUgaW50ZXJhY3Rpb25zIGlzIGZpeGVkLiAgSWYgeW91IHdhbnQgdG8gc3BlY2lmeVxuICogYSBkaWZmZXJlbnQgb3JkZXIgZm9yIGludGVyYWN0aW9ucywgeW91IHdpbGwgbmVlZCB0byBjcmVhdGUgeW91ciBvd25cbiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb259IGluc3RhbmNlcyBhbmQgaW5zZXJ0XG4gKiB0aGVtIGludG8gYSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259IGluIHRoZSBvcmRlciB5b3Ugd2FudFxuICogYmVmb3JlIGNyZWF0aW5nIHlvdXIge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfSBpbnN0YW5jZS4gQ2hhbmdpbmcgdGhlIG9yZGVyIGNhblxuICogYmUgb2YgaW50ZXJlc3QgaWYgdGhlIGV2ZW50IHByb3BhZ2F0aW9uIG5lZWRzIHRvIGJlIHN0b3BwZWQgYXQgYSBwb2ludC5cbiAqIFRoZSBkZWZhdWx0IHNldCBvZiBpbnRlcmFjdGlvbnMsIGluIHNlcXVlbmNlLCBpczpcbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlfkRyYWdSb3RhdGV9XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tfkRvdWJsZUNsaWNrWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnUGFufkRyYWdQYW59XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGV+UGluY2hSb3RhdGV9XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vUGluY2hab29tflBpbmNoWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhbn5LZXlib2FyZFBhbn1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tfk1vdXNlV2hlZWxab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdab29tfkRyYWdab29tfVxuICpcbiAqIEBwYXJhbSB7RGVmYXVsdHNPcHRpb25zPX0gb3B0X29wdGlvbnMgRGVmYXVsdHMgb3B0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKiBBIGNvbGxlY3Rpb24gb2YgaW50ZXJhY3Rpb25zIHRvIGJlIHVzZWQgd2l0aCB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfVxuICogY29uc3RydWN0b3IncyBgaW50ZXJhY3Rpb25zYCBvcHRpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0cyhvcHRfb3B0aW9ucykge1xuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgIHZhciBpbnRlcmFjdGlvbnMgPSBuZXcgQ29sbGVjdGlvbigpO1xuICAgIHZhciBraW5ldGljID0gbmV3IEtpbmV0aWMoLTAuMDA1LCAwLjA1LCAxMDApO1xuICAgIHZhciBhbHRTaGlmdERyYWdSb3RhdGUgPSBvcHRpb25zLmFsdFNoaWZ0RHJhZ1JvdGF0ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5hbHRTaGlmdERyYWdSb3RhdGVcbiAgICAgICAgOiB0cnVlO1xuICAgIGlmIChhbHRTaGlmdERyYWdSb3RhdGUpIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IERyYWdSb3RhdGUoKSk7XG4gICAgfVxuICAgIHZhciBkb3VibGVDbGlja1pvb20gPSBvcHRpb25zLmRvdWJsZUNsaWNrWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kb3VibGVDbGlja1pvb20gOiB0cnVlO1xuICAgIGlmIChkb3VibGVDbGlja1pvb20pIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IERvdWJsZUNsaWNrWm9vbSh7XG4gICAgICAgICAgICBkZWx0YTogb3B0aW9ucy56b29tRGVsdGEsXG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIGRyYWdQYW4gPSBvcHRpb25zLmRyYWdQYW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHJhZ1BhbiA6IHRydWU7XG4gICAgaWYgKGRyYWdQYW4pIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IERyYWdQYW4oe1xuICAgICAgICAgICAgb25Gb2N1c09ubHk6IG9wdGlvbnMub25Gb2N1c09ubHksXG4gICAgICAgICAgICBraW5ldGljOiBraW5ldGljLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBwaW5jaFJvdGF0ZSA9IG9wdGlvbnMucGluY2hSb3RhdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGluY2hSb3RhdGUgOiB0cnVlO1xuICAgIGlmIChwaW5jaFJvdGF0ZSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgUGluY2hSb3RhdGUoKSk7XG4gICAgfVxuICAgIHZhciBwaW5jaFpvb20gPSBvcHRpb25zLnBpbmNoWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5waW5jaFpvb20gOiB0cnVlO1xuICAgIGlmIChwaW5jaFpvb20pIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IFBpbmNoWm9vbSh7XG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIGtleWJvYXJkID0gb3B0aW9ucy5rZXlib2FyZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlib2FyZCA6IHRydWU7XG4gICAgaWYgKGtleWJvYXJkKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBLZXlib2FyZFBhbigpKTtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IEtleWJvYXJkWm9vbSh7XG4gICAgICAgICAgICBkZWx0YTogb3B0aW9ucy56b29tRGVsdGEsXG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIG1vdXNlV2hlZWxab29tID0gb3B0aW9ucy5tb3VzZVdoZWVsWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tb3VzZVdoZWVsWm9vbSA6IHRydWU7XG4gICAgaWYgKG1vdXNlV2hlZWxab29tKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBNb3VzZVdoZWVsWm9vbSh7XG4gICAgICAgICAgICBvbkZvY3VzT25seTogb3B0aW9ucy5vbkZvY3VzT25seSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgc2hpZnREcmFnWm9vbSA9IG9wdGlvbnMuc2hpZnREcmFnWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaGlmdERyYWdab29tIDogdHJ1ZTtcbiAgICBpZiAoc2hpZnREcmFnWm9vbSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRHJhZ1pvb20oe1xuICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBpbnRlcmFjdGlvbnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmFjdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvVGlsZVByb3BlcnR5XG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIFBSRUxPQUQ6ICdwcmVsb2FkJyxcbiAgICBVU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUjogJ3VzZUludGVyaW1UaWxlc09uRXJyb3InLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVQcm9wZXJ0eS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0Jhc2VUaWxlXG4gKi9cbmltcG9ydCBMYXllciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBUaWxlUHJvcGVydHkgZnJvbSAnLi9UaWxlUHJvcGVydHkuanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vb2JqLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcHJlbG9hZD0wXSBQcmVsb2FkLiBMb2FkIGxvdy1yZXNvbHV0aW9uIHRpbGVzIHVwIHRvIGBwcmVsb2FkYCBsZXZlbHMuIGAwYFxuICogbWVhbnMgbm8gcHJlbG9hZGluZy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gW3NvdXJjZV0gU291cmNlIGZvciB0aGlzIGxheWVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gU2V0cyB0aGUgbGF5ZXIgYXMgb3ZlcmxheSBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsIG5vdCBtYW5hZ2VcbiAqIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLCBhbmQgdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAqIHRlbXBvcmFyeSBsYXllcnMuIFRoZSBzdGFuZGFyZCB3YXkgdG8gYWRkIGEgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwIGlzIHRvXG4gKiB1c2Uge0BsaW5rIG1vZHVsZTpvbC9NYXAjYWRkTGF5ZXJ9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlSW50ZXJpbVRpbGVzT25FcnJvcj10cnVlXSBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBGb3IgbGF5ZXIgc291cmNlcyB0aGF0IHByb3ZpZGUgcHJlLXJlbmRlcmVkLCB0aWxlZCBpbWFnZXMgaW4gZ3JpZHMgdGhhdCBhcmVcbiAqIG9yZ2FuaXplZCBieSB6b29tIGxldmVscyBmb3Igc3BlY2lmaWMgcmVzb2x1dGlvbnMuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQGV4dGVuZHMge0xheWVyPGltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICogQGFwaVxuICovXG52YXIgQmFzZVRpbGVMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVRpbGVMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBUaWxlIGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVRpbGVMYXllcihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgdmFyIGJhc2VPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnByZWxvYWQ7XG4gICAgICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VPcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZXRQcmVsb2FkKG9wdGlvbnMucHJlbG9hZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wcmVsb2FkIDogMCk7XG4gICAgICAgIF90aGlzLnNldFVzZUludGVyaW1UaWxlc09uRXJyb3Iob3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yXG4gICAgICAgICAgICA6IHRydWUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGV2ZWwgYXMgbnVtYmVyIHRvIHdoaWNoIHdlIHdpbGwgcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZXZlbCB0byBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VUaWxlTGF5ZXIucHJvdG90eXBlLmdldFByZWxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KFRpbGVQcm9wZXJ0eS5QUkVMT0FEKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxldmVsIGFzIG51bWJlciB0byB3aGljaCB3ZSB3aWxsIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHByZWxvYWQgVGhlIGxldmVsIHRvIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZVRpbGVMYXllci5wcm90b3R5cGUuc2V0UHJlbG9hZCA9IGZ1bmN0aW9uIChwcmVsb2FkKSB7XG4gICAgICAgIHRoaXMuc2V0KFRpbGVQcm9wZXJ0eS5QUkVMT0FELCBwcmVsb2FkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgd2UgdXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZVRpbGVMYXllci5wcm90b3R5cGUuZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHRoaXMuZ2V0KFRpbGVQcm9wZXJ0eS5VU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgd2UgdXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB1c2VJbnRlcmltVGlsZXNPbkVycm9yIFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VUaWxlTGF5ZXIucHJvdG90eXBlLnNldFVzZUludGVyaW1UaWxlc09uRXJyb3IgPSBmdW5jdGlvbiAodXNlSW50ZXJpbVRpbGVzT25FcnJvcikge1xuICAgICAgICB0aGlzLnNldChUaWxlUHJvcGVydHkuVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IsIHVzZUludGVyaW1UaWxlc09uRXJyb3IpO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VUaWxlTGF5ZXI7XG59KExheWVyKSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlVGlsZUxheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVRpbGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9MYXllclxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuLi9PYnNlcnZhYmxlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuLi9zb3VyY2UvU3RhdGUuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbi8qKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBMYXllclR5cGVcbiAqL1xudmFyIExheWVyUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExheWVyUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtMYXllclR5cGV9IGxheWVyIExheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExheWVyUmVuZGVyZXIobGF5ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqIEBwcml2YXRlICovXG4gICAgICAgIF90aGlzLmJvdW5kSGFuZGxlSW1hZ2VDaGFuZ2VfID0gX3RoaXMuaGFuZGxlSW1hZ2VDaGFuZ2VfLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7TGF5ZXJUeXBlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGF5ZXJfID0gbGF5ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBc3luY2hyb25vdXMgbGF5ZXIgbGV2ZWwgaGl0IGRldGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PGltcG9ydChcIi4uL0ZlYXR1cmVcIikuZGVmYXVsdD4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aFxuICAgICAqIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgcmVuZGVyIHNob3VsZCBiZSBjYWxsZWQuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBMYXllciBpcyByZWFkeSB0byBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wcmVwYXJlRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgbGF5ZXIuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgVGFyZ2V0IHRoYXQgbWF5IGJlIHVzZWQgdG8gcmVuZGVyIGNvbnRlbnQgdG8uXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUsIHRhcmdldCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PG51bWJlciwgT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0Pj59IHRpbGVzIExvb2t1cCBvZiBsb2FkZWQgdGlsZXMgYnkgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbnx2b2lkfSBJZiBgZmFsc2VgLCB0aGUgdGlsZSB3aWxsIG5vdCBiZSBjb25zaWRlcmVkIGxvYWRlZC5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5sb2FkZWRUaWxlQ2FsbGJhY2sgPSBmdW5jdGlvbiAodGlsZXMsIHpvb20sIHRpbGUpIHtcbiAgICAgICAgaWYgKCF0aWxlc1t6b29tXSkge1xuICAgICAgICAgICAgdGlsZXNbem9vbV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aWxlc1t6b29tXVt0aWxlLnRpbGVDb29yZC50b1N0cmluZygpXSA9IHRpbGU7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IGFkZHMgbG9hZGVkIHRpbGVzIHRvIHRoZSB0aWxlIGxvb2t1cC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24gb2YgdGhlIHRpbGVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PG51bWJlciwgT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0Pj59IHRpbGVzIExvb2t1cCBvZiBsb2FkZWQgdGlsZXMgYnkgem9vbSBsZXZlbC5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBBIGZ1bmN0aW9uIHRoYXQgY2FuIGJlXG4gICAgICogICAgIGNhbGxlZCB3aXRoIGEgem9vbSBsZXZlbCBhbmQgYSB0aWxlIHJhbmdlIHRvIGFkZCBsb2FkZWQgdGlsZXMgdG8gdGhlIGxvb2t1cC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlTG9hZGVkVGlsZUZpbmRlciA9IGZ1bmN0aW9uIChzb3VyY2UsIHByb2plY3Rpb24sIHRpbGVzKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgcmFuZ2UgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAgICAgKiBAdGhpcyB7TGF5ZXJSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uICh6b29tLCB0aWxlUmFuZ2UpIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMubG9hZGVkVGlsZUNhbGxiYWNrLmJpbmQodGhpcywgdGlsZXMsIHpvb20pO1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5mb3JFYWNoTG9hZGVkVGlsZShwcm9qZWN0aW9uLCB6b29tLCB0aWxlUmFuZ2UsIGNhbGxiYWNrKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi92ZWN0b3IuanNcIikuRmVhdHVyZUNhbGxiYWNrPFQ+fSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9NYXAuanNcIikuSGl0TWF0Y2g8VD4+fSBtYXRjaGVzIFRoZSBoaXQgZGV0ZWN0ZWQgbWF0Y2hlcyB3aXRoIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgbWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheX0gVGhlIHJlc3VsdC4gIElmIHRoZXJlIGlzIG5vIGRhdGEgYXQgdGhlIHBpeGVsXG4gICAgICogICAgbG9jYXRpb24sIG51bGwgd2lsbCBiZSByZXR1cm5lZC4gIElmIHRoZXJlIGlzIGRhdGEsIGJ1dCBwaXhlbCB2YWx1ZXMgY2Fubm90IGJlXG4gICAgICogICAgcmV0dXJuZWQsIGFuZCBlbXB0eSBhcnJheSB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldERhdGFBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtMYXllclR5cGV9IExheWVyLlxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldExheWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGFjdGlvbiBuZWNlc3NhcnkgdG8gZ2V0IHRoZSBsYXllciByZW5kZXJlZCBhZnRlciBuZXcgZm9udHMgaGF2ZSBsb2FkZWRcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5oYW5kbGVGb250c0NoYW5nZWQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGNoYW5nZXMgaW4gaW1hZ2Ugc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgSW1hZ2UgY2hhbmdlIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2VDaGFuZ2VfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIGlmIChpbWFnZS5nZXRTdGF0ZSgpID09PSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBpbWFnZSBpZiBub3QgYWxyZWFkeSBsb2FkZWQsIGFuZCByZWdpc3RlciB0aGUgaW1hZ2UgY2hhbmdlXG4gICAgICogbGlzdGVuZXIgaWYgbmVlZGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgaW1hZ2UgaXMgYWxyZWFkeSBsb2FkZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5sb2FkSW1hZ2UgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgdmFyIGltYWdlU3RhdGUgPSBpbWFnZS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoaW1hZ2VTdGF0ZSAhPSBJbWFnZVN0YXRlLkxPQURFRCAmJiBpbWFnZVN0YXRlICE9IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5ib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICBpbWFnZS5sb2FkKCk7XG4gICAgICAgICAgICBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICBpZiAobGF5ZXIuZ2V0VmlzaWJsZSgpICYmIGxheWVyLmdldFNvdXJjZVN0YXRlKCkgPT0gU291cmNlU3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgIGxheWVyLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExheWVyUmVuZGVyZXI7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCBkZWZhdWx0IExheWVyUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MYXllci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9MYXllclxuICovXG5pbXBvcnQgTGF5ZXJSZW5kZXJlciBmcm9tICcuLi9MYXllci5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnQgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50LmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSwgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLCBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBjb250YWluc0Nvb3JkaW5hdGUsIGdldEJvdHRvbUxlZnQsIGdldEJvdHRvbVJpZ2h0LCBnZXRUb3BMZWZ0LCBnZXRUb3BSaWdodCwgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7IHJvdGF0ZUF0T2Zmc2V0IH0gZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG4vKipcbiAqIEBhYnN0cmFjdFxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBMYXllclR5cGVcbiAqL1xudmFyIENhbnZhc0xheWVyUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0xheWVyUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtMYXllclR5cGV9IGxheWVyIExheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0xheWVyUmVuZGVyZXIobGF5ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGF5ZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXBvcmFyeSB0cmFuc2Zvcm0uICBUaGUgdmFsdWVzIGluIHRoaXMgdHJhbnNmb3JtIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gYVxuICAgICAgICAgKiBmdW5jdGlvbiB0aGF0IHNldHMgdGhlIHZhbHVlcy5cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRlbXBUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gZm9yIHJlbmRlcmVkIHBpeGVscyB0byB2aWV3cG9ydCBDU1MgcGl4ZWxzLiAgVGhpcyB0cmFuc2Zvcm0gbXVzdFxuICAgICAgICAgKiBiZSBzZXQgd2hlbiByZW5kZXJpbmcgYSBmcmFtZSBhbmQgbWF5IGJlIHVzZWQgYnkgb3RoZXIgZnVuY3Rpb25zIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGZvciB2aWV3cG9ydCBDU1MgcGl4ZWxzIHRvIHJlbmRlcmVkIHBpeGVscy4gIFRoaXMgdHJhbnNmb3JtIG11c3RcbiAgICAgICAgICogYmUgc2V0IHdoZW4gcmVuZGVyaW5nIGEgZnJhbWUgYW5kIG1heSBiZSB1c2VkIGJ5IG90aGVyIGZ1bmN0aW9ucyBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGFpbmVyUmV1c2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgcmVuZGVyaW5nIGNvbnRhaW5lciBmcm9tIGFuIGV4aXN0aW5nIHRhcmdldCwgaWYgY29tcGF0aWJsZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgUG90ZW50aWFsIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zZm9ybSBDU1MgVHJhbnNmb3JtLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAgICovXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUudXNlQ29udGFpbmVyID0gZnVuY3Rpb24gKHRhcmdldCwgdHJhbnNmb3JtLCBvcGFjaXR5KSB7XG4gICAgICAgIHZhciBsYXllckNsYXNzTmFtZSA9IHRoaXMuZ2V0TGF5ZXIoKS5nZXRDbGFzc05hbWUoKTtcbiAgICAgICAgdmFyIGNvbnRhaW5lciwgY29udGV4dDtcbiAgICAgICAgaWYgKHRhcmdldCAmJlxuICAgICAgICAgICAgdGFyZ2V0LnN0eWxlLm9wYWNpdHkgPT09ICcnICYmXG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NOYW1lID09PSBsYXllckNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRhcmdldC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dCAmJlxuICAgICAgICAgICAgKGNvbnRleHQuY2FudmFzLndpZHRoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgY29udGV4dC5jYW52YXMuc3R5bGUudHJhbnNmb3JtID09PSB0cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICAvLyBDb250YWluZXIgb2YgdGhlIHByZXZpb3VzIGxheWVyIHJlbmRlcmVyIGNhbiBiZSB1c2VkLlxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSB0YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJSZXVzZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY29udGFpbmVyUmV1c2VkKSB7XG4gICAgICAgICAgICAvLyBQcmV2aW91c2x5IHJldXNlZCBjb250YWluZXIgY2Fubm90IGJlIHVzZWQgYW55IG1vcmUuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJSZXVzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBsYXllckNsYXNzTmFtZTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGNvbnRhaW5lci5zdHlsZTtcbiAgICAgICAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIHN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgpO1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgICAgICAgICBzdHlsZSA9IGNhbnZhcy5zdHlsZTtcbiAgICAgICAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAndG9wIGxlZnQnO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgQ2xpcCBleHRlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmNsaXAgPSBmdW5jdGlvbiAoY29udGV4dCwgZnJhbWVTdGF0ZSwgZXh0ZW50KSB7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgaGFsZldpZHRoID0gKGZyYW1lU3RhdGUuc2l6ZVswXSAqIHBpeGVsUmF0aW8pIC8gMjtcbiAgICAgICAgdmFyIGhhbGZIZWlnaHQgPSAoZnJhbWVTdGF0ZS5zaXplWzFdICogcGl4ZWxSYXRpbykgLyAyO1xuICAgICAgICB2YXIgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICAgICAgdmFyIHRvcExlZnQgPSBnZXRUb3BMZWZ0KGV4dGVudCk7XG4gICAgICAgIHZhciB0b3BSaWdodCA9IGdldFRvcFJpZ2h0KGV4dGVudCk7XG4gICAgICAgIHZhciBib3R0b21SaWdodCA9IGdldEJvdHRvbVJpZ2h0KGV4dGVudCk7XG4gICAgICAgIHZhciBib3R0b21MZWZ0ID0gZ2V0Qm90dG9tTGVmdChleHRlbnQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCB0b3BMZWZ0KTtcbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgdG9wUmlnaHQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBib3R0b21SaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGJvdHRvbUxlZnQpO1xuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgcm90YXRlQXRPZmZzZXQoY29udGV4dCwgLXJvdGF0aW9uLCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh0b3BMZWZ0WzBdICogcGl4ZWxSYXRpbywgdG9wTGVmdFsxXSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh0b3BSaWdodFswXSAqIHBpeGVsUmF0aW8sIHRvcFJpZ2h0WzFdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGJvdHRvbVJpZ2h0WzBdICogcGl4ZWxSYXRpbywgYm90dG9tUmlnaHRbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oYm90dG9tTGVmdFswXSAqIHBpeGVsUmF0aW8sIGJvdHRvbUxlZnRbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgICAgIHJvdGF0ZUF0T2Zmc2V0KGNvbnRleHQsIHJvdGF0aW9uLCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IENsaXAgZXh0ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jbGlwVW5yb3RhdGVkID0gZnVuY3Rpb24gKGNvbnRleHQsIGZyYW1lU3RhdGUsIGV4dGVudCkge1xuICAgICAgICB2YXIgdG9wTGVmdCA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgICAgICAgdmFyIHRvcFJpZ2h0ID0gZ2V0VG9wUmlnaHQoZXh0ZW50KTtcbiAgICAgICAgdmFyIGJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICAgICAgdmFyIGJvdHRvbUxlZnQgPSBnZXRCb3R0b21MZWZ0KGV4dGVudCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcExlZnQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCB0b3BSaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGJvdHRvbVJpZ2h0KTtcbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgYm90dG9tTGVmdCk7XG4gICAgICAgIHZhciBpbnZlcnRlZCA9IHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgdG9wTGVmdCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCB0b3BSaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCBib3R0b21SaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCBib3R0b21MZWZ0KTtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKE1hdGgucm91bmQodG9wTGVmdFswXSksIE1hdGgucm91bmQodG9wTGVmdFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKHRvcFJpZ2h0WzBdKSwgTWF0aC5yb3VuZCh0b3BSaWdodFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKGJvdHRvbVJpZ2h0WzBdKSwgTWF0aC5yb3VuZChib3R0b21SaWdodFsxXSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMF0pLCBNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMV0pKTtcbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmRpc3BhdGNoUmVuZGVyRXZlbnRfID0gZnVuY3Rpb24gKHR5cGUsIGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICBpZiAobGF5ZXIuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCBmcmFtZVN0YXRlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGxheWVyLmRpc3BhdGNoRXZlbnQoZXZlbnRfMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50XyhSZW5kZXJFdmVudFR5cGUuUFJFUkVOREVSLCBjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucG9zdFJlbmRlciA9IGZ1bmN0aW9uIChjb250ZXh0LCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBPU1RSRU5ERVIsIGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nIHRvIGFuIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHJvdGF0ZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgcmVuZGVyZWQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgcmVuZGVyZWQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCBPZmZzZXQgb24gdGhlIHgtYXhpcyBpbiB2aWV3IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gVHJhbnNmb3JtLlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFJlbmRlclRyYW5zZm9ybSA9IGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBwaXhlbFJhdGlvLCB3aWR0aCwgaGVpZ2h0LCBvZmZzZXRYKSB7XG4gICAgICAgIHZhciBkeDEgPSB3aWR0aCAvIDI7XG4gICAgICAgIHZhciBkeTEgPSBoZWlnaHQgLyAyO1xuICAgICAgICB2YXIgc3ggPSBwaXhlbFJhdGlvIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHN5ID0gLXN4O1xuICAgICAgICB2YXIgZHgyID0gLWNlbnRlclswXSArIG9mZnNldFg7XG4gICAgICAgIHZhciBkeTIgPSAtY2VudGVyWzFdO1xuICAgICAgICByZXR1cm4gY29tcG9zZVRyYW5zZm9ybSh0aGlzLnRlbXBUcmFuc2Zvcm0sIGR4MSwgZHkxLCBzeCwgc3ksIC1yb3RhdGlvbiwgZHgyLCBkeTIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheX0gVGhlIHJlc3VsdC4gIElmIHRoZXJlIGlzIG5vIGRhdGEgYXQgdGhlIHBpeGVsXG4gICAgICogICAgbG9jYXRpb24sIG51bGwgd2lsbCBiZSByZXR1cm5lZC4gIElmIHRoZXJlIGlzIGRhdGEsIGJ1dCBwaXhlbCB2YWx1ZXMgY2Fubm90IGJlXG4gICAgICogICAgcmV0dXJuZWQsIGFuZCBlbXB0eSBhcnJheSB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldERhdGFBdFBpeGVsID0gZnVuY3Rpb24gKHBpeGVsLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UpIHtcbiAgICAgICAgdmFyIHJlbmRlclBpeGVsID0gYXBwbHlUcmFuc2Zvcm0odGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgbGF5ZXJFeHRlbnQgPSBsYXllci5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKGxheWVyRXh0ZW50KSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyQ29vcmRpbmF0ZSA9IGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICAgICAgICAgICAgLyoqIGdldCBvbmx5IGRhdGEgaW5zaWRlIG9mIHRoZSBsYXllciBleHRlbnQgKi9cbiAgICAgICAgICAgIGlmICghY29udGFpbnNDb29yZGluYXRlKGxheWVyRXh0ZW50LCByZW5kZXJDb29yZGluYXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHggPSBNYXRoLnJvdW5kKHJlbmRlclBpeGVsWzBdKTtcbiAgICAgICAgICAgIHZhciB5ID0gTWF0aC5yb3VuZChyZW5kZXJQaXhlbFsxXSk7XG4gICAgICAgICAgICB2YXIgbmV3Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICB2YXIgbmV3Q29udGV4dCA9IG5ld0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgbmV3Q2FudmFzLndpZHRoID0gMTtcbiAgICAgICAgICAgIG5ld0NhbnZhcy5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgbmV3Q29udGV4dC5jbGVhclJlY3QoMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICBuZXdDb250ZXh0LmRyYXdJbWFnZShjb250ZXh0LmNhbnZhcywgeCwgeSwgMSwgMSwgMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICBkYXRhID0gbmV3Q29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSkuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT09ICdTZWN1cml0eUVycm9yJykge1xuICAgICAgICAgICAgICAgIC8vIHRhaW50ZWQgY2FudmFzLCB3ZSBhc3N1bWUgdGhlcmUgaXMgZGF0YSBhdCB0aGUgZ2l2ZW4gcGl4ZWwgKGFsdGhvdWdoIHRoZXJlIG1pZ2h0IG5vdCBiZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhWzNdID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNMYXllclJlbmRlcmVyO1xufShMYXllclJlbmRlcmVyKSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNMYXllclJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVSYW5nZVxuICovXG4vKipcbiAqIEEgcmVwcmVzZW50YXRpb24gb2YgYSBjb250aWd1b3VzIGJsb2NrIG9mIHRpbGVzLiAgQSB0aWxlIHJhbmdlIGlzIHNwZWNpZmllZFxuICogYnkgaXRzIG1pbi9tYXggdGlsZSBjb29yZGluYXRlcyBhbmQgaXMgaW5jbHVzaXZlIG9mIGNvb3JkaW5hdGVzLlxuICovXG52YXIgVGlsZVJhbmdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblkgTWluaW11bSBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlUmFuZ2UobWluWCwgbWF4WCwgbWluWSwgbWF4WSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIHRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHRpbGVDb29yZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluc1hZKHRpbGVDb29yZFsxXSwgdGlsZUNvb3JkWzJdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucy5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zVGlsZVJhbmdlID0gZnVuY3Rpb24gKHRpbGVSYW5nZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMubWluWCA8PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgICAgICAgdGlsZVJhbmdlLm1heFggPD0gdGhpcy5tYXhYICYmXG4gICAgICAgICAgICB0aGlzLm1pblkgPD0gdGlsZVJhbmdlLm1pblkgJiZcbiAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhZIDw9IHRoaXMubWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBjb29yZGluYXRlLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuY29udGFpbnNYWSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblggPD0geCAmJiB4IDw9IHRoaXMubWF4WCAmJiB0aGlzLm1pblkgPD0geSAmJiB5IDw9IHRoaXMubWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBFcXVhbHMuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAodGlsZVJhbmdlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5taW5YID09IHRpbGVSYW5nZS5taW5YICYmXG4gICAgICAgICAgICB0aGlzLm1pblkgPT0gdGlsZVJhbmdlLm1pblkgJiZcbiAgICAgICAgICAgIHRoaXMubWF4WCA9PSB0aWxlUmFuZ2UubWF4WCAmJlxuICAgICAgICAgICAgdGhpcy5tYXhZID09IHRpbGVSYW5nZS5tYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uICh0aWxlUmFuZ2UpIHtcbiAgICAgICAgaWYgKHRpbGVSYW5nZS5taW5YIDwgdGhpcy5taW5YKSB7XG4gICAgICAgICAgICB0aGlzLm1pblggPSB0aWxlUmFuZ2UubWluWDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGlsZVJhbmdlLm1heFggPiB0aGlzLm1heFgpIHtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IHRpbGVSYW5nZS5tYXhYO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlUmFuZ2UubWluWSA8IHRoaXMubWluWSkge1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gdGlsZVJhbmdlLm1pblk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGVSYW5nZS5tYXhZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSB0aWxlUmFuZ2UubWF4WTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBIZWlnaHQuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heFkgLSB0aGlzLm1pblkgKyAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFNpemUuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuZ2V0V2lkdGgoKSwgdGhpcy5nZXRIZWlnaHQoKV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFdpZHRoLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heFggLSB0aGlzLm1pblggKyAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEludGVyc2VjdHMuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5pbnRlcnNlY3RzID0gZnVuY3Rpb24gKHRpbGVSYW5nZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMubWluWCA8PSB0aWxlUmFuZ2UubWF4WCAmJlxuICAgICAgICAgICAgdGhpcy5tYXhYID49IHRpbGVSYW5nZS5taW5YICYmXG4gICAgICAgICAgICB0aGlzLm1pblkgPD0gdGlsZVJhbmdlLm1heFkgJiZcbiAgICAgICAgICAgIHRoaXMubWF4WSA+PSB0aWxlUmFuZ2UubWluWSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGlsZVJhbmdlO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblggTWluaW11bSBYLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFggTWF4aW11bSBYLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblkgTWluaW11bSBZLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFkgTWF4aW11bSBZLlxuICogQHBhcmFtIHtUaWxlUmFuZ2U9fSB0aWxlUmFuZ2UgVGlsZVJhbmdlLlxuICogQHJldHVybiB7VGlsZVJhbmdlfSBUaWxlIHJhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGUobWluWCwgbWF4WCwgbWluWSwgbWF4WSwgdGlsZVJhbmdlKSB7XG4gICAgaWYgKHRpbGVSYW5nZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRpbGVSYW5nZS5taW5YID0gbWluWDtcbiAgICAgICAgdGlsZVJhbmdlLm1heFggPSBtYXhYO1xuICAgICAgICB0aWxlUmFuZ2UubWluWSA9IG1pblk7XG4gICAgICAgIHRpbGVSYW5nZS5tYXhZID0gbWF4WTtcbiAgICAgICAgcmV0dXJuIHRpbGVSYW5nZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFRpbGVSYW5nZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVSYW5nZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXJcbiAqL1xuaW1wb3J0IENhbnZhc0xheWVyUmVuZGVyZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgVGlsZVJhbmdlIGZyb20gJy4uLy4uL1RpbGVSYW5nZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uLy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgeyBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSwgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLCBtYWtlSW52ZXJzZSwgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vLi4vb2JqLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVtcHR5LCBlcXVhbHMsIGdldEludGVyc2VjdGlvbiwgZ2V0VG9wTGVmdCwgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlVHJhbnNmb3JtU3RyaW5nIH0gZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBmcm9tVXNlckV4dGVudCB9IGZyb20gJy4uLy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDYW52YXMgcmVuZGVyZXIgZm9yIHRpbGUgbGF5ZXJzLlxuICogQGFwaVxuICovXG52YXIgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc1RpbGVMYXllclJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVGlsZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gdGlsZUxheWVyIFRpbGUgbGF5ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIodGlsZUxheWVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRpbGVMYXllcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVkIGV4dGVudCBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgcHJldmlvdXMgYHJlbmRlckZyYW1lKClgIGNhbGxcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5leHRlbnRDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkRXh0ZW50XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUHJvamVjdGlvbiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJldmlzaW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFRpbGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRtcEV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50bXBUaWxlUmFuZ2VfID0gbmV3IFRpbGVSYW5nZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaWxlIGlzIGRyYXdhYmxlLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5pc0RyYXdhYmxlVGlsZSA9IGZ1bmN0aW9uICh0aWxlKSB7XG4gICAgICAgIHZhciB0aWxlTGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgIHZhciB0aWxlU3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgIHZhciB1c2VJbnRlcmltVGlsZXNPbkVycm9yID0gdGlsZUxheWVyLmdldFVzZUludGVyaW1UaWxlc09uRXJyb3IoKTtcbiAgICAgICAgcmV0dXJuICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRCB8fFxuICAgICAgICAgICAgdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5FTVBUWSB8fFxuICAgICAgICAgICAgKHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1IgJiYgIXVzZUludGVyaW1UaWxlc09uRXJyb3IpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZS5cbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uICh6LCB4LCB5LCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgICAgIHZhciB0aWxlTGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgIHZhciB0aWxlU291cmNlID0gdGlsZUxheWVyLmdldFNvdXJjZSgpO1xuICAgICAgICB2YXIgdGlsZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZSh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgIGlmICghdGlsZUxheWVyLmdldFVzZUludGVyaW1UaWxlc09uRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdXNlSW50ZXJpbVRpbGVzT25FcnJvciBpcyBmYWxzZSwgd2UgY29uc2lkZXIgdGhlIGVycm9yIHRpbGUgYXMgbG9hZGVkLlxuICAgICAgICAgICAgICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURFRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aWxlTGF5ZXIuZ2V0UHJlbG9hZCgpID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFByZWxvYWRlZCB0aWxlcyBmb3IgbG93ZXIgcmVzb2x1dGlvbnMgbWlnaHQgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nLlxuICAgICAgICAgICAgICAgIHRoaXMubmV3VGlsZXNfID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgICAgICAgIHRpbGUgPSB0aWxlLmdldEludGVyaW1UaWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dm9pZH0gSWYgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmUgY29uc2lkZXJlZCBsb2FkZWQuXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmxvYWRlZFRpbGVDYWxsYmFjayA9IGZ1bmN0aW9uICh0aWxlcywgem9vbSwgdGlsZSkge1xuICAgICAgICBpZiAodGhpcy5pc0RyYXdhYmxlVGlsZSh0aWxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUubG9hZGVkVGlsZUNhbGxiYWNrLmNhbGwodGhpcywgdGlsZXMsIHpvb20sIHRpbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gTGF5ZXIgaXMgcmVhZHkgdG8gYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZXBhcmVGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0TGF5ZXIoKS5nZXRTb3VyY2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgbGF5ZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgVGFyZ2V0IHRoYXQgbWF5IGJlIHVzZWQgdG8gcmVuZGVyIGNvbnRlbnQgdG8uXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXlbZnJhbWVTdGF0ZS5sYXllckluZGV4XTtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgdmlld1Jlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHZpZXdDZW50ZXIgPSB2aWV3U3RhdGUuY2VudGVyO1xuICAgICAgICB2YXIgcm90YXRpb24gPSB2aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdGlsZVNvdXJjZSA9IHRpbGVMYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgdmFyIHNvdXJjZVJldmlzaW9uID0gdGlsZVNvdXJjZS5nZXRSZXZpc2lvbigpO1xuICAgICAgICB2YXIgdGlsZUdyaWQgPSB0aWxlU291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgdmFyIHogPSB0aWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbih2aWV3UmVzb2x1dGlvbiwgdGlsZVNvdXJjZS56RGlyZWN0aW9uKTtcbiAgICAgICAgdmFyIHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgICAgdmFyIGV4dGVudCA9IGZyYW1lU3RhdGUuZXh0ZW50O1xuICAgICAgICB2YXIgbGF5ZXJFeHRlbnQgPSBsYXllclN0YXRlLmV4dGVudCAmJiBmcm9tVXNlckV4dGVudChsYXllclN0YXRlLmV4dGVudCwgcHJvamVjdGlvbik7XG4gICAgICAgIGlmIChsYXllckV4dGVudCkge1xuICAgICAgICAgICAgZXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKGV4dGVudCwgZnJvbVVzZXJFeHRlbnQobGF5ZXJTdGF0ZS5leHRlbnQsIHByb2plY3Rpb24pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlsZVBpeGVsUmF0aW8gPSB0aWxlU291cmNlLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuICAgICAgICAvLyBkZXNpcmVkIGRpbWVuc2lvbnMgb2YgdGhlIGNhbnZhcyBpbiBwaXhlbHNcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMF0gKiB0aWxlUGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKGZyYW1lU3RhdGUuc2l6ZVsxXSAqIHRpbGVQaXhlbFJhdGlvKTtcbiAgICAgICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQpKTtcbiAgICAgICAgICAgIHdpZHRoID0gc2l6ZTtcbiAgICAgICAgICAgIGhlaWdodCA9IHNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGR4ID0gKHRpbGVSZXNvbHV0aW9uICogd2lkdGgpIC8gMiAvIHRpbGVQaXhlbFJhdGlvO1xuICAgICAgICB2YXIgZHkgPSAodGlsZVJlc29sdXRpb24gKiBoZWlnaHQpIC8gMiAvIHRpbGVQaXhlbFJhdGlvO1xuICAgICAgICB2YXIgY2FudmFzRXh0ZW50ID0gW1xuICAgICAgICAgICAgdmlld0NlbnRlclswXSAtIGR4LFxuICAgICAgICAgICAgdmlld0NlbnRlclsxXSAtIGR5LFxuICAgICAgICAgICAgdmlld0NlbnRlclswXSArIGR4LFxuICAgICAgICAgICAgdmlld0NlbnRlclsxXSArIGR5LFxuICAgICAgICBdO1xuICAgICAgICB2YXIgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdD4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRpbGVzVG9EcmF3QnlaID0ge307XG4gICAgICAgIHRpbGVzVG9EcmF3QnlaW3pdID0ge307XG4gICAgICAgIHZhciBmaW5kTG9hZGVkVGlsZXMgPSB0aGlzLmNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIodGlsZVNvdXJjZSwgcHJvamVjdGlvbiwgdGlsZXNUb0RyYXdCeVopO1xuICAgICAgICB2YXIgdG1wRXh0ZW50ID0gdGhpcy50bXBFeHRlbnQ7XG4gICAgICAgIHZhciB0bXBUaWxlUmFuZ2UgPSB0aGlzLnRtcFRpbGVSYW5nZV87XG4gICAgICAgIHRoaXMubmV3VGlsZXNfID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIHggPSB0aWxlUmFuZ2UubWluWDsgeCA8PSB0aWxlUmFuZ2UubWF4WDsgKyt4KSB7XG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICAgICAgICAgIHZhciB0aWxlID0gdGhpcy5nZXRUaWxlKHosIHgsIHksIGZyYW1lU3RhdGUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRHJhd2FibGVUaWxlKHRpbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1aWQgPSBnZXRVaWQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZXNUb0RyYXdCeVpbel1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluVHJhbnNpdGlvbiA9IHRpbGUuaW5UcmFuc2l0aW9uKHVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubmV3VGlsZXNfICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGluVHJhbnNpdGlvbiB8fCB0aGlzLnJlbmRlcmVkVGlsZXMuaW5kZXhPZih0aWxlKSA9PT0gLTEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdUaWxlc18gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aWxlLmdldEFscGhhKHVpZCwgZnJhbWVTdGF0ZS50aW1lKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgbG9vayBmb3IgYWx0IHRpbGVzIGlmIGFscGhhIGlzIDFcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjaGlsZFRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlKHRpbGUudGlsZUNvb3JkLCB0bXBUaWxlUmFuZ2UsIHRtcEV4dGVudCk7XG4gICAgICAgICAgICAgICAgdmFyIGNvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRUaWxlUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IGZpbmRMb2FkZWRUaWxlcyh6ICsgMSwgY2hpbGRUaWxlUmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWNvdmVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZUdyaWQuZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZSh0aWxlLnRpbGVDb29yZCwgZmluZExvYWRlZFRpbGVzLCB0bXBUaWxlUmFuZ2UsIHRtcEV4dGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjYW52YXNTY2FsZSA9IHRpbGVSZXNvbHV0aW9uIC8gdmlld1Jlc29sdXRpb247XG4gICAgICAgIC8vIHNldCBmb3J3YXJkIGFuZCBpbnZlcnNlIHBpeGVsIHRyYW5zZm9ybXNcbiAgICAgICAgY29tcG9zZVRyYW5zZm9ybSh0aGlzLnBpeGVsVHJhbnNmb3JtLCBmcmFtZVN0YXRlLnNpemVbMF0gLyAyLCBmcmFtZVN0YXRlLnNpemVbMV0gLyAyLCAxIC8gdGlsZVBpeGVsUmF0aW8sIDEgLyB0aWxlUGl4ZWxSYXRpbywgcm90YXRpb24sIC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyKTtcbiAgICAgICAgdmFyIGNhbnZhc1RyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybVN0cmluZyh0aGlzLnBpeGVsVHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy51c2VDb250YWluZXIodGFyZ2V0LCBjYW52YXNUcmFuc2Zvcm0sIGxheWVyU3RhdGUub3BhY2l0eSk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB2YXIgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgICAgIG1ha2VJbnZlcnNlKHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCB0aGlzLnBpeGVsVHJhbnNmb3JtKTtcbiAgICAgICAgLy8gc2V0IHNjYWxlIHRyYW5zZm9ybSBmb3IgY2FsY3VsYXRpbmcgdGlsZSBwb3NpdGlvbnMgb24gdGhlIGNhbnZhc1xuICAgICAgICBjb21wb3NlVHJhbnNmb3JtKHRoaXMudGVtcFRyYW5zZm9ybSwgd2lkdGggLyAyLCBoZWlnaHQgLyAyLCBjYW52YXNTY2FsZSwgY2FudmFzU2NhbGUsIDAsIC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyKTtcbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPSB3aWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmNvbnRhaW5lclJldXNlZCkge1xuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxheWVyRXh0ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNsaXBVbnJvdGF0ZWQoY29udGV4dCwgZnJhbWVTdGF0ZSwgbGF5ZXJFeHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihjb250ZXh0LCB0aWxlU291cmNlLmdldENvbnRleHRPcHRpb25zKCkpO1xuICAgICAgICB0aGlzLnByZVJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlZFRpbGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICAgICAgdmFyIHpzID0gT2JqZWN0LmtleXModGlsZXNUb0RyYXdCeVopLm1hcChOdW1iZXIpO1xuICAgICAgICB6cy5zb3J0KG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24pO1xuICAgICAgICB2YXIgY2xpcHMsIGNsaXBacywgY3VycmVudENsaXA7XG4gICAgICAgIGlmIChsYXllclN0YXRlLm9wYWNpdHkgPT09IDEgJiZcbiAgICAgICAgICAgICghdGhpcy5jb250YWluZXJSZXVzZWQgfHxcbiAgICAgICAgICAgICAgICB0aWxlU291cmNlLmdldE9wYXF1ZShmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uKSkpIHtcbiAgICAgICAgICAgIHpzID0genMucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xpcHMgPSBbXTtcbiAgICAgICAgICAgIGNsaXBacyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSB6cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRaID0genNbaV07XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbGVQaXhlbFNpemUgPSB0aWxlU291cmNlLmdldFRpbGVQaXhlbFNpemUoY3VycmVudFosIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbihjdXJyZW50Wik7XG4gICAgICAgICAgICB2YXIgY3VycmVudFNjYWxlID0gY3VycmVudFJlc29sdXRpb24gLyB0aWxlUmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciBkeF8xID0gY3VycmVudFRpbGVQaXhlbFNpemVbMF0gKiBjdXJyZW50U2NhbGUgKiBjYW52YXNTY2FsZTtcbiAgICAgICAgICAgIHZhciBkeV8xID0gY3VycmVudFRpbGVQaXhlbFNpemVbMV0gKiBjdXJyZW50U2NhbGUgKiBjYW52YXNTY2FsZTtcbiAgICAgICAgICAgIHZhciBvcmlnaW5UaWxlQ29vcmQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFooZ2V0VG9wTGVmdChjYW52YXNFeHRlbnQpLCBjdXJyZW50Wik7XG4gICAgICAgICAgICB2YXIgb3JpZ2luVGlsZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudChvcmlnaW5UaWxlQ29vcmQpO1xuICAgICAgICAgICAgdmFyIG9yaWdpbl8xID0gYXBwbHlUcmFuc2Zvcm0odGhpcy50ZW1wVHJhbnNmb3JtLCBbXG4gICAgICAgICAgICAgICAgKHRpbGVQaXhlbFJhdGlvICogKG9yaWdpblRpbGVFeHRlbnRbMF0gLSBjYW52YXNFeHRlbnRbMF0pKSAvXG4gICAgICAgICAgICAgICAgICAgIHRpbGVSZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICh0aWxlUGl4ZWxSYXRpbyAqIChjYW52YXNFeHRlbnRbM10gLSBvcmlnaW5UaWxlRXh0ZW50WzNdKSkgL1xuICAgICAgICAgICAgICAgICAgICB0aWxlUmVzb2x1dGlvbixcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgdmFyIHRpbGVHdXR0ZXIgPSB0aWxlUGl4ZWxSYXRpbyAqIHRpbGVTb3VyY2UuZ2V0R3V0dGVyRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciB0aWxlc1RvRHJhdyA9IHRpbGVzVG9EcmF3QnlaW2N1cnJlbnRaXTtcbiAgICAgICAgICAgIGZvciAodmFyIHRpbGVDb29yZEtleSBpbiB0aWxlc1RvRHJhdykge1xuICAgICAgICAgICAgICAgIHZhciB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRpbGVzVG9EcmF3W3RpbGVDb29yZEtleV0pO1xuICAgICAgICAgICAgICAgIHZhciB0aWxlQ29vcmQgPSB0aWxlLnRpbGVDb29yZDtcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgaW50ZWdlciBwb3NpdGlvbnMgYW5kIHNpemVzIHNvIHRoYXQgdGlsZXMgYWxpZ25cbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRYID0gb3JpZ2luXzFbMF0gLSAob3JpZ2luVGlsZUNvb3JkWzFdIC0gdGlsZUNvb3JkWzFdKSAqIGR4XzE7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRYID0gTWF0aC5yb3VuZChmbG9hdFggKyBkeF8xKTtcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRZID0gb3JpZ2luXzFbMV0gLSAob3JpZ2luVGlsZUNvb3JkWzJdIC0gdGlsZUNvb3JkWzJdKSAqIGR5XzE7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRZID0gTWF0aC5yb3VuZChmbG9hdFkgKyBkeV8xKTtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IE1hdGgucm91bmQoZmxvYXRYKTtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IE1hdGgucm91bmQoZmxvYXRZKTtcbiAgICAgICAgICAgICAgICB2YXIgdyA9IG5leHRYIC0geDtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IG5leHRZIC0geTtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbiA9IHogPT09IGN1cnJlbnRaO1xuICAgICAgICAgICAgICAgIHZhciBpblRyYW5zaXRpb24gPSB0cmFuc2l0aW9uICYmIHRpbGUuZ2V0QWxwaGEoZ2V0VWlkKHRoaXMpLCBmcmFtZVN0YXRlLnRpbWUpICE9PSAxO1xuICAgICAgICAgICAgICAgIGlmICghaW5UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGlwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xpcCBtYXNrIGZvciByZWdpb25zIGluIHRoaXMgdGlsZSB0aGF0IGFscmVhZHkgZmlsbGVkIGJ5IGEgaGlnaGVyIHogdGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2xpcCA9IFt4LCB5LCB4ICsgdywgeSwgeCArIHcsIHkgKyBoLCB4LCB5ICsgaF07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwLCBpaSA9IGNsaXBzLmxlbmd0aDsgaV8xIDwgaWk7ICsraV8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHogIT09IGN1cnJlbnRaICYmIGN1cnJlbnRaIDwgY2xpcFpzW2lfMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaXAgPSBjbGlwc1tpXzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3VudGVyLWNsb2Nrd2lzZSAob3V0ZXIgcmluZykgZm9yIGN1cnJlbnQgdGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhjdXJyZW50Q2xpcFswXSwgY3VycmVudENsaXBbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFsyXSwgY3VycmVudENsaXBbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFs0XSwgY3VycmVudENsaXBbNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFs2XSwgY3VycmVudENsaXBbN10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG9ja3dpc2UgKGlubmVyIHJpbmcpIGZvciBoaWdoZXIgeiB0aWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGNsaXBbNl0sIGNsaXBbN10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzRdLCBjbGlwWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFsyXSwgY2xpcFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbMF0sIGNsaXBbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlwcy5wdXNoKGN1cnJlbnRDbGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBacy5wdXNoKGN1cnJlbnRaKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KHgsIHksIHcsIGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1RpbGVJbWFnZSh0aWxlLCBmcmFtZVN0YXRlLCB4LCB5LCB3LCBoLCB0aWxlR3V0dGVyLCB0cmFuc2l0aW9uLCBsYXllclN0YXRlLm9wYWNpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChjbGlwcyAmJiAhaW5UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMucHVzaCh0aWxlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVzZWRUaWxlcyhmcmFtZVN0YXRlLnVzZWRUaWxlcywgdGlsZVNvdXJjZSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uID0gc291cmNlUmV2aXNpb247XG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uID0gdGlsZVJlc29sdXRpb247XG4gICAgICAgIHRoaXMuZXh0ZW50Q2hhbmdlZCA9XG4gICAgICAgICAgICAhdGhpcy5yZW5kZXJlZEV4dGVudF8gfHwgIWVxdWFscyh0aGlzLnJlbmRlcmVkRXh0ZW50XywgY2FudmFzRXh0ZW50KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBjYW52YXNFeHRlbnQ7XG4gICAgICAgIHRoaXMucmVuZGVyZWRQaXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5yZW5kZXJlZFByb2plY3Rpb24gPSBwcm9qZWN0aW9uO1xuICAgICAgICB0aGlzLm1hbmFnZVRpbGVQeXJhbWlkKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UsIHRpbGVHcmlkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBleHRlbnQsIHosIHRpbGVMYXllci5nZXRQcmVsb2FkKCkpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlRXhwaXJlQ2FjaGUoZnJhbWVTdGF0ZSwgdGlsZVNvdXJjZSk7XG4gICAgICAgIHRoaXMucG9zdFJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50KSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FudmFzVHJhbnNmb3JtICE9PSBjYW52YXMuc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBjYW52YXMuc3R5bGUudHJhbnNmb3JtID0gY2FudmFzVHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IExlZnQgb2YgdGhlIHRpbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVG9wIG9mIHRoZSB0aWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoIG9mIHRoZSB0aWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoIEhlaWdodCBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIFRpbGUgZ3V0dGVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNpdGlvbiBBcHBseSBhbiBhbHBoYSB0cmFuc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmRyYXdUaWxlSW1hZ2UgPSBmdW5jdGlvbiAodGlsZSwgZnJhbWVTdGF0ZSwgeCwgeSwgdywgaCwgZ3V0dGVyLCB0cmFuc2l0aW9uLCBvcGFjaXR5KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IHRoaXMuZ2V0VGlsZUltYWdlKHRpbGUpO1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVpZCA9IGdldFVpZCh0aGlzKTtcbiAgICAgICAgdmFyIHRpbGVBbHBoYSA9IHRyYW5zaXRpb24gPyB0aWxlLmdldEFscGhhKHVpZCwgZnJhbWVTdGF0ZS50aW1lKSA6IDE7XG4gICAgICAgIHZhciBhbHBoYSA9IG9wYWNpdHkgKiB0aWxlQWxwaGE7XG4gICAgICAgIHZhciBhbHBoYUNoYW5nZWQgPSBhbHBoYSAhPT0gdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgICAgICBpZiAoYWxwaGFDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgZ3V0dGVyLCBndXR0ZXIsIGltYWdlLndpZHRoIC0gMiAqIGd1dHRlciwgaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlciwgeCwgeSwgdywgaCk7XG4gICAgICAgIGlmIChhbHBoYUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGVBbHBoYSAhPT0gMSkge1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS5hbmltYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICB0aWxlLmVuZFRyYW5zaXRpb24odWlkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyBjb250ZXh0LmNhbnZhcyA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIGZyb20gYSB0aWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZ2V0VGlsZUltYWdlID0gZnVuY3Rpb24gKHRpbGUpIHtcbiAgICAgICAgcmV0dXJuIHRpbGUuZ2V0SW1hZ2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuc2NoZWR1bGVFeHBpcmVDYWNoZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0aWxlU291cmNlKSB7XG4gICAgICAgIGlmICh0aWxlU291cmNlLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgICAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBwb3N0UmVuZGVyRnVuY3Rpb24gPSBmdW5jdGlvbiAodGlsZVNvdXJjZSwgbWFwLCBmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS51c2VkVGlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZVNvdXJjZS5leHBpcmVDYWNoZShmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uLCBmcmFtZVN0YXRlLnVzZWRUaWxlc1t0aWxlU291cmNlS2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKG51bGwsIHRpbGVTb3VyY2UpO1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goXG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5Qb3N0UmVuZGVyRnVuY3Rpb259ICovIChwb3N0UmVuZGVyRnVuY3Rpb24pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi8uLi9UaWxlLmpzJykuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlVXNlZFRpbGVzID0gZnVuY3Rpb24gKHVzZWRUaWxlcywgdGlsZVNvdXJjZSwgdGlsZSkge1xuICAgICAgICAvLyBGSVhNRSBzaG91bGQgd2UgdXNlIHRpbGVzVG9EcmF3QnlaIGluc3RlYWQ/XG4gICAgICAgIHZhciB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgICAgICBpZiAoISh0aWxlU291cmNlS2V5IGluIHVzZWRUaWxlcykpIHtcbiAgICAgICAgICAgIHVzZWRUaWxlc1t0aWxlU291cmNlS2V5XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHVzZWRUaWxlc1t0aWxlU291cmNlS2V5XVt0aWxlLmdldEtleSgpXSA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdGlsZSBweXJhbWlkLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgYSBudW1iZXIgb2YgZnVuY3Rpb25zIHJlbGF0ZWQgdG8gdGhlIHRpbGVzIGF0IHRoZVxuICAgICAqIGN1cnJlbnQgem9vbSBhbmQgbG93ZXIgem9vbSBsZXZlbHM6XG4gICAgICogLSByZWdpc3RlcnMgaWRsZSB0aWxlcyBpbiBmcmFtZVN0YXRlLndhbnRlZFRpbGVzIHNvIHRoYXQgdGhleSBhcmUgbm90XG4gICAgICogICBkaXNjYXJkZWQgYnkgdGhlIHRpbGUgcXVldWVcbiAgICAgKiAtIGVucXVldWVzIG1pc3NpbmcgdGlsZXNcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50WiBDdXJyZW50IFouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHByZWxvYWQgTG9hZCBsb3cgcmVzb2x1dGlvbiB0aWxlcyB1cCB0byAncHJlbG9hZCcgbGV2ZWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0KT19IG9wdF90aWxlQ2FsbGJhY2sgVGlsZSBjYWxsYmFjay5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLm1hbmFnZVRpbGVQeXJhbWlkID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UsIHRpbGVHcmlkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBleHRlbnQsIGN1cnJlbnRaLCBwcmVsb2FkLCBvcHRfdGlsZUNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgICAgICBpZiAoISh0aWxlU291cmNlS2V5IGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMpKSB7XG4gICAgICAgICAgICBmcmFtZVN0YXRlLndhbnRlZFRpbGVzW3RpbGVTb3VyY2VLZXldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdhbnRlZFRpbGVzID0gZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XTtcbiAgICAgICAgdmFyIHRpbGVRdWV1ZSA9IGZyYW1lU3RhdGUudGlsZVF1ZXVlO1xuICAgICAgICB2YXIgbWluWm9vbSA9IHRpbGVHcmlkLmdldE1pblpvb20oKTtcbiAgICAgICAgdmFyIHRpbGVDb3VudCA9IDA7XG4gICAgICAgIHZhciB0aWxlLCB0aWxlUmFuZ2UsIHRpbGVSZXNvbHV0aW9uLCB4LCB5LCB6O1xuICAgICAgICBmb3IgKHogPSBtaW5ab29tOyB6IDw9IGN1cnJlbnRaOyArK3opIHtcbiAgICAgICAgICAgIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6LCB0aWxlUmFuZ2UpO1xuICAgICAgICAgICAgdGlsZVJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgICAgICAgZm9yICh4ID0gdGlsZVJhbmdlLm1pblg7IHggPD0gdGlsZVJhbmdlLm1heFg7ICsreCkge1xuICAgICAgICAgICAgICAgIGZvciAoeSA9IHRpbGVSYW5nZS5taW5ZOyB5IDw9IHRpbGVSYW5nZS5tYXhZOyArK3kpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRaIC0geiA8PSBwcmVsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3RpbGVDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGUgPSB0aWxlU291cmNlLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FudGVkVGlsZXNbdGlsZS5nZXRLZXkoKV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGlsZVF1ZXVlLmlzS2V5UXVldWVkKHRpbGUuZ2V0S2V5KCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVRdWV1ZS5lbnF1ZXVlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlU291cmNlS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUdyaWQuZ2V0VGlsZUNvb3JkQ2VudGVyKHRpbGUudGlsZUNvb3JkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVSZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X3RpbGVDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X3RpbGVDYWxsYmFjayh0aWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVTb3VyY2UudXNlVGlsZSh6LCB4LCB5LCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aWxlU291cmNlLnVwZGF0ZUNhY2hlU2l6ZSh0aWxlQ291bnQsIHByb2plY3Rpb24pO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc1RpbGVMYXllclJlbmRlcmVyO1xufShDYW52YXNMYXllclJlbmRlcmVyKSk7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVGlsZS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH1cbiAqL1xuQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldExheWVyO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlTGF5ZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9UaWxlXG4gKi9cbmltcG9ydCBCYXNlVGlsZUxheWVyIGZyb20gJy4vQmFzZVRpbGUuanMnO1xuaW1wb3J0IENhbnZhc1RpbGVMYXllclJlbmRlcmVyIGZyb20gJy4uL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXIuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBGb3IgbGF5ZXIgc291cmNlcyB0aGF0IHByb3ZpZGUgcHJlLXJlbmRlcmVkLCB0aWxlZCBpbWFnZXMgaW4gZ3JpZHMgdGhhdCBhcmVcbiAqIG9yZ2FuaXplZCBieSB6b29tIGxldmVscyBmb3Igc3BlY2lmaWMgcmVzb2x1dGlvbnMuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQGFwaVxuICovXG52YXIgVGlsZUxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxlTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0Jhc2VUaWxlLmpzXCIpLk9wdGlvbnM9fSBvcHRfb3B0aW9ucyBUaWxlIGxheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZUxheWVyKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvcHRfb3B0aW9ucykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgcmVuZGVyZXIgZm9yIHRoaXMgbGF5ZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vcmVuZGVyZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gQSBsYXllciByZW5kZXJlci5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZUxheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcih0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBUaWxlTGF5ZXI7XG59KEJhc2VUaWxlTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlVmVjdG9yXG4gKi9cbmltcG9ydCBMYXllciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBSQnVzaCBmcm9tICdyYnVzaCc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgY3JlYXRlRGVmYXVsdFN0eWxlLCB0b0Z1bmN0aW9uIGFzIHRvU3R5bGVGdW5jdGlvbiwgfSBmcm9tICcuLi9zdHlsZS9TdHlsZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufSBbcmVuZGVyT3JkZXJdIFJlbmRlciBvcmRlci4gRnVuY3Rpb24gdG8gYmUgdXNlZCB3aGVuIHNvcnRpbmdcbiAqIGZlYXR1cmVzIGJlZm9yZSByZW5kZXJpbmcuIEJ5IGRlZmF1bHQgZmVhdHVyZXMgYXJlIGRyYXduIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgYXJlIGNyZWF0ZWQuIFVzZVxuICogYG51bGxgIHRvIGF2b2lkIHRoZSBzb3J0LCBidXQgZ2V0IGFuIHVuZGVmaW5lZCBkcmF3IG9yZGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZW5kZXJCdWZmZXI9MTAwXSBUaGUgYnVmZmVyIGluIHBpeGVscyBhcm91bmQgdGhlIHZpZXdwb3J0IGV4dGVudCB1c2VkIGJ5IHRoZVxuICogcmVuZGVyZXIgd2hlbiBnZXR0aW5nIGZlYXR1cmVzIGZyb20gdGhlIHZlY3RvciBzb3VyY2UgZm9yIHRoZSByZW5kZXJpbmcgb3IgaGl0LWRldGVjdGlvbi5cbiAqIFJlY29tbWVuZGVkIHZhbHVlOiB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2VzdCBzeW1ib2wsIGxpbmUgd2lkdGggb3IgbGFiZWwuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdH0gW3NvdXJjZV0gU291cmNlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gW21hcF0gU2V0cyB0aGUgbGF5ZXIgYXMgb3ZlcmxheSBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsIG5vdCBtYW5hZ2VcbiAqIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLCBhbmQgdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAqIHRlbXBvcmFyeSBsYXllcnMuIFRoZSBzdGFuZGFyZCB3YXkgdG8gYWRkIGEgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwIGlzIHRvXG4gKiB1c2Uge0BsaW5rIG1vZHVsZTpvbC9NYXAjYWRkTGF5ZXJ9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZGVjbHV0dGVyPWZhbHNlXSBEZWNsdXR0ZXIgaW1hZ2VzIGFuZCB0ZXh0LiBEZWNsdXR0ZXJpbmcgaXMgYXBwbGllZCB0byBhbGxcbiAqIGltYWdlIGFuZCB0ZXh0IHN0eWxlcyBvZiBhbGwgVmVjdG9yIGFuZCBWZWN0b3JUaWxlIGxheWVycyB0aGF0IGhhdmUgc2V0IHRoaXMgdG8gYHRydWVgLiBUaGUgcHJpb3JpdHlcbiAqIGlzIGRlZmluZWQgYnkgdGhlIHotaW5kZXggb2YgdGhlIGxheWVyLCB0aGUgYHpJbmRleGAgb2YgdGhlIHN0eWxlIGFuZCB0aGUgcmVuZGVyIG9yZGVyIG9mIGZlYXR1cmVzLlxuICogSGlnaGVyIHotaW5kZXggbWVhbnMgaGlnaGVyIHByaW9yaXR5LiBXaXRoaW4gdGhlIHNhbWUgei1pbmRleCwgYSBmZWF0dXJlIHJlbmRlcmVkIGJlZm9yZSBhbm90aGVyIGhhc1xuICogaGlnaGVyIHByaW9yaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8bnVsbH0gW3N0eWxlXSBMYXllciBzdHlsZS4gV2hlbiBzZXQgdG8gYG51bGxgLCBvbmx5XG4gKiBmZWF0dXJlcyB0aGF0IGhhdmUgdGhlaXIgb3duIHN0eWxlIHdpbGwgYmUgcmVuZGVyZWQuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlfSBmb3IgZGVmYXVsdCBzdHlsZVxuICogd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgaXMgbm90IHNldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlQW5pbWF0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAsIGZlYXR1cmUgYmF0Y2hlcyB3aWxsXG4gKiBiZSByZWNyZWF0ZWQgZHVyaW5nIGFuaW1hdGlvbnMuIFRoaXMgbWVhbnMgdGhhdCBubyB2ZWN0b3JzIHdpbGwgYmUgc2hvd24gY2xpcHBlZCwgYnV0IHRoZVxuICogc2V0dGluZyB3aWxsIGhhdmUgYSBwZXJmb3JtYW5jZSBpbXBhY3QgZm9yIGxhcmdlIGFtb3VudHMgb2YgdmVjdG9yIGRhdGEuIFdoZW4gc2V0IHRvIGBmYWxzZWAsXG4gKiBiYXRjaGVzIHdpbGwgYmUgcmVjcmVhdGVkIHdoZW4gbm8gYW5pbWF0aW9uIGlzIGFjdGl2ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCwgZmVhdHVyZSBiYXRjaGVzIHdpbGxcbiAqIGJlIHJlY3JlYXRlZCBkdXJpbmcgaW50ZXJhY3Rpb25zLiBTZWUgYWxzbyBgdXBkYXRlV2hpbGVBbmltYXRpbmdgLlxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUHJvcGVydHkgPSB7XG4gICAgUkVOREVSX09SREVSOiAncmVuZGVyT3JkZXInLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogVmVjdG9yIGRhdGEgdGhhdCBpcyByZW5kZXJlZCBjbGllbnQtc2lkZS5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBWZWN0b3JTb3VyY2VUeXBlXG4gKiBAZXh0ZW5kcyB7TGF5ZXI8VmVjdG9yU291cmNlVHlwZT59XG4gKiBAYXBpXG4gKi9cbnZhciBCYXNlVmVjdG9yTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VWZWN0b3JMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VWZWN0b3JMYXllcihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgdmFyIGJhc2VPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnN0eWxlO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMucmVuZGVyQnVmZmVyO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmc7XG4gICAgICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy51cGRhdGVXaGlsZUludGVyYWN0aW5nO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VPcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWNsdXR0ZXJfID1cbiAgICAgICAgICAgIG9wdGlvbnMuZGVjbHV0dGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRlY2x1dHRlciA6IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlckJ1ZmZlcl8gPVxuICAgICAgICAgICAgb3B0aW9ucy5yZW5kZXJCdWZmZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmVuZGVyQnVmZmVyIDogMTAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlciBwcm92aWRlZCBzdHlsZS5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0eWxlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdHlsZSBmdW5jdGlvbiBmb3IgdXNlIHdpdGhpbiB0aGUgbGlicmFyeS5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3R5bGVGdW5jdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLnNldFN0eWxlKG9wdGlvbnMuc3R5bGUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGRhdGVXaGlsZUFuaW1hdGluZ18gPVxuICAgICAgICAgICAgb3B0aW9ucy51cGRhdGVXaGlsZUFuaW1hdGluZyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnVwZGF0ZVdoaWxlQW5pbWF0aW5nXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXBkYXRlV2hpbGVJbnRlcmFjdGluZ18gPVxuICAgICAgICAgICAgb3B0aW9ucy51cGRhdGVXaGlsZUludGVyYWN0aW5nICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZ1xuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gRGVjbHV0dGVyLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0RGVjbHV0dGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWNsdXR0ZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0b3Btb3N0IGZlYXR1cmUgdGhhdCBpbnRlcnNlY3RzIHRoZSBnaXZlbiBwaXhlbCBvbiB0aGUgdmlld3BvcnQuIFJldHVybnMgYSBwcm9taXNlXG4gICAgICogdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLiBUaGUgYXJyYXkgd2lsbCBlaXRoZXIgY29udGFpbiB0aGUgdG9wbW9zdCBmZWF0dXJlXG4gICAgICogd2hlbiBhIGhpdCB3YXMgZGV0ZWN0ZWQsIG9yIGl0IHdpbGwgYmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBUaGUgaGl0IGRldGVjdGlvbiBhbGdvcml0aG0gdXNlZCBmb3IgdGhpcyBtZXRob2QgaXMgb3B0aW1pemVkIGZvciBwZXJmb3JtYW5jZSwgYnV0IGlzIGxlc3NcbiAgICAgKiBhY2N1cmF0ZSB0aGFuIHRoZSBvbmUgdXNlZCBpbiB7QGxpbmsgaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHQjZ2V0RmVhdHVyZXNBdFBpeGVsfTogVGV4dFxuICAgICAqIGlzIG5vdCBjb25zaWRlcmVkLCBhbmQgaWNvbnMgYXJlIG9ubHkgcmVwcmVzZW50ZWQgYnkgdGhlaXIgYm91bmRpbmcgYm94IGluc3RlYWQgb2YgdGhlIGV4YWN0XG4gICAgICogaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PGltcG9ydChcIi4uL0ZlYXR1cmVcIikuZGVmYXVsdD4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRGZWF0dXJlcy5jYWxsKHRoaXMsIHBpeGVsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlbmRlciBidWZmZXIuXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRSZW5kZXJCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckJ1ZmZlcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCk6IG51bWJlcnxudWxsfHVuZGVmaW5lZH0gUmVuZGVyXG4gICAgICogICAgIG9yZGVyLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0UmVuZGVyT3JkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufG51bGx8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoUHJvcGVydHkuUkVOREVSX09SREVSKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0eWxlIGZvciBmZWF0dXJlcy4gIFRoaXMgcmV0dXJucyB3aGF0ZXZlciB3YXMgcGFzc2VkIHRvIHRoZSBgc3R5bGVgXG4gICAgICogb3B0aW9uIGF0IGNvbnN0cnVjdGlvbiBvciB0byB0aGUgYHNldFN0eWxlYCBtZXRob2QuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx8dW5kZWZpbmVkfSBMYXllciBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHlsZSBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gTGF5ZXIgc3R5bGUgZnVuY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0U3R5bGVGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVGdW5jdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSByZW5kZXJlZCBsYXllciBzaG91bGQgYmUgdXBkYXRlZCB3aGlsZVxuICAgICAqICAgICBhbmltYXRpbmcuXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRVcGRhdGVXaGlsZUFuaW1hdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlV2hpbGVBbmltYXRpbmdfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVuZGVyZWQgbGF5ZXIgc2hvdWxkIGJlIHVwZGF0ZWQgd2hpbGVcbiAgICAgKiAgICAgaW50ZXJhY3RpbmcuXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5nZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVXaGlsZUludGVyYWN0aW5nXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBkZWNsdXR0ZXIgaXRlbXMgZm9yIHRoaXMgbGF5ZXJcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUucmVuZGVyRGVjbHV0dGVyID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUuZGVjbHV0dGVyVHJlZSA9IG5ldyBSQnVzaCg5KTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQHR5cGUgeyp9ICovICh0aGlzLmdldFJlbmRlcmVyKCkpLnJlbmRlckRlY2x1dHRlcihmcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb258bnVsbHx1bmRlZmluZWR9IHJlbmRlck9yZGVyXG4gICAgICogICAgIFJlbmRlciBvcmRlci5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLnNldFJlbmRlck9yZGVyID0gZnVuY3Rpb24gKHJlbmRlck9yZGVyKSB7XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5LlJFTkRFUl9PUkRFUiwgcmVuZGVyT3JkZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBmb3IgZmVhdHVyZXMuICBUaGlzIGNhbiBiZSBhIHNpbmdsZSBzdHlsZSBvYmplY3QsIGFuIGFycmF5XG4gICAgICogb2Ygc3R5bGVzLCBvciBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBmZWF0dXJlIGFuZCByZXNvbHV0aW9uIGFuZCByZXR1cm5zXG4gICAgICogYW4gYXJyYXkgb2Ygc3R5bGVzLiBJZiBzZXQgdG8gYG51bGxgLCB0aGUgbGF5ZXIgaGFzIG5vIHN0eWxlIChhIGBudWxsYCBzdHlsZSksXG4gICAgICogc28gb25seSBmZWF0dXJlcyB0aGF0IGhhdmUgdGhlaXIgb3duIHN0eWxlcyB3aWxsIGJlIHJlbmRlcmVkIGluIHRoZSBsYXllci4gQ2FsbFxuICAgICAqIGBzZXRTdHlsZSgpYCB3aXRob3V0IGFyZ3VtZW50cyB0byByZXNldCB0byB0aGUgZGVmYXVsdCBzdHlsZS4gU2VlXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZX0gZm9yIGluZm9ybWF0aW9uIG9uIHRoZSBkZWZhdWx0IHN0eWxlLlxuICAgICAqIEBwYXJhbSB7KGltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsKT19IG9wdF9zdHlsZSBMYXllciBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChvcHRfc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zdHlsZV8gPSBvcHRfc3R5bGUgIT09IHVuZGVmaW5lZCA/IG9wdF9zdHlsZSA6IGNyZWF0ZURlZmF1bHRTdHlsZTtcbiAgICAgICAgdGhpcy5zdHlsZUZ1bmN0aW9uXyA9XG4gICAgICAgICAgICBvcHRfc3R5bGUgPT09IG51bGwgPyB1bmRlZmluZWQgOiB0b1N0eWxlRnVuY3Rpb24odGhpcy5zdHlsZV8pO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlVmVjdG9yTGF5ZXI7XG59KExheWVyKSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlVmVjdG9yTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlVmVjdG9yLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0luc3RydWN0aW9uXG4gKi9cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xudmFyIEluc3RydWN0aW9uID0ge1xuICAgIEJFR0lOX0dFT01FVFJZOiAwLFxuICAgIEJFR0lOX1BBVEg6IDEsXG4gICAgQ0lSQ0xFOiAyLFxuICAgIENMT1NFX1BBVEg6IDMsXG4gICAgQ1VTVE9NOiA0LFxuICAgIERSQVdfQ0hBUlM6IDUsXG4gICAgRFJBV19JTUFHRTogNixcbiAgICBFTkRfR0VPTUVUUlk6IDcsXG4gICAgRklMTDogOCxcbiAgICBNT1ZFX1RPX0xJTkVfVE86IDksXG4gICAgU0VUX0ZJTExfU1RZTEU6IDEwLFxuICAgIFNFVF9TVFJPS0VfU1RZTEU6IDExLFxuICAgIFNUUk9LRTogMTIsXG59O1xuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgdmFyIGZpbGxJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5GSUxMXTtcbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IHZhciBzdHJva2VJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5TVFJPS0VdO1xuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgdmFyIGJlZ2luUGF0aEluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLkJFR0lOX1BBVEhdO1xuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgdmFyIGNsb3NlUGF0aEluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLkNMT1NFX1BBVEhdO1xuZXhwb3J0IGRlZmF1bHQgSW5zdHJ1Y3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnN0cnVjdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL1ZlY3RvckNvbnRleHRcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250ZXh0IGZvciBkcmF3aW5nIGdlb21ldHJpZXMuICBBIHZlY3RvciBjb250ZXh0IGlzIGF2YWlsYWJsZSBvbiByZW5kZXJcbiAqIGV2ZW50cyBhbmQgZG9lcyBub3QgbmVlZCB0byBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqIEBhcGlcbiAqL1xudmFyIFZlY3RvckNvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmVjdG9yQ29udGV4dCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgZ2VvbWV0cnkgd2l0aCBhIGN1c3RvbSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZW5kZXJlciBSZW5kZXJlci5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3Q3VzdG9tID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlLCByZW5kZXJlcikgeyB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeSB0byByZW5kZXIuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0dlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7IH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZUdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiAoY2lyY2xlR2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0ZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSwgc3R5bGUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5IEdlb21ldHJ5IGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uID0gZnVuY3Rpb24gKGdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbGluZVN0cmluZ0dlb21ldHJ5IExpbmUgc3RyaW5nIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdMaW5lU3RyaW5nID0gZnVuY3Rpb24gKGxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdNdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbiAobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvaW50R2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TXVsdGlQb2ludCA9IGZ1bmN0aW9uIChtdWx0aVBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9seWdvbkdlb21ldHJ5IE11bHRpUG9seWdvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TXVsdGlQb2x5Z29uID0gZnVuY3Rpb24gKG11bHRpUG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvaW50R2VvbWV0cnkgUG9pbnQgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd1BvaW50ID0gZnVuY3Rpb24gKHBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2x5Z29uR2VvbWV0cnkgUG9seWdvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIChwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd1RleHQgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbFN0eWxlIEZpbGwgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLnNldEZpbGxTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIChmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0PX0gb3B0X2RlY2x1dHRlckltYWdlV2l0aFRleHQgU2hhcmVkIGRhdGEgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZyB3aXRoIGEgdGV4dCBzdHlsZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRJbWFnZVN0eWxlID0gZnVuY3Rpb24gKGltYWdlU3R5bGUsIG9wdF9kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0PX0gb3B0X2RlY2x1dHRlckltYWdlV2l0aFRleHQgU2hhcmVkIGRhdGEgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZyB3aXRoIGFuIGltYWdlIHN0eWxlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLnNldFRleHRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0U3R5bGUsIG9wdF9kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KSB7IH07XG4gICAgcmV0dXJuIFZlY3RvckNvbnRleHQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVmVjdG9yQ29udGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3RvckNvbnRleHQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0J1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgUmVsYXRpb25zaGlwIGZyb20gJy4uLy4uL2V4dGVudC9SZWxhdGlvbnNoaXAuanMnO1xuaW1wb3J0IFZlY3RvckNvbnRleHQgZnJvbSAnLi4vVmVjdG9yQ29udGV4dC5qcyc7XG5pbXBvcnQgeyBhc0NvbG9yTGlrZSB9IGZyb20gJy4uLy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQgeyBidWZmZXIsIGNsb25lLCBjb250YWluc0Nvb3JkaW5hdGUsIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAsIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGRlZmF1bHRGaWxsU3R5bGUsIGRlZmF1bHRMaW5lQ2FwLCBkZWZhdWx0TGluZURhc2gsIGRlZmF1bHRMaW5lRGFzaE9mZnNldCwgZGVmYXVsdExpbmVKb2luLCBkZWZhdWx0TGluZVdpZHRoLCBkZWZhdWx0TWl0ZXJMaW1pdCwgZGVmYXVsdFN0cm9rZVN0eWxlLCB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBlcXVhbHMsIHJldmVyc2VTdWJBcnJheSB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGluZmxhdGVDb29yZGluYXRlcywgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXksIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXksIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L2luZmxhdGUuanMnO1xudmFyIENhbnZhc0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0J1aWxkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNCdWlsZGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b2xlcmFuY2UgPSB0b2xlcmFuY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heEV4dGVudCA9IG1heEV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5zdHJ1Y3Rpb25zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50bXBDb29yZGluYXRlXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBkYXNoQXJyYXkgRGFzaCBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBEYXNoIGFycmF5IHdpdGggcGl4ZWwgcmF0aW8gYXBwbGllZFxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmFwcGx5UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uIChkYXNoQXJyYXkpIHtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgIHJldHVybiBwaXhlbFJhdGlvID09IDFcbiAgICAgICAgICAgID8gZGFzaEFycmF5XG4gICAgICAgICAgICA6IGRhc2hBcnJheS5tYXAoZnVuY3Rpb24gKGRhc2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGFzaCAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTXkgZW5kXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpIHtcbiAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKTtcbiAgICAgICAgdmFyIHRtcENvb3JkID0gdGhpcy50bXBDb29yZGluYXRlXztcbiAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlcztcbiAgICAgICAgdmFyIG15RW5kID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICB0bXBDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgICAgIHRtcENvb3JkWzFdID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChjb250YWluc0Nvb3JkaW5hdGUoZXh0ZW50LCB0bXBDb29yZCkpIHtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IHRtcENvb3JkWzBdO1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gdG1wQ29vcmRbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG15RW5kO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlZCBMYXN0IGlucHV0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcEZpcnN0IFNraXAgZmlyc3QgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBNeSBlbmQuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGNsb3NlZCwgc2tpcEZpcnN0KSB7XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBteUVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKTtcbiAgICAgICAgaWYgKHNraXBGaXJzdCkge1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdFhDb29yZCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB2YXIgbGFzdFlDb29yZCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgdmFyIG5leHRDb29yZCA9IHRoaXMudG1wQ29vcmRpbmF0ZV87XG4gICAgICAgIHZhciBza2lwcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGksIGxhc3RSZWwsIG5leHRSZWw7XG4gICAgICAgIGZvciAoaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIG5leHRDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgICAgIG5leHRDb29yZFsxXSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICBuZXh0UmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIG5leHRDb29yZCk7XG4gICAgICAgICAgICBpZiAobmV4dFJlbCAhPT0gbGFzdFJlbCkge1xuICAgICAgICAgICAgICAgIGlmIChza2lwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFhDb29yZDtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0WUNvb3JkO1xuICAgICAgICAgICAgICAgICAgICBza2lwcGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzBdO1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmV4dFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORykge1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzBdO1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzFdO1xuICAgICAgICAgICAgICAgIHNraXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNraXBwZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFhDb29yZCA9IG5leHRDb29yZFswXTtcbiAgICAgICAgICAgIGxhc3RZQ29vcmQgPSBuZXh0Q29vcmRbMV07XG4gICAgICAgICAgICBsYXN0UmVsID0gbmV4dFJlbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBMYXN0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0IG9yIG9ubHkgb25lIHBvaW50IHRvIGFwcGVuZDpcbiAgICAgICAgaWYgKChjbG9zZWQgJiYgc2tpcHBlZCkgfHwgaSA9PT0gb2Zmc2V0ICsgc3RyaWRlKSB7XG4gICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RYQ29vcmQ7XG4gICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RZQ29vcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG15RW5kO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGJ1aWxkZXJFbmRzIEJ1aWxkZXIgZW5kcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE9mZnNldC5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5kcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGJ1aWxkZXJFbmRzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgICAgICB2YXIgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBidWlsZGVyRW5kcy5wdXNoKGJ1aWxkZXJFbmQpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyZXIgUmVuZGVyZXIuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuZHJhd0N1c3RvbSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgdmFyIHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdmFyIGJ1aWxkZXJCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzLCBidWlsZGVyRW5kLCBidWlsZGVyRW5kcywgYnVpbGRlckVuZHNzO1xuICAgICAgICB2YXIgb2Zmc2V0O1xuICAgICAgICBpZiAodHlwZSA9PSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTikge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBidWlsZGVyRW5kc3MgPSBbXTtcbiAgICAgICAgICAgIHZhciBlbmRzcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRFbmRzcygpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgbXlFbmRzID0gW107XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzc1tpXSwgc3RyaWRlLCBteUVuZHMpO1xuICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmRzcy5wdXNoKG15RW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmRzcyxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBHZW9tZXRyeVR5cGUuUE9MWUdPTiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkcpIHtcbiAgICAgICAgICAgIGJ1aWxkZXJFbmRzID0gW107XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgICAgIHR5cGUgPT0gR2VvbWV0cnlUeXBlLlBPTFlHT05cbiAgICAgICAgICAgICAgICAgICAgPyAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKClcbiAgICAgICAgICAgICAgICAgICAgOiBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEVuZHMoKSwgc3RyaWRlLCBidWlsZGVyRW5kcyk7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgIGJ1aWxkZXJFbmRzLFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlc0FycmF5LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkcgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gR2VvbWV0cnlUeXBlLkNJUkNMRSkge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBidWlsZGVyRW5kID0gdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlcyxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UKSB7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGJ1aWxkZXJFbmQgPSB0aGlzLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKTtcbiAgICAgICAgICAgIGlmIChidWlsZGVyRW5kID4gYnVpbGRlckJlZ2luKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlcyxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09IEdlb21ldHJ5VHlwZS5QT0lOVCkge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzWzBdLCBmbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnlcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5iZWdpbkdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8gPSBbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSxcbiAgICAgICAgICAgIGZlYXR1cmUsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyk7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSxcbiAgICAgICAgICAgIGZlYXR1cmUsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHRoaXMuaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zOiB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSB0aGUgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zO1xuICAgICAgICAvLyBzdGVwIDEgLSByZXZlcnNlIGFycmF5XG4gICAgICAgIGhpdERldGVjdGlvbkluc3RydWN0aW9ucy5yZXZlcnNlKCk7XG4gICAgICAgIC8vIHN0ZXAgMiAtIHJldmVyc2UgaW5zdHJ1Y3Rpb25zIHdpdGhpbiBnZW9tZXRyeSBibG9ja3NcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBuID0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICAgICAgdmFyIGluc3RydWN0aW9uO1xuICAgICAgICB2YXIgdHlwZTtcbiAgICAgICAgdmFyIGJlZ2luID0gLTE7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uID0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zW2ldO1xuICAgICAgICAgICAgdHlwZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnN0cnVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoaW5zdHJ1Y3Rpb25bMF0pO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZKSB7XG4gICAgICAgICAgICAgICAgYmVnaW4gPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSkge1xuICAgICAgICAgICAgICAgIGluc3RydWN0aW9uWzJdID0gaTtcbiAgICAgICAgICAgICAgICByZXZlcnNlU3ViQXJyYXkodGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMsIGJlZ2luLCBpKTtcbiAgICAgICAgICAgICAgICBiZWdpbiA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbFN0eWxlIEZpbGwgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLnNldEZpbGxTdHJva2VTdHlsZSA9IGZ1bmN0aW9uIChmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChmaWxsU3R5bGUpIHtcbiAgICAgICAgICAgIHZhciBmaWxsU3R5bGVDb2xvciA9IGZpbGxTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgc3RhdGUuZmlsbFN0eWxlID0gYXNDb2xvckxpa2UoZmlsbFN0eWxlQ29sb3IgPyBmaWxsU3R5bGVDb2xvciA6IGRlZmF1bHRGaWxsU3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUuZmlsbFN0eWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlQ29sb3IgPSBzdHJva2VTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZShzdHJva2VTdHlsZUNvbG9yID8gc3Ryb2tlU3R5bGVDb2xvciA6IGRlZmF1bHRTdHJva2VTdHlsZSk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lQ2FwID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpO1xuICAgICAgICAgICAgc3RhdGUubGluZUNhcCA9XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lQ2FwICE9PSB1bmRlZmluZWQgPyBzdHJva2VTdHlsZUxpbmVDYXAgOiBkZWZhdWx0TGluZUNhcDtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoID0gc3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaC5zbGljZSgpXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2g7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVKb2luID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luID1cbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZUxpbmVKb2luICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVKb2luXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlV2lkdGggPSBzdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoID1cbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWQgPyBzdHJva2VTdHlsZVdpZHRoIDogZGVmYXVsdExpbmVXaWR0aDtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZU1pdGVyTGltaXQgPSBzdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0ID1cbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTWl0ZXJMaW1pdFxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRNaXRlckxpbWl0O1xuICAgICAgICAgICAgaWYgKHN0YXRlLmxpbmVXaWR0aCA+IHRoaXMubWF4TGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgLy8gaW52YWxpZGF0ZSB0aGUgYnVmZmVyZWQgbWF4IGV4dGVudCBjYWNoZVxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUubGluZUNhcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUubGluZUpvaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgICAqIEByZXR1cm4ge0FycmF5PCo+fSBGaWxsIGluc3RydWN0aW9uLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmNyZWF0ZUZpbGwgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi9cbiAgICAgICAgdmFyIGZpbGxJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSwgZmlsbFN0eWxlXTtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxsU3R5bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBGaWxsIGlzIGEgcGF0dGVybiBvciBncmFkaWVudCAtIGFsaWduIGl0IVxuICAgICAgICAgICAgZmlsbEluc3RydWN0aW9uLnB1c2godHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbGxJbnN0cnVjdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuYXBwbHlTdHJva2UgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZVN0cm9rZShzdGF0ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTwqPn0gU3Ryb2tlIGluc3RydWN0aW9uLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmNyZWF0ZVN0cm9rZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoICogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQaXhlbFJhdGlvKHN0YXRlLmxpbmVEYXNoKSxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0ICogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6Q2FudmFzQnVpbGRlciwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZSk6QXJyYXk8Kj59IGNyZWF0ZUZpbGwgQ3JlYXRlIGZpbGwuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUudXBkYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gKHN0YXRlLCBjcmVhdGVGaWxsKSB7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIGlmICh0eXBlb2YgZmlsbFN0eWxlICE9PSAnc3RyaW5nJyB8fCBzdGF0ZS5jdXJyZW50RmlsbFN0eWxlICE9IGZpbGxTdHlsZSkge1xuICAgICAgICAgICAgaWYgKGZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChjcmVhdGVGaWxsLmNhbGwodGhpcywgc3RhdGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRGaWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOkNhbnZhc0J1aWxkZXIsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGUpOiB2b2lkfSBhcHBseVN0cm9rZSBBcHBseSBzdHJva2UuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUudXBkYXRlU3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGFwcGx5U3Ryb2tlKSB7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICB2YXIgbGluZUNhcCA9IHN0YXRlLmxpbmVDYXA7XG4gICAgICAgIHZhciBsaW5lRGFzaCA9IHN0YXRlLmxpbmVEYXNoO1xuICAgICAgICB2YXIgbGluZURhc2hPZmZzZXQgPSBzdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgdmFyIGxpbmVKb2luID0gc3RhdGUubGluZUpvaW47XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgIHZhciBtaXRlckxpbWl0ID0gc3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRTdHJva2VTdHlsZSAhPSBzdHJva2VTdHlsZSB8fFxuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVDYXAgIT0gbGluZUNhcCB8fFxuICAgICAgICAgICAgKGxpbmVEYXNoICE9IHN0YXRlLmN1cnJlbnRMaW5lRGFzaCAmJlxuICAgICAgICAgICAgICAgICFlcXVhbHMoc3RhdGUuY3VycmVudExpbmVEYXNoLCBsaW5lRGFzaCkpIHx8XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2hPZmZzZXQgIT0gbGluZURhc2hPZmZzZXQgfHxcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lSm9pbiAhPSBsaW5lSm9pbiB8fFxuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVXaWR0aCAhPSBsaW5lV2lkdGggfHxcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRNaXRlckxpbWl0ICE9IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgIGlmIChzdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlTdHJva2UuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50U3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lQ2FwID0gbGluZUNhcDtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lRGFzaCA9IGxpbmVEYXNoO1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVEYXNoT2Zmc2V0ID0gbGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmVuZEdlb21ldHJ5ID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xX1syXSA9IHRoaXMuaW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl9bMl0gPSB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBudWxsO1xuICAgICAgICB2YXIgZW5kR2VvbWV0cnlJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlksIGZlYXR1cmVdO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBidWZmZXJlZCByZW5kZXJpbmcgZXh0ZW50LiAgUmVuZGVyaW5nIHdpbGwgYmUgY2xpcHBlZCB0byB0aGUgZXh0ZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLiAgVG8gYWNjb3VudCBmb3Igc3ltYm9saXplcnMgdGhhdCBtYXkgaW50ZXJzZWN0XG4gICAgICogdGhpcyBleHRlbnQsIHdlIGNhbGN1bGF0ZSBhIGJ1ZmZlcmVkIGV4dGVudCAoZS5nLiBiYXNlZCBvbiBzdHJva2Ugd2lkdGgpLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBidWZmZXJlZCByZW5kZXJpbmcgZXh0ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5nZXRCdWZmZXJlZE1heEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50Xykge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJlZE1heEV4dGVudF8gPSBjbG9uZSh0aGlzLm1heEV4dGVudCk7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXhMaW5lV2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gKHRoaXMucmVzb2x1dGlvbiAqICh0aGlzLm1heExpbmVXaWR0aCArIDEpKSAvIDI7XG4gICAgICAgICAgICAgICAgYnVmZmVyKHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfLCB3aWR0aCwgdGhpcy5idWZmZXJlZE1heEV4dGVudF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XztcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNCdWlsZGVyO1xufShWZWN0b3JDb250ZXh0KSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVpbGRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvSW1hZ2VCdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG52YXIgQ2FudmFzSW1hZ2VCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNJbWFnZUJ1aWxkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNJbWFnZUJ1aWxkZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JYXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yWV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhlaWdodF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9wYWNpdHlfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnaW5YXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luWV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdGF0aW9uXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53aWR0aF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIHNoYXJlZCB3aXRoIGEgdGV4dCBidWlsZGVyIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gcG9pbnRHZW9tZXRyeSBQb2ludCBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUJ1aWxkZXIucHJvdG90eXBlLmRyYXdQb2ludCA9IGZ1bmN0aW9uIChwb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkocG9pbnRHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBwb2ludEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gcG9pbnRHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdmFyIG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIG15RW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICBteUVuZCxcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfLFxuICAgICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICB0aGlzLmFuY2hvcllfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXMuaGVpZ2h0XyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyksXG4gICAgICAgICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICh0aGlzLnNjYWxlX1swXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICAgICAgKHRoaXMuc2NhbGVfWzFdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBNYXRoLmNlaWwodGhpcy53aWR0aF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICBteUVuZCxcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfLFxuICAgICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWF8sXG4gICAgICAgICAgICB0aGlzLmFuY2hvcllfLFxuICAgICAgICAgICAgdGhpcy5oZWlnaHRfLFxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWF8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpbllfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgICAgICAgIHRoaXMuc2NhbGVfLFxuICAgICAgICAgICAgdGhpcy53aWR0aF8sXG4gICAgICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvaW50R2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUJ1aWxkZXIucHJvdG90eXBlLmRyYXdNdWx0aVBvaW50ID0gZnVuY3Rpb24gKG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBtdWx0aVBvaW50R2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBtdWx0aVBvaW50R2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBteUVuZCA9IHRoaXMuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgICAgICB0aGlzLmFuY2hvclhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgdGhpcy5hbmNob3JZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzLmhlaWdodF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWF8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpbllfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAodGhpcy5zY2FsZV9bMF0gKiB0aGlzLnBpeGVsUmF0aW8pIC8gdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgICAgICh0aGlzLnNjYWxlX1sxXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXMud2lkdGhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyxcbiAgICAgICAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgICAgICB0aGlzLmFuY2hvclhfLFxuICAgICAgICAgICAgdGhpcy5hbmNob3JZXyxcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0XyxcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eV8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpblhfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5ZXyxcbiAgICAgICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbl8sXG4gICAgICAgICAgICB0aGlzLnNjYWxlXyxcbiAgICAgICAgICAgIHRoaXMud2lkdGhfLFxuICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUJ1aWxkZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgICAgIC8vIEZJWE1FIHRoaXMgZG9lc24ndCByZWFsbHkgcHJvdGVjdCB1cyBhZ2FpbnN0IGZ1cnRoZXIgY2FsbHMgdG8gZHJhdypHZW9tZXRyeVxuICAgICAgICB0aGlzLmFuY2hvclhfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFuY2hvcllfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhlaWdodF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc2NhbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wYWNpdHlfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9yaWdpblhfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9yaWdpbllfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2lkdGhfID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5maW5pc2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdF9zaGFyZWREYXRhIFNoYXJlZCBkYXRhLlxuICAgICAqL1xuICAgIENhbnZhc0ltYWdlQnVpbGRlci5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIChpbWFnZVN0eWxlLCBvcHRfc2hhcmVkRGF0YSkge1xuICAgICAgICB2YXIgYW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICAgICAgdmFyIHNpemUgPSBpbWFnZVN0eWxlLmdldFNpemUoKTtcbiAgICAgICAgdmFyIGhpdERldGVjdGlvbkltYWdlID0gaW1hZ2VTdHlsZS5nZXRIaXREZXRlY3Rpb25JbWFnZSgpO1xuICAgICAgICB2YXIgaW1hZ2UgPSBpbWFnZVN0eWxlLmdldEltYWdlKHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBvcmlnaW4gPSBpbWFnZVN0eWxlLmdldE9yaWdpbigpO1xuICAgICAgICB0aGlzLmltYWdlUGl4ZWxSYXRpb18gPSBpbWFnZVN0eWxlLmdldFBpeGVsUmF0aW8odGhpcy5waXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5hbmNob3JYXyA9IGFuY2hvclswXTtcbiAgICAgICAgdGhpcy5hbmNob3JZXyA9IGFuY2hvclsxXTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBoaXREZXRlY3Rpb25JbWFnZTtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgICAgICAgdGhpcy5oZWlnaHRfID0gc2l6ZVsxXTtcbiAgICAgICAgdGhpcy5vcGFjaXR5XyA9IGltYWdlU3R5bGUuZ2V0T3BhY2l0eSgpO1xuICAgICAgICB0aGlzLm9yaWdpblhfID0gb3JpZ2luWzBdO1xuICAgICAgICB0aGlzLm9yaWdpbllfID0gb3JpZ2luWzFdO1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IGltYWdlU3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSBpbWFnZVN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICAgIHRoaXMuc2NhbGVfID0gaW1hZ2VTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgICAgIHRoaXMud2lkdGhfID0gc2l6ZVswXTtcbiAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyA9IG9wdF9zaGFyZWREYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc0ltYWdlQnVpbGRlcjtcbn0oQ2FudmFzQnVpbGRlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzSW1hZ2VCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VCdWlsZGVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9MaW5lU3RyaW5nQnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uLCB7IGJlZ2luUGF0aEluc3RydWN0aW9uLCBzdHJva2VJbnN0cnVjdGlvbiwgfSBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbnZhciBDYW52YXNMaW5lU3RyaW5nQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNMaW5lU3RyaW5nQnVpbGRlcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGVuZC5cbiAgICAgKi9cbiAgICBDYW52YXNMaW5lU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZHJhd0ZsYXRDb29yZGluYXRlc18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBteUVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHZhciBtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbiA9IFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLk1PVkVfVE9fTElORV9UTyxcbiAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICBteUVuZCxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGxpbmVTdHJpbmdHZW9tZXRyeSBMaW5lIHN0cmluZyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNMaW5lU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZHJhd0xpbmVTdHJpbmcgPSBmdW5jdGlvbiAobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgICAgICBpZiAoc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCB8fCBsaW5lV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgXSwgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbGluZVN0cmluZ0dlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gbGluZVN0cmluZ0dlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRyYXdNdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbiAobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgIGlmIChzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkIHx8IGxpbmVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZShzdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgIF0sIGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICAgICAgdmFyIGVuZHMgPSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeS5nZXRFbmRzKCk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoZW5kc1tpXSksIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNMaW5lU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucygpO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZmluaXNoLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgICAqL1xuICAgIENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5hcHBseVN0cm9rZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgc3RhdGUubGFzdFN0cm9rZSA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxhc3RTdHJva2UgPSAwO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmFwcGx5U3Ryb2tlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNMaW5lU3RyaW5nQnVpbGRlcjtcbn0oQ2FudmFzQnVpbGRlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lU3RyaW5nQnVpbGRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvUG9seWdvbkJ1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiwgeyBiZWdpblBhdGhJbnN0cnVjdGlvbiwgY2xvc2VQYXRoSW5zdHJ1Y3Rpb24sIGZpbGxJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24sIH0gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IHNuYXAgfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvc2ltcGxpZnkuanMnO1xudmFyIENhbnZhc1BvbHlnb25CdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNQb2x5Z29uQnVpbGRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1BvbHlnb25CdWlsZGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICAgICAqL1xuICAgIENhbnZhc1BvbHlnb25CdWlsZGVyLnByb3RvdHlwZS5kcmF3RmxhdENvb3JkaW5hdGVzc18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZmlsbCA9IHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgc3Ryb2tlID0gc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG51bUVuZHMgPSBlbmRzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUVuZHM7ICsraSkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgICAgICB2YXIgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIG15RW5kID0gdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdHJ1ZSwgIXN0cm9rZSk7XG4gICAgICAgICAgICB2YXIgbW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24gPSBbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uTU9WRV9UT19MSU5FX1RPLFxuICAgICAgICAgICAgICAgIG15QmVnaW4sXG4gICAgICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IG9ubHkgY2FsbCBjbG9zZVBhdGgoKSB3aGVuIHdlIGhhdmUgYSBzdHJva2UuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSByaW5nIGlzIGNsb3NlZCBhbHJlYWR5IChzZWUgYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyBhYm92ZSkuXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChjbG9zZVBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChjbG9zZVBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZUdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc1BvbHlnb25CdWlsZGVyLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18oKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0RmlsbFN0eWxlLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgICAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBjaXJjbGVHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IGNpcmNsZUdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHZhciBjaXJjbGVJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5DSVJDTEUsIG15QmVnaW5dO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uLCBjaXJjbGVJbnN0cnVjdGlvbik7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sIGNpcmNsZUluc3RydWN0aW9uKTtcbiAgICAgICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2x5Z29uR2VvbWV0cnkgUG9seWdvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiAocG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18oKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kcyA9IHBvbHlnb25HZW9tZXRyeS5nZXRFbmRzKCk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBwb2x5Z29uR2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IHBvbHlnb25HZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzc18oZmxhdENvb3JkaW5hdGVzLCAwLCBcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZW5kcyksIHN0cmlkZSk7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9seWdvbkdlb21ldHJ5IE11bHRpUG9seWdvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuZHJhd011bHRpUG9seWdvbiA9IGZ1bmN0aW9uIChtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkICYmIHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZXNfKCk7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kc3MgPSBtdWx0aVBvbHlnb25HZW9tZXRyeS5nZXRFbmRzcygpO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IG11bHRpUG9seWdvbkdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzW2ldLCBzdHJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gcHJlc2VydmUgdG9wb2xvZ3kgd2hlbiBkcmF3aW5nIHBvbHlnb25zLiAgUG9seWdvbnMgYXJlXG4gICAgICAgIC8vIHNpbXBsaWZpZWQgdXNpbmcgcXVhbnRpemF0aW9uIGFuZCBwb2ludCBlbGltaW5hdGlvbi4gSG93ZXZlciwgd2UgbWlnaHRcbiAgICAgICAgLy8gaGF2ZSByZWNlaXZlZCBhIG1peCBvZiBxdWFudGl6ZWQgYW5kIG5vbi1xdWFudGl6ZWQgZ2VvbWV0cmllcywgc28gZW5zdXJlXG4gICAgICAgIC8vIHRoYXQgYWxsIGFyZSBxdWFudGl6ZWQgYnkgcXVhbnRpemluZyBhbGwgY29vcmRpbmF0ZXMgaW4gdGhlIGJhdGNoLlxuICAgICAgICB2YXIgdG9sZXJhbmNlID0gdGhpcy50b2xlcmFuY2U7XG4gICAgICAgIGlmICh0b2xlcmFuY2UgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXNbaV0gPSBzbmFwKGNvb3JkaW5hdGVzW2ldLCB0b2xlcmFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmZpbmlzaC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuc2V0RmlsbFN0cm9rZVN0eWxlc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIGlmIChmaWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGaWxsU3R5bGUoc3RhdGUsIHRoaXMuY3JlYXRlRmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzUG9seWdvbkJ1aWxkZXI7XG59KENhbnZhc0J1aWxkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc1BvbHlnb25CdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbkJ1aWxkZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rXG4gKi9cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heEFuZ2xlIE1heGltdW0gYWNjZXB0YWJsZSBhbmdsZSBkZWx0YSBiZXR3ZWVuIHNlZ21lbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFN0YXJ0IGFuZCBlbmQgb2YgdGhlIGZpcnN0IHN1aXRhYmxlIGNodW5rIG9mIHRoZVxuICogZ2l2ZW4gYGZsYXRDb29yZGluYXRlc2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGluZ0NodW5rKG1heEFuZ2xlLCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB2YXIgY2h1bmtTdGFydCA9IG9mZnNldDtcbiAgICB2YXIgY2h1bmtFbmQgPSBvZmZzZXQ7XG4gICAgdmFyIGNodW5rTSA9IDA7XG4gICAgdmFyIG0gPSAwO1xuICAgIHZhciBzdGFydCA9IG9mZnNldDtcbiAgICB2YXIgYWNvcywgaSwgbTEyLCBtMjMsIHgxLCB5MSwgeDEyLCB5MTIsIHgyMywgeTIzO1xuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgICBpZiAoeDEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgeDIzID0geDIgLSB4MTtcbiAgICAgICAgICAgIHkyMyA9IHkyIC0geTE7XG4gICAgICAgICAgICBtMjMgPSBNYXRoLnNxcnQoeDIzICogeDIzICsgeTIzICogeTIzKTtcbiAgICAgICAgICAgIGlmICh4MTIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG0gKz0gbTEyO1xuICAgICAgICAgICAgICAgIGFjb3MgPSBNYXRoLmFjb3MoKHgxMiAqIHgyMyArIHkxMiAqIHkyMykgLyAobTEyICogbTIzKSk7XG4gICAgICAgICAgICAgICAgaWYgKGFjb3MgPiBtYXhBbmdsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobSA+IGNodW5rTSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtNID0gbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rU3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rRW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBpIC0gc3RyaWRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG0xMiA9IG0yMztcbiAgICAgICAgICAgIHgxMiA9IHgyMztcbiAgICAgICAgICAgIHkxMiA9IHkyMztcbiAgICAgICAgfVxuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICBtICs9IG0yMztcbiAgICByZXR1cm4gbSA+IGNodW5rTSA/IFtzdGFydCwgaV0gOiBbY2h1bmtTdGFydCwgY2h1bmtFbmRdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyYWlnaHRjaHVuay5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvVGV4dEJ1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFRleHRQbGFjZW1lbnQgZnJvbSAnLi4vLi4vc3R5bGUvVGV4dFBsYWNlbWVudC5qcyc7XG5pbXBvcnQgeyBhc0NvbG9yTGlrZSB9IGZyb20gJy4uLy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0Rm9udCwgZGVmYXVsdExpbmVDYXAsIGRlZmF1bHRMaW5lRGFzaCwgZGVmYXVsdExpbmVEYXNoT2Zmc2V0LCBkZWZhdWx0TGluZUpvaW4sIGRlZmF1bHRMaW5lV2lkdGgsIGRlZmF1bHRNaXRlckxpbWl0LCBkZWZhdWx0UGFkZGluZywgZGVmYXVsdFN0cm9rZVN0eWxlLCBkZWZhdWx0VGV4dEFsaWduLCBkZWZhdWx0VGV4dEJhc2VsaW5lLCByZWdpc3RlckZvbnQsIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0cyB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBtYXRjaGluZ0NodW5rIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3N0cmFpZ2h0Y2h1bmsuanMnO1xuLyoqXG4gKiBAY29uc3RcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgVEVYVF9BTElHTiA9IHtcbiAgICAnbGVmdCc6IDAsXG4gICAgJ2VuZCc6IDAsXG4gICAgJ2NlbnRlcic6IDAuNSxcbiAgICAncmlnaHQnOiAxLFxuICAgICdzdGFydCc6IDEsXG4gICAgJ3RvcCc6IDAsXG4gICAgJ21pZGRsZSc6IDAuNSxcbiAgICAnaGFuZ2luZyc6IDAuMixcbiAgICAnYWxwaGFiZXRpYyc6IDAuOCxcbiAgICAnaWRlb2dyYXBoaWMnOiAwLjgsXG4gICAgJ2JvdHRvbSc6IDEsXG59O1xudmFyIENhbnZhc1RleHRCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNUZXh0QnVpbGRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1RleHRCdWlsZGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PEhUTUxDYW52YXNFbGVtZW50Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhYmVsc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dE9mZnNldFhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0T2Zmc2V0WV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0Um90YXRpb25fID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWxsU3RhdGVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3Ryb2tlU3RhdGVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRTdGF0ZV8gPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9ICovICh7fSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFN0YXRlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRLZXlfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsbEtleV8gPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHJva2VLZXlfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIHNoYXJlZCB3aXRoIGFuIGltYWdlIGJ1aWxkZXIgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgQ2FudmFzVGV4dEJ1aWxkZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RydWN0aW9ucyA9IF9zdXBlci5wcm90b3R5cGUuZmluaXNoLmNhbGwodGhpcyk7XG4gICAgICAgIGluc3RydWN0aW9ucy50ZXh0U3RhdGVzID0gdGhpcy50ZXh0U3RhdGVzO1xuICAgICAgICBpbnN0cnVjdGlvbnMuZmlsbFN0YXRlcyA9IHRoaXMuZmlsbFN0YXRlcztcbiAgICAgICAgaW5zdHJ1Y3Rpb25zLnN0cm9rZVN0YXRlcyA9IHRoaXMuc3Ryb2tlU3RhdGVzO1xuICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNUZXh0QnVpbGRlci5wcm90b3R5cGUuZHJhd1RleHQgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgICAgIHZhciBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICAgICAgaWYgKHRoaXMudGV4dF8gPT09ICcnIHx8ICF0ZXh0U3RhdGUgfHwgKCFmaWxsU3RhdGUgJiYgIXN0cm9rZVN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBiZWdpbiA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGdlb21ldHJ5VHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IG51bGw7XG4gICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgaWYgKHRleHRTdGF0ZS5wbGFjZW1lbnQgPT09IFRleHRQbGFjZW1lbnQuTElORSAmJlxuICAgICAgICAgICAgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkcgfHxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HIHx8XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5QT0xZR09OIHx8XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OKSkge1xuICAgICAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKSwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVuZHMgPSB2b2lkIDA7XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkcpIHtcbiAgICAgICAgICAgICAgICBlbmRzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEVuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuUE9MWUdPTikge1xuICAgICAgICAgICAgICAgIGVuZHMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICAgICAgICAgICAgIC5nZXRFbmRzKClcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuZHNzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEVuZHNzKCk7XG4gICAgICAgICAgICAgICAgZW5kcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZHNzW2ldWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICAgICAgdmFyIHRleHRBbGlnbiA9IHRleHRTdGF0ZS50ZXh0QWxpZ247XG4gICAgICAgICAgICB2YXIgZmxhdE9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgZmxhdEVuZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGZvciAodmFyIG8gPSAwLCBvbyA9IGVuZHMubGVuZ3RoOyBvIDwgb287ICsrbykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0QWxpZ24gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IG1hdGNoaW5nQ2h1bmsodGV4dFN0YXRlLm1heEFuZ2xlLCBmbGF0Q29vcmRpbmF0ZXMsIGZsYXRPZmZzZXQsIGVuZHNbb10sIHN0cmlkZSk7XG4gICAgICAgICAgICAgICAgICAgIGZsYXRPZmZzZXQgPSByYW5nZVswXTtcbiAgICAgICAgICAgICAgICAgICAgZmxhdEVuZCA9IHJhbmdlWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhdEVuZCA9IGVuZHNbb107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBmbGF0T2Zmc2V0OyBpIDwgZmxhdEVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbaV0sIGZsYXRDb29yZGluYXRlc1tpICsgMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZsYXRPZmZzZXQgPSBlbmRzW29dO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NoYXJzXyhiZWdpbiwgZW5kKTtcbiAgICAgICAgICAgICAgICBiZWdpbiA9IGVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnlXaWR0aHMgPSB0ZXh0U3RhdGUub3ZlcmZsb3cgPyBudWxsIDogW107XG4gICAgICAgICAgICBzd2l0Y2ggKGdlb21ldHJ5VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPSU5UOlxuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UOlxuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORzpcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRGbGF0TWlkcG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuQ0lSQ0xFOlxuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RmxhdE1pZHBvaW50cygpO1xuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0xZR09OOlxuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRJbnRlcmlvclBvaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGV4dFN0YXRlLm92ZXJmbG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRocy5wdXNoKGZsYXRDb29yZGluYXRlc1syXSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlID0gMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyaW9yUG9pbnRzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW50ZXJpb3JQb2ludHMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXh0U3RhdGUub3ZlcmZsb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRocy5wdXNoKGludGVyaW9yUG9pbnRzW2kgKyAyXSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMucHVzaChpbnRlcmlvclBvaW50c1tpXSwgaW50ZXJpb3JQb2ludHNbaSArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0cmlkZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgICAgICBpZiAoZW5kID09PSBiZWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2F2ZVRleHRTdGF0ZXNfKCk7XG4gICAgICAgICAgICBpZiAodGV4dFN0YXRlLmJhY2tncm91bmRGaWxsIHx8IHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGUodGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLCB0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZpbGxTdHlsZSh0aGlzLnN0YXRlLCB0aGlzLmNyZWF0ZUZpbGwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRmlsbCh0aGlzLnN0YXRlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHRoaXMuc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlU3Ryb2tlKHRoaXMuc3RhdGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICAgICAgLy8gYWRqdXN0IHBhZGRpbmcgZm9yIG5lZ2F0aXZlIHNjYWxlXG4gICAgICAgICAgICB2YXIgcGFkZGluZyA9IHRleHRTdGF0ZS5wYWRkaW5nO1xuICAgICAgICAgICAgaWYgKHBhZGRpbmcgIT0gZGVmYXVsdFBhZGRpbmcgJiZcbiAgICAgICAgICAgICAgICAodGV4dFN0YXRlLnNjYWxlWzBdIDwgMCB8fCB0ZXh0U3RhdGUuc2NhbGVbMV0gPCAwKSkge1xuICAgICAgICAgICAgICAgIHZhciBwMCA9IHRleHRTdGF0ZS5wYWRkaW5nWzBdO1xuICAgICAgICAgICAgICAgIHZhciBwMSA9IHRleHRTdGF0ZS5wYWRkaW5nWzFdO1xuICAgICAgICAgICAgICAgIHZhciBwMiA9IHRleHRTdGF0ZS5wYWRkaW5nWzJdO1xuICAgICAgICAgICAgICAgIHZhciBwMyA9IHRleHRTdGF0ZS5wYWRkaW5nWzNdO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdGUuc2NhbGVbMF0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHAxID0gLXAxO1xuICAgICAgICAgICAgICAgICAgICBwMyA9IC1wMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0ZS5zY2FsZVsxXSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcDAgPSAtcDA7XG4gICAgICAgICAgICAgICAgICAgIHAyID0gLXAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYWRkaW5nID0gW3AwLCBwMSwgcDIsIHAzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZSBpbWFnZSBpcyB1bmtub3duIGF0IHRoaXMgc3RhZ2Ugc28gd2UgcGFzcyBudWxsOyBpdCB3aWxsIGJlIGNvbXB1dGVkIGF0IHJlbmRlciB0aW1lLlxuICAgICAgICAgICAgLy8gRm9yIGNsYXJpdHksIHdlIHBhc3MgTmFOIGZvciBvZmZzZXRYLCBvZmZzZXRZLCB3aWR0aCBhbmQgaGVpZ2h0LCB3aGljaCB3aWxsIGJlIGNvbXB1dGVkIGF0XG4gICAgICAgICAgICAvLyByZW5kZXIgdGltZS5cbiAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvXzEgPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgICAgICAgICAgIGJlZ2luLFxuICAgICAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRSb3RhdGlvbl8sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICAgICAgICAgIHBhZGRpbmcgPT0gZGVmYXVsdFBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgPyBkZWZhdWx0UGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICA6IHBhZGRpbmcubWFwKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcCAqIHBpeGVsUmF0aW9fMTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwsXG4gICAgICAgICAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dEtleV8sXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2VLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMuZmlsbEtleV8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WV8sXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHZhciBzY2FsZSA9IDEgLyBwaXhlbFJhdGlvXzE7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgICAgICAgICAgIGJlZ2luLFxuICAgICAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRSb3RhdGlvbl8sXG4gICAgICAgICAgICAgICAgW3NjYWxlLCBzY2FsZV0sXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgICAgICAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCxcbiAgICAgICAgICAgICAgICAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dF8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0S2V5XyxcbiAgICAgICAgICAgICAgICB0aGlzLnN0cm9rZUtleV8sXG4gICAgICAgICAgICAgICAgdGhpcy5maWxsS2V5XyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRYXyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRZXyxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRocyxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNUZXh0QnVpbGRlci5wcm90b3R5cGUuc2F2ZVRleHRTdGF0ZXNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgICAgIHZhciB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZV87XG4gICAgICAgIHZhciBmaWxsU3RhdGUgPSB0aGlzLnRleHRGaWxsU3RhdGVfO1xuICAgICAgICB2YXIgc3Ryb2tlS2V5ID0gdGhpcy5zdHJva2VLZXlfO1xuICAgICAgICBpZiAoc3Ryb2tlU3RhdGUpIHtcbiAgICAgICAgICAgIGlmICghKHN0cm9rZUtleSBpbiB0aGlzLnN0cm9rZVN0YXRlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cm9rZVN0YXRlc1tzdHJva2VLZXldID0ge1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVDYXA6IHN0cm9rZVN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiBzdHJva2VTdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVKb2luOiBzdHJva2VTdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICAgICAgICAgICAgbWl0ZXJMaW1pdDogc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgbGluZURhc2g6IHN0cm9rZVN0YXRlLmxpbmVEYXNoLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHRLZXkgPSB0aGlzLnRleHRLZXlfO1xuICAgICAgICBpZiAoISh0ZXh0S2V5IGluIHRoaXMudGV4dFN0YXRlcykpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XSA9IHtcbiAgICAgICAgICAgICAgICBmb250OiB0ZXh0U3RhdGUuZm9udCxcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnbixcbiAgICAgICAgICAgICAgICB0ZXh0QmFzZWxpbmU6IHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgZGVmYXVsdFRleHRCYXNlbGluZSxcbiAgICAgICAgICAgICAgICBzY2FsZTogdGV4dFN0YXRlLnNjYWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlsbEtleSA9IHRoaXMuZmlsbEtleV87XG4gICAgICAgIGlmIChmaWxsU3RhdGUpIHtcbiAgICAgICAgICAgIGlmICghKGZpbGxLZXkgaW4gdGhpcy5maWxsU3RhdGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsbFN0YXRlc1tmaWxsS2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBmaWxsU3RhdGUuZmlsbFN0eWxlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luIEJlZ2luLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqL1xuICAgIENhbnZhc1RleHRCdWlsZGVyLnByb3RvdHlwZS5kcmF3Q2hhcnNfID0gZnVuY3Rpb24gKGJlZ2luLCBlbmQpIHtcbiAgICAgICAgdmFyIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgICAgICB2YXIgc3Ryb2tlS2V5ID0gdGhpcy5zdHJva2VLZXlfO1xuICAgICAgICB2YXIgdGV4dEtleSA9IHRoaXMudGV4dEtleV87XG4gICAgICAgIHZhciBmaWxsS2V5ID0gdGhpcy5maWxsS2V5XztcbiAgICAgICAgdGhpcy5zYXZlVGV4dFN0YXRlc18oKTtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciBiYXNlbGluZSA9IFRFWFRfQUxJR05bdGV4dFN0YXRlLnRleHRCYXNlbGluZV07XG4gICAgICAgIHZhciBvZmZzZXRZID0gdGhpcy50ZXh0T2Zmc2V0WV8gKiBwaXhlbFJhdGlvO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMudGV4dF87XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHN0cm9rZVN0YXRlXG4gICAgICAgICAgICA/IChzdHJva2VTdGF0ZS5saW5lV2lkdGggKiBNYXRoLmFicyh0ZXh0U3RhdGUuc2NhbGVbMF0pKSAvIDJcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0NIQVJTLFxuICAgICAgICAgICAgYmVnaW4sXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICBiYXNlbGluZSxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5vdmVyZmxvdyxcbiAgICAgICAgICAgIGZpbGxLZXksXG4gICAgICAgICAgICB0ZXh0U3RhdGUubWF4QW5nbGUsXG4gICAgICAgICAgICBwaXhlbFJhdGlvLFxuICAgICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICAgIHN0cm9rZUtleSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoICogcGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICB0ZXh0S2V5LFxuICAgICAgICAgICAgMSxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUyxcbiAgICAgICAgICAgIGJlZ2luLFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgYmFzZWxpbmUsXG4gICAgICAgICAgICB0ZXh0U3RhdGUub3ZlcmZsb3csXG4gICAgICAgICAgICBmaWxsS2V5LFxuICAgICAgICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIG9mZnNldFksXG4gICAgICAgICAgICBzdHJva2VLZXksXG4gICAgICAgICAgICBzdHJva2VXaWR0aCxcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICB0ZXh0S2V5LFxuICAgICAgICAgICAgMSAvIHBpeGVsUmF0aW8sXG4gICAgICAgIF0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X3NoYXJlZERhdGEgU2hhcmVkIGRhdGEuXG4gICAgICovXG4gICAgQ2FudmFzVGV4dEJ1aWxkZXIucHJvdG90eXBlLnNldFRleHRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0U3R5bGUsIG9wdF9zaGFyZWREYXRhKSB7XG4gICAgICAgIHZhciB0ZXh0U3RhdGUsIGZpbGxTdGF0ZSwgc3Ryb2tlU3RhdGU7XG4gICAgICAgIGlmICghdGV4dFN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRfID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGV4dEZpbGxTdHlsZSA9IHRleHRTdHlsZS5nZXRGaWxsKCk7XG4gICAgICAgICAgICBpZiAoIXRleHRGaWxsU3R5bGUpIHtcbiAgICAgICAgICAgICAgICBmaWxsU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBmaWxsU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWxsU3RhdGUgPSB0aGlzLnRleHRGaWxsU3RhdGVfO1xuICAgICAgICAgICAgICAgIGlmICghZmlsbFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxTdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IGZpbGxTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsbFN0YXRlLmZpbGxTdHlsZSA9IGFzQ29sb3JMaWtlKHRleHRGaWxsU3R5bGUuZ2V0Q29sb3IoKSB8fCBkZWZhdWx0RmlsbFN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICAgICAgICBpZiAoIXRleHRTdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBzdHJva2VTdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICAgICAgICAgIGlmICghc3Ryb2tlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0gc3Ryb2tlU3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsaW5lRGFzaCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lRGFzaE9mZnNldCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWl0ZXJMaW1pdCA9IHRleHRTdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUNhcCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCkgfHwgZGVmYXVsdExpbmVDYXA7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2ggPSBsaW5lRGFzaCA/IGxpbmVEYXNoLnNsaWNlKCkgOiBkZWZhdWx0TGluZURhc2g7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdExpbmVEYXNoT2Zmc2V0IDogbGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUpvaW4gPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKSB8fCBkZWZhdWx0TGluZUpvaW47XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZVdpZHRoID1cbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TGluZVdpZHRoIDogbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLm1pdGVyTGltaXQgPVxuICAgICAgICAgICAgICAgICAgICBtaXRlckxpbWl0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWl0ZXJMaW1pdCA6IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZSh0ZXh0U3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKSB8fCBkZWZhdWx0U3Ryb2tlU3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgICAgICAgICAgdmFyIGZvbnQgPSB0ZXh0U3R5bGUuZ2V0Rm9udCgpIHx8IGRlZmF1bHRGb250O1xuICAgICAgICAgICAgcmVnaXN0ZXJGb250KGZvbnQpO1xuICAgICAgICAgICAgdmFyIHRleHRTY2FsZSA9IHRleHRTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUub3ZlcmZsb3cgPSB0ZXh0U3R5bGUuZ2V0T3ZlcmZsb3coKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5mb250ID0gZm9udDtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5tYXhBbmdsZSA9IHRleHRTdHlsZS5nZXRNYXhBbmdsZSgpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLnBsYWNlbWVudCA9IHRleHRTdHlsZS5nZXRQbGFjZW1lbnQoKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS50ZXh0QWxpZ24gPSB0ZXh0U3R5bGUuZ2V0VGV4dEFsaWduKCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lID1cbiAgICAgICAgICAgICAgICB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCkgfHwgZGVmYXVsdFRleHRCYXNlbGluZTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCA9IHRleHRTdHlsZS5nZXRCYWNrZ3JvdW5kRmlsbCgpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UgPSB0ZXh0U3R5bGUuZ2V0QmFja2dyb3VuZFN0cm9rZSgpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLnBhZGRpbmcgPSB0ZXh0U3R5bGUuZ2V0UGFkZGluZygpIHx8IGRlZmF1bHRQYWRkaW5nO1xuICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlID0gdGV4dFNjYWxlID09PSB1bmRlZmluZWQgPyBbMSwgMV0gOiB0ZXh0U2NhbGU7XG4gICAgICAgICAgICB2YXIgdGV4dE9mZnNldFggPSB0ZXh0U3R5bGUuZ2V0T2Zmc2V0WCgpO1xuICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRZID0gdGV4dFN0eWxlLmdldE9mZnNldFkoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0Um90YXRlV2l0aFZpZXcgPSB0ZXh0U3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0Um90YXRpb24gPSB0ZXh0U3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMudGV4dF8gPSB0ZXh0U3R5bGUuZ2V0VGV4dCgpIHx8ICcnO1xuICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8gPSB0ZXh0T2Zmc2V0WCA9PT0gdW5kZWZpbmVkID8gMCA6IHRleHRPZmZzZXRYO1xuICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WV8gPSB0ZXh0T2Zmc2V0WSA9PT0gdW5kZWZpbmVkID8gMCA6IHRleHRPZmZzZXRZO1xuICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfID1cbiAgICAgICAgICAgICAgICB0ZXh0Um90YXRlV2l0aFZpZXcgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdGV4dFJvdGF0ZVdpdGhWaWV3O1xuICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRpb25fID0gdGV4dFJvdGF0aW9uID09PSB1bmRlZmluZWQgPyAwIDogdGV4dFJvdGF0aW9uO1xuICAgICAgICAgICAgdGhpcy5zdHJva2VLZXlfID0gc3Ryb2tlU3RhdGVcbiAgICAgICAgICAgICAgICA/ICh0eXBlb2Ygc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZVxuICAgICAgICAgICAgICAgICAgICA6IGdldFVpZChzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSkpICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUNhcCArXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ICtcbiAgICAgICAgICAgICAgICAgICAgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZVdpZHRoICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUpvaW4gK1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5taXRlckxpbWl0ICtcbiAgICAgICAgICAgICAgICAgICAgJ1snICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2guam9pbigpICtcbiAgICAgICAgICAgICAgICAgICAgJ10nXG4gICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgIHRoaXMudGV4dEtleV8gPVxuICAgICAgICAgICAgICAgIHRleHRTdGF0ZS5mb250ICtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlICtcbiAgICAgICAgICAgICAgICAgICAgKHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgJz8nKSArXG4gICAgICAgICAgICAgICAgICAgICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lIHx8ICc/Jyk7XG4gICAgICAgICAgICB0aGlzLmZpbGxLZXlfID0gZmlsbFN0YXRlXG4gICAgICAgICAgICAgICAgPyB0eXBlb2YgZmlsbFN0YXRlLmZpbGxTdHlsZSA9PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IGZpbGxTdGF0ZS5maWxsU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgOiAnfCcgKyBnZXRVaWQoZmlsbFN0YXRlLmZpbGxTdHlsZSlcbiAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSBvcHRfc2hhcmVkRGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNUZXh0QnVpbGRlcjtcbn0oQ2FudmFzQnVpbGRlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzVGV4dEJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0QnVpbGRlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXBcbiAqL1xuaW1wb3J0IEJ1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBJbWFnZUJ1aWxkZXIgZnJvbSAnLi9JbWFnZUJ1aWxkZXIuanMnO1xuaW1wb3J0IExpbmVTdHJpbmdCdWlsZGVyIGZyb20gJy4vTGluZVN0cmluZ0J1aWxkZXIuanMnO1xuaW1wb3J0IFBvbHlnb25CdWlsZGVyIGZyb20gJy4vUG9seWdvbkJ1aWxkZXIuanMnO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gJy4vVGV4dEJ1aWxkZXIuanMnO1xuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGVcIikuZGVmYXVsdCwgdHlwZW9mIEJ1aWxkZXI+fVxuICovXG52YXIgQkFUQ0hfQ09OU1RSVUNUT1JTID0ge1xuICAgICdDaXJjbGUnOiBQb2x5Z29uQnVpbGRlcixcbiAgICAnRGVmYXVsdCc6IEJ1aWxkZXIsXG4gICAgJ0ltYWdlJzogSW1hZ2VCdWlsZGVyLFxuICAgICdMaW5lU3RyaW5nJzogTGluZVN0cmluZ0J1aWxkZXIsXG4gICAgJ1BvbHlnb24nOiBQb2x5Z29uQnVpbGRlcixcbiAgICAnVGV4dCc6IFRleHRCdWlsZGVyLFxufTtcbnZhciBCdWlsZGVyR3JvdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4IGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1aWxkZXJHcm91cCh0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudG9sZXJhbmNlXyA9IHRvbGVyYW5jZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhFeHRlbnRfID0gbWF4RXh0ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGVcIikuZGVmYXVsdCwgQnVpbGRlcj4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idWlsZGVyc0J5WkluZGV4XyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlXCIpLmRlZmF1bHQsIGltcG9ydChcIi4vQnVpbGRlci5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnM+Pn0gVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICAgKi9cbiAgICBCdWlsZGVyR3JvdXAucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1aWxkZXJJbnN0cnVjdGlvbnMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgektleSBpbiB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfKSB7XG4gICAgICAgICAgICBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldID0gYnVpbGRlckluc3RydWN0aW9uc1t6S2V5XSB8fCB7fTtcbiAgICAgICAgICAgIHZhciBidWlsZGVycyA9IHRoaXMuYnVpbGRlcnNCeVpJbmRleF9bektleV07XG4gICAgICAgICAgICBmb3IgKHZhciBidWlsZGVyS2V5IGluIGJ1aWxkZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1aWxkZXJJbnN0cnVjdGlvbiA9IGJ1aWxkZXJzW2J1aWxkZXJLZXldLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIGJ1aWxkZXJJbnN0cnVjdGlvbnNbektleV1bYnVpbGRlcktleV0gPSBidWlsZGVySW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXJJbnN0cnVjdGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHpJbmRleCBaIGluZGV4LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0fSBidWlsZGVyVHlwZSBSZXBsYXkgdHlwZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9WZWN0b3JDb250ZXh0LmpzXCIpLmRlZmF1bHR9IFJlcGxheS5cbiAgICAgKi9cbiAgICBCdWlsZGVyR3JvdXAucHJvdG90eXBlLmdldEJ1aWxkZXIgPSBmdW5jdGlvbiAoekluZGV4LCBidWlsZGVyVHlwZSkge1xuICAgICAgICB2YXIgekluZGV4S2V5ID0gekluZGV4ICE9PSB1bmRlZmluZWQgPyB6SW5kZXgudG9TdHJpbmcoKSA6ICcwJztcbiAgICAgICAgdmFyIHJlcGxheXMgPSB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgICAgIGlmIChyZXBsYXlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcGxheXMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYnVpbGRlcnNCeVpJbmRleF9bekluZGV4S2V5XSA9IHJlcGxheXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcGxheSA9IHJlcGxheXNbYnVpbGRlclR5cGVdO1xuICAgICAgICBpZiAocmVwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEJBVENIX0NPTlNUUlVDVE9SU1tidWlsZGVyVHlwZV07XG4gICAgICAgICAgICByZXBsYXkgPSBuZXcgQ29uc3RydWN0b3IodGhpcy50b2xlcmFuY2VfLCB0aGlzLm1heEV4dGVudF8sIHRoaXMucmVzb2x1dGlvbl8sIHRoaXMucGl4ZWxSYXRpb18pO1xuICAgICAgICAgICAgcmVwbGF5c1tidWlsZGVyVHlwZV0gPSByZXBsYXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcGxheTtcbiAgICB9O1xuICAgIHJldHVybiBCdWlsZGVyR3JvdXA7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQnVpbGRlckdyb3VwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVpbGRlckdyb3VwLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0J1aWxkZXJUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIENJUkNMRTogJ0NpcmNsZScsXG4gICAgREVGQVVMVDogJ0RlZmF1bHQnLFxuICAgIElNQUdFOiAnSW1hZ2UnLFxuICAgIExJTkVfU1RSSU5HOiAnTGluZVN0cmluZycsXG4gICAgUE9MWUdPTjogJ1BvbHlnb24nLFxuICAgIFRFWFQ6ICdUZXh0Jyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWlsZGVyVHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3RleHRwYXRoXG4gKi9cbmltcG9ydCB7IGxlcnAgfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcbmltcG9ydCB7IHJvdGF0ZSB9IGZyb20gJy4vdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgUGF0aCB0byBwdXQgdGV4dCBvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgU3RhcnQgb2Zmc2V0IG9mIHRoZSBgZmxhdENvb3JkaW5hdGVzYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kIG9mZnNldCBvZiB0aGUgYGZsYXRDb29yZGluYXRlc2AuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQgdG8gcGxhY2Ugb24gdGhlIHBhdGguXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRNIG0gYWxvbmcgdGhlIHBhdGggd2hlcmUgdGhlIHRleHQgc3RhcnRzLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heEFuZ2xlIE1heCBhbmdsZSBiZXR3ZWVuIGFkamFjZW50IGNoYXJzIGluIHJhZGlhbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgVGhlIHByb2R1Y3Qgb2YgdGhlIHRleHQgc2NhbGUgYW5kIHRoZSBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgc3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBudW1iZXI+KTpudW1iZXJ9IG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCBNZWFzdXJlIGFuZCBjYWNoZSB0ZXh0IHdpZHRoLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgVGhlIGZvbnQuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIG51bWJlcj59IGNhY2hlIEEgY2FjaGUgb2YgbWVhc3VyZWQgd2lkdGhzLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uIHRvIGFwcGx5IHRvIHRoZSBmbGF0Q29vcmRpbmF0ZXMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGV4dCBuZWVkcyB0byBiZSByZXZlcnNlZC5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PCo+Pn0gVGhlIHJlc3VsdCBhcnJheSAob3IgbnVsbCBpZiBgbWF4QW5nbGVgIHdhc1xuICogZXhjZWVkZWQpLiBFbnRyaWVzIG9mIHRoZSBhcnJheSBhcmUgeCwgeSwgYW5jaG9yWCwgYW5nbGUsIGNodW5rLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhd1RleHRPblBhdGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0ZXh0LCBzdGFydE0sIG1heEFuZ2xlLCBzY2FsZSwgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLCBmb250LCBjYWNoZSwgcm90YXRpb24pIHtcbiAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdmFyIHgxID0gMDtcbiAgICB2YXIgeTEgPSAwO1xuICAgIHZhciBzZWdtZW50TGVuZ3RoID0gMDtcbiAgICB2YXIgc2VnbWVudE0gPSAwO1xuICAgIGZ1bmN0aW9uIGFkdmFuY2UoKSB7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICBzZWdtZW50TSArPSBzZWdtZW50TGVuZ3RoO1xuICAgICAgICBzZWdtZW50TGVuZ3RoID0gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG4gICAgfVxuICAgIGRvIHtcbiAgICAgICAgYWR2YW5jZSgpO1xuICAgIH0gd2hpbGUgKG9mZnNldCA8IGVuZCAtIHN0cmlkZSAmJiBzZWdtZW50TSArIHNlZ21lbnRMZW5ndGggPCBzdGFydE0pO1xuICAgIHZhciBpbnRlcnBvbGF0ZSA9IChzdGFydE0gLSBzZWdtZW50TSkgLyBzZWdtZW50TGVuZ3RoO1xuICAgIHZhciBiZWdpblggPSBsZXJwKHgxLCB4MiwgaW50ZXJwb2xhdGUpO1xuICAgIHZhciBiZWdpblkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuICAgIHZhciBzdGFydE9mZnNldCA9IG9mZnNldCAtIHN0cmlkZTtcbiAgICB2YXIgc3RhcnRMZW5ndGggPSBzZWdtZW50TTtcbiAgICB2YXIgZW5kTSA9IHN0YXJ0TSArIHNjYWxlICogbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoKGZvbnQsIHRleHQsIGNhY2hlKTtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kIC0gc3RyaWRlICYmIHNlZ21lbnRNICsgc2VnbWVudExlbmd0aCA8IGVuZE0pIHtcbiAgICAgICAgYWR2YW5jZSgpO1xuICAgIH1cbiAgICBpbnRlcnBvbGF0ZSA9IChlbmRNIC0gc2VnbWVudE0pIC8gc2VnbWVudExlbmd0aDtcbiAgICB2YXIgZW5kWCA9IGxlcnAoeDEsIHgyLCBpbnRlcnBvbGF0ZSk7XG4gICAgdmFyIGVuZFkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuICAgIC8vIEtlZXAgdGV4dCB1cHJpZ2h0XG4gICAgdmFyIHJldmVyc2U7XG4gICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgIHZhciBmbGF0ID0gW2JlZ2luWCwgYmVnaW5ZLCBlbmRYLCBlbmRZXTtcbiAgICAgICAgcm90YXRlKGZsYXQsIDAsIDQsIDIsIHJvdGF0aW9uLCBmbGF0LCBmbGF0KTtcbiAgICAgICAgcmV2ZXJzZSA9IGZsYXRbMF0gPiBmbGF0WzJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV2ZXJzZSA9IGJlZ2luWCA+IGVuZFg7XG4gICAgfVxuICAgIHZhciBQSSA9IE1hdGguUEk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzaW5nbGVTZWdtZW50ID0gc3RhcnRPZmZzZXQgKyBzdHJpZGUgPT09IG9mZnNldDtcbiAgICBvZmZzZXQgPSBzdGFydE9mZnNldDtcbiAgICBzZWdtZW50TGVuZ3RoID0gMDtcbiAgICBzZWdtZW50TSA9IHN0YXJ0TGVuZ3RoO1xuICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgLy8gQWxsIG9uIHRoZSBzYW1lIHNlZ21lbnRcbiAgICBpZiAoc2luZ2xlU2VnbWVudCkge1xuICAgICAgICBhZHZhbmNlKCk7XG4gICAgICAgIHZhciBwcmV2aW91c0FuZ2xlXzEgPSBNYXRoLmF0YW4yKHkyIC0geTEsIHgyIC0geDEpO1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgcHJldmlvdXNBbmdsZV8xICs9IHByZXZpb3VzQW5nbGVfMSA+IDAgPyAtUEkgOiBQSTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeCA9IChlbmRYICsgYmVnaW5YKSAvIDI7XG4gICAgICAgIHZhciB5ID0gKGVuZFkgKyBiZWdpblkpIC8gMjtcbiAgICAgICAgcmVzdWx0WzBdID0gW3gsIHksIChlbmRNIC0gc3RhcnRNKSAvIDIsIHByZXZpb3VzQW5nbGVfMSwgdGV4dF07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHZhciBwcmV2aW91c0FuZ2xlO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRleHQubGVuZ3RoOyBpIDwgaWk7KSB7XG4gICAgICAgIGFkdmFuY2UoKTtcbiAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIGFuZ2xlICs9IGFuZ2xlID4gMCA/IC1QSSA6IFBJO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2aW91c0FuZ2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGFuZ2xlIC0gcHJldmlvdXNBbmdsZTtcbiAgICAgICAgICAgIGRlbHRhICs9IGRlbHRhID4gUEkgPyAtMiAqIFBJIDogZGVsdGEgPCAtUEkgPyAyICogUEkgOiAwO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IG1heEFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNBbmdsZSA9IGFuZ2xlO1xuICAgICAgICB2YXIgaVN0YXJ0ID0gaTtcbiAgICAgICAgdmFyIGNoYXJMZW5ndGggPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHJldmVyc2UgPyBpaSAtIGkgLSAxIDogaTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBzY2FsZSAqIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0W2luZGV4XSwgY2FjaGUpO1xuICAgICAgICAgICAgaWYgKG9mZnNldCArIHN0cmlkZSA8IGVuZCAmJlxuICAgICAgICAgICAgICAgIHNlZ21lbnRNICsgc2VnbWVudExlbmd0aCA8IHN0YXJ0TSArIGNoYXJMZW5ndGggKyBsZW4gLyAyKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFyTGVuZ3RoICs9IGxlbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gaVN0YXJ0KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hhcnMgPSByZXZlcnNlXG4gICAgICAgICAgICA/IHRleHQuc3Vic3RyaW5nKGlpIC0gaVN0YXJ0LCBpaSAtIGkpXG4gICAgICAgICAgICA6IHRleHQuc3Vic3RyaW5nKGlTdGFydCwgaSk7XG4gICAgICAgIGludGVycG9sYXRlID0gKHN0YXJ0TSArIGNoYXJMZW5ndGggLyAyIC0gc2VnbWVudE0pIC8gc2VnbWVudExlbmd0aDtcbiAgICAgICAgdmFyIHggPSBsZXJwKHgxLCB4MiwgaW50ZXJwb2xhdGUpO1xuICAgICAgICB2YXIgeSA9IGxlcnAoeTEsIHkyLCBpbnRlcnBvbGF0ZSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKFt4LCB5LCBjaGFyTGVuZ3RoIC8gMiwgYW5nbGUsIGNoYXJzXSk7XG4gICAgICAgIHN0YXJ0TSArPSBjaGFyTGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHBhdGguanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9sZW5ndGhcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lU3RyaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICBmb3IgKHZhciBpID0gb2Zmc2V0ICsgc3RyaWRlOyBpIDwgZW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgIGxlbmd0aCArPSBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICB9XG4gICAgcmV0dXJuIGxlbmd0aDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gUGVyaW1ldGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0xlbmd0aChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB2YXIgcGVyaW1ldGVyID0gbGluZVN0cmluZ0xlbmd0aChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIHZhciBkeCA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdIC0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIGR5ID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdIC0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIHBlcmltZXRlciArPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIHJldHVybiBwZXJpbWV0ZXI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZW5ndGguanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvRXhlY3V0b3JcbiAqL1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IHsgVEVYVF9BTElHTiB9IGZyb20gJy4vVGV4dEJ1aWxkZXIuanMnO1xuaW1wb3J0IHsgV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgfSBmcm9tICcuLi8uLi9oYXMuanMnO1xuaW1wb3J0IHsgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgc2V0RnJvbUFycmF5IGFzIHRyYW5zZm9ybVNldEZyb21BcnJheSwgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgY3JlYXRlRW1wdHksIGNyZWF0ZU9yVXBkYXRlLCBpbnRlcnNlY3RzIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGRlZmF1bHRQYWRkaW5nLCBkZWZhdWx0VGV4dEJhc2VsaW5lLCBkcmF3SW1hZ2VPckxhYmVsLCB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0VGV4dEFsaWduLCBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgsIG1lYXN1cmVUZXh0SGVpZ2h0LCBtZWFzdXJlVGV4dFdpZHRocywgfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHsgZHJhd1RleHRPblBhdGggfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdGV4dHBhdGguanMnO1xuaW1wb3J0IHsgZXF1YWxzIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgbGluZVN0cmluZ0xlbmd0aCB9IGZyb20gJy4uLy4uL2dlb20vZmxhdC9sZW5ndGguanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtMkQgfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQkJveFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ZXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFlcbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWVcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBJbWFnZU9yTGFiZWxEaW1lbnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlWFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmF3SW1hZ2VXXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlSFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG9yaWdpblhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcmlnaW5ZXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IHNjYWxlXG4gKiBAcHJvcGVydHkge0JCb3h9IGRlY2x1dHRlckJveFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBjYW52YXNUcmFuc2Zvcm1cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7ezA6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgMTogbnVtYmVyLCAyOiBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50LCAzOiBJbWFnZU9yTGFiZWxEaW1lbnNpb25zLCA0OiBudW1iZXIsIDU6IEFycmF5PCo+LCA2OiBBcnJheTwqPn19IFJlcGxheUltYWdlT3JMYWJlbEFyZ3NcbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCk6IFR9IEZlYXR1cmVDYWxsYmFja1xuICovXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG52YXIgdG1wRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbi8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqL1xudmFyIHAxID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbnZhciBwMiA9IFtdO1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG52YXIgcDMgPSBbXTtcbi8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqL1xudmFyIHA0ID0gW107XG4vKipcbiAqIEBwYXJhbSB7UmVwbGF5SW1hZ2VPckxhYmVsQXJnc30gcmVwbGF5SW1hZ2VPckxhYmVsQXJncyBBcmd1bWVudHMgdG8gcmVwbGF5SW1hZ2VPckxhYmVsXG4gKiBAcmV0dXJuIHtCQm94fSBEZWNsdXR0ZXIgYmJveC5cbiAqL1xuZnVuY3Rpb24gZ2V0RGVjbHV0dGVyQm94KHJlcGxheUltYWdlT3JMYWJlbEFyZ3MpIHtcbiAgICByZXR1cm4gcmVwbGF5SW1hZ2VPckxhYmVsQXJnc1szXS5kZWNsdXR0ZXJCb3g7XG59XG52YXIgcnRsUmVnRXggPSBuZXcgUmVnRXhwKFxuLyogZXNsaW50LWRpc2FibGUgcHJldHRpZXIvcHJldHRpZXIgKi9cbidbJyArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDAwNTkxKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwMDhmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmIxZCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZkZmYpICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZlNzApICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDBmZWZjKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDEwODAwKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxMGZmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxZTgwMCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MWVmZmYpICtcbiAgICAnXSdcbi8qIGVzbGludC1lbmFibGUgcHJldHRpZXIvcHJldHRpZXIgKi9cbik7XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWxpZ24gQWxpZ25tZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBUZXh0IGFsaWdubWVudC5cbiAqL1xuZnVuY3Rpb24gaG9yaXpvbnRhbFRleHRBbGlnbih0ZXh0LCBhbGlnbikge1xuICAgIGlmICgoYWxpZ24gPT09ICdzdGFydCcgfHwgYWxpZ24gPT09ICdlbmQnKSAmJiAhcnRsUmVnRXgudGVzdCh0ZXh0KSkge1xuICAgICAgICBhbGlnbiA9IGFsaWduID09PSAnc3RhcnQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuIFRFWFRfQUxJR05bYWxpZ25dO1xufVxudmFyIEV4ZWN1dG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVybGFwcyBUaGUgcmVwbGF5IGNhbiBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSBpbnN0cnVjdGlvbnMgVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gcmVuZGVyQnVmZmVyIFJlbmRlciBidWZmZXIgKHdpZHRoL2hlaWdodCkgaW4gcGl4ZWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4ZWN1dG9yKHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIG92ZXJsYXBzLCBpbnN0cnVjdGlvbnMsIHJlbmRlckJ1ZmZlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3ZlcmxhcHMgPSBvdmVybGFwcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbGlnbkZpbGxfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucy5pbnN0cnVjdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IGluc3RydWN0aW9ucy5jb29yZGluYXRlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PG51bWJlcixpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPnxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVDYWNoZV8gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlckJ1ZmZlcl8gPSByZW5kZXJCdWZmZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWxsU3RhdGVzID0gaW5zdHJ1Y3Rpb25zLmZpbGxTdGF0ZXMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0cm9rZVN0YXRlcyA9IGluc3RydWN0aW9ucy5zdHJva2VTdGF0ZXMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0U3RhdGVzID0gaW5zdHJ1Y3Rpb25zLnRleHRTdGF0ZXMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgT2JqZWN0PHN0cmluZywgbnVtYmVyPj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoc18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYWJlbHNfID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRLZXkgVGV4dCBzdHlsZSBrZXkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGxLZXkgRmlsbCBzdHlsZSBrZXkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cm9rZUtleSBTdHJva2Ugc3R5bGUga2V5LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbH0gTGFiZWwuXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLmNyZWF0ZUxhYmVsID0gZnVuY3Rpb24gKHRleHQsIHRleHRLZXksIGZpbGxLZXksIHN0cm9rZUtleSkge1xuICAgICAgICB2YXIga2V5ID0gdGV4dCArIHRleHRLZXkgKyBmaWxsS2V5ICsgc3Ryb2tlS2V5O1xuICAgICAgICBpZiAodGhpcy5sYWJlbHNfW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsc19ba2V5XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Ryb2tlU3RhdGUgPSBzdHJva2VLZXkgPyB0aGlzLnN0cm9rZVN0YXRlc1tzdHJva2VLZXldIDogbnVsbDtcbiAgICAgICAgdmFyIGZpbGxTdGF0ZSA9IGZpbGxLZXkgPyB0aGlzLmZpbGxTdGF0ZXNbZmlsbEtleV0gOiBudWxsO1xuICAgICAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHNjYWxlID0gW1xuICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlWzBdICogcGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVsxXSAqIHBpeGVsUmF0aW8sXG4gICAgICAgIF07XG4gICAgICAgIHZhciBhbGlnbiA9IGhvcml6b250YWxUZXh0QWxpZ24odGV4dCwgdGV4dFN0YXRlLnRleHRBbGlnbiB8fCBkZWZhdWx0VGV4dEFsaWduKTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gc3Ryb2tlS2V5ICYmIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA/IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA6IDA7XG4gICAgICAgIHZhciBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICB2YXIgbnVtTGluZXMgPSBsaW5lcy5sZW5ndGg7XG4gICAgICAgIHZhciB3aWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZVRleHRXaWR0aHModGV4dFN0YXRlLmZvbnQsIGxpbmVzLCB3aWR0aHMpO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVUZXh0SGVpZ2h0KHRleHRTdGF0ZS5mb250KTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGxpbmVIZWlnaHQgKiBudW1MaW5lcztcbiAgICAgICAgdmFyIHJlbmRlcldpZHRoID0gd2lkdGggKyBzdHJva2VXaWR0aDtcbiAgICAgICAgdmFyIGNvbnRleHRJbnN0cnVjdGlvbnMgPSBbXTtcbiAgICAgICAgLy8gbWFrZSBjYW52YXMgMiBwaXhlbHMgd2lkZXIgdG8gYWNjb3VudCBmb3IgaXRhbGljIHRleHQgd2lkdGggbWVhc3VyZW1lbnQgZXJyb3JzXG4gICAgICAgIHZhciB3ID0gKHJlbmRlcldpZHRoICsgMikgKiBzY2FsZVswXTtcbiAgICAgICAgdmFyIGggPSAoaGVpZ2h0ICsgc3Ryb2tlV2lkdGgpICogc2NhbGVbMV07XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsfSAqL1xuICAgICAgICB2YXIgbGFiZWwgPSB7XG4gICAgICAgICAgICB3aWR0aDogdyA8IDAgPyBNYXRoLmZsb29yKHcpIDogTWF0aC5jZWlsKHcpLFxuICAgICAgICAgICAgaGVpZ2h0OiBoIDwgMCA/IE1hdGguZmxvb3IoaCkgOiBNYXRoLmNlaWwoaCksXG4gICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zOiBjb250ZXh0SW5zdHJ1Y3Rpb25zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc2NhbGVbMF0gIT0gMSB8fCBzY2FsZVsxXSAhPSAxKSB7XG4gICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3NjYWxlJywgc2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnZm9udCcsIHRleHRTdGF0ZS5mb250KTtcbiAgICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdzdHJva2VTdHlsZScsIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlKTtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZVdpZHRoJywgc3Ryb2tlV2lkdGgpO1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lQ2FwJywgc3Ryb2tlU3RhdGUubGluZUNhcCk7XG4gICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2xpbmVKb2luJywgc3Ryb2tlU3RhdGUubGluZUpvaW4pO1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdtaXRlckxpbWl0Jywgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIHZhciBDb250ZXh0ID0gV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgPyBPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgICAgICAgICBpZiAoQ29udGV4dC5wcm90b3R5cGUuc2V0TGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3NldExpbmVEYXNoJywgW3N0cm9rZVN0YXRlLmxpbmVEYXNoXSk7XG4gICAgICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lRGFzaE9mZnNldCcsIHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsbEtleSkge1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdmaWxsU3R5bGUnLCBmaWxsU3RhdGUuZmlsbFN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3RleHRCYXNlbGluZScsICdtaWRkbGUnKTtcbiAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCd0ZXh0QWxpZ24nLCAnY2VudGVyJyk7XG4gICAgICAgIHZhciBsZWZ0UmlnaHQgPSAwLjUgLSBhbGlnbjtcbiAgICAgICAgdmFyIHggPSBhbGlnbiAqIHJlbmRlcldpZHRoICsgbGVmdFJpZ2h0ICogc3Ryb2tlV2lkdGg7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBpZiAoc3Ryb2tlS2V5KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtTGluZXM7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnc3Ryb2tlVGV4dCcsIFtcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHggKyBsZWZ0UmlnaHQgKiB3aWR0aHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIDAuNSAqIChzdHJva2VXaWR0aCArIGxpbmVIZWlnaHQpICsgaSAqIGxpbmVIZWlnaHQsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGxLZXkpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1MaW5lczsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdmaWxsVGV4dCcsIFtcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHggKyBsZWZ0UmlnaHQgKiB3aWR0aHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIDAuNSAqIChzdHJva2VXaWR0aCArIGxpbmVIZWlnaHQpICsgaSAqIGxpbmVIZWlnaHQsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYWJlbHNfW2tleV0gPSBsYWJlbDtcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDEgMXN0IHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDIgMm5kIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDMgM3JkIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDQgNHRoIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBmaWxsSW5zdHJ1Y3Rpb24gRmlsbCBpbnN0cnVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBzdHJva2VJbnN0cnVjdGlvbiBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLnJlcGxheVRleHRCYWNrZ3JvdW5kXyA9IGZ1bmN0aW9uIChjb250ZXh0LCBwMSwgcDIsIHAzLCBwNCwgZmlsbEluc3RydWN0aW9uLCBzdHJva2VJbnN0cnVjdGlvbikge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUby5hcHBseShjb250ZXh0LCBwMSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAyKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDMpO1xuICAgICAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwNCk7XG4gICAgICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAxKTtcbiAgICAgICAgaWYgKGZpbGxJbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbGlnbkZpbGxfID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoZmlsbEluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cm9rZUluc3RydWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0cm9rZVN0eWxlXyhjb250ZXh0LCBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChzdHJva2VJbnN0cnVjdGlvbikpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2hlZXRXaWR0aCBXaWR0aCBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaGVldEhlaWdodCBIZWlnaHQgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJZIFkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmNob3JYIEFuY2hvciBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmNob3JZIEFuY2hvciBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5YIE9yaWdpbiBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5ZIE9yaWdpbiBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHRvIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcGFkZGluZyBQYWRkaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsbFN0cm9rZSBCYWNrZ3JvdW5kIGZpbGwgb3Igc3Ryb2tlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEByZXR1cm4ge0ltYWdlT3JMYWJlbERpbWVuc2lvbnN9IERpbWVuc2lvbnMgZm9yIHBvc2l0aW9uaW5nIGFuZCBkZWNsdXR0ZXJpbmcgdGhlIGltYWdlIG9yIGxhYmVsLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5jYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyA9IGZ1bmN0aW9uIChzaGVldFdpZHRoLCBzaGVldEhlaWdodCwgY2VudGVyWCwgY2VudGVyWSwgd2lkdGgsIGhlaWdodCwgYW5jaG9yWCwgYW5jaG9yWSwgb3JpZ2luWCwgb3JpZ2luWSwgcm90YXRpb24sIHNjYWxlLCBzbmFwVG9QaXhlbCwgcGFkZGluZywgZmlsbFN0cm9rZSwgZmVhdHVyZSkge1xuICAgICAgICBhbmNob3JYICo9IHNjYWxlWzBdO1xuICAgICAgICBhbmNob3JZICo9IHNjYWxlWzFdO1xuICAgICAgICB2YXIgeCA9IGNlbnRlclggLSBhbmNob3JYO1xuICAgICAgICB2YXIgeSA9IGNlbnRlclkgLSBhbmNob3JZO1xuICAgICAgICB2YXIgdyA9IHdpZHRoICsgb3JpZ2luWCA+IHNoZWV0V2lkdGggPyBzaGVldFdpZHRoIC0gb3JpZ2luWCA6IHdpZHRoO1xuICAgICAgICB2YXIgaCA9IGhlaWdodCArIG9yaWdpblkgPiBzaGVldEhlaWdodCA/IHNoZWV0SGVpZ2h0IC0gb3JpZ2luWSA6IGhlaWdodDtcbiAgICAgICAgdmFyIGJveFcgPSBwYWRkaW5nWzNdICsgdyAqIHNjYWxlWzBdICsgcGFkZGluZ1sxXTtcbiAgICAgICAgdmFyIGJveEggPSBwYWRkaW5nWzBdICsgaCAqIHNjYWxlWzFdICsgcGFkZGluZ1syXTtcbiAgICAgICAgdmFyIGJveFggPSB4IC0gcGFkZGluZ1szXTtcbiAgICAgICAgdmFyIGJveFkgPSB5IC0gcGFkZGluZ1swXTtcbiAgICAgICAgaWYgKGZpbGxTdHJva2UgfHwgcm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHAxWzBdID0gYm94WDtcbiAgICAgICAgICAgIHA0WzBdID0gYm94WDtcbiAgICAgICAgICAgIHAxWzFdID0gYm94WTtcbiAgICAgICAgICAgIHAyWzFdID0gYm94WTtcbiAgICAgICAgICAgIHAyWzBdID0gYm94WCArIGJveFc7XG4gICAgICAgICAgICBwM1swXSA9IHAyWzBdO1xuICAgICAgICAgICAgcDNbMV0gPSBib3hZICsgYm94SDtcbiAgICAgICAgICAgIHA0WzFdID0gcDNbMV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKGNyZWF0ZVRyYW5zZm9ybSgpLCBjZW50ZXJYLCBjZW50ZXJZLCAxLCAxLCByb3RhdGlvbiwgLWNlbnRlclgsIC1jZW50ZXJZKTtcbiAgICAgICAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDEpO1xuICAgICAgICAgICAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtLCBwMik7XG4gICAgICAgICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHAzKTtcbiAgICAgICAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDQpO1xuICAgICAgICAgICAgY3JlYXRlT3JVcGRhdGUoTWF0aC5taW4ocDFbMF0sIHAyWzBdLCBwM1swXSwgcDRbMF0pLCBNYXRoLm1pbihwMVsxXSwgcDJbMV0sIHAzWzFdLCBwNFsxXSksIE1hdGgubWF4KHAxWzBdLCBwMlswXSwgcDNbMF0sIHA0WzBdKSwgTWF0aC5tYXgocDFbMV0sIHAyWzFdLCBwM1sxXSwgcDRbMV0pLCB0bXBFeHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3JlYXRlT3JVcGRhdGUoTWF0aC5taW4oYm94WCwgYm94WCArIGJveFcpLCBNYXRoLm1pbihib3hZLCBib3hZICsgYm94SCksIE1hdGgubWF4KGJveFgsIGJveFggKyBib3hXKSwgTWF0aC5tYXgoYm94WSwgYm94WSArIGJveEgpLCB0bXBFeHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzbmFwVG9QaXhlbCkge1xuICAgICAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICAgICAgICB5ID0gTWF0aC5yb3VuZCh5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZHJhd0ltYWdlWDogeCxcbiAgICAgICAgICAgIGRyYXdJbWFnZVk6IHksXG4gICAgICAgICAgICBkcmF3SW1hZ2VXOiB3LFxuICAgICAgICAgICAgZHJhd0ltYWdlSDogaCxcbiAgICAgICAgICAgIG9yaWdpblg6IG9yaWdpblgsXG4gICAgICAgICAgICBvcmlnaW5ZOiBvcmlnaW5ZLFxuICAgICAgICAgICAgZGVjbHV0dGVyQm94OiB7XG4gICAgICAgICAgICAgICAgbWluWDogdG1wRXh0ZW50WzBdLFxuICAgICAgICAgICAgICAgIG1pblk6IHRtcEV4dGVudFsxXSxcbiAgICAgICAgICAgICAgICBtYXhYOiB0bXBFeHRlbnRbMl0sXG4gICAgICAgICAgICAgICAgbWF4WTogdG1wRXh0ZW50WzNdLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmZWF0dXJlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbnZhc1RyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBpbWFnZU9yTGFiZWwgSW1hZ2UuXG4gICAgICogQHBhcmFtIHtJbWFnZU9yTGFiZWxEaW1lbnNpb25zfSBkaW1lbnNpb25zIERpbWVuc2lvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBmaWxsSW5zdHJ1Y3Rpb24gRmlsbCBpbnN0cnVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBzdHJva2VJbnN0cnVjdGlvbiBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGltYWdlIG9yIGxhYmVsIHdhcyByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUucmVwbGF5SW1hZ2VPckxhYmVsXyA9IGZ1bmN0aW9uIChjb250ZXh0LCBjb250ZXh0U2NhbGUsIGltYWdlT3JMYWJlbCwgZGltZW5zaW9ucywgb3BhY2l0eSwgZmlsbEluc3RydWN0aW9uLCBzdHJva2VJbnN0cnVjdGlvbikge1xuICAgICAgICB2YXIgZmlsbFN0cm9rZSA9ICEhKGZpbGxJbnN0cnVjdGlvbiB8fCBzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgIHZhciBib3ggPSBkaW1lbnNpb25zLmRlY2x1dHRlckJveDtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICB2YXIgc3Ryb2tlUGFkZGluZyA9IHN0cm9rZUluc3RydWN0aW9uXG4gICAgICAgICAgICA/IChzdHJva2VJbnN0cnVjdGlvblsyXSAqIGRpbWVuc2lvbnMuc2NhbGVbMF0pIC8gMlxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB2YXIgaW50ZXJzZWN0cyA9IGJveC5taW5YIC0gc3Ryb2tlUGFkZGluZyA8PSBjYW52YXMud2lkdGggLyBjb250ZXh0U2NhbGUgJiZcbiAgICAgICAgICAgIGJveC5tYXhYICsgc3Ryb2tlUGFkZGluZyA+PSAwICYmXG4gICAgICAgICAgICBib3gubWluWSAtIHN0cm9rZVBhZGRpbmcgPD0gY2FudmFzLmhlaWdodCAvIGNvbnRleHRTY2FsZSAmJlxuICAgICAgICAgICAgYm94Lm1heFkgKyBzdHJva2VQYWRkaW5nID49IDA7XG4gICAgICAgIGlmIChpbnRlcnNlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZmlsbFN0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5VGV4dEJhY2tncm91bmRfKGNvbnRleHQsIHAxLCBwMiwgcDMsIHA0LCBcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoZmlsbEluc3RydWN0aW9uKSwgXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKHN0cm9rZUluc3RydWN0aW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkcmF3SW1hZ2VPckxhYmVsKGNvbnRleHQsIGRpbWVuc2lvbnMuY2FudmFzVHJhbnNmb3JtLCBvcGFjaXR5LCBpbWFnZU9yTGFiZWwsIGRpbWVuc2lvbnMub3JpZ2luWCwgZGltZW5zaW9ucy5vcmlnaW5ZLCBkaW1lbnNpb25zLmRyYXdJbWFnZVcsIGRpbWVuc2lvbnMuZHJhd0ltYWdlSCwgZGltZW5zaW9ucy5kcmF3SW1hZ2VYLCBkaW1lbnNpb25zLmRyYXdJbWFnZVksIGRpbWVuc2lvbnMuc2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5maWxsXyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLmFsaWduRmlsbF8pIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5fMSA9IGFwcGx5VHJhbnNmb3JtKHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fLCBbMCwgMF0pO1xuICAgICAgICAgICAgdmFyIHJlcGVhdFNpemUgPSA1MTIgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKG9yaWdpbl8xWzBdICUgcmVwZWF0U2l6ZSwgb3JpZ2luXzFbMV0gJSByZXBlYXRTaXplKTtcbiAgICAgICAgICAgIGNvbnRleHQucm90YXRlKHRoaXMudmlld1JvdGF0aW9uXyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGlmICh0aGlzLmFsaWduRmlsbF8pIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb24gSW5zdHJ1Y3Rpb24uXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLnNldFN0cm9rZVN0eWxlXyA9IGZ1bmN0aW9uIChjb250ZXh0LCBpbnN0cnVjdGlvbikge1xuICAgICAgICBjb250ZXh0WydzdHJva2VTdHlsZSddID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSAvKiogQHR5cGUge0NhbnZhc0xpbmVDYXB9ICovIChpbnN0cnVjdGlvblszXSk7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSAvKiogQHR5cGUge0NhbnZhc0xpbmVKb2lufSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzVdKTtcbiAgICAgICAgaWYgKGNvbnRleHQuc2V0TGluZURhc2gpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzddKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoaW5zdHJ1Y3Rpb25bNl0pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0S2V5IFRoZSBrZXkgb2YgdGhlIHRleHQgc3RhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cm9rZUtleSBUaGUga2V5IGZvciB0aGUgc3Ryb2tlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxsS2V5IFRoZSBrZXkgZm9yIHRoZSBmaWxsIHN0YXRlLlxuICAgICAqIEByZXR1cm4ge3tsYWJlbDogaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsLCBhbmNob3JYOiBudW1iZXIsIGFuY2hvclk6IG51bWJlcn19IFRoZSB0ZXh0IGltYWdlIGFuZCBpdHMgYW5jaG9yLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5kcmF3TGFiZWxXaXRoUG9pbnRQbGFjZW1lbnRfID0gZnVuY3Rpb24gKHRleHQsIHRleHRLZXksIHN0cm9rZUtleSwgZmlsbEtleSkge1xuICAgICAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldO1xuICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKHRleHQsIHRleHRLZXksIGZpbGxLZXksIHN0cm9rZUtleSk7XG4gICAgICAgIHZhciBzdHJva2VTdGF0ZSA9IHRoaXMuc3Ryb2tlU3RhdGVzW3N0cm9rZUtleV07XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgYWxpZ24gPSBob3Jpem9udGFsVGV4dEFsaWduKHRleHQsIHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnbik7XG4gICAgICAgIHZhciBiYXNlbGluZSA9IFRFWFRfQUxJR05bdGV4dFN0YXRlLnRleHRCYXNlbGluZSB8fCBkZWZhdWx0VGV4dEJhc2VsaW5lXTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gc3Ryb2tlU3RhdGUgJiYgc3Ryb2tlU3RhdGUubGluZVdpZHRoID8gc3Ryb2tlU3RhdGUubGluZVdpZHRoIDogMDtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSAyIHBpeGVscyB3ZSBhZGRlZCBpbiBjcmVhdGVMYWJlbCgpIGZvciB0aGUgYW5jaG9yXG4gICAgICAgIHZhciB3aWR0aCA9IGxhYmVsLndpZHRoIC8gcGl4ZWxSYXRpbyAtIDIgKiB0ZXh0U3RhdGUuc2NhbGVbMF07XG4gICAgICAgIHZhciBhbmNob3JYID0gYWxpZ24gKiB3aWR0aCArIDIgKiAoMC41IC0gYWxpZ24pICogc3Ryb2tlV2lkdGg7XG4gICAgICAgIHZhciBhbmNob3JZID0gKGJhc2VsaW5lICogbGFiZWwuaGVpZ2h0KSAvIHBpeGVsUmF0aW8gK1xuICAgICAgICAgICAgMiAqICgwLjUgLSBiYXNlbGluZSkgKiBzdHJva2VXaWR0aDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgICAgIGFuY2hvclg6IGFuY2hvclgsXG4gICAgICAgICAgICBhbmNob3JZOiBhbmNob3JZLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IGluc3RydWN0aW9ucyBJbnN0cnVjdGlvbnMgYXJyYXkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHBvaW50IHN5bWJvbHMgYW5kIHRleHQgdG8gaW50ZWdlciBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtGZWF0dXJlQ2FsbGJhY2s8VD49fSBvcHRfZmVhdHVyZUNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2hpdEV4dGVudCBPbmx5IGNoZWNrXG4gICAgICogICAgIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IHRoaXMgZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJUcmVlIERlY2x1dHRlciB0cmVlLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuZXhlY3V0ZV8gPSBmdW5jdGlvbiAoY29udGV4dCwgY29udGV4dFNjYWxlLCB0cmFuc2Zvcm0sIGluc3RydWN0aW9ucywgc25hcFRvUGl4ZWwsIG9wdF9mZWF0dXJlQ2FsbGJhY2ssIG9wdF9oaXRFeHRlbnQsIG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICAgICAgdmFyIHBpeGVsQ29vcmRpbmF0ZXM7XG4gICAgICAgIGlmICh0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfICYmIGVxdWFscyh0cmFuc2Zvcm0sIHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fKSkge1xuICAgICAgICAgICAgcGl4ZWxDb29yZGluYXRlcyA9IHRoaXMucGl4ZWxDb29yZGluYXRlc187XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGl4ZWxDb29yZGluYXRlc18pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQodGhpcy5jb29yZGluYXRlcywgMCwgdGhpcy5jb29yZGluYXRlcy5sZW5ndGgsIDIsIHRyYW5zZm9ybSwgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgICAgICAgICB0cmFuc2Zvcm1TZXRGcm9tQXJyYXkodGhpcy5yZW5kZXJlZFRyYW5zZm9ybV8sIHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGkgPSAwOyAvLyBpbnN0cnVjdGlvbiBpbmRleFxuICAgICAgICB2YXIgaWkgPSBpbnN0cnVjdGlvbnMubGVuZ3RoOyAvLyBlbmQgb2YgaW5zdHJ1Y3Rpb25zXG4gICAgICAgIHZhciBkID0gMDsgLy8gZGF0YSBpbmRleFxuICAgICAgICB2YXIgZGQ7IC8vIGVuZCBvZiBwZXItaW5zdHJ1Y3Rpb24gZGF0YVxuICAgICAgICB2YXIgYW5jaG9yWCwgYW5jaG9yWSwgcHJldlgsIHByZXZZLCByb3VuZFgsIHJvdW5kWSwgaW1hZ2UsIHRleHQsIHRleHRLZXksIHN0cm9rZUtleSwgZmlsbEtleTtcbiAgICAgICAgdmFyIHBlbmRpbmdGaWxsID0gMDtcbiAgICAgICAgdmFyIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICB2YXIgbGFzdEZpbGxJbnN0cnVjdGlvbiA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24gPSBudWxsO1xuICAgICAgICB2YXIgY29vcmRpbmF0ZUNhY2hlID0gdGhpcy5jb29yZGluYXRlQ2FjaGVfO1xuICAgICAgICB2YXIgdmlld1JvdGF0aW9uID0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgICAgICB2YXIgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSA9IE1hdGgucm91bmQoTWF0aC5hdGFuMigtdHJhbnNmb3JtWzFdLCB0cmFuc2Zvcm1bMF0pICogMWUxMikgLyAxZTEyO1xuICAgICAgICB2YXIgc3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3JlbmRlci5qc1wiKS5TdGF0ZX0gKi8gKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBwaXhlbFJhdGlvOiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICByZXNvbHV0aW9uOiB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICByb3RhdGlvbjogdmlld1JvdGF0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2hlbiB0aGUgYmF0Y2ggc2l6ZSBnZXRzIHRvbyBiaWcsIHBlcmZvcm1hbmNlIGRlY3JlYXNlcy4gMjAwIGlzIGEgZ29vZFxuICAgICAgICAvLyBiYWxhbmNlIGJldHdlZW4gYmF0Y2ggc2l6ZSBhbmQgbnVtYmVyIG9mIGZpbGwvc3Ryb2tlIGluc3RydWN0aW9ucy5cbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IHRoaXMuaW5zdHJ1Y3Rpb25zICE9IGluc3RydWN0aW9ucyB8fCB0aGlzLm92ZXJsYXBzID8gMCA6IDIwMDtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gZmVhdHVyZTtcbiAgICAgICAgdmFyIHgsIHksIGN1cnJlbnRHZW9tZXRyeTtcbiAgICAgICAgd2hpbGUgKGkgPCBpaSkge1xuICAgICAgICAgICAgdmFyIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW2ldO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vSW5zdHJ1Y3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGluc3RydWN0aW9uWzBdKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlk6XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHZW9tZXRyeSA9IGluc3RydWN0aW9uWzNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZlYXR1cmUuZ2V0R2VvbWV0cnkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wdF9oaXRFeHRlbnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWludGVyc2VjdHMob3B0X2hpdEV4dGVudCwgY3VycmVudEdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pICsgMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkJFR0lOX1BBVEg6XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nRmlsbCA+IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdGaWxsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSA+IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ0ZpbGwgJiYgIXBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2WCA9IE5hTjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZZID0gTmFOO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5DSVJDTEU6XG4gICAgICAgICAgICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgxID0gcGl4ZWxDb29yZGluYXRlc1tkXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkxID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTIgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR4ID0geDIgLSB4MTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MSArIHIsIHkxKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hcmMoeDEsIHkxLCByLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5DTE9TRV9QQVRIOlxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NOlxuICAgICAgICAgICAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGRkID0gaW5zdHJ1Y3Rpb25bMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBpbnN0cnVjdGlvbls0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gaW5zdHJ1Y3Rpb24ubGVuZ3RoID09IDYgPyBpbnN0cnVjdGlvbls1XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGkgaW4gY29vcmRpbmF0ZUNhY2hlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZUNhY2hlW2ldID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkcyA9IGNvb3JkaW5hdGVDYWNoZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbihwaXhlbENvb3JkaW5hdGVzLCBkLCBkZCwgMiwgY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkc1swXSA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHNbMV0gPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkcy5sZW5ndGggPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyKGNvb3Jkcywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRTpcbiAgICAgICAgICAgICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICBkZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIGluIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgICAgICAgICAgICAgICBhbmNob3JYID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNl0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3BhY2l0eSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bN10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOF0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luWSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm90YXRlV2l0aFZpZXcgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxMF0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzExXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfSAqLyAoaW5zdHJ1Y3Rpb25bMTJdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxM10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9ICovIChpbnN0cnVjdGlvblsxNF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWltYWdlICYmIGluc3RydWN0aW9uLmxlbmd0aCA+PSAxOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGxhYmVsIGltYWdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMThdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzE5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzIwXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsyMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsV2l0aEFuY2hvciA9IHRoaXMuZHJhd0xhYmVsV2l0aFBvaW50UGxhY2VtZW50Xyh0ZXh0LCB0ZXh0S2V5LCBzdHJva2VLZXksIGZpbGxLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBsYWJlbFdpdGhBbmNob3IubGFiZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvblszXSA9IGltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRYID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9IChsYWJlbFdpdGhBbmNob3IuYW5jaG9yWCAtIHRleHRPZmZzZXRYKSAqIHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uWzRdID0gYW5jaG9yWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0T2Zmc2V0WSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclkgPSAobGFiZWxXaXRoQW5jaG9yLmFuY2hvclkgLSB0ZXh0T2Zmc2V0WSkgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbls1XSA9IGFuY2hvclk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbls2XSA9IGhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvblsxM10gPSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnlXaWR0aHMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbi5sZW5ndGggPiAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzI0XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB2b2lkIDAsIGJhY2tncm91bmRGaWxsID0gdm9pZCAwLCBiYWNrZ3JvdW5kU3Ryb2tlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24ubGVuZ3RoID4gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmcgPSAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChpbnN0cnVjdGlvblsxNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbGwgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFN0cm9rZSA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGluc3RydWN0aW9uWzE3XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nID0gZGVmYXVsdFBhZGRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFN0cm9rZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3RhdGVXaXRoVmlldyAmJiB2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYW52YXMgaXMgZXhwZWN0ZWQgdG8gYmUgcm90YXRlZCB0byByZXZlcnNlIHZpZXcgcm90YXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbiArPSB2aWV3Um90YXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXJvdGF0ZVdpdGhWaWV3ICYmICF2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYW52YXMgaXMgbm90IHJvdGF0ZWQsIGltYWdlcyBuZWVkIHRvIGJlIHJvdGF0ZWQgYmFjayB0byBiZSBub3J0aC11cC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uIC09IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGhJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBkIDwgZGQ7IGQgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5V2lkdGhzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHNbd2lkdGhJbmRleCsrXSA8IHdpZHRoIC8gdGhpcy5waXhlbFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18oaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCwgcGl4ZWxDb29yZGluYXRlc1tkXSwgcGl4ZWxDb29yZGluYXRlc1tkICsgMV0sIHdpZHRoLCBoZWlnaHQsIGFuY2hvclgsIGFuY2hvclksIG9yaWdpblgsIG9yaWdpblksIHJvdGF0aW9uLCBzY2FsZSwgc25hcFRvUGl4ZWwsIHBhZGRpbmcsIGJhY2tncm91bmRGaWxsIHx8IGJhY2tncm91bmRTdHJva2UsIGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtSZXBsYXlJbWFnZU9yTGFiZWxBcmdzfSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRGaWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGxhc3RGaWxsSW5zdHJ1Y3Rpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU3Ryb2tlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGxhc3RTdHJva2VJbnN0cnVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZUFyZ3MgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VEZWNsdXR0ZXJCb3ggPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUgJiYgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSB0aGUgaW1hZ2UgZm9yIGFuIGltYWdlK3RleHQgY29tYmluYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHRbZF0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZW5kZXIgYW55dGhpbmcgZm9yIG5vdywgd2FpdCBmb3IgdGhlIHRleHQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUFyZ3MgPSBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0W2RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0W2RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGVjbHV0dGVyQm94ID0gZ2V0RGVjbHV0dGVyQm94KGltYWdlQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGltYWdlRGVjbHV0dGVyQm94KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhkaW1lbnNpb25zLmRlY2x1dHRlckJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZUFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSBpbWFnZSBhbmQgdGV4dCBmb3IgYW4gaW1hZ2UrdGV4dCBjb21iaW5hdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUuaW5zZXJ0KGltYWdlRGVjbHV0dGVyQm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIHRoZSBpbWFnZSBiZWZvcmUgd2UgcmVuZGVyIHRoZSB0ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCBpbWFnZUFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUuaW5zZXJ0KGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJlZ2luID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VsaW5lID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblszXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvdmVyZmxvdyA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgICAgICAgICAgICAgICAgICBmaWxsS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvbls1XSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhBbmdsZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNl0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVhc3VyZVBpeGVsUmF0aW8gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzddKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldFkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzhdKTtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvbls5XSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VXaWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTJdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBpeGVsUmF0aW9TY2FsZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRTY2FsZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVswXSAqIG1lYXN1cmVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlWzFdICogbWVhc3VyZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZWRXaWR0aHMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb250IGluIHRoaXMud2lkdGhzXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkV2lkdGhzID0gdGhpcy53aWR0aHNfW2ZvbnRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkV2lkdGhzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoc19bZm9udF0gPSBjYWNoZWRXaWR0aHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGhMZW5ndGggPSBsaW5lU3RyaW5nTGVuZ3RoKHBpeGVsQ29vcmRpbmF0ZXMsIGJlZ2luLCBlbmQsIDIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dExlbmd0aCA9IE1hdGguYWJzKHRleHRTY2FsZVswXSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoKGZvbnQsIHRleHQsIGNhY2hlZFdpZHRocyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVyZmxvdyB8fCB0ZXh0TGVuZ3RoIDw9IHBhdGhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0QWxpZ24gPSB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV0udGV4dEFsaWduO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0TSA9IChwYXRoTGVuZ3RoIC0gdGV4dExlbmd0aCkgKiBURVhUX0FMSUdOW3RleHRBbGlnbl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBkcmF3VGV4dE9uUGF0aChwaXhlbENvb3JkaW5hdGVzLCBiZWdpbiwgZW5kLCAyLCB0ZXh0LCBzdGFydE0sIG1heEFuZ2xlLCBNYXRoLmFicyh0ZXh0U2NhbGVbMF0pLCBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgsIGZvbnQsIGNhY2hlZFdpZHRocywgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSA/IDAgOiB0aGlzLnZpZXdSb3RhdGlvbl8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0NoYXJzOiBpZiAocGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PFJlcGxheUltYWdlT3JMYWJlbEFyZ3M+fSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXBsYXlJbWFnZU9yTGFiZWxBcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDAsIGNjID0gdm9pZCAwLCBjaGFycyA9IHZvaWQgMCwgbGFiZWwgPSB2b2lkIDAsIHBhcnQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGMgPSAwLCBjYyA9IHBhcnRzLmxlbmd0aDsgYyA8IGNjOyArK2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1tjXTsgLy8geCwgeSwgYW5jaG9yWCwgcm90YXRpb24sIGNodW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFycyA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocGFydFs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwoY2hhcnMsIHRleHRLZXksICcnLCBzdHJva2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzJdKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0ZXh0U2NhbGVbMF0gPCAwID8gLXN0cm9rZVdpZHRoIDogc3Ryb2tlV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yWSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKDAuNSAtIGJhc2VsaW5lKSAqIDIgKiBzdHJva2VXaWR0aCAqIHRleHRTY2FsZVsxXSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNjYWxlWzBdIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaW1lbnNpb25zID0gdGhpcy5jYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyhsYWJlbC53aWR0aCwgbGFiZWwuaGVpZ2h0LCBwYXJ0WzBdLCBwYXJ0WzFdLCBsYWJlbC53aWR0aCwgbGFiZWwuaGVpZ2h0LCBhbmNob3JYLCBhbmNob3JZLCAwLCAwLCBwYXJ0WzNdLCBwaXhlbFJhdGlvU2NhbGUsIGZhbHNlLCBkZWZhdWx0UGFkZGluZywgZmFsc2UsIGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUuY29sbGlkZXMoZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgZHJhd0NoYXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGF5SW1hZ2VPckxhYmVsQXJncy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGxLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjID0gMCwgY2MgPSBwYXJ0cy5sZW5ndGg7IGMgPCBjYzsgKytjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbY107IC8vIHgsIHksIGFuY2hvclgsIHJvdGF0aW9uLCBjaHVua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhcnRbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKGNoYXJzLCB0ZXh0S2V5LCBmaWxsS2V5LCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JYID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclkgPSBiYXNlbGluZSAqIGxhYmVsLmhlaWdodCAtIG9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18obGFiZWwud2lkdGgsIGxhYmVsLmhlaWdodCwgcGFydFswXSwgcGFydFsxXSwgbGFiZWwud2lkdGgsIGxhYmVsLmhlaWdodCwgYW5jaG9yWCwgYW5jaG9yWSwgMCwgMCwgcGFydFszXSwgcGl4ZWxSYXRpb1NjYWxlLCBmYWxzZSwgZGVmYXVsdFBhZGRpbmcsIGZhbHNlLCBmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGRyYXdDaGFycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxheUltYWdlT3JMYWJlbEFyZ3MucHVzaChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVjbHV0dGVyVHJlZS5sb2FkKHJlcGxheUltYWdlT3JMYWJlbEFyZ3MubWFwKGdldERlY2x1dHRlckJveCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwLCBpaV8xID0gcmVwbGF5SW1hZ2VPckxhYmVsQXJncy5sZW5ndGg7IGlfMSA8IGlpXzE7ICsraV8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCByZXBsYXlJbWFnZU9yTGFiZWxBcmdzW2lfMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZOlxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2ZlYXR1cmVDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9wdF9mZWF0dXJlQ2FsbGJhY2soZmVhdHVyZSwgY3VycmVudEdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5GSUxMOlxuICAgICAgICAgICAgICAgICAgICBpZiAoYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRmlsbCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uTU9WRV9UT19MSU5FX1RPOlxuICAgICAgICAgICAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGRkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgICAgICAgICAgIHggPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMV07XG4gICAgICAgICAgICAgICAgICAgIHJvdW5kWCA9ICh4ICsgMC41KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIHJvdW5kWSA9ICh5ICsgMC41KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3VuZFggIT09IHByZXZYIHx8IHJvdW5kWSAhPT0gcHJldlkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlggPSByb3VuZFg7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2WSA9IHJvdW5kWTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGQgKz0gMjsgZCA8IGRkOyBkICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91bmRYID0gKHggKyAwLjUpIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kWSA9ICh5ICsgMC41KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA9PSBkZCAtIDIgfHwgcm91bmRYICE9PSBwcmV2WCB8fCByb3VuZFkgIT09IHByZXZZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlggPSByb3VuZFg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlkgPSByb3VuZFk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFOlxuICAgICAgICAgICAgICAgICAgICBsYXN0RmlsbEluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxpZ25GaWxsXyA9IGluc3RydWN0aW9uWzJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0ZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFOlxuICAgICAgICAgICAgICAgICAgICBsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0cm9rZVN0eWxlXyhjb250ZXh0LCAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoaW5zdHJ1Y3Rpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNUUk9LRTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICsraTsgLy8gY29uc3VtZSB0aGUgaW5zdHJ1Y3Rpb24gYW55d2F5LCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwZW5kaW5nRmlsbCkge1xuICAgICAgICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSkge1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29udGV4dFNjYWxlIFNjYWxlIG9mIHRoZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHBvaW50IHN5bWJvbHMgYW5kIHRleHQgdG8gaW50ZWdlciBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCJyYnVzaFwiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlclRyZWUgRGVjbHV0dGVyIHRyZWUuXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoY29udGV4dCwgY29udGV4dFNjYWxlLCB0cmFuc2Zvcm0sIHZpZXdSb3RhdGlvbiwgc25hcFRvUGl4ZWwsIG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgdGhpcy5leGVjdXRlXyhjb250ZXh0LCBjb250ZXh0U2NhbGUsIHRyYW5zZm9ybSwgdGhpcy5pbnN0cnVjdGlvbnMsIHNuYXBUb1BpeGVsLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0X2RlY2x1dHRlclRyZWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZUNhbGxiYWNrPFQ+PX0gb3B0X2ZlYXR1cmVDYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9oaXRFeHRlbnQgT25seSBjaGVja1xuICAgICAqICAgICBmZWF0dXJlcyB0aGF0IGludGVyc2VjdCB0aGlzIGV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLmV4ZWN1dGVIaXREZXRlY3Rpb24gPSBmdW5jdGlvbiAoY29udGV4dCwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24sIG9wdF9mZWF0dXJlQ2FsbGJhY2ssIG9wdF9oaXRFeHRlbnQpIHtcbiAgICAgICAgdGhpcy52aWV3Um90YXRpb25fID0gdmlld1JvdGF0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlXyhjb250ZXh0LCAxLCB0cmFuc2Zvcm0sIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLCB0cnVlLCBvcHRfZmVhdHVyZUNhbGxiYWNrLCBvcHRfaGl0RXh0ZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBFeGVjdXRvcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBFeGVjdXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4ZWN1dG9yLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXBcbiAqL1xuaW1wb3J0IEJ1aWxkZXJUeXBlIGZyb20gJy4vQnVpbGRlclR5cGUuanMnO1xuaW1wb3J0IEV4ZWN1dG9yIGZyb20gJy4vRXhlY3V0b3IuanMnO1xuaW1wb3J0IHsgYnVmZmVyLCBjcmVhdGVFbXB0eSwgZXh0ZW5kQ29vcmRpbmF0ZSB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnLi4vLi4vb2JqLmpzJztcbmltcG9ydCB7IG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm0yRCB9IGZyb20gJy4uLy4uL2dlb20vZmxhdC90cmFuc2Zvcm0uanMnO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlLmpzXCIpLmRlZmF1bHQ+fVxuICovXG52YXIgT1JERVIgPSBbXG4gICAgQnVpbGRlclR5cGUuUE9MWUdPTixcbiAgICBCdWlsZGVyVHlwZS5DSVJDTEUsXG4gICAgQnVpbGRlclR5cGUuTElORV9TVFJJTkcsXG4gICAgQnVpbGRlclR5cGUuSU1BR0UsXG4gICAgQnVpbGRlclR5cGUuVEVYVCxcbiAgICBCdWlsZGVyVHlwZS5ERUZBVUxULFxuXTtcbnZhciBFeGVjdXRvckdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heCBleHRlbnQgZm9yIGNsaXBwaW5nLiBXaGVuIGFcbiAgICAgKiBgbWF4RXh0ZW50YCB3YXMgc2V0IG9uIHRoZSBCdWlsbGRlciBmb3IgdGhpcyBleGVjdXRvciBncm91cCwgdGhlIHNhbWUgYG1heEV4dGVudGBcbiAgICAgKiBzaG91bGQgYmUgc2V0IGhlcmUsIHVubGVzcyB0aGUgdGFyZ2V0IGNvbnRleHQgZG9lcyBub3QgZXhjZWV0IHRoYXQgZXh0ZW50ICh3aGljaFxuICAgICAqIGNhbiBiZSB0aGUgY2FzZSB3aGVuIHJlbmRlcmluZyB0byB0aWxlcykuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJsYXBzIFRoZSBleGVjdXRvciBncm91cCBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zPj59IGFsbEluc3RydWN0aW9uc1xuICAgICAqIFRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3JlbmRlckJ1ZmZlciBPcHRpb25hbCByZW5kZXJpbmcgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4ZWN1dG9yR3JvdXAobWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBvdmVybGFwcywgYWxsSW5zdHJ1Y3Rpb25zLCBvcHRfcmVuZGVyQnVmZmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4RXh0ZW50XyA9IG1heEV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdmVybGFwc18gPSBvdmVybGFwcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJCdWZmZXJfID0gb3B0X3JlbmRlckJ1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4vRXhlY3V0b3JcIikuZGVmYXVsdD4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leGVjdXRvcnNCeVpJbmRleF8gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkNvbnRleHRfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25UcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlRXhlY3V0b3JzXyhhbGxJbnN0cnVjdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5jbGlwID0gZnVuY3Rpb24gKGNvbnRleHQsIHRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgZmxhdENsaXBDb29yZHMgPSB0aGlzLmdldENsaXBDb29yZHModHJhbnNmb3JtKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oZmxhdENsaXBDb29yZHNbMF0sIGZsYXRDbGlwQ29vcmRzWzFdKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oZmxhdENsaXBDb29yZHNbMl0sIGZsYXRDbGlwQ29vcmRzWzNdKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oZmxhdENsaXBDb29yZHNbNF0sIGZsYXRDbGlwQ29vcmRzWzVdKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oZmxhdENsaXBDb29yZHNbNl0sIGZsYXRDbGlwQ29vcmRzWzddKTtcbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgZXhlY3V0b3JzIGFuZCBwb3B1bGF0ZSB0aGVtIHVzaW5nIHRoZSBwcm92aWRlZCBpbnN0cnVjdGlvbnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9ucz4+fSBhbGxJbnN0cnVjdGlvbnMgVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5jcmVhdGVFeGVjdXRvcnNfID0gZnVuY3Rpb24gKGFsbEluc3RydWN0aW9ucykge1xuICAgICAgICBmb3IgKHZhciB6SW5kZXggaW4gYWxsSW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICB2YXIgZXhlY3V0b3JzID0gdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4XTtcbiAgICAgICAgICAgIGlmIChleGVjdXRvcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGV4ZWN1dG9ycyA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleF0gPSBleGVjdXRvcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5zdHJ1Y3Rpb25CeVppbmRleCA9IGFsbEluc3RydWN0aW9uc1t6SW5kZXhdO1xuICAgICAgICAgICAgdmFyIHJlbmRlckJ1ZmZlciA9IFt0aGlzLnJlbmRlckJ1ZmZlcl8gfHwgMCwgdGhpcy5yZW5kZXJCdWZmZXJfIHx8IDBdO1xuICAgICAgICAgICAgZm9yICh2YXIgYnVpbGRlclR5cGUgaW4gaW5zdHJ1Y3Rpb25CeVppbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBpbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbkJ5WmluZGV4W2J1aWxkZXJUeXBlXTtcbiAgICAgICAgICAgICAgICBleGVjdXRvcnNbYnVpbGRlclR5cGVdID0gbmV3IEV4ZWN1dG9yKHRoaXMucmVzb2x1dGlvbl8sIHRoaXMucGl4ZWxSYXRpb18sIHRoaXMub3ZlcmxhcHNfLCBpbnN0cnVjdGlvbnMsIHJlbmRlckJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0Pn0gZXhlY3V0b3JzIEV4ZWN1dG9ycy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBIYXMgZXhlY3V0b3JzIG9mIHRoZSBwcm92aWRlZCB0eXBlcy5cbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5oYXNFeGVjdXRvcnMgPSBmdW5jdGlvbiAoZXhlY3V0b3JzKSB7XG4gICAgICAgIGZvciAodmFyIHpJbmRleCBpbiB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4Xykge1xuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZXMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZXhlY3V0b3JzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhlY3V0b3JzW2ldIGluIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCwgbnVtYmVyKTogVH0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+fSBkZWNsdXR0ZXJlZEZlYXR1cmVzIERlY2x1dHRlcmVkIGZlYXR1cmVzLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgZGVjbHV0dGVyZWRGZWF0dXJlcykge1xuICAgICAgICBoaXRUb2xlcmFuY2UgPSBNYXRoLnJvdW5kKGhpdFRvbGVyYW5jZSk7XG4gICAgICAgIHZhciBjb250ZXh0U2l6ZSA9IGhpdFRvbGVyYW5jZSAqIDIgKyAxO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybSh0aGlzLmhpdERldGVjdGlvblRyYW5zZm9ybV8sIGhpdFRvbGVyYW5jZSArIDAuNSwgaGl0VG9sZXJhbmNlICsgMC41LCAxIC8gcmVzb2x1dGlvbiwgLTEgLyByZXNvbHV0aW9uLCAtcm90YXRpb24sIC1jb29yZGluYXRlWzBdLCAtY29vcmRpbmF0ZVsxXSk7XG4gICAgICAgIHZhciBuZXdDb250ZXh0ID0gIXRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF87XG4gICAgICAgIGlmIChuZXdDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkNvbnRleHRfID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmhpdERldGVjdGlvbkNvbnRleHRfO1xuICAgICAgICBpZiAoY29udGV4dC5jYW52YXMud2lkdGggIT09IGNvbnRleHRTaXplIHx8XG4gICAgICAgICAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgIT09IGNvbnRleHRTaXplKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNhbnZhcy53aWR0aCA9IGNvbnRleHRTaXplO1xuICAgICAgICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gY29udGV4dFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW5ld0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGhpdEV4dGVudDtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyQnVmZmVyXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoaXRFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShoaXRFeHRlbnQsIGNvb3JkaW5hdGUpO1xuICAgICAgICAgICAgYnVmZmVyKGhpdEV4dGVudCwgcmVzb2x1dGlvbiAqICh0aGlzLnJlbmRlckJ1ZmZlcl8gKyBoaXRUb2xlcmFuY2UpLCBoaXRFeHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleGVzID0gZ2V0UGl4ZWxJbmRleEFycmF5KGhpdFRvbGVyYW5jZSk7XG4gICAgICAgIHZhciBidWlsZGVyVHlwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmZWF0dXJlQ2FsbGJhY2soZmVhdHVyZSwgZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjb250ZXh0U2l6ZSwgY29udGV4dFNpemUpXG4gICAgICAgICAgICAgICAgLmRhdGE7XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwLCBpaSA9IGluZGV4ZXMubGVuZ3RoOyBpXzEgPCBpaTsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VEYXRhW2luZGV4ZXNbaV8xXV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGVjbHV0dGVyZWRGZWF0dXJlcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1aWxkZXJUeXBlICE9PSBCdWlsZGVyVHlwZS5JTUFHRSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJUeXBlICE9PSBCdWlsZGVyVHlwZS5URVhUKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjbHV0dGVyZWRGZWF0dXJlcy5pbmRleE9mKGZlYXR1cmUpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IChpbmRleGVzW2lfMV0gLSAzKSAvIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGhpdFRvbGVyYW5jZSAtIChpZHggJSBjb250ZXh0U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IGhpdFRvbGVyYW5jZSAtICgoaWR4IC8gY29udGV4dFNpemUpIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0XzEgPSBjYWxsYmFjayhmZWF0dXJlLCBnZW9tZXRyeSwgeCAqIHggKyB5ICogeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY29udGV4dFNpemUsIGNvbnRleHRTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgICAgIHZhciB6cyA9IE9iamVjdC5rZXlzKHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgenMuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgICAgICAgdmFyIGksIGosIGV4ZWN1dG9ycywgZXhlY3V0b3IsIHJlc3VsdDtcbiAgICAgICAgZm9yIChpID0genMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciB6SW5kZXhLZXkgPSB6c1tpXS50b1N0cmluZygpO1xuICAgICAgICAgICAgZXhlY3V0b3JzID0gdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICAgICAgICAgIGZvciAoaiA9IE9SREVSLmxlbmd0aCAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlclR5cGUgPSBPUkRFUltqXTtcbiAgICAgICAgICAgICAgICBleGVjdXRvciA9IGV4ZWN1dG9yc1tidWlsZGVyVHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKGV4ZWN1dG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZXhlY3V0b3IuZXhlY3V0ZUhpdERldGVjdGlvbihjb250ZXh0LCB0cmFuc2Zvcm0sIHJvdGF0aW9uLCBmZWF0dXJlQ2FsbGJhY2ssIGhpdEV4dGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBDbGlwIGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmdldENsaXBDb29yZHMgPSBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBtYXhFeHRlbnQgPSB0aGlzLm1heEV4dGVudF87XG4gICAgICAgIGlmICghbWF4RXh0ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluWCA9IG1heEV4dGVudFswXTtcbiAgICAgICAgdmFyIG1pblkgPSBtYXhFeHRlbnRbMV07XG4gICAgICAgIHZhciBtYXhYID0gbWF4RXh0ZW50WzJdO1xuICAgICAgICB2YXIgbWF4WSA9IG1heEV4dGVudFszXTtcbiAgICAgICAgdmFyIGZsYXRDbGlwQ29vcmRzID0gW21pblgsIG1pblksIG1pblgsIG1heFksIG1heFgsIG1heFksIG1heFgsIG1pblldO1xuICAgICAgICB0cmFuc2Zvcm0yRChmbGF0Q2xpcENvb3JkcywgMCwgOCwgMiwgdHJhbnNmb3JtLCBmbGF0Q2xpcENvb3Jkcyk7XG4gICAgICAgIHJldHVybiBmbGF0Q2xpcENvb3JkcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpc0VtcHR5KHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXN0IHRvIGludGVnZXIgcGl4ZWwuXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlLmpzXCIpLmRlZmF1bHQ+PX0gb3B0X2J1aWxkZXJUeXBlcyBPcmRlcmVkIHJlcGxheSB0eXBlcyB0byByZXBsYXkuXG4gICAgICogICAgIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvcmVwbGF5fk9SREVSfVxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJUcmVlIERlY2x1dHRlciB0cmVlLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yR3JvdXAucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoY29udGV4dCwgY29udGV4dFNjYWxlLCB0cmFuc2Zvcm0sIHZpZXdSb3RhdGlvbiwgc25hcFRvUGl4ZWwsIG9wdF9idWlsZGVyVHlwZXMsIG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICAgICAgdmFyIHpzID0gT2JqZWN0LmtleXModGhpcy5leGVjdXRvcnNCeVpJbmRleF8pLm1hcChOdW1iZXIpO1xuICAgICAgICB6cy5zb3J0KG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24pO1xuICAgICAgICAvLyBzZXR1cCBjbGlwcGluZyBzbyB0aGF0IHRoZSBwYXJ0cyBvZiBvdmVyLXNpbXBsaWZpZWQgZ2VvbWV0cmllcyBhcmUgbm90XG4gICAgICAgIC8vIHZpc2libGUgb3V0c2lkZSB0aGUgY3VycmVudCBleHRlbnQgd2hlbiBwYW5uaW5nXG4gICAgICAgIGlmICh0aGlzLm1heEV4dGVudF8pIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGlwKGNvbnRleHQsIHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1aWxkZXJUeXBlcyA9IG9wdF9idWlsZGVyVHlwZXMgPyBvcHRfYnVpbGRlclR5cGVzIDogT1JERVI7XG4gICAgICAgIHZhciBpLCBpaSwgaiwgamosIHJlcGxheXMsIHJlcGxheTtcbiAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICB6cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSB6cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgekluZGV4S2V5ID0genNbaV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHJlcGxheXMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhLZXldO1xuICAgICAgICAgICAgZm9yIChqID0gMCwgamogPSBidWlsZGVyVHlwZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgIHZhciBidWlsZGVyVHlwZSA9IGJ1aWxkZXJUeXBlc1tqXTtcbiAgICAgICAgICAgICAgICByZXBsYXkgPSByZXBsYXlzW2J1aWxkZXJUeXBlXTtcbiAgICAgICAgICAgICAgICBpZiAocmVwbGF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGF5LmV4ZWN1dGUoY29udGV4dCwgY29udGV4dFNjYWxlLCB0cmFuc2Zvcm0sIHZpZXdSb3RhdGlvbiwgc25hcFRvUGl4ZWwsIG9wdF9kZWNsdXR0ZXJUcmVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4RXh0ZW50Xykge1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFeGVjdXRvckdyb3VwO1xufSgpKTtcbi8qKlxuICogVGhpcyBjYWNoZSBpcyB1c2VkIHRvIHN0b3JlIGFycmF5cyBvZiBpbmRleGVzIGZvciBjYWxjdWxhdGVkIHBpeGVsIGNpcmNsZXNcbiAqIHRvIGluY3JlYXNlIHBlcmZvcm1hbmNlLlxuICogSXQgaXMgYSBzdGF0aWMgcHJvcGVydHkgdG8gYWxsb3cgZWFjaCBSZXBsYXlncm91cCB0byBhY2Nlc3MgaXQuXG4gKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgQXJyYXk8bnVtYmVyPj59XG4gKi9cbnZhciBjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZSA9IHt9O1xuLyoqXG4gKiBUaGlzIG1ldGhvZHMgY3JlYXRlcyBhbiBhcnJheSB3aXRoIGluZGV4ZXMgb2YgYWxsIHBpeGVscyB3aXRoaW4gYSBjaXJjbGUsXG4gKiBvcmRlcmVkIGJ5IGhvdyBjbG9zZSB0aGV5IGFyZSB0byB0aGUgY2VudGVyLlxuICogQSBjYWNoZSBpcyB1c2VkIHRvIGluY3JlYXNlIHBlcmZvcm1hbmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBSYWRpdXMuXG4gKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gQW4gYXJyYXkgd2l0aCBpbmRleGVzIHdpdGhpbiBhIGNpcmNsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBpeGVsSW5kZXhBcnJheShyYWRpdXMpIHtcbiAgICBpZiAoY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZVtyYWRpdXNdO1xuICAgIH1cbiAgICB2YXIgc2l6ZSA9IHJhZGl1cyAqIDIgKyAxO1xuICAgIHZhciBtYXhEaXN0YW5jZVNxID0gcmFkaXVzICogcmFkaXVzO1xuICAgIHZhciBkaXN0YW5jZXMgPSBuZXcgQXJyYXkobWF4RGlzdGFuY2VTcSArIDEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHJhZGl1czsgKytpKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDw9IHJhZGl1czsgKytqKSB7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2VTcSA9IGkgKiBpICsgaiAqIGo7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2VTcSA+IG1heERpc3RhbmNlU3EpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IGRpc3RhbmNlc1tkaXN0YW5jZVNxXTtcbiAgICAgICAgICAgIGlmICghZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IFtdO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlc1tkaXN0YW5jZVNxXSA9IGRpc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyArIGkpICogc2l6ZSArIChyYWRpdXMgKyBqKSkgKiA0ICsgMyk7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZS5wdXNoKCgocmFkaXVzIC0gaSkgKiBzaXplICsgKHJhZGl1cyArIGopKSAqIDQgKyAzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgKyBpKSAqIHNpemUgKyAocmFkaXVzIC0gaikpICogNCArIDMpO1xuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZS5wdXNoKCgocmFkaXVzIC0gaSkgKiBzaXplICsgKHJhZGl1cyAtIGopKSAqIDQgKyAzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHBpeGVsSW5kZXggPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkaXN0YW5jZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAoZGlzdGFuY2VzW2ldKSB7XG4gICAgICAgICAgICBwaXhlbEluZGV4LnB1c2guYXBwbHkocGl4ZWxJbmRleCwgZGlzdGFuY2VzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZVtyYWRpdXNdID0gcGl4ZWxJbmRleDtcbiAgICByZXR1cm4gcGl4ZWxJbmRleDtcbn1cbmV4cG9ydCBkZWZhdWx0IEV4ZWN1dG9yR3JvdXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeGVjdXRvckdyb3VwLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZVxuICovXG4vLyBGSVhNRSB0ZXN0LCBlc3BlY2lhbGx5IHBvbHlnb25zIHdpdGggaG9sZXMgYW5kIG11bHRpcG9seWdvbnNcbi8vIEZJWE1FIG5lZWQgdG8gaGFuZGxlIGxhcmdlIHRoaWNrIGZlYXR1cmVzICh3aGVyZSBwaXhlbCBzaXplIG1hdHRlcnMpXG4vLyBGSVhNRSBhZGQgb2Zmc2V0IGFuZCBlbmQgdG8gb2wvZ2VvbS9mbGF0L3RyYW5zZm9ybX50cmFuc2Zvcm0yRD9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uLy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBWZWN0b3JDb250ZXh0IGZyb20gJy4uL1ZlY3RvckNvbnRleHQuanMnO1xuaW1wb3J0IHsgYXNDb2xvckxpa2UgfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHsgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLCBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0Rm9udCwgZGVmYXVsdExpbmVDYXAsIGRlZmF1bHRMaW5lRGFzaCwgZGVmYXVsdExpbmVEYXNoT2Zmc2V0LCBkZWZhdWx0TGluZUpvaW4sIGRlZmF1bHRMaW5lV2lkdGgsIGRlZmF1bHRNaXRlckxpbWl0LCBkZWZhdWx0U3Ryb2tlU3R5bGUsIGRlZmF1bHRUZXh0QWxpZ24sIGRlZmF1bHRUZXh0QmFzZWxpbmUsIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGludGVyc2VjdHMgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtMkQgfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybUdlb20yRCB9IGZyb20gJy4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbmNyZXRlIHN1YmNsYXNzIG9mIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL1ZlY3RvckNvbnRleHR9IHRoYXQgaW1wbGVtZW50c1xuICogZGlyZWN0IHJlbmRlcmluZyBvZiBmZWF0dXJlcyBhbmQgZ2VvbWV0cmllcyB0byBhbiBIVE1MNSBDYW52YXMgY29udGV4dC5cbiAqIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGFyZSBjcmVhdGVkIGludGVybmFsbHkgYnkgdGhlIGxpYnJhcnkgYW5kXG4gKiBwcm92aWRlZCB0byBhcHBsaWNhdGlvbiBjb2RlIGFzIHZlY3RvckNvbnRleHQgbWVtYmVyIG9mIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnR9IG9iamVjdCBhc3NvY2lhdGVkIHdpdGggcG9zdGNvbXBvc2UsIHByZWNvbXBvc2UgYW5kXG4gKiByZW5kZXIgZXZlbnRzIGVtaXR0ZWQgYnkgbGF5ZXJzIGFuZCBtYXBzLlxuICovXG52YXIgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfc3F1YXJlZFRvbGVyYW5jZSBPcHRpb25hbCBzcXVhcmVkIHRvbGVyYW5jZSBmb3Igc2ltcGxpZmljYXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9uPX0gb3B0X3VzZXJUcmFuc2Zvcm0gVHJhbnNmb3JtIGZyb20gdXNlciB0byB2aWV3IHByb2plY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIoY29udGV4dCwgcGl4ZWxSYXRpbywgZXh0ZW50LCB0cmFuc2Zvcm0sIHZpZXdSb3RhdGlvbiwgb3B0X3NxdWFyZWRUb2xlcmFuY2UsIG9wdF91c2VyVHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dF8gPSBjb250ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW50XyA9IGV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtXyA9IHRyYW5zZm9ybTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3Um90YXRpb25fID0gdmlld1JvdGF0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNxdWFyZWRUb2xlcmFuY2VfID0gb3B0X3NxdWFyZWRUb2xlcmFuY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVzZXJUcmFuc2Zvcm1fID0gb3B0X3VzZXJUcmFuc2Zvcm07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dFRleHRTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsbFN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZUFuY2hvclhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZUFuY2hvcllfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZUhlaWdodF8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlT3BhY2l0eV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlT3JpZ2luWF8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlT3JpZ2luWV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3XyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlUm90YXRpb25fID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVNjYWxlXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVdpZHRoXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dF8gPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0T2Zmc2V0WF8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRPZmZzZXRZXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0Um90YXRpb25fID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0U2NhbGVfID0gWzAsIDBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbENvb3JkaW5hdGVzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50bXBMb2NhbFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdJbWFnZXNfID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgICAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm0yRChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCAyLCB0aGlzLnRyYW5zZm9ybV8sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciBsb2NhbFRyYW5zZm9ybSA9IHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fO1xuICAgICAgICB2YXIgYWxwaGEgPSBjb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgICAgICBpZiAodGhpcy5pbWFnZU9wYWNpdHlfICE9IDEpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYSAqIHRoaXMuaW1hZ2VPcGFjaXR5XztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLmltYWdlUm90YXRpb25fO1xuICAgICAgICBpZiAodGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3Xykge1xuICAgICAgICAgICAgcm90YXRpb24gKz0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBpeGVsQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHggPSBwaXhlbENvb3JkaW5hdGVzW2ldIC0gdGhpcy5pbWFnZUFuY2hvclhfO1xuICAgICAgICAgICAgdmFyIHkgPSBwaXhlbENvb3JkaW5hdGVzW2kgKyAxXSAtIHRoaXMuaW1hZ2VBbmNob3JZXztcbiAgICAgICAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VTY2FsZV9bMF0gIT0gMSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VTY2FsZV9bMV0gIT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXJYID0geCArIHRoaXMuaW1hZ2VBbmNob3JYXztcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyWSA9IHkgKyB0aGlzLmltYWdlQW5jaG9yWV87XG4gICAgICAgICAgICAgICAgY29tcG9zZVRyYW5zZm9ybShsb2NhbFRyYW5zZm9ybSwgY2VudGVyWCwgY2VudGVyWSwgMSwgMSwgcm90YXRpb24sIC1jZW50ZXJYLCAtY2VudGVyWSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy5pbWFnZVNjYWxlX1swXSwgdGhpcy5pbWFnZVNjYWxlX1sxXSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIHRoaXMuaW1hZ2VPcmlnaW5YXywgdGhpcy5pbWFnZU9yaWdpbllfLCB0aGlzLmltYWdlV2lkdGhfLCB0aGlzLmltYWdlSGVpZ2h0XywgLXRoaXMuaW1hZ2VBbmNob3JYXywgLXRoaXMuaW1hZ2VBbmNob3JZXywgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIHRoaXMuaW1hZ2VPcmlnaW5YXywgdGhpcy5pbWFnZU9yaWdpbllfLCB0aGlzLmltYWdlV2lkdGhfLCB0aGlzLmltYWdlSGVpZ2h0XywgeCwgeSwgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmltYWdlT3BhY2l0eV8gIT0gMSkge1xuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdUZXh0XyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRleHRTdGF0ZV8gfHwgdGhpcy50ZXh0XyA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsbFN0YXRlXyh0aGlzLnRleHRGaWxsU3RhdGVfKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0U3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy50ZXh0U3Ryb2tlU3RhdGVfKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldENvbnRleHRUZXh0U3RhdGVfKHRoaXMudGV4dFN0YXRlXyk7XG4gICAgICAgIHZhciBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0aGlzLnRyYW5zZm9ybV8sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMudGV4dFJvdGF0aW9uXztcbiAgICAgICAgaWYgKHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3Xykge1xuICAgICAgICAgICAgcm90YXRpb24gKz0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcGl4ZWxDb29yZGluYXRlc1tvZmZzZXRdICsgdGhpcy50ZXh0T2Zmc2V0WF87XG4gICAgICAgICAgICB2YXIgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gKyB0aGlzLnRleHRPZmZzZXRZXztcbiAgICAgICAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCB8fFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFNjYWxlX1swXSAhPSAxIHx8XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0U2NhbGVfWzFdICE9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxUcmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fLCB4LCB5LCAxLCAxLCByb3RhdGlvbiwgLXgsIC15KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCBsb2NhbFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnRleHRTY2FsZV9bMF0sIHRoaXMudGV4dFNjYWxlX1sxXSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy50ZXh0XywgMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHRGaWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy50ZXh0XywgMCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy50ZXh0XywgeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHRGaWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy50ZXh0XywgeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2UgQ2xvc2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLm1vdmVUb0xpbmVUb18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjbG9zZSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCB0aGlzLnRyYW5zZm9ybV8sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwaXhlbENvb3JkaW5hdGVzWzBdLCBwaXhlbENvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHBpeGVsQ29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICBpZiAoY2xvc2UpIHtcbiAgICAgICAgICAgIGxlbmd0aCAtPSAyO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgbGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBpeGVsQ29vcmRpbmF0ZXNbaV0sIHBpeGVsQ29vcmRpbmF0ZXNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xvc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd1JpbmdzXyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5tb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBjaXJjbGUgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgICAqIHRoZSBjdXJyZW50IGZpbGwgYW5kIHN0cm9rZSBzdHlsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXyB8fCB0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybUdlb20yRChnZW9tZXRyeSwgdGhpcy50cmFuc2Zvcm1fLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgICAgIHZhciBkeCA9IHBpeGVsQ29vcmRpbmF0ZXNbMl0gLSBwaXhlbENvb3JkaW5hdGVzWzBdO1xuICAgICAgICAgICAgdmFyIGR5ID0gcGl4ZWxDb29yZGluYXRlc1szXSAtIHBpeGVsQ29vcmRpbmF0ZXNbMV07XG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmFyYyhwaXhlbENvb3JkaW5hdGVzWzBdLCBwaXhlbENvb3JkaW5hdGVzWzFdLCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhnZW9tZXRyeS5nZXRDZW50ZXIoKSwgMCwgMiwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLiAgTm90ZSB0aGF0IHNpbmNlIHRoaXMgaXMgYW4gaW1tZWRpYXRlIHJlbmRlcmluZyBBUEksXG4gICAgICogYW55IGB6SW5kZXhgIG9uIHRoZSBwcm92aWRlZCBzdHlsZSB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZShzdHlsZS5nZXRGaWxsKCksIHN0eWxlLmdldFN0cm9rZSgpKTtcbiAgICAgICAgdGhpcy5zZXRJbWFnZVN0eWxlKHN0eWxlLmdldEltYWdlKCkpO1xuICAgICAgICB0aGlzLnNldFRleHRTdHlsZShzdHlsZS5nZXRUZXh0KCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtXyA9IHRyYW5zZm9ybTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIENhbGxcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlI3NldFN0eWxlfSBmaXJzdCB0byBzZXQgdGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5IHRvIHJlbmRlci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdQb2ludChcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORzpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdMaW5lU3RyaW5nKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdQb2x5Z29uKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2ludChcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd011bHRpTGluZVN0cmluZyhcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTjpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNdWx0aVBvbHlnb24oXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT046XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3R2VvbWV0cnlDb2xsZWN0aW9uKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5DSVJDTEU6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBmZWF0dXJlIGludG8gdGhlIGNhbnZhcy4gIE5vdGUgdGhhdCBhbnkgYHpJbmRleGAgb24gdGhlIHByb3ZpZGVkXG4gICAgICogc3R5bGUgd2lsbCBiZSBpZ25vcmVkIC0gZmVhdHVyZXMgYXJlIHJlbmRlcmVkIGltbWVkaWF0ZWx5IGluIHRoZSBvcmRlciB0aGF0XG4gICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkLiAgSWYgeW91IG5lZWQgYHpJbmRleGAgc3VwcG9ydCwgeW91IHNob3VsZCBiZSB1c2luZyBhblxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvVmVjdG9yflZlY3RvckxheWVyfSBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0ZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSwgc3R5bGUpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gc3R5bGUuZ2V0R2VvbWV0cnlGdW5jdGlvbigpKGZlYXR1cmUpO1xuICAgICAgICBpZiAoIWdlb21ldHJ5IHx8ICFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdHlsZShzdHlsZSk7XG4gICAgICAgIHRoaXMuZHJhd0dlb21ldHJ5KGdlb21ldHJ5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIEdlb21ldHJ5Q29sbGVjdGlvbiB0byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlcyBhcHByb3ByaWF0ZSBmb3IgZWFjaCBnZW9tZXRyeSBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICB2YXIgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0dlb21ldHJ5KGdlb21ldHJpZXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBQb2ludCBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3UG9pbnQgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sIHRoaXMudXNlclRyYW5zZm9ybV8pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VfKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgTXVsdGlQb2ludCBnZW9tZXRyeSAgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IE11bHRpUG9pbnQgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aVBvaW50ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sIHRoaXMudXNlclRyYW5zZm9ybV8pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VfKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgTGluZVN0cmluZyBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd0xpbmVTdHJpbmcgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMuc3Ryb2tlU3RhdGVfKTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICB0aGlzLm1vdmVUb0xpbmVUb18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBnZW9tZXRyeS5nZXRTdHJpZGUoKSwgZmFsc2UpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBmbGF0TWlkcG9pbnQgPSBnZW9tZXRyeS5nZXRGbGF0TWlkcG9pbnQoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRNaWRwb2ludCwgMCwgMiwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIE11bHRpTGluZVN0cmluZyBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlXG4gICAgICogYW5kIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aUxpbmVTdHJpbmcgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZCh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLCB0aGlzLnVzZXJUcmFuc2Zvcm1fKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdlb21ldHJ5RXh0ZW50ID0gZ2VvbWV0cnkuZ2V0RXh0ZW50KCk7XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5RXh0ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMuc3Ryb2tlU3RhdGVfKTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIGVuZHMgPSAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChnZW9tZXRyeS5nZXRFbmRzKCkpO1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMubW92ZVRvTGluZVRvXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1tpXSwgc3RyaWRlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgICAgICAgdmFyIGZsYXRNaWRwb2ludHMgPSBnZW9tZXRyeS5nZXRGbGF0TWlkcG9pbnRzKCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0TWlkcG9pbnRzLCAwLCBmbGF0TWlkcG9pbnRzLmxlbmd0aCwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIFBvbHlnb24gZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgICAqIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFBvbHlnb24gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sIHRoaXMudXNlclRyYW5zZm9ybV8pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsbFN0YXRlXyh0aGlzLmZpbGxTdGF0ZV8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMuc3Ryb2tlU3RhdGVfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdSaW5nc18oZ2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgXG4gICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChnZW9tZXRyeS5nZXRFbmRzKCkpLCBnZW9tZXRyeS5nZXRTdHJpZGUoKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgICAgICAgdmFyIGZsYXRJbnRlcmlvclBvaW50ID0gZ2VvbWV0cnkuZ2V0RmxhdEludGVyaW9yUG9pbnQoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRJbnRlcmlvclBvaW50LCAwLCAyLCAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIE11bHRpUG9seWdvbiBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZFxuICAgICAqIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdNdWx0aVBvbHlnb24gPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZCh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLCB0aGlzLnVzZXJUcmFuc2Zvcm1fKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfIHx8IHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIGVuZHNzID0gZ2VvbWV0cnkuZ2V0RW5kc3MoKTtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdSaW5nc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgICAgICAgdmFyIGZsYXRJbnRlcmlvclBvaW50cyA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdEludGVyaW9yUG9pbnRzLCAwLCBmbGF0SW50ZXJpb3JQb2ludHMubGVuZ3RoLCAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfSBmaWxsU3RhdGUgRmlsbCBzdGF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRDb250ZXh0RmlsbFN0YXRlXyA9IGZ1bmN0aW9uIChmaWxsU3RhdGUpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgY29udGV4dEZpbGxTdGF0ZSA9IHRoaXMuY29udGV4dEZpbGxTdGF0ZV87XG4gICAgICAgIGlmICghY29udGV4dEZpbGxTdGF0ZSkge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0RmlsbFN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IGZpbGxTdGF0ZS5maWxsU3R5bGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbnRleHRGaWxsU3RhdGUuZmlsbFN0eWxlICE9IGZpbGxTdGF0ZS5maWxsU3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0RmlsbFN0YXRlLmZpbGxTdHlsZSA9IGZpbGxTdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gc3Ryb2tlU3RhdGUgU3Ryb2tlIHN0YXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldENvbnRleHRTdHJva2VTdGF0ZV8gPSBmdW5jdGlvbiAoc3Ryb2tlU3RhdGUpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgY29udGV4dFN0cm9rZVN0YXRlID0gdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICBpZiAoIWNvbnRleHRTdHJva2VTdGF0ZSkge1xuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gc3Ryb2tlU3RhdGUubGluZUNhcDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnNldExpbmVEYXNoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdGF0ZS5saW5lRGFzaCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0cm9rZVN0YXRlLmxpbmVKb2luO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VTdGF0ZS5saW5lV2lkdGg7XG4gICAgICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0O1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICAgICAgICAgIGxpbmVDYXA6IHN0cm9rZVN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgICAgICAgbGluZURhc2g6IHN0cm9rZVN0YXRlLmxpbmVEYXNoLFxuICAgICAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgICAgICAgICBsaW5lSm9pbjogc3Ryb2tlU3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoOiBzdHJva2VTdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgbWl0ZXJMaW1pdDogc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lQ2FwICE9IHN0cm9rZVN0YXRlLmxpbmVDYXApIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gc3Ryb2tlU3RhdGUubGluZUNhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0LnNldExpbmVEYXNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcXVhbHMoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoLCBzdHJva2VTdGF0ZS5saW5lRGFzaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaCgoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoID0gc3Ryb2tlU3RhdGUubGluZURhc2gpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCAhPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZUpvaW4gIT0gc3Ryb2tlU3RhdGUubGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZUpvaW4gPSBzdHJva2VTdGF0ZS5saW5lSm9pbjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVXaWR0aCAhPSBzdHJva2VTdGF0ZS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoID0gc3Ryb2tlU3RhdGUubGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlU3RhdGUubGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5taXRlckxpbWl0ICE9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCA9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICAgICAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgIT0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX0gdGV4dFN0YXRlIFRleHQgc3RhdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0Q29udGV4dFRleHRTdGF0ZV8gPSBmdW5jdGlvbiAodGV4dFN0YXRlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgdmFyIGNvbnRleHRUZXh0U3RhdGUgPSB0aGlzLmNvbnRleHRUZXh0U3RhdGVfO1xuICAgICAgICB2YXIgdGV4dEFsaWduID0gdGV4dFN0YXRlLnRleHRBbGlnblxuICAgICAgICAgICAgPyB0ZXh0U3RhdGUudGV4dEFsaWduXG4gICAgICAgICAgICA6IGRlZmF1bHRUZXh0QWxpZ247XG4gICAgICAgIGlmICghY29udGV4dFRleHRTdGF0ZSkge1xuICAgICAgICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEFsaWdufSAqLyAodGV4dEFsaWduKTtcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9ICovICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dFRleHRTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgZm9udDogdGV4dFN0YXRlLmZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiB0ZXh0QWxpZ24sXG4gICAgICAgICAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0VGV4dFN0YXRlLmZvbnQgIT0gdGV4dFN0YXRlLmZvbnQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0VGV4dFN0YXRlLmZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0VGV4dFN0YXRlLnRleHRBbGlnbiAhPSB0ZXh0QWxpZ24pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0VGV4dFN0YXRlLnRleHRBbGlnbiA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEFsaWdufSAqLyAodGV4dEFsaWduKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEFsaWdufSAqLyAodGV4dEFsaWduKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0VGV4dFN0YXRlLnRleHRCYXNlbGluZSAhPSB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgPSAvKiogQHR5cGUge0NhbnZhc1RleHRCYXNlbGluZX0gKi8gKHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9ICovICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmaWxsIGFuZCBzdHJva2Ugc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgVG8gY2xlYXJcbiAgICAgKiBlaXRoZXIgZmlsbCBvciBzdHJva2Ugc3R5bGVzLCBwYXNzIG51bGwgZm9yIHRoZSBhcHByb3ByaWF0ZSBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbFN0eWxlIEZpbGwgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRGaWxsU3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiAoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSkge1xuICAgICAgICBpZiAoIWZpbGxTdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5maWxsU3RhdGVfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmaWxsU3R5bGVDb2xvciA9IGZpbGxTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgdGhpcy5maWxsU3RhdGVfID0ge1xuICAgICAgICAgICAgICAgIGZpbGxTdHlsZTogYXNDb2xvckxpa2UoZmlsbFN0eWxlQ29sb3IgPyBmaWxsU3R5bGVDb2xvciA6IGRlZmF1bHRGaWxsU3R5bGUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cm9rZVN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLnN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVDb2xvciA9IHN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lQ2FwID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZURhc2ggPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZUpvaW4gPSBzdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlV2lkdGggPSBzdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICAgICAgICAgIGxpbmVDYXA6IHN0cm9rZVN0eWxlTGluZUNhcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lQ2FwXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgICAgICAgICAgbGluZURhc2g6IHN0cm9rZVN0eWxlTGluZURhc2ggPyBzdHJva2VTdHlsZUxpbmVEYXNoIDogZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgICAgICAgICAgICBsaW5lSm9pbjogc3Ryb2tlU3R5bGVMaW5lSm9pbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lSm9pblxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IHRoaXMucGl4ZWxSYXRpb18gKlxuICAgICAgICAgICAgICAgICAgICAoc3Ryb2tlU3R5bGVXaWR0aCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVXaWR0aCksXG4gICAgICAgICAgICAgICAgbWl0ZXJMaW1pdDogc3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZU1pdGVyTGltaXRcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogYXNDb2xvckxpa2Uoc3Ryb2tlU3R5bGVDb2xvciA/IHN0cm9rZVN0eWxlQ29sb3IgOiBkZWZhdWx0U3Ryb2tlU3R5bGUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBpbWFnZSBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBQYXNzIG51bGwgdG8gcmVtb3ZlXG4gICAgICogdGhlIGltYWdlIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRJbWFnZVN0eWxlID0gZnVuY3Rpb24gKGltYWdlU3R5bGUpIHtcbiAgICAgICAgaWYgKCFpbWFnZVN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VTaXplID0gaW1hZ2VTdHlsZS5nZXRTaXplKCk7XG4gICAgICAgICAgICBpZiAoIWltYWdlU2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZUFuY2hvciA9IGltYWdlU3R5bGUuZ2V0QW5jaG9yKCk7XG4gICAgICAgICAgICAgICAgLy8gRklYTUUgcGl4ZWwgcmF0aW9cbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VJbWFnZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2UoMSk7XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlT3JpZ2luID0gaW1hZ2VTdHlsZS5nZXRPcmlnaW4oKTtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VTY2FsZSA9IGltYWdlU3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VBbmNob3JYXyA9IGltYWdlQW5jaG9yWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VBbmNob3JZXyA9IGltYWdlQW5jaG9yWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHRfID0gaW1hZ2VTaXplWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2VJbWFnZTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT3BhY2l0eV8gPSBpbWFnZVN0eWxlLmdldE9wYWNpdHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT3JpZ2luWF8gPSBpbWFnZU9yaWdpblswXTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT3JpZ2luWV8gPSBpbWFnZU9yaWdpblsxXTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlUm90YXRlV2l0aFZpZXdfID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VSb3RhdGlvbl8gPSBpbWFnZVN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVNjYWxlXyA9IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waXhlbFJhdGlvXyAqIGltYWdlU2NhbGVbMF0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxSYXRpb18gKiBpbWFnZVNjYWxlWzFdLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVdpZHRoXyA9IGltYWdlU2l6ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0ZXh0IHN0eWxlIGZvciBzdWJzZXF1ZW50IGRyYXcgb3BlcmF0aW9ucy4gIFBhc3MgbnVsbCB0b1xuICAgICAqIHJlbW92ZSB0aGUgdGV4dCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0U3R5bGUgVGV4dCBzdHlsZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0VGV4dFN0eWxlID0gZnVuY3Rpb24gKHRleHRTdHlsZSkge1xuICAgICAgICBpZiAoIXRleHRTdHlsZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0XyA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRleHRGaWxsU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0RmlsbCgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0RmlsbFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dEZpbGxTdHlsZUNvbG9yID0gdGV4dEZpbGxTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxTdHlsZTogYXNDb2xvckxpa2UodGV4dEZpbGxTdHlsZUNvbG9yID8gdGV4dEZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICAgICAgICBpZiAoIXRleHRTdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlQ29sb3IgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlTGluZUNhcCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVEYXNoID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0ID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVKb2luID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZVdpZHRoID0gdGV4dFN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGluZUNhcDogdGV4dFN0cm9rZVN0eWxlTGluZUNhcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVDYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoOiB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2gsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVKb2luOiB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVKb2luXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiB0ZXh0U3Ryb2tlU3R5bGVXaWR0aCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZVdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIG1pdGVyTGltaXQ6IHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRNaXRlckxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogYXNDb2xvckxpa2UodGV4dFN0cm9rZVN0eWxlQ29sb3IgPyB0ZXh0U3Ryb2tlU3R5bGVDb2xvciA6IGRlZmF1bHRTdHJva2VTdHlsZSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ZXh0Rm9udCA9IHRleHRTdHlsZS5nZXRGb250KCk7XG4gICAgICAgICAgICB2YXIgdGV4dE9mZnNldFggPSB0ZXh0U3R5bGUuZ2V0T2Zmc2V0WCgpO1xuICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRZID0gdGV4dFN0eWxlLmdldE9mZnNldFkoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0Um90YXRlV2l0aFZpZXcgPSB0ZXh0U3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0Um90YXRpb24gPSB0ZXh0U3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgIHZhciB0ZXh0U2NhbGUgPSB0ZXh0U3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgICAgICAgdmFyIHRleHRUZXh0ID0gdGV4dFN0eWxlLmdldFRleHQoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0VGV4dEFsaWduID0gdGV4dFN0eWxlLmdldFRleHRBbGlnbigpO1xuICAgICAgICAgICAgdmFyIHRleHRUZXh0QmFzZWxpbmUgPSB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCk7XG4gICAgICAgICAgICB0aGlzLnRleHRTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgZm9udDogdGV4dEZvbnQgIT09IHVuZGVmaW5lZCA/IHRleHRGb250IDogZGVmYXVsdEZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiB0ZXh0VGV4dEFsaWduICE9PSB1bmRlZmluZWQgPyB0ZXh0VGV4dEFsaWduIDogZGVmYXVsdFRleHRBbGlnbixcbiAgICAgICAgICAgICAgICB0ZXh0QmFzZWxpbmU6IHRleHRUZXh0QmFzZWxpbmUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHRleHRUZXh0QmFzZWxpbmVcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudGV4dF8gPSB0ZXh0VGV4dCAhPT0gdW5kZWZpbmVkID8gdGV4dFRleHQgOiAnJztcbiAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFhfID1cbiAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0WCAhPT0gdW5kZWZpbmVkID8gdGhpcy5waXhlbFJhdGlvXyAqIHRleHRPZmZzZXRYIDogMDtcbiAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFlfID1cbiAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0WSAhPT0gdW5kZWZpbmVkID8gdGhpcy5waXhlbFJhdGlvXyAqIHRleHRPZmZzZXRZIDogMDtcbiAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9XG4gICAgICAgICAgICAgICAgdGV4dFJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyB0ZXh0Um90YXRlV2l0aFZpZXcgOiBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0aW9uXyA9IHRleHRSb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gdGV4dFJvdGF0aW9uIDogMDtcbiAgICAgICAgICAgIHRoaXMudGV4dFNjYWxlXyA9IFtcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogdGV4dFNjYWxlWzBdLFxuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0U2NhbGVbMV0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXI7XG59KFZlY3RvckNvbnRleHQpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1tZWRpYXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uQW5jaG9yVW5pdHNcbiAqL1xuLyoqXG4gKiBJY29uIGFuY2hvciB1bml0cy4gT25lIG9mICdmcmFjdGlvbicsICdwaXhlbHMnLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIEFuY2hvciBpcyBhIGZyYWN0aW9uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZSQUNUSU9OOiAnZnJhY3Rpb24nLFxuICAgIC8qKlxuICAgICAqIEFuY2hvciBpcyBpbiBwaXhlbHNcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUElYRUxTOiAncGl4ZWxzJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uQW5jaG9yVW5pdHMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ljb25PcmlnaW5cbiAqL1xuLyoqXG4gKiBJY29uIG9yaWdpbi4gT25lIG9mICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnLCAndG9wLWxlZnQnLCAndG9wLXJpZ2h0Jy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBPcmlnaW4gaXMgYXQgYm90dG9tIGxlZnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQk9UVE9NX0xFRlQ6ICdib3R0b20tbGVmdCcsXG4gICAgLyoqXG4gICAgICogT3JpZ2luIGlzIGF0IGJvdHRvbSByaWdodFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1RUT01fUklHSFQ6ICdib3R0b20tcmlnaHQnLFxuICAgIC8qKlxuICAgICAqIE9yaWdpbiBpcyBhdCB0b3AgbGVmdFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUT1BfTEVGVDogJ3RvcC1sZWZ0JyxcbiAgICAvKipcbiAgICAgKiBPcmlnaW4gaXMgYXQgdG9wIHJpZ2h0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRPUF9SSUdIVDogJ3RvcC1yaWdodCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbk9yaWdpbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlQmFzZVxuICovXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi91dGlsLmpzJztcbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbnZhciBJbWFnZUJhc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlQmFzZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZUJhc2UoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBzdGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW50ID0gZXh0ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNIQU5HRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUGl4ZWxSYXRpby5cbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmdldFBpeGVsUmF0aW8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBpeGVsUmF0aW9fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uLlxuICAgICAqL1xuICAgIEltYWdlQmFzZS5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5yZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBTdGF0ZS5cbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqL1xuICAgIEltYWdlQmFzZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbWFnZUJhc2U7XG59KEV2ZW50VGFyZ2V0KSk7XG5leHBvcnQgZGVmYXVsdCBJbWFnZUJhc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZUJhc2UuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VCYXNlIGZyb20gJy4vSW1hZ2VCYXNlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgeyBJTUFHRV9ERUNPREUgfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQgeyBnZXRIZWlnaHQgfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBsaXN0ZW5PbmNlLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi9ldmVudHMuanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9JbWFnZX5JbWFnZX0gZm9yIHRoZSBpbWFnZSBhbmQgYVxuICogYHtzdHJpbmd9YCBmb3IgdGhlIHNyYyBhcyBhcmd1bWVudHMuIEl0IGlzIHN1cHBvc2VkIHRvIG1ha2UgaXQgc28gdGhlXG4gKiB1bmRlcmx5aW5nIGltYWdlIHtAbGluayBtb2R1bGU6b2wvSW1hZ2V+SW1hZ2UjZ2V0SW1hZ2V9IGlzIGFzc2lnbmVkIHRoZVxuICogY29udGVudCBzcGVjaWZpZWQgYnkgdGhlIHNyYy4gSWYgbm90IHNwZWNpZmllZCwgdGhlIGRlZmF1bHQgaXNcbiAqXG4gKiAgICAgZnVuY3Rpb24oaW1hZ2UsIHNyYykge1xuICogICAgICAgaW1hZ2UuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiAgICAgfVxuICpcbiAqIFByb3ZpZGluZyBhIGN1c3RvbSBgaW1hZ2VMb2FkRnVuY3Rpb25gIGNhbiBiZSB1c2VmdWwgdG8gbG9hZCBpbWFnZXMgd2l0aFxuICogcG9zdCByZXF1ZXN0cyBvciAtIGluIGdlbmVyYWwgLSB0aHJvdWdoIFhIUiByZXF1ZXN0cywgd2hlcmUgdGhlIHNyYyBvZiB0aGVcbiAqIGltYWdlIGVsZW1lbnQgd291bGQgYmUgc2V0IHRvIGEgZGF0YSBVUkkgd2hlbiB0aGUgY29udGVudCBpcyBsb2FkZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKEltYWdlV3JhcHBlciwgc3RyaW5nKTogdm9pZH0gTG9hZEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cbnZhciBJbWFnZVdyYXBwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlV3JhcHBlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIEltYWdlIHNvdXJjZSBVUkkuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAgICogQHBhcmFtIHtMb2FkRnVuY3Rpb259IGltYWdlTG9hZEZ1bmN0aW9uIEltYWdlIGxvYWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VXcmFwcGVyKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgc3JjLCBjcm9zc09yaWdpbiwgaW1hZ2VMb2FkRnVuY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBJbWFnZVN0YXRlLklETEUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3JjXyA9IHNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaWYgKGNyb3NzT3JpZ2luICE9PSBudWxsKSB7XG4gICAgICAgICAgICBfdGhpcy5pbWFnZV8uY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9mdW5jdGlvbigpOnZvaWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtMb2FkRnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZUxvYWRGdW5jdGlvbl8gPSBpbWFnZUxvYWRGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVdyYXBwZXIucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFja3MgbG9hZGluZyBvciByZWFkIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5oYW5kbGVJbWFnZUVycm9yXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuRVJST1I7XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFja3Mgc3VjY2Vzc2Z1bCBpbWFnZSBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbWFnZVdyYXBwZXIucHJvdG90eXBlLmhhbmRsZUltYWdlTG9hZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KHRoaXMuZXh0ZW50KSAvIHRoaXMuaW1hZ2VfLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBpbWFnZSBvciByZXRyeSBpZiBsb2FkaW5nIHByZXZpb3VzbHkgZmFpbGVkLlxuICAgICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICAgKiBvbmx5IG5lZWRlZCBmb3IgcHJlbG9hZGluZyBvciBmb3IgcmVsb2FkaW5nIGluIGNhc2Ugb2YgYW4gZXJyb3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlV3JhcHBlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFIHx8IHRoaXMuc3RhdGUgPT0gSW1hZ2VTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BRElORztcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUxvYWRGdW5jdGlvbl8odGhpcywgdGhpcy5zcmNfKTtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW5fID0gbGlzdGVuSW1hZ2UodGhpcy5pbWFnZV8sIHRoaXMuaGFuZGxlSW1hZ2VMb2FkXy5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZUltYWdlRXJyb3JfLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5zZXRJbWFnZSA9IGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzY2FyZHMgZXZlbnQgaGFuZGxlcnMgd2hpY2ggbGlzdGVuIGZvciBsb2FkIGNvbXBsZXRpb24gb3IgZXJyb3JzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbWFnZVdyYXBwZXIucHJvdG90eXBlLnVubGlzdGVuSW1hZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy51bmxpc3Rlbl8pIHtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW5fKCk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbWFnZVdyYXBwZXI7XG59KEltYWdlQmFzZSkpO1xuLyoqXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2UgSW1hZ2UgZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTphbnl9IGxvYWRIYW5kbGVyIExvYWQgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6YW55fSBlcnJvckhhbmRsZXIgRXJyb3IgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbigpOnZvaWR9IENhbGxiYWNrIHRvIHN0b3AgbGlzdGVuaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuSW1hZ2UoaW1hZ2UsIGxvYWRIYW5kbGVyLCBlcnJvckhhbmRsZXIpIHtcbiAgICB2YXIgaW1nID0gLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAoaW1hZ2UpO1xuICAgIGlmIChpbWcuc3JjICYmIElNQUdFX0RFQ09ERSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IGltZy5kZWNvZGUoKTtcbiAgICAgICAgdmFyIGxpc3RlbmluZ18xID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVubGlzdGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGlzdGVuaW5nXzEgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmluZ18xKSB7XG4gICAgICAgICAgICAgICAgbG9hZEhhbmRsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5pbmdfMSkge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBVbmNvbmRpdGlvbmFsbHkgY2FsbCBlcnJvckhhbmRsZXIoKSB3aGVuIHRoaXMgYnVnIGlzIGZpeGVkIHVwc3RyZWFtOlxuICAgICAgICAgICAgICAgIC8vICAgICAgICBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk4NTI3XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdFbmNvZGluZ0Vycm9yJyAmJlxuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlID09PSAnSW52YWxpZCBpbWFnZSB0eXBlLicpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1bmxpc3RlbjtcbiAgICB9XG4gICAgdmFyIGxpc3RlbmVyS2V5cyA9IFtcbiAgICAgICAgbGlzdGVuT25jZShpbWcsIEV2ZW50VHlwZS5MT0FELCBsb2FkSGFuZGxlciksXG4gICAgICAgIGxpc3Rlbk9uY2UoaW1nLCBFdmVudFR5cGUuRVJST1IsIGVycm9ySGFuZGxlciksXG4gICAgXTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5saXN0ZW4oKSB7XG4gICAgICAgIGxpc3RlbmVyS2V5cy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBJbWFnZVdyYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvbkltYWdlXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgeyBhc1N0cmluZyB9IGZyb20gJy4uL2NvbG9yLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBzaGFyZWQgYXMgaWNvbkltYWdlQ2FjaGUgfSBmcm9tICcuL0ljb25JbWFnZUNhY2hlLmpzJztcbmltcG9ydCB7IGxpc3RlbkltYWdlIH0gZnJvbSAnLi4vSW1hZ2UuanMnO1xuLyoqXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICovXG52YXIgdGFpbnRlZFRlc3RDb250ZXh0ID0gbnVsbDtcbnZhciBJY29uSW1hZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEljb25JbWFnZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gc3JjIFNyYy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0YXRlIEltYWdlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEljb25JbWFnZShpbWFnZSwgc3JjLCBzaXplLCBjcm9zc09yaWdpbiwgaW1hZ2VTdGF0ZSwgY29sb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gIWltYWdlID8gbmV3IEltYWdlKCkgOiBpbWFnZTtcbiAgICAgICAgaWYgKGNyb3NzT3JpZ2luICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovIChfdGhpcy5pbWFnZV8pLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBIVE1MQ2FudmFzRWxlbWVudD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xvcl8gPSBjb2xvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVN0YXRlXyA9IGltYWdlU3RhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZV8gPSBzaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zcmNfID0gc3JjO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhaW50ZWRfO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGltYWdlIGNhbnZhcyBpcyB0YWludGVkLlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuaXNUYWludGVkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGFpbnRlZF8gPT09IHVuZGVmaW5lZCAmJiB0aGlzLmltYWdlU3RhdGVfID09PSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgaWYgKCF0YWludGVkVGVzdENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0YWludGVkVGVzdENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWludGVkVGVzdENvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2VfLCAwLCAwKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGFpbnRlZFRlc3RDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhaW50ZWRfID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRhaW50ZWRUZXN0Q29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy50YWludGVkXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudGFpbnRlZF8gPT09IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZGlzcGF0Y2hDaGFuZ2VFdmVudF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUVycm9yXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbWFnZVN0YXRlXyA9IEltYWdlU3RhdGUuRVJST1I7XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaENoYW5nZUV2ZW50XygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmhhbmRsZUltYWdlTG9hZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VTdGF0ZV8gPSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZV8pIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfLndpZHRoID0gdGhpcy5zaXplX1swXTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfLmhlaWdodCA9IHRoaXMuc2l6ZV9bMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNpemVfID0gW3RoaXMuaW1hZ2VfLndpZHRoLCB0aGlzLmltYWdlXy5oZWlnaHRdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaENoYW5nZUV2ZW50XygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIChwaXhlbFJhdGlvKSB7XG4gICAgICAgIHRoaXMucmVwbGFjZUNvbG9yXyhwaXhlbFJhdGlvKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA/IHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA6IHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBJbWFnZSBvciBDYW52YXMgZWxlbWVudC5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmdldFBpeGVsUmF0aW8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICB0aGlzLnJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gPyBwaXhlbFJhdGlvIDogMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRJbWFnZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZVN0YXRlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkltYWdlXykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUYWludGVkXygpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5zaXplX1swXTtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5zaXplX1sxXTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gY29udGV4dC5jYW52YXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IHRoaXMuaW1hZ2VfO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmhpdERldGVjdGlvbkltYWdlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgaWNvbiAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IEltYWdlIHNyYy5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmdldFNyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VTdGF0ZV8gPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlU3RhdGVfID0gSW1hZ2VTdGF0ZS5MT0FESU5HO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovICh0aGlzLmltYWdlXykuc3JjID0gdGhpcy5zcmNfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUltYWdlRXJyb3JfKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXyA9IGxpc3RlbkltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSwgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLnJlcGxhY2VDb2xvcl8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICBpZiAoIXRoaXMuY29sb3JfIHx8IHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID0gY2FudmFzO1xuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwodGhpcy5pbWFnZV8ud2lkdGggKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmltYWdlXy5oZWlnaHQgKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguc2NhbGUocGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcbiAgICAgICAgLy8gSW50ZXJuZXQgRXhwbG9yZXIgMTEgZG9lcyBub3Qgc3VwcG9ydCB0aGUgbXVsdGlwbHkgb3BlcmF0aW9uLlxuICAgICAgICAvLyBJZiB0aGUgY2FudmFzIGlzIHRhaW50ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgdGhpcyBzdGlsbCBwcm9kdWNlc1xuICAgICAgICAvLyBhIHNvbGlkIGNvbG9yIGltYWdlIHdpdGggdGhlIHNoYXBlIG9mIHRoZSBpY29uLlxuICAgICAgICBpZiAoY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9PT0gJ211bHRpcGx5JyB8fCB0aGlzLmlzVGFpbnRlZF8oKSkge1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHRoaXMuY29sb3JfKTtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1pbic7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2VfLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbWdEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBpbWdEYXRhLmRhdGE7XG4gICAgICAgICAgICB2YXIgciA9IHRoaXMuY29sb3JfWzBdIC8gMjU1LjA7XG4gICAgICAgICAgICB2YXIgZyA9IHRoaXMuY29sb3JfWzFdIC8gMjU1LjA7XG4gICAgICAgICAgICB2YXIgYiA9IHRoaXMuY29sb3JfWzJdIC8gMjU1LjA7XG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMuY29sb3JfWzNdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGF0YS5sZW5ndGg7IGkgPCBpaTsgaSArPSA0KSB7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSAqPSByO1xuICAgICAgICAgICAgICAgIGRhdGFbaSArIDFdICo9IGc7XG4gICAgICAgICAgICAgICAgZGF0YVtpICsgMl0gKj0gYjtcbiAgICAgICAgICAgICAgICBkYXRhW2kgKyAzXSAqPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LnB1dEltYWdlRGF0YShpbWdEYXRhLCAwLCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzY2FyZHMgZXZlbnQgaGFuZGxlcnMgd2hpY2ggbGlzdGVuIGZvciBsb2FkIGNvbXBsZXRpb24gb3IgZXJyb3JzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLnVubGlzdGVuSW1hZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy51bmxpc3Rlbl8pIHtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW5fKCk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJY29uSW1hZ2U7XG59KEV2ZW50VGFyZ2V0KSk7XG4vKipcbiAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0YXRlIEltYWdlIHN0YXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtJY29uSW1hZ2V9IEljb24gaW1hZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoaW1hZ2UsIHNyYywgc2l6ZSwgY3Jvc3NPcmlnaW4sIGltYWdlU3RhdGUsIGNvbG9yKSB7XG4gICAgdmFyIGljb25JbWFnZSA9IGljb25JbWFnZUNhY2hlLmdldChzcmMsIGNyb3NzT3JpZ2luLCBjb2xvcik7XG4gICAgaWYgKCFpY29uSW1hZ2UpIHtcbiAgICAgICAgaWNvbkltYWdlID0gbmV3IEljb25JbWFnZShpbWFnZSwgc3JjLCBzaXplLCBjcm9zc09yaWdpbiwgaW1hZ2VTdGF0ZSwgY29sb3IpO1xuICAgICAgICBpY29uSW1hZ2VDYWNoZS5zZXQoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IsIGljb25JbWFnZSk7XG4gICAgfVxuICAgIHJldHVybiBpY29uSW1hZ2U7XG59XG5leHBvcnQgZGVmYXVsdCBJY29uSW1hZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uSW1hZ2UuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSWNvbkFuY2hvclVuaXRzIGZyb20gJy4vSWNvbkFuY2hvclVuaXRzLmpzJztcbmltcG9ydCBJY29uT3JpZ2luIGZyb20gJy4vSWNvbk9yaWdpbi5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBJbWFnZVN0eWxlIGZyb20gJy4vSW1hZ2UuanMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL2NvbG9yLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgZ2V0IGFzIGdldEljb25JbWFnZSB9IGZyb20gJy4vSWNvbkltYWdlLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFthbmNob3I9WzAuNSwgMC41XV0gQW5jaG9yLiBEZWZhdWx0IHZhbHVlIGlzIHRoZSBpY29uIGNlbnRlci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uT3JpZ2luLmpzXCIpLmRlZmF1bHR9IFthbmNob3JPcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBhbmNob3I6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uQW5jaG9yVW5pdHMuanNcIikuZGVmYXVsdH0gW2FuY2hvclhVbml0cz0nZnJhY3Rpb24nXSBVbml0cyBpbiB3aGljaCB0aGUgYW5jaG9yIHggdmFsdWUgaXNcbiAqIHNwZWNpZmllZC4gQSB2YWx1ZSBvZiBgJ2ZyYWN0aW9uJ2AgaW5kaWNhdGVzIHRoZSB4IHZhbHVlIGlzIGEgZnJhY3Rpb24gb2YgdGhlIGljb24uIEEgdmFsdWUgb2YgYCdwaXhlbHMnYCBpbmRpY2F0ZXNcbiAqIHRoZSB4IHZhbHVlIGluIHBpeGVscy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uQW5jaG9yVW5pdHMuanNcIikuZGVmYXVsdH0gW2FuY2hvcllVbml0cz0nZnJhY3Rpb24nXSBVbml0cyBpbiB3aGljaCB0aGUgYW5jaG9yIHkgdmFsdWUgaXNcbiAqIHNwZWNpZmllZC4gQSB2YWx1ZSBvZiBgJ2ZyYWN0aW9uJ2AgaW5kaWNhdGVzIHRoZSB5IHZhbHVlIGlzIGEgZnJhY3Rpb24gb2YgdGhlIGljb24uIEEgdmFsdWUgb2YgYCdwaXhlbHMnYCBpbmRpY2F0ZXNcbiAqIHRoZSB5IHZhbHVlIGluIHBpeGVscy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8c3RyaW5nfSBbY29sb3JdIENvbG9yIHRvIHRpbnQgdGhlIGljb24uIElmIG5vdCBzcGVjaWZpZWQsXG4gKiB0aGUgaWNvbiB3aWxsIGJlIGxlZnQgYXMgaXMuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gTm90ZSB0aGF0IHlvdSBtdXN0IHByb3ZpZGUgYVxuICogYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBbaW1nXSBJbWFnZSBvYmplY3QgZm9yIHRoZSBpY29uLiBJZiB0aGUgYHNyY2Agb3B0aW9uIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZVxuICogcHJvdmlkZWQgaW1hZ2UgbXVzdCBhbHJlYWR5IGJlIGxvYWRlZC4gQW5kIGluIHRoYXQgY2FzZSwgaXQgaXMgcmVxdWlyZWRcbiAqIHRvIHByb3ZpZGUgdGhlIHNpemUgb2YgdGhlIGltYWdlLCB3aXRoIHRoZSBgaW1nU2l6ZWAgb3B0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbb2Zmc2V0PVswLCAwXV0gT2Zmc2V0LCB3aGljaCwgdG9nZXRoZXIgd2l0aCB0aGUgc2l6ZSBhbmQgdGhlIG9mZnNldCBvcmlnaW4sIGRlZmluZSB0aGVcbiAqIHN1Yi1yZWN0YW5nbGUgdG8gdXNlIGZyb20gdGhlIG9yaWdpbmFsIGljb24gaW1hZ2UuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtkaXNwbGFjZW1lbnQ9WzAsMF1dIERpc3BsYWNlbWVudCB0aGUgaWNvblxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ljb25PcmlnaW4uanNcIikuZGVmYXVsdH0gW29mZnNldE9yaWdpbj0ndG9wLWxlZnQnXSBPcmlnaW4gb2YgdGhlIG9mZnNldDogYGJvdHRvbS1sZWZ0YCwgYGJvdHRvbS1yaWdodGAsXG4gKiBgdG9wLWxlZnRgIG9yIGB0b3AtcmlnaHRgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgb2YgdGhlIGljb24uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZT0xXSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgaWNvbiB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBJY29uIHNpemUgaW4gcGl4ZWwuIENhbiBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYG9mZnNldGAgdG8gZGVmaW5lIHRoZVxuICogc3ViLXJlY3RhbmdsZSB0byB1c2UgZnJvbSB0aGUgb3JpZ2luIChzcHJpdGUpIGljb24gaW1hZ2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW2ltZ1NpemVdIEltYWdlIHNpemUgaW4gcGl4ZWxzLiBPbmx5IHJlcXVpcmVkIGlmIGBpbWdgIGlzIHNldCBhbmQgYHNyY2AgaXMgbm90LCBhbmRcbiAqIGZvciBTVkcgaW1hZ2VzIGluIEludGVybmV0IEV4cGxvcmVyIDExLiBUaGUgcHJvdmlkZWQgYGltZ1NpemVgIG5lZWRzIHRvIG1hdGNoIHRoZSBhY3R1YWwgc2l6ZSBvZiB0aGUgaW1hZ2UuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NyY10gSW1hZ2Ugc291cmNlIFVSSS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgaWNvbiBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG52YXIgSWNvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSWNvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEljb24ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgb3BhY2l0eSA9IG9wdGlvbnMub3BhY2l0eSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFjaXR5IDogMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcm90YXRpb24gPSBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNjYWxlID0gb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciByb3RhdGVXaXRoVmlldyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgOiBmYWxzZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogcm90YXRlV2l0aFZpZXcsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuY2hvcl8gPSBvcHRpb25zLmFuY2hvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmNob3IgOiBbMC41LCAwLjVdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JY29uT3JpZ2luLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JPcmlnaW5fID1cbiAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yT3JpZ2luICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYW5jaG9yT3JpZ2luXG4gICAgICAgICAgICAgICAgOiBJY29uT3JpZ2luLlRPUF9MRUZUO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSWNvbkFuY2hvclVuaXRzLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JYVW5pdHNfID1cbiAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yWFVuaXRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYW5jaG9yWFVuaXRzXG4gICAgICAgICAgICAgICAgOiBJY29uQW5jaG9yVW5pdHMuRlJBQ1RJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JY29uQW5jaG9yVW5pdHMuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuY2hvcllVbml0c18gPVxuICAgICAgICAgICAgb3B0aW9ucy5hbmNob3JZVW5pdHMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5hbmNob3JZVW5pdHNcbiAgICAgICAgICAgICAgICA6IEljb25BbmNob3JVbml0cy5GUkFDVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Jvc3NPcmlnaW5fID1cbiAgICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaW1hZ2UgPSBvcHRpb25zLmltZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbWcgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBpbWdTaXplID0gb3B0aW9ucy5pbWdTaXplICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltZ1NpemUgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc3JjID0gb3B0aW9ucy5zcmM7XG4gICAgICAgIGFzc2VydCghKHNyYyAhPT0gdW5kZWZpbmVkICYmIGltYWdlKSwgNCk7IC8vIGBpbWFnZWAgYW5kIGBzcmNgIGNhbm5vdCBiZSBwcm92aWRlZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgICAgIGFzc2VydCghaW1hZ2UgfHwgKGltYWdlICYmIGltZ1NpemUpLCA1KTsgLy8gYGltZ1NpemVgIG11c3QgYmUgc2V0IHdoZW4gYGltYWdlYCBpcyBwcm92aWRlZFxuICAgICAgICBpZiAoKHNyYyA9PT0gdW5kZWZpbmVkIHx8IHNyYy5sZW5ndGggPT09IDApICYmIGltYWdlKSB7XG4gICAgICAgICAgICBzcmMgPSAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovIChpbWFnZSkuc3JjIHx8IGdldFVpZChpbWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KHNyYyAhPT0gdW5kZWZpbmVkICYmIHNyYy5sZW5ndGggPiAwLCA2KTsgLy8gQSBkZWZpbmVkIGFuZCBub24tZW1wdHkgYHNyY2Agb3IgYGltYWdlYCBtdXN0IGJlIHByb3ZpZGVkXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGltYWdlU3RhdGUgPSBvcHRpb25zLnNyYyAhPT0gdW5kZWZpbmVkID8gSW1hZ2VTdGF0ZS5JRExFIDogSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBhc0FycmF5KG9wdGlvbnMuY29sb3IpIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaWNvbkltYWdlXyA9IGdldEljb25JbWFnZShpbWFnZSwgXG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoc3JjKSwgaW1nU2l6ZSwgX3RoaXMuY3Jvc3NPcmlnaW5fLCBpbWFnZVN0YXRlLCBfdGhpcy5jb2xvcl8pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vZmZzZXRfID0gb3B0aW9ucy5vZmZzZXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub2Zmc2V0IDogWzAsIDBdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSWNvbk9yaWdpbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub2Zmc2V0T3JpZ2luXyA9XG4gICAgICAgICAgICBvcHRpb25zLm9mZnNldE9yaWdpbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLm9mZnNldE9yaWdpblxuICAgICAgICAgICAgICAgIDogSWNvbk9yaWdpbi5UT1BfTEVGVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZV8gPSBvcHRpb25zLnNpemUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2l6ZSA6IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS4gVGhlIHVuZGVybHlpbmcgSW1hZ2UvSFRNTENhbnZhc0VsZW1lbnQgaXMgbm90IGNsb25lZC5cbiAgICAgKiBAcmV0dXJuIHtJY29ufSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgICAgICByZXR1cm4gbmV3IEljb24oe1xuICAgICAgICAgICAgYW5jaG9yOiB0aGlzLmFuY2hvcl8uc2xpY2UoKSxcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbjogdGhpcy5hbmNob3JPcmlnaW5fLFxuICAgICAgICAgICAgYW5jaG9yWFVuaXRzOiB0aGlzLmFuY2hvclhVbml0c18sXG4gICAgICAgICAgICBhbmNob3JZVW5pdHM6IHRoaXMuYW5jaG9yWVVuaXRzXyxcbiAgICAgICAgICAgIGNyb3NzT3JpZ2luOiB0aGlzLmNyb3NzT3JpZ2luXyxcbiAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yXyAmJiB0aGlzLmNvbG9yXy5zbGljZVxuICAgICAgICAgICAgICAgID8gdGhpcy5jb2xvcl8uc2xpY2UoKVxuICAgICAgICAgICAgICAgIDogdGhpcy5jb2xvcl8gfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3JjOiB0aGlzLmdldFNyYygpLFxuICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldF8uc2xpY2UoKSxcbiAgICAgICAgICAgIG9mZnNldE9yaWdpbjogdGhpcy5vZmZzZXRPcmlnaW5fLFxuICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplXyAhPT0gbnVsbCA/IHRoaXMuc2l6ZV8uc2xpY2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0T3BhY2l0eSgpLFxuICAgICAgICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAgICogc3ltYm9saXplci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbmNob3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldEFuY2hvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubm9ybWFsaXplZEFuY2hvcl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZWRBbmNob3JfO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLmFuY2hvcl87XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgIGlmICh0aGlzLmFuY2hvclhVbml0c18gPT0gSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OIHx8XG4gICAgICAgICAgICB0aGlzLmFuY2hvcllVbml0c18gPT0gSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OKSB7XG4gICAgICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuY2hvciA9IHRoaXMuYW5jaG9yXy5zbGljZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yWFVuaXRzXyA9PSBJY29uQW5jaG9yVW5pdHMuRlJBQ1RJT04pIHtcbiAgICAgICAgICAgICAgICBhbmNob3JbMF0gKj0gc2l6ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvcllVbml0c18gPT0gSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yWzFdICo9IHNpemVbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yT3JpZ2luXyAhPSBJY29uT3JpZ2luLlRPUF9MRUZUKSB7XG4gICAgICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbmNob3IgPT09IHRoaXMuYW5jaG9yXykge1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IHRoaXMuYW5jaG9yXy5zbGljZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yT3JpZ2luXyA9PSBJY29uT3JpZ2luLlRPUF9SSUdIVCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yT3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICAgICAgICAgIGFuY2hvclswXSA9IC1hbmNob3JbMF0gKyBzaXplWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yT3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9MRUZUIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5hbmNob3JPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yWzFdID0gLWFuY2hvclsxXSArIHNpemVbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IGFuY2hvcjtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplZEFuY2hvcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludC4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgICAqIHN5bWJvbGl6ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGFuY2hvciBBbmNob3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLnNldEFuY2hvciA9IGZ1bmN0aW9uIChhbmNob3IpIHtcbiAgICAgICAgdGhpcy5hbmNob3JfID0gYW5jaG9yO1xuICAgICAgICB0aGlzLm5vcm1hbGl6ZWRBbmNob3JfID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaWNvbiBjb2xvci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gQ29sb3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldENvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIGljb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRJbWFnZShwaXhlbFJhdGlvKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcGl4ZWwgcmF0aW9uIG9mIHRoZSBpbWFnZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uIChwaXhlbFJhdGlvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRJbWFnZVNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0U2l6ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplIG9mIHRoZSBoaXQtZGV0ZWN0aW9uIGltYWdlLlxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldEhpdERldGVjdGlvbkltYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW1hZ2VTaXplKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldEltYWdlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0SW1hZ2VTdGF0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRIaXREZXRlY3Rpb25JbWFnZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBvcmlnaW4gb2YgdGhlIHN5bWJvbGl6ZXIuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3JpZ2luLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRPcmlnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMub2Zmc2V0XztcbiAgICAgICAgdmFyIGRpc3BsYWNlbWVudCA9IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCk7XG4gICAgICAgIGlmICh0aGlzLm9mZnNldE9yaWdpbl8gIT0gSWNvbk9yaWdpbi5UT1BfTEVGVCkge1xuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgICAgIHZhciBpY29uSW1hZ2VTaXplID0gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKTtcbiAgICAgICAgICAgIGlmICghc2l6ZSB8fCAhaWNvbkltYWdlU2l6ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0LnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vZmZzZXRPcmlnaW5fID09IEljb25PcmlnaW4uVE9QX1JJR0hUIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0WzBdID0gaWNvbkltYWdlU2l6ZVswXSAtIHNpemVbMF0gLSBvZmZzZXRbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vZmZzZXRPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX0xFRlQgfHxcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldE9yaWdpbl8gPT0gSWNvbk9yaWdpbi5CT1RUT01fUklHSFQpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXRbMV0gPSBpY29uSW1hZ2VTaXplWzFdIC0gc2l6ZVsxXSAtIG9mZnNldFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvZmZzZXRbMF0gKz0gZGlzcGxhY2VtZW50WzBdO1xuICAgICAgICBvZmZzZXRbMV0gKz0gZGlzcGxhY2VtZW50WzFdO1xuICAgICAgICB0aGlzLm9yaWdpbl8gPSBvZmZzZXQ7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGltYWdlIFVSTC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBJbWFnZSBzcmMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldFNyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRTcmMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgaWNvbiAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5zaXplXyA/IHRoaXMuaWNvbkltYWdlXy5nZXRTaXplKCkgOiB0aGlzLnNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuaWNvbkltYWdlXy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqIFdoZW4gcmVuZGVyaW5nIGEgZmVhdHVyZSB3aXRoIGFuIGljb24gc3R5bGUsIHRoZSB2ZWN0b3IgcmVuZGVyZXIgd2lsbFxuICAgICAqIGF1dG9tYXRpY2FsbHkgY2FsbCB0aGlzIG1ldGhvZC4gSG93ZXZlciwgeW91IG1pZ2h0IHdhbnQgdG8gY2FsbCB0aGlzXG4gICAgICogbWV0aG9kIHlvdXJzZWxmIGZvciBwcmVsb2FkaW5nIG9yIG90aGVyIHB1cnBvc2VzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmljb25JbWFnZV8ubG9hZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLnVubGlzdGVuSW1hZ2VDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5pY29uSW1hZ2VfLnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgbGlzdGVuZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIEljb247XG59KEltYWdlU3R5bGUpKTtcbmV4cG9ydCBkZWZhdWx0IEljb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci92ZWN0b3JcbiAqL1xuaW1wb3J0IEJ1aWxkZXJUeXBlIGZyb20gJy4uL3JlbmRlci9jYW52YXMvQnVpbGRlclR5cGUuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuLyoqXG4gKiBGZWF0dXJlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aHJlZSBhcmd1bWVudHMuIFRoZSBmaXJzdFxuICogYXJndW1lbnQgaXMgb25lIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZSBmZWF0dXJlfSBvciB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9GZWF0dXJlIHJlbmRlciBmZWF0dXJlfVxuICogYXQgdGhlIHBpeGVsLCB0aGUgc2Vjb25kIGlzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyIGxheWVyfSBvZiB0aGUgZmVhdHVyZSBhbmQgd2lsbCBiZSBudWxsIGZvclxuICogdW5tYW5hZ2VkIGxheWVycy4gVGhlIHRoaXJkIGlzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2dlb20vU2ltcGxlR2VvbWV0cnl9IG9mIHRoZSBmZWF0dXJlLiBGb3IgZmVhdHVyZXNcbiAqIHdpdGggYSBHZW9tZXRyeUNvbGxlY3Rpb24gZ2VvbWV0cnksIGl0IHdpbGwgYmUgdGhlIGZpcnN0IGRldGVjdGVkIGdlb21ldHJ5IGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCk6IFR9IEZlYXR1cmVDYWxsYmFja1xuICovXG4vKipcbiAqIFRvbGVyYW5jZSBmb3IgZ2VvbWV0cnkgc2ltcGxpZmljYXRpb24gaW4gZGV2aWNlIHBpeGVscy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBTSU1QTElGWV9UT0xFUkFOQ0UgPSAwLjU7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0LFxuICogICAgICAgICAgICAgICAgZnVuY3Rpb24oaW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdCwgT2JqZWN0KTogdm9pZD59XG4gKi9cbnZhciBHRU9NRVRSWV9SRU5ERVJFUlMgPSB7XG4gICAgJ1BvaW50JzogcmVuZGVyUG9pbnRHZW9tZXRyeSxcbiAgICAnTGluZVN0cmluZyc6IHJlbmRlckxpbmVTdHJpbmdHZW9tZXRyeSxcbiAgICAnUG9seWdvbic6IHJlbmRlclBvbHlnb25HZW9tZXRyeSxcbiAgICAnTXVsdGlQb2ludCc6IHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeSxcbiAgICAnTXVsdGlMaW5lU3RyaW5nJzogcmVuZGVyTXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksXG4gICAgJ011bHRpUG9seWdvbic6IHJlbmRlck11bHRpUG9seWdvbkdlb21ldHJ5LFxuICAgICdHZW9tZXRyeUNvbGxlY3Rpb24nOiByZW5kZXJHZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSxcbiAgICAnQ2lyY2xlJzogcmVuZGVyQ2lyY2xlR2VvbWV0cnksXG59O1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUxIEZlYXR1cmUgMS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZTIgRmVhdHVyZSAyLlxuICogQHJldHVybiB7bnVtYmVyfSBPcmRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRPcmRlcihmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZ2V0VWlkKGZlYXR1cmUxKSwgMTApIC0gcGFyc2VJbnQoZ2V0VWlkKGZlYXR1cmUyKSwgMTApO1xufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgcGl4ZWwgdG9sZXJhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3F1YXJlZFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgdmFyIHRvbGVyYW5jZSA9IGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgICByZXR1cm4gdG9sZXJhbmNlICogdG9sZXJhbmNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIChTSU1QTElGWV9UT0xFUkFOQ0UgKiByZXNvbHV0aW9uKSAvIHBpeGVsUmF0aW87XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIEJ1aWxkZXIgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHQ9fSBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ2lyY2xlR2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgIGlmIChmaWxsU3R5bGUgfHwgc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgdmFyIGNpcmNsZVJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5DSVJDTEUpO1xuICAgICAgICBjaXJjbGVSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgICAgICBjaXJjbGVSZXBsYXkuZHJhd0NpcmNsZShnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3RyYW5zZm9ybV0gVHJhbnNmb3JtIGZyb20gdXNlciB0byB2aWV3IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHQ9fSBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzdHlsZSBpcyBsb2FkaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRmVhdHVyZShyZXBsYXlHcm91cCwgZmVhdHVyZSwgc3R5bGUsIHNxdWFyZWRUb2xlcmFuY2UsIGxpc3RlbmVyLCBvcHRfdHJhbnNmb3JtLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGxvYWRpbmcgPSBmYWxzZTtcbiAgICB2YXIgaW1hZ2VTdHlsZSA9IHN0eWxlLmdldEltYWdlKCk7XG4gICAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICAgICAgdmFyIGltYWdlU3RhdGUgPSBpbWFnZVN0eWxlLmdldEltYWdlU3RhdGUoKTtcbiAgICAgICAgaWYgKGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5MT0FERUQgfHwgaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlLnVubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VTdHlsZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZVN0YXRlID0gaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCk7XG4gICAgICAgICAgICBpbWFnZVN0eWxlLmxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIGxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlckZlYXR1cmVJbnRlcm5hbChyZXBsYXlHcm91cCwgZmVhdHVyZSwgc3R5bGUsIHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApO1xuICAgIHJldHVybiBsb2FkaW5nO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3RyYW5zZm9ybV0gT3B0aW9uYWwgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckZlYXR1cmVJbnRlcm5hbChyZXBsYXlHcm91cCwgZmVhdHVyZSwgc3R5bGUsIHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZ2VvbWV0cnkgPSBzdHlsZS5nZXRHZW9tZXRyeUZ1bmN0aW9uKCkoZmVhdHVyZSk7XG4gICAgaWYgKCFnZW9tZXRyeSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzaW1wbGlmaWVkR2VvbWV0cnkgPSBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pO1xuICAgIHZhciByZW5kZXJlciA9IHN0eWxlLmdldFJlbmRlcmVyKCk7XG4gICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBzaW1wbGlmaWVkR2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBnZW9tZXRyeVJlbmRlcmVyID0gR0VPTUVUUllfUkVOREVSRVJTW3NpbXBsaWZpZWRHZW9tZXRyeS5nZXRUeXBlKCldO1xuICAgICAgICBnZW9tZXRyeVJlbmRlcmVyKHJlcGxheUdyb3VwLCBzaW1wbGlmaWVkR2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpIHtcbiAgICBpZiAoZ2VvbWV0cnkuZ2V0VHlwZSgpID09IEdlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OKSB7XG4gICAgICAgIHZhciBnZW9tZXRyaWVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEdlb21ldHJpZXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICByZW5kZXJHZW9tZXRyeShyZXBsYXlHcm91cCwgZ2VvbWV0cmllc1tpXSwgc3R5bGUsIGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJlcGxheSA9IHJlcGxheUdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLkRFRkFVTFQpO1xuICAgIHJlcGxheS5kcmF3Q3VzdG9tKFxuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLCBmZWF0dXJlLCBzdHlsZS5nZXRSZW5kZXJlcigpKTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHQ9fSBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyR2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2V0R2VvbWV0cmllc0FycmF5KCk7XG4gICAgdmFyIGksIGlpO1xuICAgIGZvciAoaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeVJlbmRlcmVyID0gR0VPTUVUUllfUkVOREVSRVJTW2dlb21ldHJpZXNbaV0uZ2V0VHlwZSgpXTtcbiAgICAgICAgZ2VvbWV0cnlSZW5kZXJlcihyZXBsYXlHcm91cCwgZ2VvbWV0cmllc1tpXSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJMaW5lU3RyaW5nR2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICBpZiAoc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgdmFyIGxpbmVTdHJpbmdSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuTElORV9TVFJJTkcpO1xuICAgICAgICBsaW5lU3RyaW5nUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShudWxsLCBzdHJva2VTdHlsZSk7XG4gICAgICAgIGxpbmVTdHJpbmdSZXBsYXkuZHJhd0xpbmVTdHJpbmcoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpTGluZVN0cmluZ0dlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBsaW5lU3RyaW5nUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLkxJTkVfU1RSSU5HKTtcbiAgICAgICAgbGluZVN0cmluZ1JlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUobnVsbCwgc3Ryb2tlU3R5bGUpO1xuICAgICAgICBsaW5lU3RyaW5nUmVwbGF5LmRyYXdNdWx0aUxpbmVTdHJpbmcoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpUG9seWdvbkdlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmdldEZpbGwoKTtcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICBpZiAoc3Ryb2tlU3R5bGUgfHwgZmlsbFN0eWxlKSB7XG4gICAgICAgIHZhciBwb2x5Z29uUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlBPTFlHT04pO1xuICAgICAgICBwb2x5Z29uUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKTtcbiAgICAgICAgcG9seWdvblJlcGxheS5kcmF3TXVsdGlQb2x5Z29uKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICAgICAgdmFyIHRleHRSZXBsYXkgPSAob3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlRFWFQpO1xuICAgICAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclBvaW50R2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgaW1hZ2VTdHlsZSA9IHN0eWxlLmdldEltYWdlKCk7XG4gICAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gKi9cbiAgICB2YXIgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dDtcbiAgICBpZiAob3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgICBidWlsZGVyR3JvdXAgPSBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwO1xuICAgICAgICBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0ID1cbiAgICAgICAgICAgIGltYWdlU3R5bGUgJiYgdGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkgPyB7fSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICAgICAgaWYgKGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpICE9IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGltYWdlUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLklNQUdFKTtcbiAgICAgICAgaW1hZ2VSZXBsYXkuc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KTtcbiAgICAgICAgaW1hZ2VSZXBsYXkuZHJhd1BvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlRFWFQpO1xuICAgICAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgICAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHQ9fSBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTXVsdGlQb2ludEdlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9ICovXG4gICAgdmFyIGRlY2x1dHRlckltYWdlV2l0aFRleHQ7XG4gICAgaWYgKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgICAgYnVpbGRlckdyb3VwID0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cDtcbiAgICAgICAgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCA9XG4gICAgICAgICAgICBpbWFnZVN0eWxlICYmIHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpID8ge30gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpbWFnZVN0eWxlKSB7XG4gICAgICAgIGlmIChpbWFnZVN0eWxlLmdldEltYWdlU3RhdGUoKSAhPSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbWFnZVJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5JTUFHRSk7XG4gICAgICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgIGltYWdlUmVwbGF5LmRyYXdNdWx0aVBvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclBvbHlnb25HZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gICAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgaWYgKGZpbGxTdHlsZSB8fCBzdHJva2VTdHlsZSkge1xuICAgICAgICB2YXIgcG9seWdvblJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5QT0xZR09OKTtcbiAgICAgICAgcG9seWdvblJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgICAgIHBvbHlnb25SZXBsYXkuZHJhd1BvbHlnb24oZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9WZWN0b3JMYXllclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlckdyb3VwIGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzJztcbmltcG9ydCBDYW52YXNMYXllclJlbmRlcmVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IEV4ZWN1dG9yR3JvdXAgZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwLmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuLi8uLi9WaWV3SGludC5qcyc7XG5pbXBvcnQgeyBhcHBseSwgbWFrZUludmVyc2UsIG1ha2VTY2FsZSwgdG9TdHJpbmcgYXMgdHJhbnNmb3JtVG9TdHJpbmcsIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGJ1ZmZlciwgY29udGFpbnNFeHRlbnQsIGNyZWF0ZUVtcHR5LCBnZXRXaWR0aCwgaW50ZXJzZWN0cyBhcyBpbnRlcnNlY3RzRXh0ZW50LCB3cmFwWCBhcyB3cmFwRXh0ZW50WCwgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhLCBoaXREZXRlY3QsIH0gZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3QuanMnO1xuaW1wb3J0IHsgZGVmYXVsdE9yZGVyIGFzIGRlZmF1bHRSZW5kZXJPcmRlciwgZ2V0VG9sZXJhbmNlIGFzIGdldFJlbmRlclRvbGVyYW5jZSwgZ2V0U3F1YXJlZFRvbGVyYW5jZSBhcyBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlLCByZW5kZXJGZWF0dXJlLCB9IGZyb20gJy4uL3ZlY3Rvci5qcyc7XG5pbXBvcnQgeyBmcm9tVXNlckV4dGVudCwgZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zLCBnZXRVc2VyUHJvamVjdGlvbiwgdG9Vc2VyRXh0ZW50LCB9IGZyb20gJy4uLy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyB3cmFwWCBhcyB3cmFwQ29vcmRpbmF0ZVggfSBmcm9tICcuLi8uLi9jb29yZGluYXRlLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciB2ZWN0b3IgbGF5ZXJzLlxuICogQGFwaVxuICovXG52YXIgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3Rvci5qc1wiKS5kZWZhdWx0fSB2ZWN0b3JMYXllciBWZWN0b3IgbGF5ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlcih2ZWN0b3JMYXllcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB2ZWN0b3JMYXllcikgfHwgdGhpcztcbiAgICAgICAgLyoqIEBwcml2YXRlICovXG4gICAgICAgIF90aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8gPSBfdGhpcy5oYW5kbGVTdHlsZUltYWdlQ2hhbmdlXy5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5pbWF0aW5nT3JJbnRlcmFjdGluZ187XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5XyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0ltYWdlRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEZlYXR1cmVzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZXZpc2lvbl8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJlc29sdXRpb25fID0gTmFOO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUm90YXRpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGVcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkQ2VudGVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFByb2plY3Rpb25fID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCk6IG51bWJlcnxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZW5kZXJPcmRlcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cFwiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVwbGF5R3JvdXBfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbmV3IHJlcGxheSBncm91cCBoYWQgdG8gYmUgY3JlYXRlZCBieSBgcHJlcGFyZUZyYW1lKClgXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVwbGF5R3JvdXBDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXBcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2xpcHBpbmcgdG8gYmUgcGVyZm9ybWVkIGJ5IGByZW5kZXJGcmFtZSgpYFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsaXBwaW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSByZW5kZXJpbmcgY29udGFpbmVyIGZyb20gYW4gZXhpc3RpbmcgdGFyZ2V0LCBpZiBjb21wYXRpYmxlLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBQb3RlbnRpYWwgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNmb3JtIENTUyBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS51c2VDb250YWluZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCB0cmFuc2Zvcm0sIG9wYWNpdHkpIHtcbiAgICAgICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXNlQ29udGFpbmVyLmNhbGwodGhpcywgdGFyZ2V0LCB0cmFuc2Zvcm0sIG9wYWNpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFeGVjdXRvckdyb3VwfSBleGVjdXRvckdyb3VwIEV4ZWN1dG9yIGdyb3VwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCJyYnVzaFwiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlclRyZWUgRGVjbHV0dGVyIHRyZWUuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyV29ybGRzID0gZnVuY3Rpb24gKGV4ZWN1dG9yR3JvdXAsIGZyYW1lU3RhdGUsIG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgY2VudGVyID0gdmlld1N0YXRlLmNlbnRlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgICAgIHZhciB2ZWN0b3JTb3VyY2UgPSB0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCk7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgdmlld0hpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgICAgIHZhciBzbmFwVG9QaXhlbCA9ICEodmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgdmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXSk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKGZyYW1lU3RhdGUuc2l6ZVswXSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIG11bHRpV29ybGQgPSB2ZWN0b3JTb3VyY2UuZ2V0V3JhcFgoKSAmJiBwcm9qZWN0aW9uLmNhbldyYXBYKCk7XG4gICAgICAgIHZhciB3b3JsZFdpZHRoID0gbXVsdGlXb3JsZCA/IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpIDogbnVsbDtcbiAgICAgICAgdmFyIGVuZFdvcmxkID0gbXVsdGlXb3JsZFxuICAgICAgICAgICAgPyBNYXRoLmNlaWwoKGV4dGVudFsyXSAtIHByb2plY3Rpb25FeHRlbnRbMl0pIC8gd29ybGRXaWR0aCkgKyAxXG4gICAgICAgICAgICA6IDE7XG4gICAgICAgIHZhciB3b3JsZCA9IG11bHRpV29ybGRcbiAgICAgICAgICAgID8gTWF0aC5mbG9vcigoZXh0ZW50WzBdIC0gcHJvamVjdGlvbkV4dGVudFswXSkgLyB3b3JsZFdpZHRoKVxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5nZXRSZW5kZXJUcmFuc2Zvcm0oY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgcGl4ZWxSYXRpbywgd2lkdGgsIGhlaWdodCwgd29ybGQgKiB3b3JsZFdpZHRoKTtcbiAgICAgICAgICAgIGV4ZWN1dG9yR3JvdXAuZXhlY3V0ZShjb250ZXh0LCAxLCB0cmFuc2Zvcm0sIHJvdGF0aW9uLCBzbmFwVG9QaXhlbCwgdW5kZWZpbmVkLCBvcHRfZGVjbHV0dGVyVHJlZSk7XG4gICAgICAgIH0gd2hpbGUgKCsrd29ybGQgPCBlbmRXb3JsZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgZGVjbHV0dGVyIGl0ZW1zIGZvciB0aGlzIGxheWVyXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJEZWNsdXR0ZXIgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcldvcmxkcyh0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXAsIGZyYW1lU3RhdGUsIGZyYW1lU3RhdGUuZGVjbHV0dGVyVHJlZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgbGF5ZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgVGFyZ2V0IHRoYXQgbWF5IGJlIHVzZWQgdG8gcmVuZGVyIGNvbnRlbnQgdG8uXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUsIHRhcmdldCkge1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXlbZnJhbWVTdGF0ZS5sYXllckluZGV4XTtcbiAgICAgICAgLy8gc2V0IGZvcndhcmQgYW5kIGludmVyc2UgcGl4ZWwgdHJhbnNmb3Jtc1xuICAgICAgICBtYWtlU2NhbGUodGhpcy5waXhlbFRyYW5zZm9ybSwgMSAvIHBpeGVsUmF0aW8sIDEgLyBwaXhlbFJhdGlvKTtcbiAgICAgICAgbWFrZUludmVyc2UodGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuICAgICAgICB2YXIgY2FudmFzVHJhbnNmb3JtID0gdHJhbnNmb3JtVG9TdHJpbmcodGhpcy5waXhlbFRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMudXNlQ29udGFpbmVyKHRhcmdldCwgY2FudmFzVHJhbnNmb3JtLCBsYXllclN0YXRlLm9wYWNpdHkpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICB2YXIgcmVwbGF5R3JvdXAgPSB0aGlzLnJlcGxheUdyb3VwXztcbiAgICAgICAgdmFyIGRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgPSB0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXA7XG4gICAgICAgIGlmICgoIXJlcGxheUdyb3VwIHx8IHJlcGxheUdyb3VwLmlzRW1wdHkoKSkgJiZcbiAgICAgICAgICAgICghZGVjbHV0dGVyRXhlY3V0b3JHcm91cCB8fCBkZWNsdXR0ZXJFeGVjdXRvckdyb3VwLmlzRW1wdHkoKSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jb250YWluZXJSZXVzZWQgJiYgY2FudmFzLndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzaXplIGFuZCBjbGVhclxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKGZyYW1lU3RhdGUuc2l6ZVswXSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPSB3aWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKGNhbnZhcy5zdHlsZS50cmFuc2Zvcm0gIT09IGNhbnZhc1RyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBjYW52YXNUcmFuc2Zvcm07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29udGFpbmVyUmV1c2VkKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZVJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICAvLyBjbGlwcGVkIHJlbmRlcmluZyBpZiBsYXllciBleHRlbnQgaXMgc2V0XG4gICAgICAgIHZhciBjbGlwcGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChsYXllclN0YXRlLmV4dGVudCAmJiB0aGlzLmNsaXBwaW5nKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXJFeHRlbnQgPSBmcm9tVXNlckV4dGVudChsYXllclN0YXRlLmV4dGVudCwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICBjbGlwcGVkID1cbiAgICAgICAgICAgICAgICAhY29udGFpbnNFeHRlbnQobGF5ZXJFeHRlbnQsIGZyYW1lU3RhdGUuZXh0ZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3RzRXh0ZW50KGxheWVyRXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCk7XG4gICAgICAgICAgICBpZiAoY2xpcHBlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpcFVucm90YXRlZChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllckV4dGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJXb3JsZHMocmVwbGF5R3JvdXAsIGZyYW1lU3RhdGUpO1xuICAgICAgICBpZiAoY2xpcHBlZCkge1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3N0UmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICAgICAgICB2YXIgb3BhY2l0eSA9IGxheWVyU3RhdGUub3BhY2l0eTtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBpZiAob3BhY2l0eSAhPT0gcGFyc2VGbG9hdChjb250YWluZXIuc3R5bGUub3BhY2l0eSkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eSA9PT0gMSA/ICcnIDogU3RyaW5nKG9wYWNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkUm90YXRpb25fICE9PSB2aWV3U3RhdGUucm90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRSb3RhdGlvbl8gPSB2aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFzeW5jaHJvbm91cyBsYXllciBsZXZlbCBoaXQgZGV0ZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZVwiKS5kZWZhdWx0Pj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZVwiKS5kZWZhdWx0fGltcG9ydChcIi4uLy4uL3JlbmRlci9GZWF0dXJlXCIpLmRlZmF1bHQ+KTogdm9pZH0gcmVzb2x2ZSBSZXNvbHZlciBmdW5jdGlvbi5cbiAgICAgICAgICogQHRoaXMge0NhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8gJiYgIXRoaXMuYW5pbWF0aW5nT3JJbnRlcmFjdGluZ18pIHtcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IFt0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoLCB0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodF07XG4gICAgICAgICAgICAgICAgYXBwbHkodGhpcy5waXhlbFRyYW5zZm9ybSwgc2l6ZSk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMucmVuZGVyZWRDZW50ZXJfO1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlZFJlc29sdXRpb25fO1xuICAgICAgICAgICAgICAgIHZhciByb3RhdGlvbiA9IHRoaXMucmVuZGVyZWRSb3RhdGlvbl87XG4gICAgICAgICAgICAgICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLnJlbmRlcmVkUHJvamVjdGlvbl87XG4gICAgICAgICAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMucmVuZGVyZWRFeHRlbnRfO1xuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNmb3JtcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNpemVbMF0gLyAyO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzaXplWzFdIC8gMjtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1zLnB1c2godGhpcy5nZXRSZW5kZXJUcmFuc2Zvcm0oY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgMC41LCB3aWR0aCwgaGVpZ2h0LCAwKS5zbGljZSgpKTtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuZ2V0V3JhcFgoKSAmJlxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWNvbnRhaW5zRXh0ZW50KHByb2plY3Rpb25FeHRlbnQsIGV4dGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0WCA9IGV4dGVudFswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmxkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldFggPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydFggPCBwcm9qZWN0aW9uRXh0ZW50WzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAtLXdvcmxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WCA9IHdvcmxkV2lkdGggKiB3b3JsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh0aGlzLmdldFJlbmRlclRyYW5zZm9ybShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCAwLjUsIHdpZHRoLCBoZWlnaHQsIG9mZnNldFgpLnNsaWNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRYICs9IHdvcmxkV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd29ybGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBzdGFydFggPSBleHRlbnRbMl07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydFggPiBwcm9qZWN0aW9uRXh0ZW50WzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3dvcmxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WCA9IHdvcmxkV2lkdGggKiB3b3JsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh0aGlzLmdldFJlbmRlclRyYW5zZm9ybShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCAwLjUsIHdpZHRoLCBoZWlnaHQsIG9mZnNldFgpLnNsaWNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRYIC09IHdvcmxkV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKHNpemUsIHRyYW5zZm9ybXMsIHRoaXMucmVuZGVyZWRGZWF0dXJlc18sIGxheWVyLmdldFN0eWxlRnVuY3Rpb24oKSwgZXh0ZW50LCByZXNvbHV0aW9uLCByb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKGhpdERldGVjdChwaXhlbCwgdGhpcy5yZW5kZXJlZEZlYXR1cmVzXywgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9NYXAuanNcIikuSGl0TWF0Y2g8VD4+fSBtYXRjaGVzIFRoZSBoaXQgZGV0ZWN0ZWQgbWF0Y2hlcyB3aXRoIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgbWF0Y2hlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMucmVwbGF5R3JvdXBfKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+fHRydWU+fSAqL1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZVNxIFRoZSBzcXVhcmVkIGRpc3RhbmNlIHRvIHRoZSBjbGljayBwb3NpdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGZlYXR1cmVDYWxsYmFjayA9IGZ1bmN0aW9uIChmZWF0dXJlLCBnZW9tZXRyeSwgZGlzdGFuY2VTcSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGZlYXR1cmVzW2tleV07XG4gICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlU3EgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goKGZlYXR1cmVzW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICAgICAgICAgICAgICAgIGxheWVyOiBsYXllcixcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVNxOiBkaXN0YW5jZVNxLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2ggIT09IHRydWUgJiYgZGlzdGFuY2VTcSA8IG1hdGNoLmRpc3RhbmNlU3EpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VTcSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlc1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5zcGxpY2UobWF0Y2hlcy5sYXN0SW5kZXhPZihtYXRjaCksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZmVhdHVyZSwgbGF5ZXIsIGdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWF0Y2guZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgICAgICAgICBtYXRjaC5kaXN0YW5jZVNxID0gZGlzdGFuY2VTcTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBleGVjdXRvckdyb3VwcyA9IFt0aGlzLnJlcGxheUdyb3VwX107XG4gICAgICAgIGlmICh0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXApIHtcbiAgICAgICAgICAgIGV4ZWN1dG9yR3JvdXBzLnB1c2godGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBleGVjdXRvckdyb3Vwcy5zb21lKGZ1bmN0aW9uIChleGVjdXRvckdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm4gKHJlc3VsdCA9IGV4ZWN1dG9yR3JvdXAuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgcm90YXRpb24sIGhpdFRvbGVyYW5jZSwgZmVhdHVyZUNhbGxiYWNrLCBleGVjdXRvckdyb3VwID09PSBfdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwXG4gICAgICAgICAgICAgICAgPyBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUuYWxsKCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnZhbHVlOyB9KVxuICAgICAgICAgICAgICAgIDogbnVsbCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYWN0aW9uIG5lY2Vzc2FyeSB0byBnZXQgdGhlIGxheWVyIHJlbmRlcmVkIGFmdGVyIG5ldyBmb250cyBoYXZlIGxvYWRlZFxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUZvbnRzQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICBpZiAobGF5ZXIuZ2V0VmlzaWJsZSgpICYmIHRoaXMucmVwbGF5R3JvdXBfKSB7XG4gICAgICAgICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjaGFuZ2VzIGluIGltYWdlIHN0eWxlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIHN0eWxlIGNoYW5nZSBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gTGF5ZXIgaXMgcmVhZHkgdG8gYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlcGFyZUZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIHZlY3RvckxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdmVjdG9yU291cmNlID0gdmVjdG9yTGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICAgIGlmICghdmVjdG9yU291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFuaW1hdGluZyA9IGZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR107XG4gICAgICAgIHZhciBpbnRlcmFjdGluZyA9IGZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXTtcbiAgICAgICAgdmFyIHVwZGF0ZVdoaWxlQW5pbWF0aW5nID0gdmVjdG9yTGF5ZXIuZ2V0VXBkYXRlV2hpbGVBbmltYXRpbmcoKTtcbiAgICAgICAgdmFyIHVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgPSB2ZWN0b3JMYXllci5nZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nKCk7XG4gICAgICAgIGlmICgoIXRoaXMuZGlydHlfICYmICF1cGRhdGVXaGlsZUFuaW1hdGluZyAmJiBhbmltYXRpbmcpIHx8XG4gICAgICAgICAgICAoIXVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgJiYgaW50ZXJhY3RpbmcpKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGluZ09ySW50ZXJhY3RpbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW5nT3JJbnRlcmFjdGluZ18gPSBmYWxzZTtcbiAgICAgICAgdmFyIGZyYW1lU3RhdGVFeHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHZlY3RvckxheWVyUmV2aXNpb24gPSB2ZWN0b3JMYXllci5nZXRSZXZpc2lvbigpO1xuICAgICAgICB2YXIgdmVjdG9yTGF5ZXJSZW5kZXJCdWZmZXIgPSB2ZWN0b3JMYXllci5nZXRSZW5kZXJCdWZmZXIoKTtcbiAgICAgICAgdmFyIHZlY3RvckxheWVyUmVuZGVyT3JkZXIgPSB2ZWN0b3JMYXllci5nZXRSZW5kZXJPcmRlcigpO1xuICAgICAgICBpZiAodmVjdG9yTGF5ZXJSZW5kZXJPcmRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2ZWN0b3JMYXllclJlbmRlck9yZGVyID0gZGVmYXVsdFJlbmRlck9yZGVyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjZW50ZXIgPSB2aWV3U3RhdGUuY2VudGVyLnNsaWNlKCk7XG4gICAgICAgIHZhciBleHRlbnQgPSBidWZmZXIoZnJhbWVTdGF0ZUV4dGVudCwgdmVjdG9yTGF5ZXJSZW5kZXJCdWZmZXIgKiByZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIGxvYWRFeHRlbnRzID0gW2V4dGVudC5zbGljZSgpXTtcbiAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICBpZiAodmVjdG9yU291cmNlLmdldFdyYXBYKCkgJiZcbiAgICAgICAgICAgIHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgICAgICAgICAgIWNvbnRhaW5zRXh0ZW50KHByb2plY3Rpb25FeHRlbnQsIGZyYW1lU3RhdGUuZXh0ZW50KSkge1xuICAgICAgICAgICAgLy8gRm9yIHRoZSByZXBsYXkgZ3JvdXAsIHdlIG5lZWQgYW4gZXh0ZW50IHRoYXQgaW50ZXJzZWN0cyB0aGUgcmVhbCB3b3JsZFxuICAgICAgICAgICAgLy8gKC0xODDCsCB0byArMTgwwrApLiBUbyBzdXBwb3J0IGdlb21ldHJpZXMgaW4gYSBjb29yZGluYXRlIHJhbmdlIGZyb20gLTU0MMKwXG4gICAgICAgICAgICAvLyB0byArNTQwwrAsIHdlIGFkZCBhdCBsZWFzdCAxIHdvcmxkIHdpZHRoIG9uIGVhY2ggc2lkZSBvZiB0aGUgcHJvamVjdGlvblxuICAgICAgICAgICAgLy8gZXh0ZW50LiBJZiB0aGUgdmlld3BvcnQgaXMgd2lkZXIgdGhhbiB0aGUgd29ybGQsIHdlIG5lZWQgdG8gYWRkIGhhbGYgb2ZcbiAgICAgICAgICAgIC8vIHRoZSB2aWV3cG9ydCB3aWR0aCB0byBtYWtlIHN1cmUgd2UgY292ZXIgdGhlIHdob2xlIHZpZXdwb3J0LlxuICAgICAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgICAgIHZhciBndXR0ZXIgPSBNYXRoLm1heChnZXRXaWR0aChleHRlbnQpIC8gMiwgd29ybGRXaWR0aCk7XG4gICAgICAgICAgICBleHRlbnRbMF0gPSBwcm9qZWN0aW9uRXh0ZW50WzBdIC0gZ3V0dGVyO1xuICAgICAgICAgICAgZXh0ZW50WzJdID0gcHJvamVjdGlvbkV4dGVudFsyXSArIGd1dHRlcjtcbiAgICAgICAgICAgIHdyYXBDb29yZGluYXRlWChjZW50ZXIsIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgdmFyIGxvYWRFeHRlbnQgPSB3cmFwRXh0ZW50WChsb2FkRXh0ZW50c1swXSwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZXh0ZW50IGNyb3NzZXMgdGhlIGRhdGUgbGluZSwgd2UgbG9hZCBkYXRhIGZvciBib3RoIGVkZ2VzIG9mIHRoZSB3b3JsZHNcbiAgICAgICAgICAgIGlmIChsb2FkRXh0ZW50WzBdIDwgcHJvamVjdGlvbkV4dGVudFswXSAmJlxuICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMl0gPCBwcm9qZWN0aW9uRXh0ZW50WzJdKSB7XG4gICAgICAgICAgICAgICAgbG9hZEV4dGVudHMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMF0gKyB3b3JsZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzFdLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzJdICsgd29ybGRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFszXSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxvYWRFeHRlbnRbMF0gPiBwcm9qZWN0aW9uRXh0ZW50WzBdICYmXG4gICAgICAgICAgICAgICAgbG9hZEV4dGVudFsyXSA+IHByb2plY3Rpb25FeHRlbnRbMl0pIHtcbiAgICAgICAgICAgICAgICBsb2FkRXh0ZW50cy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFswXSAtIHdvcmxkV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMl0gLSB3b3JsZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzNdLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kaXJ0eV8gJiZcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uXyA9PSByZXNvbHV0aW9uICYmXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID09IHZlY3RvckxheWVyUmV2aXNpb24gJiZcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRSZW5kZXJPcmRlcl8gPT0gdmVjdG9yTGF5ZXJSZW5kZXJPcmRlciAmJlxuICAgICAgICAgICAgY29udGFpbnNFeHRlbnQodGhpcy5yZW5kZXJlZEV4dGVudF8sIGV4dGVudCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVwbGF5R3JvdXBDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcGxheUdyb3VwXyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlydHlfID0gZmFsc2U7XG4gICAgICAgIHZhciByZXBsYXlHcm91cCA9IG5ldyBDYW52YXNCdWlsZGVyR3JvdXAoZ2V0UmVuZGVyVG9sZXJhbmNlKHJlc29sdXRpb24sIHBpeGVsUmF0aW8pLCBleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgZGVjbHV0dGVyQnVpbGRlckdyb3VwO1xuICAgICAgICBpZiAodGhpcy5nZXRMYXllcigpLmdldERlY2x1dHRlcigpKSB7XG4gICAgICAgICAgICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXAgPSBuZXcgQ2FudmFzQnVpbGRlckdyb3VwKGdldFJlbmRlclRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSwgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlclByb2plY3Rpb24gPSBnZXRVc2VyUHJvamVjdGlvbigpO1xuICAgICAgICB2YXIgdXNlclRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHVzZXJQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsb2FkRXh0ZW50cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmVjdG9yU291cmNlLmxvYWRGZWF0dXJlcyh0b1VzZXJFeHRlbnQobG9hZEV4dGVudHNbaV0sIHByb2plY3Rpb24pLCByZXNvbHV0aW9uLCB1c2VyUHJvamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1c2VyVHJhbnNmb3JtID0gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKHVzZXJQcm9qZWN0aW9uLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxvYWRFeHRlbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZWN0b3JTb3VyY2UubG9hZEZlYXR1cmVzKGxvYWRFeHRlbnRzW2ldLCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc3F1YXJlZFRvbGVyYW5jZSA9IGdldFNxdWFyZWRSZW5kZXJUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciByZW5kZXIgPSBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqIEB0aGlzIHtDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZXM7XG4gICAgICAgICAgICB2YXIgc3R5bGVGdW5jdGlvbiA9IGZlYXR1cmUuZ2V0U3R5bGVGdW5jdGlvbigpIHx8IHZlY3RvckxheWVyLmdldFN0eWxlRnVuY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChzdHlsZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzID0gc3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlydHkgPSB0aGlzLnJlbmRlckZlYXR1cmUoZmVhdHVyZSwgc3F1YXJlZFRvbGVyYW5jZSwgc3R5bGVzLCByZXBsYXlHcm91cCwgdXNlclRyYW5zZm9ybSwgZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5XyA9IHRoaXMuZGlydHlfIHx8IGRpcnR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgIHZhciB1c2VyRXh0ZW50ID0gdG9Vc2VyRXh0ZW50KGV4dGVudCwgcHJvamVjdGlvbik7XG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gKi9cbiAgICAgICAgdmFyIGZlYXR1cmVzID0gdmVjdG9yU291cmNlLmdldEZlYXR1cmVzSW5FeHRlbnQodXNlckV4dGVudCk7XG4gICAgICAgIGlmICh2ZWN0b3JMYXllclJlbmRlck9yZGVyKSB7XG4gICAgICAgICAgICBmZWF0dXJlcy5zb3J0KHZlY3RvckxheWVyUmVuZGVyT3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZlYXR1cmVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHJlbmRlcihmZWF0dXJlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZEZlYXR1cmVzXyA9IGZlYXR1cmVzO1xuICAgICAgICB2YXIgcmVwbGF5R3JvdXBJbnN0cnVjdGlvbnMgPSByZXBsYXlHcm91cC5maW5pc2goKTtcbiAgICAgICAgdmFyIGV4ZWN1dG9yR3JvdXAgPSBuZXcgRXhlY3V0b3JHcm91cChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHZlY3RvclNvdXJjZS5nZXRPdmVybGFwcygpLCByZXBsYXlHcm91cEluc3RydWN0aW9ucywgdmVjdG9yTGF5ZXIuZ2V0UmVuZGVyQnVmZmVyKCkpO1xuICAgICAgICBpZiAoZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgPSBuZXcgRXhlY3V0b3JHcm91cChleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHZlY3RvclNvdXJjZS5nZXRPdmVybGFwcygpLCBkZWNsdXR0ZXJCdWlsZGVyR3JvdXAuZmluaXNoKCksIHZlY3RvckxheWVyLmdldFJlbmRlckJ1ZmZlcigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gdmVjdG9yTGF5ZXJSZXZpc2lvbjtcbiAgICAgICAgdGhpcy5yZW5kZXJlZFJlbmRlck9yZGVyXyA9IHZlY3RvckxheWVyUmVuZGVyT3JkZXI7XG4gICAgICAgIHRoaXMucmVuZGVyZWRFeHRlbnRfID0gZXh0ZW50O1xuICAgICAgICB0aGlzLnJlbmRlcmVkQ2VudGVyXyA9IGNlbnRlcjtcbiAgICAgICAgdGhpcy5yZW5kZXJlZFByb2plY3Rpb25fID0gcHJvamVjdGlvbjtcbiAgICAgICAgdGhpcy5yZXBsYXlHcm91cF8gPSBleGVjdXRvckdyb3VwO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YV8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlcGxheUdyb3VwQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHJlbmRlciB0b2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5PGltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fSBzdHlsZXMgVGhlIHN0eWxlIG9yIGFycmF5IG9mIHN0eWxlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBCdWlsZGVyIGdyb3VwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbj19IG9wdF90cmFuc2Zvcm0gVHJhbnNmb3JtIGZyb20gdXNlciB0byB2aWV3IHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGFuIGltYWdlIGlzIGxvYWRpbmcuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRmVhdHVyZSA9IGZ1bmN0aW9uIChmZWF0dXJlLCBzcXVhcmVkVG9sZXJhbmNlLCBzdHlsZXMsIGJ1aWxkZXJHcm91cCwgb3B0X3RyYW5zZm9ybSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgICBpZiAoIXN0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHN0eWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgbG9hZGluZyA9XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckZlYXR1cmUoYnVpbGRlckdyb3VwLCBmZWF0dXJlLCBzdHlsZXNbaV0sIHNxdWFyZWRUb2xlcmFuY2UsIHRoaXMuYm91bmRIYW5kbGVTdHlsZUltYWdlQ2hhbmdlXywgb3B0X3RyYW5zZm9ybSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkgfHwgbG9hZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvYWRpbmcgPSByZW5kZXJGZWF0dXJlKGJ1aWxkZXJHcm91cCwgZmVhdHVyZSwgc3R5bGVzLCBzcXVhcmVkVG9sZXJhbmNlLCB0aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2FkaW5nO1xuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXI7XG59KENhbnZhc0xheWVyUmVuZGVyZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JMYXllci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3RcbiAqL1xuaW1wb3J0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyIGZyb20gJy4vSW1tZWRpYXRlLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IEljb25BbmNob3JVbml0cyBmcm9tICcuLi8uLi9zdHlsZS9JY29uQW5jaG9yVW5pdHMuanMnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4uLy4uL3N0eWxlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIENhbnZhcyBzaXplIGluIGNzcyBwaXhlbHMuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm0+fSB0cmFuc2Zvcm1zIFRyYW5zZm9ybXNcbiAqIGZvciByZW5kZXJpbmcgZmVhdHVyZXMgdG8gYWxsIHdvcmxkcyBvZiB0aGUgdmlld3BvcnQsIGZyb20gY29vcmRpbmF0ZXMgdG8gY3NzXG4gKiBwaXhlbHMuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+fSBmZWF0dXJlc1xuICogRmVhdHVyZXMgdG8gY29uc2lkZXIgZm9yIGhpdCBkZXRlY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBzdHlsZUZ1bmN0aW9uXG4gKiBMYXllciBzdHlsZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcmV0dXJuIHtJbWFnZURhdGF9IEhpdCBkZXRlY3Rpb24gaW1hZ2UgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YShzaXplLCB0cmFuc2Zvcm1zLCBmZWF0dXJlcywgc3R5bGVGdW5jdGlvbiwgZXh0ZW50LCByZXNvbHV0aW9uLCByb3RhdGlvbikge1xuICAgIHZhciB3aWR0aCA9IHNpemVbMF0gLyAyO1xuICAgIHZhciBoZWlnaHQgPSBzaXplWzFdIC8gMjtcbiAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICB2YXIgcmVuZGVyZXIgPSBuZXcgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIoY29udGV4dCwgMC41LCBleHRlbnQsIG51bGwsIHJvdGF0aW9uKTtcbiAgICB2YXIgZmVhdHVyZUNvdW50ID0gZmVhdHVyZXMubGVuZ3RoO1xuICAgIC8vIFN0cmV0Y2ggaGl0IGRldGVjdGlvbiBpbmRleCB0byB1c2UgdGhlIHdob2xlIGF2YWlsYWJsZSBjb2xvciByYW5nZVxuICAgIHZhciBpbmRleEZhY3RvciA9IE1hdGguZmxvb3IoKDI1NiAqIDI1NiAqIDI1NiAtIDEpIC8gZmVhdHVyZUNvdW50KTtcbiAgICB2YXIgZmVhdHVyZXNCeVpJbmRleCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGZlYXR1cmVDb3VudDsgKytpKSB7XG4gICAgICAgIHZhciBmZWF0dXJlID0gZmVhdHVyZXNbaSAtIDFdO1xuICAgICAgICB2YXIgZmVhdHVyZVN0eWxlRnVuY3Rpb24gPSBmZWF0dXJlLmdldFN0eWxlRnVuY3Rpb24oKSB8fCBzdHlsZUZ1bmN0aW9uO1xuICAgICAgICBpZiAoIXN0eWxlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZXMgPSBmZWF0dXJlU3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICAgICAgICBzdHlsZXMgPSBbc3R5bGVzXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBpICogaW5kZXhGYWN0b3I7XG4gICAgICAgIHZhciBjb2xvciA9ICcjJyArICgnMDAwMDAwJyArIGluZGV4LnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBzdHlsZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsU3R5bGUgPSBzdHlsZXNbal07XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBvcmlnaW5hbFN0eWxlLmNsb25lKCk7XG4gICAgICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmdldEZpbGwoKTtcbiAgICAgICAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgICAgICAgICAgZmlsbC5zZXRDb2xvcihjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3Ryb2tlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgc3Ryb2tlLnNldENvbG9yKGNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlLnNldFRleHQodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG9yaWdpbmFsU3R5bGUuZ2V0SW1hZ2UoKTtcbiAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbWdTaXplID0gaW1hZ2UuZ2V0SW1hZ2VTaXplKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpbWdTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzXzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBjYW52YXNfMS53aWR0aCA9IGltZ1NpemVbMF07XG4gICAgICAgICAgICAgICAgY2FudmFzXzEuaGVpZ2h0ID0gaW1nU2l6ZVsxXTtcbiAgICAgICAgICAgICAgICB2YXIgaW1nQ29udGV4dCA9IGNhbnZhc18xLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgaW1nQ29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gaW1nQ29udGV4dC5jYW52YXM7XG4gICAgICAgICAgICAgICAgaW1nQ29udGV4dC5maWxsUmVjdCgwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aF8xID0gaW1nU2l6ZSA/IGltZ1NpemVbMF0gOiBpbWcud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodF8xID0gaW1nU2l6ZSA/IGltZ1NpemVbMV0gOiBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciBpY29uQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aF8xLCBoZWlnaHRfMSk7XG4gICAgICAgICAgICAgICAgaWNvbkNvbnRleHQuZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgICAgICAgICAgc3R5bGUuc2V0SW1hZ2UobmV3IEljb24oe1xuICAgICAgICAgICAgICAgICAgICBpbWc6IGltZyxcbiAgICAgICAgICAgICAgICAgICAgaW1nU2l6ZTogaW1nU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yOiBpbWFnZS5nZXRBbmNob3IoKSxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWFVuaXRzOiBJY29uQW5jaG9yVW5pdHMuUElYRUxTLFxuICAgICAgICAgICAgICAgICAgICBhbmNob3JZVW5pdHM6IEljb25BbmNob3JVbml0cy5QSVhFTFMsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogaW1hZ2UuZ2V0T3JpZ2luKCksXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IGltYWdlLmdldFNpemUoKSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogaW1hZ2UuZ2V0T3BhY2l0eSgpLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogaW1hZ2UuZ2V0U2NhbGUoKSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IGltYWdlLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiBpbWFnZS5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB6SW5kZXggPSBOdW1iZXIoc3R5bGUuZ2V0WkluZGV4KCkpO1xuICAgICAgICAgICAgdmFyIGJ5R2VvbWV0cnlUeXBlID0gZmVhdHVyZXNCeVpJbmRleFt6SW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFieUdlb21ldHJ5VHlwZSkge1xuICAgICAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlID0ge307XG4gICAgICAgICAgICAgICAgZmVhdHVyZXNCeVpJbmRleFt6SW5kZXhdID0gYnlHZW9tZXRyeVR5cGU7XG4gICAgICAgICAgICAgICAgYnlHZW9tZXRyeVR5cGVbR2VvbWV0cnlUeXBlLlBPTFlHT05dID0gW107XG4gICAgICAgICAgICAgICAgYnlHZW9tZXRyeVR5cGVbR2VvbWV0cnlUeXBlLkNJUkNMRV0gPSBbXTtcbiAgICAgICAgICAgICAgICBieUdlb21ldHJ5VHlwZVtHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddID0gW107XG4gICAgICAgICAgICAgICAgYnlHZW9tZXRyeVR5cGVbR2VvbWV0cnlUeXBlLlBPSU5UXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gc3R5bGUuZ2V0R2VvbWV0cnlGdW5jdGlvbigpKGZlYXR1cmUpO1xuICAgICAgICAgICAgaWYgKGdlb21ldHJ5ICYmIGludGVyc2VjdHMoZXh0ZW50LCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgICAgICBieUdlb21ldHJ5VHlwZVtnZW9tZXRyeS5nZXRUeXBlKCkucmVwbGFjZSgnTXVsdGknLCAnJyldLnB1c2goZ2VvbWV0cnksIHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgekluZGV4S2V5cyA9IE9iamVjdC5rZXlzKGZlYXR1cmVzQnlaSW5kZXgpXG4gICAgICAgIC5tYXAoTnVtYmVyKVxuICAgICAgICAuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB6SW5kZXhLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGJ5R2VvbWV0cnlUeXBlID0gZmVhdHVyZXNCeVpJbmRleFt6SW5kZXhLZXlzW2ldXTtcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBieUdlb21ldHJ5VHlwZSkge1xuICAgICAgICAgICAgdmFyIGdlb21BbmRTdHlsZSA9IGJ5R2VvbWV0cnlUeXBlW3R5cGVdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gZ2VvbUFuZFN0eWxlLmxlbmd0aDsgaiA8IGpqOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRTdHlsZShnZW9tQW5kU3R5bGVbaiArIDFdKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMCwga2sgPSB0cmFuc2Zvcm1zLmxlbmd0aDsgayA8IGtrOyArK2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybXNba10pO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5kcmF3R2VvbWV0cnkoZ2VvbUFuZFN0eWxlW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIGNvb3JkaW5hdGUgb24gdGhlIGhpdFxuICogZGV0ZWN0aW9uIGNhbnZhcyBpbiBjc3MgcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPn0gZmVhdHVyZXMgRmVhdHVyZXMuIEhhcyB0b1xuICogbWF0Y2ggdGhlIGBmZWF0dXJlc2AgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIHRvIGBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoKWAuXG4gKiBAcGFyYW0ge0ltYWdlRGF0YX0gaW1hZ2VEYXRhIEhpdCBkZXRlY3Rpb24gaW1hZ2UgZGF0YSBnZW5lcmF0ZWQgYnlcbiAqIGBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoKWAuXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPn0gZmVhdHVyZXMgRmVhdHVyZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaXREZXRlY3QocGl4ZWwsIGZlYXR1cmVzLCBpbWFnZURhdGEpIHtcbiAgICB2YXIgcmVzdWx0RmVhdHVyZXMgPSBbXTtcbiAgICBpZiAoaW1hZ2VEYXRhKSB7XG4gICAgICAgIHZhciBpbmRleCA9IChNYXRoLnJvdW5kKHBpeGVsWzBdIC8gMikgKyBNYXRoLnJvdW5kKHBpeGVsWzFdIC8gMikgKiBpbWFnZURhdGEud2lkdGgpICpcbiAgICAgICAgICAgIDQ7XG4gICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXhdO1xuICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMV07XG4gICAgICAgIHZhciBiID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAyXTtcbiAgICAgICAgdmFyIGkgPSBiICsgMjU2ICogKGcgKyAyNTYgKiByKTtcbiAgICAgICAgdmFyIGluZGV4RmFjdG9yID0gTWF0aC5mbG9vcigoMjU2ICogMjU2ICogMjU2IC0gMSkgLyBmZWF0dXJlcy5sZW5ndGgpO1xuICAgICAgICBpZiAoaSAmJiBpICUgaW5kZXhGYWN0b3IgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdEZlYXR1cmVzLnB1c2goZmVhdHVyZXNbaSAvIGluZGV4RmFjdG9yIC0gMV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRGZWF0dXJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhpdGRldGVjdC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1ZlY3RvclxuICovXG5pbXBvcnQgQmFzZVZlY3RvckxheWVyIGZyb20gJy4vQmFzZVZlY3Rvci5qcyc7XG5pbXBvcnQgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlciBmcm9tICcuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXIuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBWZWN0b3IgZGF0YSB0aGF0IGlzIHJlbmRlcmVkIGNsaWVudC1zaWRlLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEBleHRlbmRzIHtCYXNlVmVjdG9yTGF5ZXI8aW1wb3J0KFwiLi4vc291cmNlL1ZlY3Rvci5qc1wiKS5kZWZhdWx0Pn1cbiAqIEBhcGlcbiAqL1xudmFyIFZlY3RvckxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWZWN0b3JMYXllciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQmFzZVZlY3Rvci5qc1wiKS5PcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWZWN0b3JMYXllcihvcHRfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgb3B0X29wdGlvbnMpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHJlbmRlcmVyIGZvciB0aGlzIGxheWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IEEgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICovXG4gICAgVmVjdG9yTGF5ZXIucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gVmVjdG9yTGF5ZXI7XG59KEJhc2VWZWN0b3JMYXllcikpO1xuZXhwb3J0IGRlZmF1bHQgVmVjdG9yTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3IuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0cnVjdHMvUkJ1c2hcbiAqL1xuaW1wb3J0IFJCdXNoXyBmcm9tICdyYnVzaCc7XG5pbXBvcnQgeyBjcmVhdGVPclVwZGF0ZSwgZXF1YWxzIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEVudHJ5XG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pbllcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhYXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WVxuICogQHByb3BlcnR5IHtPYmplY3R9IFt2YWx1ZV1cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBXcmFwcGVyIGFyb3VuZCB0aGUgUkJ1c2ggYnkgVmxhZGltaXIgQWdhZm9ua2luLlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbnZhciBSQnVzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9tYXhFbnRyaWVzIE1heCBlbnRyaWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJCdXNoKG9wdF9tYXhFbnRyaWVzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYnVzaF8gPSBuZXcgUkJ1c2hfKG9wdF9tYXhFbnRyaWVzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwcGluZyBiZXR3ZWVuIHRoZSBvYmplY3RzIGFkZGVkIHRvIHRoaXMgcmJ1c2ggd3JhcHBlclxuICAgICAgICAgKiBhbmQgdGhlIG9iamVjdHMgdGhhdCBhcmUgYWN0dWFsbHkgYWRkZWQgdG8gdGhlIGludGVybmFsIHJidXNoLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgRW50cnk+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtc18gPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IGEgdmFsdWUgaW50byB0aGUgUkJ1c2guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChleHRlbnQsIHZhbHVlKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7RW50cnl9ICovXG4gICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgbWluWDogZXh0ZW50WzBdLFxuICAgICAgICAgICAgbWluWTogZXh0ZW50WzFdLFxuICAgICAgICAgICAgbWF4WDogZXh0ZW50WzJdLFxuICAgICAgICAgICAgbWF4WTogZXh0ZW50WzNdLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJidXNoXy5pbnNlcnQoaXRlbSk7XG4gICAgICAgIHRoaXMuaXRlbXNfW2dldFVpZCh2YWx1ZSldID0gaXRlbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJ1bGstaW5zZXJ0IHZhbHVlcyBpbnRvIHRoZSBSQnVzaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBleHRlbnRzIEV4dGVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheTxUPn0gdmFsdWVzIFZhbHVlcy5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChleHRlbnRzLCB2YWx1ZXMpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBleHRlbnRzW2ldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgLyoqIEB0eXBlIHtFbnRyeX0gKi9cbiAgICAgICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgICAgIG1pblg6IGV4dGVudFswXSxcbiAgICAgICAgICAgICAgICBtaW5ZOiBleHRlbnRbMV0sXG4gICAgICAgICAgICAgICAgbWF4WDogZXh0ZW50WzJdLFxuICAgICAgICAgICAgICAgIG1heFk6IGV4dGVudFszXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaXRlbXNbaV0gPSBpdGVtO1xuICAgICAgICAgICAgdGhpcy5pdGVtc19bZ2V0VWlkKHZhbHVlKV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmJ1c2hfLmxvYWQoaXRlbXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgdmFsdWUgZnJvbSB0aGUgUkJ1c2guXG4gICAgICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZW1vdmVkLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHVpZCA9IGdldFVpZCh2YWx1ZSk7XG4gICAgICAgIC8vIGdldCB0aGUgb2JqZWN0IGluIHdoaWNoIHRoZSB2YWx1ZSB3YXMgd3JhcHBlZCB3aGVuIGFkZGluZyB0byB0aGVcbiAgICAgICAgLy8gaW50ZXJuYWwgcmJ1c2guIHRoZW4gdXNlIHRoYXQgb2JqZWN0IHRvIGRvIHRoZSByZW1vdmFsLlxuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNfW3VpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1zX1t1aWRdO1xuICAgICAgICByZXR1cm4gdGhpcy5yYnVzaF8ucmVtb3ZlKGl0ZW0pICE9PSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBleHRlbnQgb2YgYSB2YWx1ZSBpbiB0aGUgUkJ1c2guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChleHRlbnQsIHZhbHVlKSB7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc19bZ2V0VWlkKHZhbHVlKV07XG4gICAgICAgIHZhciBiYm94ID0gW2l0ZW0ubWluWCwgaXRlbS5taW5ZLCBpdGVtLm1heFgsIGl0ZW0ubWF4WV07XG4gICAgICAgIGlmICghZXF1YWxzKGJib3gsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGV4dGVudCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIHZhbHVlcyBpbiB0aGUgUkJ1c2guXG4gICAgICogQHJldHVybiB7QXJyYXk8VD59IEFsbC5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnJidXNoXy5hbGwoKTtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCB2YWx1ZXMgaW4gdGhlIGdpdmVuIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHJldHVybiB7QXJyYXk8VD59IEFsbCBpbiBleHRlbnQuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmdldEluRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICAvKiogQHR5cGUge0VudHJ5fSAqL1xuICAgICAgICB2YXIgYmJveCA9IHtcbiAgICAgICAgICAgIG1pblg6IGV4dGVudFswXSxcbiAgICAgICAgICAgIG1pblk6IGV4dGVudFsxXSxcbiAgICAgICAgICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICAgICAgICAgIG1heFk6IGV4dGVudFszXSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5yYnVzaF8uc2VhcmNoKGJib3gpO1xuICAgICAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxscyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggZWFjaCB2YWx1ZSBpbiB0aGUgdHJlZS5cbiAgICAgKiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSwgdGhpcyB2YWx1ZSBpcyByZXR1cm5lZCB3aXRob3V0XG4gICAgICogY2hlY2tpbmcgdGhlIHJlc3Qgb2YgdGhlIHRyZWUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihUKTogKn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gICAgICogQHJldHVybiB7Kn0gQ2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2hfKHRoaXMuZ2V0QWxsKCksIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxzIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBlYWNoIHZhbHVlIGluIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEByZXR1cm4geyp9IENhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZm9yRWFjaEluRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaF8odGhpcy5nZXRJbkV4dGVudChleHRlbnQpLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PFQ+fSB2YWx1ZXMgVmFsdWVzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Kn0gQ2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5mb3JFYWNoXyA9IGZ1bmN0aW9uICh2YWx1ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2sodmFsdWVzW2ldKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlzRW1wdHkodGhpcy5pdGVtc18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCB2YWx1ZXMgZnJvbSB0aGUgUkJ1c2guXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJidXNoXy5jbGVhcigpO1xuICAgICAgICB0aGlzLml0ZW1zXyA9IHt9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBFeHRlbnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAob3B0X2V4dGVudCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMucmJ1c2hfLnRvSlNPTigpO1xuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoZGF0YS5taW5YLCBkYXRhLm1pblksIGRhdGEubWF4WCwgZGF0YS5tYXhZLCBvcHRfZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UkJ1c2h9IHJidXNoIFItVHJlZS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gKHJidXNoKSB7XG4gICAgICAgIHRoaXMucmJ1c2hfLmxvYWQocmJ1c2gucmJ1c2hfLmFsbCgpKTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiByYnVzaC5pdGVtc18pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNfW2ldID0gcmJ1c2guaXRlbXNfW2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUkJ1c2g7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUkJ1c2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SQnVzaC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9Tb3VyY2VcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuL1N0YXRlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiB9IGZyb20gJy4uL3Byb2ouanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZyBvciBhbiBhcnJheSBvZiBzdHJpbmdzIHJlcHJlc2VudGluZyBzb3VyY2VcbiAqIGF0dHJpYnV0aW9ucy5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGUpOiAoc3RyaW5nfEFycmF5PHN0cmluZz4pfSBBdHRyaWJ1dGlvblxuICovXG4vKipcbiAqIEEgdHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYXR0cmlidXRpb24gaW5mb3JtYXRpb24gZm9yIGRhdGEgc291cmNlcy5cbiAqXG4gKiBJdCByZXByZXNlbnRzIGVpdGhlclxuICogKiBhIHNpbXBsZSBzdHJpbmcgKGUuZy4gYCfCqSBBY21lIEluYy4nYClcbiAqICogYW4gYXJyYXkgb2Ygc2ltcGxlIHN0cmluZ3MgKGUuZy4gYFsnwqkgQWNtZSBJbmMuJywgJ8KpIEJhY21lIEluYy4nXWApXG4gKiAqIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgKHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn0pXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xBcnJheTxzdHJpbmc+fEF0dHJpYnV0aW9ufSBBdHRyaWJ1dGlvbkxpa2VcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0F0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLiBEZWZhdWx0IGlzIHRoZSB2aWV3IHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlPSdyZWFkeSddXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD1mYWxzZV1cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyfSBzb3VyY2VzLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBjaGFuZ2VzLlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgU291cmNlIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU291cmNlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByb2plY3Rpb25fID0gZ2V0UHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9BdHRyaWJ1dGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF0dHJpYnV0aW9uc18gPSBhZGFwdEF0dHJpYnV0aW9ucyhvcHRpb25zLmF0dHJpYnV0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyA9XG4gICAgICAgICAgICBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGVcbiAgICAgICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZyBkYXRhLiBTb3VyY2VzIHRoYXQgZGVmZXIgbG9hZGluZyB0byB0aGVcbiAgICAgICAgICogbWFwJ3MgdGlsZSBxdWV1ZSBuZXZlciBzZXQgdGhpcyB0byBgdHJ1ZWAuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlXyA9XG4gICAgICAgICAgICBvcHRpb25zLnN0YXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0YXRlIDogU291cmNlU3RhdGUuUkVBRFk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBYXyA9IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGF0dHJpYnV0aW9uIGZ1bmN0aW9uIGZvciB0aGUgc291cmNlLlxuICAgICAqIEByZXR1cm4gez9BdHRyaWJ1dGlvbn0gQXR0cmlidXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcHJvamVjdGlvbiBvZiB0aGUgc291cmNlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBQcm9qZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLmdldFByb2plY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IFJlc29sdXRpb25zLlxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlLCBzZWUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvU3RhdGV+U3RhdGV9IGZvciBwb3NzaWJsZSBzdGF0ZXMuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBTdGF0ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IFdyYXAgWC5cbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLmdldFdyYXBYID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwWF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R8dW5kZWZpbmVkfSBDb250ZXh0IG9wdGlvbnMuXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRDb250ZXh0T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyB0aGUgc291cmNlLiBUaGUgc291cmNlIHdpbGwgYmUgY2xlYXJlZCwgYW5kIGRhdGEgZnJvbSB0aGUgc2VydmVyIHdpbGwgYmUgcmVsb2FkZWQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGF0dHJpYnV0aW9ucyBvZiB0aGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7QXR0cmlidXRpb25MaWtlfHVuZGVmaW5lZH0gYXR0cmlidXRpb25zIEF0dHJpYnV0aW9ucy5cbiAgICAgKiAgICAgQ2FuIGJlIHBhc3NlZCBhcyBgc3RyaW5nYCwgYEFycmF5PHN0cmluZz5gLCB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9Tb3VyY2V+QXR0cmlidXRpb259LFxuICAgICAqICAgICBvciBgdW5kZWZpbmVkYC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGlvbnMgPSBmdW5jdGlvbiAoYXR0cmlidXRpb25zKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRpb25zXyA9IGFkYXB0QXR0cmlidXRpb25zKGF0dHJpYnV0aW9ucyk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGVfID0gc3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNvdXJjZTtcbn0oQmFzZU9iamVjdCkpO1xuLyoqXG4gKiBUdXJucyB0aGUgYXR0cmlidXRpb25zIG9wdGlvbiBpbnRvIGFuIGF0dHJpYnV0aW9ucyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7QXR0cmlidXRpb25MaWtlfHVuZGVmaW5lZH0gYXR0cmlidXRpb25MaWtlIFRoZSBhdHRyaWJ1dGlvbiBvcHRpb24uXG4gKiBAcmV0dXJuIHs/QXR0cmlidXRpb259IEFuIGF0dHJpYnV0aW9uIGZ1bmN0aW9uIChvciBudWxsKS5cbiAqL1xuZnVuY3Rpb24gYWRhcHRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25MaWtlKSB7XG4gICAgaWYgKCFhdHRyaWJ1dGlvbkxpa2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGF0dHJpYnV0aW9uTGlrZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXR0cmlidXRpb25MaWtlO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0aW9uTGlrZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRpb25MaWtlO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIFthdHRyaWJ1dGlvbkxpa2VdO1xuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBTb3VyY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Tb3VyY2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9WZWN0b3JFdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBmZWF0dXJlIGlzIGFkZGVkIHRvIHRoZSBzb3VyY2UuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I2FkZGZlYXR1cmVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQURERkVBVFVSRTogJ2FkZGZlYXR1cmUnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgZmVhdHVyZSBpcyB1cGRhdGVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNjaGFuZ2VmZWF0dXJlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENIQU5HRUZFQVRVUkU6ICdjaGFuZ2VmZWF0dXJlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgY2xlYXIgbWV0aG9kIGlzIGNhbGxlZCBvbiB0aGUgc291cmNlLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNjbGVhclxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDTEVBUjogJ2NsZWFyJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGZlYXR1cmUgaXMgcmVtb3ZlZCBmcm9tIHRoZSBzb3VyY2UuXG4gICAgICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3RvciNjbGVhciBzb3VyY2UuY2xlYXIoKX0gZm9yIGV4Y2VwdGlvbnMuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I3JlbW92ZWZlYXR1cmVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUkVNT1ZFRkVBVFVSRTogJ3JlbW92ZWZlYXR1cmUnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGZlYXR1cmVzIHN0YXJ0cyBsb2FkaW5nLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNmZWF0dXJlc2xvYWRzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGRUFUVVJFU0xPQURTVEFSVDogJ2ZlYXR1cmVzbG9hZHN0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBmZWF0dXJlcyBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNmZWF0dXJlc2xvYWRlbmRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRkVBVFVSRVNMT0FERU5EOiAnZmVhdHVyZXNsb2FkZW5kJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgaWYgZmVhdHVyZSBsb2FkaW5nIHJlc3VsdHMgaW4gYW4gZXJyb3IuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I2ZlYXR1cmVzbG9hZGVycm9yXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZFQVRVUkVTTE9BREVSUk9SOiAnZmVhdHVyZXNsb2FkZXJyb3InLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3RvckV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvbG9hZGluZ3N0cmF0ZWd5XG4gKi9cbi8qKlxuICogU3RyYXRlZ3kgZnVuY3Rpb24gZm9yIGxvYWRpbmcgYWxsIGZlYXR1cmVzIHdpdGggYSBzaW5nbGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IEV4dGVudHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGwoZXh0ZW50LCByZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIFtbLUluZmluaXR5LCAtSW5maW5pdHksIEluZmluaXR5LCBJbmZpbml0eV1dO1xufVxuLyoqXG4gKiBTdHJhdGVneSBmdW5jdGlvbiBmb3IgbG9hZGluZyBmZWF0dXJlcyBiYXNlZCBvbiB0aGUgdmlldydzIGV4dGVudCBhbmRcbiAqIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBFeHRlbnRzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmJveChleHRlbnQsIHJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gW2V4dGVudF07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBzdHJhdGVneSBmdW5jdGlvbiBmb3IgbG9hZGluZyBmZWF0dXJlcyBiYXNlZCBvbiBhIHRpbGUgZ3JpZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQsIG51bWJlcik6IEFycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IExvYWRpbmcgc3RyYXRlZ3kuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWxlKHRpbGVHcmlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IEV4dGVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGV4dGVudCwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB2YXIgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudD59ICovXG4gICAgICAgIHZhciBleHRlbnRzID0gW107XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSAqL1xuICAgICAgICB2YXIgdGlsZUNvb3JkID0gW3osIDAsIDBdO1xuICAgICAgICBmb3IgKHRpbGVDb29yZFsxXSA9IHRpbGVSYW5nZS5taW5YOyB0aWxlQ29vcmRbMV0gPD0gdGlsZVJhbmdlLm1heFg7ICsrdGlsZUNvb3JkWzFdKSB7XG4gICAgICAgICAgICBmb3IgKHRpbGVDb29yZFsyXSA9IHRpbGVSYW5nZS5taW5ZOyB0aWxlQ29vcmRbMl0gPD0gdGlsZVJhbmdlLm1heFk7ICsrdGlsZUNvb3JkWzJdKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW50cy5wdXNoKHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXh0ZW50cztcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRpbmdzdHJhdGVneS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZm9ybWF0L0Zvcm1hdFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQVJSQVlfQlVGRkVSOiAnYXJyYXlidWZmZXInLFxuICAgIEpTT046ICdqc29uJyxcbiAgICBURVhUOiAndGV4dCcsXG4gICAgWE1MOiAneG1sJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Gb3JtYXRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9mZWF0dXJlbG9hZGVyXG4gKi9cbmltcG9ydCBGb3JtYXRUeXBlIGZyb20gJy4vZm9ybWF0L0Zvcm1hdFR5cGUuanMnO1xuaW1wb3J0IHsgVk9JRCB9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbi8qKlxuICpcbiAqIEB0eXBlIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xudmFyIHdpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvXG4gKiBsb2FkIGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSByZXByZXNlbnRpbmcgdGhlIGFyZWEgdG8gYmUgbG9hZGVkLFxuICogYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgcmVzb2x1dGlvbiAobWFwIHVuaXRzIHBlciBwaXhlbCksIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uIGFuZCBzdWNjZXNzIGFuZCBmYWlsdXJlIGNhbGxiYWNrcyBhc1xuICogYXJndW1lbnRzLiBgdGhpc2Agd2l0aGluIHRoZSBmdW5jdGlvbiBpcyBib3VuZCB0byB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn0gaXQncyBjYWxsZWQgZnJvbS5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gaXMgcmVzcG9uc2libGUgZm9yIGxvYWRpbmcgdGhlIGZlYXR1cmVzIGFuZCBhZGRpbmcgdGhlbSB0byB0aGVcbiAqIHNvdXJjZS5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbih0aGlzOihpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdHxpbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdCksXG4gKiAgICAgICAgICAgaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LFxuICogICAgICAgICAgIG51bWJlcixcbiAqICAgICAgICAgICBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0LFxuICogICAgICAgICAgIGZ1bmN0aW9uKEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pik6IHZvaWQ9LFxuICogICAgICAgICAgIGZ1bmN0aW9uKCk6IHZvaWQ9KTogdm9pZH0gRmVhdHVyZUxvYWRlclxuICogQGFwaVxuICovXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn0gc291cmNlcyB1c2UgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgdG9cbiAqIGdldCB0aGUgdXJsIHRvIGxvYWQgZmVhdHVyZXMgZnJvbS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gcmVwcmVzZW50aW5nIHRoZSBhcmVhXG4gKiB0byBiZSBsb2FkZWQsIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHJlc29sdXRpb24gKG1hcCB1bml0cyBwZXIgcGl4ZWwpXG4gKiBhbmQgYW4ge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXNcbiAqIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIGB7c3RyaW5nfWAgcmVwcmVzZW50aW5nIHRoZSBVUkwuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIsIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiBzdHJpbmd9IEZlYXR1cmVVcmxGdW5jdGlvblxuICogQGFwaVxuICovXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfEZlYXR1cmVVcmxGdW5jdGlvbn0gdXJsIEZlYXR1cmUgVVJMIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZm9ybWF0IEZlYXR1cmUgZm9ybWF0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCk6IHZvaWR9IHN1Y2Nlc3MgU3VjY2Vzc1xuICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2l0aCB0aGUgbG9hZGVkIGZlYXR1cmVzIGFuZCBvcHRpb25hbGx5IHdpdGggdGhlIGRhdGEgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gZmFpbHVyZSBGYWlsdXJlXG4gKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGxvYWRpbmcgZmFpbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEZlYXR1cmVzWGhyKHVybCwgZm9ybWF0LCBleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsIHR5cGVvZiB1cmwgPT09ICdmdW5jdGlvbicgPyB1cmwoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSA6IHVybCwgdHJ1ZSk7XG4gICAgaWYgKGZvcm1hdC5nZXRUeXBlKCkgPT0gRm9ybWF0VHlwZS5BUlJBWV9CVUZGRVIpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgfVxuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHM7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIHN0YXR1cyB3aWxsIGJlIDAgZm9yIGZpbGU6Ly8gdXJsc1xuICAgICAgICBpZiAoIXhoci5zdGF0dXMgfHwgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGZvcm1hdC5nZXRUeXBlKCk7XG4gICAgICAgICAgICAvKiogQHR5cGUge0RvY3VtZW50fE5vZGV8T2JqZWN0fHN0cmluZ3x1bmRlZmluZWR9ICovXG4gICAgICAgICAgICB2YXIgc291cmNlID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gRm9ybWF0VHlwZS5KU09OIHx8IHR5cGUgPT0gRm9ybWF0VHlwZS5URVhUKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gRm9ybWF0VHlwZS5YTUwpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSB4aHIucmVzcG9uc2VYTUw7XG4gICAgICAgICAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh4aHIucmVzcG9uc2VUZXh0LCAnYXBwbGljYXRpb24veG1sJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBGb3JtYXRUeXBlLkFSUkFZX0JVRkZFUikge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IC8qKiBAdHlwZSB7QXJyYXlCdWZmZXJ9ICovICh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59ICovXG4gICAgICAgICAgICAgICAgKGZvcm1hdC5yZWFkRmVhdHVyZXMoc291cmNlLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICB9KSksIGZvcm1hdC5yZWFkUHJvamVjdGlvbihzb3VyY2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhaWx1cmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZhaWx1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB4aHIub25lcnJvciA9IGZhaWx1cmU7XG4gICAgeGhyLnNlbmQoKTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIFhIUiBmZWF0dXJlIGxvYWRlciBmb3IgYSBgdXJsYCBhbmQgYGZvcm1hdGAuIFRoZSBmZWF0dXJlIGxvYWRlclxuICogbG9hZHMgZmVhdHVyZXMgKHdpdGggWEhSKSwgcGFyc2VzIHRoZSBmZWF0dXJlcywgYW5kIGFkZHMgdGhlbSB0byB0aGVcbiAqIHZlY3RvciBzb3VyY2UuXG4gKiBAcGFyYW0ge3N0cmluZ3xGZWF0dXJlVXJsRnVuY3Rpb259IHVybCBGZWF0dXJlIFVSTCBzZXJ2aWNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZvcm1hdCBGZWF0dXJlIGZvcm1hdC5cbiAqIEByZXR1cm4ge0ZlYXR1cmVMb2FkZXJ9IFRoZSBmZWF0dXJlIGxvYWRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhocih1cmwsIGZvcm1hdCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkPX0gc3VjY2VzcyBTdWNjZXNzXG4gICAgICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIHN1Y2NlZWRlZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWQ9fSBmYWlsdXJlIEZhaWx1cmVcbiAgICAgKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGxvYWRpbmcgZmFpbGVkLlxuICAgICAqIEB0aGlzIHtpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbiwgc3VjY2VzcywgZmFpbHVyZSkge1xuICAgICAgICB2YXIgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdH0gKi8gKHRoaXMpO1xuICAgICAgICBsb2FkRmVhdHVyZXNYaHIodXJsLCBmb3JtYXQsIGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbiwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZmVhdHVyZXMgVGhlIGxvYWRlZCBmZWF0dXJlcy5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkYXRhUHJvamVjdGlvbiBEYXRhXG4gICAgICAgICAqIHByb2plY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZmVhdHVyZXMsIGRhdGFQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyhmZWF0dXJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb3VyY2UuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xuICAgICAgICB9LCBcbiAgICAgICAgLyogRklYTUUgaGFuZGxlIGVycm9yICovIGZhaWx1cmUgPyBmYWlsdXJlIDogVk9JRCk7XG4gICAgfTtcbn1cbi8qKlxuICogU2V0dGVyIGZvciB0aGUgd2l0aENyZWRlbnRpYWxzIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBYSFIuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSB4aHJXaXRoQ3JlZGVudGlhbHMgVGhlIHZhbHVlIG9mIHdpdGhDcmVkZW50aWFscyB0byBzZXQuXG4gKiBDb21wYXJlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFdpdGhDcmVkZW50aWFscyh4aHJXaXRoQ3JlZGVudGlhbHMpIHtcbiAgICB3aXRoQ3JlZGVudGlhbHMgPSB4aHJXaXRoQ3JlZGVudGlhbHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZWF0dXJlbG9hZGVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVmVjdG9yXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFJCdXNoIGZyb20gJy4uL3N0cnVjdHMvUkJ1c2guanMnO1xuaW1wb3J0IFNvdXJjZSBmcm9tICcuL1NvdXJjZS5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi9TdGF0ZS5qcyc7XG5pbXBvcnQgVmVjdG9yRXZlbnRUeXBlIGZyb20gJy4vVmVjdG9yRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IFRSVUUsIFZPSUQgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYWxsIGFzIGFsbFN0cmF0ZWd5IH0gZnJvbSAnLi4vbG9hZGluZ3N0cmF0ZWd5LmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgY29udGFpbnNFeHRlbnQsIGVxdWFscyB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGdldFZhbHVlcywgaXNFbXB0eSB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHsgeGhyIH0gZnJvbSAnLi4vZmVhdHVyZWxvYWRlci5qcyc7XG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IGFuZCBhIHJlc29sdXRpb24gYXMgYXJndW1lbnRzLCBhbmRcbiAqIHJldHVybnMgYW4gYXJyYXkgb2Yge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSB3aXRoIHRoZSBleHRlbnRzIHRvIGxvYWQuIFVzdWFsbHkgdGhpc1xuICogaXMgb25lIG9mIHRoZSBzdGFuZGFyZCB7QGxpbmsgbW9kdWxlOm9sL2xvYWRpbmdzdHJhdGVneX0gc3RyYXRlZ2llcy5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyKTogQXJyYXk8aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD59IExvYWRpbmdTdHJhdGVneVxuICogQGFwaVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeVxuICovXG52YXIgVmVjdG9yU291cmNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZlY3RvclNvdXJjZUV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+PX0gb3B0X2ZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+PX0gb3B0X2ZlYXR1cmVzIEZlYXR1cmVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZlY3RvclNvdXJjZUV2ZW50KHR5cGUsIG9wdF9mZWF0dXJlLCBvcHRfZmVhdHVyZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHlwZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhZGRlZCBvciByZW1vdmVkIGZlYXR1cmUgZm9yIHRoZSBgQURERkVBVFVSRWAgYW5kIGBSRU1PVkVGRUFUVVJFYCBldmVudHMsIGB1bmRlZmluZWRgIG90aGVyd2lzZS5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT58dW5kZWZpbmVkfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mZWF0dXJlID0gb3B0X2ZlYXR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9hZGVkIGZlYXR1cmVzIGZvciB0aGUgYEZFQVRVUkVTTE9BREVEYCBldmVudCwgYHVuZGVmaW5lZGAgb3RoZXJ3aXNlLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj58dW5kZWZpbmVkfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mZWF0dXJlcyA9IG9wdF9mZWF0dXJlcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVmVjdG9yU291cmNlRXZlbnQ7XG59KEV2ZW50KSk7XG5leHBvcnQgeyBWZWN0b3JTb3VyY2VFdmVudCB9O1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gW2ZlYXR1cmVzXVxuICogRmVhdHVyZXMuIElmIHByb3ZpZGVkIGFzIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn0sIHRoZSBmZWF0dXJlcyBpbiB0aGUgc291cmNlXG4gKiBhbmQgdGhlIGNvbGxlY3Rpb24gd2lsbCBzdGF5IGluIHN5bmMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IFtmb3JtYXRdIFRoZSBmZWF0dXJlIGZvcm1hdCB1c2VkIGJ5IHRoZSBYSFJcbiAqIGZlYXR1cmUgbG9hZGVyIHdoZW4gYHVybGAgaXMgc2V0LiBSZXF1aXJlZCBpZiBgdXJsYCBpcyBzZXQsIG90aGVyd2lzZSBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9IFtsb2FkZXJdXG4gKiBUaGUgbG9hZGVyIGZ1bmN0aW9uIHVzZWQgdG8gbG9hZCBmZWF0dXJlcywgZnJvbSBhIHJlbW90ZSBzb3VyY2UgZm9yIGV4YW1wbGUuXG4gKiBJZiB0aGlzIGlzIG5vdCBzZXQgYW5kIGB1cmxgIGlzIHNldCwgdGhlIHNvdXJjZSB3aWxsIGNyZWF0ZSBhbmQgdXNlIGFuIFhIUlxuICogZmVhdHVyZSBsb2FkZXIuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtWZWN0b3J9IGZyb20gJ29sL3NvdXJjZSc7XG4gKiBpbXBvcnQge0dlb0pTT059IGZyb20gJ29sL2Zvcm1hdCc7XG4gKiBpbXBvcnQge2Jib3h9IGZyb20gJ29sL2xvYWRpbmdzdHJhdGVneSc7XG4gKlxuICogdmFyIHZlY3RvclNvdXJjZSA9IG5ldyBWZWN0b3Ioe1xuICogICBmb3JtYXQ6IG5ldyBHZW9KU09OKCksXG4gKiAgIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gKiAgICAgIHZhciBwcm9qID0gcHJvamVjdGlvbi5nZXRDb2RlKCk7XG4gKiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly9haG9jZXZhci5jb20vZ2Vvc2VydmVyL3dmcz9zZXJ2aWNlPVdGUyYnICtcbiAqICAgICAgICAgICd2ZXJzaW9uPTEuMS4wJnJlcXVlc3Q9R2V0RmVhdHVyZSZ0eXBlbmFtZT1vc206d2F0ZXJfYXJlYXMmJyArXG4gKiAgICAgICAgICAnb3V0cHV0Rm9ybWF0PWFwcGxpY2F0aW9uL2pzb24mc3JzbmFtZT0nICsgcHJvaiArICcmJyArXG4gKiAgICAgICAgICAnYmJveD0nICsgZXh0ZW50LmpvaW4oJywnKSArICcsJyArIHByb2o7XG4gKiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAqICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gKiAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgdmVjdG9yU291cmNlLnJlbW92ZUxvYWRlZEV4dGVudChleHRlbnQpO1xuICogICAgICB9XG4gKiAgICAgIHhoci5vbmVycm9yID0gb25FcnJvcjtcbiAqICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xuICogICAgICAgICAgdmVjdG9yU291cmNlLmFkZEZlYXR1cmVzKFxuICogICAgICAgICAgICAgIHZlY3RvclNvdXJjZS5nZXRGb3JtYXQoKS5yZWFkRmVhdHVyZXMoeGhyLnJlc3BvbnNlVGV4dCkpO1xuICogICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICBvbkVycm9yKCk7XG4gKiAgICAgICAgfVxuICogICAgICB9XG4gKiAgICAgIHhoci5zZW5kKCk7XG4gKiAgICB9LFxuICogICAgc3RyYXRlZ3k6IGJib3hcbiAqICB9KTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3ZlcmxhcHM9dHJ1ZV0gVGhpcyBzb3VyY2UgbWF5IGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAqIFNldHRpbmcgdGhpcyB0byBgZmFsc2VgIChlLmcuIGZvciBzb3VyY2VzIHdpdGggcG9seWdvbnMgdGhhdCByZXByZXNlbnQgYWRtaW5pc3RyYXRpdmVcbiAqIGJvdW5kYXJpZXMgb3IgVG9wb0pTT04gc291cmNlcykgYWxsb3dzIHRoZSByZW5kZXJlciB0byBvcHRpbWlzZSBmaWxsIGFuZFxuICogc3Ryb2tlIG9wZXJhdGlvbnMuXG4gKiBAcHJvcGVydHkge0xvYWRpbmdTdHJhdGVneX0gW3N0cmF0ZWd5XSBUaGUgbG9hZGluZyBzdHJhdGVneSB0byB1c2UuXG4gKiBCeSBkZWZhdWx0IGFuIHtAbGluayBtb2R1bGU6b2wvbG9hZGluZ3N0cmF0ZWd5fmFsbH1cbiAqIHN0cmF0ZWd5IGlzIHVzZWQsIGEgb25lLW9mZiBzdHJhdGVneSB3aGljaCBsb2FkcyBhbGwgZmVhdHVyZXMgYXQgb25jZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfGltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZVVybEZ1bmN0aW9ufSBbdXJsXVxuICogU2V0dGluZyB0aGlzIG9wdGlvbiBpbnN0cnVjdHMgdGhlIHNvdXJjZSB0byBsb2FkIGZlYXR1cmVzIHVzaW5nIGFuIFhIUiBsb2FkZXJcbiAqIChzZWUge0BsaW5rIG1vZHVsZTpvbC9mZWF0dXJlbG9hZGVyfnhocn0pLiBVc2UgYSBgc3RyaW5nYCBhbmQgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvbG9hZGluZ3N0cmF0ZWd5fmFsbH0gZm9yIGEgb25lLW9mZiBkb3dubG9hZCBvZiBhbGwgZmVhdHVyZXMgZnJvbVxuICogdGhlIGdpdmVuIFVSTC4gVXNlIGEge0BsaW5rIG1vZHVsZTpvbC9mZWF0dXJlbG9hZGVyfkZlYXR1cmVVcmxGdW5jdGlvbn0gdG8gZ2VuZXJhdGUgdGhlIHVybCB3aXRoXG4gKiBvdGhlciBsb2FkaW5nIHN0cmF0ZWdpZXMuXG4gKiBSZXF1aXJlcyBgZm9ybWF0YCB0byBiZSBzZXQgYXMgd2VsbC5cbiAqIFdoZW4gZGVmYXVsdCBYSFIgZmVhdHVyZSBsb2FkZXIgaXMgcHJvdmlkZWQsIHRoZSBmZWF0dXJlcyB3aWxsXG4gKiBiZSB0cmFuc2Zvcm1lZCBmcm9tIHRoZSBkYXRhIHByb2plY3Rpb24gdG8gdGhlIHZpZXcgcHJvamVjdGlvblxuICogZHVyaW5nIHBhcnNpbmcuIElmIHlvdXIgcmVtb3RlIGRhdGEgc291cmNlIGRvZXMgbm90IGFkdmVydGlzZSBpdHMgcHJvamVjdGlvblxuICogcHJvcGVybHksIHRoaXMgdHJhbnNmb3JtYXRpb24gd2lsbCBiZSBpbmNvcnJlY3QuIEZvciBzb21lIGZvcm1hdHMsIHRoZVxuICogZGVmYXVsdCBwcm9qZWN0aW9uICh1c3VhbGx5IEVQU0c6NDMyNikgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyB0aGVcbiAqIGRhdGFQcm9qZWN0aW9uIGNvbnN0cnVjdG9yIG9wdGlvbiBvbiB0aGUgZm9ybWF0LlxuICogTm90ZSB0aGF0IGlmIGEgc291cmNlIGNvbnRhaW5zIG5vbi1mZWF0dXJlIGRhdGEsIHN1Y2ggYXMgYSBHZW9KU09OIGdlb21ldHJ5XG4gKiBvciBhIEtNTCBOZXR3b3JrTGluaywgdGhlc2Ugd2lsbCBiZSBpZ25vcmVkLiBVc2UgYSBjdXN0b20gbG9hZGVyIHRvIGxvYWQgdGhlc2UuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1c2VTcGF0aWFsSW5kZXg9dHJ1ZV1cbiAqIEJ5IGRlZmF1bHQsIGFuIFJUcmVlIGlzIHVzZWQgYXMgc3BhdGlhbCBpbmRleC4gV2hlbiBmZWF0dXJlcyBhcmUgcmVtb3ZlZCBhbmRcbiAqIGFkZGVkIGZyZXF1ZW50bHksIGFuZCB0aGUgdG90YWwgbnVtYmVyIG9mIGZlYXR1cmVzIGlzIGxvdywgc2V0dGluZyB0aGlzIHRvXG4gKiBgZmFsc2VgIG1heSBpbXByb3ZlIHBlcmZvcm1hbmNlLlxuICpcbiAqIE5vdGUgdGhhdFxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRGZWF0dXJlc0luRXh0ZW50fSxcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0Q2xvc2VzdEZlYXR1cmVUb0Nvb3JkaW5hdGV9IGFuZFxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRFeHRlbnR9IGNhbm5vdCBiZSB1c2VkIHdoZW4gYHVzZVNwYXRpYWxJbmRleGAgaXNcbiAqIHNldCB0byBgZmFsc2VgLCBhbmQge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNmb3JFYWNoRmVhdHVyZUluRXh0ZW50fSB3aWxsIGxvb3BcbiAqIHRocm91Z2ggYWxsIGZlYXR1cmVzLlxuICpcbiAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIHRoZSBmZWF0dXJlcyB3aWxsIGJlIG1haW50YWluZWQgaW4gYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn0sIHdoaWNoIGNhbiBiZSByZXRyaWV2ZWQgdGhyb3VnaFxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZSNnZXRGZWF0dXJlc0NvbGxlY3Rpb259LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LiBGb3IgdmVjdG9yIGVkaXRpbmcgYWNyb3NzIHRoZVxuICogLTE4MMKwIGFuZCAxODDCsCBtZXJpZGlhbnMgdG8gd29yayBwcm9wZXJseSwgdGhpcyBzaG91bGQgYmUgc2V0IHRvIGBmYWxzZWAuIFRoZVxuICogcmVzdWx0aW5nIGdlb21ldHJ5IGNvb3JkaW5hdGVzIHdpbGwgdGhlbiBleGNlZWQgdGhlIHdvcmxkIGJvdW5kcy5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm92aWRlcyBhIHNvdXJjZSBvZiBmZWF0dXJlcyBmb3IgdmVjdG9yIGxheWVycy4gVmVjdG9yIGZlYXR1cmVzIHByb3ZpZGVkXG4gKiBieSB0aGlzIHNvdXJjZSBhcmUgc3VpdGFibGUgZm9yIGVkaXRpbmcuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3JUaWxlflZlY3RvclRpbGV9IGZvclxuICogdmVjdG9yIGRhdGEgdGhhdCBpcyBvcHRpbWl6ZWQgZm9yIHJlbmRlcmluZy5cbiAqXG4gKiBAZmlyZXMgVmVjdG9yU291cmNlRXZlbnRcbiAqIEBhcGlcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeVxuICovXG52YXIgVmVjdG9yU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWZWN0b3JTb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgVmVjdG9yIHNvdXJjZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZlY3RvclNvdXJjZShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdGF0ZTogU291cmNlU3RhdGUuUkVBRFksXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy53cmFwWCA6IHRydWUsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9hZGVyXyA9IFZPSUQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb3JtYXRfID0gb3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm92ZXJsYXBzXyA9IG9wdGlvbnMub3ZlcmxhcHMgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLm92ZXJsYXBzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3xpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVVcmxGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmxfID0gb3B0aW9ucy51cmw7XG4gICAgICAgIGlmIChvcHRpb25zLmxvYWRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkZXJfID0gb3B0aW9ucy5sb2FkZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3RoaXMudXJsXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhc3NlcnQoX3RoaXMuZm9ybWF0XywgNyk7IC8vIGBmb3JtYXRgIG11c3QgYmUgc2V0IHdoZW4gYHVybGAgaXMgc2V0XG4gICAgICAgICAgICAvLyBjcmVhdGUgYSBYSFIgZmVhdHVyZSBsb2FkZXIgZm9yIFwidXJsXCIgYW5kIFwiZm9ybWF0XCJcbiAgICAgICAgICAgIF90aGlzLmxvYWRlcl8gPSB4aHIoX3RoaXMudXJsXywgXG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9ICovIChfdGhpcy5mb3JtYXRfKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtMb2FkaW5nU3RyYXRlZ3l9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHJhdGVneV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5zdHJhdGVneSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJhdGVneSA6IGFsbFN0cmF0ZWd5O1xuICAgICAgICB2YXIgdXNlU3BhdGlhbEluZGV4ID0gb3B0aW9ucy51c2VTcGF0aWFsSW5kZXggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlU3BhdGlhbEluZGV4IDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSQnVzaDxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZlYXR1cmVzUnRyZWVfID0gdXNlU3BhdGlhbEluZGV4ID8gbmV3IFJCdXNoKCkgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1JCdXNoPHtleHRlbnQ6IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvYWRlZEV4dGVudHNSdHJlZV8gPSBuZXcgUkJ1c2goKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbG9va3VwIG9mIGZlYXR1cmVzIGJ5IGlkICh0aGUgcmV0dXJuIGZyb20gZmVhdHVyZS5nZXRJZCgpKS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlkSW5kZXhfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxvb2t1cCBvZiBmZWF0dXJlcyBieSB1aWQgKHVzaW5nIGdldFVpZChmZWF0dXJlKSkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51aWRJbmRleF8gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXyA9IG51bGw7XG4gICAgICAgIHZhciBjb2xsZWN0aW9uLCBmZWF0dXJlcztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5mZWF0dXJlcykpIHtcbiAgICAgICAgICAgIGZlYXR1cmVzID0gb3B0aW9ucy5mZWF0dXJlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmZlYXR1cmVzKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gb3B0aW9ucy5mZWF0dXJlcztcbiAgICAgICAgICAgIGZlYXR1cmVzID0gY29sbGVjdGlvbi5nZXRBcnJheSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdXNlU3BhdGlhbEluZGV4ICYmIGNvbGxlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uKGZlYXR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmVhdHVyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuYWRkRmVhdHVyZXNJbnRlcm5hbChmZWF0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuYmluZEZlYXR1cmVzQ29sbGVjdGlvbl8oY29sbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBzaW5nbGUgZmVhdHVyZSB0byB0aGUgc291cmNlLiAgSWYgeW91IHdhbnQgdG8gYWRkIGEgYmF0Y2ggb2YgZmVhdHVyZXNcbiAgICAgKiBhdCBvbmNlLCBjYWxsIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjYWRkRmVhdHVyZXMgI2FkZEZlYXR1cmVzKCl9XG4gICAgICogaW5zdGVhZC4gQSBmZWF0dXJlIHdpbGwgbm90IGJlIGFkZGVkIHRvIHRoZSBzb3VyY2UgaWYgZmVhdHVyZSB3aXRoXG4gICAgICogdGhlIHNhbWUgaWQgaXMgYWxyZWFkeSB0aGVyZS4gVGhlIHJlYXNvbiBmb3IgdGhpcyBiZWhhdmlvciBpcyB0byBhdm9pZFxuICAgICAqIGZlYXR1cmUgZHVwbGljYXRpb24gd2hlbiB1c2luZyBiYm94IG9yIHRpbGUgbG9hZGluZyBzdHJhdGVnaWVzLlxuICAgICAqIE5vdGU6IHRoaXMgYWxzbyBhcHBsaWVzIGlmIGFuIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn0gaXMgdXNlZCBmb3IgZmVhdHVyZXMsXG4gICAgICogbWVhbmluZyB0aGF0IGlmIGEgZmVhdHVyZSB3aXRoIGEgZHVwbGljYXRlIGlkIGlzIGFkZGVkIGluIHRoZSBjb2xsZWN0aW9uLCBpdCB3aWxsXG4gICAgICogYmUgcmVtb3ZlZCBmcm9tIGl0IHJpZ2h0IGF3YXkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUgdG8gYWRkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB0aGlzLmFkZEZlYXR1cmVJbnRlcm5hbChmZWF0dXJlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBmZWF0dXJlIHdpdGhvdXQgZmlyaW5nIGEgYGNoYW5nZWAgZXZlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkRmVhdHVyZUludGVybmFsID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgIGlmICghdGhpcy5hZGRUb0luZGV4XyhmZWF0dXJlS2V5LCBmZWF0dXJlKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXR1cENoYW5nZUV2ZW50c18oZmVhdHVyZUtleSwgZmVhdHVyZSk7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50ID0gZ2VvbWV0cnkuZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uaW5zZXJ0KGV4dGVudCwgZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuQURERkVBVFVSRSwgZmVhdHVyZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZlYXR1cmVLZXkgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBUaGUgZmVhdHVyZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuc2V0dXBDaGFuZ2VFdmVudHNfID0gZnVuY3Rpb24gKGZlYXR1cmVLZXksIGZlYXR1cmUpIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c19bZmVhdHVyZUtleV0gPSBbXG4gICAgICAgICAgICBsaXN0ZW4oZmVhdHVyZSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVGZWF0dXJlQ2hhbmdlXywgdGhpcyksXG4gICAgICAgICAgICBsaXN0ZW4oZmVhdHVyZSwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLCB0aGlzLmhhbmRsZUZlYXR1cmVDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlS2V5IFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgVGhlIGZlYXR1cmUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGZlYXR1cmUgaXMgXCJ2YWxpZFwiLCBpbiB0aGUgc2Vuc2UgdGhhdCBpdCBpcyBhbHNvIGFcbiAgICAgKiAgICAgY2FuZGlkYXRlIGZvciBpbnNlcnRpb24gaW50byB0aGUgUnRyZWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZFRvSW5kZXhfID0gZnVuY3Rpb24gKGZlYXR1cmVLZXksIGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCEoaWQudG9TdHJpbmcoKSBpbiB0aGlzLmlkSW5kZXhfKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaWRJbmRleF9baWQudG9TdHJpbmcoKV0gPSBmZWF0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICAgIGFzc2VydCghKGZlYXR1cmVLZXkgaW4gdGhpcy51aWRJbmRleF8pLCAzMCk7IC8vIFRoZSBwYXNzZWQgYGZlYXR1cmVgIHdhcyBhbHJlYWR5IGFkZGVkIHRvIHRoZSBzb3VyY2VcbiAgICAgICAgICAgIHRoaXMudWlkSW5kZXhfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBiYXRjaCBvZiBmZWF0dXJlcyB0byB0aGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59IGZlYXR1cmVzIEZlYXR1cmVzIHRvIGFkZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRGZWF0dXJlcyA9IGZ1bmN0aW9uIChmZWF0dXJlcykge1xuICAgICAgICB0aGlzLmFkZEZlYXR1cmVzSW50ZXJuYWwoZmVhdHVyZXMpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBmZWF0dXJlcyB3aXRob3V0IGZpcmluZyBhIGBjaGFuZ2VgIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59IGZlYXR1cmVzIEZlYXR1cmVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmVzSW50ZXJuYWwgPSBmdW5jdGlvbiAoZmVhdHVyZXMpIHtcbiAgICAgICAgdmFyIGV4dGVudHMgPSBbXTtcbiAgICAgICAgdmFyIG5ld0ZlYXR1cmVzID0gW107XG4gICAgICAgIHZhciBnZW9tZXRyeUZlYXR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmZWF0dXJlID0gZmVhdHVyZXNbaV07XG4gICAgICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZFRvSW5kZXhfKGZlYXR1cmVLZXksIGZlYXR1cmUpKSB7XG4gICAgICAgICAgICAgICAgbmV3RmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzIgPSBuZXdGZWF0dXJlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmVhdHVyZSA9IG5ld0ZlYXR1cmVzW2ldO1xuICAgICAgICAgICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgICAgICB0aGlzLnNldHVwQ2hhbmdlRXZlbnRzXyhmZWF0dXJlS2V5LCBmZWF0dXJlKTtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgIHZhciBleHRlbnQgPSBnZW9tZXRyeS5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgICAgICBleHRlbnRzLnB1c2goZXh0ZW50KTtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeUZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8ubG9hZChleHRlbnRzLCBnZW9tZXRyeUZlYXR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzMgPSBuZXdGZWF0dXJlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5BRERGRUFUVVJFLCBuZXdGZWF0dXJlc1tpXSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFDb2xsZWN0aW9uPGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBjb2xsZWN0aW9uIENvbGxlY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fID0gZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFZlY3RvckV2ZW50VHlwZS5BRERGRUFUVVJFLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7VmVjdG9yU291cmNlRXZlbnQ8R2VvbWV0cnk+fSBldnQgVGhlIHZlY3RvciBzb3VyY2UgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmICghbW9kaWZ5aW5nQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChldnQuZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFZlY3RvckV2ZW50VHlwZS5SRU1PVkVGRUFUVVJFLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7VmVjdG9yU291cmNlRXZlbnQ8R2VvbWV0cnk+fSBldnQgVGhlIHZlY3RvciBzb3VyY2UgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmICghbW9kaWZ5aW5nQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucmVtb3ZlKGV2dC5mZWF0dXJlKTtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IFRoZSBjb2xsZWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEZlYXR1cmUoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSAqLyAoZXZ0LmVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIGNvbGxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldnQgVGhlIGNvbGxlY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmICghbW9kaWZ5aW5nQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmVhdHVyZShcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59ICovIChldnQuZWxlbWVudCkpO1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fID0gY29sbGVjdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgZmVhdHVyZXMgZnJvbSB0aGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9mYXN0IFNraXAgZGlzcGF0Y2hpbmcgb2Yge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yLlZlY3RvclNvdXJjZUV2ZW50I3JlbW92ZWZlYXR1cmV9IGV2ZW50cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIChvcHRfZmFzdCkge1xuICAgICAgICBpZiAob3B0X2Zhc3QpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGZlYXR1cmVJZCBpbiB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzXykge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c19bZmVhdHVyZUlkXTtcbiAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy5pZEluZGV4XyA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMudWlkSW5kZXhfID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uZm9yRWFjaCh0aGlzLnJlbW92ZUZlYXR1cmVJbnRlcm5hbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZlYXR1cmVJbnRlcm5hbCh0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tpZF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfID0ge307XG4gICAgICAgIHZhciBjbGVhckV2ZW50ID0gbmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5DTEVBUik7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbGVhckV2ZW50KTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIG9uIHRoZSBzb3VyY2UsIGNhbGxpbmcgdGhlIHByb3ZpZGVkIGNhbGxiYWNrXG4gICAgICogd2l0aCBlYWNoIG9uZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGFueSBcInRydXRoeVwiIHZhbHVlLCBpdGVyYXRpb24gd2lsbFxuICAgICAqIHN0b3AgYW5kIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZS5cbiAgICAgKiBOb3RlOiB0aGlzIGZ1bmN0aW9uIG9ubHkgaXRlcmF0ZSB0aHJvdWdoIHRoZSBmZWF0dXJlIHRoYXQgaGF2ZSBhIGRlZmluZWQgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4pOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICAgKiAgICAgb24gdGhlIHNvdXJjZS4gIFJldHVybiBhIHRydXRoeSB2YWx1ZSB0byBzdG9wIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIHdob3NlIGdlb21ldHJpZXMgY29udGFpbiB0aGUgcHJvdmlkZWRcbiAgICAgKiBjb29yZGluYXRlLCBjYWxsaW5nIHRoZSBjYWxsYmFjayB3aXRoIGVhY2ggZmVhdHVyZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zXG4gICAgICogYSBcInRydXRoeVwiIHZhbHVlLCBpdGVyYXRpb24gd2lsbCBzdG9wIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAgICAgKiB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+KTogVH0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggZWFjaCBmZWF0dXJlXG4gICAgICogICAgIHdob3NlIGdvZW1ldHJ5IGNvbnRhaW5zIHRoZSBwcm92aWRlZCBjb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlRGlyZWN0ID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSBbY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSwgY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXV07XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2hGZWF0dXJlSW5FeHRlbnQoZXh0ZW50LCBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmludGVyc2VjdHNDb29yZGluYXRlKGNvb3JkaW5hdGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGZlYXR1cmVzIHdob3NlIGJvdW5kaW5nIGJveCBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZFxuICAgICAqIGV4dGVudCAobm90ZSB0aGF0IHRoZSBmZWF0dXJlJ3MgZ2VvbWV0cnkgbWF5IG5vdCBpbnRlcnNlY3QgdGhlIGV4dGVudCksXG4gICAgICogY2FsbGluZyB0aGUgY2FsbGJhY2sgd2l0aCBlYWNoIGZlYXR1cmUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIFwidHJ1dGh5XCJcbiAgICAgKiB2YWx1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHZhbHVlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFyZSBpbnRlcmVzdGVkIGluIGZlYXR1cmVzIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgYW4gZXh0ZW50LCBjYWxsXG4gICAgICogdGhlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQgI2ZvckVhY2hGZWF0dXJlSW50ZXJzZWN0aW5nRXh0ZW50KCl9IG1ldGhvZCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogV2hlbiBgdXNlU3BhdGlhbEluZGV4YCBpcyBzZXQgdG8gZmFsc2UsIHRoaXMgbWV0aG9kIHdpbGwgbG9vcCB0aHJvdWdoIGFsbFxuICAgICAqIGZlYXR1cmVzLCBlcXVpdmFsZW50IHRvIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmUgI2ZvckVhY2hGZWF0dXJlKCl9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pik6IFR9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2ggZmVhdHVyZVxuICAgICAqICAgICB3aG9zZSBib3VuZGluZyBib3ggaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUluRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2hJbkV4dGVudChleHRlbnQsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBmZWF0dXJlcyB3aG9zZSBnZW9tZXRyeSBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZCBleHRlbnQsXG4gICAgICogY2FsbGluZyB0aGUgY2FsbGJhY2sgd2l0aCBlYWNoIGZlYXR1cmUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIFwidHJ1dGh5XCJcbiAgICAgKiB2YWx1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHZhbHVlLlxuICAgICAqXG4gICAgICogSWYgeW91IG9ubHkgd2FudCB0byB0ZXN0IGZvciBib3VuZGluZyBib3ggaW50ZXJzZWN0aW9uLCBjYWxsIHRoZVxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbkV4dGVudCAjZm9yRWFjaEZlYXR1cmVJbkV4dGVudCgpfSBtZXRob2QgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4pOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICAgKiAgICAgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGxhc3QgY2FsbCB0byB0aGUgY2FsbGJhY2suXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2hGZWF0dXJlSW5FeHRlbnQoZXh0ZW50LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnRlcnNlY3RzRXh0ZW50KGV4dGVudCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmVzIGNvbGxlY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgc291cmNlLiBXaWxsIGJlIGBudWxsYFxuICAgICAqIHVubGVzcyB0aGUgc291cmNlIHdhcyBjb25maWd1cmVkIHdpdGggYHVzZVNwYXRpYWxJbmRleGAgc2V0IHRvIGBmYWxzZWAsIG9yXG4gICAgICogd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259IGFzIGBmZWF0dXJlc2AuXG4gICAgICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gVGhlIGNvbGxlY3Rpb24gb2YgZmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNDb2xsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBmZWF0dXJlcyBvbiB0aGUgc291cmNlIGluIHJhbmRvbSBvcmRlci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gRmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcztcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICAgICAgZmVhdHVyZXMgPSB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uZ2V0QXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICBmZWF0dXJlcyA9IHRoaXMuZmVhdHVyZXNSdHJlZV8uZ2V0QWxsKCk7XG4gICAgICAgICAgICBpZiAoIWlzRW1wdHkodGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKGZlYXR1cmVzLCBnZXRWYWx1ZXModGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gKi8gKGZlYXR1cmVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBGZWF0dXJlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlc0F0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlRGlyZWN0KGNvb3JkaW5hdGUsIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBmZWF0dXJlcyB3aG9zZSBib3VuZGluZyBib3ggaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LiAgTm90ZSB0aGF0IHRoaXMgcmV0dXJucyBhbiBhcnJheSBvZlxuICAgICAqIGFsbCBmZWF0dXJlcyBpbnRlcnNlY3RpbmcgdGhlIGdpdmVuIGV4dGVudCBpbiByYW5kb20gb3JkZXIgKHNvIGl0IG1heSBpbmNsdWRlXG4gICAgICogZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cmllcyBkbyBub3QgaW50ZXJzZWN0IHRoZSBleHRlbnQpLlxuICAgICAqXG4gICAgICogV2hlbiBgdXNlU3BhdGlhbEluZGV4YCBpcyBzZXQgdG8gZmFsc2UsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGFsbFxuICAgICAqIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBGZWF0dXJlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlc0luRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uZ2V0SW5FeHRlbnQoZXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uZ2V0QXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjbG9zZXN0IGZlYXR1cmUgdG8gdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIHdoZW4gdGhlIHNvdXJjZSBpcyBjb25maWd1cmVkIHdpdGhcbiAgICAgKiBgdXNlU3BhdGlhbEluZGV4YCBzZXQgdG8gYGZhbHNlYC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pik6Ym9vbGVhbj19IG9wdF9maWx0ZXIgRmVhdHVyZSBmaWx0ZXIgZnVuY3Rpb24uXG4gICAgICogICAgIFRoZSBmaWx0ZXIgZnVuY3Rpb24gd2lsbCByZWNlaXZlIG9uZSBhcmd1bWVudCwgdGhlIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZSBmZWF0dXJlfVxuICAgICAqICAgICBhbmQgaXQgc2hvdWxkIHJldHVybiBhIGJvb2xlYW4gdmFsdWUuIEJ5IGRlZmF1bHQsIG5vIGZpbHRlcmluZyBpcyBtYWRlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IENsb3Nlc3QgZmVhdHVyZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRDbG9zZXN0RmVhdHVyZVRvQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCBvcHRfZmlsdGVyKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3QgZmVhdHVyZSB1c2luZyBicmFuY2ggYW5kIGJvdW5kLiAgV2Ugc3RhcnQgc2VhcmNoaW5nIGFuXG4gICAgICAgIC8vIGluZmluaXRlIGV4dGVudCwgYW5kIGZpbmQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGZpcnN0IGZlYXR1cmUgZm91bmQuICBUaGlzXG4gICAgICAgIC8vIGJlY29tZXMgdGhlIGNsb3Nlc3QgZmVhdHVyZS4gIFdlIHRoZW4gY29tcHV0ZSBhIHNtYWxsZXIgZXh0ZW50IHdoaWNoIGFueVxuICAgICAgICAvLyBjbG9zZXIgZmVhdHVyZSBtdXN0IGludGVyc2VjdC4gIFdlIGNvbnRpbnVlIHNlYXJjaGluZyB3aXRoIHRoaXMgc21hbGxlclxuICAgICAgICAvLyBleHRlbnQsIHRyeWluZyB0byBmaW5kIGEgY2xvc2VyIGZlYXR1cmUuICBFdmVyeSB0aW1lIHdlIGZpbmQgYSBjbG9zZXJcbiAgICAgICAgLy8gZmVhdHVyZSwgd2UgdXBkYXRlIHRoZSBleHRlbnQgYmVpbmcgc2VhcmNoZWQgc28gdGhhdCBhbnkgZXZlbiBjbG9zZXJcbiAgICAgICAgLy8gZmVhdHVyZSBtdXN0IGludGVyc2VjdCBpdC4gIFdlIGNvbnRpbnVlIHVudGlsIHdlIHJ1biBvdXQgb2YgZmVhdHVyZXMuXG4gICAgICAgIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgICAgICAgdmFyIHkgPSBjb29yZGluYXRlWzFdO1xuICAgICAgICB2YXIgY2xvc2VzdEZlYXR1cmUgPSBudWxsO1xuICAgICAgICB2YXIgY2xvc2VzdFBvaW50ID0gW05hTiwgTmFOXTtcbiAgICAgICAgdmFyIG1pblNxdWFyZWREaXN0YW5jZSA9IEluZmluaXR5O1xuICAgICAgICB2YXIgZXh0ZW50ID0gWy1JbmZpbml0eSwgLUluZmluaXR5LCBJbmZpbml0eSwgSW5maW5pdHldO1xuICAgICAgICB2YXIgZmlsdGVyID0gb3B0X2ZpbHRlciA/IG9wdF9maWx0ZXIgOiBUUlVFO1xuICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2hJbkV4dGVudChleHRlbnQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgaWYgKGZpbHRlcihmZWF0dXJlKSkge1xuICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNNaW5TcXVhcmVkRGlzdGFuY2UgPSBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gZ2VvbWV0cnkuY2xvc2VzdFBvaW50WFkoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGlmIChtaW5TcXVhcmVkRGlzdGFuY2UgPCBwcmV2aW91c01pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZXN0RmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgc25lYWt5LiAgUmVkdWNlIHRoZSBleHRlbnQgdGhhdCBpdCBpcyBjdXJyZW50bHkgYmVpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VhcmNoZWQgd2hpbGUgdGhlIFItVHJlZSB0cmF2ZXJzYWwgdXNpbmcgdGhpcyBzYW1lIGV4dGVudCBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgc3RpbGwgaW4gcHJvZ3Jlc3MuICBUaGlzIGlzIHNhZmUgYmVjYXVzZSB0aGUgbmV3IGV4dGVudCBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpY3RseSBjb250YWluZWQgYnkgdGhlIG9sZCBleHRlbnQuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5EaXN0YW5jZSA9IE1hdGguc3FydChtaW5TcXVhcmVkRGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICBleHRlbnRbMF0gPSB4IC0gbWluRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVudFsxXSA9IHkgLSBtaW5EaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50WzJdID0geCArIG1pbkRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBleHRlbnRbM10gPSB5ICsgbWluRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsb3Nlc3RGZWF0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBleHRlbnQgb2YgdGhlIGZlYXR1cmVzIGN1cnJlbnRseSBpbiB0aGUgc291cmNlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGF2YWlsYWJsZSB3aGVuIHRoZSBzb3VyY2UgaXMgY29uZmlndXJlZCB3aXRoXG4gICAgICogYHVzZVNwYXRpYWxJbmRleGAgc2V0IHRvIGBmYWxzZWAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBEZXN0aW5hdGlvbiBleHRlbnQuIElmIHByb3ZpZGVkLCBubyBuZXcgZXh0ZW50XG4gICAgICogICAgIHdpbGwgYmUgY3JlYXRlZC4gSW5zdGVhZCwgdGhhdCBleHRlbnQncyBjb29yZGluYXRlcyB3aWxsIGJlIG92ZXJ3cml0dGVuLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAob3B0X2V4dGVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1J0cmVlXy5nZXRFeHRlbnQob3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBmZWF0dXJlIGJ5IGl0cyBpZGVudGlmaWVyICh0aGUgdmFsdWUgcmV0dXJuZWQgYnkgZmVhdHVyZS5nZXRJZCgpKS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIGluZGV4IHRyZWF0cyBzdHJpbmcgYW5kIG51bWVyaWMgaWRlbnRpZmllcnMgYXMgdGhlIHNhbWUuICBTb1xuICAgICAqIGBzb3VyY2UuZ2V0RmVhdHVyZUJ5SWQoMilgIHdpbGwgcmV0dXJuIGEgZmVhdHVyZSB3aXRoIGlkIGAnMidgIG9yIGAyYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgRmVhdHVyZSBpZGVudGlmaWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IFRoZSBmZWF0dXJlIChvciBgbnVsbGAgaWYgbm90IGZvdW5kKS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IHRoaXMuaWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIHJldHVybiBmZWF0dXJlICE9PSB1bmRlZmluZWQgPyBmZWF0dXJlIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIGZlYXR1cmUgYnkgaXRzIGludGVybmFsIHVuaXF1ZSBpZGVudGlmaWVyICh1c2luZyBgZ2V0VWlkYCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdWlkIEZlYXR1cmUgaWRlbnRpZmllci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBUaGUgZmVhdHVyZSAob3IgYG51bGxgIGlmIG5vdCBmb3VuZCkuXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGZWF0dXJlQnlVaWQgPSBmdW5jdGlvbiAodWlkKSB7XG4gICAgICAgIHZhciBmZWF0dXJlID0gdGhpcy51aWRJbmRleF9bdWlkXTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmUgIT09IHVuZGVmaW5lZCA/IGZlYXR1cmUgOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmb3JtYXQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc291cmNlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSBmZWF0dXJlIGZvcm1hdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRGb3JtYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc291cmNlIGNhbiBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRPdmVybGFwcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxhcHNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1cmwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc291cmNlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfGltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZVVybEZ1bmN0aW9ufHVuZGVmaW5lZH0gVGhlIHVybC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuaGFuZGxlRmVhdHVyZUNoYW5nZV8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGZlYXR1cmUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59ICovIChldmVudC50YXJnZXQpO1xuICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICAgICAgICBpZiAoIShmZWF0dXJlS2V5IGluIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8ucmVtb3ZlKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50ID0gZ2VvbWV0cnkuZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZUtleSBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmluc2VydChleHRlbnQsIGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8udXBkYXRlKGV4dGVudCwgZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBzaWQgPSBpZC50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaWRJbmRleF9bc2lkXSAhPT0gZmVhdHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbUlkSW5kZXhfKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaWRJbmRleF9bc2lkXSA9IGZlYXR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21JZEluZGV4XyhmZWF0dXJlKTtcbiAgICAgICAgICAgIHRoaXMudWlkSW5kZXhfW2ZlYXR1cmVLZXldID0gZmVhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuQ0hBTkdFRkVBVFVSRSwgZmVhdHVyZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBmZWF0dXJlIGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBIYXMgZmVhdHVyZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5oYXNGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkIGluIHRoaXMuaWRJbmRleF87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VWlkKGZlYXR1cmUpIGluIHRoaXMudWlkSW5kZXhfO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmlzRW1wdHkoKSAmJiBpc0VtcHR5KHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmxvYWRGZWF0dXJlcyA9IGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIGxvYWRlZEV4dGVudHNSdHJlZSA9IHRoaXMubG9hZGVkRXh0ZW50c1J0cmVlXztcbiAgICAgICAgdmFyIGV4dGVudHNUb0xvYWQgPSB0aGlzLnN0cmF0ZWd5XyhleHRlbnQsIHJlc29sdXRpb24pO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSwgaWkpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnRUb0xvYWQgPSBleHRlbnRzVG9Mb2FkW2ldO1xuICAgICAgICAgICAgdmFyIGFscmVhZHlMb2FkZWQgPSBsb2FkZWRFeHRlbnRzUnRyZWUuZm9yRWFjaEluRXh0ZW50KGV4dGVudFRvTG9hZCwgXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwYXJhbSB7e2V4dGVudDogaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH19IG9iamVjdCBPYmplY3QuXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluc0V4dGVudChvYmplY3QuZXh0ZW50LCBleHRlbnRUb0xvYWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWFscmVhZHlMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzXzEuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkZFQVRVUkVTTE9BRFNUQVJUKSk7XG4gICAgICAgICAgICAgICAgdGhpc18xLmxvYWRlcl8uY2FsbCh0aGlzXzEsIGV4dGVudFRvTG9hZCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbiwgZnVuY3Rpb24gKGZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkZFQVRVUkVTTE9BREVORCwgdW5kZWZpbmVkLCBmZWF0dXJlcykpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzXzEpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkZFQVRVUkVTTE9BREVSUk9SKSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXNfMSkpO1xuICAgICAgICAgICAgICAgIGxvYWRlZEV4dGVudHNSdHJlZS5pbnNlcnQoZXh0ZW50VG9Mb2FkLCB7IGV4dGVudDogZXh0ZW50VG9Mb2FkLnNsaWNlKCkgfSk7XG4gICAgICAgICAgICAgICAgdGhpc18xLmxvYWRpbmcgPSB0aGlzXzEubG9hZGVyXyAhPT0gVk9JRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGV4dGVudHNUb0xvYWQubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgX2xvb3BfMShpLCBpaSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhcih0cnVlKTtcbiAgICAgICAgdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfLmNsZWFyKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVmcmVzaC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIGV4dGVudCBmcm9tIHRoZSBsaXN0IG9mIGxvYWRlZCBleHRlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVMb2FkZWRFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHZhciBsb2FkZWRFeHRlbnRzUnRyZWUgPSB0aGlzLmxvYWRlZEV4dGVudHNSdHJlZV87XG4gICAgICAgIHZhciBvYmo7XG4gICAgICAgIGxvYWRlZEV4dGVudHNSdHJlZS5mb3JFYWNoSW5FeHRlbnQoZXh0ZW50LCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoZXF1YWxzKG9iamVjdC5leHRlbnQsIGV4dGVudCkpIHtcbiAgICAgICAgICAgICAgICBvYmogPSBvYmplY3Q7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICBsb2FkZWRFeHRlbnRzUnRyZWUucmVtb3ZlKG9iaik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNpbmdsZSBmZWF0dXJlIGZyb20gdGhlIHNvdXJjZS4gIElmIHlvdSB3YW50IHRvIHJlbW92ZSBhbGwgZmVhdHVyZXNcbiAgICAgKiBhdCBvbmNlLCB1c2UgdGhlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjY2xlYXIgI2NsZWFyKCl9IG1ldGhvZFxuICAgICAqIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUgdG8gcmVtb3ZlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnJlbW92ZUZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgaWYgKGZlYXR1cmVLZXkgaW4gdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzX1tmZWF0dXJlS2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVGZWF0dXJlSW50ZXJuYWwoZmVhdHVyZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGZlYXR1cmUgd2l0aG91dCBmaXJpbmcgYSBgY2hhbmdlYCBldmVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlSW50ZXJuYWwgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB2YXIgZmVhdHVyZUtleSA9IGdldFVpZChmZWF0dXJlKTtcbiAgICAgICAgdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c19bZmVhdHVyZUtleV0uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfW2ZlYXR1cmVLZXldO1xuICAgICAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XG4gICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5pZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy51aWRJbmRleF9bZmVhdHVyZUtleV07XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLlJFTU9WRUZFQVRVUkUsIGZlYXR1cmUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGZlYXR1cmUgZnJvbSB0aGUgaWQgaW5kZXguICBDYWxsZWQgaW50ZXJuYWxseSB3aGVuIHRoZSBmZWF0dXJlIGlkXG4gICAgICogbWF5IGhhdmUgY2hhbmdlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgVGhlIGZlYXR1cmUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmVtb3ZlZCB0aGUgZmVhdHVyZSBmcm9tIHRoZSBpbmRleC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlRnJvbUlkSW5kZXhfID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5pZEluZGV4Xykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaWRJbmRleF9baWRdID09PSBmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaWRJbmRleF9baWRdO1xuICAgICAgICAgICAgICAgIHJlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBuZXcgbG9hZGVyIG9mIHRoZSBzb3VyY2UuIFRoZSBuZXh0IHJlbmRlciBjeWNsZSB3aWxsIHVzZSB0aGVcbiAgICAgKiBuZXcgbG9hZGVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfSBsb2FkZXIgVGhlIGxvYWRlciB0byBzZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuc2V0TG9hZGVyID0gZnVuY3Rpb24gKGxvYWRlcikge1xuICAgICAgICB0aGlzLmxvYWRlcl8gPSBsb2FkZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb2ludHMgdGhlIHNvdXJjZSB0byBhIG5ldyB1cmwuIFRoZSBuZXh0IHJlbmRlciBjeWNsZSB3aWxsIHVzZSB0aGUgbmV3IHVybC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVVcmxGdW5jdGlvbn0gdXJsIFVybC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmZvcm1hdF8sIDcpOyAvLyBgZm9ybWF0YCBtdXN0IGJlIHNldCB3aGVuIGB1cmxgIGlzIHNldFxuICAgICAgICB0aGlzLnNldExvYWRlcih4aHIodXJsLCB0aGlzLmZvcm1hdF8pKTtcbiAgICB9O1xuICAgIHJldHVybiBWZWN0b3JTb3VyY2U7XG59KFNvdXJjZSkpO1xuZXhwb3J0IGRlZmF1bHQgVmVjdG9yU291cmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvVGlsZVxuICovXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHsgZWFzZUluIH0gZnJvbSAnLi9lYXNpbmcuanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9UaWxlfSBmb3IgdGhlIHRpbGUgYW5kIGFcbiAqIGB7c3RyaW5nfWAgZm9yIHRoZSB1cmwgYXMgYXJndW1lbnRzLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIHNvdXJjZS5zZXRUaWxlTG9hZEZ1bmN0aW9uKGZ1bmN0aW9uKHRpbGUsIHNyYykge1xuICogICB0aWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfSk7XG4gKiBgYGBcbiAqIEZvciBtb3JlIGZpbmUgZ3JhaW5lZCBjb250cm9sLCB0aGUgbG9hZCBmdW5jdGlvbiBjYW4gdXNlIGZldGNoIG9yIFhNTEh0dHBSZXF1ZXN0IGFuZCBpbnZvbHZlXG4gKiBlcnJvciBoYW5kbGluZzpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICdvbC9UaWxlU3RhdGUnO1xuICpcbiAqIHNvdXJjZS5zZXRUaWxlTG9hZEZ1bmN0aW9uKGZ1bmN0aW9uKHRpbGUsIHNyYykge1xuICogICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gKiAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gKiAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKGV2dCkge1xuICogICAgIHZhciBkYXRhID0gdGhpcy5yZXNwb25zZTtcbiAqICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gKiAgICAgICB0aWxlLmdldEltYWdlKCkuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgdGlsZS5zZXRTdGF0ZShUaWxlU3RhdGUuRVJST1IpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKiAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcbiAqICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5FUlJPUik7XG4gKiAgIH0pO1xuICogICB4aHIub3BlbignR0VUJywgc3JjKTtcbiAqICAgeGhyLnNlbmQoKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKFRpbGUsIHN0cmluZyk6IHZvaWR9IExvYWRGdW5jdGlvblxuICogQGFwaVxuICovXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGV+VGlsZX0gc291cmNlcyB1c2UgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgdG8gZ2V0XG4gKiB0aGUgdXJsIHRoYXQgcHJvdmlkZXMgYSB0aWxlIGZvciBhIGdpdmVuIHRpbGUgY29vcmRpbmF0ZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvdGlsZWNvb3JkflRpbGVDb29yZH0gZm9yIHRoZSB0aWxlXG4gKiBjb29yZGluYXRlLCBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSBwaXhlbCByYXRpbyBhbmQgYVxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXMgYXJndW1lbnRzXG4gKiBhbmQgcmV0dXJucyBhIGB7c3RyaW5nfWAgcmVwcmVzZW50aW5nIHRoZSB0aWxlIFVSTCwgb3IgdW5kZWZpbmVkIGlmIG5vIHRpbGVcbiAqIHNob3VsZCBiZSByZXF1ZXN0ZWQgZm9yIHRoZSBwYXNzZWQgdGlsZSBjb29yZGluYXRlLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQsIG51bWJlcixcbiAqICAgICAgICAgICBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogKHN0cmluZ3x1bmRlZmluZWQpfSBVcmxGdW5jdGlvblxuICogQGFwaVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbj0yNTBdIEEgZHVyYXRpb24gZm9yIHRpbGUgb3BhY2l0eVxuICogdHJhbnNpdGlvbnMgaW4gbWlsbGlzZWNvbmRzLiBBIGR1cmF0aW9uIG9mIDAgZGlzYWJsZXMgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbi5cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciB0aWxlcy5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIFRpbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBUaWxlIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZSh0aWxlQ29vcmQsIHN0YXRlLCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ29vcmQgPSB0aWxlQ29vcmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIFwiaW50ZXJpbVwiIHRpbGUgZm9yIHRoaXMgdGlsZS4gVGhlIGludGVyaW0gdGlsZSBtYXkgYmUgdXNlZCB3aGlsZSB0aGlzXG4gICAgICAgICAqIG9uZSBpcyBsb2FkaW5nLCBmb3IgXCJzbW9vdGhcIiB0cmFuc2l0aW9ucyB3aGVuIGNoYW5naW5nIHBhcmFtcy9kaW1lbnNpb25zXG4gICAgICAgICAqIG9uIHRoZSBzb3VyY2UuXG4gICAgICAgICAqIEB0eXBlIHtUaWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJpbVRpbGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbGUgaXMgYXZhaWxhYmxlIGF0IHRoZSBoaWdoZXN0IHBvc3NpYmxlIHJlc29sdXRpb24uIFN1YmNsYXNzZXMgY2FuXG4gICAgICAgICAqIHNldCB0aGlzIHRvIGBmYWxzZWAgaW5pdGlhbGx5LiBUaWxlIGxvYWQgbGlzdGVuZXJzIHdpbGwgbm90IGJlXG4gICAgICAgICAqIHVucmVnaXN0ZXJlZCBiZWZvcmUgdGhpcyBpcyBzZXQgdG8gYHRydWVgIGFuZCBhIGAjY2hhbmdlZCgpYCBpcyBjYWxsZWQuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGlmaSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGtleSBhc3NpZ25lZCB0byB0aGUgdGlsZS4gVGhpcyBpcyB1c2VkIGJ5IHRoZSB0aWxlIHNvdXJjZSB0byBkZXRlcm1pbmVcbiAgICAgICAgICogaWYgdGhpcyB0aWxlIGNhbiBlZmZlY3RpdmVseSBiZSB1c2VkLCBvciBpZiBhIG5ldyB0aWxlIHNob3VsZCBiZSBjcmVhdGVkXG4gICAgICAgICAqIGFuZCB0aGlzIG9uZSBiZSB1c2VkIGFzIGFuIGludGVyaW0gdGlsZSBmb3IgdGhpcyBuZXcgdGlsZS5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmtleSA9ICcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGR1cmF0aW9uIGZvciB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNpdGlvbl8gPVxuICAgICAgICAgICAgb3B0aW9ucy50cmFuc2l0aW9uID09PSB1bmRlZmluZWQgPyAyNTAgOiBvcHRpb25zLnRyYW5zaXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb29rdXAgb2Ygc3RhcnQgdGltZXMgZm9yIHJlbmRlcmluZyB0cmFuc2l0aW9ucy4gIElmIHRoZSBzdGFydCB0aW1lIGlzXG4gICAgICAgICAqIGVxdWFsIHRvIC0xLCB0aGUgdHJhbnNpdGlvbiBpcyBjb21wbGV0ZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uU3RhcnRzXyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNIQU5HRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYnkgdGhlIHRpbGUgY2FjaGUgd2hlbiB0aGUgdGlsZSBpcyByZW1vdmVkIGZyb20gdGhlIGNhY2hlIGR1ZSB0byBleHBpcnlcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5ICsgJy8nICsgdGhpcy50aWxlQ29vcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGludGVyaW0gdGlsZSBtb3N0IHN1aXRhYmxlIGZvciByZW5kZXJpbmcgdXNpbmcgdGhlIGNoYWluIG9mIGludGVyaW1cbiAgICAgKiB0aWxlcy4gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgIG1vc3QgcmVjZW50IHRpbGUgdGhhdCBoYXMgYmVlbiBsb2FkZWQsIGlmIG5vXG4gICAgICogc3VjaCB0aWxlIGV4aXN0cywgdGhlIG9yaWdpbmFsIHRpbGUgaXMgcmV0dXJuZWQuXG4gICAgICogQHJldHVybiB7IVRpbGV9IEJlc3QgdGlsZSBmb3IgcmVuZGVyaW5nLlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldEludGVyaW1UaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgICAgICAgIC8vZW1wdHkgY2hhaW5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aWxlID0gdGhpcy5pbnRlcmltVGlsZTtcbiAgICAgICAgLy8gZmluZCB0aGUgZmlyc3QgbG9hZGVkIHRpbGUgYW5kIHJldHVybiBpdC4gU2luY2UgdGhlIGNoYWluIGlzIHNvcnRlZCBpblxuICAgICAgICAvLyBkZWNyZWFzaW5nIG9yZGVyIG9mIGNyZWF0aW9uIHRpbWUsIHRoZXJlIGlzIG5vIG5lZWQgdG8gc2VhcmNoIHRoZSByZW1haW5kZXJcbiAgICAgICAgLy8gb2YgdGhlIGxpc3QgKGFsbCB0aG9zZSB0aWxlcyBjb3JyZXNwb25kIHRvIG9sZGVyIHJlcXVlc3RzIGFuZCB3aWxsIGJlXG4gICAgICAgIC8vIGNsZWFuZWQgdXAgYnkgcmVmcmVzaEludGVyaW1DaGFpbilcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyB0aWxlIGltbWVkaWF0ZWx5IGluc3RlYWQgb2YgZmFkaW5nIGl0IGluIGFmdGVyIGxvYWRpbmcsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgaW50ZXJpbSB0aWxlIGlzIGluIHBsYWNlIGFscmVhZHlcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25fID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbGUgPSB0aWxlLmludGVyaW1UaWxlO1xuICAgICAgICB9IHdoaWxlICh0aWxlKTtcbiAgICAgICAgLy8gd2UgY2FuIG5vdCBmaW5kIGEgYmV0dGVyIHRpbGVcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHb2VzIHRocm91Z2ggdGhlIGNoYWluIG9mIGludGVyaW0gdGlsZXMgYW5kIGRpc2NhcmRzIHNlY3Rpb25zIG9mIHRoZSBjaGFpblxuICAgICAqIHRoYXQgYXJlIG5vIGxvbmdlciByZWxldmFudC5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5yZWZyZXNoSW50ZXJpbUNoYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlsZSA9IHRoaXMuaW50ZXJpbVRpbGU7XG4gICAgICAgIHZhciBwcmV2ID0gLyoqIEB0eXBlIHtUaWxlfSAqLyAodGhpcyk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgICAgIC8vd2UgaGF2ZSBhIGxvYWRlZCB0aWxlLCB3ZSBjYW4gZGlzY2FyZCB0aGUgcmVzdCBvZiB0aGUgbGlzdFxuICAgICAgICAgICAgICAgIC8vd2Ugd291bGQgY291bGQgYWJvcnQgYW55IExPQURJTkcgdGlsZSByZXF1ZXN0XG4gICAgICAgICAgICAgICAgLy9vbGRlciB0aGFuIHRoaXMgdGlsZSAoaS5lLiBhbnkgTE9BRElORyB0aWxlIGZvbGxvd2luZyB0aGlzIGVudHJ5IGluIHRoZSBjaGFpbilcbiAgICAgICAgICAgICAgICB0aWxlLmludGVyaW1UaWxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BRElORykge1xuICAgICAgICAgICAgICAgIC8va2VlcCB0aGlzIExPQURJTkcgdGlsZSBhbnkgbG9hZGVkIHRpbGVzIGxhdGVyIGluIHRoZSBjaGFpbiBhcmVcbiAgICAgICAgICAgICAgICAvL29sZGVyIHRoYW4gdGhpcyB0aWxlLCBzbyB3ZSdyZSBzdGlsbCBpbnRlcmVzdGVkIGluIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICAgICAgcHJldiA9IHRpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgICAvL3RoZSBoZWFkIG9mIHRoZSBsaXN0IGlzIHRoZSBtb3N0IGN1cnJlbnQgdGlsZSwgd2UgZG9uJ3QgbmVlZFxuICAgICAgICAgICAgICAgIC8vdG8gc3RhcnQgYW55IG90aGVyIHJlcXVlc3RzIGZvciB0aGlzIGNoYWluXG4gICAgICAgICAgICAgICAgcHJldi5pbnRlcmltVGlsZSA9IHRpbGUuaW50ZXJpbVRpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbGUgPSBwcmV2LmludGVyaW1UaWxlO1xuICAgICAgICB9IHdoaWxlICh0aWxlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGlsZSBjb29yZGluYXRlIGZvciB0aGlzIHRpbGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaGUgdGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5nZXRUaWxlQ29vcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVDb29yZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZVN0YXRlLmpzXCIpLmRlZmF1bHR9IFN0YXRlLlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgdGlsZS4gSWYgeW91IHdyaXRlIHlvdXIgb3duIHtAbGluayBtb2R1bGU6b2wvVGlsZX5Mb2FkRnVuY3Rpb24gdGlsZUxvYWRGdW5jdGlvbn0gLFxuICAgICAqIGl0IGlzIGltcG9ydGFudCB0byBzZXQgdGhlIHN0YXRlIGNvcnJlY3RseSB0byB7QGxpbmsgbW9kdWxlOm9sL1RpbGVTdGF0ZX5FUlJPUn1cbiAgICAgKiB3aGVuIHRoZSB0aWxlIGNhbm5vdCBiZSBsb2FkZWQuIE90aGVyd2lzZSB0aGUgdGlsZSBjYW5ub3QgYmUgcmVtb3ZlZCBmcm9tXG4gICAgICogdGhlIHRpbGUgcXVldWUgYW5kIHdpbGwgYmxvY2sgb3RoZXIgcmVxdWVzdHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFRpbGVTdGF0ZS5FUlJPUiAmJiB0aGlzLnN0YXRlID4gc3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGlsZSBsb2FkIHNlcXVlbmNlIHZpb2xhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBpbWFnZSBvciByZXRyeSBpZiBsb2FkaW5nIHByZXZpb3VzbHkgZmFpbGVkLlxuICAgICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICAgKiBvbmx5IG5lZWRlZCBmb3IgcHJlbG9hZGluZyBvciBmb3IgcmVsb2FkaW5nIGluIGNhc2Ugb2YgYW4gZXJyb3IuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFscGhhIHZhbHVlIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIEFuIGlkIGZvciB0aGUgcmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgVGhlIHJlbmRlciBmcmFtZSB0aW1lLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmdldEFscGhhID0gZnVuY3Rpb24gKGlkLCB0aW1lKSB7XG4gICAgICAgIGlmICghdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF07XG4gICAgICAgIGlmICghc3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gdGltZTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblN0YXJ0c19baWRdID0gc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsdGEgPSB0aW1lIC0gc3RhcnQgKyAxMDAwIC8gNjA7IC8vIGF2b2lkIHJlbmRlcmluZyBhdCAwXG4gICAgICAgIGlmIChkZWx0YSA+PSB0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWFzZUluKGRlbHRhIC8gdGhpcy50cmFuc2l0aW9uXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgYSB0aWxlIGlzIGluIGFuIGFscGhhIHRyYW5zaXRpb24uICBBIHRpbGUgaXMgY29uc2lkZXJlZCBpblxuICAgICAqIHRyYW5zaXRpb24gaWYgdGlsZS5nZXRBbHBoYSgpIGhhcyBub3QgeWV0IGJlZW4gY2FsbGVkIG9yIGhhcyBiZWVuIGNhbGxlZFxuICAgICAqIGFuZCByZXR1cm5lZCAxLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBBbiBpZCBmb3IgdGhlIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0aWxlIGlzIGluIHRyYW5zaXRpb24uXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuaW5UcmFuc2l0aW9uID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGlmICghdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXSAhPT0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXJrIGEgdHJhbnNpdGlvbiBhcyBjb21wbGV0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5lbmRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXSA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGlsZTtcbn0oRXZlbnRUYXJnZXQpKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VUaWxlXG4gKi9cbmltcG9ydCBUaWxlIGZyb20gJy4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGxpc3RlbkltYWdlIH0gZnJvbSAnLi9JbWFnZS5qcyc7XG52YXIgSW1hZ2VUaWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVRpbGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIEltYWdlIHNvdXJjZSBVUkkuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5PcHRpb25zPX0gb3B0X29wdGlvbnMgVGlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEltYWdlVGlsZSh0aWxlQ29vcmQsIHN0YXRlLCBzcmMsIGNyb3NzT3JpZ2luLCB0aWxlTG9hZEZ1bmN0aW9uLCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0aWxlQ29vcmQsIHN0YXRlLCBvcHRfb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Jvc3NPcmlnaW5fID0gY3Jvc3NPcmlnaW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbWFnZSBVUklcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNyY18gPSBzcmM7XG4gICAgICAgIF90aGlzLmtleSA9IHNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgX3RoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUxvYWRGdW5jdGlvbl8gPSB0aWxlTG9hZEZ1bmN0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgSFRNTCBpbWFnZSBlbGVtZW50IGZvciB0aGlzIHRpbGUgKG1heSBiZSBhIENhbnZhcywgSW1hZ2UsIG9yIFZpZGVvKS5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFja3MgbG9hZGluZyBvciByZWFkIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUVycm9yXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FUlJPUjtcbiAgICAgICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgICAgICB0aGlzLmltYWdlXyA9IGdldEJsYW5rSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFja3Mgc3VjY2Vzc2Z1bCBpbWFnZSBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbWFnZVRpbGUucHJvdG90eXBlLmhhbmRsZUltYWdlTG9hZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKHRoaXMuaW1hZ2VfKTtcbiAgICAgICAgaWYgKGltYWdlLm5hdHVyYWxXaWR0aCAmJiBpbWFnZS5uYXR1cmFsSGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVRpbGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5JRExFO1xuICAgICAgICAgICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luXyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbl87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICAgICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyh0aGlzLCB0aGlzLnNyY18pO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBsaXN0ZW5JbWFnZSh0aGlzLmltYWdlXywgdGhpcy5oYW5kbGVJbWFnZUxvYWRfLmJpbmQodGhpcyksIHRoaXMuaGFuZGxlSW1hZ2VFcnJvcl8uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VUaWxlO1xufShUaWxlKSk7XG4vKipcbiAqIEdldCBhIDEtcGl4ZWwgYmxhbmsgaW1hZ2UuXG4gKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQmxhbmsgaW1hZ2UuXG4gKi9cbmZ1bmN0aW9uIGdldEJsYW5rSW1hZ2UoKSB7XG4gICAgdmFyIGN0eCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMCknO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCAxLCAxKTtcbiAgICByZXR1cm4gY3R4LmNhbnZhcztcbn1cbmV4cG9ydCBkZWZhdWx0IEltYWdlVGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlVGlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVwcm9qL1RyaWFuZ3VsYXRpb25cbiAqL1xuaW1wb3J0IHsgYm91bmRpbmdFeHRlbnQsIGNyZWF0ZUVtcHR5LCBleHRlbmRDb29yZGluYXRlLCBnZXRBcmVhLCBnZXRCb3R0b21MZWZ0LCBnZXRCb3R0b21SaWdodCwgZ2V0VG9wTGVmdCwgZ2V0VG9wUmlnaHQsIGdldFdpZHRoLCBpbnRlcnNlY3RzLCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXRUcmFuc2Zvcm0gfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7IGxvZzIsIG1vZHVsbyB9IGZyb20gJy4uL21hdGguanMnO1xuLyoqXG4gKiBTaW5nbGUgdHJpYW5nbGU7IGNvbnNpc3RzIG9mIDMgc291cmNlIHBvaW50cyBhbmQgMyB0YXJnZXQgcG9pbnRzLlxuICogQHR5cGVkZWYge09iamVjdH0gVHJpYW5nbGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gc291cmNlXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IHRhcmdldFxuICovXG4vKipcbiAqIE1heGltdW0gbnVtYmVyIG9mIHN1YmRpdmlzaW9uIHN0ZXBzIGR1cmluZyByYXN0ZXIgcmVwcm9qZWN0aW9uIHRyaWFuZ3VsYXRpb24uXG4gKiBQcmV2ZW50cyBoaWdoIG1lbW9yeSB1c2FnZSBhbmQgbGFyZ2UgbnVtYmVyIG9mIHByb2o0IGNhbGxzIChmb3IgY2VydGFpblxuICogdHJhbnNmb3JtYXRpb25zIGFuZCBhcmVhcykuIEF0IG1vc3QgYDIqKDJedGhpcylgIHRyaWFuZ2xlcyBhcmUgY3JlYXRlZCBmb3JcbiAqIGVhY2ggdHJpYW5ndWxhdGVkIGV4dGVudCAodGlsZS9pbWFnZSkuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgTUFYX1NVQkRJVklTSU9OID0gMTA7XG4vKipcbiAqIE1heGltdW0gYWxsb3dlZCBzaXplIG9mIHRyaWFuZ2xlIHJlbGF0aXZlIHRvIHdvcmxkIHdpZHRoLiBXaGVuIHRyYW5zZm9ybWluZ1xuICogY29ybmVycyBvZiB3b3JsZCBleHRlbnQgYmV0d2VlbiBjZXJ0YWluIHByb2plY3Rpb25zLCB0aGUgcmVzdWx0aW5nXG4gKiB0cmlhbmd1bGF0aW9uIHNlZW1zIHRvIGhhdmUgemVybyBlcnJvciBhbmQgbm8gc3ViZGl2aXNpb24gaXMgcGVyZm9ybWVkLiBJZlxuICogdGhlIHRyaWFuZ2xlIHdpZHRoIGlzIG1vcmUgdGhhbiB0aGlzIChyZWxhdGl2ZSB0byB3b3JsZCB3aWR0aDsgMC0xKSxcbiAqIHN1YmRpdmlzb24gaXMgZm9yY2VkICh1cCB0byBgTUFYX1NVQkRJVklTSU9OYCkuIERlZmF1bHQgaXMgYDAuMjVgLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIE1BWF9UUklBTkdMRV9XSURUSCA9IDAuMjU7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzIGNvbnRhaW5pbmcgdHJpYW5ndWxhdGlvbiBvZiB0aGUgZ2l2ZW4gdGFyZ2V0IGV4dGVudC5cbiAqIFVzZWQgZm9yIGRldGVybWluaW5nIHNvdXJjZSBkYXRhIGFuZCB0aGUgcmVwcm9qZWN0aW9uIGl0c2VsZi5cbiAqL1xudmFyIFRyaWFuZ3VsYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSB0YXJnZXRQcm9qIFRhcmdldCBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gdGFyZ2V0RXh0ZW50IFRhcmdldCBleHRlbnQgdG8gdHJpYW5ndWxhdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhTb3VyY2VFeHRlbnQgTWF4aW1hbCBzb3VyY2UgZXh0ZW50IHRoYXQgY2FuIGJlIHVzZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVycm9yVGhyZXNob2xkIEFjY2VwdGFibGUgZXJyb3IgKGluIHNvdXJjZSB1bml0cykuXG4gICAgICogQHBhcmFtIHs/bnVtYmVyfSBvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uIFRoZSAob3B0aW9uYWwpIHJlc29sdXRpb24gb2YgdGhlIGRlc3RpbmF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyaWFuZ3VsYXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0RXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQsIGVycm9yVGhyZXNob2xkLCBvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZVByb2pfID0gc291cmNlUHJvajtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0UHJval8gPSB0YXJnZXRQcm9qO1xuICAgICAgICAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSAqL1xuICAgICAgICB2YXIgdHJhbnNmb3JtSW52Q2FjaGUgPSB7fTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybUludiA9IGdldFRyYW5zZm9ybSh0aGlzLnRhcmdldFByb2pfLCB0aGlzLnNvdXJjZVByb2pfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjIEEgY29vcmRpbmF0ZS5cbiAgICAgICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUcmFuc2Zvcm1lZCBjb29yZGluYXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc2Zvcm1JbnZfID0gZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBjWzBdICsgJy8nICsgY1sxXTtcbiAgICAgICAgICAgIGlmICghdHJhbnNmb3JtSW52Q2FjaGVba2V5XSkge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybUludkNhY2hlW2tleV0gPSB0cmFuc2Zvcm1JbnYoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtSW52Q2FjaGVba2V5XTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhTb3VyY2VFeHRlbnRfID0gbWF4U291cmNlRXh0ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXJyb3JUaHJlc2hvbGRTcXVhcmVkXyA9IGVycm9yVGhyZXNob2xkICogZXJyb3JUaHJlc2hvbGQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8VHJpYW5nbGU+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmlhbmdsZXNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgdHJpYW5ndWxhdGlvbiBjcm9zc2VzIGVkZ2Ugb2YgdGhlIHNvdXJjZSBwcm9qZWN0aW9uLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JhcHNYSW5Tb3VyY2VfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuV3JhcFhJblNvdXJjZV8gPVxuICAgICAgICAgICAgdGhpcy5zb3VyY2VQcm9qXy5jYW5XcmFwWCgpICYmXG4gICAgICAgICAgICAgICAgISFtYXhTb3VyY2VFeHRlbnQgJiZcbiAgICAgICAgICAgICAgICAhIXRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KCkgJiZcbiAgICAgICAgICAgICAgICBnZXRXaWR0aChtYXhTb3VyY2VFeHRlbnQpID09IGdldFdpZHRoKHRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgez9udW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfID0gdGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKVxuICAgICAgICAgICAgPyBnZXRXaWR0aCh0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgez9udW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldFdvcmxkV2lkdGhfID0gdGhpcy50YXJnZXRQcm9qXy5nZXRFeHRlbnQoKVxuICAgICAgICAgICAgPyBnZXRXaWR0aCh0aGlzLnRhcmdldFByb2pfLmdldEV4dGVudCgpKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25Ub3BMZWZ0ID0gZ2V0VG9wTGVmdCh0YXJnZXRFeHRlbnQpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25Ub3BSaWdodCA9IGdldFRvcFJpZ2h0KHRhcmdldEV4dGVudCk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQodGFyZ2V0RXh0ZW50KTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uQm90dG9tTGVmdCA9IGdldEJvdHRvbUxlZnQodGFyZ2V0RXh0ZW50KTtcbiAgICAgICAgdmFyIHNvdXJjZVRvcExlZnQgPSB0aGlzLnRyYW5zZm9ybUludl8oZGVzdGluYXRpb25Ub3BMZWZ0KTtcbiAgICAgICAgdmFyIHNvdXJjZVRvcFJpZ2h0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uVG9wUmlnaHQpO1xuICAgICAgICB2YXIgc291cmNlQm90dG9tUmlnaHQgPSB0aGlzLnRyYW5zZm9ybUludl8oZGVzdGluYXRpb25Cb3R0b21SaWdodCk7XG4gICAgICAgIHZhciBzb3VyY2VCb3R0b21MZWZ0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uQm90dG9tTGVmdCk7XG4gICAgICAgIC8qXG4gICAgICAgICAqIFRoZSBtYXhTdWJkaXZpc2lvbiBjb250cm9scyBob3cgbWFueSBzcGxpdHRpbmdzIG9mIHRoZSB0YXJnZXQgYXJlYSBjYW5cbiAgICAgICAgICogYmUgZG9uZS4gVGhlIGlkZWEgaGVyZSBpcyB0byBkbyBhIGxpbmVhciBtYXBwaW5nIG9mIHRoZSB0YXJnZXQgYXJlYXNcbiAgICAgICAgICogYnV0IHRoZSBhY3R1YWwgb3ZlcmFsIHJlcHJvamVjdGlvbiAoY2FuIGJlKSBleHRyZW1lbHkgbm9uLWxpbmVhci4gVGhlXG4gICAgICAgICAqIGRlZmF1bHQgdmFsdWUgb2YgTUFYX1NVQkRJVklTSU9OIHdhcyBjaG9zZW4gYmFzZWQgb24gbWFwcGluZyBhIDI1NngyNTZcbiAgICAgICAgICogdGlsZSBzaXplLiBIb3dldmVyIHRoaXMgZnVuY3Rpb24gaXMgYWxzbyBjYWxsZWQgdG8gcmVtYXAgY2FudmFzIHJlbmRlcmVkXG4gICAgICAgICAqIGxheWVycyB3aGljaCBjYW4gYmUgbXVjaCBsYXJnZXIuIFRoaXMgY2FsY3VsYXRpb24gaW5jcmVhc2VzIHRoZSBtYXhTdWJkaXZpc2lvblxuICAgICAgICAgKiB2YWx1ZSBieSB0aGUgcmlnaHQgZmFjdG9yIHNvIHRoYXQgZWFjaCAyNTZ4MjU2IHBpeGVsIGFyZWEgaGFzXG4gICAgICAgICAqIE1BWF9TVUJESVZJU0lPTiBkaXZpc2lvbnMuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbWF4U3ViZGl2aXNpb24gPSBNQVhfU1VCRElWSVNJT04gK1xuICAgICAgICAgICAgKG9wdF9kZXN0aW5hdGlvblJlc29sdXRpb25cbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KDAsIE1hdGguY2VpbChsb2cyKGdldEFyZWEodGFyZ2V0RXh0ZW50KSAvXG4gICAgICAgICAgICAgICAgICAgIChvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uICpcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZXN0aW5hdGlvblJlc29sdXRpb24gKlxuICAgICAgICAgICAgICAgICAgICAgICAgMjU2ICpcbiAgICAgICAgICAgICAgICAgICAgICAgIDI1NikpKSlcbiAgICAgICAgICAgICAgICA6IDApO1xuICAgICAgICB0aGlzLmFkZFF1YWRfKGRlc3RpbmF0aW9uVG9wTGVmdCwgZGVzdGluYXRpb25Ub3BSaWdodCwgZGVzdGluYXRpb25Cb3R0b21SaWdodCwgZGVzdGluYXRpb25Cb3R0b21MZWZ0LCBzb3VyY2VUb3BMZWZ0LCBzb3VyY2VUb3BSaWdodCwgc291cmNlQm90dG9tUmlnaHQsIHNvdXJjZUJvdHRvbUxlZnQsIG1heFN1YmRpdmlzaW9uKTtcbiAgICAgICAgaWYgKHRoaXMud3JhcHNYSW5Tb3VyY2VfKSB7XG4gICAgICAgICAgICB2YXIgbGVmdEJvdW5kXzEgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSwgaSwgYXJyKSB7XG4gICAgICAgICAgICAgICAgbGVmdEJvdW5kXzEgPSBNYXRoLm1pbihsZWZ0Qm91bmRfMSwgdHJpYW5nbGUuc291cmNlWzBdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMV1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsyXVswXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFNoaWZ0IHRyaWFuZ2xlcyB0byBiZSBhcyBjbG9zZSB0byBgbGVmdEJvdW5kYCBhcyBwb3NzaWJsZVxuICAgICAgICAgICAgLy8gKGlmIHRoZSBkaXN0YW5jZSBpcyBtb3JlIHRoYW4gYHdvcmxkV2lkdGggLyAyYCBpdCBjYW4gYmUgY2xvc2VyLlxuICAgICAgICAgICAgdGhpcy50cmlhbmdsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGgubWF4KHRyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzFdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMF0pIC1cbiAgICAgICAgICAgICAgICAgICAgbGVmdEJvdW5kXzEgPlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VHJpYW5nbGUgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbdHJpYW5nbGUuc291cmNlWzBdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMF1bMV1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgW3RyaWFuZ2xlLnNvdXJjZVsxXVswXSwgdHJpYW5nbGUuc291cmNlWzFdWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmlhbmdsZS5zb3VyY2VbMl1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsyXVsxXV0sXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUcmlhbmdsZVswXVswXSAtIGxlZnRCb3VuZF8xID4gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzBdWzBdIC09IHRoaXMuc291cmNlV29ybGRXaWR0aF87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1RyaWFuZ2xlWzFdWzBdIC0gbGVmdEJvdW5kXzEgPiB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VHJpYW5nbGVbMV1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VHJpYW5nbGVbMl1bMF0gLSBsZWZ0Qm91bmRfMSA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdUcmlhbmdsZVsyXVswXSAtPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJhcmVseSAoaWYgdGhlIGV4dGVudCBjb250YWlucyBib3RoIHRoZSBkYXRlbGluZSBhbmQgcHJpbWUgbWVyaWRpYW4pXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzaGlmdCBjYW4gaW4gdHVybiBicmVhayBzb21lIHRyaWFuZ2xlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gRGV0ZWN0IHRoaXMgaGVyZSBhbmQgZG9uJ3Qgc2hpZnQgaW4gc3VjaCBjYXNlcy5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pblggPSBNYXRoLm1pbihuZXdUcmlhbmdsZVswXVswXSwgbmV3VHJpYW5nbGVbMV1bMF0sIG5ld1RyaWFuZ2xlWzJdWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heFggPSBNYXRoLm1heChuZXdUcmlhbmdsZVswXVswXSwgbmV3VHJpYW5nbGVbMV1bMF0sIG5ld1RyaWFuZ2xlWzJdWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heFggLSBtaW5YIDwgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWFuZ2xlLnNvdXJjZSA9IG5ld1RyaWFuZ2xlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc2Zvcm1JbnZDYWNoZSA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRyaWFuZ2xlIHRvIHRoZSB0cmlhbmd1bGF0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhIFRoZSB0YXJnZXQgYSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiIFRoZSB0YXJnZXQgYiBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjIFRoZSB0YXJnZXQgYyBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhU3JjIFRoZSBzb3VyY2UgYSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiU3JjIFRoZSBzb3VyY2UgYiBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjU3JjIFRoZSBzb3VyY2UgYyBjb29yZGluYXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuYWRkVHJpYW5nbGVfID0gZnVuY3Rpb24gKGEsIGIsIGMsIGFTcmMsIGJTcmMsIGNTcmMpIHtcbiAgICAgICAgdGhpcy50cmlhbmdsZXNfLnB1c2goe1xuICAgICAgICAgICAgc291cmNlOiBbYVNyYywgYlNyYywgY1NyY10sXG4gICAgICAgICAgICB0YXJnZXQ6IFthLCBiLCBjXSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHF1YWQgKHBvaW50cyBpbiBjbG9jay13aXNlIG9yZGVyKSB0byB0aGUgdHJpYW5ndWxhdGlvblxuICAgICAqIChhbmQgcmVwcm9qZWN0cyB0aGUgdmVydGljZXMpIGlmIHZhbGlkLlxuICAgICAqIFBlcmZvcm1zIHF1YWQgc3ViZGl2aXNpb24gaWYgbmVlZGVkIHRvIGluY3JlYXNlIHByZWNpc2lvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhIFRoZSB0YXJnZXQgYSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiIFRoZSB0YXJnZXQgYiBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjIFRoZSB0YXJnZXQgYyBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkIFRoZSB0YXJnZXQgZCBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhU3JjIFRoZSBzb3VyY2UgYSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiU3JjIFRoZSBzb3VyY2UgYiBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjU3JjIFRoZSBzb3VyY2UgYyBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkU3JjIFRoZSBzb3VyY2UgZCBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhTdWJkaXZpc2lvbiBNYXhpbWFsIGFsbG93ZWQgc3ViZGl2aXNpb24gb2YgdGhlIHF1YWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUcmlhbmd1bGF0aW9uLnByb3RvdHlwZS5hZGRRdWFkXyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBhU3JjLCBiU3JjLCBjU3JjLCBkU3JjLCBtYXhTdWJkaXZpc2lvbikge1xuICAgICAgICB2YXIgc291cmNlUXVhZEV4dGVudCA9IGJvdW5kaW5nRXh0ZW50KFthU3JjLCBiU3JjLCBjU3JjLCBkU3JjXSk7XG4gICAgICAgIHZhciBzb3VyY2VDb3ZlcmFnZVggPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfXG4gICAgICAgICAgICA/IGdldFdpZHRoKHNvdXJjZVF1YWRFeHRlbnQpIC8gdGhpcy5zb3VyY2VXb3JsZFdpZHRoX1xuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICB2YXIgc291cmNlV29ybGRXaWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5zb3VyY2VXb3JsZFdpZHRoXyk7XG4gICAgICAgIC8vIHdoZW4gdGhlIHF1YWQgaXMgd3JhcHBlZCBpbiB0aGUgc291cmNlIHByb2plY3Rpb25cbiAgICAgICAgLy8gaXQgY292ZXJzIG1vc3Qgb2YgdGhlIHByb2plY3Rpb24gZXh0ZW50LCBidXQgbm90IGZ1bGx5XG4gICAgICAgIHZhciB3cmFwc1ggPSB0aGlzLnNvdXJjZVByb2pfLmNhbldyYXBYKCkgJiZcbiAgICAgICAgICAgIHNvdXJjZUNvdmVyYWdlWCA+IDAuNSAmJlxuICAgICAgICAgICAgc291cmNlQ292ZXJhZ2VYIDwgMTtcbiAgICAgICAgdmFyIG5lZWRzU3ViZGl2aXNpb24gPSBmYWxzZTtcbiAgICAgICAgaWYgKG1heFN1YmRpdmlzaW9uID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0UHJval8uaXNHbG9iYWwoKSAmJiB0aGlzLnRhcmdldFdvcmxkV2lkdGhfKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldFF1YWRFeHRlbnQgPSBib3VuZGluZ0V4dGVudChbYSwgYiwgYywgZF0pO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRDb3ZlcmFnZVggPSBnZXRXaWR0aCh0YXJnZXRRdWFkRXh0ZW50KSAvIHRoaXMudGFyZ2V0V29ybGRXaWR0aF87XG4gICAgICAgICAgICAgICAgbmVlZHNTdWJkaXZpc2lvbiA9XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENvdmVyYWdlWCA+IE1BWF9UUklBTkdMRV9XSURUSCB8fCBuZWVkc1N1YmRpdmlzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF3cmFwc1ggJiYgdGhpcy5zb3VyY2VQcm9qXy5pc0dsb2JhbCgpICYmIHNvdXJjZUNvdmVyYWdlWCkge1xuICAgICAgICAgICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VDb3ZlcmFnZVggPiBNQVhfVFJJQU5HTEVfV0lEVEggfHwgbmVlZHNTdWJkaXZpc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24gJiYgdGhpcy5tYXhTb3VyY2VFeHRlbnRfKSB7XG4gICAgICAgICAgICBpZiAoaXNGaW5pdGUoc291cmNlUXVhZEV4dGVudFswXSkgJiZcbiAgICAgICAgICAgICAgICBpc0Zpbml0ZShzb3VyY2VRdWFkRXh0ZW50WzFdKSAmJlxuICAgICAgICAgICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMl0pICYmXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUoc291cmNlUXVhZEV4dGVudFszXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWludGVyc2VjdHMoc291cmNlUXVhZEV4dGVudCwgdGhpcy5tYXhTb3VyY2VFeHRlbnRfKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aG9sZSBxdWFkIG91dHNpZGUgc291cmNlIHByb2plY3Rpb24gZXh0ZW50IC0+IGlnbm9yZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpc05vdEZpbml0ZSA9IDA7XG4gICAgICAgIGlmICghbmVlZHNTdWJkaXZpc2lvbikge1xuICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZShhU3JjWzBdKSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShhU3JjWzFdKSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShiU3JjWzBdKSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShiU3JjWzFdKSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShjU3JjWzBdKSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShjU3JjWzFdKSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShkU3JjWzBdKSB8fFxuICAgICAgICAgICAgICAgICFpc0Zpbml0ZShkU3JjWzFdKSkge1xuICAgICAgICAgICAgICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmVlZHNTdWJkaXZpc2lvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJdCBtaWdodCBiZSB0aGUgY2FzZSB0aGF0IG9ubHkgMSBvZiB0aGUgcG9pbnRzIGlzIGluZmluaXRlLiBJbiB0aGlzIGNhc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuIGRyYXcgYSBzaW5nbGUgdHJpYW5nbGUgd2l0aCB0aGUgb3RoZXIgdGhyZWUgcG9pbnRzXG4gICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICghaXNGaW5pdGUoYVNyY1swXSkgfHwgIWlzRmluaXRlKGFTcmNbMV0pID8gOCA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWlzRmluaXRlKGJTcmNbMF0pIHx8ICFpc0Zpbml0ZShiU3JjWzFdKSA/IDQgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFpc0Zpbml0ZShjU3JjWzBdKSB8fCAhaXNGaW5pdGUoY1NyY1sxXSkgPyAyIDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghaXNGaW5pdGUoZFNyY1swXSkgfHwgIWlzRmluaXRlKGRTcmNbMV0pID8gMSA6IDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOb3RGaW5pdGUgIT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNOb3RGaW5pdGUgIT0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNOb3RGaW5pdGUgIT0gNCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNOb3RGaW5pdGUgIT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgICAgICAgIGlmICghbmVlZHNTdWJkaXZpc2lvbikge1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBbKGFbMF0gKyBjWzBdKSAvIDIsIChhWzFdICsgY1sxXSkgLyAyXTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGNlbnRlcik7XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICh3cmFwc1gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlclNyY0VzdGltWCA9IChtb2R1bG8oYVNyY1swXSwgc291cmNlV29ybGRXaWR0aCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxvKGNTcmNbMF0sIHNvdXJjZVdvcmxkV2lkdGgpKSAvXG4gICAgICAgICAgICAgICAgICAgICAgICAyO1xuICAgICAgICAgICAgICAgICAgICBkeCA9IGNlbnRlclNyY0VzdGltWCAtIG1vZHVsbyhjZW50ZXJTcmNbMF0sIHNvdXJjZVdvcmxkV2lkdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZHggPSAoYVNyY1swXSArIGNTcmNbMF0pIC8gMiAtIGNlbnRlclNyY1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gKGFTcmNbMV0gKyBjU3JjWzFdKSAvIDIgLSBjZW50ZXJTcmNbMV07XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlclNyY0Vycm9yU3F1YXJlZCA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgICAgICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPSBjZW50ZXJTcmNFcnJvclNxdWFyZWQgPiB0aGlzLmVycm9yVGhyZXNob2xkU3F1YXJlZF87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmVlZHNTdWJkaXZpc2lvbikge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhhWzBdIC0gY1swXSkgPD0gTWF0aC5hYnMoYVsxXSAtIGNbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNwbGl0IGhvcml6b250YWxseSAodG9wICYgYm90dG9tKVxuICAgICAgICAgICAgICAgICAgICB2YXIgYmMgPSBbKGJbMF0gKyBjWzBdKSAvIDIsIChiWzFdICsgY1sxXSkgLyAyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJjU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGJjKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhID0gWyhkWzBdICsgYVswXSkgLyAyLCAoZFsxXSArIGFbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYVNyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhkYSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVhZF8oYSwgYiwgYmMsIGRhLCBhU3JjLCBiU3JjLCBiY1NyYywgZGFTcmMsIG1heFN1YmRpdmlzaW9uIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVhZF8oZGEsIGJjLCBjLCBkLCBkYVNyYywgYmNTcmMsIGNTcmMsIGRTcmMsIG1heFN1YmRpdmlzaW9uIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGxpdCB2ZXJ0aWNhbGx5IChsZWZ0ICYgcmlnaHQpXG4gICAgICAgICAgICAgICAgICAgIHZhciBhYiA9IFsoYVswXSArIGJbMF0pIC8gMiwgKGFbMV0gKyBiWzFdKSAvIDJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWJTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oYWIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2QgPSBbKGNbMF0gKyBkWzBdKSAvIDIsIChjWzFdICsgZFsxXSkgLyAyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGNkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRRdWFkXyhhLCBhYiwgY2QsIGQsIGFTcmMsIGFiU3JjLCBjZFNyYywgZFNyYywgbWF4U3ViZGl2aXNpb24gLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRRdWFkXyhhYiwgYiwgYywgY2QsIGFiU3JjLCBiU3JjLCBjU3JjLCBjZFNyYywgbWF4U3ViZGl2aXNpb24gLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3cmFwc1gpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYW5XcmFwWEluU291cmNlXykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMud3JhcHNYSW5Tb3VyY2VfID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeGFjdGx5IHplcm8gb3Igb25lIG9mICpTcmMgaXMgbm90IGZpbml0ZVxuICAgICAgICAvLyBUaGUgdHJpYW5nbGVzIG11c3QgaGF2ZSB0aGUgZGlhZ29uYWwgbGluZSBhcyB0aGUgZmlyc3Qgc2lkZVxuICAgICAgICAvLyBUaGlzIGlzIHRvIGFsbG93IGVhc3kgY29kZSBpbiByZXByb2oucyB0byBtYWtlIGl0IHN0cmFpZ2h0IGZvciBicm9rZW5cbiAgICAgICAgLy8gYnJvd3NlcnMgdGhhdCBjYW4ndCBoYW5kbGUgZGlhZ29uYWwgY2xpcHBpbmdcbiAgICAgICAgaWYgKChpc05vdEZpbml0ZSAmIDB4YikgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYSwgYywgZCwgYVNyYywgY1NyYywgZFNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChpc05vdEZpbml0ZSAmIDB4ZSkgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYSwgYywgYiwgYVNyYywgY1NyYywgYlNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTm90RmluaXRlKSB7XG4gICAgICAgICAgICAvLyBUcnkgdGhlIG90aGVyIHR3byB0cmlhbmdsZXNcbiAgICAgICAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGQpID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRyaWFuZ2xlXyhiLCBkLCBhLCBiU3JjLCBkU3JjLCBhU3JjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweDcpID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRyaWFuZ2xlXyhiLCBkLCBjLCBiU3JjLCBkU3JjLCBjU3JjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBleHRlbnQgb2YgdGhlICdzb3VyY2UnIGNvb3JkaW5hdGVzIGZyb20gYWxsIHRoZSB0cmlhbmdsZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBDYWxjdWxhdGVkIGV4dGVudC5cbiAgICAgKi9cbiAgICBUcmlhbmd1bGF0aW9uLnByb3RvdHlwZS5jYWxjdWxhdGVTb3VyY2VFeHRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICB0aGlzLnRyaWFuZ2xlc18uZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAgICAgdmFyIHNyYyA9IHRyaWFuZ2xlLnNvdXJjZTtcbiAgICAgICAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMF0pO1xuICAgICAgICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIHNyY1sxXSk7XG4gICAgICAgICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgc3JjWzJdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBleHRlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxUcmlhbmdsZT59IEFycmF5IG9mIHRoZSBjYWxjdWxhdGVkIHRyaWFuZ2xlcy5cbiAgICAgKi9cbiAgICBUcmlhbmd1bGF0aW9uLnByb3RvdHlwZS5nZXRUcmlhbmdsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyaWFuZ2xlc187XG4gICAgfTtcbiAgICByZXR1cm4gVHJpYW5ndWxhdGlvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBUcmlhbmd1bGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJpYW5ndWxhdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL2NvbW1vblxuICovXG4vKipcbiAqIERlZmF1bHQgV01TIHZlcnNpb24uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIERFRkFVTFRfV01TX1ZFUlNJT04gPSAnMS4zLjAnO1xuLyoqXG4gKiBDb250ZXh0IG9wdGlvbnMgdG8gZGlzYWJsZSBpbWFnZSBzbW9vdGhpbmcuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnQgdmFyIElNQUdFX1NNT09USElOR19ESVNBQkxFRCA9IHtcbiAgICBpbWFnZVNtb290aGluZ0VuYWJsZWQ6IGZhbHNlLFxuICAgIG1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkOiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvalxuICovXG5pbXBvcnQgeyBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQgfSBmcm9tICcuL3NvdXJjZS9jb21tb24uanMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgY29udGFpbnNDb29yZGluYXRlLCBjcmVhdGVFbXB0eSwgZXh0ZW5kLCBmb3JFYWNoQ29ybmVyLCBnZXRDZW50ZXIsIGdldEhlaWdodCwgZ2V0VG9wTGVmdCwgZ2V0V2lkdGgsIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgZ2V0UG9pbnRSZXNvbHV0aW9uLCB0cmFuc2Zvcm0gfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHsgc29sdmVMaW5lYXJTeXN0ZW0gfSBmcm9tICcuL21hdGguanMnO1xudmFyIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXztcbi8qKlxuICogVGhpcyBkcmF3cyBhIHNtYWxsIHRyaWFuZ2xlIGludG8gYSBjYW52YXMgYnkgc2V0dGluZyB0aGUgdHJpYW5nbGUgYXMgdGhlIGNsaXAgcmVnaW9uXG4gKiBhbmQgdGhlbiBkcmF3aW5nIGEgKHRvbyBsYXJnZSkgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY29udGV4dCBpbiB3aGljaCB0byBkcmF3IHRoZSB0cmlhbmdsZVxuICogQHBhcmFtIHtudW1iZXJ9IHUxIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHNlY29uZCBwb2ludC4gVGhlIGZpcnN0IHBvaW50IGlzIDAsMC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2MSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdTIgVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdjIgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCB1MSwgdjEsIHUyLCB2Mikge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgIGN0eC5saW5lVG8odTEsIHYxKTtcbiAgICBjdHgubGluZVRvKHUyLCB2Mik7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmNsaXAoKTtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgTWF0aC5tYXgodTEsIHUyKSArIDEsIE1hdGgubWF4KHYxLCB2MikpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG59XG4vKipcbiAqIEdpdmVuIHRoZSBkYXRhIGZyb20gZ2V0SW1hZ2VEYXRhLCBzZWUgaWYgdGhlIHJpZ2h0IHZhbHVlcyBhcHBlYXIgYXQgdGhlIHByb3ZpZGVkIG9mZnNldC5cbiAqIFJldHVybnMgdHJ1ZSBpZiBlaXRoZXIgdGhlIGNvbG9yIG9yIHRyYW5zcGFyZW5jeSBpcyBvZmZcbiAqXG4gKiBAcGFyYW0ge1VpbnQ4Q2xhbXBlZEFycmF5fSBkYXRhIFRoZSBkYXRhIHJldHVybmVkIGZyb20gZ2V0SW1hZ2VEYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBwaXhlbCBvZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgZGF0YS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGRpYWdvbmFsIHJlbmRlcmluZyBpcyBicm9rZW5cbiAqL1xuZnVuY3Rpb24gdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgb2Zmc2V0KSB7XG4gICAgLy8gdGhlIHZhbHVlcyBvdWdodCB0byBiZSBjbG9zZSB0byB0aGUgcmdiYSgyMTAsIDAsIDAsIDAuNzUpXG4gICAgcmV0dXJuIChNYXRoLmFicyhkYXRhW29mZnNldCAqIDRdIC0gMjEwKSA+IDIgfHxcbiAgICAgICAgTWF0aC5hYnMoZGF0YVtvZmZzZXQgKiA0ICsgM10gLSAwLjc1ICogMjU1KSA+IDIpO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgY29uZmlndXJhdGlvbiBjYW4gcmVuZGVyIHRyaWFuZ3VsYXIgY2xpcCByZWdpb25zIGNvcnJlY3RseS5cbiAqIFRoaXMgdmFsdWUgaXMgY2FjaGVkIHNvIHRoZSBmdW5jdGlvbiBpcyBvbmx5IGV4cGVuc2l2ZSB0aGUgZmlyc3QgdGltZSBjYWxsZWQuXG4gKiBGaXJlZm94IG9uIFdpbmRvd3MgKGFzIG9mIG5vdykgZG9lcyBub3QgaWYgSFdBIGlzIGVuYWJsZWQuIFNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjA2OTc2XG4gKiBJRSBhbHNvIGRvZXNuJ3QuIENocm9tZSB3b3JrcywgYW5kIGV2ZXJ5dGhpbmcgc2VlbXMgdG8gd29yayBvbiBPU1ggYW5kIEFuZHJvaWQuIFRoaXMgZnVuY3Rpb24gY2FjaGVzIHRoZVxuICogcmVzdWx0LiBJIHN1cHBvc2UgdGhhdCBpdCBpcyBjb25jZWl2YWJseSBwb3NzaWJsZSB0aGF0IGEgYnJvd3NlciBtaWdodCBmbGlwIG1vZGVzIHdoaWxlIHRoZSBhcHAgaXNcbiAqIHJ1bm5pbmcsIGJ1dCBsZXRzIGhvcGUgbm90LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIERpYWdvbmFsIFJlbmRlcmluZyBpcyBicm9rZW4uXG4gKi9cbmZ1bmN0aW9uIGlzQnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoKSB7XG4gICAgaWYgKGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjEwLCAwLCAwLCAwLjc1KSc7XG4gICAgICAgIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCA0LCA1LCA0LCAwKTtcbiAgICAgICAgZHJhd1Rlc3RUcmlhbmdsZShjdHgsIDQsIDUsIDAsIDUpO1xuICAgICAgICB2YXIgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgMywgMykuZGF0YTtcbiAgICAgICAgYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfID1cbiAgICAgICAgICAgIHZlcmlmeUJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKGRhdGEsIDApIHx8XG4gICAgICAgICAgICAgICAgdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgNCkgfHxcbiAgICAgICAgICAgICAgICB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCA4KTtcbiAgICB9XG4gICAgcmV0dXJuIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXztcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBpZGVhbCByZXNvbHV0aW9uIHRvIHVzZSBmcm9tIHRoZSBzb3VyY2UgaW4gb3JkZXIgdG8gYWNoaWV2ZVxuICogcGl4ZWwgbWFwcGluZyBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byAxOjEgZHVyaW5nIHJlcHJvamVjdGlvbi5cbiAqIFRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgcmVnYXJkbGVzcyBvZiB3aGF0IHJlc29sdXRpb25zXG4gKiBhcmUgYWN0dWFsbHkgYXZhaWxhYmxlIGluIHRoZSBkYXRhc2V0IChUaWxlR3JpZCwgSW1hZ2UsIC4uLikuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSB0YXJnZXRQcm9qIFRhcmdldCBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gdGFyZ2V0Q2VudGVyIFRhcmdldCBjZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJlc3QgcmVzb2x1dGlvbiB0byB1c2UuIENhbiBiZSArLUluZmluaXR5LCBOYU4gb3IgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0Q2VudGVyLCB0YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgdmFyIHNvdXJjZUNlbnRlciA9IHRyYW5zZm9ybSh0YXJnZXRDZW50ZXIsIHRhcmdldFByb2osIHNvdXJjZVByb2opO1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgaWRlYWwgcmVzb2x1dGlvbiBvZiB0aGUgc291cmNlIGRhdGFcbiAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGdldFBvaW50UmVzb2x1dGlvbih0YXJnZXRQcm9qLCB0YXJnZXRSZXNvbHV0aW9uLCB0YXJnZXRDZW50ZXIpO1xuICAgIHZhciB0YXJnZXRNZXRlcnNQZXJVbml0ID0gdGFyZ2V0UHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgaWYgKHRhcmdldE1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzb3VyY2VSZXNvbHV0aW9uICo9IHRhcmdldE1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIHZhciBzb3VyY2VNZXRlcnNQZXJVbml0ID0gc291cmNlUHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgaWYgKHNvdXJjZU1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzb3VyY2VSZXNvbHV0aW9uIC89IHNvdXJjZU1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIC8vIEJhc2VkIG9uIHRoZSBwcm9qZWN0aW9uIHByb3BlcnRpZXMsIHRoZSBwb2ludCByZXNvbHV0aW9uIGF0IHRoZSBzcGVjaWZpZWRcbiAgICAvLyBjb29yZGluYXRlcyBtYXkgYmUgc2xpZ2h0bHkgZGlmZmVyZW50LiBXZSBuZWVkIHRvIHJldmVyc2UtY29tcGVuc2F0ZSB0aGlzXG4gICAgLy8gaW4gb3JkZXIgdG8gYWNoaWV2ZSBvcHRpbWFsIHJlc3VsdHMuXG4gICAgdmFyIHNvdXJjZUV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gICAgaWYgKCFzb3VyY2VFeHRlbnQgfHwgY29udGFpbnNDb29yZGluYXRlKHNvdXJjZUV4dGVudCwgc291cmNlQ2VudGVyKSkge1xuICAgICAgICB2YXIgY29tcGVuc2F0aW9uRmFjdG9yID0gZ2V0UG9pbnRSZXNvbHV0aW9uKHNvdXJjZVByb2osIHNvdXJjZVJlc29sdXRpb24sIHNvdXJjZUNlbnRlcikgL1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKGlzRmluaXRlKGNvbXBlbnNhdGlvbkZhY3RvcikgJiYgY29tcGVuc2F0aW9uRmFjdG9yID4gMCkge1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbiAvPSBjb21wZW5zYXRpb25GYWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZVJlc29sdXRpb247XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgaWRlYWwgcmVzb2x1dGlvbiB0byB1c2UgZnJvbSB0aGUgc291cmNlIGluIG9yZGVyIHRvIGFjaGlldmVcbiAqIHBpeGVsIG1hcHBpbmcgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gMToxIGR1cmluZyByZXByb2plY3Rpb24uXG4gKiBUaGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIHJlZ2FyZGxlc3Mgb2Ygd2hhdCByZXNvbHV0aW9uc1xuICogYXJlIGFjdHVhbGx5IGF2YWlsYWJsZSBpbiB0aGUgZGF0YXNldCAoVGlsZUdyaWQsIEltYWdlLCAuLi4pLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSB0YXJnZXRFeHRlbnQgVGFyZ2V0IGV4dGVudFxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiZXN0IHJlc29sdXRpb24gdG8gdXNlLiBDYW4gYmUgKy1JbmZpbml0eSwgTmFOIG9yIDAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldEV4dGVudCwgdGFyZ2V0UmVzb2x1dGlvbikge1xuICAgIHZhciB0YXJnZXRDZW50ZXIgPSBnZXRDZW50ZXIodGFyZ2V0RXh0ZW50KTtcbiAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgdGFyZ2V0Q2VudGVyLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICBpZiAoIWlzRmluaXRlKHNvdXJjZVJlc29sdXRpb24pIHx8IHNvdXJjZVJlc29sdXRpb24gPD0gMCkge1xuICAgICAgICBmb3JFYWNoQ29ybmVyKHRhcmdldEV4dGVudCwgZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICAgICAgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgY29ybmVyLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSAmJiBzb3VyY2VSZXNvbHV0aW9uID4gMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2VSZXNvbHV0aW9uO1xufVxuLyoqXG4gKiBSZW5kZXJzIHRoZSBzb3VyY2UgZGF0YSBpbnRvIG5ldyBjYW52YXMgYmFzZWQgb24gdGhlIHRyaWFuZ3VsYXRpb24uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHRoZSBjYW52YXMuXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgY2FudmFzLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcGFyYW0ge251bWJlcn0gc291cmNlUmVzb2x1dGlvbiBTb3VyY2UgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBzb3VyY2VFeHRlbnQgRXh0ZW50IG9mIHRoZSBkYXRhIHNvdXJjZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRhcmdldEV4dGVudCBUYXJnZXQgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3JlcHJvai9Ucmlhbmd1bGF0aW9uLmpzXCIpLmRlZmF1bHR9IHRyaWFuZ3VsYXRpb25cbiAqIENhbGN1bGF0ZWQgdHJpYW5ndWxhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8e2V4dGVudDogaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LFxuICogICAgICAgICAgICAgICAgIGltYWdlOiAoSFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50KX0+fSBzb3VyY2VzXG4gKiBBcnJheSBvZiBzb3VyY2VzLlxuICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBHdXR0ZXIgb2YgdGhlIHNvdXJjZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmVuZGVyRWRnZXMgUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0X2NvbnRleHRPcHRpb25zIFByb3BlcnRpZXMgdG8gc2V0IG9uIHRoZSBjYW52YXMgY29udGV4dC5cbiAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMgd2l0aCByZXByb2plY3RlZCBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKHdpZHRoLCBoZWlnaHQsIHBpeGVsUmF0aW8sIHNvdXJjZVJlc29sdXRpb24sIHNvdXJjZUV4dGVudCwgdGFyZ2V0UmVzb2x1dGlvbiwgdGFyZ2V0RXh0ZW50LCB0cmlhbmd1bGF0aW9uLCBzb3VyY2VzLCBndXR0ZXIsIG9wdF9yZW5kZXJFZGdlcywgb3B0X2NvbnRleHRPcHRpb25zKSB7XG4gICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoTWF0aC5yb3VuZChwaXhlbFJhdGlvICogd2lkdGgpLCBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiBoZWlnaHQpKTtcbiAgICBhc3NpZ24oY29udGV4dCwgb3B0X2NvbnRleHRPcHRpb25zKTtcbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY2FudmFzO1xuICAgIH1cbiAgICBjb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgIGZ1bmN0aW9uIHBpeGVsUm91bmQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBwaXhlbFJhdGlvKSAvIHBpeGVsUmF0aW87XG4gICAgfVxuICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xuICAgIHZhciBzb3VyY2VEYXRhRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNyYywgaSwgYXJyKSB7XG4gICAgICAgIGV4dGVuZChzb3VyY2VEYXRhRXh0ZW50LCBzcmMuZXh0ZW50KTtcbiAgICB9KTtcbiAgICB2YXIgY2FudmFzV2lkdGhJblVuaXRzID0gZ2V0V2lkdGgoc291cmNlRGF0YUV4dGVudCk7XG4gICAgdmFyIGNhbnZhc0hlaWdodEluVW5pdHMgPSBnZXRIZWlnaHQoc291cmNlRGF0YUV4dGVudCk7XG4gICAgdmFyIHN0aXRjaENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoTWF0aC5yb3VuZCgocGl4ZWxSYXRpbyAqIGNhbnZhc1dpZHRoSW5Vbml0cykgLyBzb3VyY2VSZXNvbHV0aW9uKSwgTWF0aC5yb3VuZCgocGl4ZWxSYXRpbyAqIGNhbnZhc0hlaWdodEluVW5pdHMpIC8gc291cmNlUmVzb2x1dGlvbikpO1xuICAgIGFzc2lnbihzdGl0Y2hDb250ZXh0LCBvcHRfY29udGV4dE9wdGlvbnMpO1xuICAgIHZhciBzdGl0Y2hTY2FsZSA9IHBpeGVsUmF0aW8gLyBzb3VyY2VSZXNvbHV0aW9uO1xuICAgIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc3JjLCBpLCBhcnIpIHtcbiAgICAgICAgdmFyIHhQb3MgPSBzcmMuZXh0ZW50WzBdIC0gc291cmNlRGF0YUV4dGVudFswXTtcbiAgICAgICAgdmFyIHlQb3MgPSAtKHNyYy5leHRlbnRbM10gLSBzb3VyY2VEYXRhRXh0ZW50WzNdKTtcbiAgICAgICAgdmFyIHNyY1dpZHRoID0gZ2V0V2lkdGgoc3JjLmV4dGVudCk7XG4gICAgICAgIHZhciBzcmNIZWlnaHQgPSBnZXRIZWlnaHQoc3JjLmV4dGVudCk7XG4gICAgICAgIC8vIFRoaXMgdGVzdCBzaG91bGQgbmV2ZXIgZmFpbCAtLSBidXQgaXQgZG9lcy4gTmVlZCB0byBmaW5kIGEgZml4IHRoZSB1cHN0cmVhbSBjb25kaXRpb25cbiAgICAgICAgaWYgKHNyYy5pbWFnZS53aWR0aCA+IDAgJiYgc3JjLmltYWdlLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgIHN0aXRjaENvbnRleHQuZHJhd0ltYWdlKHNyYy5pbWFnZSwgZ3V0dGVyLCBndXR0ZXIsIHNyYy5pbWFnZS53aWR0aCAtIDIgKiBndXR0ZXIsIHNyYy5pbWFnZS5oZWlnaHQgLSAyICogZ3V0dGVyLCB4UG9zICogc3RpdGNoU2NhbGUsIHlQb3MgKiBzdGl0Y2hTY2FsZSwgc3JjV2lkdGggKiBzdGl0Y2hTY2FsZSwgc3JjSGVpZ2h0ICogc3RpdGNoU2NhbGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIHRhcmdldFRvcExlZnQgPSBnZXRUb3BMZWZ0KHRhcmdldEV4dGVudCk7XG4gICAgdHJpYW5ndWxhdGlvbi5nZXRUcmlhbmdsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSwgaSwgYXJyKSB7XG4gICAgICAgIC8qIENhbGN1bGF0ZSBhZmZpbmUgdHJhbnNmb3JtIChzcmMgLT4gZHN0KVxuICAgICAgICAgKiBSZXN1bHRpbmcgbWF0cml4IGNhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZGluYXRlXG4gICAgICAgICAqIGZyb20gYHNvdXJjZVByb2plY3Rpb25gIHRvIGRlc3RpbmF0aW9uIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogVG8gb3B0aW1pemUgbnVtYmVyIG9mIGNvbnRleHQgY2FsbHMgYW5kIGluY3JlYXNlIG51bWVyaWNhbCBzdGFiaWxpdHksXG4gICAgICAgICAqIHdlIGFsc28gZG8gdGhlIGZvbGxvd2luZyBvcGVyYXRpb25zOlxuICAgICAgICAgKiB0cmFucygtdG9wTGVmdEV4dGVudENvcm5lciksIHNjYWxlKDEgLyB0YXJnZXRSZXNvbHV0aW9uKSwgc2NhbGUoMSwgLTEpXG4gICAgICAgICAqIGhlcmUgYmVmb3JlIHNvbHZpbmcgdGhlIGxpbmVhciBzeXN0ZW0gc28gW3VpLCB2aV0gYXJlIHBpeGVsIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTcmMgcG9pbnRzOiB4aSwgeWlcbiAgICAgICAgICogRHN0IHBvaW50czogdWksIHZpXG4gICAgICAgICAqIEFmZmluZSBjb2VmZmljaWVudHM6IGFpalxuICAgICAgICAgKlxuICAgICAgICAgKiB8IHgwIHkwIDEgIDAgIDAgMCB8ICAgfGEwMHwgICB8dTB8XG4gICAgICAgICAqIHwgeDEgeTEgMSAgMCAgMCAwIHwgICB8YTAxfCAgIHx1MXxcbiAgICAgICAgICogfCB4MiB5MiAxICAwICAwIDAgfCB4IHxhMDJ8ID0gfHUyfFxuICAgICAgICAgKiB8ICAwICAwIDAgeDAgeTAgMSB8ICAgfGExMHwgICB8djB8XG4gICAgICAgICAqIHwgIDAgIDAgMCB4MSB5MSAxIHwgICB8YTExfCAgIHx2MXxcbiAgICAgICAgICogfCAgMCAgMCAwIHgyIHkyIDEgfCAgIHxhMTJ8ICAgfHYyfFxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRyaWFuZ2xlLnNvdXJjZTtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRyaWFuZ2xlLnRhcmdldDtcbiAgICAgICAgdmFyIHgwID0gc291cmNlWzBdWzBdLCB5MCA9IHNvdXJjZVswXVsxXTtcbiAgICAgICAgdmFyIHgxID0gc291cmNlWzFdWzBdLCB5MSA9IHNvdXJjZVsxXVsxXTtcbiAgICAgICAgdmFyIHgyID0gc291cmNlWzJdWzBdLCB5MiA9IHNvdXJjZVsyXVsxXTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyBpcyBvbiBwaXhlbCBib3VuZGFyaWVzXG4gICAgICAgIHZhciB1MCA9IHBpeGVsUm91bmQoKHRhcmdldFswXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIHZhciB2MCA9IHBpeGVsUm91bmQoLSh0YXJnZXRbMF1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICB2YXIgdTEgPSBwaXhlbFJvdW5kKCh0YXJnZXRbMV1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICB2YXIgdjEgPSBwaXhlbFJvdW5kKC0odGFyZ2V0WzFdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHUyID0gcGl4ZWxSb3VuZCgodGFyZ2V0WzJdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHYyID0gcGl4ZWxSb3VuZCgtKHRhcmdldFsyXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIC8vIFNoaWZ0IGFsbCB0aGUgc291cmNlIHBvaW50cyB0byBpbXByb3ZlIG51bWVyaWNhbCBzdGFiaWxpdHlcbiAgICAgICAgLy8gb2YgYWxsIHRoZSBzdWJzZXF1ZW50IGNhbGN1bGF0aW9ucy4gVGhlIFt4MCwgeTBdIGlzIHVzZWQgaGVyZS5cbiAgICAgICAgLy8gVGhpcyBpcyBhbHNvIHVzZWQgdG8gc2ltcGxpZnkgdGhlIGxpbmVhciBzeXN0ZW0uXG4gICAgICAgIHZhciBzb3VyY2VOdW1lcmljYWxTaGlmdFggPSB4MDtcbiAgICAgICAgdmFyIHNvdXJjZU51bWVyaWNhbFNoaWZ0WSA9IHkwO1xuICAgICAgICB4MCA9IDA7XG4gICAgICAgIHkwID0gMDtcbiAgICAgICAgeDEgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRYO1xuICAgICAgICB5MSAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFk7XG4gICAgICAgIHgyIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WDtcbiAgICAgICAgeTIgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRZO1xuICAgICAgICB2YXIgYXVnbWVudGVkTWF0cml4ID0gW1xuICAgICAgICAgICAgW3gxLCB5MSwgMCwgMCwgdTEgLSB1MF0sXG4gICAgICAgICAgICBbeDIsIHkyLCAwLCAwLCB1MiAtIHUwXSxcbiAgICAgICAgICAgIFswLCAwLCB4MSwgeTEsIHYxIC0gdjBdLFxuICAgICAgICAgICAgWzAsIDAsIHgyLCB5MiwgdjIgLSB2MF0sXG4gICAgICAgIF07XG4gICAgICAgIHZhciBhZmZpbmVDb2VmcyA9IHNvbHZlTGluZWFyU3lzdGVtKGF1Z21lbnRlZE1hdHJpeCk7XG4gICAgICAgIGlmICghYWZmaW5lQ29lZnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKGlzQnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoKSB8fFxuICAgICAgICAgICAgb3B0X2NvbnRleHRPcHRpb25zID09PSBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQpIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGFsbCBsaW5lcyBhcmUgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbFxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8odTEsIHYxKTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGRpYWdvbmFsIGxpbmUuIERvIGl0IGluIDQgc3RlcHNcbiAgICAgICAgICAgIHZhciBzdGVwcyA9IDQ7XG4gICAgICAgICAgICB2YXIgdWQgPSB1MCAtIHUxO1xuICAgICAgICAgICAgdmFyIHZkID0gdjAgLSB2MTtcbiAgICAgICAgICAgIGZvciAodmFyIHN0ZXAgPSAwOyBzdGVwIDwgc3RlcHM7IHN0ZXArKykge1xuICAgICAgICAgICAgICAgIC8vIEdvIGhvcml6b250YWxseVxuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHVkKSAvIHN0ZXBzKSwgdjEgKyBwaXhlbFJvdW5kKChzdGVwICogdmQpIC8gKHN0ZXBzIC0gMSkpKTtcbiAgICAgICAgICAgICAgICAvLyBHbyB2ZXJ0aWNhbGx5XG4gICAgICAgICAgICAgICAgaWYgKHN0ZXAgIT0gc3RlcHMgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHVkKSAvIHN0ZXBzKSwgdjEgKyBwaXhlbFJvdW5kKCgoc3RlcCArIDEpICogdmQpIC8gKHN0ZXBzIC0gMSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBhcmUgYWxtb3N0IGF0IHUwciwgdjByXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh1MiwgdjIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8odTEsIHYxKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUwLCB2MCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh1MiwgdjIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICBjb250ZXh0LnRyYW5zZm9ybShhZmZpbmVDb2Vmc1swXSwgYWZmaW5lQ29lZnNbMl0sIGFmZmluZUNvZWZzWzFdLCBhZmZpbmVDb2Vmc1szXSwgdTAsIHYwKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoc291cmNlRGF0YUV4dGVudFswXSAtIHNvdXJjZU51bWVyaWNhbFNoaWZ0WCwgc291cmNlRGF0YUV4dGVudFszXSAtIHNvdXJjZU51bWVyaWNhbFNoaWZ0WSk7XG4gICAgICAgIGNvbnRleHQuc2NhbGUoc291cmNlUmVzb2x1dGlvbiAvIHBpeGVsUmF0aW8sIC1zb3VyY2VSZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbyk7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHN0aXRjaENvbnRleHQuY2FudmFzLCAwLCAwKTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfSk7XG4gICAgaWYgKG9wdF9yZW5kZXJFZGdlcykge1xuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgICB0cmlhbmd1bGF0aW9uLmdldFRyaWFuZ2xlcygpLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0cmlhbmdsZS50YXJnZXQ7XG4gICAgICAgICAgICB2YXIgdTAgPSAodGFyZ2V0WzBdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHYwID0gLSh0YXJnZXRbMF1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdTEgPSAodGFyZ2V0WzFdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHYxID0gLSh0YXJnZXRbMV1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgdTIgPSAodGFyZ2V0WzJdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHYyID0gLSh0YXJnZXRbMl1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8odTEsIHYxKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHUwLCB2MCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh1MiwgdjIpO1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuY2FudmFzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVwcm9qLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVwcm9qL1RpbGVcbiAqL1xuaW1wb3J0IHsgRVJST1JfVEhSRVNIT0xEIH0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlIGZyb20gJy4uL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IFRyaWFuZ3VsYXRpb24gZnJvbSAnLi9Ucmlhbmd1bGF0aW9uLmpzJztcbmltcG9ydCB7IGNhbGN1bGF0ZVNvdXJjZUV4dGVudFJlc29sdXRpb24sIHJlbmRlciBhcyByZW5kZXJSZXByb2plY3RlZCwgfSBmcm9tICcuLi9yZXByb2ouanMnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7IGdldEFyZWEsIGdldEludGVyc2VjdGlvbiB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24obnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyKSA6IGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gRnVuY3Rpb25UeXBlXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3MgZW5jYXBzdWxhdGluZyBzaW5nbGUgcmVwcm9qZWN0ZWQgdGlsZS5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlSW1hZ2V+VGlsZUltYWdlfS5cbiAqXG4gKi9cbnZhciBSZXByb2pUaWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXByb2pUaWxlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBzb3VyY2VUaWxlR3JpZCBTb3VyY2UgdGlsZSBncmlkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0YXJnZXRUaWxlR3JpZCBUYXJnZXQgdGlsZSBncmlkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIENvb3JkaW5hdGUgb2YgdGhlIHRpbGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB3cmFwcGVkVGlsZUNvb3JkIENvb3JkaW5hdGUgb2YgdGhlIHRpbGUgd3JhcHBlZCBpbiBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBndXR0ZXIgR3V0dGVyIG9mIHRoZSBzb3VyY2UgdGlsZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvblR5cGV9IGdldFRpbGVGdW5jdGlvblxuICAgICAqICAgICBGdW5jdGlvbiByZXR1cm5pbmcgc291cmNlIHRpbGVzICh6LCB4LCB5LCBwaXhlbFJhdGlvKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9lcnJvclRocmVzaG9sZCBBY2NlcHRhYmxlIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcHgpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yZW5kZXJFZGdlcyBSZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0X2NvbnRleHRPcHRpb25zIFByb3BlcnRpZXMgdG8gc2V0IG9uIHRoZSBjYW52YXMgY29udGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXByb2pUaWxlKHNvdXJjZVByb2osIHNvdXJjZVRpbGVHcmlkLCB0YXJnZXRQcm9qLCB0YXJnZXRUaWxlR3JpZCwgdGlsZUNvb3JkLCB3cmFwcGVkVGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBndXR0ZXIsIGdldFRpbGVGdW5jdGlvbiwgb3B0X2Vycm9yVGhyZXNob2xkLCBvcHRfcmVuZGVyRWRnZXMsIG9wdF9jb250ZXh0T3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0aWxlQ29vcmQsIFRpbGVTdGF0ZS5JRExFKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJFZGdlc18gPSBvcHRfcmVuZGVyRWRnZXMgIT09IHVuZGVmaW5lZCA/IG9wdF9yZW5kZXJFZGdlcyA6IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHRPcHRpb25zXyA9IG9wdF9jb250ZXh0T3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ3V0dGVyXyA9IGd1dHRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VUaWxlR3JpZF8gPSBzb3VyY2VUaWxlR3JpZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0VGlsZUdyaWRfID0gdGFyZ2V0VGlsZUdyaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBwZWRUaWxlQ29vcmRfID0gd3JhcHBlZFRpbGVDb29yZCA/IHdyYXBwZWRUaWxlQ29vcmQgOiB0aWxlQ29vcmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VUaWxlc18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlWl8gPSAwO1xuICAgICAgICB2YXIgdGFyZ2V0RXh0ZW50ID0gdGFyZ2V0VGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KF90aGlzLndyYXBwZWRUaWxlQ29vcmRfKTtcbiAgICAgICAgdmFyIG1heFRhcmdldEV4dGVudCA9IF90aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRFeHRlbnQoKTtcbiAgICAgICAgdmFyIG1heFNvdXJjZUV4dGVudCA9IF90aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRFeHRlbnQoKTtcbiAgICAgICAgdmFyIGxpbWl0ZWRUYXJnZXRFeHRlbnQgPSBtYXhUYXJnZXRFeHRlbnRcbiAgICAgICAgICAgID8gZ2V0SW50ZXJzZWN0aW9uKHRhcmdldEV4dGVudCwgbWF4VGFyZ2V0RXh0ZW50KVxuICAgICAgICAgICAgOiB0YXJnZXRFeHRlbnQ7XG4gICAgICAgIGlmIChnZXRBcmVhKGxpbWl0ZWRUYXJnZXRFeHRlbnQpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBUaWxlIGlzIGNvbXBsZXRlbHkgb3V0c2lkZSByYW5nZSAtPiBFTVBUWVxuICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgYWN0dWFsbHkgY29ycmVjdCB0aGF0IHRoZSBzb3VyY2UgZXZlbiBjcmVhdGVzIHRoZSB0aWxlID9cbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2VQcm9qRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKHNvdXJjZVByb2pFeHRlbnQpIHtcbiAgICAgICAgICAgIGlmICghbWF4U291cmNlRXh0ZW50KSB7XG4gICAgICAgICAgICAgICAgbWF4U291cmNlRXh0ZW50ID0gc291cmNlUHJvakV4dGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1heFNvdXJjZUV4dGVudCA9IGdldEludGVyc2VjdGlvbihtYXhTb3VyY2VFeHRlbnQsIHNvdXJjZVByb2pFeHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXRSZXNvbHV0aW9uID0gdGFyZ2V0VGlsZUdyaWQuZ2V0UmVzb2x1dGlvbihfdGhpcy53cmFwcGVkVGlsZUNvb3JkX1swXSk7XG4gICAgICAgIHZhciBzb3VyY2VSZXNvbHV0aW9uID0gY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCBsaW1pdGVkVGFyZ2V0RXh0ZW50LCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSB8fCBzb3VyY2VSZXNvbHV0aW9uIDw9IDApIHtcbiAgICAgICAgICAgIC8vIGludmFsaWQgc291cmNlUmVzb2x1dGlvbiAtPiBFTVBUWVxuICAgICAgICAgICAgLy8gcHJvYmFibHkgZWRnZXMgb2YgdGhlIHByb2plY3Rpb25zIHdoZW4gbm8gZXh0ZW50IGlzIGRlZmluZWRcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvclRocmVzaG9sZEluUGl4ZWxzID0gb3B0X2Vycm9yVGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBvcHRfZXJyb3JUaHJlc2hvbGQgOiBFUlJPUl9USFJFU0hPTEQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IWltcG9ydChcIi4vVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpYW5ndWxhdGlvbl8gPSBuZXcgVHJpYW5ndWxhdGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCBsaW1pdGVkVGFyZ2V0RXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQsIHNvdXJjZVJlc29sdXRpb24gKiBlcnJvclRocmVzaG9sZEluUGl4ZWxzLCB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKF90aGlzLnRyaWFuZ3VsYXRpb25fLmdldFRyaWFuZ2xlcygpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gbm8gdmFsaWQgdHJpYW5nbGVzIC0+IEVNUFRZXG4gICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zb3VyY2VaXyA9IHNvdXJjZVRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHNvdXJjZVJlc29sdXRpb24pO1xuICAgICAgICB2YXIgc291cmNlRXh0ZW50ID0gX3RoaXMudHJpYW5ndWxhdGlvbl8uY2FsY3VsYXRlU291cmNlRXh0ZW50KCk7XG4gICAgICAgIGlmIChtYXhTb3VyY2VFeHRlbnQpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2VQcm9qLmNhbldyYXBYKCkpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VFeHRlbnRbMV0gPSBjbGFtcChzb3VyY2VFeHRlbnRbMV0sIG1heFNvdXJjZUV4dGVudFsxXSwgbWF4U291cmNlRXh0ZW50WzNdKTtcbiAgICAgICAgICAgICAgICBzb3VyY2VFeHRlbnRbM10gPSBjbGFtcChzb3VyY2VFeHRlbnRbM10sIG1heFNvdXJjZUV4dGVudFsxXSwgbWF4U291cmNlRXh0ZW50WzNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdXJjZUV4dGVudCA9IGdldEludGVyc2VjdGlvbihzb3VyY2VFeHRlbnQsIG1heFNvdXJjZUV4dGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnZXRBcmVhKHNvdXJjZUV4dGVudCkpIHtcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNvdXJjZVJhbmdlID0gc291cmNlVGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihzb3VyY2VFeHRlbnQsIF90aGlzLnNvdXJjZVpfKTtcbiAgICAgICAgICAgIGZvciAodmFyIHNyY1ggPSBzb3VyY2VSYW5nZS5taW5YOyBzcmNYIDw9IHNvdXJjZVJhbmdlLm1heFg7IHNyY1grKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHNyY1kgPSBzb3VyY2VSYW5nZS5taW5ZOyBzcmNZIDw9IHNvdXJjZVJhbmdlLm1heFk7IHNyY1krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IGdldFRpbGVGdW5jdGlvbihfdGhpcy5zb3VyY2VaXywgc3JjWCwgc3JjWSwgcGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb3VyY2VUaWxlc18ucHVzaCh0aWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5zb3VyY2VUaWxlc18ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEhUTUwgQ2FudmFzIGVsZW1lbnQgZm9yIHRoaXMgdGlsZS5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzLlxuICAgICAqL1xuICAgIFJlcHJvalRpbGUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXByb2pUaWxlLnByb3RvdHlwZS5yZXByb2plY3RfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgIGlmICh0aWxlICYmIHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50OiB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZS50aWxlQ29vcmQpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogdGlsZS5nZXRJbWFnZSgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5sZW5ndGggPSAwO1xuICAgICAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRVJST1I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgeiA9IHRoaXMud3JhcHBlZFRpbGVDb29yZF9bMF07XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFRpbGVTaXplKHopO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMV07XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UmVzb2x1dGlvbiA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgICAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IHRoaXMuc291cmNlVGlsZUdyaWRfLmdldFJlc29sdXRpb24odGhpcy5zb3VyY2VaXyk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RXh0ZW50ID0gdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0VGlsZUNvb3JkRXh0ZW50KHRoaXMud3JhcHBlZFRpbGVDb29yZF8pO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNfID0gcmVuZGVyUmVwcm9qZWN0ZWQod2lkdGgsIGhlaWdodCwgdGhpcy5waXhlbFJhdGlvXywgc291cmNlUmVzb2x1dGlvbiwgdGhpcy5zb3VyY2VUaWxlR3JpZF8uZ2V0RXh0ZW50KCksIHRhcmdldFJlc29sdXRpb24sIHRhcmdldEV4dGVudCwgdGhpcy50cmlhbmd1bGF0aW9uXywgc291cmNlcywgdGhpcy5ndXR0ZXJfLCB0aGlzLnJlbmRlckVkZ2VzXywgdGhpcy5jb250ZXh0T3B0aW9uc18pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5MT0FERUQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKi9cbiAgICBSZXByb2pUaWxlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5MT0FESU5HO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgICAgICB2YXIgbGVmdFRvTG9hZF8xID0gMDtcbiAgICAgICAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBbXTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRpbGUsIGksIGFycikge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gVGlsZVN0YXRlLklETEUgfHwgc3RhdGUgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdFRvTG9hZF8xKys7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2VMaXN0ZW5LZXlfMSA9IGxpc3Rlbih0aWxlLCBFdmVudFR5cGUuQ0hBTkdFLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1IgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9PSBUaWxlU3RhdGUuRU1QVFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHNvdXJjZUxpc3RlbktleV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0VG9Mb2FkXzEtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVmdFRvTG9hZF8xID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5saXN0ZW5Tb3VyY2VzXygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcHJvamVjdF8oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfLnB1c2goc291cmNlTGlzdGVuS2V5XzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUubG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGxlZnRUb0xvYWRfMSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5yZXByb2plY3RfLmJpbmQodGhpcyksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlcHJvalRpbGUucHJvdG90eXBlLnVubGlzdGVuU291cmNlc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUmVwcm9qVGlsZTtcbn0oVGlsZSkpO1xuZXhwb3J0IGRlZmF1bHQgUmVwcm9qVGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9jb21tb25cbiAqL1xuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gYWxsb3dlZCB0aHJlc2hvbGQgIChpbiBwaXhlbHMpIGZvciByZXByb2plY3Rpb25cbiAqIHRyaWFuZ3VsYXRpb24uXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIEVSUk9SX1RIUkVTSE9MRCA9IDAuNTtcbi8qKlxuICogRW5hYmxlIGF1dG9tYXRpYyByZXByb2plY3Rpb24gb2YgcmFzdGVyIHNvdXJjZXMuIERlZmF1bHQgaXMgYHRydWVgLlxuICogVE9ETzogZGVjaWRlIGlmIHdlIHdhbnQgdG8gZXhwb3NlIHRoaXMgYXMgYSBidWlsZCBmbGFnIG9yIHJlbW92ZSBpdFxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gPSB0cnVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL0xSVUNhY2hlXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFbnRyeVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGtleV9cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBuZXdlclxuICogQHByb3BlcnR5IHtPYmplY3R9IG9sZGVyXG4gKiBAcHJvcGVydHkgeyp9IHZhbHVlX1xuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudHMgYSBMZWFzdC1SZWNlbnRseS1Vc2VkIGNhY2hlIHdoZXJlIHRoZSBrZXlzIGRvIG5vdCBjb25mbGljdCB3aXRoXG4gKiBPYmplY3QncyBwcm9wZXJ0aWVzIChlLmcuICdoYXNPd25Qcm9wZXJ0eScgaXMgbm90IGFsbG93ZWQgYXMgYSBrZXkpLiBFeHBpcmluZ1xuICogaXRlbXMgZnJvbSB0aGUgY2FjaGUgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSB1c2VyLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdFxuICogQHRlbXBsYXRlIFRcbiAqL1xudmFyIExSVUNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2hpZ2hXYXRlck1hcmsgSGlnaCB3YXRlciBtYXJrLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExSVUNhY2hlKG9wdF9oaWdoV2F0ZXJNYXJrKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNpcmVkIG1heCBjYWNoZSBzaXplIGFmdGVyIGV4cGlyZUNhY2hlKCkuIElmIHNldCB0byAwLCBubyBjYWNoZSBlbnRyaWVzXG4gICAgICAgICAqIHdpbGwgYmUgcHJ1bmVkIGF0IGFsbC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGlnaFdhdGVyTWFyayA9XG4gICAgICAgICAgICBvcHRfaGlnaFdhdGVyTWFyayAhPT0gdW5kZWZpbmVkID8gb3B0X2hpZ2hXYXRlck1hcmsgOiAyMDQ4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY291bnRfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgRW50cnk+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9FbnRyeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub2xkZXN0XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P0VudHJ5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uZXdlc3RfID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuY2FuRXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpZ2hXYXRlck1hcmsgPiAwICYmIHRoaXMuZ2V0Q291bnQoKSA+IHRoaXMuaGlnaFdhdGVyTWFyaztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb3VudF8gPSAwO1xuICAgICAgICB0aGlzLmVudHJpZXNfID0ge307XG4gICAgICAgIHRoaXMub2xkZXN0XyA9IG51bGw7XG4gICAgICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBrZXkuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmNvbnRhaW5zS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzXy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihULCBzdHJpbmcsIExSVUNhY2hlPFQ+KTogP30gZiBUaGUgZnVuY3Rpb25cbiAgICAgKiAgICAgdG8gY2FsbCBmb3IgZXZlcnkgZW50cnkgZnJvbSB0aGUgb2xkZXN0IHRvIHRoZSBuZXdlci4gVGhpcyBmdW5jdGlvbiB0YWtlc1xuICAgICAqICAgICAzIGFyZ3VtZW50cyAodGhlIGVudHJ5IHZhbHVlLCB0aGUgZW50cnkga2V5IGFuZCB0aGUgTFJVQ2FjaGUgb2JqZWN0KS5cbiAgICAgKiAgICAgVGhlIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5vbGRlc3RfO1xuICAgICAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgICAgICAgIGYoZW50cnkudmFsdWVfLCBlbnRyeS5rZXlfLCB0aGlzKTtcbiAgICAgICAgICAgIGVudHJ5ID0gZW50cnkubmV3ZXI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgICAqIEBwYXJhbSB7Kj19IG9wdF9vcHRpb25zIE9wdGlvbnMgKHJlc2VydmVyZCBmb3Igc3ViY2xhc3NlcykuXG4gICAgICogQHJldHVybiB7VH0gVmFsdWUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXksIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAgICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3RfKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkudmFsdWVfO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdF8pIHtcbiAgICAgICAgICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovICh0aGlzLm9sZGVzdF8ubmV3ZXIpO1xuICAgICAgICAgICAgdGhpcy5vbGRlc3RfLm9sZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XG4gICAgICAgICAgICBlbnRyeS5vbGRlci5uZXdlciA9IGVudHJ5Lm5ld2VyO1xuICAgICAgICB9XG4gICAgICAgIGVudHJ5Lm5ld2VyID0gbnVsbDtcbiAgICAgICAgZW50cnkub2xkZXIgPSB0aGlzLm5ld2VzdF87XG4gICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IGVudHJ5O1xuICAgICAgICB0aGlzLm5ld2VzdF8gPSBlbnRyeTtcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBlbnRyeSBmcm9tIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBlbnRyeSBrZXkuXG4gICAgICogQHJldHVybiB7VH0gVGhlIHJlbW92ZWQgZW50cnkuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5lbnRyaWVzX1trZXldO1xuICAgICAgICBhc3NlcnQoZW50cnkgIT09IHVuZGVmaW5lZCwgMTUpOyAvLyBUcmllZCB0byBnZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgY2FjaGVcbiAgICAgICAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdF8pIHtcbiAgICAgICAgICAgIHRoaXMubmV3ZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5vbGRlcik7XG4gICAgICAgICAgICBpZiAodGhpcy5uZXdlc3RfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoZW50cnkubmV3ZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMub2xkZXN0Xykge1xuICAgICAgICAgICAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbnRyeS5uZXdlci5vbGRlciA9IGVudHJ5Lm9sZGVyO1xuICAgICAgICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeS5uZXdlcjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5lbnRyaWVzX1trZXldO1xuICAgICAgICAtLXRoaXMuY291bnRfO1xuICAgICAgICByZXR1cm4gZW50cnkudmFsdWVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBDb3VudC5cbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IEtleXMuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXlzID0gbmV3IEFycmF5KHRoaXMuY291bnRfKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgZW50cnk7XG4gICAgICAgIGZvciAoZW50cnkgPSB0aGlzLm5ld2VzdF87IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm9sZGVyKSB7XG4gICAgICAgICAgICBrZXlzW2krK10gPSBlbnRyeS5rZXlfO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8VD59IFZhbHVlcy5cbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KHRoaXMuY291bnRfKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgZW50cnk7XG4gICAgICAgIGZvciAoZW50cnkgPSB0aGlzLm5ld2VzdF87IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm9sZGVyKSB7XG4gICAgICAgICAgICB2YWx1ZXNbaSsrXSA9IGVudHJ5LnZhbHVlXztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7VH0gTGFzdCB2YWx1ZS5cbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUucGVla0xhc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9sZGVzdF8udmFsdWVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBMYXN0IGtleS5cbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUucGVla0xhc3RLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9sZGVzdF8ua2V5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUga2V5IG9mIHRoZSBuZXdlc3QgaXRlbSBpbiB0aGUgY2FjaGUuICBUaHJvd3MgaWYgdGhlIGNhY2hlIGlzIGVtcHR5LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG5ld2VzdCBrZXkuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtGaXJzdEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV3ZXN0Xy5rZXlfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5vbGRlc3RfO1xuICAgICAgICBkZWxldGUgdGhpcy5lbnRyaWVzX1tlbnRyeS5rZXlfXTtcbiAgICAgICAgaWYgKGVudHJ5Lm5ld2VyKSB7XG4gICAgICAgICAgICBlbnRyeS5uZXdlci5vbGRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbGRlc3RfID0gLyoqIEB0eXBlIHtFbnRyeX0gKi8gKGVudHJ5Lm5ld2VyKTtcbiAgICAgICAgaWYgKCF0aGlzLm9sZGVzdF8pIHtcbiAgICAgICAgICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLS10aGlzLmNvdW50XztcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmdldChrZXkpOyAvLyB1cGRhdGUgYG5ld2VzdF9gXG4gICAgICAgIHRoaXMuZW50cmllc19ba2V5XS52YWx1ZV8gPSB2YWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGFzc2VydCghKGtleSBpbiB0aGlzLmVudHJpZXNfKSwgMTYpOyAvLyBUcmllZCB0byBzZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBpcyB1c2VkIGFscmVhZHlcbiAgICAgICAgdmFyIGVudHJ5ID0ge1xuICAgICAgICAgICAga2V5Xzoga2V5LFxuICAgICAgICAgICAgbmV3ZXI6IG51bGwsXG4gICAgICAgICAgICBvbGRlcjogdGhpcy5uZXdlc3RfLFxuICAgICAgICAgICAgdmFsdWVfOiB2YWx1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLm5ld2VzdF8pIHtcbiAgICAgICAgICAgIHRoaXMub2xkZXN0XyA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXdlc3RfID0gZW50cnk7XG4gICAgICAgIHRoaXMuZW50cmllc19ba2V5XSA9IGVudHJ5O1xuICAgICAgICArK3RoaXMuY291bnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgbWF4aW11bSBudW1iZXIgb2YgZW50cmllcyBmb3IgdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIENhY2hlIHNpemUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gc2l6ZTtcbiAgICB9O1xuICAgIHJldHVybiBMUlVDYWNoZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBMUlVDYWNoZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxSVUNhY2hlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlY29vcmRcbiAqL1xuLyoqXG4gKiBBbiBhcnJheSBvZiB0aHJlZSBudW1iZXJzIHJlcHJlc2VudGluZyB0aGUgbG9jYXRpb24gb2YgYSB0aWxlIGluIGEgdGlsZVxuICogZ3JpZC4gVGhlIG9yZGVyIGlzIGB6YCAoem9vbSBsZXZlbCksIGB4YCAoY29sdW1uKSwgYW5kIGB5YCAocm93KS5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBUaWxlQ29vcmRcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge1RpbGVDb29yZD19IG9wdF90aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHJldHVybiB7VGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZSh6LCB4LCB5LCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgaWYgKG9wdF90aWxlQ29vcmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRfdGlsZUNvb3JkWzBdID0gejtcbiAgICAgICAgb3B0X3RpbGVDb29yZFsxXSA9IHg7XG4gICAgICAgIG9wdF90aWxlQ29vcmRbMl0gPSB5O1xuICAgICAgICByZXR1cm4gb3B0X3RpbGVDb29yZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbeiwgeCwgeV07XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleVpYWSh6LCB4LCB5KSB7XG4gICAgcmV0dXJuIHogKyAnLycgKyB4ICsgJy8nICsgeTtcbn1cbi8qKlxuICogR2V0IHRoZSBrZXkgZm9yIGEgdGlsZSBjb29yZC5cbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSB0aWxlQ29vcmQgVGhlIHRpbGUgY29vcmQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleSh0aWxlQ29vcmQpIHtcbiAgICByZXR1cm4gZ2V0S2V5WlhZKHRpbGVDb29yZFswXSwgdGlsZUNvb3JkWzFdLCB0aWxlQ29vcmRbMl0pO1xufVxuLyoqXG4gKiBHZXQgYSB0aWxlIGNvb3JkIGdpdmVuIGEga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgdGlsZSBjb29yZCBrZXkuXG4gKiBAcmV0dXJuIHtUaWxlQ29vcmR9IFRoZSB0aWxlIGNvb3JkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUtleShrZXkpIHtcbiAgICByZXR1cm4ga2V5LnNwbGl0KCcvJykubWFwKE51bWJlcik7XG59XG4vKipcbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSGFzaC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2godGlsZUNvb3JkKSB7XG4gICAgcmV0dXJuICh0aWxlQ29vcmRbMV0gPDwgdGlsZUNvb3JkWzBdKSArIHRpbGVDb29yZFsyXTtcbn1cbi8qKlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0geyFpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRpbGUgY29vcmRpbmF0ZSBpcyB3aXRoaW4gZXh0ZW50IGFuZCB6b29tIGxldmVsIHJhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aGluRXh0ZW50QW5kWih0aWxlQ29vcmQsIHRpbGVHcmlkKSB7XG4gICAgdmFyIHogPSB0aWxlQ29vcmRbMF07XG4gICAgdmFyIHggPSB0aWxlQ29vcmRbMV07XG4gICAgdmFyIHkgPSB0aWxlQ29vcmRbMl07XG4gICAgaWYgKHRpbGVHcmlkLmdldE1pblpvb20oKSA+IHogfHwgeiA+IHRpbGVHcmlkLmdldE1heFpvb20oKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRGdWxsVGlsZVJhbmdlKHopO1xuICAgIGlmICghdGlsZVJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRpbGVSYW5nZS5jb250YWluc1hZKHgsIHkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbGVjb29yZC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVDYWNoZVxuICovXG5pbXBvcnQgTFJVQ2FjaGUgZnJvbSAnLi9zdHJ1Y3RzL0xSVUNhY2hlLmpzJztcbmltcG9ydCB7IGZyb21LZXksIGdldEtleSB9IGZyb20gJy4vdGlsZWNvb3JkLmpzJztcbnZhciBUaWxlQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGVDYWNoZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUaWxlQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHVzZWRUaWxlcyBVc2VkIHRpbGVzLlxuICAgICAqL1xuICAgIFRpbGVDYWNoZS5wcm90b3R5cGUuZXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiAodXNlZFRpbGVzKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgICAgICAgIHZhciB0aWxlID0gdGhpcy5wZWVrTGFzdCgpO1xuICAgICAgICAgICAgaWYgKHRpbGUuZ2V0S2V5KCkgaW4gdXNlZFRpbGVzKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcCgpLnJlbGVhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJ1bmUgYWxsIHRpbGVzIGZyb20gdGhlIGNhY2hlIHRoYXQgZG9uJ3QgaGF2ZSB0aGUgc2FtZSB6IGFzIHRoZSBuZXdlc3QgdGlsZS5cbiAgICAgKi9cbiAgICBUaWxlQ2FjaGUucHJvdG90eXBlLnBydW5lRXhjZXB0TmV3ZXN0WiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXkgPSB0aGlzLnBlZWtGaXJzdEtleSgpO1xuICAgICAgICB2YXIgdGlsZUNvb3JkID0gZnJvbUtleShrZXkpO1xuICAgICAgICB2YXIgeiA9IHRpbGVDb29yZFswXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlKSB7XG4gICAgICAgICAgICBpZiAodGlsZS50aWxlQ29vcmRbMF0gIT09IHopIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShnZXRLZXkodGlsZS50aWxlQ29vcmQpKTtcbiAgICAgICAgICAgICAgICB0aWxlLnJlbGVhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9O1xuICAgIHJldHVybiBUaWxlQ2FjaGU7XG59KExSVUNhY2hlKSk7XG5leHBvcnQgZGVmYXVsdCBUaWxlQ2FjaGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlQ2FjaGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVncmlkL1RpbGVHcmlkXG4gKi9cbmltcG9ydCBUaWxlUmFuZ2UsIHsgY3JlYXRlT3JVcGRhdGUgYXMgY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UsIH0gZnJvbSAnLi4vVGlsZVJhbmdlLmpzJztcbmltcG9ydCB7IERFRkFVTFRfVElMRV9TSVpFIH0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGUsIGdldFRvcExlZnQgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGUgYXMgY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmQgfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHsgaXNTb3J0ZWQsIGxpbmVhckZpbmROZWFyZXN0IH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgdG9TaXplIH0gZnJvbSAnLi4vc2l6ZS5qcyc7XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAqL1xudmFyIHRtcFRpbGVDb29yZCA9IFswLCAwLCAwXTtcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQgZm9yIHRoZSB0aWxlIGdyaWQuIE5vIHRpbGVzIG91dHNpZGUgdGhpc1xuICogZXh0ZW50IHdpbGwgYmUgcmVxdWVzdGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGV9IHNvdXJjZXMuIFdoZW4gbm8gYG9yaWdpbmAgb3JcbiAqIGBvcmlnaW5zYCBhcmUgY29uZmlndXJlZCwgdGhlIGBvcmlnaW5gIHdpbGwgYmUgc2V0IHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBNaW5pbXVtIHpvb20uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29yaWdpbl0gVGhlIHRpbGUgZ3JpZCBvcmlnaW4sIGkuZS4gd2hlcmUgdGhlIGB4YFxuICogYW5kIGB5YCBheGVzIG1lZXQgKGBbeiwgMCwgMF1gKS4gVGlsZSBjb29yZGluYXRlcyBpbmNyZWFzZSBsZWZ0IHRvIHJpZ2h0IGFuZCBkb3dud2FyZHMuIElmIG5vdFxuICogc3BlY2lmaWVkLCBgZXh0ZW50YCBvciBgb3JpZ2luc2AgbXVzdCBiZSBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gW29yaWdpbnNdIFRpbGUgZ3JpZCBvcmlnaW5zLCBpLmUuIHdoZXJlXG4gKiB0aGUgYHhgIGFuZCBgeWAgYXhlcyBtZWV0IChgW3osIDAsIDBdYCksIGZvciBlYWNoIHpvb20gbGV2ZWwuIElmIGdpdmVuLCB0aGUgYXJyYXkgbGVuZ3RoXG4gKiBzaG91bGQgbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgYHJlc29sdXRpb25zYCBhcnJheSwgaS5lLiBlYWNoIHJlc29sdXRpb24gY2FuIGhhdmUgYSBkaWZmZXJlbnRcbiAqIG9yaWdpbi4gVGlsZSBjb29yZGluYXRlcyBpbmNyZWFzZSBsZWZ0IHRvIHJpZ2h0IGFuZCBkb3dud2FyZHMuIElmIG5vdCBzcGVjaWZpZWQsIGBleHRlbnRgIG9yXG4gKiBgb3JpZ2luYCBtdXN0IGJlIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gcmVzb2x1dGlvbnMgUmVzb2x1dGlvbnMuIFRoZSBhcnJheSBpbmRleCBvZiBlYWNoIHJlc29sdXRpb24gbmVlZHNcbiAqIHRvIG1hdGNoIHRoZSB6b29tIGxldmVsLiBUaGlzIG1lYW5zIHRoYXQgZXZlbiBpZiBhIGBtaW5ab29tYCBpcyBjb25maWd1cmVkLCB0aGUgcmVzb2x1dGlvbnNcbiAqIGFycmF5IHdpbGwgaGF2ZSBhIGxlbmd0aCBvZiBgbWF4Wm9vbSArIDFgLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fSBbc2l6ZXNdIE51bWJlciBvZiB0aWxlIHJvd3MgYW5kIGNvbHVtbnNcbiAqIG9mIHRoZSBncmlkIGZvciBlYWNoIHpvb20gbGV2ZWwuIElmIHNwZWNpZmllZCB0aGUgdmFsdWVzXG4gKiBkZWZpbmUgZWFjaCB6b29tIGxldmVsJ3MgZXh0ZW50IHRvZ2V0aGVyIHdpdGggdGhlIGBvcmlnaW5gIG9yIGBvcmlnaW5zYC5cbiAqIEEgZ3JpZCBgZXh0ZW50YCBjYW4gYmUgY29uZmlndXJlZCBpbiBhZGRpdGlvbiwgYW5kIHdpbGwgZnVydGhlciBsaW1pdCB0aGUgZXh0ZW50XG4gKiBmb3Igd2hpY2ggdGlsZSByZXF1ZXN0cyBhcmUgbWFkZSBieSBzb3VyY2VzLiBJZiB0aGUgYm90dG9tLWxlZnQgY29ybmVyIG9mXG4gKiBhbiBleHRlbnQgaXMgdXNlZCBhcyBgb3JpZ2luYCBvciBgb3JpZ2luc2AsIHRoZW4gdGhlIGB5YCB2YWx1ZSBtdXN0IGJlXG4gKiBuZWdhdGl2ZSBiZWNhdXNlIE9wZW5MYXllcnMgdGlsZSBjb29yZGluYXRlcyB1c2UgdGhlIHRvcCBsZWZ0IGFzIHRoZSBvcmlnaW4uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZV0gVGlsZSBzaXplLlxuICogRGVmYXVsdCBpcyBgWzI1NiwgMjU2XWAuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59IFt0aWxlU2l6ZXNdIFRpbGUgc2l6ZXMuIElmIGdpdmVuLCB0aGUgYXJyYXkgbGVuZ3RoXG4gKiBzaG91bGQgbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgYHJlc29sdXRpb25zYCBhcnJheSwgaS5lLiBlYWNoIHJlc29sdXRpb24gY2FuIGhhdmUgYSBkaWZmZXJlbnRcbiAqIHRpbGUgc2l6ZS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzZXR0aW5nIHRoZSBncmlkIHBhdHRlcm4gZm9yIHNvdXJjZXMgYWNjZXNzaW5nIHRpbGVkLWltYWdlXG4gKiBzZXJ2ZXJzLlxuICogQGFwaVxuICovXG52YXIgVGlsZUdyaWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFRpbGUgZ3JpZCBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGVHcmlkKG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbnNfID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICAgICAgYXNzZXJ0KGlzU29ydGVkKHRoaXMucmVzb2x1dGlvbnNfLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGIgLSBhO1xuICAgICAgICB9LCB0cnVlKSwgMTcpOyAvLyBgcmVzb2x1dGlvbnNgIG11c3QgYmUgc29ydGVkIGluIGRlc2NlbmRpbmcgb3JkZXJcbiAgICAgICAgLy8gY2hlY2sgaWYgd2UndmUgZ290IGEgY29uc2lzdGVudCB6b29tIGZhY3RvciBhbmQgb3JpZ2luXG4gICAgICAgIHZhciB6b29tRmFjdG9yO1xuICAgICAgICBpZiAoIW9wdGlvbnMub3JpZ2lucykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMTsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXpvb21GYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgem9vbUZhY3RvciA9IHRoaXMucmVzb2x1dGlvbnNfW2ldIC8gdGhpcy5yZXNvbHV0aW9uc19baSArIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfW2ldIC8gdGhpcy5yZXNvbHV0aW9uc19baSArIDFdICE9PSB6b29tRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tRmFjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy56b29tRmFjdG9yXyA9IHpvb21GYWN0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFpvb20gPSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggLSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZ2luXyA9IG9wdGlvbnMub3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9yaWdpbiA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZ2luc18gPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5vcmlnaW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luc18gPSBvcHRpb25zLm9yaWdpbnM7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5vcmlnaW5zXy5sZW5ndGggPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoLCAyMCk7IC8vIE51bWJlciBvZiBgb3JpZ2luc2AgYW5kIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBlcXVhbFxuICAgICAgICB9XG4gICAgICAgIHZhciBleHRlbnQgPSBvcHRpb25zLmV4dGVudDtcbiAgICAgICAgaWYgKGV4dGVudCAhPT0gdW5kZWZpbmVkICYmICF0aGlzLm9yaWdpbl8gJiYgIXRoaXMub3JpZ2luc18pIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luXyA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQoKCF0aGlzLm9yaWdpbl8gJiYgdGhpcy5vcmlnaW5zXykgfHwgKHRoaXMub3JpZ2luXyAmJiAhdGhpcy5vcmlnaW5zXyksIDE4KTsgLy8gRWl0aGVyIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCBtdXN0IGJlIGNvbmZpZ3VyZWQsIG5ldmVyIGJvdGhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsZVNpemVzXyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLnRpbGVTaXplcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVTaXplc18gPSBvcHRpb25zLnRpbGVTaXplcztcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLnRpbGVTaXplc18ubGVuZ3RoID09IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCwgMTkpOyAvLyBOdW1iZXIgb2YgYHRpbGVTaXplc2AgYW5kIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBlcXVhbFxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsZVNpemVfID1cbiAgICAgICAgICAgIG9wdGlvbnMudGlsZVNpemUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy50aWxlU2l6ZVxuICAgICAgICAgICAgICAgIDogIXRoaXMudGlsZVNpemVzX1xuICAgICAgICAgICAgICAgICAgICA/IERFRkFVTFRfVElMRV9TSVpFXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgYXNzZXJ0KCghdGhpcy50aWxlU2l6ZV8gJiYgdGhpcy50aWxlU2l6ZXNfKSB8fFxuICAgICAgICAgICAgKHRoaXMudGlsZVNpemVfICYmICF0aGlzLnRpbGVTaXplc18pLCAyMik7IC8vIEVpdGhlciBgdGlsZVNpemVgIG9yIGB0aWxlU2l6ZXNgIG11c3QgYmUgY29uZmlndXJlZCwgbmV2ZXIgYm90aFxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV4dGVudF8gPSBleHRlbnQgIT09IHVuZGVmaW5lZCA/IGV4dGVudCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mdWxsVGlsZVJhbmdlc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudG1wU2l6ZV8gPSBbMCwgMF07XG4gICAgICAgIGlmIChvcHRpb25zLnNpemVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZnVsbFRpbGVSYW5nZXNfID0gb3B0aW9ucy5zaXplcy5tYXAoZnVuY3Rpb24gKHNpemUsIHopIHtcbiAgICAgICAgICAgICAgICB2YXIgdGlsZVJhbmdlID0gbmV3IFRpbGVSYW5nZShNYXRoLm1pbigwLCBzaXplWzBdKSwgTWF0aC5tYXgoc2l6ZVswXSAtIDEsIC0xKSwgTWF0aC5taW4oMCwgc2l6ZVsxXSksIE1hdGgubWF4KHNpemVbMV0gLSAxLCAtMSkpO1xuICAgICAgICAgICAgICAgIGlmIChleHRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3RyaWN0ZWRUaWxlUmFuZ2UgPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZVJhbmdlLm1pblggPSBNYXRoLm1heChyZXN0cmljdGVkVGlsZVJhbmdlLm1pblgsIHRpbGVSYW5nZS5taW5YKTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZVJhbmdlLm1heFggPSBNYXRoLm1pbihyZXN0cmljdGVkVGlsZVJhbmdlLm1heFgsIHRpbGVSYW5nZS5tYXhYKTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZVJhbmdlLm1pblkgPSBNYXRoLm1heChyZXN0cmljdGVkVGlsZVJhbmdlLm1pblksIHRpbGVSYW5nZS5taW5ZKTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZVJhbmdlLm1heFkgPSBNYXRoLm1pbihyZXN0cmljdGVkVGlsZVJhbmdlLm1heFksIHRpbGVSYW5nZS5tYXhZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbGVSYW5nZTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4dGVudCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUaWxlUmFuZ2VzXyhleHRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgYSBmdW5jdGlvbiB3aXRoIGVhY2ggdGlsZSBjb29yZGluYXRlIGZvciBhIGdpdmVuIGV4dGVudCBhbmQgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkKTogdm9pZH0gY2FsbGJhY2sgRnVuY3Rpb24gY2FsbGVkIHdpdGggZWFjaCB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5mb3JFYWNoVGlsZUNvb3JkID0gZnVuY3Rpb24gKGV4dGVudCwgem9vbSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHRpbGVSYW5nZSA9IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHpvb20pO1xuICAgICAgICBmb3IgKHZhciBpID0gdGlsZVJhbmdlLm1pblgsIGlpID0gdGlsZVJhbmdlLm1heFg7IGkgPD0gaWk7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHRpbGVSYW5nZS5taW5ZLCBqaiA9IHRpbGVSYW5nZS5tYXhZOyBqIDw9IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhbem9vbSwgaSwgal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdD19IG9wdF90aWxlUmFuZ2UgVGVtcG9yYXJ5IGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfZXh0ZW50IFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDYWxsYmFjayBzdWNjZWVkZWQuXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UgPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBjYWxsYmFjaywgb3B0X3RpbGVSYW5nZSwgb3B0X2V4dGVudCkge1xuICAgICAgICB2YXIgdGlsZVJhbmdlLCB4LCB5O1xuICAgICAgICB2YXIgdGlsZUNvb3JkRXh0ZW50ID0gbnVsbDtcbiAgICAgICAgdmFyIHogPSB0aWxlQ29vcmRbMF0gLSAxO1xuICAgICAgICBpZiAodGhpcy56b29tRmFjdG9yXyA9PT0gMikge1xuICAgICAgICAgICAgeCA9IHRpbGVDb29yZFsxXTtcbiAgICAgICAgICAgIHkgPSB0aWxlQ29vcmRbMl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIG9wdF9leHRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh6ID49IHRoaXMubWluWm9vbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5mbG9vcih4IC8gMik7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoeSAvIDIpO1xuICAgICAgICAgICAgICAgIHRpbGVSYW5nZSA9IGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKHgsIHgsIHksIHksIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKHRpbGVDb29yZEV4dGVudCwgeiwgb3B0X3RpbGVSYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2soeiwgdGlsZVJhbmdlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLS16O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IGZvciB0aGlzIHRpbGUgZ3JpZCwgaWYgaXQgd2FzIGNvbmZpZ3VyZWQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWF4IHpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhab29tO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWluIHpvb20uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRNaW5ab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5ab29tO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBvcmlnaW4gZm9yIHRoZSBncmlkIGF0IHRoZSBnaXZlbiB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IE9yaWdpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldE9yaWdpbiA9IGZ1bmN0aW9uICh6KSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5zX1t6XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uICh6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t6XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlzdCBvZiByZXNvbHV0aW9ucyBmb3IgdGhlIHRpbGUgZ3JpZC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdD19IG9wdF90aWxlUmFuZ2UgVGVtcG9yYXJ5IGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfZXh0ZW50IFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gVGlsZSByYW5nZS5cbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkQ2hpbGRUaWxlUmFuZ2UgPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBvcHRfdGlsZVJhbmdlLCBvcHRfZXh0ZW50KSB7XG4gICAgICAgIGlmICh0aWxlQ29vcmRbMF0gPCB0aGlzLm1heFpvb20pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnpvb21GYWN0b3JfID09PSAyKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pblggPSB0aWxlQ29vcmRbMV0gKiAyO1xuICAgICAgICAgICAgICAgIHZhciBtaW5ZID0gdGlsZUNvb3JkWzJdICogMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UobWluWCwgbWluWCArIDEsIG1pblksIG1pblkgKyAxLCBvcHRfdGlsZVJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIG9wdF9leHRlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWih0aWxlQ29vcmRFeHRlbnQsIHRpbGVDb29yZFswXSArIDEsIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBleHRlbnQgZm9yIGEgdGlsZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlUmFuZ2VFeHRlbnQgPSBmdW5jdGlvbiAoeiwgdGlsZVJhbmdlLCBvcHRfZXh0ZW50KSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih6KTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIG1pblggPSBvcmlnaW5bMF0gKyB0aWxlUmFuZ2UubWluWCAqIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1heFggPSBvcmlnaW5bMF0gKyAodGlsZVJhbmdlLm1heFggKyAxKSAqIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1pblkgPSBvcmlnaW5bMV0gKyB0aWxlUmFuZ2UubWluWSAqIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1heFkgPSBvcmlnaW5bMV0gKyAodGlsZVJhbmdlLm1heFkgKyAxKSAqIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIG9wdF9leHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgdGlsZSByYW5nZSBmb3IgdGhlIGdpdmVuIGV4dGVudCBhbmQgaW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdD19IG9wdF90aWxlUmFuZ2UgVGVtcG9yYXJ5IHRpbGUgcmFuZ2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBUaWxlIHJhbmdlLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaID0gZnVuY3Rpb24gKGV4dGVudCwgeiwgb3B0X3RpbGVSYW5nZSkge1xuICAgICAgICB2YXIgdGlsZUNvb3JkID0gdG1wVGlsZUNvb3JkO1xuICAgICAgICB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kWl8oZXh0ZW50WzBdLCBleHRlbnRbM10sIHosIGZhbHNlLCB0aWxlQ29vcmQpO1xuICAgICAgICB2YXIgbWluWCA9IHRpbGVDb29yZFsxXTtcbiAgICAgICAgdmFyIG1pblkgPSB0aWxlQ29vcmRbMl07XG4gICAgICAgIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhleHRlbnRbMl0sIGV4dGVudFsxXSwgeiwgdHJ1ZSwgdGlsZUNvb3JkKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIHRpbGVDb29yZFsxXSwgbWluWSwgdGlsZUNvb3JkWzJdLCBvcHRfdGlsZVJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRpbGUgY2VudGVyLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRDZW50ZXIgPSBmdW5jdGlvbiAodGlsZUNvb3JkKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh0aWxlQ29vcmRbMF0pLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG9yaWdpblswXSArICh0aWxlQ29vcmRbMV0gKyAwLjUpICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgb3JpZ2luWzFdIC0gKHRpbGVDb29yZFsyXSArIDAuNSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb24sXG4gICAgICAgIF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGV4dGVudCBvZiBhIHRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfZXh0ZW50IFRlbXBvcmFyeSBleHRlbnQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZEV4dGVudCA9IGZ1bmN0aW9uICh0aWxlQ29vcmQsIG9wdF9leHRlbnQpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHRpbGVDb29yZFswXSk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHRpbGVDb29yZFswXSk7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHRpbGVDb29yZFswXSksIHRoaXMudG1wU2l6ZV8pO1xuICAgICAgICB2YXIgbWluWCA9IG9yaWdpblswXSArIHRpbGVDb29yZFsxXSAqIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1pblkgPSBvcmlnaW5bMV0gLSAodGlsZUNvb3JkWzJdICsgMSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtYXhYID0gbWluWCArIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1heFkgPSBtaW5ZICsgdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUobWluWCwgbWluWSwgbWF4WCwgbWF4WSwgb3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpbGUgY29vcmRpbmF0ZSBmb3IgdGhlIGdpdmVuIG1hcCBjb29yZGluYXRlIGFuZCByZXNvbHV0aW9uLiAgVGhpc1xuICAgICAqIG1ldGhvZCBjb25zaWRlcnMgdGhhdCBjb29yZGluYXRlcyB0aGF0IGludGVyc2VjdCB0aWxlIGJvdW5kYXJpZXMgc2hvdWxkIGJlXG4gICAgICogYXNzaWduZWQgdGhlIGhpZ2hlciB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkPX0gb3B0X3RpbGVDb29yZCBEZXN0aW5hdGlvbiBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFJlc29sdXRpb24gPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgb3B0X3RpbGVDb29yZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fKGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0sIHJlc29sdXRpb24sIGZhbHNlLCBvcHRfdGlsZUNvb3JkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBzaG91bGQgbm90IGJlIGNhbGxlZCBmb3IgcmVzb2x1dGlvbnMgdGhhdCBjb3JyZXNwb25kXG4gICAgICogdG8gYW4gaW50ZWdlciB6b29tIGxldmVsLiAgSW5zdGVhZCBjYWxsIHRoZSBgZ2V0VGlsZUNvb3JkRm9yWFlBbmRaX2AgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uIChmb3IgYSBub24taW50ZWdlciB6b29tIGxldmVsKS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgSW5zdGVhZCBvZiBsZXR0aW5nIGVkZ2VcbiAgICAgKiAgICAgaW50ZXJzZWN0aW9ucyBnbyB0byB0aGUgaGlnaGVyIHRpbGUgY29vcmRpbmF0ZSwgbGV0IGVkZ2UgaW50ZXJzZWN0aW9uc1xuICAgICAqICAgICBnbyB0byB0aGUgbG93ZXIgdGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZD19IG9wdF90aWxlQ29vcmQgVGVtcG9yYXJ5IGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fID0gZnVuY3Rpb24gKHgsIHksIHJlc29sdXRpb24sIHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3ksIG9wdF90aWxlQ29vcmQpIHtcbiAgICAgICAgdmFyIHogPSB0aGlzLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB2YXIgc2NhbGUgPSByZXNvbHV0aW9uIC8gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIGFkanVzdFggPSByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5ID8gMC41IDogMDtcbiAgICAgICAgdmFyIGFkanVzdFkgPSByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5ID8gMC41IDogMDtcbiAgICAgICAgdmFyIHhGcm9tT3JpZ2luID0gTWF0aC5mbG9vcigoeCAtIG9yaWdpblswXSkgLyByZXNvbHV0aW9uICsgYWRqdXN0WCk7XG4gICAgICAgIHZhciB5RnJvbU9yaWdpbiA9IE1hdGguZmxvb3IoKG9yaWdpblsxXSAtIHkpIC8gcmVzb2x1dGlvbiArIGFkanVzdFkpO1xuICAgICAgICB2YXIgdGlsZUNvb3JkWCA9IChzY2FsZSAqIHhGcm9tT3JpZ2luKSAvIHRpbGVTaXplWzBdO1xuICAgICAgICB2YXIgdGlsZUNvb3JkWSA9IChzY2FsZSAqIHlGcm9tT3JpZ2luKSAvIHRpbGVTaXplWzFdO1xuICAgICAgICBpZiAocmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSkge1xuICAgICAgICAgICAgdGlsZUNvb3JkWCA9IE1hdGguY2VpbCh0aWxlQ29vcmRYKSAtIDE7XG4gICAgICAgICAgICB0aWxlQ29vcmRZID0gTWF0aC5jZWlsKHRpbGVDb29yZFkpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRpbGVDb29yZFggPSBNYXRoLmZsb29yKHRpbGVDb29yZFgpO1xuICAgICAgICAgICAgdGlsZUNvb3JkWSA9IE1hdGguZmxvb3IodGlsZUNvb3JkWSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZUNvb3JkKHosIHRpbGVDb29yZFgsIHRpbGVDb29yZFksIG9wdF90aWxlQ29vcmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWx0aG91Z2ggdGhlcmUgaXMgcmVwZXRpdGlvbiBiZXR3ZWVuIHRoaXMgbWV0aG9kIGFuZCBgZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uX2AsXG4gICAgICogdGhleSBzaG91bGQgaGF2ZSBzZXBhcmF0ZSBpbXBsZW1lbnRhdGlvbnMuICBUaGlzIG1ldGhvZCBpcyBmb3IgaW50ZWdlciB6b29tXG4gICAgICogbGV2ZWxzLiAgVGhlIG90aGVyIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWQgZm9yIHJlc29sdXRpb25zIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB0byBub24taW50ZWdlciB6b29tIGxldmVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBNYXAgeCBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IE1hcCB5IGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSBJbnN0ZWFkIG9mIGxldHRpbmcgZWRnZVxuICAgICAqICAgICBpbnRlcnNlY3Rpb25zIGdvIHRvIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLCBsZXQgZWRnZSBpbnRlcnNlY3Rpb25zXG4gICAgICogICAgIGdvIHRvIHRoZSBsb3dlciB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkPX0gb3B0X3RpbGVDb29yZCBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZEZvclhZQW5kWl8gPSBmdW5jdGlvbiAoeCwgeSwgeiwgcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSwgb3B0X3RpbGVDb29yZCkge1xuICAgICAgICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplXyk7XG4gICAgICAgIHZhciBhZGp1c3RYID0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSA/IDAuNSA6IDA7XG4gICAgICAgIHZhciBhZGp1c3RZID0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSA/IDAuNSA6IDA7XG4gICAgICAgIHZhciB4RnJvbU9yaWdpbiA9IE1hdGguZmxvb3IoKHggLSBvcmlnaW5bMF0pIC8gcmVzb2x1dGlvbiArIGFkanVzdFgpO1xuICAgICAgICB2YXIgeUZyb21PcmlnaW4gPSBNYXRoLmZsb29yKChvcmlnaW5bMV0gLSB5KSAvIHJlc29sdXRpb24gKyBhZGp1c3RZKTtcbiAgICAgICAgdmFyIHRpbGVDb29yZFggPSB4RnJvbU9yaWdpbiAvIHRpbGVTaXplWzBdO1xuICAgICAgICB2YXIgdGlsZUNvb3JkWSA9IHlGcm9tT3JpZ2luIC8gdGlsZVNpemVbMV07XG4gICAgICAgIGlmIChyZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5KSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRYID0gTWF0aC5jZWlsKHRpbGVDb29yZFgpIC0gMTtcbiAgICAgICAgICAgIHRpbGVDb29yZFkgPSBNYXRoLmNlaWwodGlsZUNvb3JkWSkgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGlsZUNvb3JkWCA9IE1hdGguZmxvb3IodGlsZUNvb3JkWCk7XG4gICAgICAgICAgICB0aWxlQ29vcmRZID0gTWF0aC5mbG9vcih0aWxlQ29vcmRZKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmQoeiwgdGlsZUNvb3JkWCwgdGlsZUNvb3JkWSwgb3B0X3RpbGVDb29yZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB0aWxlIGNvb3JkaW5hdGUgZ2l2ZW4gYSBtYXAgY29vcmRpbmF0ZSBhbmQgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkPX0gb3B0X3RpbGVDb29yZCBEZXN0aW5hdGlvbiBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFogPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgeiwgb3B0X3RpbGVDb29yZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfKGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0sIHosIGZhbHNlLCBvcHRfdGlsZUNvb3JkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRpbGUgcmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkUmVzb2x1dGlvbiA9IGZ1bmN0aW9uICh0aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfW3RpbGVDb29yZFswXV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpbGUgc2l6ZSBmb3IgYSB6b29tIGxldmVsLiBUaGUgdHlwZSBvZiB0aGUgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhlXG4gICAgICogYHRpbGVTaXplYCBvciBgdGlsZVNpemVzYCB0aGF0IHRoZSB0aWxlIGdyaWQgd2FzIGNvbmZpZ3VyZWQgd2l0aC4gVG8gYWx3YXlzXG4gICAgICogZ2V0IGFuIGBpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemVgLCBydW4gdGhlIHJlc3VsdCB0aHJvdWdoIGBpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemUudG9TaXplKClgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gICAgICogQHJldHVybiB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gVGlsZSBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZVNpemUgPSBmdW5jdGlvbiAoeikge1xuICAgICAgICBpZiAodGhpcy50aWxlU2l6ZV8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVTaXplXztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVTaXplc19bel07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IEV4dGVudCB0aWxlIHJhbmdlIGZvciB0aGUgc3BlY2lmaWVkIHpvb20gbGV2ZWwuXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldEZ1bGxUaWxlUmFuZ2UgPSBmdW5jdGlvbiAoeikge1xuICAgICAgICBpZiAoIXRoaXMuZnVsbFRpbGVSYW5nZXNfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbnRfXG4gICAgICAgICAgICAgICAgPyB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoodGhpcy5leHRlbnRfLCB6KVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZ1bGxUaWxlUmFuZ2VzX1t6XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9kaXJlY3Rpb24gSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogICAgIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlIG5lYXJlc3RcbiAgICAgKiAgICAgaGlnaGVyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBEZWZhdWx0IGlzIDAuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBaLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0WkZvclJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbiwgb3B0X2RpcmVjdGlvbikge1xuICAgICAgICB2YXIgeiA9IGxpbmVhckZpbmROZWFyZXN0KHRoaXMucmVzb2x1dGlvbnNfLCByZXNvbHV0aW9uLCBvcHRfZGlyZWN0aW9uIHx8IDApO1xuICAgICAgICByZXR1cm4gY2xhbXAoeiwgdGhpcy5taW5ab29tLCB0aGlzLm1heFpvb20pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudCBmb3IgdGhpcyB0aWxlIGdyaWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuY2FsY3VsYXRlVGlsZVJhbmdlc18gPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGg7XG4gICAgICAgIHZhciBmdWxsVGlsZVJhbmdlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciB6ID0gdGhpcy5taW5ab29tOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICAgICAgICAgIGZ1bGxUaWxlUmFuZ2VzW3pdID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mdWxsVGlsZVJhbmdlc18gPSBmdWxsVGlsZVJhbmdlcztcbiAgICB9O1xuICAgIHJldHVybiBUaWxlR3JpZDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBUaWxlR3JpZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVHcmlkLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlZ3JpZFxuICovXG5pbXBvcnQgQ29ybmVyIGZyb20gJy4vZXh0ZW50L0Nvcm5lci5qcyc7XG5pbXBvcnQgVGlsZUdyaWQgZnJvbSAnLi90aWxlZ3JpZC9UaWxlR3JpZC5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IERFRkFVTFRfTUFYX1pPT00sIERFRkFVTFRfVElMRV9TSVpFIH0gZnJvbSAnLi90aWxlZ3JpZC9jb21tb24uanMnO1xuaW1wb3J0IHsgTUVURVJTX1BFUl9VTklULCBnZXQgYXMgZ2V0UHJvamVjdGlvbiB9IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQgeyBjb250YWluc0Nvb3JkaW5hdGUsIGNyZWF0ZU9yVXBkYXRlLCBnZXRDb3JuZXIsIGdldEhlaWdodCwgZ2V0V2lkdGgsIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgdG9TaXplIH0gZnJvbSAnLi9zaXplLmpzJztcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IERlZmF1bHQgdGlsZSBncmlkIGZvciB0aGVcbiAqIHBhc3NlZCBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgdmFyIHRpbGVHcmlkID0gcHJvamVjdGlvbi5nZXREZWZhdWx0VGlsZUdyaWQoKTtcbiAgICBpZiAoIXRpbGVHcmlkKSB7XG4gICAgICAgIHRpbGVHcmlkID0gY3JlYXRlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgcHJvamVjdGlvbi5zZXREZWZhdWx0VGlsZUdyaWQodGlsZUdyaWQpO1xuICAgIH1cbiAgICByZXR1cm4gdGlsZUdyaWQ7XG59XG4vKipcbiAqIEBwYXJhbSB7VGlsZUdyaWR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBYKHRpbGVHcmlkLCB0aWxlQ29vcmQsIHByb2plY3Rpb24pIHtcbiAgICB2YXIgeiA9IHRpbGVDb29yZFswXTtcbiAgICB2YXIgY2VudGVyID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkQ2VudGVyKHRpbGVDb29yZCk7XG4gICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBpZiAoIWNvbnRhaW5zQ29vcmRpbmF0ZShwcm9qZWN0aW9uRXh0ZW50LCBjZW50ZXIpKSB7XG4gICAgICAgIHZhciB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgIHZhciB3b3JsZHNBd2F5ID0gTWF0aC5jZWlsKChwcm9qZWN0aW9uRXh0ZW50WzBdIC0gY2VudGVyWzBdKSAvIHdvcmxkV2lkdGgpO1xuICAgICAgICBjZW50ZXJbMF0gKz0gd29ybGRXaWR0aCAqIHdvcmxkc0F3YXk7XG4gICAgICAgIHJldHVybiB0aWxlR3JpZC5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFooY2VudGVyLCB6KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aWxlQ29vcmQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X21heFpvb20gTWF4aW11bSB6b29tIGxldmVsIChkZWZhdWx0IGlzXG4gKiAgICAgREVGQVVMVF9NQVhfWk9PTSkuXG4gKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF90aWxlU2l6ZSBUaWxlIHNpemUgKGRlZmF1bHQgdXNlc1xuICogICAgIERFRkFVTFRfVElMRV9TSVpFKS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQvQ29ybmVyLmpzXCIpLmRlZmF1bHQ9fSBvcHRfY29ybmVyIEV4dGVudCBjb3JuZXIgKGRlZmF1bHQgaXMgYCd0b3AtbGVmdCdgKS5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZUdyaWQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JFeHRlbnQoZXh0ZW50LCBvcHRfbWF4Wm9vbSwgb3B0X3RpbGVTaXplLCBvcHRfY29ybmVyKSB7XG4gICAgdmFyIGNvcm5lciA9IG9wdF9jb3JuZXIgIT09IHVuZGVmaW5lZCA/IG9wdF9jb3JuZXIgOiBDb3JuZXIuVE9QX0xFRlQ7XG4gICAgdmFyIHJlc29sdXRpb25zID0gcmVzb2x1dGlvbnNGcm9tRXh0ZW50KGV4dGVudCwgb3B0X21heFpvb20sIG9wdF90aWxlU2l6ZSk7XG4gICAgcmV0dXJuIG5ldyBUaWxlR3JpZCh7XG4gICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICBvcmlnaW46IGdldENvcm5lcihleHRlbnQsIGNvcm5lciksXG4gICAgICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9ucyxcbiAgICAgICAgdGlsZVNpemU6IG9wdF90aWxlU2l6ZSxcbiAgICB9KTtcbn1cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gWFlaT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudCBmb3IgdGhlIHRpbGUgZ3JpZC4gVGhlIG9yaWdpbiBmb3IgYW4gWFlaIHRpbGUgZ3JpZCBpcyB0aGVcbiAqIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgZXh0ZW50LiBJZiBgbWF4UmVzb2x1dGlvbmAgaXMgbm90IHByb3ZpZGVkIHRoZSB6ZXJvIGxldmVsIG9mIHRoZSBncmlkIGlzIGRlZmluZWQgYnkgdGhlIHJlc29sdXRpb25cbiAqIGF0IHdoaWNoIG9uZSB0aWxlIGZpdHMgaW4gdGhlIHByb3ZpZGVkIGV4dGVudC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZXh0ZW50IG9mIHRoZSBFUFNHOjM4NTcgcHJvamVjdGlvbiBpcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBSZXNvbHV0aW9uIGF0IGxldmVsIHplcm8uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbS4gVGhlIGRlZmF1bHQgaXMgYDQyYC4gVGhpcyBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgbGV2ZWxzXG4gKiBpbiB0aGUgZ3JpZCBzZXQuIEZvciBleGFtcGxlLCBhIGBtYXhab29tYCBvZiAyMSBtZWFucyB0aGVyZSBhcmUgMjIgbGV2ZWxzIGluIHRoZSBncmlkIHNldC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBNaW5pbXVtIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplPVsyNTYsIDI1Nl1dIFRpbGUgc2l6ZSBpbiBwaXhlbHMuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIHRpbGUgZ3JpZCB3aXRoIGEgc3RhbmRhcmQgWFlaIHRpbGluZyBzY2hlbWUuXG4gKiBAcGFyYW0ge1hZWk9wdGlvbnM9fSBvcHRfb3B0aW9ucyBUaWxlIGdyaWQgb3B0aW9ucy5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZSBncmlkIGluc3RhbmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlWFlaKG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIHh5ek9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgZXh0ZW50ID0geHl6T3B0aW9ucy5leHRlbnQgfHwgZ2V0UHJvamVjdGlvbignRVBTRzozODU3JykuZ2V0RXh0ZW50KCk7XG4gICAgdmFyIGdyaWRPcHRpb25zID0ge1xuICAgICAgICBleHRlbnQ6IGV4dGVudCxcbiAgICAgICAgbWluWm9vbTogeHl6T3B0aW9ucy5taW5ab29tLFxuICAgICAgICB0aWxlU2l6ZTogeHl6T3B0aW9ucy50aWxlU2l6ZSxcbiAgICAgICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zRnJvbUV4dGVudChleHRlbnQsIHh5ek9wdGlvbnMubWF4Wm9vbSwgeHl6T3B0aW9ucy50aWxlU2l6ZSwgeHl6T3B0aW9ucy5tYXhSZXNvbHV0aW9uKSxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgVGlsZUdyaWQoZ3JpZE9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSByZXNvbHV0aW9ucyBhcnJheSBmcm9tIGFuIGV4dGVudC4gIEEgem9vbSBmYWN0b3Igb2YgMiBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9tYXhab29tIE1heGltdW0gem9vbSBsZXZlbCAoZGVmYXVsdCBpc1xuICogICAgIERFRkFVTFRfTUFYX1pPT00pLlxuICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemU9fSBvcHRfdGlsZVNpemUgVGlsZSBzaXplIChkZWZhdWx0IHVzZXNcbiAqICAgICBERUZBVUxUX1RJTEVfU0laRSkuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9tYXhSZXNvbHV0aW9uIFJlc29sdXRpb24gYXQgbGV2ZWwgemVyby5cbiAqIEByZXR1cm4geyFBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucyBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x1dGlvbnNGcm9tRXh0ZW50KGV4dGVudCwgb3B0X21heFpvb20sIG9wdF90aWxlU2l6ZSwgb3B0X21heFJlc29sdXRpb24pIHtcbiAgICB2YXIgbWF4Wm9vbSA9IG9wdF9tYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRfbWF4Wm9vbSA6IERFRkFVTFRfTUFYX1pPT007XG4gICAgdmFyIGhlaWdodCA9IGdldEhlaWdodChleHRlbnQpO1xuICAgIHZhciB3aWR0aCA9IGdldFdpZHRoKGV4dGVudCk7XG4gICAgdmFyIHRpbGVTaXplID0gdG9TaXplKG9wdF90aWxlU2l6ZSAhPT0gdW5kZWZpbmVkID8gb3B0X3RpbGVTaXplIDogREVGQVVMVF9USUxFX1NJWkUpO1xuICAgIHZhciBtYXhSZXNvbHV0aW9uID0gb3B0X21heFJlc29sdXRpb24gPiAwXG4gICAgICAgID8gb3B0X21heFJlc29sdXRpb25cbiAgICAgICAgOiBNYXRoLm1heCh3aWR0aCAvIHRpbGVTaXplWzBdLCBoZWlnaHQgLyB0aWxlU2l6ZVsxXSk7XG4gICAgdmFyIGxlbmd0aCA9IG1heFpvb20gKyAxO1xuICAgIHZhciByZXNvbHV0aW9ucyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIHogPSAwOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICAgICAgcmVzb2x1dGlvbnNbel0gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coMiwgeik7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHV0aW9ucztcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X21heFpvb20gTWF4aW11bSB6b29tIGxldmVsIChkZWZhdWx0IGlzXG4gKiAgICAgREVGQVVMVF9NQVhfWk9PTSkuXG4gKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF90aWxlU2l6ZSBUaWxlIHNpemUgKGRlZmF1bHQgdXNlc1xuICogICAgIERFRkFVTFRfVElMRV9TSVpFKS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQvQ29ybmVyLmpzXCIpLmRlZmF1bHQ9fSBvcHRfY29ybmVyIEV4dGVudCBjb3JuZXIgKGRlZmF1bHQgaXMgYCd0b3AtbGVmdCdgKS5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZUdyaWQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24sIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpIHtcbiAgICB2YXIgZXh0ZW50ID0gZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgcmV0dXJuIGNyZWF0ZUZvckV4dGVudChleHRlbnQsIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9jb3JuZXIpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIHRpbGUgZ3JpZCBleHRlbnQgZnJvbSBhIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBoYXMgYW5cbiAqIGV4dGVudCwgaXQgaXMgdXNlZC4gIElmIG5vdCwgYSBnbG9iYWwgZXh0ZW50IGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgcHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgdmFyIGV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgaWYgKCFleHRlbnQpIHtcbiAgICAgICAgdmFyIGhhbGYgPSAoMTgwICogTUVURVJTX1BFUl9VTklUW1VuaXRzLkRFR1JFRVNdKSAvIHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZSgtaGFsZiwgLWhhbGYsIGhhbGYsIGhhbGYpO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZWdyaWQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZVxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBTb3VyY2UgZnJvbSAnLi9Tb3VyY2UuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgZXF1aXZhbGVudCB9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZ2V0S2V5WlhZLCB3aXRoaW5FeHRlbnRBbmRaIH0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7IGdldEZvclByb2plY3Rpb24gYXMgZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uLCB3cmFwWCwgfSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5pbXBvcnQgeyBzY2FsZSBhcyBzY2FsZVNpemUsIHRvU2l6ZSB9IGZyb20gJy4uL3NpemUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlUGl4ZWxSYXRpb11cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pEaXJlY3Rpb249MF1cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxlU291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBTb3VyY2VUaWxlIHNvdXJjZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGVTb3VyY2Uob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcGFxdWVfID0gb3B0aW9ucy5vcGFxdWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3BhcXVlIDogZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZVBpeGVsUmF0aW9fID1cbiAgICAgICAgICAgIG9wdGlvbnMudGlsZVBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8gOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlR3JpZCA6IG51bGw7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IFsyNTYsIDI1Nl07XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IG9wdGlvbnMudGlsZUdyaWQ7XG4gICAgICAgIGlmICh0aWxlR3JpZCkge1xuICAgICAgICAgICAgdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHRpbGVHcmlkLmdldE1pblpvb20oKSksIHRpbGVTaXplKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ2FjaGUgPSBuZXcgVGlsZUNhY2hlKG9wdGlvbnMuY2FjaGVTaXplIHx8IDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wU2l6ZSA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5rZXlfID0gb3B0aW9ucy5rZXkgfHwgJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLk9wdGlvbnN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlT3B0aW9ucyA9IHsgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB6RGlyZWN0aW9uIGhpbnQsIHJlYWQgYnkgdGhlIHJlbmRlcmVyLiBJbmRpY2F0ZXMgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAgICAgKiBieSBhIHJlbmRlcmVyIGlmIHRoZSB2aWV3cyByZXNvbHV0aW9uIGRvZXMgbm90IG1hdGNoIGFueSByZXNvbHV0aW9uIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICAgICAgICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAgICAgICAgICogd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlIG5lYXJlc3QgaGlnaGVyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuekRpcmVjdGlvbiA9IG9wdGlvbnMuekRpcmVjdGlvbiA/IG9wdGlvbnMuekRpcmVjdGlvbiA6IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5jYW5FeHBpcmVDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlLmNhbkV4cGlyZUNhY2hlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHVzZWRUaWxlcyBVc2VkIHRpbGVzLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgICAgICB2YXIgdGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICBpZiAodGlsZUNhY2hlKSB7XG4gICAgICAgICAgICB0aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodXNlZFRpbGVzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHQpOihib29sZWFufHZvaWQpfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoXG4gICAgICogICAgIGxvYWRlZCB0aWxlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmVcbiAgICAgKiAgICAgY29uc2lkZXJlZCBsb2FkZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgcmFuZ2UgaXMgZnVsbHkgY292ZXJlZCB3aXRoIGxvYWRlZCB0aWxlcy5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5mb3JFYWNoTG9hZGVkVGlsZSA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uLCB6LCB0aWxlUmFuZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIGlmICghdGlsZUNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvdmVyZWQgPSB0cnVlO1xuICAgICAgICB2YXIgdGlsZSwgdGlsZUNvb3JkS2V5LCBsb2FkZWQ7XG4gICAgICAgIGZvciAodmFyIHggPSB0aWxlUmFuZ2UubWluWDsgeCA8PSB0aWxlUmFuZ2UubWF4WDsgKyt4KSB7XG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICAgICAgICAgIHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICAgICAgICAgICAgICBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZUNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZSA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KSk7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlZCA9IHRpbGUuZ2V0U3RhdGUoKSA9PT0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkID0gY2FsbGJhY2sodGlsZSkgIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdmVyZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBrZXkgdG8gYmUgdXNlZCBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUga2V5IGZvciBhbGwgdGlsZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsdWUgdG8gYmUgdXNlZCBhcyB0aGUga2V5IGZvciBhbGwgdGlsZXMgaW4gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgZm9yIHRpbGVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5zZXRLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLmtleV8gIT09IGtleSkge1xuICAgICAgICAgICAgdGhpcy5rZXlfID0ga2V5O1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBPcGFxdWUuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0T3BhcXVlID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3BhcXVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFJlc29sdXRpb25zLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlR3JpZC5nZXRSZXNvbHV0aW9ucygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uICh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0aWxlIGdyaWQgb2YgdGhlIHRpbGUgc291cmNlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZUdyaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaWxlIGdyaWQuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpbGVHcmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZUdyaWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlQ2FjaGUuanNcIikuZGVmYXVsdH0gVGlsZSBjYWNoZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGFzc2VydChlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKSwgNjggLy8gQSBWZWN0b3JUaWxlIHNvdXJjZSBjYW4gb25seSBiZSByZW5kZXJlZCBpZiBpdCBoYXMgYSBwcm9qZWN0aW9uIGNvbXBhdGlibGUgd2l0aCB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlQ2FjaGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpbGUgcGl4ZWwgcmF0aW8gZm9yIHRoaXMgc291cmNlLiBTdWJjbGFzc2VzIG1heSBvdmVycmlkZSB0aGlzXG4gICAgICogbWV0aG9kLCB3aGljaCBpcyBtZWFudCB0byByZXR1cm4gYSBzdXBwb3J0ZWQgcGl4ZWwgcmF0aW8gdGhhdCBtYXRjaGVzIHRoZVxuICAgICAqIHByb3ZpZGVkIGBwaXhlbFJhdGlvYCBhcyBjbG9zZSBhcyBwb3NzaWJsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRpbGUgcGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZVBpeGVsUmF0aW8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlUGl4ZWxSYXRpb187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRUaWxlUGl4ZWxTaXplID0gZnVuY3Rpb24gKHosIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIHZhciB0aWxlUGl4ZWxSYXRpbyA9IHRoaXMuZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZSh0aWxlR3JpZC5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplKTtcbiAgICAgICAgaWYgKHRpbGVQaXhlbFJhdGlvID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aWxlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzY2FsZVNpemUodGlsZVNpemUsIHRpbGVQaXhlbFJhdGlvLCB0aGlzLnRtcFNpemUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdGlsZSBjb29yZGluYXRlIHdyYXBwZWQgYXJvdW5kIHRoZSB4LWF4aXMuIFdoZW4gdGhlIHRpbGUgY29vcmRpbmF0ZVxuICAgICAqIGlzIG91dHNpZGUgdGhlIHJlc29sdXRpb24gYW5kIGV4dGVudCByYW5nZSBvZiB0aGUgdGlsZSBncmlkLCBgbnVsbGAgd2lsbCBiZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0PX0gb3B0X3Byb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUgdG8gYmUgcGFzc2VkIHRvIHRoZSB0aWxlVXJsRnVuY3Rpb24gb3JcbiAgICAgKiAgICAgbnVsbCBpZiBubyB0aWxlIFVSTCBzaG91bGQgYmUgY3JlYXRlZCBmb3IgdGhlIHBhc3NlZCBgdGlsZUNvb3JkYC5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24gPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBvcHRfcHJvamVjdGlvbikge1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IG9wdF9wcm9qZWN0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRfcHJvamVjdGlvbiA6IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgICAgICB2YXIgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0V3JhcFgoKSAmJiBwcm9qZWN0aW9uLmlzR2xvYmFsKCkpIHtcbiAgICAgICAgICAgIHRpbGVDb29yZCA9IHdyYXBYKHRpbGVHcmlkLCB0aWxlQ29vcmQsIHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aXRoaW5FeHRlbnRBbmRaKHRpbGVDb29yZCwgdGlsZUdyaWQpID8gdGlsZUNvb3JkIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgY2FjaGVkIHRpbGVzIGZyb20gdGhlIHNvdXJjZS4gVGhlIG5leHQgcmVuZGVyIGN5Y2xlIHdpbGwgZmV0Y2ggbmV3IHRpbGVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUuY2xlYXIoKTtcbiAgICB9O1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWZyZXNoLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZXMgdGhlIGNhY2hlIHNpemUgaWYgbmVlZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbGVDb3VudCBNaW5pbXVtIG51bWJlciBvZiB0aWxlcyBuZWVkZWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLnVwZGF0ZUNhY2hlU2l6ZSA9IGZ1bmN0aW9uICh0aWxlQ291bnQsIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKHRpbGVDb3VudCA+IHRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgICAgICAgICB0aWxlQ2FjaGUuaGlnaFdhdGVyTWFyayA9IHRpbGVDb3VudDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFya3MgYSB0aWxlIGNvb3JkIGFzIGJlaW5nIHVzZWQsIHdpdGhvdXQgdHJpZ2dlcmluZyBhIGxvYWQuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLnVzZVRpbGUgPSBmdW5jdGlvbiAoeiwgeCwgeSwgcHJvamVjdGlvbikgeyB9O1xuICAgIHJldHVybiBUaWxlU291cmNlO1xufShTb3VyY2UpKTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX5UaWxlU291cmNlfSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICovXG52YXIgVGlsZVNvdXJjZUV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxlU291cmNlRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaGUgdGlsZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlU291cmNlRXZlbnQodHlwZSwgdGlsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbGUgcmVsYXRlZCB0byB0aGUgZXZlbnQuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBUaWxlU291cmNlRXZlbnQ7XG59KEV2ZW50KSk7XG5leHBvcnQgeyBUaWxlU291cmNlRXZlbnQgfTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVTb3VyY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxldXJsZnVuY3Rpb25cbiAqL1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IG1vZHVsbyB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBoYXNoIGFzIHRpbGVDb29yZEhhc2ggfSBmcm9tICcuL3RpbGVjb29yZC5qcyc7XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBUZW1wbGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFRpbGUgVVJMIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCB0aWxlR3JpZCkge1xuICAgIHZhciB6UmVnRXggPSAvXFx7elxcfS9nO1xuICAgIHZhciB4UmVnRXggPSAvXFx7eFxcfS9nO1xuICAgIHZhciB5UmVnRXggPSAvXFx7eVxcfS9nO1xuICAgIHZhciBkYXNoWVJlZ0V4ID0gL1xcey15XFx9L2c7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUaWxlIFVSTC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAodGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmICghdGlsZUNvb3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoelJlZ0V4LCB0aWxlQ29vcmRbMF0udG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZSh4UmVnRXgsIHRpbGVDb29yZFsxXS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKHlSZWdFeCwgdGlsZUNvb3JkWzJdLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoZGFzaFlSZWdFeCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB6ID0gdGlsZUNvb3JkWzBdO1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHRpbGVHcmlkLmdldEZ1bGxUaWxlUmFuZ2Uoeik7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHJhbmdlLCA1NSk7IC8vIFRoZSB7LXl9IHBsYWNlaG9sZGVyIHJlcXVpcmVzIGEgdGlsZSBncmlkIHdpdGggZXh0ZW50XG4gICAgICAgICAgICAgICAgdmFyIHkgPSByYW5nZS5nZXRIZWlnaHQoKSAtIHRpbGVDb29yZFsyXSAtIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdGVtcGxhdGVzIFRlbXBsYXRlcy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFRpbGUgVVJMIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJvbVRlbXBsYXRlcyh0ZW1wbGF0ZXMsIHRpbGVHcmlkKSB7XG4gICAgdmFyIGxlbiA9IHRlbXBsYXRlcy5sZW5ndGg7XG4gICAgdmFyIHRpbGVVcmxGdW5jdGlvbnMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHRpbGVVcmxGdW5jdGlvbnNbaV0gPSBjcmVhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGVzW2ldLCB0aWxlR3JpZCk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyh0aWxlVXJsRnVuY3Rpb25zKTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb24+fSB0aWxlVXJsRnVuY3Rpb25zIFRpbGUgVVJMIEZ1bmN0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyh0aWxlVXJsRnVuY3Rpb25zKSB7XG4gICAgaWYgKHRpbGVVcmxGdW5jdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0aWxlVXJsRnVuY3Rpb25zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uICh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKCF0aWxlQ29vcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaCA9IHRpbGVDb29yZEhhc2godGlsZUNvb3JkKTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IG1vZHVsbyhoLCB0aWxlVXJsRnVuY3Rpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gdGlsZVVybEZ1bmN0aW9uc1tpbmRleF0odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUaWxlIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bGxUaWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwuXG4gKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBBcnJheSBvZiB1cmxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kVXJsKHVybCkge1xuICAgIHZhciB1cmxzID0gW107XG4gICAgdmFyIG1hdGNoID0gL1xceyhbYS16XSktKFthLXpdKVxcfS8uZXhlYyh1cmwpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICAvLyBjaGFyIHJhbmdlXG4gICAgICAgIHZhciBzdGFydENoYXJDb2RlID0gbWF0Y2hbMV0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgdmFyIHN0b3BDaGFyQ29kZSA9IG1hdGNoWzJdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIHZhciBjaGFyQ29kZSA9IHZvaWQgMDtcbiAgICAgICAgZm9yIChjaGFyQ29kZSA9IHN0YXJ0Q2hhckNvZGU7IGNoYXJDb2RlIDw9IHN0b3BDaGFyQ29kZTsgKytjaGFyQ29kZSkge1xuICAgICAgICAgICAgdXJscy5wdXNoKHVybC5yZXBsYWNlKG1hdGNoWzBdLCBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmxzO1xuICAgIH1cbiAgICBtYXRjaCA9IC9cXHsoXFxkKyktKFxcZCspXFx9Ly5leGVjKHVybCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIC8vIG51bWJlciByYW5nZVxuICAgICAgICB2YXIgc3RvcF8xID0gcGFyc2VJbnQobWF0Y2hbMl0sIDEwKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7IGkgPD0gc3RvcF8xOyBpKyspIHtcbiAgICAgICAgICAgIHVybHMucHVzaCh1cmwucmVwbGFjZShtYXRjaFswXSwgaS50b1N0cmluZygpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybHM7XG4gICAgfVxuICAgIHVybHMucHVzaCh1cmwpO1xuICAgIHJldHVybiB1cmxzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsZXVybGZ1bmN0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1VybFRpbGVcbiAqL1xuaW1wb3J0IFRpbGVFdmVudFR5cGUgZnJvbSAnLi9UaWxlRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlU291cmNlLCB7IFRpbGVTb3VyY2VFdmVudCB9IGZyb20gJy4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGcm9tVGVtcGxhdGVzLCBleHBhbmRVcmwgfSBmcm9tICcuLi90aWxldXJsZnVuY3Rpb24uanMnO1xuaW1wb3J0IHsgZ2V0S2V5WlhZIH0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdGF0ZS5qc1wiKS5kZWZhdWx0fSBbc3RhdGVdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IHRpbGVMb2FkRnVuY3Rpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFt0aWxlVXJsRnVuY3Rpb25dXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF1cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pEaXJlY3Rpb249MF1cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyB0aWxlcyBkaXZpZGVkIGludG8gYSB0aWxlIGdyaWQgb3ZlciBodHRwLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKi9cbnZhciBVcmxUaWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhVcmxUaWxlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBJbWFnZSB0aWxlIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVXJsVGlsZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgICAgICAgb3BhcXVlOiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgICAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgICAgICAgdGlsZUdyaWQ6IG9wdGlvbnMudGlsZUdyaWQsXG4gICAgICAgICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8gPVxuICAgICAgICAgICAgX3RoaXMudGlsZVVybEZ1bmN0aW9uID09PSBVcmxUaWxlLnByb3RvdHlwZS50aWxlVXJsRnVuY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVMb2FkRnVuY3Rpb24gPSBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb247XG4gICAgICAgIGlmIChvcHRpb25zLnRpbGVVcmxGdW5jdGlvbikge1xuICAgICAgICAgICAgX3RoaXMudGlsZVVybEZ1bmN0aW9uID0gb3B0aW9ucy50aWxlVXJsRnVuY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxzdHJpbmc+fG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cmxzID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMudXJscykge1xuICAgICAgICAgICAgX3RoaXMuc2V0VXJscyhvcHRpb25zLnVybHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRVcmwob3B0aW9ucy51cmwpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUxvYWRpbmdLZXlzXyA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFRpbGVMb2FkRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VGlsZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUxvYWRGdW5jdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBVUkwgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlVXJsRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLnRpbGVVcmxGdW5jdGlvbiA9PT0gdGhpcy50aWxlVXJsRnVuY3Rpb25cbiAgICAgICAgICAgID8gdGhpcy50aWxlVXJsRnVuY3Rpb24uYmluZCh0aGlzKVxuICAgICAgICAgICAgOiB0aGlzLnRpbGVVcmxGdW5jdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgVVJMcyB1c2VkIGZvciB0aGlzIHNvdXJjZS5cbiAgICAgKiBXaGVuIGEgdGlsZVVybEZ1bmN0aW9uIGlzIHVzZWQgaW5zdGVhZCBvZiB1cmwgb3IgdXJscyxcbiAgICAgKiBudWxsIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybiB7IUFycmF5PHN0cmluZz58bnVsbH0gVVJMcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuZ2V0VXJscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJscztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWxlIGNoYW5nZSBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLmhhbmRsZVRpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQodGlsZSk7XG4gICAgICAgIHZhciB0aWxlU3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgIHZhciB0eXBlO1xuICAgICAgICBpZiAodGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVMb2FkaW5nS2V5c19bdWlkXSA9IHRydWU7XG4gICAgICAgICAgICB0eXBlID0gVGlsZUV2ZW50VHlwZS5USUxFTE9BRFNUQVJUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVpZCBpbiB0aGlzLnRpbGVMb2FkaW5nS2V5c18pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVMb2FkaW5nS2V5c19bdWlkXTtcbiAgICAgICAgICAgIHR5cGUgPVxuICAgICAgICAgICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1JcbiAgICAgICAgICAgICAgICAgICAgPyBUaWxlRXZlbnRUeXBlLlRJTEVMT0FERVJST1JcbiAgICAgICAgICAgICAgICAgICAgOiB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBUaWxlRXZlbnRUeXBlLlRJTEVMT0FERU5EXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVGlsZVNvdXJjZUV2ZW50KHR5cGUsIHRpbGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0aWxlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlTG9hZEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMudGlsZUNhY2hlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbiA9IHRpbGVMb2FkRnVuY3Rpb247XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0aWxlIFVSTCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gdGlsZVVybEZ1bmN0aW9uIFRpbGUgVVJMIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0ga2V5IE9wdGlvbmFsIG5ldyB0aWxlIGtleSBmb3IgdGhlIHNvdXJjZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUuc2V0VGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gKHRpbGVVcmxGdW5jdGlvbiwga2V5KSB7XG4gICAgICAgIHRoaXMudGlsZVVybEZ1bmN0aW9uID0gdGlsZVVybEZ1bmN0aW9uO1xuICAgICAgICB0aGlzLnRpbGVDYWNoZS5wcnVuZUV4Y2VwdE5ld2VzdFooKTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnNldEtleShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgVVJMIHRvIHVzZSBmb3IgcmVxdWVzdHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLnNldFVybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIHVybHMgPSBleHBhbmRVcmwodXJsKTtcbiAgICAgICAgdGhpcy51cmxzID0gdXJscztcbiAgICAgICAgdGhpcy5zZXRVcmxzKHVybHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBVUkxzIHRvIHVzZSBmb3IgcmVxdWVzdHMuXG4gICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB1cmxzIFVSTHMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLnNldFVybHMgPSBmdW5jdGlvbiAodXJscykge1xuICAgICAgICB0aGlzLnVybHMgPSB1cmxzO1xuICAgICAgICB2YXIga2V5ID0gdXJscy5qb2luKCdcXG4nKTtcbiAgICAgICAgaWYgKHRoaXMuZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRpbGVVcmxGdW5jdGlvbihjcmVhdGVGcm9tVGVtcGxhdGVzKHVybHMsIHRoaXMudGlsZUdyaWQpLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRLZXkoa2V5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUaWxlIFVSTC5cbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS50aWxlVXJsRnVuY3Rpb24gPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHRpbGUgY29vcmQgYXMgYmVpbmcgdXNlZCwgd2l0aG91dCB0cmlnZ2VyaW5nIGEgbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS51c2VUaWxlID0gZnVuY3Rpb24gKHosIHgsIHkpIHtcbiAgICAgICAgdmFyIHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICAgICAgaWYgKHRoaXMudGlsZUNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZUNhY2hlLmdldCh0aWxlQ29vcmRLZXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVXJsVGlsZTtcbn0oVGlsZVNvdXJjZSkpO1xuZXhwb3J0IGRlZmF1bHQgVXJsVGlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVybFRpbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9UaWxlRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgdGlsZSBzdGFydHMgbG9hZGluZy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9UaWxlLlRpbGVTb3VyY2VFdmVudCN0aWxlbG9hZHN0YXJ0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRJTEVMT0FEU1RBUlQ6ICd0aWxlbG9hZHN0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgZmluaXNoZXMgbG9hZGluZywgZWl0aGVyIHdoZW4gaXRzIGRhdGEgaXMgbG9hZGVkLFxuICAgICAqIG9yIHdoZW4gbG9hZGluZyB3YXMgYWJvcnRlZCBiZWNhdXNlIHRoZSB0aWxlIGlzIG5vIGxvbmdlciBuZWVkZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVGlsZS5UaWxlU291cmNlRXZlbnQjdGlsZWxvYWRlbmRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVElMRUxPQURFTkQ6ICd0aWxlbG9hZGVuZCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGlmIHRpbGUgbG9hZGluZyByZXN1bHRzIGluIGFuIGVycm9yLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2FkZXJyb3JcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVElMRUxPQURFUlJPUjogJ3RpbGVsb2FkZXJyb3InLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVFdmVudFR5cGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZUltYWdlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VUaWxlIGZyb20gJy4uL0ltYWdlVGlsZS5qcyc7XG5pbXBvcnQgUmVwcm9qVGlsZSBmcm9tICcuLi9yZXByb2ovVGlsZS5qcyc7XG5pbXBvcnQgVGlsZUNhY2hlIGZyb20gJy4uL1RpbGVDYWNoZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVXJsVGlsZSBmcm9tICcuL1VybFRpbGUuanMnO1xuaW1wb3J0IHsgRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfSBmcm9tICcuLi9yZXByb2ovY29tbW9uLmpzJztcbmltcG9ydCB7IElNQUdFX1NNT09USElOR19ESVNBQkxFRCB9IGZyb20gJy4vY29tbW9uLmpzJztcbmltcG9ydCB7IGVxdWl2YWxlbnQsIGdldCBhcyBnZXRQcm9qZWN0aW9uIH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBnZXRLZXksIGdldEtleVpYWSB9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQgeyBnZXRGb3JQcm9qZWN0aW9uIGFzIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiB9IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBJbml0aWFsIHRpbGUgY2FjaGUgc2l6ZS4gV2lsbCBhdXRvLWdyb3cgdG8gaG9sZCBhdCBsZWFzdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW1hZ2VTbW9vdGhpbmc9dHJ1ZV0gRW5hYmxlIGltYWdlIHNtb290aGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXSBTb3VyY2Ugc3RhdGUuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gW3RpbGVDbGFzc10gQ2xhc3MgdXNlZCB0byBpbnN0YW50aWF0ZSBpbWFnZSB0aWxlcy5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9JbWFnZVRpbGV+SW1hZ2VUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlUGl4ZWxSYXRpbz0xXSBUaGUgcGl4ZWwgcmF0aW8gdXNlZCBieSB0aGUgdGlsZSBzZXJ2aWNlLiBGb3IgZXhhbXBsZSwgaWYgdGhlIHRpbGVcbiAqIHNlcnZpY2UgYWR2ZXJ0aXplcyAyNTZweCBieSAyNTZweCB0aWxlcyBidXQgYWN0dWFsbHkgc2VuZHMgNTEycHhcbiAqIGJ5IDUxMnB4IGltYWdlcyAoZm9yIHJldGluYS9oaWRwaSBkZXZpY2VzKSB0aGVuIGB0aWxlUGl4ZWxSYXRpb2BcbiAqIHNob3VsZCBiZSBzZXQgdG8gYDJgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBnZXQgdGlsZSBVUkwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUgYW5kIHRoZSBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0ZW1wbGF0ZS4gTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuXG4gKiBBIGB7Py0/fWAgdGVtcGxhdGUgcGF0dGVybiwgZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLCBtYXkgYmVcbiAqIHVzZWQgaW5zdGVhZCBvZiBkZWZpbmluZyBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gQW4gYXJyYXkgb2YgVVJMIHRlbXBsYXRlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS4gVGhlIGRlZmF1bHQsIGlzIHRvXG4gKiByZXF1ZXN0IG91dC1vZi1ib3VuZHMgdGlsZXMgZnJvbSB0aGUgc2VydmVyLiBXaGVuIHNldCB0byBgZmFsc2VgLCBvbmx5IG9uZVxuICogd29ybGQgd2lsbCBiZSByZW5kZXJlZC4gV2hlbiBzZXQgdG8gYHRydWVgLCB0aWxlcyB3aWxsIGJlIHJlcXVlc3RlZCBmb3Igb25lXG4gKiB3b3JsZCBvbmx5LCBidXQgdGhleSB3aWxsIGJlIHdyYXBwZWQgaG9yaXpvbnRhbGx5IHRvIHJlbmRlciBtdWx0aXBsZSB3b3JsZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb25dIER1cmF0aW9uIG9mIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24gZm9yIHJlbmRlcmluZy5cbiAqIFRvIGRpc2FibGUgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiwgcGFzcyBgdHJhbnNpdGlvbjogMGAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gT3B0aW9uYWwgdGlsZSBrZXkgZm9yIHByb3BlciBjYWNoZSBmZXRjaGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6RGlyZWN0aW9uPTBdIEluZGljYXRlIHdoaWNoIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWRcbiAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gKiBJZiAwLCB0aGUgbmVhcmVzdCByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC4gSWYgMSwgdGhlIG5lYXJlc3QgbG93ZXIgcmVzb2x1dGlvblxuICogd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlIG5lYXJlc3QgaGlnaGVyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZm9yIHNvdXJjZXMgcHJvdmlkaW5nIGltYWdlcyBkaXZpZGVkIGludG8gYSB0aWxlIGdyaWQuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vVGlsZS5qc1wiKS5UaWxlU291cmNlRXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIFRpbGVJbWFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZUltYWdlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IU9wdGlvbnN9IG9wdGlvbnMgSW1hZ2UgdGlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGVJbWFnZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgICAgICAgb3BhcXVlOiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgICAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgICAgICAgdGlsZUdyaWQ6IG9wdGlvbnMudGlsZUdyaWQsXG4gICAgICAgICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb25cbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICAgICAgICAgIDogZGVmYXVsdFRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFgsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICAgICAgICBrZXk6IG9wdGlvbnMua2V5LFxuICAgICAgICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICAgICAgICB6RGlyZWN0aW9uOiBvcHRpb25zLnpEaXJlY3Rpb24sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Jvc3NPcmlnaW4gPVxuICAgICAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jcm9zc09yaWdpbiA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHt0eXBlb2YgSW1hZ2VUaWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUNsYXNzID1cbiAgICAgICAgICAgIG9wdGlvbnMudGlsZUNsYXNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpbGVDbGFzcyA6IEltYWdlVGlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBUaWxlQ2FjaGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbiA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXyA9IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHRPcHRpb25zXyA9XG4gICAgICAgICAgICBvcHRpb25zLmltYWdlU21vb3RoaW5nID09PSBmYWxzZSA/IElNQUdFX1NNT09USElOR19ESVNBQkxFRCA6IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jYW5FeHBpcmVDYWNoZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2tleV0uY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmV4cGlyZUNhY2hlLmNhbGwodGhpcywgcHJvamVjdGlvbiwgdXNlZFRpbGVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlZFRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodGhpcy50aWxlQ2FjaGUgPT0gdXNlZFRpbGVDYWNoZSA/IHVzZWRUaWxlcyA6IHt9KTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdGlsZUNhY2hlID0gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2lkXTtcbiAgICAgICAgICAgIHRpbGVDYWNoZS5leHBpcmVDYWNoZSh0aWxlQ2FjaGUgPT0gdXNlZFRpbGVDYWNoZSA/IHVzZWRUaWxlcyA6IHt9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7T2JqZWN0fHVuZGVmaW5lZH0gQ29udGV4dCBvcHRpb25zLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0Q29udGV4dE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHRPcHRpb25zXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEd1dHRlci5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldEd1dHRlckZvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocHJvamVjdGlvbikge1xuICAgICAgICBpZiAoRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gJiZcbiAgICAgICAgICAgIHRoaXMuZ2V0UHJvamVjdGlvbigpICYmXG4gICAgICAgICAgICBwcm9qZWN0aW9uICYmXG4gICAgICAgICAgICAhZXF1aXZhbGVudCh0aGlzLmdldFByb2plY3Rpb24oKSwgcHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R3V0dGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gR3V0dGVyLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0R3V0dGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUga2V5IHRvIGJlIHVzZWQgZm9yIGFsbCB0aWxlcyBpbiB0aGUgc291cmNlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGtleSBmb3IgYWxsIHRpbGVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChfc3VwZXIucHJvdG90eXBlLmdldEtleS5jYWxsKHRoaXMpICtcbiAgICAgICAgICAgICh0aGlzLmNvbnRleHRPcHRpb25zXyA/ICdcXG4nICsgSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0T3B0aW9uc18pIDogJycpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBPcGFxdWUuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRPcGFxdWUgPSBmdW5jdGlvbiAocHJvamVjdGlvbikge1xuICAgICAgICBpZiAoRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gJiZcbiAgICAgICAgICAgIHRoaXMuZ2V0UHJvamVjdGlvbigpICYmXG4gICAgICAgICAgICBwcm9qZWN0aW9uICYmXG4gICAgICAgICAgICAhZXF1aXZhbGVudCh0aGlzLmdldFByb2plY3Rpb24oKSwgcHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldE9wYXF1ZS5jYWxsKHRoaXMsIHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7IWltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04pIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbi5jYWxsKHRoaXMsIHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzUHJvaiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgICAgICBpZiAodGhpcy50aWxlR3JpZCAmJiAoIXRoaXNQcm9qIHx8IGVxdWl2YWxlbnQodGhpc1Byb2osIHByb2plY3Rpb24pKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZUdyaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcHJvaktleSA9IGdldFVpZChwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGlmICghKHByb2pLZXkgaW4gdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb25bcHJvaktleV0gPSBnZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb25bcHJvaktleV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlQ2FjaGUuanNcIikuZGVmYXVsdH0gVGlsZSBjYWNoZS5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocHJvamVjdGlvbikge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uLmNhbGwodGhpcywgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIGlmICghdGhpc1Byb2ogfHwgZXF1aXZhbGVudCh0aGlzUHJvaiwgcHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcm9qS2V5ID0gZ2V0VWlkKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW3Byb2pLZXldID0gbmV3IFRpbGVDYWNoZSh0aGlzLnRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25bcHJvaktleV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgc2V0IG9uIHRoZSB0aWxlLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmNyZWF0ZVRpbGVfID0gZnVuY3Rpb24gKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGtleSkge1xuICAgICAgICB2YXIgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgICAgICB2YXIgdXJsVGlsZUNvb3JkID0gdGhpcy5nZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgdmFyIHRpbGVVcmwgPSB1cmxUaWxlQ29vcmRcbiAgICAgICAgICAgID8gdGhpcy50aWxlVXJsRnVuY3Rpb24odXJsVGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB0aWxlID0gbmV3IHRoaXMudGlsZUNsYXNzKHRpbGVDb29yZCwgdGlsZVVybCAhPT0gdW5kZWZpbmVkID8gVGlsZVN0YXRlLklETEUgOiBUaWxlU3RhdGUuRU1QVFksIHRpbGVVcmwgIT09IHVuZGVmaW5lZCA/IHRpbGVVcmwgOiAnJywgdGhpcy5jcm9zc09yaWdpbiwgdGhpcy50aWxlTG9hZEZ1bmN0aW9uLCB0aGlzLnRpbGVPcHRpb25zKTtcbiAgICAgICAgdGlsZS5rZXkgPSBrZXk7XG4gICAgICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZVRpbGVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24gKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHNvdXJjZVByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiB8fFxuICAgICAgICAgICAgIXNvdXJjZVByb2plY3Rpb24gfHxcbiAgICAgICAgICAgICFwcm9qZWN0aW9uIHx8XG4gICAgICAgICAgICBlcXVpdmFsZW50KHNvdXJjZVByb2plY3Rpb24sIHByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgc291cmNlUHJvamVjdGlvbiB8fCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgICAgICAgICB2YXIgdGlsZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXkodGlsZUNvb3JkKTtcbiAgICAgICAgICAgIGlmIChjYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICAgICAgdGlsZSA9IGNhY2hlLmdldCh0aWxlQ29vcmRLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmtleSA9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHNvdXJjZVByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkVGlsZUNvb3JkID0gdGhpcy5nZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3VGlsZSA9IG5ldyBSZXByb2pUaWxlKHNvdXJjZVByb2plY3Rpb24sIHNvdXJjZVRpbGVHcmlkLCBwcm9qZWN0aW9uLCB0YXJnZXRUaWxlR3JpZCwgdGlsZUNvb3JkLCB3cmFwcGVkVGlsZUNvb3JkLCB0aGlzLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pLCB0aGlzLmdldEd1dHRlcigpLCBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgc291cmNlUHJvamVjdGlvbik7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXywgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18sIHRoaXMuY29udGV4dE9wdGlvbnNfKTtcbiAgICAgICAgICAgICAgICBuZXdUaWxlLmtleSA9IGtleTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdUaWxlLmludGVyaW1UaWxlID0gdGlsZTtcbiAgICAgICAgICAgICAgICAgICAgbmV3VGlsZS5yZWZyZXNoSW50ZXJpbUNoYWluKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLnJlcGxhY2UodGlsZUNvb3JkS2V5LCBuZXdUaWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLnNldCh0aWxlQ29vcmRLZXksIG5ld1RpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3VGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHshaW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldFRpbGVJbnRlcm5hbCA9IGZ1bmN0aW9uICh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciB0aWxlID0gbnVsbDtcbiAgICAgICAgdmFyIHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgICAgIGlmICghdGhpcy50aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgICAgICAgdGlsZSA9IHRoaXMuY3JlYXRlVGlsZV8oeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwga2V5KTtcbiAgICAgICAgICAgIHRoaXMudGlsZUNhY2hlLnNldCh0aWxlQ29vcmRLZXksIHRpbGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGlsZSA9IHRoaXMudGlsZUNhY2hlLmdldCh0aWxlQ29vcmRLZXkpO1xuICAgICAgICAgICAgaWYgKHRpbGUua2V5ICE9IGtleSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBzb3VyY2UncyBwYXJhbXMgY2hhbmdlZC4gSWYgdGhlIHRpbGUgaGFzIGFuIGludGVyaW0gdGlsZSBhbmQgaWYgd2VcbiAgICAgICAgICAgICAgICAvLyBjYW4gdXNlIGl0IHRoZW4gd2UgdXNlIGl0LiBPdGhlcndpc2Ugd2UgY3JlYXRlIGEgbmV3IHRpbGUuICBJbiBib3RoXG4gICAgICAgICAgICAgICAgLy8gY2FzZXMgd2UgYXR0ZW1wdCB0byBhc3NpZ24gYW4gaW50ZXJpbSB0aWxlIHRvIHRoZSBuZXcgdGlsZS5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJpbVRpbGUgPSB0aWxlO1xuICAgICAgICAgICAgICAgIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGVfKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGtleSk7XG4gICAgICAgICAgICAgICAgLy9tYWtlIHRoZSBuZXcgdGlsZSB0aGUgaGVhZCBvZiB0aGUgbGlzdCxcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJpbVRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgICAgICAvL3RoZSBvbGQgdGlsZSBoYXNuJ3QgYmVndW4gbG9hZGluZyB5ZXQsIGFuZCBpcyBub3cgb3V0ZGF0ZWQsIHNvIHdlIGNhbiBzaW1wbHkgZGlzY2FyZCBpdFxuICAgICAgICAgICAgICAgICAgICB0aWxlLmludGVyaW1UaWxlID0gaW50ZXJpbVRpbGUuaW50ZXJpbVRpbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aWxlLmludGVyaW1UaWxlID0gaW50ZXJpbVRpbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRpbGUucmVmcmVzaEludGVyaW1DaGFpbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZUNhY2hlLnJlcGxhY2UodGlsZUNvb3JkS2V5LCB0aWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byByZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzIG9yIG5vdCAodXN1YWxseSBmb3IgZGVidWdnaW5nKS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlbmRlciBSZW5kZXIgdGhlIGVkZ2VzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLnNldFJlbmRlclJlcHJvamVjdGlvbkVkZ2VzID0gZnVuY3Rpb24gKHJlbmRlcikge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OIHx8XG4gICAgICAgICAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyA9PSByZW5kZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyA9IHJlbmRlcjtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25baWRdLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aWxlIGdyaWQgdG8gdXNlIHdoZW4gcmVwcm9qZWN0aW5nIHRoZSB0aWxlcyB0byB0aGUgZ2l2ZW5cbiAgICAgKiBwcm9qZWN0aW9uIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgdGlsZSBncmlkIGZvciB0aGUgcHJvamVjdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHRoZSBkZWZhdWx0IHRpbGUgZ3JpZCBjYW5ub3QgYmUgY3JlYXRlZFxuICAgICAqIChlLmcuIHByb2plY3Rpb24gaGFzIG5vIGV4dGVudCBkZWZpbmVkKSBvclxuICAgICAqIGZvciBvcHRpbWl6YXRpb24gcmVhc29ucyAoY3VzdG9tIHRpbGUgc2l6ZSwgcmVzb2x1dGlvbnMsIC4uLikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVncmlkIFRpbGUgZ3JpZCB0byB1c2UgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLnNldFRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uLCB0aWxlZ3JpZCkge1xuICAgICAgICBpZiAoRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04pIHtcbiAgICAgICAgICAgIHZhciBwcm9qID0gZ2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChwcm9qKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb2pLZXkgPSBnZXRVaWQocHJvaik7XG4gICAgICAgICAgICAgICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb25bcHJvaktleV0gPSB0aWxlZ3JpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWxlSW1hZ2U7XG59KFVybFRpbGUpKTtcbi8qKlxuICogQHBhcmFtIHtJbWFnZVRpbGV9IGltYWdlVGlsZSBJbWFnZSB0aWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTb3VyY2UuXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gICAgLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9ICovIChpbWFnZVRpbGUuZ2V0SW1hZ2UoKSkuc3JjID0gc3JjO1xufVxuZXhwb3J0IGRlZmF1bHQgVGlsZUltYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUltYWdlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvWFlaXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgVGlsZUltYWdlIGZyb20gJy4vVGlsZUltYWdlLmpzJztcbmltcG9ydCB7IGNyZWF0ZVhZWiwgZXh0ZW50RnJvbVByb2plY3Rpb24gfSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdIEluaXRpYWwgdGlsZSBjYWNoZSBzaXplLiBXaWxsIGF1dG8tZ3JvdyB0byBob2xkIGF0IGxlYXN0IHRoZSBudW1iZXIgb2YgdGlsZXMgaW4gdGhlIHZpZXdwb3J0LlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuICBOb3RlIHRoYXRcbiAqIHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSB3YW50IHRvIGFjY2VzcyBwaXhlbCBkYXRhIHdpdGggdGhlIENhbnZhcyByZW5kZXJlci5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbWFnZVNtb290aGluZz10cnVlXSBFbmFibGUgaW1hZ2Ugc21vb3RoaW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlPWZhbHNlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uPSdFUFNHOjM4NTcnXSBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb209NDJdIE9wdGlvbmFsIG1heCB6b29tIGxldmVsLiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE9wdGlvbmFsIG1pbiB6b29tIGxldmVsLiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBPcHRpb25hbCB0aWxlIGdyaWQgcmVzb2x1dGlvbiBhdCBsZXZlbCB6ZXJvLiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGUgZ3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFt0aWxlTG9hZEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBsb2FkIGEgdGlsZSBnaXZlbiBhIFVSTC4gVGhlIGRlZmF1bHQgaXNcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbihpbWFnZVRpbGUsIHNyYykge1xuICogICBpbWFnZVRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiB9O1xuICogYGBgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbGVQaXhlbFJhdGlvPTFdIFRoZSBwaXhlbCByYXRpbyB1c2VkIGJ5IHRoZSB0aWxlIHNlcnZpY2UuXG4gKiBGb3IgZXhhbXBsZSwgaWYgdGhlIHRpbGUgc2VydmljZSBhZHZlcnRpemVzIDI1NnB4IGJ5IDI1NnB4IHRpbGVzIGJ1dCBhY3R1YWxseSBzZW5kcyA1MTJweFxuICogYnkgNTEycHggaW1hZ2VzIChmb3IgcmV0aW5hL2hpZHBpIGRldmljZXMpIHRoZW4gYHRpbGVQaXhlbFJhdGlvYFxuICogc2hvdWxkIGJlIHNldCB0byBgMmAuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZT1bMjU2LCAyNTZdXSBUaGUgdGlsZSBzaXplIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS5cbiAqIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFt0aWxlVXJsRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGdldFxuICogdGlsZSBVUkwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUgYW5kIHRoZSBwcm9qZWN0aW9uLlxuICogUmVxdWlyZWQgaWYgYHVybGAgb3IgYHVybHNgIGFyZSBub3QgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVVJMIHRlbXBsYXRlLiBNdXN0IGluY2x1ZGUgYHt4fWAsIGB7eX1gIG9yIGB7LXl9YCxcbiAqIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLCBmb3IgZXhhbXBsZSBgc3ViZG9tYWlue2EtZn0uZG9tYWluLmNvbWAsXG4gKiBtYXkgYmUgdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nIGVhY2ggb25lIHNlcGFyYXRlbHkgaW4gdGhlIGB1cmxzYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IFt1cmxzXSBBbiBhcnJheSBvZiBVUkwgdGVtcGxhdGVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb249MjUwXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6RGlyZWN0aW9uPTBdIEluZGljYXRlIHdoaWNoIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWRcbiAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gKiBJZiAwLCB0aGUgbmVhcmVzdCByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC4gSWYgMSwgdGhlIG5lYXJlc3QgbG93ZXIgcmVzb2x1dGlvblxuICogd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlIG5lYXJlc3QgaGlnaGVyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGlsZSBkYXRhIHdpdGggVVJMcyBpbiBhIHNldCBYWVogZm9ybWF0IHRoYXQgYXJlXG4gKiBkZWZpbmVkIGluIGEgVVJMIHRlbXBsYXRlLiBCeSBkZWZhdWx0LCB0aGlzIGZvbGxvd3MgdGhlIHdpZGVseS11c2VkXG4gKiBHb29nbGUgZ3JpZCB3aGVyZSBgeGAgMCBhbmQgYHlgIDAgYXJlIGluIHRoZSB0b3AgbGVmdC4gR3JpZHMgbGlrZVxuICogVE1TIHdoZXJlIGB4YCAwIGFuZCBgeWAgMCBhcmUgaW4gdGhlIGJvdHRvbSBsZWZ0IGNhbiBiZSB1c2VkIGJ5XG4gKiB1c2luZyB0aGUgYHsteX1gIHBsYWNlaG9sZGVyIGluIHRoZSBVUkwgdGVtcGxhdGUsIHNvIGxvbmcgYXMgdGhlXG4gKiBzb3VyY2UgZG9lcyBub3QgaGF2ZSBhIGN1c3RvbSB0aWxlIGdyaWQuIEluIHRoaXMgY2FzZVxuICogYSBgdGlsZVVybEZ1bmN0aW9uYCBjYW4gYmUgdXNlZCwgc3VjaCBhczpcbiAqIGBgYGpzXG4gKiAgdGlsZVVybEZ1bmN0aW9uOiBmdW5jdGlvbihjb29yZGluYXRlKSB7XG4gKiAgICByZXR1cm4gJ2h0dHA6Ly9tYXBzZXJ2ZXIuY29tLycgKyBjb29yZGluYXRlWzBdICsgJy8nICtcbiAqICAgICAgY29vcmRpbmF0ZVsxXSArICcvJyArICgtY29vcmRpbmF0ZVsyXSAtIDEpICsgJy5wbmcnO1xuICogIH1cbiAqIGBgYFxuICogQGFwaVxuICovXG52YXIgWFlaID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhYWVosIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgWFlaIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gWFlaKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnByb2plY3Rpb24gOiAnRVBTRzozODU3JztcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMudGlsZUdyaWRcbiAgICAgICAgICAgIDogY3JlYXRlWFlaKHtcbiAgICAgICAgICAgICAgICBleHRlbnQ6IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pLFxuICAgICAgICAgICAgICAgIG1heFJlc29sdXRpb246IG9wdGlvbnMubWF4UmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20sXG4gICAgICAgICAgICAgICAgbWluWm9vbTogb3B0aW9ucy5taW5ab29tLFxuICAgICAgICAgICAgICAgIHRpbGVTaXplOiBvcHRpb25zLnRpbGVTaXplLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogb3B0aW9ucy5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIGltYWdlU21vb3RoaW5nOiBvcHRpb25zLmltYWdlU21vb3RoaW5nLFxuICAgICAgICAgICAgb3BhcXVlOiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgICAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24sXG4gICAgICAgICAgICByZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDogb3B0aW9ucy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZCxcbiAgICAgICAgICAgIHRpbGVHcmlkOiB0aWxlR3JpZCxcbiAgICAgICAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgdGlsZVVybEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVVcmxGdW5jdGlvbixcbiAgICAgICAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICAgICAgICB1cmxzOiBvcHRpb25zLnVybHMsXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy53cmFwWCA6IHRydWUsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgICAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gWFlaO1xufShUaWxlSW1hZ2UpKTtcbmV4cG9ydCBkZWZhdWx0IFhZWjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVhZWi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL09TTVxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFhZWiBmcm9tICcuL1hZWi5qcyc7XG4vKipcbiAqIFRoZSBhdHRyaWJ1dGlvbiBjb250YWluaW5nIGEgbGluayB0byB0aGUgT3BlblN0cmVldE1hcCBDb3B5cmlnaHQgYW5kIExpY2Vuc2VcbiAqIHBhZ2UuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgQVRUUklCVVRJT04gPSAnJiMxNjk7ICcgK1xuICAgICc8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCIgdGFyZ2V0PVwiX2JsYW5rXCI+T3BlblN0cmVldE1hcDwvYT4gJyArXG4gICAgJ2NvbnRyaWJ1dG9ycy4nO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdIEluaXRpYWwgdGlsZSBjYWNoZSBzaXplLiBXaWxsIGF1dG8tZ3JvdyB0byBob2xkIGF0IGxlYXN0IHRoZSBudW1iZXIgb2YgdGlsZXMgaW4gdGhlIHZpZXdwb3J0LlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luPSdhbm9ueW1vdXMnXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuICBOb3RlIHRoYXRcbiAqIHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSB3YW50IHRvIGFjY2VzcyBwaXhlbCBkYXRhIHdpdGggdGhlIENhbnZhcyByZW5kZXJlci5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbWFnZVNtb290aGluZz10cnVlXSBFbmFibGUgaW1hZ2Ugc21vb3RoaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tPTE5XSBNYXggem9vbS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT10cnVlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkPTAuNV0gTWF4aW11bSBhbGxvd2VkIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcGl4ZWxzKS5cbiAqIEhpZ2hlciB2YWx1ZXMgY2FuIGluY3JlYXNlIHJlcHJvamVjdGlvbiBwZXJmb3JtYW5jZSwgYnV0IGRlY3JlYXNlIHByZWNpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFt0aWxlTG9hZEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBsb2FkIGEgdGlsZSBnaXZlbiBhIFVSTC4gVGhlIGRlZmF1bHQgaXNcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbihpbWFnZVRpbGUsIHNyYykge1xuICogICBpbWFnZVRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiB9O1xuICogYGBgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb249MjUwXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmw9J2h0dHBzOi8ve2EtY30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnXSBVUkwgdGVtcGxhdGUuXG4gKiBNdXN0IGluY2x1ZGUgYHt4fWAsIGB7eX1gIG9yIGB7LXl9YCwgYW5kIGB7en1gIHBsYWNlaG9sZGVycy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGhlIE9wZW5TdHJlZXRNYXAgdGlsZSBzZXJ2ZXIuXG4gKiBAYXBpXG4gKi9cbnZhciBPU00gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9TTSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBbb3B0X29wdGlvbnNdIE9wZW4gU3RyZWV0IE1hcCBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9TTShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgYXR0cmlidXRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zID0gb3B0aW9ucy5hdHRyaWJ1dGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnMgPSBbQVRUUklCVVRJT05dO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgdmFyIHVybCA9IG9wdGlvbnMudXJsICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy51cmxcbiAgICAgICAgICAgIDogJ2h0dHBzOi8ve2EtY30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogYXR0cmlidXRpb25zLFxuICAgICAgICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbixcbiAgICAgICAgICAgIGltYWdlU21vb3RoaW5nOiBvcHRpb25zLmltYWdlU21vb3RoaW5nLFxuICAgICAgICAgICAgbWF4Wm9vbTogb3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heFpvb20gOiAxOSxcbiAgICAgICAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3BhcXVlIDogdHJ1ZSxcbiAgICAgICAgICAgIHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOiBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLFxuICAgICAgICAgICAgdGlsZUxvYWRGdW5jdGlvbjogb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gT1NNO1xufShYWVopKTtcbmV4cG9ydCBkZWZhdWx0IE9TTTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9TTS5qcy5tYXAiLCJpbXBvcnQgJy4vaW5kZXguY3NzJ1xuaW1wb3J0IHsgaW5pdE1hcmtlck1hcCB9IGZyb20gJy4vbWFwJ1xuaW1wb3J0IHsgTWFya2VyIH0gZnJvbSAnLi9tYXJrZXInXG5pbXBvcnQgeyBmaWx0ZXJPYmplY3QgfSBmcm9tICcuL3V0aWwnXG5cbmZ1bmN0aW9uIHJlYWRNYXJrZXJDU1YgKGVsZW1lbnQpIHtcbiAgY29uc3QgbGluZXMgPSBlbGVtZW50LnRleHRDb250ZW50LnRyaW0oKS5zcGxpdCgnXFxuJylcblxuICByZXR1cm4gbGluZXMubWFwKGxpbmUgPT4gbGluZS5zcGxpdCgnLCcpLm1hcCh2YWx1ZSA9PiB7XG4gICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKHZhbHVlKVxuICAgIHJldHVybiBOdW1iZXIuaXNOYU4ocGFyc2VkKSA/IHZhbHVlIDogcGFyc2VkXG4gIH0pKVxufVxuXG5mdW5jdGlvbiBnZXRMb2NhdGlvbiAoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgcmV0dXJuIFtcbiAgICBOdW1iZXIoZWxlbWVudC5kYXRhc2V0LmxvbiksXG4gICAgTnVtYmVyKGVsZW1lbnQuZGF0YXNldC5sYXQpXG4gIF1cbn1cblxuZnVuY3Rpb24gZ2V0Q29sb3IgKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIHJldHVybiBmaWx0ZXJPYmplY3Qoe1xuICAgIHByaW1hcnk6IGVsZW1lbnQuZGF0YXNldC5jb2xvclByaW1hcnksXG4gICAgc2Vjb25kYXJ5OiBlbGVtZW50LmRhdGFzZXQuY29sb3JTZWNvbmRhcnlcbiAgfSwgKGtleSwgdmFsdWUpID0+IHZhbHVlKVxufVxuXG5jb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpXG5jb25zdCBtYXJrZXJQYXJhbSA9IHBhcmFtcy5nZXQoJ21hcmtlcnMnKVxuY29uc3QgaXNWaWV3TW9kZSA9ICh3aW5kb3cucGFyZW50ICE9PSB3aW5kb3cpIHx8IHBhcmFtcy5oYXMoJ25vZWRpdCcpXG5jb25zdCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJylcblxuZnVuY3Rpb24gZ2V0Vmlld1BhcmFtIChwcm9wOiBzdHJpbmcsIHZpZXdEZWZhdWx0OiBzdHJpbmcpIHtcbiAgcmV0dXJuIHBhcmFtcy5nZXQocHJvcCkgfHwgKGlzVmlld01vZGUgPyB2aWV3RGVmYXVsdCA6ICcnKVxufVxuXG5PYmplY3QuYXNzaWduKHRhcmdldC5zdHlsZSwge1xuICB3aWR0aDogZ2V0Vmlld1BhcmFtKCd3aWR0aCcsICcxMDB2dycpLFxuICBoZWlnaHQ6IGdldFZpZXdQYXJhbSgnaGVpZ2h0JywgJzEwMHZoJylcbn0pXG5cbmNvbnN0IG1hcmtlcnMgPSBtYXJrZXJQYXJhbVxuICA/IEpTT04ucGFyc2UobWFya2VyUGFyYW0pXG4gIDogQXJyYXkuZnJvbShcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+KCcubWFya2VyJyksXG4gICAgdGVtcGxhdGUgPT4gKHtcbiAgICAgIGxvY2F0aW9uOiBnZXRMb2NhdGlvbih0ZW1wbGF0ZSksXG4gICAgICBjb2xvcjogZ2V0Q29sb3IodGVtcGxhdGUpLFxuICAgICAgbmFtZTogdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubmFtZScpPy50ZXh0Q29udGVudCxcbiAgICAgIGluZm86IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmluZm8nKT8uY2xvbmVOb2RlKHRydWUpXG4gICAgfSlcbiAgKVxuXG5jb25zdCB7IG1hcmtlckxheWVyLCBtYXJrZXJTZWxlY3QgfSA9IGluaXRNYXJrZXJNYXAodGFyZ2V0LCBtYXJrZXJzKVxuY29uc3QgbWFwID0gbWFya2VyU2VsZWN0LmdldE1hcCgpXG5jb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKVxuXG5tYXJrZXJTZWxlY3Qub24oJ3NlbGVjdCcsIGV2ZW50ID0+IHtcbiAgY29uc3QgW2N1cnJlbnRdID0gZXZlbnQuc2VsZWN0ZWQgYXMgTWFya2VyW11cblxuICBldmVudC5zZWxlY3RlZC5mb3JFYWNoKChtYXJrZXI6IE1hcmtlcikgPT4ge1xuICAgIG1hcmtlci5zaG93SW5mbyhtYXApXG4gIH0pXG5cbiAgZXZlbnQuZGVzZWxlY3RlZC5mb3JFYWNoKChtYXJrZXI6IE1hcmtlcikgPT4ge1xuICAgIG1hcmtlci5oaWRlSW5mbyhtYXApXG4gIH0pXG5cbiAgaWYgKGN1cnJlbnQgJiYgIWN1cnJlbnQuaGFzSW5mbykge1xuICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICBjZW50ZXI6IGN1cnJlbnQuZ2V0KCdnZW9tZXRyeScpLmdldENvb3JkaW5hdGVzKCksXG4gICAgICBkdXJhdGlvbjogMjAwXG4gICAgfSlcbiAgfVxufSlcblxuaWYgKCFpc1ZpZXdNb2RlKSB7XG4gIGltcG9ydCgnLi9jb250cm9scGFuZWwnKS50aGVuKCh7IGluaXRDb250cm9scyB9KSA9PiB7XG4gICAgY29uc3QgY29udHJvbEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udHJvbHMnKVxuXG4gICAgY29udHJvbEZvcm0uc3R5bGUuZGlzcGxheSA9ICcnXG4gICAgaW5pdENvbnRyb2xzKGNvbnRyb2xGb3JtIGFzIEhUTUxGb3JtRWxlbWVudCwgbWFya2VyTGF5ZXIsIG1hcmtlclNlbGVjdClcbiAgfSkuY2F0Y2goY29uc29sZS5lcnJvcilcbn1cbiIsImltcG9ydCAnb2wvb2wuY3NzJ1xuaW1wb3J0IHsgTWFwLCBWaWV3IH0gZnJvbSAnb2wnXG5pbXBvcnQgeyBmcm9tTG9uTGF0IH0gZnJvbSAnb2wvcHJvaidcbmltcG9ydCB7IFNlbGVjdCB9IGZyb20gJ29sL2ludGVyYWN0aW9uJ1xuaW1wb3J0IHsgY2xpY2sgfSBmcm9tICdvbC9ldmVudHMvY29uZGl0aW9uJ1xuaW1wb3J0IFRpbGVMYXllciBmcm9tICdvbC9sYXllci9UaWxlJ1xuaW1wb3J0IFZlY3RvckxheWVyIGZyb20gJ29sL2xheWVyL1ZlY3RvcidcbmltcG9ydCBWZWN0b3JTb3VyY2UgZnJvbSAnb2wvc291cmNlL1ZlY3RvcidcbmltcG9ydCBPU00gZnJvbSAnb2wvc291cmNlL09TTSdcbmltcG9ydCB7IE1hcmtlciwgbWFya2VyU3R5bGUgfSBmcm9tICcuL21hcmtlcidcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRNYXJrZXJNYXAgKHRhcmdldDogSFRNTEVsZW1lbnQsIG1hcmtlcnM6IGFueVtdKSB7XG4gIGNvbnN0IGNlbnRlciA9IG1hcmtlcnMubGVuZ3RoXG4gICAgPyBtYXJrZXJzWzBdLmxvY2F0aW9uXG4gICAgOiBbTWF0aC5yYW5kb20oKSAqIDE4MCwgTWF0aC5yYW5kb20oKSAqIDkwXVxuXG4gIGNvbnN0IG1hcCA9IG5ldyBNYXAoe1xuICAgIHRhcmdldCxcbiAgICBsYXllcnM6IFtcbiAgICAgIG5ldyBUaWxlTGF5ZXIoe1xuICAgICAgICBzb3VyY2U6IG5ldyBPU00oKVxuICAgICAgfSlcbiAgICBdLFxuICAgIHZpZXc6IG5ldyBWaWV3KHtcbiAgICAgIGNlbnRlcjogZnJvbUxvbkxhdChjZW50ZXIpLFxuICAgICAgem9vbTogbWFya2Vycy5sZW5ndGggPyAxNSA6IDVcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IG1hcmtlckxheWVyID0gbmV3IFZlY3RvckxheWVyKHtcbiAgICBzb3VyY2U6IG5ldyBWZWN0b3JTb3VyY2Uoe1xuICAgICAgZmVhdHVyZXM6IG1hcmtlcnMubWFwKGRhdGEgPT4gbmV3IE1hcmtlcihkYXRhKSlcbiAgICB9KSxcbiAgICBzdHlsZTogZmVhdHVyZSA9PiBtYXJrZXJTdHlsZShmZWF0dXJlKVxuICB9KVxuXG4gIGNvbnN0IG1hcmtlclNlbGVjdCA9IG5ldyBTZWxlY3Qoe1xuICAgIGNvbmRpdGlvbjogY2xpY2ssXG4gICAgc3R5bGU6IGZlYXR1cmUgPT4gbWFya2VyU3R5bGUoZmVhdHVyZSwgdHJ1ZSlcbiAgfSlcblxuICBtYXAuYWRkTGF5ZXIobWFya2VyTGF5ZXIpXG4gIG1hcC5hZGRJbnRlcmFjdGlvbihtYXJrZXJTZWxlY3QpXG5cbiAgcmV0dXJuIHsgbWFya2VyTGF5ZXIsIG1hcmtlclNlbGVjdCB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9