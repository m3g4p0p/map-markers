(()=>{var t,e,i,n,o={5045:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var n,o=i(9179),r=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const s=function(t){function e(e){var i=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===o.q4?o.q4:"v"+o.q4.split("-")[0])+"/doc/errors/#"+e+" for details.";return(i=t.call(this,n)||this).code=e,i.name="AssertionError",i.message=n,i}return r(e,t),e}(Error)},8426:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var n,o=i(5045),r=i(8493),s=i(9629),a=i(9520),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h="length",u=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.element=i,o.index=n,o}return l(e,t),e}(a.ZP);const c=function(t){function e(e,i){var n=t.call(this)||this,o=i||{};if(n.unique_=!!o.unique,n.array_=e||[],n.unique_)for(var r=0,s=n.array_.length;r<s;++r)n.assertUnique_(n.array_[r],r);return n.updateLength_(),n}return l(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(h)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(s.Z.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(s.Z.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(s.Z.REMOVE,n,t)),this.dispatchEvent(new u(s.Z.ADD,e,t))}else{for(var o=i;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(h,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new o.Z(58)},e}(r.ZP)},9629:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={ADD:"add",REMOVE:"remove"}},967:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}()},1256:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},6:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(3381);const o={SINGLECLICK:"singleclick",CLICK:n.Z.CLICK,DBLCLICK:n.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},188:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},8493:(t,e,i)=>{"use strict";i.d(e,{v_:()=>f,ZP:()=>d});var n,o=i(9520),r=i(3910),s=i(6834),a=i(3580),l=i(9179),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.key=i,o.oldValue=n,o}return h(e,t),e}(o.ZP),c=function(t){function e(e){var i=t.call(this)||this;return(0,l.sq)(i),i.values_=null,void 0!==e&&i.setProperties(e),i}return h(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&(0,a.f0)({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var i;i=f(t),this.dispatchEvent(new u(i,t,e)),i=r.Z.PROPERTYCHANGE,this.dispatchEvent(new u(i,t,e))},e.prototype.set=function(t,e,i){var n=this.values_||(this.values_={});if(i)n[t]=e;else{var o=n[t];n[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.applyProperties=function(t){t.values_&&(0,a.f0)(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var i=this.values_[t];delete this.values_[t],(0,a.xb)(this.values_)&&(this.values_=null),e||this.notify(t,i)}},e}(s.Z),p={};function f(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}const d=c},3910:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PROPERTYCHANGE:"propertychange"}},6834:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var n,o=i(6575),r=i(3381),s=i(3002),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const l=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return a(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(r.Z.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),o=0;o<i;++o)n[o]=(0,s.oL)(this,t[o],e);return n}return(0,s.oL)(this,t,e)},e.prototype.once=function(t,e){var i;if(Array.isArray(t)){var n=t.length;i=new Array(n);for(var o=0;o<n;++o)i[o]=(0,s.Vx)(this,t[o],e)}else i=(0,s.Vx)(this,t,e);return e.ol_key=i,i},e.prototype.un=function(t,e){var i=e.ol_key;if(i)!function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)(0,s.bN)(t[e]);else(0,s.bN)(t)}(i);else if(Array.isArray(t))for(var n=0,o=t.length;n<o;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(o.Z)},9682:(t,e,i)=>{"use strict";function n(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function r(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;var o=void 0;if(i>0){for(o=1;o<n;++o)if(t[o]<e)return o-1}else if(i<0){for(o=1;o<n;++o)if(t[o]<=e)return o}else for(o=1;o<n;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return n-1}function s(t,e,i){for(;e<i;){var n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function a(t,e){for(var i=Array.isArray(e)?e:[e],n=i.length,o=0;o<n;o++)t[t.length]=i[o]}function l(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function h(t,e,i){var o=e||n;return t.every((function(e,n){if(0===n)return!0;var r=o(t[n-1],e);return!(r>0||i&&0===r)}))}i.d(e,{kK:()=>n,q9:()=>o,h7:()=>r,FZ:()=>s,l7:()=>a,fS:()=>l,pT:()=>h})},8906:(t,e,i)=>{"use strict";i.d(e,{h:()=>o});var n=i(5045);function o(t,e){if(!t)throw new n.Z(e)}},8913:(t,e,i)=>{"use strict";i.d(e,{XC:()=>a,_2:()=>c,BB:()=>f});var n=i(8906),o=i(1882),r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(t){return"string"==typeof t?t:f(t)}var l,h,u=(l={},h=0,function(t){var e;if(l.hasOwnProperty(t))e=l[t];else{if(h>=1024){var i=0;for(var o in l)0==(3&i++)&&(delete l[o],--h)}e=function(t){var e,i,o,a,l;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i}return""}(t)),r.exec(t)){var h,u=t.length-1;h=u<=4?1:2;var c=4===u||8===u;e=parseInt(t.substr(1+0*h,h),16),i=parseInt(t.substr(1+1*h,h),16),o=parseInt(t.substr(1+2*h,h),16),a=c?parseInt(t.substr(1+3*h,h),16):255,1==h&&(e=(e<<4)+e,i=(i<<4)+i,o=(o<<4)+o,c&&(a=(a<<4)+a)),l=[e,i,o,a/255]}else 0==t.indexOf("rgba(")?p(l=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),p(l)):(0,n.h)(!1,14);return l}(t),l[t]=e,++h}return e});function c(t){return Array.isArray(t)?t:u(t)}function p(t){return t[0]=(0,o.uZ)(t[0]+.5|0,0,255),t[1]=(0,o.uZ)(t[1]+.5|0,0,255),t[2]=(0,o.uZ)(t[2]+.5|0,0,255),t[3]=(0,o.uZ)(t[3],0,1),t}function f(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}},5120:(t,e,i)=>{"use strict";i.d(e,{y:()=>o});var n=i(8913);function o(t){return Array.isArray(t)?(0,n.BB)(t):t}},7644:(t,e,i)=>{"use strict";i.d(e,{oj:()=>n,$A:()=>o,XV:()=>r,hg:()=>s,hN:()=>a,p:()=>u});var n="ol-hidden",o="ol-selectable",r="ol-unselectable",s="ol-control",a="ol-collapsed",l=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),h=["style","variant","weight","size","lineHeight","family"],u=function(t){var e=t.match(l);if(!e)return null;for(var i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,o=h.length;n<o;++n){var r=e[n+1];void 0!==r&&(i[h[n]]=r)}return i.families=i.family.split(/,\s?/),i}},5386:(t,e,i)=>{"use strict";i.d(e,{E4:()=>o,iO:()=>r,Pb:()=>s,$H:()=>a,ZF:()=>l,ep:()=>h,hF:()=>u});var n=i(1358);function o(t,e,i){var o=i&&i.length?i.shift():n.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(o.width=t),e&&(o.height=e),o.getContext("2d")}function r(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10))}function s(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+(parseInt(i.marginTop,10)+parseInt(i.marginBottom,10))}function a(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function l(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function h(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function u(t,e){for(var i=t.childNodes,n=0;;++n){var o=i[n],r=e[n];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--n):t.appendChild(r))}}},6320:(t,e,i)=>{"use strict";function n(t){return Math.pow(t,3)}function o(t){return 1-n(1-t)}function r(t){return 3*t*t-2*t*t*t}function s(t){return t}i.d(e,{YQ:()=>n,Vv:()=>o,rd:()=>r,GE:()=>s})},3002:(t,e,i)=>{"use strict";i.d(e,{oL:()=>o,Vx:()=>r,bN:()=>s});var n=i(3580);function o(t,e,i,n,o){if(n&&n!==t&&(i=i.bind(n)),o){var r=i;i=function(){t.removeEventListener(e,i),r.apply(this,arguments)}}var s={target:t,type:e,listener:i};return t.addEventListener(e,i),s}function r(t,e,i,n){return o(t,e,i,n,!0)}function s(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,n.ZH)(t))}},9520:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>n});const n=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}()},3381:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},6575:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var n,o=i(967),r=i(9520),s=i(4011),a=i(3580),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const h=function(t){function e(e){var i=t.call(this)||this;return i.eventTarget_=e,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return l(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var i=this.listeners_||(this.listeners_={}),n=i[t]||(i[t]=[]);-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new r.ZP(t):t,i=e.type;e.target||(e.target=this.eventTarget_||this);var n,o=this.listeners_&&this.listeners_[i];if(o){var a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,l[i]=0),++a[i];for(var h=0,u=o.length;h<u;++h)if(!1===(n="handleEvent"in o[h]?o[h].handleEvent(e):o[h].call(this,e))||e.propagationStopped){n=!1;break}if(--a[i],0===a[i]){var c=l[i];for(delete l[i];c--;)this.removeEventListener(i,s.Zn);delete a[i]}return n}},e.prototype.disposeInternal=function(){this.listeners_&&(0,a.ZH)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var i=this.listeners_&&this.listeners_[t];if(i){var n=i.indexOf(e);-1!==n&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[n]=s.Zn,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t]))}},e}(o.Z)},6403:(t,e,i)=>{"use strict";i.d(e,{$6:()=>a,aj:()=>l,yZ:()=>h,Bx:()=>u,V4:()=>c,v8:()=>p,Fi:()=>f,Kf:()=>d,rM:()=>_,vY:()=>g,TN:()=>y,QL:()=>v,Xp:()=>m});var n=i(6),o=i(4011),r=i(1358),s=i(8906);function a(t){var e=arguments;return function(t){for(var i=!0,n=0,o=e.length;n<o&&(i=i&&e[n](t));++n);return i}}var l=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},h=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},u=o.uX,c=function(t){return t.type==n.Z.CLICK},p=function(t){var e=t.originalEvent;return 0==e.button&&!(r.G$&&r.tK&&e.ctrlKey)},f=o.Dv,d=function(t){return t.type==n.Z.SINGLECLICK},_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},g=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},y=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},v=function(t){var e=t.originalEvent;return(0,s.h)(void 0!==e,56),"mouse"==e.pointerType},m=function(t){var e=t.originalEvent;return(0,s.h)(void 0!==e,56),e.isPrimary&&0===e.button}},1915:(t,e,i)=>{"use strict";i.d(e,{hI:()=>s,f3:()=>a,d9:()=>l,qf:()=>h,b8:()=>u,r4:()=>c,jE:()=>p,pX:()=>f,lJ:()=>d,T9:()=>_,YN:()=>g,HK:()=>y,ZT:()=>v,GN:()=>m,fS:()=>x,l7:()=>E,Wj:()=>C,qP:()=>S,H6:()=>w,bg:()=>T,hC:()=>b,w$:()=>I,qg:()=>P,g0:()=>R,p8:()=>L,Cr:()=>M,Ed:()=>A,rL:()=>F,Xv:()=>Z,dz:()=>k,kK:()=>D,xb:()=>j,EO:()=>N,H9:()=>G,I7:()=>z,Ne:()=>W,Cf:()=>Y});var n=i(1748),o=i(4178),r=i(8906);function s(t){for(var e=[1/0,1/0,-1/0,-1/0],i=0,n=t.length;i<n;++i)C(e,t[i]);return e}function a(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function l(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function h(t,e,i){var n,o;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(o=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0)*o}function u(t,e){return p(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function p(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function f(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],a=e[0],l=e[1],h=o.Z.UNKNOWN;return a<i?h|=o.Z.LEFT:a>r&&(h|=o.Z.RIGHT),l<n?h|=o.Z.BELOW:l>s&&(h|=o.Z.ABOVE),h===o.Z.UNKNOWN&&(h=o.Z.INTERSECTING),h}function d(){return[1/0,1/0,-1/0,-1/0]}function _(t,e,i,n,o){return o?(o[0]=t,o[1]=e,o[2]=i,o[3]=n,o):[t,e,i,n]}function g(t){return _(1/0,1/0,-1/0,-1/0,t)}function y(t,e){var i=t[0],n=t[1];return _(i,n,i,n,e)}function v(t,e){return function(t,e){for(var i=0,n=e.length;i<n;++i)C(t,e[i]);return t}(g(e),t)}function m(t,e,i,n,o){return S(g(o),t,e,i,n)}function x(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function E(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function C(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function S(t,e,i,n,o){for(;i<n;i+=o)O(t,e[i],e[i+1]);return t}function O(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function w(t,e){var i;return(i=e(b(t)))||(i=e(I(t)))||(i=e(Z(t)))?i:(i=e(F(t)))||!1}function T(t){var e=0;return j(t)||(e=k(t)*M(t)),e}function b(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function P(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function R(t,e){var i;return e===n.Z.BOTTOM_LEFT?i=b(t):e===n.Z.BOTTOM_RIGHT?i=I(t):e===n.Z.TOP_LEFT?i=F(t):e===n.Z.TOP_RIGHT?i=Z(t):(0,r.h)(!1,13),i}function L(t,e,i,n,o){var r=e*n[0]/2,s=e*n[1]/2,a=Math.cos(i),l=Math.sin(i),h=r*a,u=r*l,c=s*a,p=s*l,f=t[0],d=t[1],g=f-h+p,y=f-h-p,v=f+h-p,m=f+h+p,x=d-u-c,E=d-u+c,C=d+u+c,S=d+u-c;return _(Math.min(g,y,v,m),Math.min(x,E,C,S),Math.max(g,y,v,m),Math.max(x,E,C,S),o)}function M(t){return t[3]-t[1]}function A(t,e,i){var n=i||[1/0,1/0,-1/0,-1/0];return D(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):g(n),n}function F(t){return[t[0],t[3]]}function Z(t){return[t[2],t[3]]}function k(t){return t[2]-t[0]}function D(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function j(t){return t[2]<t[0]||t[3]<t[1]}function N(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function G(t,e){var i=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=n,t[3]+=n}function z(t,e,i){var n=!1,r=f(t,e),s=f(t,i);if(r===o.Z.INTERSECTING||s===o.Z.INTERSECTING)n=!0;else{var a=t[0],l=t[1],h=t[2],u=t[3],c=e[0],p=e[1],d=i[0],_=i[1],g=(_-p)/(d-c),y=void 0,v=void 0;s&o.Z.ABOVE&&!(r&o.Z.ABOVE)&&(n=(y=d-(_-u)/g)>=a&&y<=h),n||!(s&o.Z.RIGHT)||r&o.Z.RIGHT||(n=(v=_-(d-h)*g)>=l&&v<=u),n||!(s&o.Z.BELOW)||r&o.Z.BELOW||(n=(y=d-(_-l)/g)>=a&&y<=h),n||!(s&o.Z.LEFT)||r&o.Z.LEFT||(n=(v=_-(d-a)*g)>=l&&v<=u)}return n}function W(t,e,i,n){var o=[];if(n>1)for(var r=t[2]-t[0],s=t[3]-t[1],a=0;a<n;++a)o.push(t[0]+r*a/n,t[1],t[2],t[1]+s*a/n,t[2]-r*a/n,t[3],t[0],t[3]-s*a/n);else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(o,o,2);for(var l=[],h=[],u=(a=0,o.length);a<u;a+=2)l.push(o[a]),h.push(o[a+1]);return function(t,e,i){return _(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),i)}(l,h,i)}function Y(t,e){var i=e.getExtent(),n=P(t);if(e.canWrapX()&&(n[0]<i[0]||n[0]>=i[2])){var o=k(i),r=Math.floor((n[0]-i[0])/o)*o;t[0]-=r,t[2]-=r}return t}},1748:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},4178:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},4011:(t,e,i)=>{"use strict";i.d(e,{uX:()=>o,Dv:()=>r,Zn:()=>s,qe:()=>a});var n=i(9682);function o(){return!0}function r(){return!1}function s(){}function a(t){var e,i,o,r=!1;return function(){var s=Array.prototype.slice.call(arguments);return r&&this===o&&(0,n.fS)(s,i)||(r=!0,o=this,i=s,e=t.apply(this,arguments)),e}}},3696:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},8795:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},2043:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u});var n,o=i(8795),r=i(4759),s=i(1915),a=i(8667),l=i(1882),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const u=function(t){function e(e,i){var n=t.call(this)||this;return n.setCoordinates(e,i),n}return h(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,n){var o=this.flatCoordinates,r=(0,l.bI)(t,e,o[0],o[1]);if(r<n){for(var s=this.stride,a=0;a<s;++a)i[a]=o[a];return i.length=s,r}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,s.HK)(this.flatCoordinates,t)},e.prototype.getType=function(){return o.Z.POINT},e.prototype.intersectsExtent=function(t){return(0,s.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.IG)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(r.ZP)},4759:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>m,Kr:()=>v});var n,o=i(8493),r=i(868),s=i(9179),a=i(2359),l=i(1915),h=i(1964),u=i(4011),c=i(7882),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=(0,a.Ue)();const d=function(t){function e(){var e=t.call(this)||this;return e.extent_=(0,l.lJ)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,u.qe)((function(t,e,i){if(!i)return this.getSimplifiedGeometry(e);var n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(e)})),e}return p(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return(0,s.O3)()},e.prototype.closestPointXY=function(t,e,i,n){return(0,s.O3)()},e.prototype.containsXY=function(t,e){var i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e},e.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,s.O3)()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,l.YN)(e),this.extentRevision_=this.getRevision()}return(0,l.EO)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,s.O3)()},e.prototype.scale=function(t,e,i){(0,s.O3)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,s.O3)()},e.prototype.getType=function(){return(0,s.O3)()},e.prototype.applyTransform=function(t){(0,s.O3)()},e.prototype.intersectsExtent=function(t){return(0,s.O3)()},e.prototype.translate=function(t,e){(0,s.O3)()},e.prototype.transform=function(t,e){var i=(0,h.U2)(t),n=i.getUnits()==r.Z.TILE_PIXELS?function(t,n,o){var r=i.getExtent(),s=i.getWorldExtent(),u=(0,l.Cr)(s)/(0,l.Cr)(r);return(0,a.qC)(f,s[0],s[3],u,-u,0,0,0),(0,c.vT)(t,0,t.length,o,f,n),(0,h.Ck)(i,e)(t,n,o)}:(0,h.Ck)(i,e);return this.applyTransform(n),this},e}(o.ZP);var _=i(3696),g=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function y(t){var e;return t==_.Z.XY?e=2:t==_.Z.XYZ||t==_.Z.XYM?e=3:t==_.Z.XYZM&&(e=4),e}function v(t,e,i){var n=t.getFlatCoordinates();if(n){var o=t.getStride();return(0,c.vT)(n,0,n.length,o,e,i)}return null}const m=function(t){function e(){var e=t.call(this)||this;return e.layout=_.Z.XY,e.stride=2,e.flatCoordinates=null,e}return g(e,t),e.prototype.computeExtent=function(t){return(0,l.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,s.O3)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=y(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,s.O3)()},e.prototype.setLayout=function(t,e,i){var n;if(t)n=y(t);else{for(var o=0;o<i;++o){if(0===e.length)return this.layout=_.Z.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=_.Z.XY:3==t?e=_.Z.XYZ:4==t&&(e=_.Z.XYZM),e}(n=e.length)}this.layout=t,this.stride=n},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();(0,c.U1)(i,0,i.length,n,t,e,i),this.changed()}},e.prototype.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var o=i;o||(o=(0,l.qg)(this.getExtent()));var r=this.getFlatCoordinates();if(r){var s=this.getStride();(0,c.bA)(r,0,r.length,s,t,n,o,r),this.changed()}},e.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();(0,c.Iu)(i,0,i.length,n,t,e,i),this.changed()}},e}(d)},8667:(t,e,i)=>{"use strict";function n(t,e,i,n){for(var o=0,r=i.length;o<r;++o)t[e++]=i[o];return e}function o(t,e,i,n){for(var o=0,r=i.length;o<r;++o)for(var s=i[o],a=0;a<n;++a)t[e++]=s[a];return e}function r(t,e,i,n,r){for(var s=r||[],a=0,l=0,h=i.length;l<h;++l){var u=o(t,e,i[l],n);s[a++]=u,e=u}return s.length=a,s}i.d(e,{IG:()=>n,Sg:()=>o,_5:()=>r})},7882:(t,e,i)=>{"use strict";function n(t,e,i,n,o,r){for(var s=r||[],a=0,l=e;l<i;l+=n){var h=t[l],u=t[l+1];s[a++]=o[0]*h+o[2]*u+o[4],s[a++]=o[1]*h+o[3]*u+o[5]}return r&&s.length!=a&&(s.length=a),s}function o(t,e,i,n,o,r,s){for(var a=s||[],l=Math.cos(o),h=Math.sin(o),u=r[0],c=r[1],p=0,f=e;f<i;f+=n){var d=t[f]-u,_=t[f+1]-c;a[p++]=u+d*l-_*h,a[p++]=c+d*h+_*l;for(var g=f+2;g<f+n;++g)a[p++]=t[g]}return s&&a.length!=p&&(a.length=p),a}function r(t,e,i,n,o,r,s,a){for(var l=a||[],h=s[0],u=s[1],c=0,p=e;p<i;p+=n){var f=t[p]-h,d=t[p+1]-u;l[c++]=h+o*f,l[c++]=u+r*d;for(var _=p+2;_<p+n;++_)l[c++]=t[_]}return a&&l.length!=c&&(l.length=c),l}function s(t,e,i,n,o,r,s){for(var a=s||[],l=0,h=e;h<i;h+=n){a[l++]=t[h]+o,a[l++]=t[h+1]+r;for(var u=h+2;u<h+n;++u)a[l++]=t[u]}return s&&a.length!=l&&(a.length=l),a}i.d(e,{vT:()=>n,U1:()=>o,bA:()=>r,Iu:()=>s})},1358:(t,e,i)=>{"use strict";i.d(e,{V:()=>o,G$:()=>r,tK:()=>s,MP:()=>a,Id:()=>l,Tp:()=>h,bM:()=>u});var n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",o=-1!==n.indexOf("firefox"),r=(-1!==n.indexOf("safari")&&n.indexOf("chrom"),-1!==n.indexOf("webkit")&&-1==n.indexOf("edge")),s=-1!==n.indexOf("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,h="undefined"!=typeof Image&&Image.prototype.decode,u=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},7588:(t,e,i)=>{"use strict";i.d(e,{Cv:()=>l,FW:()=>h,ZP:()=>u});var n,o=i(8493),r=i(3604),s=i(6320),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function l(t,e,i){var n=t.getCenterInternal();if(n){var o=[n[0]+e[0],n[1]+e[1]];t.animateInternal({duration:void 0!==i?i:250,easing:s.GE,center:t.getConstrainedCenter(o)})}}function h(t,e,i,n){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:i,duration:void 0!==n?n:250,easing:s.Vv})}}const u=function(t){function e(e){var i=t.call(this)||this;return e&&e.handleEvent&&(i.handleEvent=e.handleEvent),i.map_=null,i.setActive(!0),i}return a(e,t),e.prototype.getActive=function(){return this.get(r.Z.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(r.Z.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(o.ZP)},8024:(t,e,i)=>{"use strict";i.d(e,{S:()=>l,Z:()=>h});var n,o=i(7588),r=i(6),s=i(3580),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function l(t){for(var e=t.length,i=0,n=0,o=0;o<e;o++)i+=t[o].clientX,n+=t[o].clientY;return[i/e,n/e]}const h=function(t){function e(e){var i=this,n=e||{};return i=t.call(this,n)||this,n.handleDownEvent&&(i.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(i.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(i.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(i.handleUpEvent=n.handleUpEvent),n.stopDown&&(i.stopDown=n.stopDown),i.handlingDownUpSequence=!1,i.trackedPointers_={},i.targetPointers=[],i}return a(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r.Z.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==r.Z.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==r.Z.POINTERDOWN){var n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==r.Z.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===r.Z.POINTERDOWN||e===r.Z.POINTERDRAG||e===r.Z.POINTERUP}(t)){var e=t.originalEvent,i=e.pointerId.toString();t.type==r.Z.POINTERUP?delete this.trackedPointers_[i]:(t.type==r.Z.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=e),this.targetPointers=(0,s.KX)(this.trackedPointers_)}},e}(o.ZP)},3604:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={ACTIVE:"active"}},1273:(t,e,i)=>{"use strict";i.d(e,{t:()=>g,Z:()=>v});var n,o=i(8426),r=i(9629),s=i(9520),a=i(8795),l=i(7588),h=i(4011),u=i(3580),c=i(1219),p=i(9682),f=i(9179),d=i(6403),_=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=function(t){function e(e,i,n,o){var r=t.call(this,e)||this;return r.selected=i,r.deselected=n,r.mapBrowserEvent=o,r}return _(e,t),e}(s.ZP),y={};const v=function(t){function e(e){var i,n,r=t.call(this)||this,s=e||{};if(r.boundAddFeature_=r.addFeature_.bind(r),r.boundRemoveFeature_=r.removeFeature_.bind(r),r.condition_=s.condition?s.condition:d.Kf,r.addCondition_=s.addCondition?s.addCondition:d.Fi,r.removeCondition_=s.removeCondition?s.removeCondition:d.Fi,r.toggleCondition_=s.toggleCondition?s.toggleCondition:d.vY,r.multi_=!!s.multi&&s.multi,r.filter_=s.filter?s.filter:h.uX,r.hitTolerance_=s.hitTolerance?s.hitTolerance:0,r.style_=void 0!==s.style?s.style:(i=(0,c.Ly)(),(0,p.l7)(i[a.Z.POLYGON],i[a.Z.LINE_STRING]),(0,p.l7)(i[a.Z.GEOMETRY_COLLECTION],i[a.Z.LINE_STRING]),function(t){return t.getGeometry()?i[t.getGeometry().getType()]:null}),r.features_=s.features||new o.Z,s.layers)if("function"==typeof s.layers)n=s.layers;else{var l=s.layers;n=function(t){return(0,p.q9)(l,t)}}else n=h.uX;return r.layerFilter_=n,r.featureLayerAssociation_={},r}return _(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[(0,f.sq)(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,f.sq)(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener(r.Z.ADD,this.boundAddFeature_),this.features_.addEventListener(r.Z.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(r.Z.ADD,this.boundAddFeature_),this.features_.removeEventListener(r.Z.REMOVE,this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){var e=t.element;this.style_&&this.applySelectedStyle_(e)},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=(0,f.sq)(t);e in y||(y[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){for(var i=this.getMap().getInteractions().getArray(),n=i.length-1;n>=0;--n){var o=i[n];if(o!==this&&o instanceof e&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(o.getStyle())}var r=(0,f.sq)(t);t.setStyle(y[r]),delete y[r]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,f.sq)(t)]},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),n=this.toggleCondition_(t),o=!e&&!i&&!n,r=t.map,s=this.getFeatures(),a=[],l=[];if(o){(0,u.ZH)(this.featureLayerAssociation_),r.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return l.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var h=s.getLength()-1;h>=0;--h){var c=s.item(h),f=l.indexOf(c);f>-1?l.splice(f,1):(s.remove(c),a.push(c))}0!==l.length&&s.extend(l)}else{r.forEachFeatureAtPixel(t.pixel,function(t,o){if(this.filter_(t,o))return!e&&!n||(0,p.q9)(s.getArray(),t)?(i||n)&&(0,p.q9)(s.getArray(),t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(l.push(t),this.addFeatureLayerAssociation_(t,o)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=a.length-1;d>=0;--d)s.remove(a[d]);s.extend(l)}return(l.length>0||a.length>0)&&this.dispatchEvent(new g("select",l,a,t)),!0},e}(l.ZP)},1882:(t,e,i)=>{"use strict";function n(t,e,i){return Math.min(Math.max(t,e),i)}i.d(e,{uZ:()=>n,f9:()=>o,k3:()=>r,rU:()=>s,bI:()=>a,SV:()=>l,Yr:()=>h,$W:()=>u,t7:()=>c});var o="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},r="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function s(t,e,i,n,o,r){var s=o-i,l=r-n;if(0!==s||0!==l){var h=((t-i)*s+(e-n)*l)/(s*s+l*l);h>1?(i=o,n=r):h>0&&(i+=s*h,n+=l*h)}return a(t,e,i,n)}function a(t,e,i,n){var o=i-t,r=n-e;return o*o+r*r}function l(t){for(var e=t.length,i=0;i<e;i++){for(var n=i,o=Math.abs(t[i][i]),r=i+1;r<e;r++){var s=Math.abs(t[r][i]);s>o&&(o=s,n=r)}if(0===o)return null;var a=t[n];t[n]=t[i],t[i]=a;for(var l=i+1;l<e;l++)for(var h=-t[l][i]/t[i][i],u=i;u<e+1;u++)i==u?t[l][u]=0:t[l][u]+=h*t[i][u]}for(var c=new Array(e),p=e-1;p>=0;p--){c[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*c[p]}return c}function h(t){return t*Math.PI/180}function u(t,e){var i=t%e;return i*e<0?i+e:i}function c(t,e,i){return t+i*(e-t)}},3580:(t,e,i)=>{"use strict";i.d(e,{f0:()=>n,ZH:()=>o,KX:()=>r,xb:()=>s});var n="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,o=arguments.length;n<o;++n){var r=arguments[n];if(null!=r)for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])}return i};function o(t){for(var e in t)delete t[e]}var r="function"==typeof Object.values?Object.values:function(t){var e=[];for(var i in t)e.push(t[i]);return e};function s(t){var e;for(e in t)return!1;return!e}},1964:(t,e,i)=>{"use strict";i.d(e,{Wm:()=>n.W,UQ:()=>R,OP:()=>A,mi:()=>L,Vs:()=>Y,dY:()=>K,U2:()=>b,_Q:()=>I,Ck:()=>Z,WO:()=>F,Cs:()=>z,bU:()=>M,lO:()=>W,Fj:()=>X,vs:()=>k});var n=i(868);const o=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.W[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();var r,s=i(1882),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=6378137,h=Math.PI*l,u=[-h,-h,h,h],c=[-180,-85,180,85],p=l*Math.log(Math.tan(Math.PI/2)),f=function(t){function e(e){return t.call(this,{code:e,units:n.Z.METERS,extent:u,global:!0,worldExtent:c,getPointResolution:function(t,e){return t/(0,s.f9)(e[1]/l)}})||this}return a(e,t),e}(o),d=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];var _=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),g=[-180,-90,180,90],y=6378137*Math.PI/180,v=function(t){function e(e,i){return t.call(this,{code:e,units:n.Z.DEGREES,extent:g,axisOrientation:i,global:!0,metersPerUnit:y,worldExtent:g})||this}return _(e,t),e}(o),m=[new v("CRS:84"),new v("EPSG:4326","neu"),new v("urn:ogc:def:crs:OGC:1.3:CRS84"),new v("urn:ogc:def:crs:OGC:2:84"),new v("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],x={},E={};function C(t,e,i){var n=t.getCode(),o=e.getCode();n in E||(E[n]={}),E[n][o]=i}i(1915);function S(t,e,i){var n=i||6371008.8,o=(0,s.Yr)(t[1]),r=(0,s.Yr)(e[1]),a=(r-o)/2,l=(0,s.Yr)(e[0]-t[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function O(t,e,i){var n;if(void 0!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];n=e}else n=t.slice();return n}function w(t,e,i){if(void 0!==e&&t!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}return t}function T(t){!function(t,e){x[t]=e}(t.getCode(),t),C(t,t,O)}function b(t){return"string"==typeof t?x[e=t]||x[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function I(t,e,i,o){var r,s=(t=b(t)).getPointResolutionFunc();if(s)r=s(e,i),o&&o!==t.getUnits()&&(l=t.getMetersPerUnit())&&(r=r*l/n.W[o]);else{var a=t.getUnits();if(a==n.Z.DEGREES&&!o||o==n.Z.DEGREES)r=e;else{var l,h=F(t,b("EPSG:4326"));if(h===w&&a!==n.Z.DEGREES)r=e*t.getMetersPerUnit();else{var u=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];r=(S((u=h(u,u,2)).slice(0,2),u.slice(2,4))+S(u.slice(4,6),u.slice(6,8)))/2}void 0!==(l=o?n.W[o]:t.getMetersPerUnit())&&(r/=l)}}return r}function P(t){!function(t){t.forEach(T)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&C(e,t,O)}))}))}function R(t,e){return t?"string"==typeof t?b(t):t:b(e)}function L(t,e){return k(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function M(t,e){var i=k(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),n=i[0];return(n<-180||n>180)&&(i[0]=(0,s.$W)(n+180,360)-180),i}function A(t,e){if(t===e)return!0;var i=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||F(t,e)===O)&&i}function F(t,e){var i=function(t,e){var i;return t in E&&e in E[t]&&(i=E[t][e]),i}(t.getCode(),e.getCode());return i||(i=w),i}function Z(t,e){return F(b(t),b(e))}function k(t,e,i){return Z(e,i)(t,void 0,t.length)}var D,j,N,G=null;function z(){return G}function W(t,e){return t}function Y(t,e){return t}function X(t,e){return t}function K(t,e){return t}P(d),P(m),D=d,j=function(t,e,i){var n=t.length,o=i>1?i:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(n));for(var s=0;s<n;s+=o){r[s]=h*t[s]/180;var a=l*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>p?a=p:a<-p&&(a=-p),r[s+1]=a}return r},N=function(t,e,i){var n=t.length,o=i>1?i:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(n));for(var s=0;s<n;s+=o)r[s]=180*t[s]/h,r[s+1]=360*Math.atan(Math.exp(t[s+1]/l))/Math.PI-90;return r},m.forEach((function(t){D.forEach((function(e){C(t,e,j),C(e,t,N)}))}))},868:(t,e,i)=>{"use strict";i.d(e,{W:()=>o,Z:()=>r});var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},o={};o[n.DEGREES]=2*Math.PI*6370997/360,o[n.FEET]=.3048,o[n.METERS]=1,o[n.USFEET]=1200/3937;const r=n},8509:(t,e,i)=>{"use strict";i.d(e,{Df:()=>u,bL:()=>c,mb:()=>p,X9:()=>f,He:()=>d,rc:()=>_,V4:()=>g,Tx:()=>y,PH:()=>v,ru:()=>m,oB:()=>x,yC:()=>E,sG:()=>C,Qx:()=>b,fk:()=>I,Kd:()=>L,gs:()=>M,qs:()=>A,_f:()=>F,QP:()=>k});var n=i(8493),o=i(6575),r=i(1358),s=i(3580),a=i(5386),l=i(7644),h=i(2359),u="10px sans-serif",c="#000",p="round",f=[],d=0,_="round",g=10,y="#000",v="center",m="middle",x=[0,0,0,0],E=1,C=new n.ZP;(new o.Z).setSize=function(){console.warn("labelCache is deprecated.")};var S,O,w=null,T={},b=function(){var t,e,i="32px ",n=["monospace","serif"],o=n.length,r="wmytzilWMYTZIL@#/&?$%10";function a(t,s,a){for(var l=!0,h=0;h<o;++h){var u=n[h];if(e=R(t+" "+s+" "+i+u,r),a!=u){var c=R(t+" "+s+" "+i+a+","+u,r);l=l&&c!=e}}return!!l}function h(){for(var e=!0,i=C.getKeys(),n=0,o=i.length;n<o;++n){var r=i[n];C.get(r)<100&&(a.apply(this,r.split("\n"))?((0,s.ZH)(T),w=null,S=void 0,C.set(r,100)):(C.set(r,C.get(r)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var i=(0,l.p)(e);if(i)for(var n=i.families,o=0,r=n.length;o<r;++o){var s=n[o],u=i.style+"\n"+i.weight+"\n"+s;void 0===C.get(u)&&(C.set(u,100,!0),a(i.style,i.weight,s)||(C.set(u,0,!0),void 0===t&&(t=setInterval(h,32))))}}}(),I=function(t){var e=T[t];if(null==e){if(r.Id){var i=(0,l.p)(t),n=P(t,"Žg");e=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else O||((O=document.createElement("div")).innerHTML="M",O.style.margin="0 !important",O.style.padding="0 !important",O.style.position="absolute !important",O.style.left="-99999px !important"),O.style.font=t,document.body.appendChild(O),e=O.offsetHeight,document.body.removeChild(O);T[t]=e}return e};function P(t,e){return w||(w=(0,a.E4)(1,1)),t!=S&&(w.font=t,S=w.font),w.measureText(e)}function R(t,e){return P(t,e).width}function L(t,e,i){if(e in i)return i[e];var n=R(t,e);return i[e]=n,n}function M(t,e,i){for(var n=e.length,o=0,r=0;r<n;++r){var s=R(t,e[r]);o=Math.max(o,s),i.push(s)}return o}function A(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function F(t,e,i,n,o,r,s,a,l,h,u){t.save(),1!==i&&(t.globalAlpha*=i),e&&t.setTransform.apply(t,e),n.contextInstructions?(t.translate(l,h),t.scale(u[0],u[1]),function(t,e){for(var i=t.contextInstructions,n=0,o=i.length;n<o;n+=2)Array.isArray(i[n+1])?e[i[n]].apply(e,i[n+1]):e[i[n]]=i[n+1]}(n,t)):u[0]<0||u[1]<0?(t.translate(l,h),t.scale(u[0],u[1]),t.drawImage(n,o,r,s,a,0,0,s,a)):t.drawImage(n,o,r,s,a,l,h,s*u[0],a*u[1]),t.restore()}var Z=null;function k(t){return r.Id?(0,h.BB)(t):(Z||(Z=(0,a.E4)(1,1).canvas),Z.style.transform=(0,h.BB)(t),Z.style.transform)}},596:(t,e,i)=>{"use strict";function n(t){return t[0]>0&&t[1]>0}function o(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function r(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}i.d(e,{py:()=>n,bA:()=>o,Pq:()=>r})},9797:(t,e,i)=>{"use strict";i.d(e,{Z:()=>f});var n,o=i(1256),r=i(8039),s=i(8913),a=i(5120),l=i(5386),h=i(8509),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const c=function(t){function e(e){var i=this,n=void 0!==e.rotateWithView&&e.rotateWithView;return(i=t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.anchor_=null,i.size_=null,i.imageSize_=null,i.hitDetectionImageSize_=null,i.render(),i}return u(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_},e.prototype.getImage=function(t){if(!this.canvas_[t||1]){var e=this.createRenderOptions(),i=(0,l.E4)(e.size*t||1,e.size*t||1);this.draw_(e,i,0,0,t||1),this.canvas_[t||1]=i.canvas}return this.canvas_[t||1]},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return o.Z.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.createRenderOptions=function(){var t,e=h.mb,i=h.rc,n=0,o=null,r=0,s=0;return this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=h.Tx),t=(0,a.y)(t),void 0===(s=this.stroke_.getWidth())&&(s=h.yC),o=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(i=this.stroke_.getLineJoin())&&(i=h.rc),void 0===(e=this.stroke_.getLineCap())&&(e=h.mb),void 0===(n=this.stroke_.getMiterLimit())&&(n=h.V4)),{strokeStyle:t,strokeWidth:s,size:2*(this.radius_+s)+1,lineCap:e,lineDash:o,lineDashOffset:r,lineJoin:i,miterLimit:n}},e.prototype.render=function(){var t=this.createRenderOptions(),e=(0,l.E4)(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var i=e.canvas.width,n=i,o=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[i/2-o[0],i/2+o[1]],this.size_=[i,i],this.imageSize_=[n,n]},e.prototype.draw_=function(t,e,i,n,o){var r,s,l;e.setTransform(o,0,0,o,0,0),e.translate(i,n),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(u*=2),r=0;r<=u;r++)s=2*r*Math.PI/u-Math.PI/2+this.angle_,l=r%2==0?this.radius_:c,e.lineTo(t.size/2+l*Math.cos(s),t.size/2+l*Math.sin(s))}if(this.fill_){var p=this.fill_.getColor();null===p&&(p=h.bL),e.fillStyle=(0,a.y)(p),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=(0,s._2)(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){var n=(0,l.E4)(t.size,t.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(t,n,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.translate(i,n),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var r=void 0!==this.radius2_?this.radius2_:this.radius_;r!==this.radius_&&(o*=2);var s=void 0,a=void 0,l=void 0;for(s=0;s<=o;s++)l=2*s*Math.PI/o-Math.PI/2+this.angle_,a=s%2==0?this.radius_:r,e.lineTo(t.size/2+a*Math.cos(l),t.size/2+a*Math.sin(l))}e.fillStyle=h.bL,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(r.Z);var p=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const f=function(t){function e(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})||this}return p(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(c)},8185:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}()},8039:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n=i(9179),o=i(596);const r=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,o.Pq)(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return(0,n.O3)()},t.prototype.getImage=function(t){return(0,n.O3)()},t.prototype.getHitDetectionImage=function(){return(0,n.O3)()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return(0,n.O3)()},t.prototype.getImageSize=function(){return(0,n.O3)()},t.prototype.getHitDetectionImageSize=function(){return(0,n.O3)()},t.prototype.getOrigin=function(){return(0,n.O3)()},t.prototype.getSize=function(){return(0,n.O3)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=(0,o.Pq)(t)},t.prototype.listenImageChange=function(t){(0,n.O3)()},t.prototype.load=function(){(0,n.O3)()},t.prototype.unlistenImageChange=function(t){(0,n.O3)()},t}()},767:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}()},1219:(t,e,i)=>{"use strict";i.d(e,{J$:()=>h,yF:()=>c,Ly:()=>p,ZP:()=>d});var n=i(9797),o=i(8185),r=i(8795),s=i(767),a=i(8906),l=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=f,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=f,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function h(t){var e,i;"function"==typeof t?e=t:(Array.isArray(t)?i=t:((0,a.h)("function"==typeof t.getZIndex,41),i=[t]),e=function(){return i});return e}var u=null;function c(t,e){if(!u){var i=new o.Z({color:"rgba(255,255,255,0.4)"}),r=new s.Z({color:"#3399CC",width:1.25});u=[new l({image:new n.Z({fill:i,stroke:r,radius:5}),fill:i,stroke:r})]}return u}function p(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t[r.Z.POLYGON]=[new l({fill:new o.Z({color:[255,255,255,.5]})})],t[r.Z.MULTI_POLYGON]=t[r.Z.POLYGON],t[r.Z.LINE_STRING]=[new l({stroke:new s.Z({color:e,width:5})}),new l({stroke:new s.Z({color:i,width:3})})],t[r.Z.MULTI_LINE_STRING]=t[r.Z.LINE_STRING],t[r.Z.CIRCLE]=t[r.Z.POLYGON].concat(t[r.Z.LINE_STRING]),t[r.Z.POINT]=[new l({image:new n.Z({radius:6,fill:new o.Z({color:i}),stroke:new s.Z({color:e,width:1.5})}),zIndex:1/0})],t[r.Z.MULTI_POINT]=t[r.Z.POINT],t[r.Z.GEOMETRY_COLLECTION]=t[r.Z.POLYGON].concat(t[r.Z.LINE_STRING],t[r.Z.POINT]),t}function f(t){return t.getGeometry()}const d=l},8288:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={POINT:"point",LINE:"line"}},2359:(t,e,i)=>{"use strict";i.d(e,{Ue:()=>o,lk:()=>r,nn:()=>s,n3:()=>a,qC:()=>l,nb:()=>h,BB:()=>u});var n=i(8906);function o(){return[1,0,0,1,0,0]}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function a(t,e,i){return o=e,r=0,s=0,a=i,l=0,h=0,(n=t)[0]=o,n[1]=r,n[2]=s,n[3]=a,n[4]=l,n[5]=h,n;var n,o,r,s,a,l,h}function l(t,e,i,n,o,r,s,a){var l=Math.sin(r),h=Math.cos(r);return t[0]=n*h,t[1]=o*l,t[2]=-n*l,t[3]=o*h,t[4]=s*n*h-a*n*l+e,t[5]=s*o*l+a*o*h+i,t}function h(t,e){var i,o=(i=e)[0]*i[3]-i[1]*i[2];(0,n.h)(0!==o,32);var r=e[0],s=e[1],a=e[2],l=e[3],h=e[4],u=e[5];return t[0]=l/o,t[1]=-s/o,t[2]=-a/o,t[3]=r/o,t[4]=(a*u-l*h)/o,t[5]=-(r*u-s*h)/o,t}function u(t){return"matrix("+t.join(", ")+")"}new Array(6)},9179:(t,e,i)=>{"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}i.d(e,{O3:()=>n,sq:()=>r,q4:()=>s});var o=0;function r(t){return t.ol_uid||(t.ol_uid=String(++o))}var s="6.5.0"},2582:function(t){t.exports=function(){"use strict";function t(t,n,o,r,s){!function t(i,n,o,r,s){for(;r>o;){if(r-o>600){var a=r-o+1,l=n-o+1,h=Math.log(a),u=.5*Math.exp(2*h/3),c=.5*Math.sqrt(h*u*(a-u)/a)*(l-a/2<0?-1:1);t(i,n,Math.max(o,Math.floor(n-l*u/a+c)),Math.min(r,Math.floor(n+(a-l)*u/a+c)),s)}var p=i[n],f=o,d=r;for(e(i,o,n),s(i[r],p)>0&&e(i,o,r);f<d;){for(e(i,f,d),f++,d--;s(i[f],p)<0;)f++;for(;s(i[d],p)>0;)d--}0===s(i[o],p)?e(i,o,d):e(i,++d,r),d<=n&&(o=d+1),n<=d&&(r=d-1)}}(t,n,o||0,r||t.length-1,s||i)}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function r(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r=e;r<i;r++){var s=t.children[r];a(o,t.leaf?n(s):s)}return o}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,i,n,o,r){for(var s=[i,n];s.length;)if(!((n=s.pop())-(i=s.pop())<=o)){var a=i+Math.ceil((n-i)/o/2)*o;t(e,a,i,n,r),s.push(i,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,i=[];if(!f(t,e))return i;for(var n=this.toBBox,o=[];e;){for(var r=0;r<e.children.length;r++){var s=e.children[r],a=e.leaf?n(s):s;f(t,a)&&(e.leaf?i.push(s):p(t,a)?this._all(s,i):o.push(s))}e=o.pop()}return i},n.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var o=e.children[n],r=e.leaf?this.toBBox(o):o;if(f(t,r)){if(e.leaf||p(t,r))return!0;i.push(o)}}e=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var i,n,r,s=this.data,a=this.toBBox(t),l=[],h=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=h.pop(),r=!0),s.leaf){var u=o(t,s.children,e);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}r||s.leaf||!p(s,a)?n?(i++,s=n.children[i],r=!1):s=null:(l.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},n.prototype._build=function(t,e,i,n){var o,s=i-e+1,a=this._maxEntries;if(s<=a)return r(o=d(t.slice(e,i+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(o=d([])).leaf=!1,o.height=n;var l=Math.ceil(s/a),h=l*Math.ceil(Math.sqrt(a));_(t,e,i,h,this.compareMinX);for(var u=e;u<=i;u+=h){var c=Math.min(u+h-1,i);_(t,u,c,l,this.compareMinY);for(var p=u;p<=c;p+=l){var f=Math.min(p+l-1,c);o.children.push(this._build(t,p,f,n-1))}}return r(o,this.toBBox),o},n.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var o=1/0,r=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],h=u(l),c=(p=t,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-h);c<r?(r=c,o=h<o?h:o,s=l):c===r&&h<o&&(o=h,s=l)}e=s||e.children[0]}var p,f;return e},n.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),o=[],r=this._chooseSubtree(n,this.data,e,o);for(r.children.push(t),a(r,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},n.prototype._split=function(t,e){var i=t[e],n=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,n);var s=this._chooseSplitIndex(i,o,n),a=d(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,r(i,this.toBBox),r(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,i){for(var n,o,r,a,l,h,c,p=1/0,f=1/0,d=e;d<=i-e;d++){var _=s(t,0,d,this.toBBox),g=s(t,d,i,this.toBBox),y=(o=_,r=g,void 0,void 0,void 0,void 0,a=Math.max(o.minX,r.minX),l=Math.max(o.minY,r.minY),h=Math.min(o.maxX,r.maxX),c=Math.min(o.maxY,r.maxY),Math.max(0,h-a)*Math.max(0,c-l)),v=u(_)+u(g);y<p?(p=y,n=d,f=v<f?v:f):y===p&&v<f&&(f=v,n=d)}return n||i-e},n.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,o)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var o=this.toBBox,r=s(t,0,e,o),l=s(t,i-e,i,o),h=c(r)+c(l),u=e;u<i-e;u++){var p=t.children[u];a(r,t.leaf?o(p):p),h+=c(r)}for(var f=i-e-1;f>=e;f--){var d=t.children[f];a(l,t.leaf?o(d):d),h+=c(l)}return h},n.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)a(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},n}()},1978:(t,e,i)=>{"use strict";i.d(e,{J:()=>D,q:()=>j});var n,o=i(8493),r=i(3381),s=i(8906),a=i(3002),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const h=function(t){function e(e){var i=t.call(this)||this;if(i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addEventListener((0,o.v_)(i.geometryName_),i.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;i.setGeometry(n)}else{var r=e;i.setProperties(r)}return i}return l(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,a.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,a.oL)(t,r.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,i;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?i=e:((0,s.h)("function"==typeof e.getZIndex,41),i=[e]),function(){return i}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener((0,o.v_)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener((0,o.v_)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(o.ZP);var u=i(188);const c="bottom-center",p="bottom-right",f="center-center",d="center-right";var _=i(7644),g=i(1915),y=i(5386),v=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),m="element",x="map",E="offset",C="position",S="positioning";const O=function(t){function e(e){var i=t.call(this)||this;i.options=e,i.id=e.id,i.insertFirst=void 0===e.insertFirst||e.insertFirst,i.stopEvent=void 0===e.stopEvent||e.stopEvent,i.element=document.createElement("div"),i.element.className=void 0!==e.className?e.className:"ol-overlay-container "+_.$A,i.element.style.position="absolute",i.element.style.pointerEvents="auto";var n=e.autoPan;return n&&"object"!=typeof n&&(n={animation:e.autoPanAnimation,margin:e.autoPanMargin}),i.autoPan=n||!1,i.rendered={transform_:"",visible:!0},i.mapPostrenderListenerKey=null,i.addEventListener((0,o.v_)(m),i.handleElementChanged),i.addEventListener((0,o.v_)(x),i.handleMapChanged),i.addEventListener((0,o.v_)(E),i.handleOffsetChanged),i.addEventListener((0,o.v_)(C),i.handlePositionChanged),i.addEventListener((0,o.v_)(S),i.handlePositioningChanged),void 0!==e.element&&i.setElement(e.element),i.setOffset(void 0!==e.offset?e.offset:[0,0]),i.setPositioning(void 0!==e.positioning?e.positioning:"top-left"),void 0!==e.position&&i.setPosition(e.position),i}return v(e,t),e.prototype.getElement=function(){return this.get(m)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(x)},e.prototype.getOffset=function(){return this.get(E)},e.prototype.getPosition=function(){return this.get(C)},e.prototype.getPositioning=function(){return this.get(S)},e.prototype.handleElementChanged=function(){(0,y.ep)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,y.ZF)(this.element),(0,a.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,a.oL)(t,u.Z.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(m,t)},e.prototype.setMap=function(t){this.set(x,t)},e.prototype.setOffset=function(t){this.set(E,t)},e.prototype.setPosition=function(t){this.set(C,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get(C)){var i=this.getRect(e.getTargetElement(),e.getSize()),n=this.getElement(),o=this.getRect(n,[(0,y.iO)(n),(0,y.Pb)(n)]),r=t||{},s=void 0===r.margin?20:r.margin;if(!(0,g.r4)(i,o)){var a=o[0]-i[0],l=i[2]-o[2],h=o[1]-i[1],u=i[3]-o[3],c=[0,0];if(a<0?c[0]=a-s:l<0&&(c[0]=Math.abs(l)+s),h<0?c[1]=h-s:u<0&&(c[1]=Math.abs(u)+s),0!==c[0]||0!==c[1]){var p=e.getView().getCenterInternal(),f=e.getPixelFromCoordinateInternal(p);if(!f)return;var d=[f[0]+c[0],f[1]+c[1]],_=r.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(d),duration:_.duration,easing:_.easing})}}}},e.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(S,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,n=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var r=Math.round(t[0]+n[0])+"px",s=Math.round(t[1]+n[1])+"px",a="0%",l="0%";o==p||o==d||"top-right"==o?a="-100%":o!=c&&o!=f&&"top-center"!=o||(a="-50%"),"bottom-left"==o||o==c||o==p?l="-100%":"center-left"!=o&&o!=f&&o!=d||(l="-50%");var h="translate("+a+", "+l+") translate("+r+", "+s+")";this.rendered.transform_!=h&&(this.rendered.transform_=h,i.transform=h,i.msTransform=h)},e.prototype.getOptions=function(){return this.options},e}(o.ZP);var w=i(8185),T=i(8288),b=i(596);const I=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=(0,b.Pq)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new w.Z({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:T.Z.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=(0,b.Pq)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();var P=i(1219),R=i(9797),L=i(767),M=i(2043),A=i(1964),F=i(8795),Z=i(9882);const k={primary:"#ff1493",secondary:"#ffff00"};class D extends h{constructor({name:t,location:e,info:i=null,infoHTML:n="",color:o={}}){super({type:F.Z.POINT,geometry:new M.Z((0,A.mi)(e)),name:t}),this.popup=null,this.handleChange=t=>{switch(t.key){case"location":this.popup.setPosition((0,A.mi)(this.get("location")));break;case"info":this.popup.setElement(this.get("info"))}},this.set("location",e),this.set("info",i||function(t=""){return Object.assign(document.createElement("div"),{className:"info",innerHTML:t})}(n)),this.set("color",Object.assign(Object.assign({},k),o)),this.on("propertychange",this.handleChange),this.popup=this.initPopup()}get hasInfo(){return""!==this.popup.getElement().innerHTML.trim()}showInfo(t){this.hasInfo&&t.addOverlay(this.popup)}hideInfo(t){t.removeOverlay(this.popup)}toggleInfo(t,e){return e?this.showInfo(t):this.hideInfo(t)}toJSON(){return{name:this.get("name"),location:this.get("location"),infoHTML:(t=this.get("info").innerHTML,t.trim().replace(/\s+/g," ")),color:(0,Z.v)(this.get("color"),((t,e)=>e.toLowerCase()!==k[t]))};var t}initPopup(){return this.popup&&this.popup.dispose(),new O({element:this.get("info"),position:(0,A.mi)(this.get("location")),positioning:"center-left",offset:[22,0],autoPan:{animation:{duration:200}}})}}function j(t,e=!1){const i=t.get("color");return new P.ZP({image:new R.Z(Object.assign({radius:11,fill:new w.Z({color:e?i.secondary:i.primary})},e?{stroke:new L.Z({color:i.primary,width:3})}:{})),text:new I({text:t.get("name"),textAlign:"top",backgroundFill:new w.Z({color:"white"}),padding:[4,4,4,4],offsetY:28})})}},9882:(t,e,i)=>{"use strict";function n(t,e){return Object.entries(t).reduce(((t,[i,n])=>Object.assign(Object.assign({},t),e(i,n)?{[i]:n}:{})),{})}i.d(e,{v:()=>n})}},r={};function s(t){if(r[t])return r[t].exports;var e=r[t]={exports:{}};return o[t].call(e.exports,e,e.exports,s),e.exports}s.m=o,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,i)=>(s.f[i](t,e),e)),[])),s.u=t=>t+".js",s.miniCssF=t=>t+".css",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="map-markers:",s.l=(i,n,o,r)=>{if(t[i])t[i].push(n);else{var a,l;if(void 0!==o)for(var h=document.getElementsByTagName("script"),u=0;u<h.length;u++){var c=h[u];if(c.getAttribute("src")==i||c.getAttribute("data-webpack")==e+o){a=c;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",e+o),a.src=i),t[i]=[n];var p=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var o=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(n))),e)return e(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),i=t=>new Promise(((e,i)=>{var n=s.miniCssF(t),o=s.p+n;if(((t,e)=>{for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var o=(s=i[n]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===t||o===e))return s}var r=document.getElementsByTagName("style");for(n=0;n<r.length;n++){var s;if((o=(s=r[n]).getAttribute("data-href"))===t||o===e)return s}})(n,o))return e();((t,e,i,n)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=r=>{if(o.onerror=o.onload=null,"load"===r.type)i();else{var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,o.parentNode.removeChild(o),n(l)}},o.href=e,document.head.appendChild(o)})(t,o,e,i)})),n={179:0},s.f.miniCss=(t,e)=>{n[t]?e.push(n[t]):0!==n[t]&&{301:1}[t]&&e.push(n[t]=i(t).then((()=>{n[t]=0}),(e=>{throw delete n[t],e})))},(()=>{var t={179:0};s.f.j=(e,i)=>{var n=s.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var o=new Promise(((i,o)=>{n=t[e]=[i,o]}));i.push(n[2]=o);var r=s.p+s.u(e),a=new Error;s.l(r,(i=>{if(s.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,n[1](a)}}),"chunk-"+e,e)}};var e=(e,i)=>{for(var n,o,[r,a,l]=i,h=0,u=[];h<r.length;h++)o=r[h],s.o(t,o)&&t[o]&&u.push(t[o][0]),t[o]=0;for(n in a)s.o(a,n)&&(s.m[n]=a[n]);for(l&&l(s),e&&e(i);u.length;)u.shift()()},i=self.webpackChunkmap_markers=self.webpackChunkmap_markers||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t=s(967),e=s(4011),i=s(9179),n=s(2359),o=s(1915),r=s(8913);function a(t,e,i){return e+":"+t+":"+(i?(0,r.XC)(i):"null")}var l=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,i){var n=a(t,e,i);return n in this.cache_?this.cache_[n]:null},t.prototype.set=function(t,e,i,n){var o=a(t,e,i);this.cache_[o]=n,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}()),h=s(8493);const u="opacity",c="visible",p="extent",f="zIndex",d="maxResolution",_="minResolution",g="maxZoom",y="minZoom",v="source";var m,x=s(8906),E=s(3580),C=s(1882),S=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const O=function(t){function e(e){var i=t.call(this)||this,n=(0,E.f0)({},e);return n.opacity=void 0!==e.opacity?e.opacity:1,(0,x.h)("number"==typeof n.opacity,64),n.visible=void 0===e.visible||e.visible,n.zIndex=e.zIndex,n.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,n.minResolution=void 0!==e.minResolution?e.minResolution:0,n.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,n.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,i.className_=void 0!==n.className?e.className:"ol-layer",delete n.className,i.setProperties(n),i.state_=null,i}return S(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},i=this.getZIndex();return e.opacity=(0,C.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==i?i:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return(0,i.O3)()},e.prototype.getLayerStatesArray=function(t){return(0,i.O3)()},e.prototype.getExtent=function(){return this.get(p)},e.prototype.getMaxResolution=function(){return this.get(d)},e.prototype.getMinResolution=function(){return this.get(_)},e.prototype.getMinZoom=function(){return this.get(y)},e.prototype.getMaxZoom=function(){return this.get(g)},e.prototype.getOpacity=function(){return this.get(u)},e.prototype.getSourceState=function(){return(0,i.O3)()},e.prototype.getVisible=function(){return this.get(c)},e.prototype.getZIndex=function(){return this.get(f)},e.prototype.setExtent=function(t){this.set(p,t)},e.prototype.setMaxResolution=function(t){this.set(d,t)},e.prototype.setMinResolution=function(t){this.set(_,t)},e.prototype.setMaxZoom=function(t){this.set(g,t)},e.prototype.setMinZoom=function(t){this.set(y,t)},e.prototype.setOpacity=function(t){(0,x.h)("number"==typeof t,64),this.set(u,t)},e.prototype.setVisible=function(t){this.set(c,t)},e.prototype.setZIndex=function(t){this.set(f,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(h.ZP);var w=s(3381);const T="precompose",b="rendercomplete",I="undefined",P="ready";var R=s(3002),L=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function M(t,e){if(!t.visible)return!1;var i=e.resolution;if(i<t.minResolution||i>=t.maxResolution)return!1;var n=e.zoom;return n>t.minZoom&&n<=t.maxZoom}const A=function(t){function e(e){var i=this,n=(0,E.f0)({},e);delete n.source,(i=t.call(this,n)||this).mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,e.render&&(i.render=e.render),e.map&&i.setMap(e.map),i.addEventListener((0,h.v_)(v),i.handleSourcePropertyChange_);var o=e.source?e.source:null;return i.setSource(o),i}return L(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(v)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():I},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,R.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,R.oL)(t,w.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var i=this.getRenderer();if(i.prepareFrame(t))return i.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,R.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,R.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,R.oL)(t,T,(function(t){var e=t.frameState.layerStatesArray,i=this.getLayerState(!1);(0,x.h)(!e.some((function(t){return t.layer===i.layer})),67),e.push(i)}),this),this.mapRenderKey_=(0,R.oL)(this,w.Z.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(v,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(O);function F(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function Z(t,e){var i=Math.cos(e),n=Math.sin(e),o=t[0]*i-t[1]*n,r=t[1]*i+t[0]*n;return t[0]=o,t[1]=r,t}function k(t,e){if(e.canWrapX()){var i=(0,o.dz)(e.getExtent()),n=function(t,e,i){var n=e.getExtent(),r=0;if(e.canWrapX()&&(t[0]<n[0]||t[0]>n[2])){var s=i||(0,o.dz)(n);r=Math.floor((t[0]-n[0])/s)}return r}(t,e,i);n&&(t[0]-=n*i)}return t}var D=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function j(t,e){l.expire()}const N=function(t){function r(e){var i=t.call(this)||this;return i.map_=e,i}return D(r,t),r.prototype.dispatchRenderEvent=function(t,e){(0,i.O3)()},r.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;(0,n.qC)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,n.nb)(o,i)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,s,a,l){var h,u=e.viewState;function c(t,e,i,n){return r.call(s,e,t?i:null,n)}var p=u.projection,f=k(t.slice(),p),d=[[0,0]];if(p.canWrapX()&&n){var _=p.getExtent(),g=(0,o.dz)(_);d.push([-g,0],[g,0])}for(var y=e.layerStatesArray,v=y.length,m=[],x=[],E=0;E<d.length;E++)for(var C=v-1;C>=0;--C){var S=y[C],O=S.layer;if(O.hasRenderer()&&M(S,u)&&a.call(l,O)){var w=O.getRenderer(),T=O.getSource();if(w&&T){var b=T.getWrapX()?f:t,I=c.bind(null,S.managed);x[0]=b[0]+d[E][0],x[1]=b[1]+d[E][1],h=w.forEachFeatureAtCoordinate(x,e,i,I,m)}if(h)return h}}if(0!==m.length){var P=1/m.length;return m.forEach((function(t,e){return t.distanceSq+=e*P})),m.sort((function(t,e){return t.distanceSq-e.distanceSq})),m.some((function(t){return h=t.callback(t.feature,t.layer,t.geometry)})),h}},r.prototype.forEachLayerAtPixel=function(t,e,n,o,r){return(0,i.O3)()},r.prototype.hasFeatureAtCoordinate=function(t,i,n,o,r,s){return void 0!==this.forEachFeatureAtCoordinate(t,i,n,o,e.uX,this,r,s)},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(t){(0,i.O3)()},r.prototype.scheduleExpireIconCache=function(t){l.canExpireCache()&&t.postRenderFunctions.push(j)},r}(t.Z);var G=s(3910),z=s(9520),W=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Y=function(t){function e(e,i,n,o){var r=t.call(this,e)||this;return r.inversePixelTransform=i,r.frameState=n,r.context=o,r}return W(e,t),e}(z.ZP);var X=s(7644),K=s(8509),B=s(5386),V=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const U=function(t){function e(e){var i=t.call(this,e)||this;i.fontChangeListenerKey_=(0,R.oL)(K.sG,G.Z.PROPERTYCHANGE,e.redrawText.bind(e)),i.element_=document.createElement("div");var n=i.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",i.element_.className=X.XV+" ol-layers";var o=e.getViewport();return o.insertBefore(i.element_,o.firstChild||null),i.children_=[],i.renderedVisible_=!0,i}return V(e,t),e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();if(i.hasListener(t)){var n=new Y(t,void 0,e);i.dispatchEvent(n)}},e.prototype.disposeInternal=function(){(0,R.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(T,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),i=t.viewState;this.children_.length=0;for(var n=[],o=null,r=0,s=e.length;r<s;++r){var a=e[r];if(t.layerIndex=r,M(a,i)&&(a.sourceState==P||a.sourceState==I)){var l=a.layer,h=l.render(t,o);h&&(h!==o&&(this.children_.push(h),o=h),"getDeclutter"in l&&n.push(l))}}for(r=n.length-1;r>=0;--r)n[r].renderDeclutter(t);(0,B.hF)(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,n,o){for(var r=e.viewState,s=e.layerStatesArray,a=s.length-1;a>=0;--a){var l=s[a],h=l.layer;if(h.hasRenderer()&&M(l,r)&&o(h)){var u=h.getRenderer().getDataAtPixel(t,e,i);if(u){var c=n(h,u);if(c)return c}}}},e}(N);var q=s(8426),H=s(9629),J=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$="layers";const Q=function(t){function e(e){var i=this,n=e||{},o=(0,E.f0)({},n);delete o.layers;var r=n.layers;return(i=t.call(this,o)||this).layersListenerKeys_=[],i.listenerKeys_={},i.addEventListener((0,h.v_)($),i.handleLayersChanged_),r?Array.isArray(r)?r=new q.Z(r.slice(),{unique:!0}):(0,x.h)("function"==typeof r.getArray,43):r=new q.Z(void 0,{unique:!0}),i.setLayers(r),i}return J(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(R.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,R.oL)(t,H.Z.ADD,this.handleLayersAdd_,this),(0,R.oL)(t,H.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(R.bN);(0,E.ZH)(this.listenerKeys_);for(var n=t.getArray(),o=0,r=n.length;o<r;o++){var s=n[o];this.listenerKeys_[(0,i.sq)(s)]=[(0,R.oL)(s,G.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,R.oL)(s,w.Z.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,i.sq)(e)]=[(0,R.oL)(e,G.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,R.oL)(e,w.Z.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=(0,i.sq)(e);this.listenerKeys_[n].forEach(R.bN),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get($)},e.prototype.setLayers=function(t){this.set($,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var n=this.getLayerState(),r=i,s=e.length;r<s;r++){var a=e[r];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),a.minZoom=Math.max(a.minZoom,n.minZoom),a.maxZoom=Math.min(a.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==a.extent?a.extent=(0,o.Ed)(a.extent,n.extent):a.extent=n.extent)}return e},e.prototype.getSourceState=function(){return P},e}(O);var tt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const et=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.map=i,o.frameState=void 0!==n?n:null,o}return tt(e,t),e}(z.ZP);var it=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const nt=function(t){function e(e,i,n,o,r){var s=t.call(this,e,i,r)||this;return s.originalEvent=n,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==o&&o,s}return it(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(et);var ot=s(6575),rt=s(6);const st="pointerdown";var at=s(1358),lt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ht=function(t){function e(e,i){var n=t.call(this,e)||this;n.map_=e,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=i?i*at.MP:at.MP,n.down_=null;var o=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=o,n.pointerdownListenerKey_=(0,R.oL)(o,st,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=(0,R.oL)(o,"pointermove",n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(w.Z.TOUCHMOVE,n.boundHandleTouchMove_,!!at.bM&&{passive:!1}),n}return lt(e,t),e.prototype.emulateClick_=function(t){var e=new nt(rt.Z.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new nt(rt.Z.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new nt(rt.Z.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==rt.Z.POINTERUP||e.type==rt.Z.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==rt.Z.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new nt(rt.Z.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(R.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new nt(rt.Z.POINTERDOWN,this.map_,t);if(this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,R.oL)(i,rt.Z.POINTERMOVE,this.handlePointerMove_,this),(0,R.oL)(i,rt.Z.POINTERUP,this.handlePointerUp_,this),(0,R.oL)(this.element_,rt.Z.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push((0,R.oL)(this.element_.getRootNode(),rt.Z.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new nt(rt.Z.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new nt(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,R.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(w.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,R.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(R.bN),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(ot.Z);var ut=s(188);const ct="layergroup",pt="size",ft="target",dt="view";var _t=1/0;const gt=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,E.ZH)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},t.prototype.enqueue=function(t){(0,x.h)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=_t&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,o=e[t],r=i[t],s=t;t<n>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),h=l<n&&i[l]<i[a]?l:a;e[t]=e[h],i[t]=i[h],t=h}e[t]=o,i[t]=r,this.siftDown_(s,t)},t.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,o=i[e],r=n[e];e>t;){var s=this.getParentIndex_(e);if(!(n[s]>r))break;i[e]=i[s],n[e]=n[s],e=s}i[e]=o,n[e]=r},t.prototype.reprioritize=function(){var t,e,i,n=this.priorityFunction_,o=this.elements_,r=this.priorities_,s=0,a=o.length;for(e=0;e<a;++e)(i=n(t=o[e]))==_t?delete this.queuedElements_[this.keyFunction_(t)]:(r[s]=i,o[s++]=t);o.length=s,r.length=s,this.heapify_()},t}();var yt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const vt=function(t){function e(e,i){var n=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=i,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return yt(e,t),e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);return i&&e[0].addEventListener(w.Z.CHANGE,this.boundHandleTileChange_),i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(e.hifi&&2===i||3===i||4===i){e.removeEventListener(w.Z.CHANGE,this.boundHandleTileChange_);var n=e.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,n,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)n=(i=this.dequeue()[0]).getKey(),0!==i.getState()||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++o,i.load())},e}(gt);var mt=s(8795),xt=s(868);const Et="center",Ct="resolution",St="rotation";var Ot=s(1964);function wt(t,e,i){return function(n,o,r,s,a){if(n){var l=e?0:r[0]*o,h=e?0:r[1]*o,u=a?a[0]:0,c=a?a[1]:0,p=t[0]+l/2+u,f=t[2]-l/2+u,d=t[1]+h/2+c,_=t[3]-h/2+c;p>f&&(f=p=(f+p)/2),d>_&&(_=d=(_+d)/2);var g=(0,C.uZ)(n[0],p,f),y=(0,C.uZ)(n[1],d,_),v=30*o;return s&&i&&(g+=-v*Math.log(1+Math.max(0,p-n[0])/v)+v*Math.log(1+Math.max(0,n[0]-f)/v),y+=-v*Math.log(1+Math.max(0,d-n[1])/v)+v*Math.log(1+Math.max(0,n[1]-_)/v)),[g,y]}}}function Tt(t){return t}var bt=s(9682);function It(t,e,i,n){var r=(0,o.dz)(e)/i[0],s=(0,o.Cr)(e)/i[1];return n?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function Pt(t,e,i){var n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/t-1))/50+1),(0,C.uZ)(n,i/2,2*e)}function Rt(t,e,i,n,o){return function(r,s,a,l){if(void 0!==r){var h=n?It(t,n,a,o):t;return(void 0===i||i)&&l?Pt(r,h,e):(0,C.uZ)(r,e,h)}}}function Lt(t){return void 0!==t?0:void 0}function Mt(t){return void 0!==t?t:void 0}var At=s(6320),Ft=s(3696),Zt=s(4759);function kt(t,e,i,n,o,r,s){var a,l=t[e],h=t[e+1],u=t[i]-l,c=t[i+1]-h;if(0===u&&0===c)a=e;else{var p=((o-l)*u+(r-h)*c)/(u*u+c*c);if(p>1)a=i;else{if(p>0){for(var f=0;f<n;++f)s[f]=(0,C.t7)(t[e+f],t[i+f],p);return void(s.length=n)}a=e}}for(f=0;f<n;++f)s[f]=t[a+f];s.length=n}function Dt(t,e,i,n,o){var r=t[e],s=t[e+1];for(e+=n;e<i;e+=n){var a=t[e],l=t[e+1],h=(0,C.bI)(r,s,a,l);h>o&&(o=h),r=a,s=l}return o}function jt(t,e,i,n,o,r,s,a,l,h,u){if(e==i)return h;var c,p;if(0===o){if((p=(0,C.bI)(s,a,t[e],t[e+1]))<h){for(c=0;c<n;++c)l[c]=t[e+c];return l.length=n,p}return h}for(var f=u||[NaN,NaN],d=e+n;d<i;)if(kt(t,d-n,d,n,s,a,f),(p=(0,C.bI)(s,a,f[0],f[1]))<h){for(h=p,c=0;c<n;++c)l[c]=f[c];l.length=n,d+=n}else d+=n*Math.max((Math.sqrt(p)-Math.sqrt(h))/o|0,1);if(r&&(kt(t,i-n,e,n,s,a,f),(p=(0,C.bI)(s,a,f[0],f[1]))<h)){for(h=p,c=0;c<n;++c)l[c]=f[c];l.length=n}return h}var Nt=s(8667);function Gt(t,e){return e*Math.round(t/e)}function zt(t,e,i,n,o,r,s){if(e==i)return s;var a,l,h=Gt(t[e],o),u=Gt(t[e+1],o);e+=n,r[s++]=h,r[s++]=u;do{if(a=Gt(t[e],o),l=Gt(t[e+1],o),(e+=n)==i)return r[s++]=a,r[s++]=l,s}while(a==h&&l==u);for(;e<i;){var c=Gt(t[e],o),p=Gt(t[e+1],o);if(e+=n,c!=a||p!=l){var f=a-h,d=l-u,_=c-h,g=p-u;f*g==d*_&&(f<0&&_<f||f==_||f>0&&_>f)&&(d<0&&g<d||d==g||d>0&&g>d)?(a=c,l=p):(r[s++]=a,r[s++]=l,h=a,u=l,a=c,l=p)}}return r[s++]=a,r[s++]=l,s}function Wt(t,e,i,n,o){for(var r=void 0!==o?o:[],s=0,a=e;a<i;a+=n)r[s++]=t.slice(a,a+n);return r.length=s,r}function Yt(t,e,i,n,o){for(var r=void 0!==o?o:[],s=0,a=0,l=i.length;a<l;++a){var h=i[a];r[s++]=Wt(t,e,h,n,r[s]),e=h}return r.length=s,r}function Xt(t,e,i,n,o){for(var r=void 0!==o?o:[],s=0,a=0,l=i.length;a<l;++a){var h=i[a];r[s++]=Yt(t,e,h,n,r[s]),e=h[h.length-1]}return r.length=s,r}function Kt(t,e,i,n){for(var o=0,r=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],l=t[e+1];o+=s*a-r*l,r=a,s=l}return o/2}var Bt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Vt=function(t){function e(e,i){var n=t.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?n.setCoordinates(e,i):n.setFlatCoordinates(i,e),n}return Bt(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<(0,o.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.getArea=function(){return Kt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Wt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=function(t,e,i,n,o,r,s){var a=(i-e)/n;if(a<3){for(;e<i;e+=n)r[s++]=t[e],r[s++]=t[e+1];return s}var l=new Array(a);l[0]=1,l[a-1]=1;for(var h=[e,i-n],u=0;h.length>0;){for(var c=h.pop(),p=h.pop(),f=0,d=t[p],_=t[p+1],g=t[c],y=t[c+1],v=p+n;v<c;v+=n){var m=t[v],x=t[v+1],E=(0,C.rU)(m,x,d,_,g,y);E>f&&(u=v,f=E)}f>o&&(l[(u-e)/n]=1,p+n<u&&h.push(p,u),u+n<c&&h.push(u,c))}for(v=0;v<a;++v)l[v]&&(r[s++]=t[e+v*n],r[s++]=t[e+v*n+1]);return s}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,Ft.Z.XY)},e.prototype.getType=function(){return mt.Z.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,Nt.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Zt.ZP);var Ut=s(2043);function qt(t,e,i,n,r){return!(0,o.H6)(r,(function(o){return!Ht(t,e,i,n,o[0],o[1])}))}function Ht(t,e,i,n,o,r){for(var s=0,a=t[i-n],l=t[i-n+1];e<i;e+=n){var h=t[e],u=t[e+1];l<=r?u>r&&(h-a)*(r-l)-(o-a)*(u-l)>0&&s++:u<=r&&(h-a)*(r-l)-(o-a)*(u-l)<0&&s--,a=h,l=u}return 0!==s}function Jt(t,e,i,n,o,r){if(0===i.length)return!1;if(!Ht(t,e,i[0],n,o,r))return!1;for(var s=1,a=i.length;s<a;++s)if(Ht(t,i[s-1],i[s],n,o,r))return!1;return!0}function $t(t,e,i,n,r){var s=(0,o.qP)((0,o.lJ)(),t,e,i,n);return!!(0,o.kK)(r,s)&&(!!(0,o.r4)(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]||function(t,e,i,n,o){for(var r,s=[t[e],t[e+1]],a=[];e+n<i;e+=n){if(a[0]=t[e+n],a[1]=t[e+n+1],r=o(s,a))return r;s[0]=a[0],s[1]=a[1]}return!1}(t,e,i,n,(function(t,e){return(0,o.I7)(r,t,e)})))}function Qt(t,e,i,n){for(;e<i-n;){for(var o=0;o<n;++o){var r=t[e+o];t[e+o]=t[i-n+o],t[i-n+o]=r}e+=n,i-=n}}function te(t,e,i,n){for(var o=0,r=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],l=t[e+1];o+=(a-r)*(l+s),r=a,s=l}return 0===o?void 0:o>0}function ee(t,e,i,n,o){for(var r=void 0!==o&&o,s=0,a=i.length;s<a;++s){var l=i[s],h=te(t,e,l,n);(0===s?r&&h||!r&&!h:r&&!h||!r&&h)&&Qt(t,e,l,n),e=l}return e}var ie=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ne=function(t){function e(e,i,n){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==i&&n?(o.setFlatCoordinates(i,e),o.ends_=n):o.setCoordinates(e,i),o}return ie(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,bt.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,n){return n<(0,o.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,i,n,o){for(var r=0,s=i.length;r<s;++r){var a=i[r];o=Dt(t,e,a,n,o),e=a}return o}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,i,n,o,r,s,a,l,h,u){for(var c=u||[NaN,NaN],p=0,f=i.length;p<f;++p){var d=i[p];h=jt(t,e,d,n,o,r,s,a,l,h,c),e=d}return h}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return Jt(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,i,n){for(var o=0,r=0,s=i.length;r<s;++r){var a=i[r];o+=Kt(t,e,a,n),e=a}return o}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?ee(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Yt(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,o.qg)(this.getExtent());this.flatInteriorPoint_=function(t,e,i,n,o,r,s){for(var a,l,h,u,c,p,f,d=o[r+1],_=[],g=0,y=i.length;g<y;++g){var v=i[g];for(u=t[v-n],p=t[v-n+1],a=e;a<v;a+=n)c=t[a],f=t[a+1],(d<=p&&f<=d||p<=d&&d<=f)&&(h=(d-p)/(f-p)*(c-u)+u,_.push(h)),u=c,p=f}var m=NaN,x=-1/0;for(_.sort(bt.kK),u=_[0],a=1,l=_.length;a<l;++a){c=_[a];var E=Math.abs(c-u);E>x&&Jt(t,e,i,n,h=(u+c)/2,d)&&(m=h,x=E),u=c}return isNaN(m)&&(m=o[r]),s?(s.push(m,d,x),s):[m,d,x]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Ut.Z(this.getFlatInteriorPoint(),Ft.Z.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Vt(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],o=0,r=0,s=i.length;r<s;++r){var a=i[r],l=new Vt(e.slice(o,a),t);n.push(l),o=a}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,i,n,o){for(var r=void 0!==o&&o,s=0,a=i.length;s<a;++s){var l=i[s],h=te(t,e,l,n);if(0===s){if(r&&h||!r&&!h)return!1}else if(r&&!h||!r&&h)return!1;e=l}return!0}(t,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ee(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=function(t,e,i,n,o,r,s,a){for(var l=0,h=i.length;l<h;++l){var u=i[l];s=zt(t,e,u,n,o,r,s),a.push(s),e=u}return s}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,n),new e(i,Ft.Z.XY,n)},e.prototype.getType=function(){return mt.Z.POLYGON},e.prototype.intersectsExtent=function(t){return function(t,e,i,n,o){if(!function(t,e,i,n,o){return!!($t(t,e,i,n,o)||Ht(t,e,i,n,o[0],o[1])||Ht(t,e,i,n,o[0],o[3])||Ht(t,e,i,n,o[2],o[1])||Ht(t,e,i,n,o[2],o[3]))}(t,e,i[0],n,o))return!1;if(1===i.length)return!0;for(var r=1,s=i.length;r<s;++r)if(qt(t,i[r-1],i[r],n,o)&&!$t(t,i[r-1],i[r],n,o))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,Nt._5)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(Zt.ZP);const oe=ne;function re(t){var e=t[0],i=t[1],n=t[2],o=t[3],r=[e,i,e,o,n,o,n,i,e,i];return new ne(r,Ft.Z.XY,[r.length])}var se=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function ae(t,e){setTimeout((function(){t(e)}),0)}function le(t){return!(t.sourceCenter&&t.targetCenter&&!F(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function he(t,e,i,n,o){var r=Math.cos(-o),s=Math.sin(-o),a=t[0]*r-t[1]*s,l=t[1]*r+t[0]*s;return[(a+=(e[0]/2-i[0])*n)*r-(l+=(i[1]-e[1]/2)*n)*(s=-s),l*r+a*s]}const ue=function(t){function i(e){var i=t.call(this)||this,n=(0,E.f0)({},e);return i.hints_=[0,0],i.animations_=[],i.updateAnimationKey_,i.projection_=(0,Ot.UQ)(n.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.targetResolution_,i.targetRotation_,i.cancelAnchor_=void 0,n.center&&(n.center=(0,Ot.Vs)(n.center,i.projection_)),n.extent&&(n.extent=(0,Ot.dY)(n.extent,i.projection_)),i.applyOptions_(n),i}return se(i,t),i.prototype.applyOptions_=function(t){var e=function(t){var e,i,n,r=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,h=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=void 0!==t.showFullExtent&&t.showFullExtent,c=(0,Ot.UQ)(t.projection,"EPSG:3857"),p=c.getExtent(),f=t.constrainOnlyCenter,d=t.extent;if(l||d||!c.isGlobal()||(f=!1,d=p),void 0!==t.resolutions){var _=t.resolutions;i=_[r],n=void 0!==_[s]?_[s]:_[_.length-1],e=t.constrainResolution?function(t,e,i,n){return function(o,r,s,a){if(void 0!==o){var l=t[0],h=t[t.length-1],u=i?It(l,i,s,n):l;if(a)return void 0===e||e?Pt(o,u,h):(0,C.uZ)(o,h,u);var c=Math.min(u,o),p=Math.floor((0,bt.h7)(t,c,r));return t[p]>u&&p<t.length-1?t[p+1]:t[p]}}}(_,h,!f&&d,u):Rt(i,n,h,!f&&d,u)}else{var g=(p?Math.max((0,o.dz)(p),(0,o.Cr)(p)):360*Ot.Wm[xt.Z.DEGREES]/c.getMetersPerUnit())/256/Math.pow(2,0),y=g/Math.pow(2,28);void 0!==(i=t.maxResolution)?r=0:i=g/Math.pow(a,r),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(a,s):g/Math.pow(a,s):y),s=r+Math.floor(Math.log(i/n)/Math.log(a)),n=i/Math.pow(a,s-r),e=t.constrainResolution?function(t,e,i,n,o,r){return function(s,a,l,h){if(void 0!==s){var u=o?It(e,o,l,r):e,c=void 0!==i?i:0;if(h)return void 0===n||n?Pt(s,u,c):(0,C.uZ)(s,c,u);var p=Math.ceil(Math.log(e/u)/Math.log(t)-1e-9),f=-a*(.5-1e-9)+.5,d=Math.min(u,s),_=Math.floor(Math.log(e/d)/Math.log(t)+f),g=Math.max(p,_),y=e/Math.pow(t,g);return(0,C.uZ)(y,c,u)}}}(a,i,n,h,!f&&d,u):Rt(i,n,h,!f&&d,u)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:r,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding=t.padding,this.minZoom_=e.minZoom;var i=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return wt(t.extent,t.constrainOnlyCenter,e)}var i=(0,Ot.UQ)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&i.isGlobal()){var n=i.getExtent().slice();return n[0]=-1/0,n[2]=1/0,wt(n,!1,!1)}return Tt}(t),n=e.constraint,r=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=(0,C.Yr)(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=o?0:t:void 0}):!1===e?Mt:"number"==typeof e?(i=e,n=2*Math.PI/i,function(t,e){return e?t:void 0!==t?t=Math.floor(t/n+.5)*n:void 0}):Mt}return Lt;var i,n,o}(t);this.constraints_={center:i,resolution:n,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},i.prototype.getUpdatedOptions_=function(t){var e=(0,E.f0)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),(0,E.f0)({},e,t)},i.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),i=0;i<e.length;++i){var n=arguments[i];n.center&&((n=(0,E.f0)({},n)).center=(0,Ot.Vs)(n.center,this.getProjection())),n.anchor&&((n=(0,E.f0)({},n)).anchor=(0,Ot.Vs)(n.anchor,this.getProjection())),e[i]=n}this.animateInternal.apply(this,e)},i.prototype.animateInternal=function(t){var e,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenterInternal(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&ae(e,!0))}for(var o=Date.now(),r=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_,l=[],h=0;h<i;++h){var u=arguments[h],c={start:o,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||At.rd,callback:e};if(u.center&&(c.sourceCenter=r,c.targetCenter=u.center.slice(),r=c.targetCenter),void 0!==u.zoom?(c.sourceResolution=s,c.targetResolution=this.getResolutionForZoom(u.zoom),s=c.targetResolution):u.resolution&&(c.sourceResolution=s,c.targetResolution=u.resolution,s=c.targetResolution),void 0!==u.rotation){c.sourceRotation=a;var p=(0,C.$W)(u.rotation-a+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=a+p,a=c.targetRotation}le(c)?c.complete=!0:o+=c.duration,l.push(c)}this.animations_.push(l),this.setHint(0,1),this.updateAnimations_()},i.prototype.getAnimating=function(){return this.hints_[0]>0},i.prototype.getInteracting=function(){return this.hints_[1]>0},i.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,i=this.animations_.length;e<i;++e){var n=this.animations_[e];if(n[0].callback&&ae(n[0].callback,!1),!t)for(var o=0,r=n.length;o<r;++o){var s=n[o];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},i.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],o=!0,r=0,s=n.length;r<s;++r){var a=n[r];if(!a.complete){var l=t-a.start,h=a.duration>0?l/a.duration:1;h>=1?(a.complete=!0,h=1):o=!1;var u=a.easing(h);if(a.sourceCenter){var c=a.sourceCenter[0],p=a.sourceCenter[1],f=c+u*(a.targetCenter[0]-c),d=p+u*(a.targetCenter[1]-p);this.targetCenter_=[f,d]}if(a.sourceResolution&&a.targetResolution){var _=1===u?a.targetResolution:a.sourceResolution+u*(a.targetResolution-a.sourceResolution);if(a.anchor){var g=this.getViewportSize_(this.getRotation()),y=this.constraints_.resolution(_,0,g,!0);this.targetCenter_=this.calculateCenterZoom(y,a.anchor)}this.targetResolution_=_,this.applyTargetState_(!0)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var v=1===u?(0,C.$W)(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+u*(a.targetRotation-a.sourceRotation);if(a.anchor){var m=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(m,a.anchor)}this.targetRotation_=v}if(this.applyTargetState_(!0),e=!0,!a.complete)break}}if(o){this.animations_[i]=null,this.setHint(0,-1);var x=n[0].callback;x&&ae(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},i.prototype.calculateCenterRotate=function(t,e){var i,n,o,r=this.getCenterInternal();return void 0!==r&&(Z(i=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),o=e,(n=i)[0]+=+o[0],n[1]+=+o[1]),i},i.prototype.calculateCenterZoom=function(t,e){var i,n=this.getCenterInternal(),o=this.getResolution();return void 0!==n&&void 0!==o&&(i=[e[0]-t*(e[0]-n[0])/o,e[1]-t*(e[1]-n[1])/o]),i},i.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var i=e[0],n=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e},i.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},i.prototype.getCenter=function(){var t=this.getCenterInternal();return t?(0,Ot.lO)(t,this.getProjection()):t},i.prototype.getCenterInternal=function(){return this.get(Et)},i.prototype.getConstraints=function(){return this.constraints_},i.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},i.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},i.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return(0,Ot.Fj)(e,this.getProjection())},i.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),i=this.getCenterInternal();(0,x.h)(i,1);var n=this.getResolution();(0,x.h)(void 0!==n,2);var r=this.getRotation();return(0,x.h)(void 0!==r,3),(0,o.p8)(i,n,r,e)},i.prototype.getMaxResolution=function(){return this.maxResolution_},i.prototype.getMinResolution=function(){return this.minResolution_},i.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},i.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},i.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},i.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},i.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolution=function(){return this.get(Ct)},i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal((0,Ot.dY)(t,this.getProjection()),e)},i.prototype.getResolutionForExtentInternal=function(t,e){var i=e||this.getViewportSize_(),n=(0,o.dz)(t)/i[0],r=(0,o.Cr)(t)/i[1];return Math.max(n,r)},i.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,o=Math.log(i/n)/Math.log(e);return function(t){return i/Math.pow(e,t*o)}},i.prototype.getRotation=function(){return this.get(St)},i.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,o=Math.log(i/n)/e;return function(t){return Math.log(i/t)/e/o}},i.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),i=this.padding;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e},i.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),i=this.getRotation(),n=this.getCenterInternal(),o=this.padding;if(o){var r=this.getViewportSizeMinusPadding_();n=he(n,this.getViewportSize_(),[r[0]/2+o[3],r[1]/2+o[0]],e,i)}return{center:n.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:i,zoom:this.getZoom()}},i.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},i.prototype.getZoomForResolution=function(t){var e,i,n=this.minZoom_||0;if(this.resolutions_){var o=(0,bt.h7)(this.resolutions_,t,1);n=o,e=this.resolutions_[o],i=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)},i.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,C.uZ)(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,(0,C.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},i.prototype.fit=function(t,e){var i;if((0,x.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))(0,x.h)(!(0,o.xb)(t),25),i=re(n=(0,Ot.dY)(t,this.getProjection()));else if(t.getType()===mt.Z.CIRCLE){var n;(i=re(n=(0,Ot.dY)(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),(0,o.qg)(n))}else{var r=(0,Ot.Cs)();i=r?t.clone().transform(r,this.getProjection()):t}this.fitInternal(i,e)},i.prototype.fitInternal=function(t,i){var n=i||{},o=n.size;o||(o=this.getViewportSizeMinusPadding_());var r,s=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var l=t.getFlatCoordinates(),h=this.getRotation(),u=Math.cos(-h),c=Math.sin(-h),p=1/0,f=1/0,d=-1/0,_=-1/0,g=t.getStride(),y=0,v=l.length;y<v;y+=g){var m=l[y]*u-l[y+1]*c,x=l[y]*c+l[y+1]*u;p=Math.min(p,m),f=Math.min(f,x),d=Math.max(d,m),_=Math.max(_,x)}var E=this.getResolutionForExtentInternal([p,f,d,_],[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);E=isNaN(E)?r:Math.max(E,r),E=this.getConstrainedResolution(E,a?0:1),c=-c;var C=(p+d)/2,S=(f+_)/2,O=(C+=(s[1]-s[3])/2*E)*u-(S+=(s[0]-s[2])/2*E)*c,w=S*u+C*c,T=this.getConstrainedCenter([O,w],E),b=n.callback?n.callback:e.Zn;void 0!==n.duration?this.animateInternal({resolution:E,center:T,duration:n.duration,easing:n.easing},b):(this.targetResolution_=E,this.targetCenter_=T,this.applyTargetState_(!1,!0),ae(b,!0))},i.prototype.centerOn=function(t,e,i){this.centerOnInternal((0,Ot.Vs)(t,this.getProjection()),e,i)},i.prototype.centerOnInternal=function(t,e,i){this.setCenterInternal(he(t,e,i,this.getResolution(),this.getRotation()))},i.prototype.calculateCenterShift=function(t,e,i,n){var o,r=this.padding;if(r&&t){var s=this.getViewportSizeMinusPadding_(-i),a=he(t,n,[s[0]/2+r[3],s[1]/2+r[0]],e,i);o=[t[0]-a[0],t[1]-a[1]]}return o},i.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},i.prototype.adjustCenter=function(t){var e=(0,Ot.lO)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},i.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},i.prototype.adjustResolution=function(t,e){var i=e&&(0,Ot.Vs)(e,this.getProjection());this.adjustResolutionInternal(t,i)},i.prototype.adjustResolutionInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,n,i);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},i.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},i.prototype.adjustRotation=function(t,e){e&&(e=(0,Ot.Vs)(e,this.getProjection())),this.adjustRotationInternal(t,e)},i.prototype.adjustRotationInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(n,e)),this.targetRotation_+=t,this.applyTargetState_()},i.prototype.setCenter=function(t){this.setCenterInternal((0,Ot.Vs)(t,this.getProjection()))},i.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},i.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},i.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},i.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},i.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},i.prototype.applyTargetState_=function(t,e){var i=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(n),r=this.constraints_.resolution(this.targetResolution_,0,o,i),s=this.constraints_.center(this.targetCenter_,r,o,i,this.calculateCenterShift(this.targetCenter_,r,n,o));this.get(St)!==n&&this.set(St,n),this.get(Ct)!==r&&this.set(Ct,r),this.get(Et)&&F(this.get(Et),s)||this.set(Et,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},i.prototype.resolveConstraints=function(t,e,i){var n=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,o,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,r,s));if(0===n&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=l,void this.applyTargetState_();var h=i||(0===n?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&F(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:a,duration:n,easing:At.Vv,anchor:h}))},i.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},i.prototype.endInteraction=function(t,e,i){var n=i&&(0,Ot.Vs)(i,this.getProjection());this.endInteractionInternal(t,e,n)},i.prototype.endInteractionInternal=function(t,e,i){this.setHint(1,-1),this.resolveConstraints(t,e,i)},i.prototype.getConstrainedCenter=function(t,e){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)},i.prototype.getConstrainedZoom=function(t,e){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))},i.prototype.getConstrainedResolution=function(t,e){var i=e||0,n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,n)},i}(h.ZP);var ce=s(596),pe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const fe=function(t){function i(e){var i=t.call(this)||this,o=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,n,o,r={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Q({layers:t.layers});return r.layergroup=s,r.target=t.target,r.view=void 0!==t.view?t.view:new ue,void 0!==t.controls&&(Array.isArray(t.controls)?i=new q.Z(t.controls.slice()):((0,x.h)("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?n=new q.Z(t.interactions.slice()):((0,x.h)("function"==typeof t.interactions.getArray,48),n=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new q.Z(t.overlays.slice()):((0,x.h)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new q.Z,{controls:i,interactions:n,keyboardEventTarget:e,overlays:o,values:r}}(e);return i.boundHandleBrowserEvent_=i.handleBrowserEvent.bind(i),i.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,i.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:at.MP,i.postRenderTimeoutHandle_,i.animationDelayKey_,i.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(i),i.coordinateToPixelTransform_=(0,n.Ue)(),i.pixelToCoordinateTransform_=(0,n.Ue)(),i.frameIndex_=0,i.frameState_=null,i.previousExtent_=null,i.viewPropertyListenerKey_=null,i.viewChangeListenerKey_=null,i.layerGroupPropertyListenerKeys_=null,i.viewport_=document.createElement("div"),i.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),i.viewport_.style.position="relative",i.viewport_.style.overflow="hidden",i.viewport_.style.width="100%",i.viewport_.style.height="100%",i.overlayContainer_=document.createElement("div"),i.overlayContainer_.style.position="absolute",i.overlayContainer_.style.zIndex="0",i.overlayContainer_.style.width="100%",i.overlayContainer_.style.height="100%",i.overlayContainer_.style.pointerEvents="none",i.overlayContainer_.className="ol-overlaycontainer",i.viewport_.appendChild(i.overlayContainer_),i.overlayContainerStopEvent_=document.createElement("div"),i.overlayContainerStopEvent_.style.position="absolute",i.overlayContainerStopEvent_.style.zIndex="0",i.overlayContainerStopEvent_.style.width="100%",i.overlayContainerStopEvent_.style.height="100%",i.overlayContainerStopEvent_.style.pointerEvents="none",i.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",i.viewport_.appendChild(i.overlayContainerStopEvent_),i.mapBrowserEventHandler_=null,i.moveTolerance_=e.moveTolerance,i.keyboardEventTarget_=o.keyboardEventTarget,i.keyHandlerKeys_=null,i.controls=o.controls||new q.Z,i.interactions=o.interactions||new q.Z,i.overlays_=o.overlays,i.overlayIdIndex_={},i.renderer_=null,i.handleResize_,i.postRenderFunctions_=[],i.tileQueue_=new vt(i.getTilePriority.bind(i),i.handleTileChange_.bind(i)),i.addEventListener((0,h.v_)(ct),i.handleLayerGroupChanged_),i.addEventListener((0,h.v_)(dt),i.handleViewChanged_),i.addEventListener((0,h.v_)(pt),i.handleSizeChanged_),i.addEventListener((0,h.v_)(ft),i.handleTargetChanged_),i.setProperties(o.values),i.controls.forEach(function(t){t.setMap(this)}.bind(i)),i.controls.addEventListener(H.Z.ADD,function(t){t.element.setMap(this)}.bind(i)),i.controls.addEventListener(H.Z.REMOVE,function(t){t.element.setMap(null)}.bind(i)),i.interactions.forEach(function(t){t.setMap(this)}.bind(i)),i.interactions.addEventListener(H.Z.ADD,function(t){t.element.setMap(this)}.bind(i)),i.interactions.addEventListener(H.Z.REMOVE,function(t){t.element.setMap(null)}.bind(i)),i.overlays_.forEach(i.addOverlayInternal_.bind(i)),i.overlays_.addEventListener(H.Z.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(i)),i.overlays_.addEventListener(H.Z.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(i)),i}return pe(i,t),i.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},i.prototype.addControl=function(t){this.getControls().push(t)},i.prototype.addInteraction=function(t){this.getInteractions().push(t)},i.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},i.prototype.addOverlay=function(t){this.getOverlays().push(t)},i.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},i.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},i.prototype.forEachFeatureAtPixel=function(t,i,n){if(this.frameState_){var o=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,s=void 0!==n.layerFilter?n.layerFilter:e.uX,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,r,a,i,null,s,null)}},i.prototype.getFeaturesAtPixel=function(t,e){var i=[];return this.forEachFeatureAtPixel(t,(function(t){i.push(t)}),e),i},i.prototype.forEachLayerAtPixel=function(t,i,n){if(this.frameState_){var o=n||{},r=void 0!==o.hitTolerance?o.hitTolerance:0,s=o.layerFilter||e.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,i,s)}},i.prototype.hasFeatureAtPixel=function(t,i){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),o=void 0!==(i=void 0!==i?i:{}).layerFilter?i.layerFilter:e.uX,r=void 0!==i.hitTolerance?i.hitTolerance:0,s=!1!==i.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,s,o,null)},i.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},i.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},i.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},i.prototype.getTarget=function(){return this.get(ft)},i.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},i.prototype.getCoordinateFromPixel=function(t){return(0,Ot.lO)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},i.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?(0,n.nn)(e.pixelToCoordinateTransform,t.slice()):null},i.prototype.getControls=function(){return this.controls},i.prototype.getOverlays=function(){return this.overlays_},i.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},i.prototype.getInteractions=function(){return this.interactions},i.prototype.getLayerGroup=function(){return this.get(ct)},i.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},i.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var n=t[e].layer.getSource();if(n&&n.loading)return!0}return!1},i.prototype.getPixelFromCoordinate=function(t){var e=(0,Ot.Vs)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},i.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?(0,n.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null},i.prototype.getRenderer=function(){return this.renderer_},i.prototype.getSize=function(){return this.get(pt)},i.prototype.getView=function(){return this.get(dt)},i.prototype.getViewport=function(){return this.viewport_},i.prototype.getOverlayContainer=function(){return this.overlayContainer_},i.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},i.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},i.prototype.getTilePriority=function(t,e,i,n){return function(t,e,i,n,o){if(!t||!(i in t.wantedTiles))return _t;if(!t.wantedTiles[i][e.getKey()])return _t;var r=t.viewState.center,s=n[0]-r[0],a=n[1]-r[1];return 65536*Math.log(o)+Math.sqrt(s*s+a*a)/o}(this.frameState_,t,e,i,n)},i.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,n=new nt(i,this,t);this.handleMapBrowserEvent(n)},i.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,i=e.type;if(i===st||i===w.Z.WHEEL||i===w.Z.KEYDOWN){var n=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():n,r="host"in o?o.elementFromPoint(e.clientX,e.clientY):e.target;if(this.overlayContainerStopEvent_.contains(r)||!(o===n?n.documentElement:o).contains(r))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var s=this.getInteractions().getArray().slice(),a=s.length-1;a>=0;a--){var l=s[a];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()&&(!l.handleEvent(t)||t.propagationStopped))break}}},i.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,n=i;if(t){var o=t.viewHints;if(o[0]||o[1]){var r=!at.Tp&&Date.now()-t.time>8;i=r?0:8,n=r?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}!t||!this.hasListener(b)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(b,t);for(var s=this.postRenderFunctions_,a=0,l=s.length;a<l;++a)s[a](this,t);s.length=0},i.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},i.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)(0,R.bN)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(w.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(w.Z.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(w.Z.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,B.ZF)(this.viewport_)}if(t){for(var n in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new ht(this,this.moveTolerance_),rt.Z)this.mapBrowserEventHandler_.addEventListener(rt.Z[n],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(w.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(w.Z.WHEEL,this.boundHandleBrowserEvent_,!!at.bM&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,R.oL)(o,w.Z.KEYDOWN,this.handleBrowserEvent,this),(0,R.oL)(o,w.Z.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(w.Z.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},i.prototype.handleTileChange_=function(){this.render()},i.prototype.handleViewPropertyChanged_=function(){this.render()},i.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,R.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,R.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,R.oL)(t,G.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,R.oL)(t,w.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},i.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(R.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,R.oL)(t,G.Z.PROPERTYCHANGE,this.render,this),(0,R.oL)(t,w.Z.CHANGE,this.render,this)]),this.render()},i.prototype.isRendered=function(){return!!this.frameState_},i.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},i.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},i.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},i.prototype.removeControl=function(t){return this.getControls().remove(t)},i.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},i.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},i.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},i.prototype.renderFrame_=function(t){var e=this,i=this.getSize(),n=this.getView(),r=this.frameState_,s=null;if(void 0!==i&&(0,ce.py)(i)&&n&&n.isDef()){var a=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=n.getState();s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,o.p8)(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:l,viewHints:a,wantedTiles:{}}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!(0,o.xb)(this.previousExtent_)&&!(0,o.fS)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new et(ut.Z.MOVESTART,this,r)),this.previousExtent_=(0,o.YN)(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!(0,o.fS)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new et(ut.Z.MOVEEND,this,s)),(0,o.d9)(s.extent,this.previousExtent_))),this.dispatchEvent(new et(ut.Z.POSTRENDER,this,s)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},i.prototype.setLayerGroup=function(t){this.set(ct,t)},i.prototype.setSize=function(t){this.set(pt,t)},i.prototype.setTarget=function(t){this.set(ft,t)},i.prototype.setView=function(t){this.set(dt,t)},i.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},i.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}},i}(h.ZP);var de=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const _e=function(t){function i(e){var i=t.call(this)||this,n=e.element;return!n||e.target||n.style.pointerEvents||(n.style.pointerEvents="auto"),i.element=n||null,i.target_=null,i.map_=null,i.listenerKeys=[],e.render&&(i.render=e.render),e.target&&i.setTarget(e.target),i}return de(i,t),i.prototype.disposeInternal=function(){(0,B.ZF)(this.element),t.prototype.disposeInternal.call(this)},i.prototype.getMap=function(){return this.map_},i.prototype.setMap=function(t){this.map_&&(0,B.ZF)(this.element);for(var i=0,n=this.listenerKeys.length;i<n;++i)(0,R.bN)(this.listenerKeys[i]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==e.Zn&&this.listenerKeys.push((0,R.oL)(t,ut.Z.POSTRENDER,this.render,this)),t.render())},i.prototype.render=function(t){},i.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},i}(h.ZP);var ge=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ye=function(t){function e(e){var i=this,n=e||{};(i=t.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this).ulElement_=document.createElement("ul"),i.collapsed_=void 0===n.collapsed||n.collapsed,i.userCollapsed_=i.collapsed_,i.overrideCollapsible_=void 0!==n.collapsible,i.collapsible_=void 0===n.collapsible||n.collapsible,i.collapsible_||(i.collapsed_=!1);var o=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",s=void 0!==n.expandClassName?n.expandClassName:o+"-expand",a=void 0!==n.collapseLabel?n.collapseLabel:"»",l=void 0!==n.collapseClassName?n.collapseClassName:o+"-collpase";"string"==typeof a?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=a,i.collapseLabel_.className=l):i.collapseLabel_=a;var h=void 0!==n.label?n.label:"i";"string"==typeof h?(i.label_=document.createElement("span"),i.label_.textContent=h,i.label_.className=s):i.label_=h;var u=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=r,c.appendChild(u),c.addEventListener(w.Z.CLICK,i.handleClick_.bind(i),!1);var p=o+" "+X.XV+" "+X.hg+(i.collapsed_&&i.collapsible_?" "+X.hN:"")+(i.collapsible_?"":" ol-uncollapsible"),f=i.element;return f.className=p,f.appendChild(i.ulElement_),f.appendChild(c),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return ge(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],n=!0,o=t.layerStatesArray,r=0,s=o.length;r<s;++r){var a=o[r];if(M(a,t.viewState)){var l=a.layer.getSource();if(l){var h=l.getAttributions();if(h){var u=h(t);if(u)if(n=n&&!1!==l.getAttributionsCollapsible(),Array.isArray(u))for(var c=0,p=u.length;c<p;++c)u[c]in e||(i.push(u[c]),e[u[c]]=!0);else u in e||(i.push(u),e[u]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(n),i},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,bt.fS)(e,this.renderedAttributions_)){(0,B.ep)(this.ulElement_);for(var n=0,o=e.length;n<o;++n){var r=document.createElement("li");r.innerHTML=e[n],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(X.hN),this.collapsed_?(0,B.$H)(this.collapseLabel_,this.label_):(0,B.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(_e);var ve=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const me=function(t){function e(e){var i=this,n=e||{};i=t.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this;var o=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"⇧",s=void 0!==n.compassClassName?n.compassClassName:"ol-compass";i.label_=null,"string"==typeof r?(i.label_=document.createElement("span"),i.label_.className=s,i.label_.textContent=r):(i.label_=r,i.label_.classList.add(s));var a=n.tipLabel?n.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=a,l.appendChild(i.label_),l.addEventListener(w.Z.CLICK,i.handleClick_.bind(i),!1);var h=o+" "+X.XV+" "+X.hg,u=i.element;return u.className=h,u.appendChild(l),i.callResetNorth_=n.resetNorth?n.resetNorth:void 0,i.duration_=void 0!==n.duration?n.duration:250,i.autoHide_=void 0===n.autoHide||n.autoHide,i.rotation_=void 0,i.autoHide_&&i.element.classList.add(X.oj),i}return ve(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:At.Vv}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(X.oj);o||0!==i?o&&0!==i&&this.element.classList.remove(X.oj):this.element.classList.add(X.oj)}this.label_.style.transform=n}this.rotation_=i}},e}(_e);var xe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ee=function(t){function e(e){var i=this,n=e||{};i=t.call(this,{element:document.createElement("div"),target:n.target})||this;var o=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,s=void 0!==n.zoomInClassName?n.zoomInClassName:o+"-in",a=void 0!==n.zoomOutClassName?n.zoomOutClassName:o+"-out",l=void 0!==n.zoomInLabel?n.zoomInLabel:"+",h=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",u=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",c=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=u,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(w.Z.CLICK,i.handleClick_.bind(i,r),!1);var f=document.createElement("button");f.className=a,f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof h?document.createTextNode(h):h),f.addEventListener(w.Z.CLICK,i.handleClick_.bind(i,-r),!1);var d=o+" "+X.XV+" "+X.hg,_=i.element;return _.className=d,_.appendChild(p),_.appendChild(f),i.duration_=void 0!==n.duration?n.duration:250,i}return xe(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getZoom();if(void 0!==i){var n=e.getConstrainedZoom(i+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:n,duration:this.duration_,easing:At.Vv})):e.setZoom(n)}}},e}(_e);var Ce=s(7588),Se=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Oe=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.delta_=n.delta?n.delta:1,i.duration_=void 0!==n.duration?n.duration:250,i}return Se(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==rt.Z.DBLCLICK){var i=t.originalEvent,n=t.map,o=t.coordinate,r=i.shiftKey?-this.delta_:this.delta_,s=n.getView();(0,Ce.FW)(s,r,o,this.duration_),i.preventDefault(),e=!0}return!e},e}(Ce.ZP);var we=s(8024),Te=s(6403),be=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ie=function(t){function i(i){var n=t.call(this,{stopDown:e.Dv})||this,o=i||{};n.kinetic_=o.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var r=o.condition?o.condition:(0,Te.$6)(Te.rM,Te.Xp);return n.condition_=o.onFocusOnly?(0,Te.$6)(Te.yZ,r):r,n.noKinetic_=!1,n}return be(i,t),i.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,i,n=this.targetPointers,o=(0,we.S)(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],s=t.map.getView();e=r,i=s.getResolution(),e[0]*=i,e[1]*=i,Z(r,s.getRotation()),s.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()},i.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=i.getCenterInternal(),s=e.getPixelFromCoordinateInternal(r),a=e.getCoordinateFromPixelInternal([s[0]-n*Math.cos(o),s[1]-n*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(a),duration:500,easing:At.Vv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},i}(we.Z);var Pe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Re=function(t){function i(i){var n=this,o=i||{};return(n=t.call(this,{stopDown:e.Dv})||this).condition_=o.condition?o.condition:Te.aj,n.lastAngle_=void 0,n.duration_=void 0!==o.duration?o.duration:250,n}return Pe(i,t),i.prototype.handleDragEvent=function(t){if((0,Te.QL)(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==Lt){var n=e.getSize(),o=t.pixel,r=Math.atan2(n[1]/2-o[1],o[0]-n[0]/2);if(void 0!==this.lastAngle_){var s=r-this.lastAngle_;i.adjustRotationInternal(-s)}this.lastAngle_=r}}},i.prototype.handleUpEvent=function(t){return!(0,Te.QL)(t)||(t.map.getView().endInteraction(this.duration_),!1)},i.prototype.handleDownEvent=function(t){return!(!(0,Te.QL)(t)||!(0,Te.v8)(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},i}(we.Z);var Le=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Me=function(t){function e(e){var i=t.call(this)||this;return i.geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return Le(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(t[0],e[0])+i,n.top=Math.min(t[1],e[1])+i,n.width=Math.abs(e[0]-t[0])+i,n.height=Math.abs(e[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new oe([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(t.Z);var Ae=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fe=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.coordinate=i,o.mapBrowserEvent=n,o}return Ae(e,t),e}(z.ZP);const Ze=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.box_=new Me(n.className||"ol-dragbox"),i.minArea_=void 0!==n.minArea?n.minArea:64,n.onBoxEnd&&(i.onBoxEnd=n.onBoxEnd),i.startPixel_=null,i.condition_=n.condition?n.condition:Te.v8,i.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:i.defaultBoxEndCondition,i}return Ae(e,t),e.prototype.defaultBoxEndCondition=function(t,e,i){var n=i[0]-e[0],o=i[1]-e[1];return n*n+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Fe("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Fe(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Fe("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(we.Z);var ke=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const De=function(t){function e(e){var i=this,n=e||{},o=n.condition?n.condition:Te.vY;return(i=t.call(this,{condition:o,className:n.className||"ol-dragzoom",minArea:n.minArea})||this).duration_=void 0!==n.duration?n.duration:200,i.out_=void 0!==n.out&&n.out,i}return ke(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap(),i=e.getView(),n=e.getSize(),r=this.getGeometry().getExtent();if(this.out_){var s=i.calculateExtentInternal(n),a=(0,o.ZT)([e.getPixelFromCoordinateInternal((0,o.hC)(r)),e.getPixelFromCoordinateInternal((0,o.Xv)(r))]),l=i.getResolutionForExtentInternal(a,n);(0,o.H9)(s,1/l),r=s}var h=i.getConstrainedResolution(i.getResolutionForExtentInternal(r,n)),u=i.getConstrainedCenter((0,o.qg)(r),h);i.animateInternal({resolution:h,center:u,duration:this.duration_,easing:At.Vv})},e}(Ze);var je=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ne=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.defaultCondition_=function(t){return(0,Te.rM)(t)&&(0,Te.TN)(t)},i.condition_=void 0!==n.condition?n.condition:i.defaultCondition_,i.duration_=void 0!==n.duration?n.duration:100,i.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128,i}return je(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==w.Z.KEYDOWN){var i=t.originalEvent,n=i.keyCode;if(this.condition_(t)&&(40==n||37==n||39==n||38==n)){var o=t.map.getView(),r=o.getResolution()*this.pixelDelta_,s=0,a=0;40==n?a=-r:37==n?s=-r:39==n?s=r:a=r;var l=[s,a];Z(l,o.getRotation()),(0,Ce.Cv)(o,l,this.duration_),i.preventDefault(),e=!0}}return!e},e}(Ce.ZP);var Ge=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ze=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.condition_=n.condition?n.condition:Te.TN,i.delta_=n.delta?n.delta:1,i.duration_=void 0!==n.duration?n.duration:100,i}return Ge(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==w.Z.KEYDOWN||t.type==w.Z.KEYPRESS){var i=t.originalEvent,n=i.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var o=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,s=o.getView();(0,Ce.FW)(s,r,void 0,this.duration_),i.preventDefault(),e=!0}}return!e},e}(Ce.ZP),We=function(){function t(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;var o=this.points_[e]-this.points_[i],r=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/n,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var Ye=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xe="trackpad";const Ke=function(t){function e(e){var i=this,n=e||{};(i=t.call(this,n)||this).totalDelta_=0,i.lastDelta_=0,i.maxDelta_=void 0!==n.maxDelta?n.maxDelta:1,i.duration_=void 0!==n.duration?n.duration:250,i.timeout_=void 0!==n.timeout?n.timeout:80,i.useAnchor_=void 0===n.useAnchor||n.useAnchor,i.constrainResolution_=void 0!==n.constrainResolution&&n.constrainResolution;var o=n.condition?n.condition:Te.Bx;return i.condition_=n.onFocusOnly?(0,Te.$6)(Te.yZ,o):o,i.lastAnchor_=null,i.startTime_=void 0,i.timeoutId_,i.mode_=void 0,i.trackpadEventGap_=400,i.trackpadTimeoutId_,i.deltaPerZoom_=300,i}return Ye(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==w.Z.WHEEL)return!0;var e,i=t.map,n=t.originalEvent;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==w.Z.WHEEL&&(e=n.deltaY,at.V&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=at.MP),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?Xe:"wheel");var r=i.getView();if(this.mode_===Xe&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=e;var s=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=-(0,C.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),(0,Ce.FW)(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Ce.ZP);var Be=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ve=function(t){function i(i){var n=this,o=i||{},r=o;return r.stopDown||(r.stopDown=e.Dv),(n=t.call(this,r)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==o.threshold?o.threshold:.3,n.duration_=void 0!==o.duration?o.duration:250,n}return Be(i,t),i.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],o=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==Lt){var l=s.getViewport().getBoundingClientRect(),h=(0,we.S)(this.targetPointers);h[0]-=l.left,h[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(h),this.rotating_&&(s.render(),a.adjustRotationInternal(e,this.anchor_))}},i.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},i}(we.Z);var Ue=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const qe=function(t){function i(i){var n=this,o=i||{},r=o;return r.stopDown||(r.stopDown=e.Dv),(n=t.call(this,r)||this).anchor_=null,n.duration_=void 0!==o.duration?o.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Ue(i,t),i.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],o=i.clientX-n.clientX,r=i.clientY-n.clientY,s=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e);var h=a.getViewport().getBoundingClientRect(),u=(0,we.S)(this.targetPointers);u[0]-=h.left,u[1]-=h.top,this.anchor_=a.getCoordinateFromPixelInternal(u),a.render(),l.adjustResolutionInternal(e,this.anchor_)},i.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,i),!1}return!0},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},i}(we.Z);var He=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Je=function(t){function e(e){return(e=(0,E.f0)({},e)).controls||(e.controls=function(t){var e={},i=new q.Z;return(void 0===e.zoom||e.zoom)&&i.push(new Ee(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new me(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new ye(e.attributionOptions)),i}()),e.interactions||(e.interactions=function(t){var e={onFocusOnly:!0}||{},i=new q.Z,n=new We(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new Re),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new Oe({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new Ie({onFocusOnly:e.onFocusOnly,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new Ve),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new qe({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new Ne),i.push(new ze({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new Ke({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new De({duration:e.zoomDuration})),i}()),t.call(this,e)||this}return He(e,t),e.prototype.createRenderer=function(){return new U(this)},e}(fe);var $e=s(1273);const Qe="preload",ti="useInterimTilesOnError";var ei=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ii=function(t){function e(e){var i=this,n=e||{},o=(0,E.f0)({},n);return delete o.preload,delete o.useInterimTilesOnError,(i=t.call(this,o)||this).setPreload(void 0!==n.preload?n.preload:0),i.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),i}return ei(e,t),e.prototype.getPreload=function(){return this.get(Qe)},e.prototype.setPreload=function(t){this.set(Qe,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(ti)},e.prototype.setUseInterimTilesOnError=function(t){this.set(ti,t)},e}(A);var ni=s(1256),oi=s(6834),ri=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const si=function(t){function e(e){var i=t.call(this)||this;return i.boundHandleImageChange_=i.handleImageChange_.bind(i),i.layer_=e,i.declutterExecutorGroup=null,i}return ri(e,t),e.prototype.getFeatures=function(t){return(0,i.O3)()},e.prototype.prepareFrame=function(t){return(0,i.O3)()},e.prototype.renderFrame=function(t,e){return(0,i.O3)()},e.prototype.loadedTileCallback=function(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i},e.prototype.createLoadedTileFinder=function(t,e,i){return function(n,o){var r=this.loadedTileCallback.bind(this,i,n);return t.forEachLoadedTile(e,n,o,r)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,o){},e.prototype.getDataAtPixel=function(t,e,n){return(0,i.O3)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===ni.Z.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=ni.Z.LOADED&&e!=ni.Z.ERROR&&t.addEventListener(w.Z.CHANGE,this.boundHandleImageChange_),e==ni.Z.IDLE&&(t.load(),e=t.getState()),e==ni.Z.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==P&&t.changed()},e}(oi.Z);var ai=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const li=function(t){function e(e){var i=t.call(this,e)||this;return i.container=null,i.renderedResolution,i.tempTransform=(0,n.Ue)(),i.pixelTransform=(0,n.Ue)(),i.inversePixelTransform=(0,n.Ue)(),i.context=null,i.containerReused=!1,i}return ai(e,t),e.prototype.useContainer=function(t,e,i){var n,o,r=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===r&&(a=t.firstElementChild)instanceof HTMLCanvasElement&&(o=a.getContext("2d")),!o||0!==o.canvas.width&&o.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=o,this.containerReused=!0),!this.container){(n=document.createElement("div")).className=r;var s=n.style;s.position="absolute",s.width="100%",s.height="100%";var a=(o=(0,B.E4)()).canvas;n.appendChild(a),(s=a.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=n,this.context=o}},e.prototype.clip=function(t,e,i){var r=e.pixelRatio,s=e.size[0]*r/2,a=e.size[1]*r/2,l=e.viewState.rotation,h=(0,o.rL)(i),u=(0,o.Xv)(i),c=(0,o.w$)(i),p=(0,o.hC)(i);(0,n.nn)(e.coordinateToPixelTransform,h),(0,n.nn)(e.coordinateToPixelTransform,u),(0,n.nn)(e.coordinateToPixelTransform,c),(0,n.nn)(e.coordinateToPixelTransform,p),t.save(),(0,K.qs)(t,-l,s,a),t.beginPath(),t.moveTo(h[0]*r,h[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(c[0]*r,c[1]*r),t.lineTo(p[0]*r,p[1]*r),t.clip(),(0,K.qs)(t,l,s,a)},e.prototype.clipUnrotated=function(t,e,i){var r=(0,o.rL)(i),s=(0,o.Xv)(i),a=(0,o.w$)(i),l=(0,o.hC)(i);(0,n.nn)(e.coordinateToPixelTransform,r),(0,n.nn)(e.coordinateToPixelTransform,s),(0,n.nn)(e.coordinateToPixelTransform,a),(0,n.nn)(e.coordinateToPixelTransform,l);var h=this.inversePixelTransform;(0,n.nn)(h,r),(0,n.nn)(h,s),(0,n.nn)(h,a),(0,n.nn)(h,l),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,i){var n=this.getLayer();if(n.hasListener(t)){var o=new Y(t,this.inversePixelTransform,i,e);n.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,i,o,r,s,a){var l=r/2,h=s/2,u=o/e,c=-u,p=-t[0]+a,f=-t[1];return(0,n.qC)(this.tempTransform,l,h,u,c,-i,p,f)},e.prototype.getDataAtPixel=function(t,e,i){var r,s=(0,n.nn)(this.inversePixelTransform,t.slice()),a=this.context,l=this.getLayer().getExtent();if(l){var h=(0,n.nn)(e.pixelToCoordinateTransform,t.slice());if(!(0,o.b8)(l,h))return null}try{var u=Math.round(s[0]),c=Math.round(s[1]),p=document.createElement("canvas"),f=p.getContext("2d");p.width=1,p.height=1,f.clearRect(0,0,1,1),f.drawImage(a.canvas,u,c,1,1,0,0,1,1),r=f.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e}(si);var hi=function(){function t(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function ui(t,e,i,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=n,o):new hi(t,e,i,n)}const ci=hi;var pi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fi=function(t){function e(e){var i=t.call(this,e)||this;return i.extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=(0,o.lJ)(),i.tmpTileRange_=new ci(0,0,0,0),i}return pi(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),i=t.getState(),n=e.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!n},e.prototype.getTile=function(t,e,i,n){var o=n.pixelRatio,r=n.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,i,o,r);return 3==a.getState()&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(2)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.loadedTileCallback=function(e,i,n){return!!this.isDrawableTile(n)&&t.prototype.loadedTileCallback.call(this,e,i,n)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var r=t.layerStatesArray[t.layerIndex],s=t.viewState,a=s.projection,l=s.resolution,h=s.center,u=s.rotation,c=t.pixelRatio,p=this.getLayer(),f=p.getSource(),d=f.getRevision(),_=f.getTileGridForProjection(a),g=_.getZForResolution(l,f.zDirection),y=_.getResolution(g),v=t.extent,m=r.extent&&(0,Ot.dY)(r.extent,a);m&&(v=(0,o.Ed)(v,(0,Ot.dY)(r.extent,a)));var x=f.getTilePixelRatio(c),C=Math.round(t.size[0]*x),S=Math.round(t.size[1]*x);if(u){var O=Math.round(Math.sqrt(C*C+S*S));C=O,S=O}var w=y*C/2/x,T=y*S/2/x,b=[h[0]-w,h[1]-T,h[0]+w,h[1]+T],I=_.getTileRangeForExtentAndZ(v,g),P={};P[g]={};var R=this.createLoadedTileFinder(f,a,P),L=this.tmpExtent,M=this.tmpTileRange_;this.newTiles_=!1;for(var A=I.minX;A<=I.maxX;++A)for(var F=I.minY;F<=I.maxY;++F){var Z=this.getTile(g,A,F,t);if(this.isDrawableTile(Z)){var k=(0,i.sq)(this);if(2==Z.getState()){P[g][Z.tileCoord.toString()]=Z;var D=Z.inTransition(k);this.newTiles_||!D&&-1!==this.renderedTiles.indexOf(Z)||(this.newTiles_=!0)}if(1===Z.getAlpha(k,t.time))continue}var j=_.getTileCoordChildTileRange(Z.tileCoord,M,L),N=!1;j&&(N=R(g+1,j)),N||_.forEachTileCoordParentTileRange(Z.tileCoord,R,M,L)}var G=y/l;(0,n.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/x,1/x,u,-C/2,-S/2);var z=(0,K.QP)(this.pixelTransform);this.useContainer(e,z,r.opacity);var W=this.context,Y=W.canvas;(0,n.nb)(this.inversePixelTransform,this.pixelTransform),(0,n.qC)(this.tempTransform,C/2,S/2,G,G,0,-C/2,-S/2),Y.width!=C||Y.height!=S?(Y.width=C,Y.height=S):this.containerReused||W.clearRect(0,0,C,S),m&&this.clipUnrotated(W,t,m),(0,E.f0)(W,f.getContextOptions()),this.preRender(W,t),this.renderedTiles.length=0;var X,B,V,U=Object.keys(P).map(Number);U.sort(bt.kK),1!==r.opacity||this.containerReused&&!f.getOpaque(t.viewState.projection)?(X=[],B=[]):U=U.reverse();for(var q=U.length-1;q>=0;--q){var H=U[q],J=f.getTilePixelSize(H,c,a),$=_.getResolution(H)/y,Q=J[0]*$*G,tt=J[1]*$*G,et=_.getTileCoordForCoordAndZ((0,o.rL)(b),H),it=_.getTileCoordExtent(et),nt=(0,n.nn)(this.tempTransform,[x*(it[0]-b[0])/y,x*(b[3]-it[3])/y]),ot=x*f.getGutterForProjection(a),rt=P[H];for(var st in rt){var at=(Z=rt[st]).tileCoord,lt=nt[0]-(et[1]-at[1])*Q,ht=Math.round(lt+Q),ut=nt[1]-(et[2]-at[2])*tt,ct=Math.round(ut+tt),pt=ht-(A=Math.round(lt)),ft=ct-(F=Math.round(ut)),dt=g===H;if(!(D=dt&&1!==Z.getAlpha((0,i.sq)(this),t.time)))if(X){W.save(),V=[A,F,A+pt,F,A+pt,F+ft,A,F+ft];for(var _t=0,gt=X.length;_t<gt;++_t)if(g!==H&&H<B[_t]){var yt=X[_t];W.beginPath(),W.moveTo(V[0],V[1]),W.lineTo(V[2],V[3]),W.lineTo(V[4],V[5]),W.lineTo(V[6],V[7]),W.moveTo(yt[6],yt[7]),W.lineTo(yt[4],yt[5]),W.lineTo(yt[2],yt[3]),W.lineTo(yt[0],yt[1]),W.clip()}X.push(V),B.push(H)}else W.clearRect(A,F,pt,ft);this.drawTileImage(Z,t,A,F,pt,ft,ot,dt,r.opacity),X&&!D&&W.restore(),this.renderedTiles.push(Z),this.updateUsedTiles(t.usedTiles,f,Z)}}return this.renderedRevision=d,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!(0,o.fS)(this.renderedExtent_,b),this.renderedExtent_=b,this.renderedPixelRatio=c,this.renderedProjection=a,this.manageTilePyramid(t,f,_,c,a,v,g,p.getPreload()),this.scheduleExpireCache(t,f),this.postRender(W,t),r.extent&&W.restore(),z!==Y.style.transform&&(Y.style.transform=z),this.container},e.prototype.drawTileImage=function(t,e,n,o,r,s,a,l,h){var u=this.getTileImage(t);if(u){var c=(0,i.sq)(this),p=l?t.getAlpha(c,e.time):1,f=h*p,d=f!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,o,r,s),d&&this.context.restore(),1!==p?e.animate=!0:l&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var o=(0,i.sq)(t);o in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[o])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var o=(0,i.sq)(e);o in t||(t[o]={}),t[o][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,o,r,s,a,l,h){var u=(0,i.sq)(e);u in t.wantedTiles||(t.wantedTiles[u]={});var c,p,f,d,_,g,y=t.wantedTiles[u],v=t.tileQueue,m=0;for(g=n.getMinZoom();g<=a;++g)for(p=n.getTileRangeForExtentAndZ(s,g,p),f=n.getResolution(g),d=p.minX;d<=p.maxX;++d)for(_=p.minY;_<=p.maxY;++_)a-g<=l?(++m,0==(c=e.getTile(g,d,_,o,r)).getState()&&(y[c.getKey()]=!0,v.isKeyQueued(c.getKey())||v.enqueue([c,u,n.getTileCoordCenter(c.tileCoord),f])),void 0!==h&&h(c)):e.useTile(g,d,_,r);e.updateCacheSize(m,r)},e}(li);fi.prototype.getLayer;const di=fi;var _i=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const gi=function(t){function e(e){return t.call(this,e)||this}return _i(e,t),e.prototype.createRenderer=function(){return new di(this)},e}(ii);var yi=s(2582),vi=s.n(yi),mi=s(1219),xi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ei="renderOrder";const Ci=function(t){function e(e){var i=this,n=e||{},o=(0,E.f0)({},n);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(i=t.call(this,o)||this).declutter_=void 0!==n.declutter&&n.declutter,i.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(n.style),i.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,i.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,i}return xi(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Ei)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new(vi())(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(Ei,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:mi.yF,this.styleFunction_=null===t?void 0:(0,mi.J$)(this.style_),this.changed()},e}(A);var Si={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Oi=[Si.FILL],wi=[Si.STROKE],Ti=[Si.BEGIN_PATH],bi=[Si.CLOSE_PATH];const Ii=Si;var Pi=s(4178);const Ri=function(){function t(){}return t.prototype.drawCustom=function(t,e,i){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();var Li=s(5120),Mi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ai=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.tolerance=e,r.maxExtent=i,r.pixelRatio=o,r.maxLineWidth=0,r.resolution=n,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return Mi(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,s=r.length,a=0,l=t.length;a<l;a+=e)n[0]=t[a],n[1]=t[a+1],(0,o.b8)(i,n)&&(r[s++]=n[0],r[s++]=n[1]);return s},e.prototype.appendFlatLineCoordinates=function(t,e,i,n,r,s){var a=this.coordinates,l=a.length,h=this.getBufferedMaxExtent();s&&(e+=n);var u,c,p,f=t[e],d=t[e+1],_=this.tmpCoordinate_,g=!0;for(u=e+n;u<i;u+=n)_[0]=t[u],_[1]=t[u+1],(p=(0,o.pX)(h,_))!==c?(g&&(a[l++]=f,a[l++]=d,g=!1),a[l++]=_[0],a[l++]=_[1]):p===Pi.Z.INTERSECTING?(a[l++]=_[0],a[l++]=_[1],g=!1):g=!0,f=_[0],d=_[1],c=p;return(r&&g||u===e+n)&&(a[l++]=f,a[l++]=d),l},e.prototype.drawCustomCoordinates_=function(t,e,i,n,o){for(var r=0,s=i.length;r<s;++r){var a=i[r],l=this.appendFlatLineCoordinates(t,e,a,n,!1,!1);o.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,o,r,s,a,l=t.getType(),h=t.getStride(),u=this.coordinates.length;if(l==mt.Z.MULTI_POLYGON){n=t.getOrientedFlatCoordinates(),s=[];var c=t.getEndss();a=0;for(var p=0,f=c.length;p<f;++p){var d=[];a=this.drawCustomCoordinates_(n,a,c[p],h,d),s.push(d)}this.instructions.push([Ii.CUSTOM,u,s,t,i,Xt])}else l==mt.Z.POLYGON||l==mt.Z.MULTI_LINE_STRING?(r=[],n=l==mt.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(n,0,t.getEnds(),h,r),this.instructions.push([Ii.CUSTOM,u,r,t,i,Yt])):l==mt.Z.LINE_STRING||l==mt.Z.CIRCLE?(n=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(n,0,n.length,h,!1,!1),this.instructions.push([Ii.CUSTOM,u,o,t,i,Wt])):l==mt.Z.MULTI_POINT?(n=t.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(n,h))>u&&this.instructions.push([Ii.CUSTOM,u,o,t,i,Wt])):l==mt.Z.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),o=this.coordinates.length,this.instructions.push([Ii.CUSTOM,u,o,t,i]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Ii.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ii.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,o=e.length,r=-1;for(t=0;t<o;++t)(n=(i=e[t])[0])==Ii.END_GEOMETRY?r=t:n==Ii.BEGIN_GEOMETRY&&(i[2]=t,(0,bt.FZ)(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=(0,Li.y)(n||K.bL)}else i.fillStyle=void 0;if(e){var o=e.getColor();i.strokeStyle=(0,Li.y)(o||K.Tx);var r=e.getLineCap();i.lineCap=void 0!==r?r:K.mb;var s=e.getLineDash();i.lineDash=s?s.slice():K.X9;var a=e.getLineDashOffset();i.lineDashOffset=a||K.He;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:K.rc;var h=e.getWidth();i.lineWidth=void 0!==h?h:K.yC;var u=e.getMiterLimit();i.miterLimit=void 0!==u?u:K.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[Ii.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ii.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,o=t.lineDash,r=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||o!=t.currentLineDash&&!(0,bt.fS)(t.currentLineDash,o)||t.currentLineDashOffset!=r||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=r,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Ii.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,o.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,o.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Ri);var Fi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Zi=function(t){function e(e,i,n,o){var r=t.call(this,e,i,n,o)||this;return r.hitDetectionImage_=null,r.image_=null,r.imagePixelRatio_=void 0,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r.declutterImageWithText_=void 0,r}return Fi(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([Ii.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ii.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),o=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([Ii.DRAW_IMAGE,o,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ii.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),o=t.getHitDetectionImage(),r=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=r,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterImageWithText_=e},e}(Ai);var ki=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Di=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return ki(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,n){var o=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),s=[Ii.MOVE_TO_LINE_TO,o,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,o=i.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ti);var r=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(r,0,r.length,s),this.hitDetectionInstructions.push(wi),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,o=i.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ti);for(var r=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,h=0,u=r.length;h<u;++h)l=this.drawFlatCoordinates_(s,l,r[h],a);this.hitDetectionInstructions.push(wi),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(wi),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(wi),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Ti)},e}(Ai);var ji=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Ni=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return ji(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var o=this.state,r=void 0!==o.fillStyle,s=void 0!==o.strokeStyle,a=i.length;this.instructions.push(Ti),this.hitDetectionInstructions.push(Ti);for(var l=0;l<a;++l){var h=i[l],u=this.coordinates.length,c=this.appendFlatLineCoordinates(t,e,h,n,!0,!s),p=[Ii.MOVE_TO_LINE_TO,u,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(bi),this.hitDetectionInstructions.push(bi)),e=h}return r&&(this.instructions.push(Oi),this.hitDetectionInstructions.push(Oi)),s&&(this.instructions.push(wi),this.hitDetectionInstructions.push(wi)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ii.SET_FILL_STYLE,K.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var r=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,s,!1,!1);var l=[Ii.CIRCLE,a];this.instructions.push(Ti,l),this.hitDetectionInstructions.push(Ti,l),void 0!==i.fillStyle&&(this.instructions.push(Oi),this.hitDetectionInstructions.push(Oi)),void 0!==i.strokeStyle&&(this.instructions.push(wi),this.hitDetectionInstructions.push(wi)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ii.SET_FILL_STYLE,K.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var r=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,r,a),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,o=i.strokeStyle;if(void 0!==n||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ii.SET_FILL_STYLE,K.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ii.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var r=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,h=0,u=r.length;h<u;++h)l=this.drawFlatCoordinatess_(s,l,r[h],a);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,n=0,o=i.length;n<o;++n)i[n]=Gt(i[n],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Ai);var Gi=s(8288);function zi(t,e,i,n,o){var r,s,a,l,h,u,c,p,f,d=i,_=i,g=0,y=0,v=i;for(r=i;r<n;r+=o){var m=e[r],x=e[r+1];void 0!==l&&(p=m-l,f=x-h,a=Math.sqrt(p*p+f*f),void 0!==u&&(y+=s,Math.acos((u*p+c*f)/(s*a))>t&&(y>g&&(g=y,d=v,_=r),y=0,v=r-o)),s=a,u=p,c=f),l=m,h=x}return(y+=a)>g?[v,r]:[d,_]}var Wi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yi={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Xi={Circle:Ni,Default:Ai,Image:Zi,LineString:Di,Polygon:Ni,Text:function(t){function e(e,i,n,o){var r=t.call(this,e,i,n,o)||this;return r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",r.declutterImageWithText_=void 0,r}return Wi(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var s=this.coordinates,a=s.length,l=t.getType(),h=null,u=t.getStride();if(r.placement!==Gi.Z.LINE||l!=mt.Z.LINE_STRING&&l!=mt.Z.MULTI_LINE_STRING&&l!=mt.Z.POLYGON&&l!=mt.Z.MULTI_POLYGON){var c=r.overflow?null:[];switch(l){case mt.Z.POINT:case mt.Z.MULTI_POINT:h=t.getFlatCoordinates();break;case mt.Z.LINE_STRING:h=t.getFlatMidpoint();break;case mt.Z.CIRCLE:h=t.getCenter();break;case mt.Z.MULTI_LINE_STRING:h=t.getFlatMidpoints(),u=2;break;case mt.Z.POLYGON:h=t.getFlatInteriorPoint(),r.overflow||c.push(h[2]/this.resolution),u=3;break;case mt.Z.MULTI_POLYGON:var p=t.getFlatInteriorPoints();for(h=[],C=0,S=p.length;C<S;C+=3)r.overflow||c.push(p[C+2]/this.resolution),h.push(p[C],p[C+1]);if(0===h.length)return;u=2}if((R=this.appendFlatPointCoordinates(h,u))===a)return;this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var f=r.padding;if(f!=K.oB&&(r.scale[0]<0||r.scale[1]<0)){var d=r.padding[0],_=r.padding[1],g=r.padding[2],y=r.padding[3];r.scale[0]<0&&(_=-_,y=-y),r.scale[1]<0&&(d=-d,g=-g),f=[d,_,g,y]}var v=this.pixelRatio;this.instructions.push([Ii.DRAW_IMAGE,a,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,f==K.oB?K.oB:f.map((function(t){return t*v})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var m=1/v;this.hitDetectionInstructions.push([Ii.DRAW_IMAGE,a,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,this.declutterImageWithText_,f,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!(0,o.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var x=void 0;if(h=t.getFlatCoordinates(),l==mt.Z.LINE_STRING)x=[h.length];else if(l==mt.Z.MULTI_LINE_STRING)x=t.getEnds();else if(l==mt.Z.POLYGON)x=t.getEnds().slice(0,1);else if(l==mt.Z.MULTI_POLYGON){var E=t.getEndss();x=[];for(var C=0,S=E.length;C<S;++C)x.push(E[C][0])}this.beginGeometry(t,e);for(var O=r.textAlign,w=0,T=void 0,b=0,I=x.length;b<I;++b){if(null==O){var P=zi(r.maxAngle,h,w,x[b],u);w=P[0],T=P[1]}else T=x[b];for(C=w;C<T;C+=u)s.push(h[C],h[C+1]);var R=s.length;w=x[b],this.drawChars_(a,R),a=R}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||K.PH,textBaseline:e.textBaseline||K.ru,scale:e.scale});var r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,n=this.textState_,o=this.strokeKey_,r=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,l=Yi[n.textBaseline],h=this.textOffsetY_*a,u=this.text_,c=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([Ii.DRAW_CHARS,t,e,l,n.overflow,s,n.maxAngle,a,h,o,c*a,u,r,1]),this.hitDetectionInstructions.push([Ii.DRAW_CHARS,t,e,l,n.overflow,s,n.maxAngle,1,h,o,c,u,r,1/a])},e.prototype.setTextStyle=function(t,e){var n,o,r;if(t){var s=t.getFill();s?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=(0,Li.y)(s.getColor()||K.bL)):(o=null,this.textFillState_=o);var a=t.getStroke();if(a){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var l=a.getLineDash(),h=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();r.lineCap=a.getLineCap()||K.mb,r.lineDash=l?l.slice():K.X9,r.lineDashOffset=void 0===h?K.He:h,r.lineJoin=a.getLineJoin()||K.rc,r.lineWidth=void 0===u?K.yC:u,r.miterLimit=void 0===c?K.V4:c,r.strokeStyle=(0,Li.y)(a.getColor()||K.Tx)}else r=null,this.textStrokeState_=r;n=this.textState_;var p=t.getFont()||K.Df;(0,K.Qx)(p);var f=t.getScaleArray();n.overflow=t.getOverflow(),n.font=p,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||K.ru,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||K.oB,n.scale=void 0===f?[1,1]:f;var d=t.getOffsetX(),_=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===_?0:_,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===y?0:y,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,i.sq)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,i.sq)(o.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Ai)};const Ki=function(){function t(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var n in i){var o=i[n].finish();t[e][n]=o}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);var o=n[e];return void 0===o&&(o=new(0,Xi[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=o),o},t}(),Bi="Circle",Vi="Default",Ui="Image",qi="LineString",Hi="Polygon",Ji="Text";var $i=s(7882);function Qi(t,e,i,n,o,r,s,a,l,h,u,c){var p=t[e],f=t[e+1],d=0,_=0,g=0,y=0;function v(){d=p,_=f,p=t[e+=n],f=t[e+1],y+=g,g=Math.sqrt((p-d)*(p-d)+(f-_)*(f-_))}do{v()}while(e<i-n&&y+g<r);for(var m=(r-y)/g,x=(0,C.t7)(d,p,m),E=(0,C.t7)(_,f,m),S=e-n,O=y,w=r+a*l(h,o,u);e<i-n&&y+g<w;)v();m=(w-y)/g;var T,b=(0,C.t7)(d,p,m),I=(0,C.t7)(_,f,m);if(c){var P=[x,E,b,I];(0,$i.U1)(P,0,4,2,c,P,P),T=P[0]>P[2]}else T=x>b;var R,L=Math.PI,M=[],A=S+n===e;if(g=0,y=O,p=t[e=S],f=t[e+1],A){v();var F=Math.atan2(f-_,p-d);T&&(F+=F>0?-L:L);var Z=(b+x)/2,k=(I+E)/2;return M[0]=[Z,k,(w-r)/2,F,o],M}for(var D=0,j=o.length;D<j;){v();var N=Math.atan2(f-_,p-d);if(T&&(N+=N>0?-L:L),void 0!==R){var G=N-R;if(G+=G>L?-2*L:G<-L?2*L:0,Math.abs(G)>s)return null}R=N;for(var z=D,W=0;D<j;++D){var Y=a*l(h,o[T?j-D-1:D],u);if(e+n<i&&y+g<r+W+Y/2)break;W+=Y}if(D!==z){var X=T?o.substring(j-z,j-D):o.substring(z,D);m=(r+W/2-y)/g,Z=(0,C.t7)(d,p,m),k=(0,C.t7)(_,f,m),M.push([Z,k,W/2,N,X]),r+=W}}return M}function tn(t,e,i,n){for(var o=t[e],r=t[e+1],s=0,a=e+n;a<i;a+=n){var l=t[a],h=t[a+1];s+=Math.sqrt((l-o)*(l-o)+(h-r)*(h-r)),o=l,r=h}return s}var en=(0,o.lJ)(),nn=[],on=[],rn=[],sn=[];function an(t){return t[3].declutterBox}var ln=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function hn(t,e){return"start"!==e&&"end"!==e||ln.test(t)||(e="start"===e?"left":"right"),Yi[e]}const un=function(){function t(t,e,i,o,r){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderBuffer_=r,this.renderedTransform_=(0,n.Ue)(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,n){var o=t+e+i+n;if(this.labels_[o])return this.labels_[o];var r=n?this.strokeStates[n]:null,s=i?this.fillStates[i]:null,a=this.textStates[e],l=this.pixelRatio,h=[a.scale[0]*l,a.scale[1]*l],u=hn(t,a.textAlign||K.PH),c=n&&r.lineWidth?r.lineWidth:0,p=t.split("\n"),f=p.length,d=[],_=(0,K.gs)(a.font,p,d),g=(0,K.fk)(a.font),y=_+c,v=[],m=(y+2)*h[0],x=(g*f+c)*h[1],E={width:m<0?Math.floor(m):Math.ceil(m),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:v};1==h[0]&&1==h[1]||v.push("scale",h),v.push("font",a.font),n&&(v.push("strokeStyle",r.strokeStyle),v.push("lineWidth",c),v.push("lineCap",r.lineCap),v.push("lineJoin",r.lineJoin),v.push("miterLimit",r.miterLimit),(at.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(v.push("setLineDash",[r.lineDash]),v.push("lineDashOffset",r.lineDashOffset))),i&&v.push("fillStyle",s.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");var C,S=.5-u,O=u*y+S*c;if(n)for(C=0;C<f;++C)v.push("strokeText",[p[C],O+S*d[C],.5*(c+g)+C*g]);if(i)for(C=0;C<f;++C)v.push("fillText",[p[C],O+S*d[C],.5*(c+g)+C*g]);return this.labels_[o]=E,E},t.prototype.replayTextBackground_=function(t,e,i,n,o,r,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,o),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,r,s,a,l,h,u,c,p,f,d,_,g,y){var v,m=i-(l*=f[0]),x=r-(h*=f[1]),E=s+u>t?t-u:s,C=a+c>e?e-c:a,S=_[3]+E*f[0]+_[1],O=_[0]+C*f[1]+_[2],w=m-_[3],T=x-_[0];return(g||0!==p)&&(nn[0]=w,sn[0]=w,nn[1]=T,on[1]=T,on[0]=w+S,rn[0]=on[0],rn[1]=T+O,sn[1]=rn[1]),0!==p?(v=(0,n.qC)((0,n.Ue)(),i,r,1,1,p,-i,-r),(0,n.nn)(v,nn),(0,n.nn)(v,on),(0,n.nn)(v,rn),(0,n.nn)(v,sn),(0,o.T9)(Math.min(nn[0],on[0],rn[0],sn[0]),Math.min(nn[1],on[1],rn[1],sn[1]),Math.max(nn[0],on[0],rn[0],sn[0]),Math.max(nn[1],on[1],rn[1],sn[1]),en)):(0,o.T9)(Math.min(w,w+S),Math.min(T,T+O),Math.max(w,w+S),Math.max(T,T+O),en),d&&(m=Math.round(m),x=Math.round(x)),{drawImageX:m,drawImageY:x,drawImageW:E,drawImageH:C,originX:u,originY:c,declutterBox:{minX:en[0],minY:en[1],maxX:en[2],maxY:en[3],value:y},canvasTransform:v,scale:f}},t.prototype.replayImageOrLabel_=function(t,e,i,n,o,r,s){var a=!(!r&&!s),l=n.declutterBox,h=t.canvas,u=s?s[2]*n.scale[0]/2:0;return l.minX-u<=h.width/e&&l.maxX+u>=0&&l.minY-u<=h.height/e&&l.maxY+u>=0&&(a&&this.replayTextBackground_(t,nn,on,rn,sn,r,s),(0,K._f)(t,n.canvasTransform,o,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=(0,n.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,n){var o=this.textStates[e],r=this.createLabel(t,e,n,i),s=this.strokeStates[i],a=this.pixelRatio,l=hn(t,o.textAlign||K.PH),h=Yi[o.textBaseline||K.ru],u=s&&s.lineWidth?s.lineWidth:0;return{label:r,anchorX:l*(r.width/a-2*o.scale[0])+2*(.5-l)*u,anchorY:h*r.height/a+2*(.5-h)*u}},t.prototype.execute_=function(t,e,i,r,s,a,l,h){var u;this.pixelCoordinates_&&(0,bt.fS)(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=(0,$i.vT)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(0,n.lk)(this.renderedTransform_,i));for(var c,p,f,d,_,g,y,v,m,x,E,C,S,O,w,T,b=0,I=r.length,P=0,R=0,L=0,M=null,A=null,F=this.coordinateCache_,Z=this.viewRotation_,k=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,D={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Z},j=this.instructions!=r||this.overlaps?0:200;b<I;){var N=r[b];switch(N[0]){case Ii.BEGIN_GEOMETRY:S=N[1],T=N[3],S.getGeometry()?void 0===l||(0,o.kK)(l,T.getExtent())?++b:b=N[2]+1:b=N[2];break;case Ii.BEGIN_PATH:R>j&&(this.fill_(t),R=0),L>j&&(t.stroke(),L=0),R||L||(t.beginPath(),d=NaN,_=NaN),++b;break;case Ii.CIRCLE:var G=u[P=N[1]],z=u[P+1],W=u[P+2]-G,Y=u[P+3]-z,X=Math.sqrt(W*W+Y*Y);t.moveTo(G+X,z),t.arc(G,z,X,0,2*Math.PI,!0),++b;break;case Ii.CLOSE_PATH:t.closePath(),++b;break;case Ii.CUSTOM:P=N[1],c=N[2];var B=N[3],V=N[4],U=6==N.length?N[5]:void 0;D.geometry=B,D.feature=S,b in F||(F[b]=[]);var q=F[b];U?U(u,P,c,2,q):(q[0]=u[P],q[1]=u[P+1],q.length=2),V(q,D),++b;break;case Ii.DRAW_IMAGE:P=N[1],c=N[2],v=N[3],p=N[4],f=N[5];var H=N[6],J=N[7],$=N[8],Q=N[9],tt=N[10],et=N[11],it=N[12],nt=N[13],ot=N[14];if(!v&&N.length>=19){m=N[18],x=N[19],E=N[20],C=N[21];var rt=this.drawLabelWithPointPlacement_(m,x,E,C);v=rt.label,N[3]=v;var st=N[22];p=(rt.anchorX-st)*this.pixelRatio,N[4]=p;var at=N[23];f=(rt.anchorY-at)*this.pixelRatio,N[5]=f,H=v.height,N[6]=H,nt=v.width,N[13]=nt}var lt=void 0;N.length>24&&(lt=N[24]);var ht=void 0,ut=void 0,ct=void 0;N.length>16?(ht=N[15],ut=N[16],ct=N[17]):(ht=K.oB,ut=!1,ct=!1),tt&&k?et+=Z:tt||k||(et-=Z);for(var pt=0;P<c;P+=2)if(!(lt&&lt[pt++]<nt/this.pixelRatio)){var ft=[t,e,v,Gt=this.calculateImageOrLabelDimensions_(v.width,v.height,u[P],u[P+1],nt,H,p,f,$,Q,et,it,s,ht,ut||ct,S),J,ut?M:null,ct?A:null],dt=void 0,_t=void 0;if(h&&ot){if(!ot[P]){ot[P]=ft;continue}if(dt=ot[P],delete ot[P],_t=an(dt),h.collides(_t))continue}h&&h.collides(Gt.declutterBox)||(dt&&(h&&h.insert(_t),this.replayImageOrLabel_.apply(this,dt)),h&&h.insert(Gt.declutterBox),this.replayImageOrLabel_.apply(this,ft))}++b;break;case Ii.DRAW_CHARS:var gt=N[1],yt=N[2],vt=N[3],mt=N[4];C=N[5];var xt=N[6],Et=N[7],Ct=N[8];E=N[9];var St=N[10];m=N[11],x=N[12];var Ot=[N[13],N[13]],wt=this.textStates[x],Tt=wt.font,It=[wt.scale[0]*Et,wt.scale[1]*Et],Pt=void 0;Tt in this.widths_?Pt=this.widths_[Tt]:(Pt={},this.widths_[Tt]=Pt);var Rt=tn(u,gt,yt,2),Lt=Math.abs(It[0])*(0,K.Kd)(Tt,m,Pt);if(mt||Lt<=Rt){var Mt=this.textStates[x].textAlign,At=Qi(u,gt,yt,2,m,(Rt-Lt)*Yi[Mt],xt,Math.abs(It[0]),K.Kd,Tt,Pt,k?0:this.viewRotation_);t:if(At){var Ft=[],Zt=void 0,kt=void 0,Dt=void 0,jt=void 0,Nt=void 0;if(E)for(Zt=0,kt=At.length;Zt<kt;++Zt){Dt=(Nt=At[Zt])[4],jt=this.createLabel(Dt,x,"",E),p=Nt[2]+(It[0]<0?-St:St),f=vt*jt.height+2*(.5-vt)*St*It[1]/It[0]-Ct;var Gt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Nt[0],Nt[1],jt.width,jt.height,p,f,0,0,Nt[3],Ot,!1,K.oB,!1,S);if(h&&h.collides(Gt.declutterBox))break t;Ft.push([t,e,jt,Gt,1,null,null])}if(C)for(Zt=0,kt=At.length;Zt<kt;++Zt){if(Dt=(Nt=At[Zt])[4],jt=this.createLabel(Dt,x,C,""),p=Nt[2],f=vt*jt.height-Ct,Gt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Nt[0],Nt[1],jt.width,jt.height,p,f,0,0,Nt[3],Ot,!1,K.oB,!1,S),h&&h.collides(Gt.declutterBox))break t;Ft.push([t,e,jt,Gt,1,null,null])}h&&h.load(Ft.map(an));for(var zt=0,Wt=Ft.length;zt<Wt;++zt)this.replayImageOrLabel_.apply(this,Ft[zt])}}++b;break;case Ii.END_GEOMETRY:if(void 0!==a){var Yt=a(S=N[1],T);if(Yt)return Yt}++b;break;case Ii.FILL:j?R++:this.fill_(t),++b;break;case Ii.MOVE_TO_LINE_TO:for(P=N[1],c=N[2],O=u[P],y=(w=u[P+1])+.5|0,(g=O+.5|0)===d&&y===_||(t.moveTo(O,w),d=g,_=y),P+=2;P<c;P+=2)g=(O=u[P])+.5|0,y=(w=u[P+1])+.5|0,P!=c-2&&g===d&&y===_||(t.lineTo(O,w),d=g,_=y);++b;break;case Ii.SET_FILL_STYLE:M=N,this.alignFill_=N[2],R&&(this.fill_(t),R=0,L&&(t.stroke(),L=0)),t.fillStyle=N[1],++b;break;case Ii.SET_STROKE_STYLE:A=N,L&&(t.stroke(),L=0),this.setStrokeStyle_(t,N),++b;break;case Ii.STROKE:j?L++:t.stroke(),++b;break;default:++b}}R&&this.fill_(t),L&&t.stroke()},t.prototype.execute=function(t,e,i,n,o,r){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,o,void 0,void 0,r)},t.prototype.executeHitDetection=function(t,e,i,n,o){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,o)},t}();var cn=[Hi,Bi,qi,Ui,Ji,Vi],pn=function(){function t(t,e,i,o,r,s){this.maxExtent_=t,this.overlaps_=o,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,n.Ue)(),this.createExecutors_(r)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var n=t[e],o=[this.renderBuffer_||0,this.renderBuffer_||0];for(var r in n){var s=n[r];i[r]=new un(this.resolution_,this.pixelRatio_,this.overlaps_,s,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],n=0,o=t.length;n<o;++n)if(t[n]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,s,a){var l=2*(r=Math.round(r))+1,h=(0,n.qC)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=(0,B.E4)(l,l));var c,p=this.hitDetectionContext_;p.canvas.width!==l||p.canvas.height!==l?(p.canvas.width=l,p.canvas.height=l):u||p.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(c=(0,o.lJ)(),(0,o.Wj)(c,t),(0,o.f3)(c,e*(this.renderBuffer_+r),c));var f,d=function(t){if(void 0!==fn[t])return fn[t];for(var e=2*t+1,i=t*t,n=new Array(i+1),o=0;o<=t;++o)for(var r=0;r<=t;++r){var s=o*o+r*r;if(s>i)break;var a=n[s];a||(a=[],n[s]=a),a.push(4*((t+o)*e+(t+r))+3),o>0&&a.push(4*((t-o)*e+(t+r))+3),r>0&&(a.push(4*((t+o)*e+(t-r))+3),o>0&&a.push(4*((t-o)*e+(t-r))+3))}for(var l=[],h=(o=0,n.length);o<h;++o)n[o]&&l.push.apply(l,n[o]);return fn[t]=l,l}(r);function _(t,e){for(var i=p.getImageData(0,0,l,l).data,n=0,o=d.length;n<o;n++)if(i[d[n]]>0){if(!a||f!==Ui&&f!==Ji||-1!==a.indexOf(t)){var h=(d[n]-3)/4,u=r-h%l,c=r-(h/l|0),_=s(t,e,u*u+c*c);if(_)return _}p.clearRect(0,0,l,l);break}}var g,y,v,m,x,E=Object.keys(this.executorsByZIndex_).map(Number);for(E.sort(bt.kK),g=E.length-1;g>=0;--g){var C=E[g].toString();for(v=this.executorsByZIndex_[C],y=cn.length-1;y>=0;--y)if(void 0!==(m=v[f=cn[y]])&&(x=m.executeHitDetection(p,h,i,_,c)))return x}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],n=e[1],o=e[2],r=e[3],s=[i,n,i,r,o,r,o,n];return(0,$i.vT)(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return(0,E.xb)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,n,o,r,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(bt.kK),this.maxExtent_&&(t.save(),this.clip(t,i));var l,h,u,c,p,f,d=r||cn;for(s&&a.reverse(),l=0,h=a.length;l<h;++l){var _=a[l].toString();for(p=this.executorsByZIndex_[_],u=0,c=d.length;u<c;++u)void 0!==(f=p[d[u]])&&f.execute(t,e,i,n,o,s)}this.maxExtent_&&t.restore()},t}(),fn={};const dn=pn;var _n=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const gn=function(t){function e(e,i,o,r,s,a,l){var h=t.call(this)||this;return h.context_=e,h.pixelRatio_=i,h.extent_=o,h.transform_=r,h.viewRotation_=s,h.squaredTolerance_=a,h.userTransform_=l,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=(0,n.Ue)(),h}return _n(e,t),e.prototype.drawImages_=function(t,e,i,o){if(this.image_){var r=(0,$i.vT)(t,e,i,2,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var u=0,c=r.length;u<c;u+=2){var p=r[u]-this.imageAnchorX_,f=r[u+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var d=p+this.imageAnchorX_,_=f+this.imageAnchorY_;(0,n.qC)(a,d,_,1,1,h,-d,-_),s.setTransform.apply(s,a),s.translate(d,_),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},e.prototype.drawText_=function(t,e,i,o){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=(0,$i.vT)(t,e,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=o){var l=r[e]+this.textOffsetX_,h=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=(0,n.qC)(this.tmpLocalTransform_,l,h,1,1,a,-l,-h);s.setTransform.apply(s,u),s.translate(l,h),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,h),this.textFillState_&&s.fillText(this.text_,l,h)}}},e.prototype.moveToLineTo_=function(t,e,i,n,o){var r=this.context_,s=(0,$i.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);var a=s.length;o&&(a-=2);for(var l=2;l<a;l+=2)r.lineTo(s[l],s[l+1]);return o&&r.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var o=0,r=i.length;o<r;++o)e=this.moveToLineTo_(t,e,i[o],n,!0);return e},e.prototype.drawCircle=function(t){if((0,o.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,Zt.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case mt.Z.POINT:this.drawPoint(t);break;case mt.Z.LINE_STRING:this.drawLineString(t);break;case mt.Z.POLYGON:this.drawPolygon(t);break;case mt.Z.MULTI_POINT:this.drawMultiPoint(t);break;case mt.Z.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case mt.Z.MULTI_POLYGON:this.drawMultiPolygon(t);break;case mt.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case mt.Z.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&(0,o.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,o.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,s=t.getEnds(),a=t.getStride();i.beginPath();for(var l=0,h=s.length;l<h;++l)r=this.moveToLineTo_(n,r,s[l],a,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),s=t.getStride();e.beginPath();for(var a=0,l=r.length;a<l;++a){var h=r[a];n=this.drawRings_(i,n,h,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,bt.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:K.PH;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:(0,Li.y)(i||K.bL)}}else this.fillState_=null;if(e){var n=e.getColor(),o=e.getLineCap(),r=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:K.mb,lineDash:r||K.X9,lineDashOffset:s||K.He,lineJoin:void 0!==a?a:K.rc,lineWidth:this.pixelRatio_*(void 0!==l?l:K.yC),miterLimit:void 0!==h?h:K.V4,strokeStyle:(0,Li.y)(n||K.Tx)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getSize();if(e){var i=t.getAnchor(),n=t.getImage(1),o=t.getOrigin(),r=t.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=e[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*r[0],this.pixelRatio_*r[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:(0,Li.y)(i||K.bL)}}else this.textFillState_=null;var n=t.getStroke();if(n){var o=n.getColor(),r=n.getLineCap(),s=n.getLineDash(),a=n.getLineDashOffset(),l=n.getLineJoin(),h=n.getWidth(),u=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:K.mb,lineDash:s||K.X9,lineDashOffset:a||K.He,lineJoin:void 0!==l?l:K.rc,lineWidth:void 0!==h?h:K.yC,miterLimit:void 0!==u?u:K.V4,strokeStyle:(0,Li.y)(o||K.Tx)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),_=t.getRotation(),g=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==c?c:K.Df,textAlign:void 0!==v?v:K.PH,textBaseline:void 0!==m?m:K.ru},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==_?_:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""},e}(Ri),yn="fraction",vn="pixels",mn="bottom-left",xn="bottom-right",En="top-left",Cn="top-right";var Sn=s(8039),On=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const wn=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=n,r.resolution=i,r.state=o,r}return On(e,t),e.prototype.changed=function(){this.dispatchEvent(w.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,i.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,i.O3)()},e}(ot.Z);var Tn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function bn(t,e,i){var n=t;if(n.src&&at.Tp){var o=n.decode(),r=!0;return o.then((function(){r&&e()})).catch((function(t){r&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():i())})),function(){r=!1}}var s=[(0,R.Vx)(n,w.Z.LOAD,e),(0,R.Vx)(n,w.Z.ERROR,i)];return function(){s.forEach(R.bN)}}!function(t){function e(e,i,n,o,r,s){var a=t.call(this,e,i,n,ni.Z.IDLE)||this;return a.src_=o,a.image_=new Image,null!==r&&(a.image_.crossOrigin=r),a.unlisten_=null,a.state=ni.Z.IDLE,a.imageLoadFunction_=s,a}Tn(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ni.Z.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,o.Cr)(this.extent)/this.image_.height),this.state=ni.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=ni.Z.IDLE&&this.state!=ni.Z.ERROR||(this.state=ni.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=bn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(wn);var In=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pn=null,Rn=function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==o&&(a.image_.crossOrigin=o),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=r,a.size_=n,a.src_=i,a.tainted_,a}return In(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ni.Z.LOADED){Pn||(Pn=(0,B.E4)(1,1)),Pn.drawImage(this.image_,0,0);try{Pn.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Pn=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(w.Z.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=ni.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=ni.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=(0,B.E4)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ni.Z.IDLE){this.imageState_=ni.Z.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=bn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=(0,r.XC)(this.color_),i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var n=i.getImageData(0,0,e.width,e.height),o=n.data,s=this.color_[0]/255,a=this.color_[1]/255,l=this.color_[2]/255,h=this.color_[3],u=0,c=o.length;u<c;u+=4)o[u]*=s,o[u+1]*=a,o[u+2]*=l,o[u+3]*=h;i.putImageData(n,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(ot.Z),Ln=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Mn=function(t){function e(e){var n=this,o=e||{},s=void 0!==o.opacity?o.opacity:1,a=void 0!==o.rotation?o.rotation:0,h=void 0!==o.scale?o.scale:1,u=void 0!==o.rotateWithView&&o.rotateWithView;(n=t.call(this,{opacity:s,rotation:a,scale:h,displacement:void 0!==o.displacement?o.displacement:[0,0],rotateWithView:u})||this).anchor_=void 0!==o.anchor?o.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==o.anchorOrigin?o.anchorOrigin:En,n.anchorXUnits_=void 0!==o.anchorXUnits?o.anchorXUnits:yn,n.anchorYUnits_=void 0!==o.anchorYUnits?o.anchorYUnits:yn,n.crossOrigin_=void 0!==o.crossOrigin?o.crossOrigin:null;var c=void 0!==o.img?o.img:null,p=void 0!==o.imgSize?o.imgSize:null,f=o.src;(0,x.h)(!(void 0!==f&&c),4),(0,x.h)(!c||c&&p,5),void 0!==f&&0!==f.length||!c||(f=c.src||(0,i.sq)(c)),(0,x.h)(void 0!==f&&f.length>0,6);var d=void 0!==o.src?ni.Z.IDLE:ni.Z.LOADED;return n.color_=void 0!==o.color?(0,r._2)(o.color):null,n.iconImage_=function(t,e,i,n,o,r){var s=l.get(e,n,r);return s||(s=new Rn(t,e,i,n,o,r),l.set(e,n,r,s)),s}(c,f,p,n.crossOrigin_,d,n.color_),n.offset_=void 0!==o.offset?o.offset:[0,0],n.offsetOrigin_=void 0!==o.offsetOrigin?o.offsetOrigin:En,n.origin_=null,n.size_=void 0!==o.size?o.size:null,n}return Ln(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==yn||this.anchorYUnits_==yn){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==yn&&(t[0]*=e[0]),this.anchorYUnits_==yn&&(t[1]*=e[1])}if(this.anchorOrigin_!=En){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Cn&&this.anchorOrigin_!=xn||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=mn&&this.anchorOrigin_!=xn||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=En){var i=this.getSize(),n=this.iconImage_.getSize();if(!i||!n)return null;t=t.slice(),this.offsetOrigin_!=Cn&&this.offsetOrigin_!=xn||(t[0]=n[0]-i[0]-t[0]),this.offsetOrigin_!=mn&&this.offsetOrigin_!=xn||(t[1]=n[1]-i[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(w.Z.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(w.Z.CHANGE,t)},e}(Sn.Z);var An={Point:function(t,e,i,n,o){var r,s=i.getImage(),a=i.getText();if(o&&(t=o,r=s&&a&&a.getText()?{}:void 0),s){if(s.getImageState()!=ni.Z.LOADED)return;var l=t.getBuilder(i.getZIndex(),Ui);l.setImageStyle(s,r),l.drawPoint(e,n)}if(a&&a.getText()){var h=t.getBuilder(i.getZIndex(),Ji);h.setTextStyle(a,r),h.drawText(e,n)}},LineString:function(t,e,i,n,o){var r=i.getStroke();if(r){var s=t.getBuilder(i.getZIndex(),qi);s.setFillStrokeStyle(null,r),s.drawLineString(e,n)}var a=i.getText();if(a&&a.getText()){var l=(o||t).getBuilder(i.getZIndex(),Ji);l.setTextStyle(a),l.drawText(e,n)}},Polygon:function(t,e,i,n,o){var r=i.getFill(),s=i.getStroke();if(r||s){var a=t.getBuilder(i.getZIndex(),Hi);a.setFillStrokeStyle(r,s),a.drawPolygon(e,n)}var l=i.getText();if(l&&l.getText()){var h=(o||t).getBuilder(i.getZIndex(),Ji);h.setTextStyle(l),h.drawText(e,n)}},MultiPoint:function(t,e,i,n,o){var r,s=i.getImage(),a=i.getText();if(o&&(t=o,r=s&&a&&a.getText()?{}:void 0),s){if(s.getImageState()!=ni.Z.LOADED)return;var l=t.getBuilder(i.getZIndex(),Ui);l.setImageStyle(s,r),l.drawMultiPoint(e,n)}if(a&&a.getText()){var h=(o||t).getBuilder(i.getZIndex(),Ji);h.setTextStyle(a,r),h.drawText(e,n)}},MultiLineString:function(t,e,i,n,o){var r=i.getStroke();if(r){var s=t.getBuilder(i.getZIndex(),qi);s.setFillStrokeStyle(null,r),s.drawMultiLineString(e,n)}var a=i.getText();if(a&&a.getText()){var l=(o||t).getBuilder(i.getZIndex(),Ji);l.setTextStyle(a),l.drawText(e,n)}},MultiPolygon:function(t,e,i,n,o){var r=i.getFill(),s=i.getStroke();if(s||r){var a=t.getBuilder(i.getZIndex(),Hi);a.setFillStrokeStyle(r,s),a.drawMultiPolygon(e,n)}var l=i.getText();if(l&&l.getText()){var h=(o||t).getBuilder(i.getZIndex(),Ji);h.setTextStyle(l),h.drawText(e,n)}},GeometryCollection:function(t,e,i,n,o){var r,s,a=e.getGeometriesArray();for(r=0,s=a.length;r<s;++r)(0,An[a[r].getType()])(t,a[r],i,n,o)},Circle:function(t,e,i,n,o){var r=i.getFill(),s=i.getStroke();if(r||s){var a=t.getBuilder(i.getZIndex(),Bi);a.setFillStrokeStyle(r,s),a.drawCircle(e,n)}var l=i.getText();if(l&&l.getText()){var h=(o||t).getBuilder(i.getZIndex(),Ji);h.setTextStyle(l),h.drawText(e,n)}}};function Fn(t,e){return parseInt((0,i.sq)(t),10)-parseInt((0,i.sq)(e),10)}function Zn(t,e){return.5*t/e}function kn(t,e,i,n,o,r,s){var a=!1,l=i.getImage();if(l){var h=l.getImageState();h==ni.Z.LOADED||h==ni.Z.ERROR?l.unlistenImageChange(o):(h==ni.Z.IDLE&&l.load(),h=l.getImageState(),l.listenImageChange(o),a=!0)}return function(t,e,i,n,o,r){var s=i.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(n,o);i.getRenderer()?Dn(t,a,i,e):(0,An[a.getType()])(t,a,i,e,r)}}(t,e,i,n,r,s),a}function Dn(t,e,i,n){if(e.getType()!=mt.Z.GEOMETRY_COLLECTION)t.getBuilder(i.getZIndex(),Vi).drawCustom(e,n,i.getRenderer());else for(var o=e.getGeometries(),r=0,s=o.length;r<s;++r)Dn(t,o[r],i,n)}var jn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Nn=function(t){function e(e){var i=t.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.animatingOrInteracting_,i.dirty_=!1,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=(0,o.lJ)(),i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i}return jn(e,t),e.prototype.useContainer=function(e,i,n){n<1&&(e=null),t.prototype.useContainer.call(this,e,i,n)},e.prototype.renderWorlds=function(t,e,i){var n=e.extent,r=e.viewState,s=r.center,a=r.resolution,l=r.projection,h=r.rotation,u=l.getExtent(),c=this.getLayer().getSource(),p=e.pixelRatio,f=e.viewHints,d=!(f[0]||f[1]),_=this.context,g=Math.round(e.size[0]*p),y=Math.round(e.size[1]*p),v=c.getWrapX()&&l.canWrapX(),m=v?(0,o.dz)(u):null,x=v?Math.ceil((n[2]-u[2])/m)+1:1,E=v?Math.floor((n[0]-u[0])/m):0;do{var C=this.getRenderTransform(s,a,h,p,g,y,E*m);t.execute(_,1,C,h,d,void 0,i)}while(++E<x)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var i=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];(0,n.n3)(this.pixelTransform,1/i,1/i),(0,n.nb)(this.inversePixelTransform,this.pixelTransform);var s=(0,n.BB)(this.pixelTransform);this.useContainer(e,s,r.opacity);var a=this.context,l=a.canvas,h=this.replayGroup_,u=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!u||u.isEmpty()))return!this.containerReused&&l.width>0&&(l.width=0),this.container;var c=Math.round(t.size[0]*i),p=Math.round(t.size[1]*i);l.width!=c||l.height!=p?(l.width=c,l.height=p,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||a.clearRect(0,0,c,p),this.preRender(a,t);var f=t.viewState,d=f.projection,_=!1;if(r.extent&&this.clipping){var g=(0,Ot.dY)(r.extent,d);(_=!(0,o.r4)(g,t.extent)&&(0,o.kK)(g,t.extent))&&this.clipUnrotated(a,t,g)}this.renderWorlds(h,t),_&&a.restore(),this.postRender(a,t);var y=r.opacity,v=this.container;return y!==parseFloat(v.style.opacity)&&(v.style.opacity=1===y?"":String(y)),this.renderedRotation_!==f.rotation&&(this.renderedRotation_=f.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];(0,n.nn)(this.pixelTransform,i);var r=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,l=this.renderedProjection_,h=this.renderedExtent_,u=this.getLayer(),c=[],p=i[0]/2,f=i[1]/2;c.push(this.getRenderTransform(r,s,a,.5,p,f,0).slice());var d=u.getSource(),_=l.getExtent();if(d.getWrapX()&&l.canWrapX()&&!(0,o.r4)(_,h)){for(var g=h[0],y=(0,o.dz)(_),v=0,m=void 0;g<_[0];)m=y*--v,c.push(this.getRenderTransform(r,s,a,.5,p,f,m).slice()),g+=y;for(v=0,g=h[2];g>_[2];)m=y*++v,c.push(this.getRenderTransform(r,s,a,.5,p,f,m).slice()),g-=y}this.hitDetectionImageData_=function(t,e,i,n,r,s,a){var l=t[0]/2,h=t[1]/2,u=(0,B.E4)(l,h);u.imageSmoothingEnabled=!1;for(var c=u.canvas,p=new gn(u,.5,r,null,a),f=i.length,d=Math.floor(16777215/f),_={},g=1;g<=f;++g){var y=i[g-1],v=y.getStyleFunction()||n;if(n){var m=v(y,s);if(m){Array.isArray(m)||(m=[m]);for(var x="#"+("000000"+(g*d).toString(16)).slice(-6),E=0,C=m.length;E<C;++E){var S=m[E],O=S.clone(),w=O.getFill();w&&w.setColor(x);var T=O.getStroke();T&&T.setColor(x),O.setText(void 0);var b=S.getImage();if(b){var I=b.getImageSize();if(!I)continue;var P=document.createElement("canvas");P.width=I[0],P.height=I[1];var R=P.getContext("2d",{alpha:!1});R.fillStyle=x;var L=R.canvas;R.fillRect(0,0,L.width,L.height);var M=I?I[0]:L.width,A=I?I[1]:L.height;(0,B.E4)(M,A).drawImage(L,0,0),O.setImage(new Mn({img:L,imgSize:I,anchor:b.getAnchor(),anchorXUnits:vn,anchorYUnits:vn,offset:b.getOrigin(),size:b.getSize(),opacity:b.getOpacity(),scale:b.getScale(),rotation:b.getRotation(),rotateWithView:b.getRotateWithView()}))}var F=Number(O.getZIndex());(j=_[F])||(j={},_[F]=j,j[mt.Z.POLYGON]=[],j[mt.Z.CIRCLE]=[],j[mt.Z.LINE_STRING]=[],j[mt.Z.POINT]=[]);var Z=O.getGeometryFunction()(y);Z&&(0,o.kK)(r,Z.getExtent())&&j[Z.getType().replace("Multi","")].push(Z,O)}}}}for(var k=Object.keys(_).map(Number).sort(bt.kK),D=(g=0,k.length);g<D;++g){var j=_[k[g]];for(var N in j){var G=j[N];for(E=0,C=G.length;E<C;E+=2){p.setStyle(G[E+1]);for(var z=0,W=e.length;z<W;++z)p.setTransform(e[z]),p.drawGeometry(G[E])}}}return u.getImageData(0,0,c.width,c.height)}(i,c,this.renderedFeatures_,u.getStyleFunction(),h,s,a)}e(function(t,e,i){var n=[];if(i){var o=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*i.width),r=i.data[o],s=i.data[o+1],a=i.data[o+2]+256*(s+256*r),l=Math.floor(16777215/e.length);a&&a%l==0&&n.push(e[a/l-1])}return n}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r){var s=this;if(this.replayGroup_){var a,l=e.viewState.resolution,h=e.viewState.rotation,u=this.getLayer(),c={},p=function(t,e,n){var s=(0,i.sq)(t),a=c[s];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[s]=!0,r.splice(r.lastIndexOf(a),1),o(t,u,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return c[s]=!0,o(t,u,e);r.push(c[s]={feature:t,layer:u,geometry:e,distanceSq:n,callback:o})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(i){return a=i.forEachFeatureAtCoordinate(t,l,h,n,p,i===s.declutterExecutorGroup?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var n=t.viewHints[0],r=t.viewHints[1],s=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!s&&n||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=t.extent,h=t.viewState,u=h.projection,c=h.resolution,p=t.pixelRatio,f=e.getRevision(),d=e.getRenderBuffer(),_=e.getRenderOrder();void 0===_&&(_=Fn);var g=h.center.slice(),y=(0,o.f3)(l,d*c),v=[y.slice()],m=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!(0,o.r4)(m,t.extent)){var x=(0,o.dz)(m),E=Math.max((0,o.dz)(y)/2,x);y[0]=m[0]-E,y[2]=m[2]+E,k(g,u);var C=(0,o.Cf)(v[0],u);C[0]<m[0]&&C[2]<m[2]?v.push([C[0]+x,C[1],C[2]+x,C[3]]):C[0]>m[0]&&C[2]>m[2]&&v.push([C[0]-x,C[1],C[2]-x,C[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==_&&(0,o.r4)(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var S,O=new Ki(Zn(c,p),y,c,p);this.getLayer().getDeclutter()&&(S=new Ki(Zn(c,p),y,c,p));var w,T=(0,Ot.Cs)();if(T){for(var b=0,I=v.length;b<I;++b)i.loadFeatures((0,Ot.Fj)(v[b],u),c,T);w=(0,Ot.WO)(T,u)}else for(b=0,I=v.length;b<I;++b)i.loadFeatures(v[b],c,u);var P=function(t,e){var i=Zn(t,e);return i*i}(c,p),R=function(t){var i,n=t.getStyleFunction()||e.getStyleFunction();if(n&&(i=n(t,c)),i){var o=this.renderFeature(t,P,i,O,w,S);this.dirty_=this.dirty_||o}}.bind(this),L=(0,Ot.Fj)(y,u),M=i.getFeaturesInExtent(L);for(_&&M.sort(_),b=0,I=M.length;b<I;++b)R(M[b]);this.renderedFeatures_=M;var A=O.finish(),F=new dn(y,c,p,i.getOverlaps(),A,e.getRenderBuffer());return S&&(this.declutterExecutorGroup=new dn(y,c,p,i.getOverlaps(),S.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=_,this.renderedExtent_=y,this.renderedCenter_=g,this.renderedProjection_=u,this.replayGroup_=F,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,o,r){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var a=0,l=i.length;a<l;++a)s=kn(n,t,i[a],e,this.boundHandleStyleImageChange_,o,r)||s;else s=kn(n,t,i,e,this.boundHandleStyleImageChange_,o,r);return s},e}(li);var Gn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const zn=function(t){function e(e){return t.call(this,e)||this}return Gn(e,t),e.prototype.createRenderer=function(){return new Nn(this)},e}(Ci),Wn=function(){function t(t){this.rbush_=new(vi())(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,i.sq)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),o=0,r=e.length;o<r;o++){var s=t[o],a=e[o],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};n[o]=l,this.items_[(0,i.sq)(a)]=l}this.rbush_.load(n)},t.prototype.remove=function(t){var e=(0,i.sq)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[(0,i.sq)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];(0,o.fS)(r,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var i,n=0,o=t.length;n<o;n++)if(i=e(t[n]))return i;return i},t.prototype.isEmpty=function(){return(0,E.xb)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,o.T9)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();var Yn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Xn(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const Kn=function(t){function e(e){var i=t.call(this)||this;return i.projection_=(0,Ot.U2)(e.projection),i.attributions_=Xn(e.attributions),i.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,i.loading=!1,i.state_=void 0!==e.state?e.state:P,i.wrapX_=void 0!==e.wrapX&&e.wrapX,i}return Yn(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,i.O3)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Xn(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(h.ZP),Bn="addfeature",Vn="removefeature";function Un(t,e){return[[-1/0,-1/0,1/0,1/0]]}const qn="arraybuffer";function Hn(t,i){return function(n,o,r,s,a){var l=this;!function(t,e,i,n,o,r,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(i,n,o):t,!0),e.getType()==qn&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var n=e.getType(),l=void 0;"json"==n||"text"==n?l=a.responseText:"xml"==n?(l=a.responseXML)||(l=(new DOMParser).parseFromString(a.responseText,"application/xml")):n==qn&&(l=a.response),l?r(e.readFeatures(l,{extent:i,featureProjection:o}),e.readProjection(l)):s()}else s()},a.onerror=s,a.send()}(t,i,n,o,r,(function(t,e){void 0!==s&&s(t),l.addFeatures(t)}),a||e.Zn)}}var Jn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$n=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.feature=i,o.features=n,o}return Jn(e,t),e}(z.ZP);const Qn=function(t){function n(i){var n=this,o=i||{};(n=t.call(this,{attributions:o.attributions,projection:void 0,state:P,wrapX:void 0===o.wrapX||o.wrapX})||this).loader_=e.Zn,n.format_=o.format,n.overlaps_=void 0===o.overlaps||o.overlaps,n.url_=o.url,void 0!==o.loader?n.loader_=o.loader:void 0!==n.url_&&((0,x.h)(n.format_,7),n.loader_=Hn(n.url_,n.format_)),n.strategy_=void 0!==o.strategy?o.strategy:Un;var r,s,a=void 0===o.useSpatialIndex||o.useSpatialIndex;return n.featuresRtree_=a?new Wn:null,n.loadedExtentsRtree_=new Wn,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(o.features)?s=o.features:o.features&&(s=(r=o.features).getArray()),a||void 0!==r||(r=new q.Z(s)),void 0!==s&&n.addFeaturesInternal(s),void 0!==r&&n.bindFeaturesCollection_(r),n}return Jn(n,t),n.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},n.prototype.addFeatureInternal=function(t){var e=(0,i.sq)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var o=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new $n(Bn,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},n.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,R.oL)(e,w.Z.CHANGE,this.handleFeatureChange_,this),(0,R.oL)(e,G.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},n.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n&&(n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e),i&&((0,x.h)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},n.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},n.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],o=[],r=0,s=t.length;r<s;r++){var a=t[r],l=(0,i.sq)(a);this.addToIndex_(l,a)&&n.push(a)}r=0;for(var h=n.length;r<h;r++){a=n[r],l=(0,i.sq)(a),this.setupChangeEvents_(l,a);var u=a.getGeometry();if(u){var c=u.getExtent();e.push(c),o.push(a)}else this.nullGeometryFeatures_[l]=a}this.featuresRtree_&&this.featuresRtree_.load(e,o),r=0;for(var p=n.length;r<p;r++)this.dispatchEvent(new $n(Bn,n[r]))},n.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Bn,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),this.addEventListener(Vn,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),t.addEventListener(H.Z.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(H.Z.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},n.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(R.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var i in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new $n("clear");this.dispatchEvent(n),this.changed()},n.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},n.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0}))},n.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},n.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(i){if(i.getGeometry().intersectsExtent(t)){var n=e(i);if(n)return n}}))},n.prototype.getFeaturesCollection=function(){return this.featuresCollection_},n.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,E.xb)(this.nullGeometryFeatures_)||(0,bt.l7)(t,(0,E.KX)(this.nullGeometryFeatures_))),t},n.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},n.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},n.prototype.getClosestFeatureToCoordinate=function(t,i){var n=t[0],o=t[1],r=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0],h=i||e.uX;return this.featuresRtree_.forEachInExtent(l,(function(t){if(h(t)){var e=t.getGeometry(),i=a;if((a=e.closestPointXY(n,o,s,a))<i){r=t;var u=Math.sqrt(a);l[0]=n-u,l[1]=o-u,l[2]=n+u,l[3]=o+u}}})),r},n.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},n.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},n.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},n.prototype.getFormat=function(){return this.format_},n.prototype.getOverlaps=function(){return this.overlaps_},n.prototype.getUrl=function(){return this.url_},n.prototype.handleFeatureChange_=function(t){var e=t.target,n=(0,i.sq)(e),o=e.getGeometry();if(o){var r=o.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var a=s.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new $n("changefeature",e))},n.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,i.sq)(t)in this.uidIndex_},n.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,E.xb)(this.nullGeometryFeatures_)},n.prototype.loadFeatures=function(t,i,n){var r=this.loadedExtentsRtree_,s=this.strategy_(t,i);this.loading=!1;for(var a=function(t,a){var h=s[t];r.forEachInExtent(h,(function(t){return(0,o.r4)(t.extent,h)}))||(l.dispatchEvent(new $n("featuresloadstart")),l.loader_.call(l,h,i,n,function(t){this.dispatchEvent(new $n("featuresloadend",void 0,t))}.bind(l),function(){this.dispatchEvent(new $n("featuresloaderror"))}.bind(l)),r.insert(h,{extent:h.slice()}),l.loading=l.loader_!==e.Zn)},l=this,h=0,u=s.length;h<u;++h)a(h)},n.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},n.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,(function(i){if((0,o.fS)(i.extent,t))return e=i,!0})),e&&i.remove(e)},n.prototype.removeFeature=function(t){var e=(0,i.sq)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},n.prototype.removeFeatureInternal=function(t){var e=(0,i.sq)(t);this.featureChangeKeys_[e].forEach(R.bN),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new $n(Vn,t))},n.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},n.prototype.setLoader=function(t){this.loader_=t},n.prototype.setUrl=function(t){(0,x.h)(this.format_,7),this.setLoader(Hn(t,this.format_))},n}(Kn);var to=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const eo=function(t){function e(e,i,n){var o=t.call(this)||this,r=n||{};return o.tileCoord=e,o.state=i,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===r.transition?250:r.transition,o.transitionStarts_={},o}return to(e,t),e.prototype.changed=function(){this.dispatchEvent(w.Z.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,i.O3)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var n=e-i+1e3/60;return n>=this.transition_?1:(0,At.YQ)(n/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(ot.Z);var io=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const no=function(t){function e(e,i,n,o,r,s){var a=t.call(this,e,i,s)||this;return a.crossOrigin_=o,a.src_=n,a.key=n,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.tileLoadFunction_=r,a}return io(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=(0,B.E4)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=2:this.state=4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=bn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(eo),oo=function(){function t(t,e,i,n,r,s){this.sourceProj_=t,this.targetProj_=e;var a={},l=(0,Ot.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=l(t)),a[e]},this.maxSourceExtent_=n,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&(0,o.dz)(n)==(0,o.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,o.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,o.dz)(this.targetProj_.getExtent()):null;var h=(0,o.rL)(i),u=(0,o.Xv)(i),c=(0,o.w$)(i),p=(0,o.hC)(i),f=this.transformInv_(h),d=this.transformInv_(u),_=this.transformInv_(c),g=this.transformInv_(p),y=10+(s?Math.max(0,Math.ceil((0,C.k3)((0,o.bg)(i)/(s*s*256*256)))):0);if(this.addQuad_(h,u,c,p,f,d,_,g,y),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach((function(t,e,i){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,i,n,o,r){this.triangles_.push({source:[n,o,r],target:[t,e,i]})},t.prototype.addQuad_=function(t,e,i,n,r,s,a,l,h){var u=(0,o.hI)([r,s,a,l]),c=this.sourceWorldWidth_?(0,o.dz)(u)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,d=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=(0,o.hI)([t,e,i,n]);d=(0,o.dz)(_)/this.targetWorldWidth_>.25||d}!f&&this.sourceProj_.isGlobal()&&c&&(d=c>.25||d)}if(!(!d&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||(0,o.kK)(u,this.maxSourceExtent_)){var g=0;if(!(d||isFinite(r[0])&&isFinite(r[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(h>0)d=!0;else if(1!=(g=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1))&&2!=g&&4!=g&&8!=g)return;if(h>0){if(!d){var y=[(t[0]+i[0])/2,(t[1]+i[1])/2],v=this.transformInv_(y),m=void 0;m=f?((0,C.$W)(r[0],p)+(0,C.$W)(a[0],p))/2-(0,C.$W)(v[0],p):(r[0]+a[0])/2-v[0];var x=(r[1]+a[1])/2-v[1];d=m*m+x*x>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var E=[(e[0]+i[0])/2,(e[1]+i[1])/2],S=this.transformInv_(E),O=[(n[0]+t[0])/2,(n[1]+t[1])/2],w=this.transformInv_(O);this.addQuad_(t,e,E,O,r,s,S,w,h-1),this.addQuad_(O,E,i,n,w,S,a,l,h-1)}else{var T=[(t[0]+e[0])/2,(t[1]+e[1])/2],b=this.transformInv_(T),I=[(i[0]+n[0])/2,(i[1]+n[1])/2],P=this.transformInv_(I);this.addQuad_(t,T,I,n,r,b,P,l,h-1),this.addQuad_(T,e,i,I,b,s,a,P,h-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(t,i,n,r,a,l),0==(14&g)&&this.addTriangle_(t,i,e,r,a,s),g&&(0==(13&g)&&this.addTriangle_(e,n,t,s,l,r),0==(7&g)&&this.addTriangle_(e,n,i,s,l,a))}},t.prototype.calculateSourceExtent=function(){var t=(0,o.lJ)();return this.triangles_.forEach((function(e,i,n){var r=e.source;(0,o.Wj)(t,r[0]),(0,o.Wj)(t,r[1]),(0,o.Wj)(t,r[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var ro,so={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function ao(t,e,i,n,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(n,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,n)+1,Math.max(i,o)),t.restore()}function lo(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function ho(t,e,i,n){var r=(0,Ot.vs)(i,e,t),s=(0,Ot._Q)(e,n,i),a=e.getMetersPerUnit();void 0!==a&&(s*=a);var l=t.getMetersPerUnit();void 0!==l&&(s/=l);var h=t.getExtent();if(!h||(0,o.b8)(h,r)){var u=(0,Ot._Q)(t,s,r)/s;isFinite(u)&&u>0&&(s/=u)}return s}var uo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const co=function(t){function e(e,i,n,r,s,a,l,h,u,c,p,f){var d=t.call(this,s,0)||this;d.renderEdges_=void 0!==p&&p,d.contextOptions_=f,d.pixelRatio_=l,d.gutter_=h,d.canvas_=null,d.sourceTileGrid_=i,d.targetTileGrid_=r,d.wrappedTileCoord_=a||s,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var _=r.getTileCoordExtent(d.wrappedTileCoord_),g=d.targetTileGrid_.getExtent(),y=d.sourceTileGrid_.getExtent(),v=g?(0,o.Ed)(_,g):_;if(0===(0,o.bg)(v))return d.state=4,d;var m=e.getExtent();m&&(y=y?(0,o.Ed)(y,m):m);var x=r.getResolution(d.wrappedTileCoord_[0]),E=function(t,e,i,n){var r=(0,o.qg)(i),s=ho(t,e,r,n);return(!isFinite(s)||s<=0)&&(0,o.H6)(i,(function(i){return s=ho(t,e,i,n),isFinite(s)&&s>0})),s}(e,n,v,x);if(!isFinite(E)||E<=0)return d.state=4,d;var S=void 0!==c?c:.5;if(d.triangulation_=new oo(e,n,v,y,E*S,x),0===d.triangulation_.getTriangles().length)return d.state=4,d;d.sourceZ_=i.getZForResolution(E);var O=d.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(O[1]=(0,C.uZ)(O[1],y[1],y[3]),O[3]=(0,C.uZ)(O[3],y[1],y[3])):O=(0,o.Ed)(O,y)),(0,o.bg)(O)){for(var w=i.getTileRangeForExtentAndZ(O,d.sourceZ_),T=w.minX;T<=w.maxX;T++)for(var b=w.minY;b<=w.maxY;b++){var I=u(d.sourceZ_,T,b,l);I&&d.sourceTiles_.push(I)}0===d.sourceTiles_.length&&(d.state=4)}else d.state=4;return d}return uo(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,n){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],r="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,i,n,r,s,a,l,h,u,c,p){var f=(0,B.E4)(Math.round(i*t),Math.round(i*e));if((0,E.f0)(f,p),0===h.length)return f.canvas;function d(t){return Math.round(t*i)/i}f.scale(i,i),f.globalCompositeOperation="lighter";var _=(0,o.lJ)();h.forEach((function(t,e,i){(0,o.l7)(_,t.extent)}));var g=(0,o.dz)(_),y=(0,o.Cr)(_),v=(0,B.E4)(Math.round(i*g/n),Math.round(i*y/n));(0,E.f0)(v,p);var m=i/n;h.forEach((function(t,e,i){var n=t.extent[0]-_[0],r=-(t.extent[3]-_[3]),s=(0,o.dz)(t.extent),a=(0,o.Cr)(t.extent);t.image.width>0&&t.image.height>0&&v.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,n*m,r*m,s*m,a*m)}));var x=(0,o.rL)(a);return l.getTriangles().forEach((function(t,e,o){var r=t.source,a=t.target,l=r[0][0],h=r[0][1],u=r[1][0],c=r[1][1],g=r[2][0],y=r[2][1],m=d((a[0][0]-x[0])/s),E=d(-(a[0][1]-x[1])/s),S=d((a[1][0]-x[0])/s),O=d(-(a[1][1]-x[1])/s),w=d((a[2][0]-x[0])/s),T=d(-(a[2][1]-x[1])/s),b=l,I=h;l=0,h=0;var P=[[u-=b,c-=I,0,0,S-m],[g-=b,y-=I,0,0,w-m],[0,0,u,c,O-E],[0,0,g,y,T-E]],R=(0,C.SV)(P);if(R){if(f.save(),f.beginPath(),function(){if(void 0===ro){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",ao(t,4,5,4,0),ao(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;ro=lo(e,0)||lo(e,4)||lo(e,8)}return ro}()||p===so){f.moveTo(S,O);for(var L=m-S,M=E-O,A=0;A<4;A++)f.lineTo(S+d((A+1)*L/4),O+d(A*M/3)),3!=A&&f.lineTo(S+d((A+1)*L/4),O+d((A+1)*M/3));f.lineTo(w,T)}else f.moveTo(S,O),f.lineTo(m,E),f.lineTo(w,T);f.clip(),f.transform(R[0],R[2],R[1],R[3],m,E),f.translate(_[0]-b,_[3]-I),f.scale(n/i,-n/i),f.drawImage(v.canvas,0,0),f.restore()}})),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,l.getTriangles().forEach((function(t,e,i){var n=t.target,o=(n[0][0]-x[0])/s,r=-(n[0][1]-x[1])/s,a=(n[1][0]-x[0])/s,l=-(n[1][1]-x[1])/s,h=(n[2][0]-x[0])/s,u=-(n[2][1]-x[1])/s;f.beginPath(),f.moveTo(a,l),f.lineTo(o,r),f.lineTo(h,u),f.closePath(),f.stroke()})),f.restore()),f.canvas}(n,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,n){var o=e.getState();if(0==o||1==o){t++;var r=(0,R.oL)(e,w.Z.CHANGE,(function(i){var n=e.getState();2!=n&&3!=n&&4!=n||((0,R.bN)(r),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(r)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){0==t.getState()&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(R.bN),this.sourcesListenerKeys_=null},e}(eo),po=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var i=this.entries_[t];return(0,x.h)(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},t.prototype.remove=function(t){var e=this.entries_[t];return(0,x.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){(0,x.h)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function fo(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]}function _o(t,e,i){return t+"/"+e+"/"+i}function go(t){return _o(t[0],t[1],t[2])}var yo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yo(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=(e=this.peekFirstKey(),e.split("/").map(Number))[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(go(e.tileCoord)),e.release())}.bind(this))}var e},e}(po);var mo=s(1748),xo=[0,0,0];const Eo=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,x.h)((0,bt.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,n=this.resolutions_.length-1;i<n;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,x.h)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=(0,o.rL)(r)),(0,x.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,x.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,(0,x.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var i=new ci(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(r){var n=this.getTileRangeForExtentAndZ(r,e);i.minX=Math.max(n.minX,i.minX),i.maxX=Math.min(n.maxX,i.maxX),i.minY=Math.max(n.minY,i.minY),i.maxY=Math.min(n.maxY,i.maxY)}return i}),this):r&&this.calculateTileRanges_(r)}return t.prototype.forEachTileCoord=function(t,e,i){for(var n=this.getTileRangeForExtentAndZ(t,e),o=n.minX,r=n.maxX;o<=r;++o)for(var s=n.minY,a=n.maxY;s<=a;++s)i([e,o,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,i,n){var o,r,s=null,a=t[0]-1;for(2===this.zoomFactor_?(o=t[1],r=t[2]):s=this.getTileCoordExtent(t,n);a>=this.minZoom;){if(e(a,2===this.zoomFactor_?ui(o=Math.floor(o/2),o,r=Math.floor(r/2),r,i):this.getTileRangeForExtentAndZ(s,a,i)))return!0;--a}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],o=2*t[2];return ui(n,n+1,o,o+1,e)}var r=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,i){var n=this.getOrigin(t),r=this.getResolution(t),s=(0,ce.Pq)(this.getTileSize(t),this.tmpSize_),a=n[0]+e.minX*s[0]*r,l=n[0]+(e.maxX+1)*s[0]*r,h=n[1]+e.minY*s[1]*r,u=n[1]+(e.maxY+1)*s[1]*r;return(0,o.T9)(a,h,l,u,i)},t.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=xo;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var o=n[1],r=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),ui(o,n[1],r,n[2],i)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=(0,ce.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]-(t[2]+.5)*n[1]*i]},t.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=(0,ce.Pq)(this.getTileSize(t[0]),this.tmpSize_),s=i[0]+t[1]*r[0]*n,a=i[1]-(t[2]+1)*r[1]*n,l=s+r[0]*n,h=a+r[1]*n;return(0,o.T9)(s,a,l,h,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,i,n,o){var r=this.getZForResolution(i),s=i/this.getResolution(r),a=this.getOrigin(r),l=(0,ce.Pq)(this.getTileSize(r),this.tmpSize_),h=n?.5:0,u=n?.5:0,c=Math.floor((t-a[0])/i+h),p=Math.floor((a[1]-e)/i+u),f=s*c/l[0],d=s*p/l[1];return n?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),fo(r,f,d,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,i,n,o){var r=this.getOrigin(i),s=this.getResolution(i),a=(0,ce.Pq)(this.getTileSize(i),this.tmpSize_),l=n?.5:0,h=n?.5:0,u=Math.floor((t-r[0])/s+l),c=Math.floor((r[1]-e)/s+h),p=u/a[0],f=c/a[1];return n?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),fo(i,p,f,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var i=(0,bt.h7)(this.resolutions_,t,e||0);return(0,C.uZ)(i,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i},t}();function Co(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,i,n){return function(t,e,i,n){var r=mo.Z.TOP_LEFT,s=So(t,undefined,i);return new Eo({extent:t,origin:(0,o.g0)(t,r),resolutions:s,tileSize:i})}(Oo(t),0,void 0)}(t),t.setDefaultTileGrid(e)),e}function So(t,e,i,n){for(var r=void 0!==e?e:42,s=(0,o.Cr)(t),a=(0,o.dz)(t),l=(0,ce.Pq)(void 0!==i?i:256),h=n>0?n:Math.max(a/l[0],s/l[1]),u=r+1,c=new Array(u),p=0;p<u;++p)c[p]=h/Math.pow(2,p);return c}function Oo(t){var e=(t=(0,Ot.U2)(t)).getExtent();if(!e){var i=180*Ot.Wm[xt.Z.DEGREES]/t.getMetersPerUnit();e=(0,o.T9)(-i,-i,i,i)}return e}var wo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),To=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var n=e.tileGrid;return n&&(0,ce.Pq)(n.getTileSize(n.getMinZoom()),[256,256]),i.tileCache=new vo(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition},i.zDirection=e.zDirection?e.zDirection:0,i}return wo(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,n){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var r,s,a,l=!0,h=i.minX;h<=i.maxX;++h)for(var u=i.minY;u<=i.maxY;++u)s=_o(e,h,u),a=!1,o.containsKey(s)&&(a=2===(r=o.get(s)).getState())&&(a=!1!==n(r)),a||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,o,r){return(0,i.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Co(t)},e.prototype.getTileCacheForProjection=function(t){return(0,x.h)((0,Ot.OP)(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var n=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),r=(0,ce.Pq)(n.getTileSize(t),this.tmpSize);return 1==o?r:(0,ce.bA)(r,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),n=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=function(t,e,i){var n=e[0],r=t.getTileCoordCenter(e),s=Oo(i);if((0,o.b8)(s,r))return e;var a=(0,o.dz)(s),l=Math.ceil((s[0]-r[0])/a);return r[0]+=a*l,t.getTileCoordForCoordAndZ(r,n)}(n,t,i)),function(t,e){var i=t[0],n=t[1],o=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var r=e.getFullTileRange(i);return!r||r.containsXY(n,o)}(t,n)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,e,i,n){},e}(Kn),bo=function(t){function e(e,i){var n=t.call(this,e)||this;return n.tile=i,n}return wo(e,t),e}(z.ZP);const Io=To;function Po(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(s,a,l){return s?t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,s[2].toString()).replace(r,(function(){var t=s[0],i=e.getFullTileRange(t);return(0,x.h)(i,55),(i.getHeight()-s[2]-1).toString()})):void 0}}var Ro=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Lo=function(t){function e(i){var n=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,opaque:i.opaque,projection:i.projection,state:i.state,tileGrid:i.tileGrid,tilePixelRatio:i.tilePixelRatio,wrapX:i.wrapX,transition:i.transition,key:i.key,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===e.prototype.tileUrlFunction,n.tileLoadFunction=i.tileLoadFunction,i.tileUrlFunction&&(n.tileUrlFunction=i.tileUrlFunction),n.urls=null,i.urls?n.setUrls(i.urls):i.url&&n.setUrl(i.url),n.tileLoadingKeys_={},n}return Ro(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,o=(0,i.sq)(n),r=n.getState();1==r?(this.tileLoadingKeys_[o]=!0,e="tileloadstart"):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=e&&this.dispatchEvent(new bo(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n=i[1].charCodeAt(0),o=i[2].charCodeAt(0),r=void 0;for(r=n;r<=o;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var i=t.length,n=new Array(i),o=0;o<i;++o)n[o]=Po(t[o],e);return function(t){return 1===t.length?t[0]:function(e,i,n){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),r=(0,C.$W)(o,t.length);return t[r](e,i,n)}}}(n)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,i){},e.prototype.useTile=function(t,e,i){var n=_o(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(Io);var Mo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Ao(t,e){t.getImage().src=e}const Fo=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ao,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return i.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:no,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.contextOptions_=!1===e.imageSmoothing?so:void 0,i.renderReprojectionEdges_=!1,i}return Mo(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);for(var n in this.tileCache.expireCache(this.tileCache==i?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[n];o.expireCache(o==i?e:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!(0,Ot.OP)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!(0,Ot.OP)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!(0,Ot.OP)(e,t)){var n=(0,i.sq)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Co(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||(0,Ot.OP)(e,t))return this.tileCache;var n=(0,i.sq)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new vo(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,i,n,o,r){var s=[t,e,i],a=this.getTileCoordForTileUrlFunction(s,o),l=a?this.tileUrlFunction(a,n,o):void 0,h=new this.tileClass(s,void 0!==l?0:4,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=r,h.addEventListener(w.Z.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,i,n,o){var r=this.getProjection();if(r&&o&&!(0,Ot.OP)(r,o)){var s=this.getTileCacheForProjection(o),a=[t,e,i],l=void 0,h=go(a);s.containsKey(h)&&(l=s.get(h));var u=this.getKey();if(l&&l.key==u)return l;var c=this.getTileGridForProjection(r),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(a,o),d=new co(r,c,o,p,a,f,this.getTilePixelRatio(n),this.getGutter(),function(t,e,i,n){return this.getTileInternal(t,e,i,n,r)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return d.key=u,l?(d.interimTile=l,d.refreshInterimChain(),s.replace(h,d)):s.set(h,d),d}return this.getTileInternal(t,e,i,n,r||o)},e.prototype.getTileInternal=function(t,e,i,n,o){var r=null,s=_o(t,e,i),a=this.getKey();if(this.tileCache.containsKey(s)){if((r=this.tileCache.get(s)).key!=a){var l=r;r=this.createTile_(t,e,i,n,o,a),0==l.getState()?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(s,r)}}else r=this.createTile_(t,e,i,n,o,a),this.tileCache.set(s,r);return r},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=(0,Ot.U2)(t);if(n){var o=(0,i.sq)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}},e}(Lo);var Zo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const ko=function(t){function e(e){var i=e||{},n=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:function(t){var e=t||{},i=e.extent||(0,Ot.U2)("EPSG:3857").getExtent(),n={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:So(i,e.maxZoom,e.tileSize,e.maxResolution)};return new Eo(n)}({extent:Oo(n),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:n,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return Zo(e,t),e}(Fo);var Do=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const jo=function(t){function e(e){var i,n=e||{};i=void 0!==n.attributions?n.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var o=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",r=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:o,imageSmoothing:n.imageSmoothing,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,opaque:void 0===n.opaque||n.opaque,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:r,wrapX:n.wrapX})||this}return Do(e,t),e}(ko);var No=s(1978),Go=s(9882);function zo(t){return(0,Go.v)({primary:t.dataset.colorPrimary,secondary:t.dataset.colorSecondary},((t,e)=>e))}const Wo=new URLSearchParams(window.location.search),Yo=Wo.get("markers"),Xo=window.parent!==window||Wo.has("noedit"),Ko=document.getElementById("map");function Bo(t,e){return Wo.get(t)||(Xo?e:"")}Object.assign(Ko.style,{width:Bo("width","100vw"),height:Bo("height","100vh")});const Vo=Yo?JSON.parse(Yo):Array.from(document.querySelectorAll(".marker"),(t=>{var e,i,n;return{location:(n=t,[Number(n.dataset.lon),Number(n.dataset.lat)]),color:zo(t),name:null===(e=t.content.querySelector(".name"))||void 0===e?void 0:e.textContent,info:null===(i=t.content.querySelector(".info"))||void 0===i?void 0:i.cloneNode(!0)}})),{markerLayer:Uo,markerSelect:qo}=function(t,e){const i=e.length?e[0].location:[180*Math.random(),90*Math.random()],n=new Je({target:t,layers:[new gi({source:new jo})],view:new ue({center:(0,Ot.mi)(i),zoom:e.length?15:5})}),o=new zn({source:new Qn({features:e.map((t=>new No.J(t)))}),style:t=>(0,No.q)(t)}),r=new $e.Z({condition:Te.V4,style:t=>(0,No.q)(t,!0)});return n.addLayer(o),n.addInteraction(r),{markerLayer:o,markerSelect:r}}(Ko,Vo),Ho=qo.getMap(),Jo=Ho.getView();qo.on("select",(t=>{const[e]=t.selected;t.selected.forEach((t=>{t.showInfo(Ho)})),t.deselected.forEach((t=>{t.hideInfo(Ho)})),e&&!e.hasInfo&&Jo.animate({center:e.get("geometry").getCoordinates(),duration:200})})),Xo?window.addEventListener("keydown",(t=>{"Enter"===t.key&&t.ctrlKey&&(Wo.delete("noedit"),window.location.search=`?${Wo}`)})):s.e(301).then(s.bind(s,3301)).then((({initControls:t})=>{const e=document.getElementById("controls");e.style.display="",t(e,Uo,qo)})).catch(console.error)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXAtbWFya2Vycy93ZWJwYWNrL3J1bnRpbWUvbG9hZCBzY3JpcHQiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvd2VicGFjay9ydW50aW1lL2NzcyBsb2FkaW5nIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0Fzc2VydGlvbkVycm9yLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9EaXNwb3NhYmxlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlU3RhdGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9NYXBFdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvT2JqZWN0LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL09iamVjdEV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2FycmF5LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2Fzc2VydHMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvY29sb3IuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvY29sb3JsaWtlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2Nzcy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9kb20uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZWFzaW5nLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvRXZlbnQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzL0V2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvVGFyZ2V0LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9jb25kaXRpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2V4dGVudC9Db3JuZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50L1JlbGF0aW9uc2hpcC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9mdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9HZW9tZXRyeUxheW91dC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL0dlb21ldHJ5VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL1BvaW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9TaW1wbGVHZW9tZXRyeS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvZGVmbGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2hhcy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9Qb2ludGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1Byb3BlcnR5LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1NlbGVjdC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9tYXRoLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL29iai5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL1Byb2plY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai9lcHNnMzg1Ny5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL2Vwc2c0MzI2LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovcHJvamVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai90cmFuc2Zvcm1zLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NwaGVyZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovVW5pdHMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zaXplLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL1JlZ3VsYXJTaGFwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvRmlsbC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JbWFnZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9TdHJva2UuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3R5bGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvVGV4dFBsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC90cmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdXRpbC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9yYnVzaC9yYnVzaC5taW4uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvRmVhdHVyZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9PdmVybGF5UG9zaXRpb25pbmcuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvT3ZlcmxheS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9UZXh0LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vc3JjL21hcmtlci50cyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL3NyYy91dGlsLnRzIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy93ZWJwYWNrL3J1bnRpbWUvZ2V0IG1pbmktY3NzIGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL21hcC1tYXJrZXJzL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25JbWFnZUNhY2hlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1Byb3BlcnR5LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0Jhc2UuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0V2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvU3RhdGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvY29vcmRpbmF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9NYXAuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0V2ZW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL0NvbXBvc2l0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9Hcm91cC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9NYXBFdmVudC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9NYXBCcm93c2VyRXZlbnQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9NYXBQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVF1ZXVlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL1RpbGVTdGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3SGludC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3UHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvY29tbW9uLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2NlbnRlcmNvbnN0cmFpbnQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVzb2x1dGlvbmNvbnN0cmFpbnQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcm90YXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9jbG9zZXN0LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zaW1wbGlmeS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW5mbGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvYXJlYS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL0xpbmVhclJpbmcuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2NvbnRhaW5zLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zZWdtZW50cy5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvcmV2ZXJzZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvb3JpZW50LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vUG9seWdvbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL1BsdWdnYWJsZU1hcC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL0NvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9BdHRyaWJ1dGlvbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL1JvdGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL1pvb20uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdQYW4uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvQm94LmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdCb3guanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzL0tleUNvZGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0tpbmV0aWMuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUGluY2hab29tLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL01hcC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1RpbGVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVGlsZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9MYXllci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVJhbmdlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVGlsZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVmVjdG9yLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvSW5zdHJ1Y3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL1ZlY3RvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvSW1hZ2VCdWlsZGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvTGluZVN0cmluZ0J1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9Qb2x5Z29uQnVpbGRlci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvc3RyYWlnaHRjaHVuay5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL1RleHRCdWlsZGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlclR5cGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RleHRwYXRoLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9sZW5ndGguanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9FeGVjdXRvci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkFuY2hvclVuaXRzLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25PcmlnaW4uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VCYXNlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25JbWFnZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JY29uLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL3ZlY3Rvci5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3QuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVmVjdG9yLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3N0cnVjdHMvUkJ1c2guanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1NvdXJjZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVmVjdG9yRXZlbnRUeXBlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL2xvYWRpbmdzdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9mb3JtYXQvRm9ybWF0VHlwZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9mZWF0dXJlbG9hZGVyLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9WZWN0b3IuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZS5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZVRpbGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL1RyaWFuZ3VsYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9yZXByb2ouanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL1RpbGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL0xSVUNhY2hlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVjb29yZC5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9UaWxlQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQvVGlsZUdyaWQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1RpbGUuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZXVybGZ1bmN0aW9uLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9VcmxUaWxlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlRXZlbnRUeXBlLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWFwLW1hcmtlcnMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1hZWi5qcyIsIndlYnBhY2s6Ly9tYXAtbWFya2Vycy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvT1NNLmpzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL21hcC1tYXJrZXJzLy4vc3JjL21hcC50cyJdLCJuYW1lcyI6WyJpblByb2dyZXNzIiwiZGF0YVdlYnBhY2tQcmVmaXgiLCJsb2FkU3R5bGVzaGVldCIsImluc3RhbGxlZENzc0NodW5rcyIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfc3VwZXIiLCJBc3NlcnRpb25FcnJvciIsImNvZGUiLCJfdGhpcyIsIm1lc3NhZ2UiLCJuYW1lIiwiRXJyb3IiLCJQcm9wZXJ0eSIsIkNvbGxlY3Rpb25FdmVudCIsInR5cGUiLCJvcHRfZWxlbWVudCIsIm9wdF9pbmRleCIsImVsZW1lbnQiLCJpbmRleCIsIkNvbGxlY3Rpb24iLCJvcHRfYXJyYXkiLCJvcHRfb3B0aW9ucyIsIm9wdGlvbnMiLCJ1bmlxdWVfIiwidW5pcXVlIiwiYXJyYXlfIiwiaSIsImlpIiwibGVuZ3RoIiwiYXNzZXJ0VW5pcXVlXyIsInVwZGF0ZUxlbmd0aF8iLCJjbGVhciIsImdldExlbmd0aCIsInBvcCIsImV4dGVuZCIsImFyciIsInB1c2giLCJmb3JFYWNoIiwiZiIsImFycmF5IiwiZ2V0QXJyYXkiLCJpdGVtIiwiZ2V0IiwiaW5zZXJ0QXQiLCJlbGVtIiwic3BsaWNlIiwiZGlzcGF0Y2hFdmVudCIsInJlbW92ZUF0IiwibiIsInJlbW92ZSIsInByZXYiLCJzZXRBdCIsImoiLCJ1bmRlZmluZWQiLCJzZXQiLCJvcHRfZXhjZXB0IiwiQUREIiwiUkVNT1ZFIiwiRGlzcG9zYWJsZSIsImRpc3Bvc2VkIiwiZGlzcG9zZSIsImRpc3Bvc2VJbnRlcm5hbCIsIklETEUiLCJMT0FESU5HIiwiTE9BREVEIiwiRVJST1IiLCJFTVBUWSIsIlNJTkdMRUNMSUNLIiwiQ0xJQ0siLCJEQkxDTElDSyIsIlBPSU5URVJEUkFHIiwiUE9JTlRFUk1PVkUiLCJQT0lOVEVSRE9XTiIsIlBPSU5URVJVUCIsIlBPSU5URVJPVkVSIiwiUE9JTlRFUk9VVCIsIlBPSU5URVJFTlRFUiIsIlBPSU5URVJMRUFWRSIsIlBPSU5URVJDQU5DRUwiLCJQT1NUUkVOREVSIiwiTU9WRVNUQVJUIiwiTU9WRUVORCIsIk9iamVjdEV2ZW50Iiwia2V5Iiwib2xkVmFsdWUiLCJCYXNlT2JqZWN0Iiwib3B0X3ZhbHVlcyIsInZhbHVlc18iLCJzZXRQcm9wZXJ0aWVzIiwidmFsdWUiLCJnZXRLZXlzIiwia2V5cyIsImdldFByb3BlcnRpZXMiLCJoYXNQcm9wZXJ0aWVzIiwibm90aWZ5IiwiZXZlbnRUeXBlIiwiZ2V0Q2hhbmdlRXZlbnRUeXBlIiwib3B0X3NpbGVudCIsInZhbHVlcyIsImFwcGx5UHJvcGVydGllcyIsInNvdXJjZSIsInVuc2V0IiwiY2hhbmdlRXZlbnRUeXBlQ2FjaGUiLCJQUk9QRVJUWUNIQU5HRSIsIk9ic2VydmFibGUiLCJyZXZpc2lvbl8iLCJjaGFuZ2VkIiwiZ2V0UmV2aXNpb24iLCJvbiIsImxpc3RlbmVyIiwiaXNBcnJheSIsImxlbiIsIm9uY2UiLCJvbF9rZXkiLCJ1biIsInVuQnlLZXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbiIsImEiLCJpbmNsdWRlcyIsIm9iaiIsImluZGV4T2YiLCJsaW5lYXJGaW5kTmVhcmVzdCIsInRhcmdldCIsImRpcmVjdGlvbiIsInJldmVyc2VTdWJBcnJheSIsImJlZ2luIiwiZW5kIiwidG1wIiwiZGF0YSIsImV4dGVuc2lvbiIsImVxdWFscyIsImFycjEiLCJhcnIyIiwibGVuMSIsImlzU29ydGVkIiwib3B0X2Z1bmMiLCJvcHRfc3RyaWN0IiwiY29tcGFyZSIsImV2ZXJ5IiwiY3VycmVudFZhbCIsInJlcyIsImFzc2VydCIsImFzc2VydGlvbiIsImVycm9yQ29kZSIsIkhFWF9DT0xPUl9SRV8iLCJOQU1FRF9DT0xPUl9SRV8iLCJhc1N0cmluZyIsImNvbG9yIiwidG9TdHJpbmciLCJjYWNoZSIsImNhY2hlU2l6ZSIsImZyb21TdHJpbmciLCJzIiwiciIsImciLCJleGVjIiwiZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJnYiIsImdldENvbXB1dGVkU3R5bGUiLCJyZW1vdmVDaGlsZCIsImZyb21OYW1lZCIsImhhc0FscGhhIiwicGFyc2VJbnQiLCJzdWJzdHIiLCJub3JtYWxpemUiLCJzbGljZSIsInNwbGl0IiwibWFwIiwiTnVtYmVyIiwiZnJvbVN0cmluZ0ludGVybmFsXyIsImFzQXJyYXkiLCJhc0NvbG9yTGlrZSIsIkNMQVNTX0hJRERFTiIsIkNMQVNTX1NFTEVDVEFCTEUiLCJDTEFTU19VTlNFTEVDVEFCTEUiLCJDTEFTU19DT05UUk9MIiwiQ0xBU1NfQ09MTEFQU0VEIiwiZm9udFJlZ0V4IiwiUmVnRXhwIiwiam9pbiIsImZvbnRSZWdFeE1hdGNoSW5kZXgiLCJnZXRGb250UGFyYW1ldGVycyIsImZvbnRTcGVjIiwibWF0Y2giLCJsaW5lSGVpZ2h0Iiwic2l6ZSIsIndlaWdodCIsInZhcmlhbnQiLCJmYW1pbGllcyIsImZhbWlseSIsImNyZWF0ZUNhbnZhc0NvbnRleHQyRCIsIm9wdF93aWR0aCIsIm9wdF9oZWlnaHQiLCJvcHRfY2FudmFzUG9vbCIsImNhbnZhcyIsInNoaWZ0IiwiT2Zmc2NyZWVuQ2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRDb250ZXh0Iiwib3V0ZXJXaWR0aCIsIm9mZnNldFdpZHRoIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJyZXBsYWNlTm9kZSIsIm5ld05vZGUiLCJvbGROb2RlIiwicGFyZW50IiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsInJlbW92ZU5vZGUiLCJub2RlIiwicmVtb3ZlQ2hpbGRyZW4iLCJsYXN0Q2hpbGQiLCJyZXBsYWNlQ2hpbGRyZW4iLCJjaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwiY2hpbGROb2RlcyIsIm9sZENoaWxkIiwibmV3Q2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJlYXNlSW4iLCJ0IiwiTWF0aCIsInBvdyIsImVhc2VPdXQiLCJpbkFuZE91dCIsImxpbmVhciIsImxpc3RlbiIsIm9wdF90aGlzIiwib3B0X29uY2UiLCJiaW5kIiwib3JpZ2luYWxMaXN0ZW5lcl8xIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJldmVudHNLZXkiLCJhZGRFdmVudExpc3RlbmVyIiwibGlzdGVuT25jZSIsInVubGlzdGVuQnlLZXkiLCJCYXNlRXZlbnQiLCJwcm9wYWdhdGlvblN0b3BwZWQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkNIQU5HRSIsIkJMVVIiLCJDTEVBUiIsIkNPTlRFWFRNRU5VIiwiRFJBR0VOVEVSIiwiRFJBR09WRVIiLCJEUk9QIiwiRk9DVVMiLCJLRVlET1dOIiwiS0VZUFJFU1MiLCJMT0FEIiwiUkVTSVpFIiwiVE9VQ0hNT1ZFIiwiV0hFRUwiLCJUYXJnZXQiLCJvcHRfdGFyZ2V0IiwiZXZlbnRUYXJnZXRfIiwicGVuZGluZ1JlbW92YWxzXyIsImRpc3BhdGNoaW5nXyIsImxpc3RlbmVyc18iLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lcnNGb3JUeXBlIiwiZXZlbnQiLCJldnQiLCJwcm9wYWdhdGUiLCJkaXNwYXRjaGluZyIsInBlbmRpbmdSZW1vdmFscyIsImhhbmRsZUV2ZW50IiwicHIiLCJnZXRMaXN0ZW5lcnMiLCJoYXNMaXN0ZW5lciIsIm9wdF90eXBlIiwiYWxsIiwidmFyX2FyZ3MiLCJjb25kaXRpb25zIiwicGFzcyIsImFsdFNoaWZ0S2V5c09ubHkiLCJtYXBCcm93c2VyRXZlbnQiLCJvcmlnaW5hbEV2ZW50IiwiYWx0S2V5IiwibWV0YUtleSIsImN0cmxLZXkiLCJzaGlmdEtleSIsImZvY3VzV2l0aFRhYmluZGV4IiwiZ2V0VGFyZ2V0RWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsImNvbnRhaW5zIiwiYWN0aXZlRWxlbWVudCIsImZvY3VzIiwiYWx3YXlzIiwiY2xpY2siLCJtb3VzZUFjdGlvbkJ1dHRvbiIsImJ1dHRvbiIsIm5ldmVyIiwic2luZ2xlQ2xpY2siLCJub01vZGlmaWVyS2V5cyIsInNoaWZ0S2V5T25seSIsInRhcmdldE5vdEVkaXRhYmxlIiwidGFnTmFtZSIsIm1vdXNlT25seSIsInBvaW50ZXJFdmVudCIsInBvaW50ZXJUeXBlIiwicHJpbWFyeUFjdGlvbiIsImlzUHJpbWFyeSIsImJvdW5kaW5nRXh0ZW50IiwiY29vcmRpbmF0ZXMiLCJleHRlbnQiLCJJbmZpbml0eSIsImV4dGVuZENvb3JkaW5hdGUiLCJidWZmZXIiLCJvcHRfZXh0ZW50IiwiY2xvbmUiLCJjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkiLCJ4IiwieSIsImR4IiwiZHkiLCJjb250YWluc0Nvb3JkaW5hdGUiLCJjb29yZGluYXRlIiwiY29udGFpbnNYWSIsImNvbnRhaW5zRXh0ZW50IiwiZXh0ZW50MSIsImV4dGVudDIiLCJjb29yZGluYXRlUmVsYXRpb25zaGlwIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsInJlbGF0aW9uc2hpcCIsImNyZWF0ZUVtcHR5IiwiY3JlYXRlT3JVcGRhdGUiLCJjcmVhdGVPclVwZGF0ZUVtcHR5IiwiY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZSIsImNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGVzIiwiZXh0ZW5kQ29vcmRpbmF0ZXMiLCJjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMiLCJmbGF0Q29vcmRpbmF0ZXMiLCJvZmZzZXQiLCJzdHJpZGUiLCJleHRlbmRGbGF0Q29vcmRpbmF0ZXMiLCJleHRlbmRYWSIsIm1pbiIsIm1heCIsImZvckVhY2hDb3JuZXIiLCJjYWxsYmFjayIsInZhbCIsImdldEJvdHRvbUxlZnQiLCJnZXRCb3R0b21SaWdodCIsImdldFRvcFJpZ2h0IiwiZ2V0VG9wTGVmdCIsImdldEFyZWEiLCJhcmVhIiwiaXNFbXB0eSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiZ2V0Q2VudGVyIiwiZ2V0Q29ybmVyIiwiY29ybmVyIiwiZ2V0Rm9yVmlld0FuZFNpemUiLCJjZW50ZXIiLCJyZXNvbHV0aW9uIiwicm90YXRpb24iLCJjb3NSb3RhdGlvbiIsImNvcyIsInNpblJvdGF0aW9uIiwic2luIiwieENvcyIsInhTaW4iLCJ5Q29zIiwieVNpbiIsIngwIiwieDEiLCJ4MiIsIngzIiwieTAiLCJ5MSIsInkyIiwieTMiLCJnZXRJbnRlcnNlY3Rpb24iLCJpbnRlcnNlY3Rpb24iLCJpbnRlcnNlY3RzIiwicmV0dXJuT3JVcGRhdGUiLCJzY2FsZUZyb21DZW50ZXIiLCJkZWx0YVgiLCJkZWx0YVkiLCJpbnRlcnNlY3RzU2VnbWVudCIsInN0YXJ0Iiwic3RhcnRSZWwiLCJlbmRSZWwiLCJzdGFydFgiLCJzdGFydFkiLCJlbmRYIiwiZW5kWSIsInNsb3BlIiwiYXBwbHlUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1GbiIsIm9wdF9zdG9wcyIsInhzIiwieXMiLCJsIiwiX2JvdW5kaW5nRXh0ZW50WFlzIiwid3JhcFgiLCJwcm9qZWN0aW9uIiwicHJvamVjdGlvbkV4dGVudCIsImdldEV4dGVudCIsImNhbldyYXBYIiwid29ybGRXaWR0aCIsImZsb29yIiwiQk9UVE9NX0xFRlQiLCJCT1RUT01fUklHSFQiLCJUT1BfTEVGVCIsIlRPUF9SSUdIVCIsIlVOS05PV04iLCJJTlRFUlNFQ1RJTkciLCJBQk9WRSIsIlJJR0hUIiwiQkVMT1ciLCJMRUZUIiwiVFJVRSIsIkZBTFNFIiwiVk9JRCIsIm1lbW9pemVPbmUiLCJmbiIsImxhc3RSZXN1bHQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwiY2FsbGVkIiwibmV4dEFyZ3MiLCJYWSIsIlhZWiIsIlhZTSIsIlhZWk0iLCJQT0lOVCIsIkxJTkVfU1RSSU5HIiwiTElORUFSX1JJTkciLCJQT0xZR09OIiwiTVVMVElfUE9JTlQiLCJNVUxUSV9MSU5FX1NUUklORyIsIk1VTFRJX1BPTFlHT04iLCJHRU9NRVRSWV9DT0xMRUNUSU9OIiwiQ0lSQ0xFIiwiUG9pbnQiLCJvcHRfbGF5b3V0Iiwic2V0Q29vcmRpbmF0ZXMiLCJwb2ludCIsImxheW91dCIsImNsb3Nlc3RQb2ludFhZIiwiY2xvc2VzdFBvaW50IiwibWluU3F1YXJlZERpc3RhbmNlIiwic3F1YXJlZERpc3RhbmNlIiwiZ2V0Q29vcmRpbmF0ZXMiLCJjb21wdXRlRXh0ZW50IiwiZ2V0VHlwZSIsImludGVyc2VjdHNFeHRlbnQiLCJzZXRMYXlvdXQiLCJ0bXBUcmFuc2Zvcm0iLCJHZW9tZXRyeSIsImV4dGVudF8iLCJleHRlbnRSZXZpc2lvbl8iLCJzaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlIiwic2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24iLCJzaW1wbGlmeVRyYW5zZm9ybWVkSW50ZXJuYWwiLCJyZXZpc2lvbiIsInNxdWFyZWRUb2xlcmFuY2UiLCJvcHRfdHJhbnNmb3JtIiwiZ2V0U2ltcGxpZmllZEdlb21ldHJ5Iiwic2ltcGxpZnlUcmFuc2Zvcm1lZCIsImNvb3JkIiwiZ2V0Q2xvc2VzdFBvaW50Iiwib3B0X2Nsb3Nlc3RQb2ludCIsIk5hTiIsImludGVyc2VjdHNDb29yZGluYXRlIiwiaXNOYU4iLCJyb3RhdGUiLCJhbmdsZSIsImFuY2hvciIsInNjYWxlIiwic3giLCJvcHRfc3kiLCJvcHRfYW5jaG9yIiwic2ltcGxpZnkiLCJ0b2xlcmFuY2UiLCJ0cmFuc2xhdGUiLCJ0cmFuc2Zvcm0iLCJkZXN0aW5hdGlvbiIsInNvdXJjZVByb2oiLCJnZXRVbml0cyIsIlVuaXRzIiwiaW5Db29yZGluYXRlcyIsIm91dENvb3JkaW5hdGVzIiwicGl4ZWxFeHRlbnQiLCJwcm9qZWN0ZWRFeHRlbnQiLCJnZXRXb3JsZEV4dGVudCIsImdldFN0cmlkZUZvckxheW91dCIsIkdlb21ldHJ5TGF5b3V0IiwidHJhbnNmb3JtR2VvbTJEIiwic2ltcGxlR2VvbWV0cnkiLCJvcHRfZGVzdCIsImdldEZsYXRDb29yZGluYXRlcyIsImdldFN0cmlkZSIsIlNpbXBsZUdlb21ldHJ5IiwiZ2V0Rmlyc3RDb29yZGluYXRlIiwiZ2V0TGFzdENvb3JkaW5hdGUiLCJnZXRMYXlvdXQiLCJzaW1wbGlmaWVkR2VvbWV0cnkiLCJnZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCIsInNldEZsYXRDb29yZGluYXRlcyIsIm5lc3RpbmciLCJnZXRMYXlvdXRGb3JTdHJpZGUiLCJzeSIsImRlZmxhdGVDb29yZGluYXRlIiwiZGVmbGF0ZUNvb3JkaW5hdGVzIiwiZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXkiLCJjb29yZGluYXRlc3MiLCJvcHRfZW5kcyIsImVuZHMiLCJqaiIsInRyYW5zZm9ybTJEIiwiZGVzdCIsImFuY2hvclgiLCJhbmNob3JZIiwiayIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJGSVJFRk9YIiwiV0VCS0lUIiwiTUFDIiwiREVWSUNFX1BJWEVMX1JBVElPIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIldPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIiwiV29ya2VyR2xvYmFsU2NvcGUiLCJzZWxmIiwiSU1BR0VfREVDT0RFIiwiSW1hZ2UiLCJkZWNvZGUiLCJQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyIsInBhc3NpdmUiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsImVycm9yIiwicGFuIiwidmlldyIsImRlbHRhIiwib3B0X2R1cmF0aW9uIiwiY3VycmVudENlbnRlciIsImdldENlbnRlckludGVybmFsIiwiYW5pbWF0ZUludGVybmFsIiwiZHVyYXRpb24iLCJlYXNpbmciLCJnZXRDb25zdHJhaW5lZENlbnRlciIsInpvb21CeURlbHRhIiwiY3VycmVudFpvb20iLCJnZXRab29tIiwibmV3Wm9vbSIsImdldENvbnN0cmFpbmVkWm9vbSIsIm5ld1Jlc29sdXRpb24iLCJnZXRSZXNvbHV0aW9uRm9yWm9vbSIsImdldEFuaW1hdGluZyIsImNhbmNlbEFuaW1hdGlvbnMiLCJhbmltYXRlIiwiSW50ZXJhY3Rpb24iLCJtYXBfIiwic2V0QWN0aXZlIiwiZ2V0QWN0aXZlIiwiZ2V0TWFwIiwiYWN0aXZlIiwic2V0TWFwIiwiY2VudHJvaWQiLCJwb2ludGVyRXZlbnRzIiwiY2xpZW50WCIsImNsaWVudFkiLCJQb2ludGVySW50ZXJhY3Rpb24iLCJoYW5kbGVEb3duRXZlbnQiLCJoYW5kbGVEcmFnRXZlbnQiLCJoYW5kbGVNb3ZlRXZlbnQiLCJoYW5kbGVVcEV2ZW50Iiwic3RvcERvd24iLCJoYW5kbGluZ0Rvd25VcFNlcXVlbmNlIiwidHJhY2tlZFBvaW50ZXJzXyIsInRhcmdldFBvaW50ZXJzIiwiZ2V0UG9pbnRlckNvdW50Iiwic3RvcEV2ZW50IiwidXBkYXRlVHJhY2tlZFBvaW50ZXJzXyIsImhhbmRsZWRVcCIsImhhbmRsZWQiLCJpc1BvaW50ZXJEcmFnZ2luZ0V2ZW50IiwiZXZlbnRfMSIsImlkIiwicG9pbnRlcklkIiwiQUNUSVZFIiwiU2VsZWN0RXZlbnQiLCJzZWxlY3RlZCIsImRlc2VsZWN0ZWQiLCJvcmlnaW5hbEZlYXR1cmVTdHlsZXMiLCJTZWxlY3QiLCJzdHlsZXMiLCJsYXllckZpbHRlciIsImJvdW5kQWRkRmVhdHVyZV8iLCJhZGRGZWF0dXJlXyIsImJvdW5kUmVtb3ZlRmVhdHVyZV8iLCJyZW1vdmVGZWF0dXJlXyIsImNvbmRpdGlvbl8iLCJjb25kaXRpb24iLCJhZGRDb25kaXRpb25fIiwiYWRkQ29uZGl0aW9uIiwicmVtb3ZlQ29uZGl0aW9uXyIsInJlbW92ZUNvbmRpdGlvbiIsInRvZ2dsZUNvbmRpdGlvbl8iLCJ0b2dnbGVDb25kaXRpb24iLCJtdWx0aV8iLCJtdWx0aSIsImZpbHRlcl8iLCJmaWx0ZXIiLCJoaXRUb2xlcmFuY2VfIiwiaGl0VG9sZXJhbmNlIiwic3R5bGVfIiwiZmVhdHVyZSIsImdldEdlb21ldHJ5IiwiZmVhdHVyZXNfIiwiZmVhdHVyZXMiLCJsYXllcnMiLCJsYXllcnNfMSIsImxheWVyIiwibGF5ZXJGaWx0ZXJfIiwiZmVhdHVyZUxheWVyQXNzb2NpYXRpb25fIiwiYWRkRmVhdHVyZUxheWVyQXNzb2NpYXRpb25fIiwiZ2V0RmVhdHVyZXMiLCJnZXRIaXRUb2xlcmFuY2UiLCJnZXRMYXllciIsInNldEhpdFRvbGVyYW5jZSIsInJlc3RvcmVQcmV2aW91c1N0eWxlXyIsImFwcGx5U2VsZWN0ZWRTdHlsZV8iLCJnZXRTdHlsZSIsInNldFN0eWxlIiwiaW50ZXJhY3Rpb25zIiwiZ2V0SW50ZXJhY3Rpb25zIiwiaW50ZXJhY3Rpb24iLCJsYXN0SW5kZXhPZiIsInJlbW92ZUZlYXR1cmVMYXllckFzc29jaWF0aW9uXyIsImFkZCIsInRvZ2dsZSIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsInBpeGVsIiwiY2xhbXAiLCJjb3NoIiwiZXhwIiwibG9nMiIsImxvZyIsIkxPRzJFIiwic3F1YXJlZFNlZ21lbnREaXN0YW5jZSIsInNvbHZlTGluZWFyU3lzdGVtIiwibWF0IiwibWF4Um93IiwibWF4RWwiLCJhYnMiLCJhYnNWYWx1ZSIsImNvZWYiLCJtIiwidG9SYWRpYW5zIiwiYW5nbGVJbkRlZ3JlZXMiLCJQSSIsIm1vZHVsbyIsImxlcnAiLCJhc3NpZ24iLCJ2YXJfc291cmNlcyIsIlR5cGVFcnJvciIsIm91dHB1dCIsIm9iamVjdCIsInByb3BlcnR5IiwiZ2V0VmFsdWVzIiwiUHJvamVjdGlvbiIsImNvZGVfIiwidW5pdHNfIiwid29ybGRFeHRlbnRfIiwid29ybGRFeHRlbnQiLCJheGlzT3JpZW50YXRpb25fIiwiYXhpc09yaWVudGF0aW9uIiwiZ2xvYmFsXyIsImdsb2JhbCIsImNhbldyYXBYXyIsImdldFBvaW50UmVzb2x1dGlvbkZ1bmNfIiwiZ2V0UG9pbnRSZXNvbHV0aW9uIiwiZGVmYXVsdFRpbGVHcmlkXyIsIm1ldGVyc1BlclVuaXRfIiwibWV0ZXJzUGVyVW5pdCIsImdldENvZGUiLCJnZXRNZXRlcnNQZXJVbml0IiwiZ2V0QXhpc09yaWVudGF0aW9uIiwiaXNHbG9iYWwiLCJzZXRHbG9iYWwiLCJnZXREZWZhdWx0VGlsZUdyaWQiLCJzZXREZWZhdWx0VGlsZUdyaWQiLCJ0aWxlR3JpZCIsInNldEV4dGVudCIsInNldFdvcmxkRXh0ZW50Iiwic2V0R2V0UG9pbnRSZXNvbHV0aW9uIiwiZnVuYyIsImdldFBvaW50UmVzb2x1dGlvbkZ1bmMiLCJSQURJVVMiLCJIQUxGX1NJWkUiLCJFWFRFTlQiLCJXT1JMRF9FWFRFTlQiLCJNQVhfU0FGRV9ZIiwidGFuIiwiRVBTRzM4NTdQcm9qZWN0aW9uIiwidW5pdHMiLCJQUk9KRUNUSU9OUyIsIk1FVEVSU19QRVJfVU5JVCIsIkVQU0c0MzI2UHJvamVjdGlvbiIsIm9wdF9heGlzT3JpZW50YXRpb24iLCJ0cmFuc2Zvcm1zIiwic291cmNlQ29kZSIsImRlc3RpbmF0aW9uQ29kZSIsImdldERpc3RhbmNlIiwiYzEiLCJjMiIsIm9wdF9yYWRpdXMiLCJyYWRpdXMiLCJsYXQxIiwibGF0MiIsImRlbHRhTGF0QnkyIiwiZGVsdGFMb25CeTIiLCJhdGFuMiIsInNxcnQiLCJjbG9uZVRyYW5zZm9ybSIsImlucHV0Iiwib3B0X291dHB1dCIsIm9wdF9kaW1lbnNpb24iLCJpZGVudGl0eVRyYW5zZm9ybSIsImFkZFByb2plY3Rpb24iLCJwcm9qZWN0aW9uTGlrZSIsInJlcGxhY2UiLCJvcHRfdW5pdHMiLCJwb2ludFJlc29sdXRpb24iLCJnZXR0ZXIiLCJ0b0VQU0c0MzI2XzEiLCJnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMiLCJ2ZXJ0aWNlcyIsImFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyIsInByb2plY3Rpb25zIiwiYWRkUHJvamVjdGlvbnMiLCJjcmVhdGVQcm9qZWN0aW9uIiwiZGVmYXVsdENvZGUiLCJmcm9tTG9uTGF0Iiwib3B0X3Byb2plY3Rpb24iLCJ0b0xvbkxhdCIsImxvbkxhdCIsImxvbiIsImVxdWl2YWxlbnQiLCJwcm9qZWN0aW9uMSIsInByb2plY3Rpb24yIiwiZXF1YWxVbml0cyIsInNvdXJjZVByb2plY3Rpb24iLCJkZXN0aW5hdGlvblByb2plY3Rpb24iLCJ0cmFuc2Zvcm1GdW5jIiwiZ2V0VHJhbnNmb3JtIiwicHJvamVjdGlvbnMyIiwiZm9yd2FyZFRyYW5zZm9ybSIsImludmVyc2VUcmFuc2Zvcm0iLCJ1c2VyUHJvamVjdGlvbiIsImdldFVzZXJQcm9qZWN0aW9uIiwidG9Vc2VyQ29vcmRpbmF0ZSIsImZyb21Vc2VyQ29vcmRpbmF0ZSIsImRlc3RQcm9qZWN0aW9uIiwidG9Vc2VyRXh0ZW50IiwiZnJvbVVzZXJFeHRlbnQiLCJkaW1lbnNpb24iLCJhdGFuIiwiREVHUkVFUyIsIkZFRVQiLCJNRVRFUlMiLCJQSVhFTFMiLCJUSUxFX1BJWEVMUyIsIlVTRkVFVCIsImRlZmF1bHRGb250IiwiZGVmYXVsdEZpbGxTdHlsZSIsImRlZmF1bHRMaW5lQ2FwIiwiZGVmYXVsdExpbmVEYXNoIiwiZGVmYXVsdExpbmVEYXNoT2Zmc2V0IiwiZGVmYXVsdExpbmVKb2luIiwiZGVmYXVsdE1pdGVyTGltaXQiLCJkZWZhdWx0U3Ryb2tlU3R5bGUiLCJkZWZhdWx0VGV4dEFsaWduIiwiZGVmYXVsdFRleHRCYXNlbGluZSIsImRlZmF1bHRQYWRkaW5nIiwiZGVmYXVsdExpbmVXaWR0aCIsImNoZWNrZWRGb250cyIsInNldFNpemUiLCJjb25zb2xlIiwid2FybiIsIm1lYXN1cmVGb250IiwiZGl2IiwibWVhc3VyZUNvbnRleHQiLCJ0ZXh0SGVpZ2h0cyIsInJlZ2lzdGVyRm9udCIsImludGVydmFsIiwicmVmZXJlbmNlV2lkdGgiLCJyZWZlcmVuY2VGb250cyIsInRleHQiLCJpc0F2YWlsYWJsZSIsImZvbnRTdHlsZSIsImZvbnRXZWlnaHQiLCJmb250RmFtaWx5IiwiYXZhaWxhYmxlIiwicmVmZXJlbmNlRm9udCIsIm1lYXN1cmVUZXh0V2lkdGgiLCJjaGVjayIsImRvbmUiLCJmb250cyIsImZvbnQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJtZWFzdXJlVGV4dEhlaWdodCIsIm1ldHJpY3MiLCJtZWFzdXJlVGV4dCIsImFjdHVhbEJvdW5kaW5nQm94QXNjZW50IiwiYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50IiwiaW5uZXJIVE1MIiwibWFyZ2luIiwicGFkZGluZyIsInBvc2l0aW9uIiwibGVmdCIsIm1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCIsIm1lYXN1cmVUZXh0V2lkdGhzIiwibGluZXMiLCJ3aWR0aHMiLCJudW1MaW5lcyIsImN1cnJlbnRXaWR0aCIsInJvdGF0ZUF0T2Zmc2V0IiwiY29udGV4dCIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZHJhd0ltYWdlT3JMYWJlbCIsIm9wYWNpdHkiLCJsYWJlbE9ySW1hZ2UiLCJvcmlnaW5YIiwib3JpZ2luWSIsInciLCJoIiwic2F2ZSIsImdsb2JhbEFscGhhIiwic2V0VHJhbnNmb3JtIiwiY29udGV4dEluc3RydWN0aW9ucyIsImxhYmVsIiwiZXhlY3V0ZUxhYmVsSW5zdHJ1Y3Rpb25zIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsImNyZWF0ZVRyYW5zZm9ybVN0cmluZ0NhbnZhcyIsImNyZWF0ZVRyYW5zZm9ybVN0cmluZyIsImhhc0FyZWEiLCJyYXRpbyIsIm9wdF9zaXplIiwidG9TaXplIiwiUmVndWxhclNoYXBlIiwicm90YXRlV2l0aFZpZXciLCJkaXNwbGFjZW1lbnQiLCJjYW52YXNfIiwiaGl0RGV0ZWN0aW9uQ2FudmFzXyIsImZpbGxfIiwiZmlsbCIsIm9yaWdpbl8iLCJwb2ludHNfIiwicG9pbnRzIiwicmFkaXVzXyIsInJhZGl1czEiLCJyYWRpdXMyXyIsInJhZGl1czIiLCJhbmdsZV8iLCJzdHJva2VfIiwic3Ryb2tlIiwiYW5jaG9yXyIsInNpemVfIiwiaW1hZ2VTaXplXyIsImhpdERldGVjdGlvbkltYWdlU2l6ZV8iLCJyZW5kZXIiLCJnZXRTY2FsZSIsImdldEZpbGwiLCJnZXRQb2ludHMiLCJnZXRSYWRpdXMiLCJnZXRSYWRpdXMyIiwiZ2V0QW5nbGUiLCJnZXRTdHJva2UiLCJnZXRSb3RhdGlvbiIsImdldFJvdGF0ZVdpdGhWaWV3IiwiZ2V0RGlzcGxhY2VtZW50Iiwic2V0T3BhY2l0eSIsImdldE9wYWNpdHkiLCJnZXRBbmNob3IiLCJnZXRIaXREZXRlY3Rpb25JbWFnZSIsInJlbmRlck9wdGlvbnMiLCJjcmVhdGVSZW5kZXJPcHRpb25zIiwiY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyIsImdldEltYWdlIiwicGl4ZWxSYXRpbyIsImRyYXdfIiwiZ2V0UGl4ZWxSYXRpbyIsImdldEltYWdlU2l6ZSIsImdldEhpdERldGVjdGlvbkltYWdlU2l6ZSIsImdldEltYWdlU3RhdGUiLCJJbWFnZVN0YXRlIiwiZ2V0T3JpZ2luIiwiZ2V0U2l6ZSIsImxpc3RlbkltYWdlQ2hhbmdlIiwibG9hZCIsInVubGlzdGVuSW1hZ2VDaGFuZ2UiLCJzdHJva2VTdHlsZSIsImxpbmVDYXAiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJsaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0Iiwic3Ryb2tlV2lkdGgiLCJnZXRDb2xvciIsImdldExpbmVEYXNoIiwiZ2V0TGluZURhc2hPZmZzZXQiLCJnZXRMaW5lSm9pbiIsImdldExpbmVDYXAiLCJnZXRNaXRlckxpbWl0IiwiaW1hZ2VTaXplIiwiYW5nbGUwIiwicmFkaXVzQyIsImJlZ2luUGF0aCIsImFyYyIsImxpbmVUbyIsImZpbGxTdHlsZSIsImxpbmVXaWR0aCIsInNldExpbmVEYXNoIiwiY2xvc2VQYXRoIiwiZHJhd0hpdERldGVjdGlvbkNhbnZhc18iLCJDaXJjbGVTdHlsZSIsInNldFJhZGl1cyIsIkZpbGwiLCJjb2xvcl8iLCJzZXRDb2xvciIsIkltYWdlU3R5bGUiLCJvcGFjaXR5XyIsInJvdGF0ZVdpdGhWaWV3XyIsInJvdGF0aW9uXyIsInNjYWxlXyIsInNjYWxlQXJyYXlfIiwiZGlzcGxhY2VtZW50XyIsImdldFNjYWxlQXJyYXkiLCJzZXRSb3RhdGVXaXRoVmlldyIsInNldFJvdGF0aW9uIiwic2V0U2NhbGUiLCJTdHJva2UiLCJsaW5lQ2FwXyIsImxpbmVEYXNoXyIsImxpbmVEYXNoT2Zmc2V0XyIsImxpbmVKb2luXyIsIm1pdGVyTGltaXRfIiwid2lkdGhfIiwic2V0TGluZUNhcCIsInNldExpbmVEYXNoT2Zmc2V0Iiwic2V0TGluZUpvaW4iLCJzZXRNaXRlckxpbWl0Iiwic2V0V2lkdGgiLCJTdHlsZSIsImdlb21ldHJ5XyIsImdlb21ldHJ5RnVuY3Rpb25fIiwiZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb24iLCJnZW9tZXRyeSIsInNldEdlb21ldHJ5IiwiaW1hZ2VfIiwiaW1hZ2UiLCJyZW5kZXJlcl8iLCJyZW5kZXJlciIsInRleHRfIiwiekluZGV4XyIsInpJbmRleCIsImdldFRleHQiLCJnZXRaSW5kZXgiLCJnZXRSZW5kZXJlciIsInNldFJlbmRlcmVyIiwiZ2V0R2VvbWV0cnlGdW5jdGlvbiIsInNldEZpbGwiLCJzZXRJbWFnZSIsInNldFN0cm9rZSIsInNldFRleHQiLCJzZXRaSW5kZXgiLCJ0b0Z1bmN0aW9uIiwic3R5bGVGdW5jdGlvbiIsInN0eWxlc18xIiwiZGVmYXVsdFN0eWxlcyIsImNyZWF0ZURlZmF1bHRTdHlsZSIsImNyZWF0ZUVkaXRpbmdTdHlsZSIsIndoaXRlIiwiYmx1ZSIsImNvbmNhdCIsIkxJTkUiLCJzZXRGcm9tQXJyYXkiLCJ0cmFuc2Zvcm0xIiwidHJhbnNmb3JtMiIsIm1ha2VTY2FsZSIsImMiLCJlIiwiY29tcG9zZSIsImR4MSIsImR5MSIsImR4MiIsImR5MiIsIm1ha2VJbnZlcnNlIiwiZGV0IiwiYWJzdHJhY3QiLCJ1aWRDb3VudGVyXyIsImdldFVpZCIsIm9sX3VpZCIsIlN0cmluZyIsIlZFUlNJT04iLCJtb2R1bGUiLCJleHBvcnRzIiwibyIsInUiLCJfbWF4RW50cmllcyIsIl9taW5FbnRyaWVzIiwiY2VpbCIsImxlYWYiLCJfYWxsIiwic2VhcmNoIiwidG9CQm94IiwiY29sbGlkZXMiLCJpbnNlcnQiLCJfYnVpbGQiLCJfc3BsaXRSb290IiwiX2luc2VydCIsIl9jb25kZW5zZSIsImNvbXBhcmVNaW5YIiwiY29tcGFyZU1pblkiLCJ0b0pTT04iLCJmcm9tSlNPTiIsIl9jaG9vc2VTdWJ0cmVlIiwiX3NwbGl0IiwiX2FkanVzdFBhcmVudEJCb3hlcyIsIl9jaG9vc2VTcGxpdEF4aXMiLCJfY2hvb3NlU3BsaXRJbmRleCIsInYiLCJNIiwiX2FsbERpc3RNYXJnaW4iLCJzb3J0IiwiRmVhdHVyZSIsIm9wdF9nZW9tZXRyeU9yUHJvcGVydGllcyIsImlkXyIsImdlb21ldHJ5TmFtZV8iLCJzdHlsZUZ1bmN0aW9uXyIsImdlb21ldHJ5Q2hhbmdlS2V5XyIsImhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8iLCJwcm9wZXJ0aWVzIiwic2V0R2VvbWV0cnlOYW1lIiwiZ2V0R2VvbWV0cnlOYW1lIiwiZ2V0SWQiLCJnZXRTdHlsZUZ1bmN0aW9uIiwiaGFuZGxlR2VvbWV0cnlDaGFuZ2VfIiwiRXZlbnRUeXBlIiwib3B0X3N0eWxlIiwic2V0SWQiLCJPdmVybGF5IiwiaW5zZXJ0Rmlyc3QiLCJjbGFzc05hbWUiLCJhdXRvUGFuIiwiYW5pbWF0aW9uIiwiYXV0b1BhbkFuaW1hdGlvbiIsImF1dG9QYW5NYXJnaW4iLCJyZW5kZXJlZCIsInRyYW5zZm9ybV8iLCJ2aXNpYmxlIiwibWFwUG9zdHJlbmRlckxpc3RlbmVyS2V5IiwiaGFuZGxlRWxlbWVudENoYW5nZWQiLCJoYW5kbGVNYXBDaGFuZ2VkIiwiaGFuZGxlT2Zmc2V0Q2hhbmdlZCIsImhhbmRsZVBvc2l0aW9uQ2hhbmdlZCIsImhhbmRsZVBvc2l0aW9uaW5nQ2hhbmdlZCIsInNldEVsZW1lbnQiLCJzZXRPZmZzZXQiLCJzZXRQb3NpdGlvbmluZyIsInBvc2l0aW9uaW5nIiwic2V0UG9zaXRpb24iLCJnZXRFbGVtZW50IiwiZ2V0T2Zmc2V0IiwiZ2V0UG9zaXRpb24iLCJnZXRQb3NpdGlvbmluZyIsIk1hcEV2ZW50VHlwZSIsInVwZGF0ZVBpeGVsUG9zaXRpb24iLCJjb250YWluZXIiLCJnZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50IiwiZ2V0T3ZlcmxheUNvbnRhaW5lciIsInBlcmZvcm1BdXRvUGFuIiwicGFuSW50b1ZpZXciLCJvcHRfcGFuSW50b1ZpZXdPcHRpb25zIiwibWFwUmVjdCIsImdldFJlY3QiLCJvdmVybGF5UmVjdCIsInBhbkludG9WaWV3T3B0aW9ucyIsIm15TWFyZ2luIiwib2Zmc2V0TGVmdCIsIm9mZnNldFJpZ2h0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0Qm90dG9tIiwiZ2V0VmlldyIsImNlbnRlclB4IiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsIiwibmV3Q2VudGVyUHgiLCJwYW5PcHRpb25zIiwiZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsIiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFnZVhPZmZzZXQiLCJ0b3AiLCJwYWdlWU9mZnNldCIsInNldFZpc2libGUiLCJkaXNwbGF5IiwiaXNSZW5kZXJlZCIsImdldFBpeGVsRnJvbUNvb3JkaW5hdGUiLCJtYXBTaXplIiwidXBkYXRlUmVuZGVyZWRQb3NpdGlvbiIsInJvdW5kIiwicG9zWCIsInBvc1kiLCJPdmVybGF5UG9zaXRpb25pbmciLCJtc1RyYW5zZm9ybSIsImdldE9wdGlvbnMiLCJUZXh0IiwiZm9udF8iLCJ0ZXh0QWxpZ25fIiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lXyIsInRleHRCYXNlbGluZSIsIm1heEFuZ2xlXyIsIm1heEFuZ2xlIiwicGxhY2VtZW50XyIsInBsYWNlbWVudCIsIlRleHRQbGFjZW1lbnQiLCJvdmVyZmxvd18iLCJvdmVyZmxvdyIsIm9mZnNldFhfIiwib2Zmc2V0WV8iLCJiYWNrZ3JvdW5kRmlsbF8iLCJiYWNrZ3JvdW5kRmlsbCIsImJhY2tncm91bmRTdHJva2VfIiwiYmFja2dyb3VuZFN0cm9rZSIsInBhZGRpbmdfIiwiZ2V0Rm9udCIsImdldFBsYWNlbWVudCIsImdldE1heEFuZ2xlIiwiZ2V0T3ZlcmZsb3ciLCJnZXRUZXh0QWxpZ24iLCJnZXRUZXh0QmFzZWxpbmUiLCJnZXRPZmZzZXRYIiwiZ2V0T2Zmc2V0WSIsImdldEJhY2tncm91bmRGaWxsIiwiZ2V0QmFja2dyb3VuZFN0cm9rZSIsImdldFBhZGRpbmciLCJzZXRPdmVyZmxvdyIsInNldEZvbnQiLCJzZXRNYXhBbmdsZSIsInNldE9mZnNldFgiLCJzZXRPZmZzZXRZIiwic2V0UGxhY2VtZW50Iiwic2V0VGV4dEFsaWduIiwic2V0VGV4dEJhc2VsaW5lIiwic2V0QmFja2dyb3VuZEZpbGwiLCJzZXRCYWNrZ3JvdW5kU3Ryb2tlIiwic2V0UGFkZGluZyIsIkNPTE9SX0RFRkFVTFRTIiwicHJpbWFyeSIsInNlY29uZGFyeSIsIk1hcmtlciIsImxvY2F0aW9uIiwiaW5mbyIsImluZm9IVE1MIiwic3VwZXIiLCJHZW9tZXRyeVR5cGUiLCJwb3B1cCIsImhhbmRsZUNoYW5nZSIsImNyZWF0ZUluZm9FbGVtZW50IiwiaW5pdFBvcHVwIiwidHJpbSIsImhhc0luZm8iLCJhZGRPdmVybGF5IiwicmVtb3ZlT3ZlcmxheSIsInNob3dJbmZvIiwiaGlkZUluZm8iLCJodG1sIiwiTUFSS0VSX1JBRElVUyIsIm1hcmtlclN0eWxlIiwiQ2lyY2xlIiwiZmlsdGVyT2JqZWN0IiwicHJlZGljYXRlIiwiZW50cmllcyIsInJlZHVjZSIsInJlc3VsdCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImVudW1lcmFibGUiLCJjaHVua0lkIiwiUHJvbWlzZSIsInByb21pc2VzIiwibWluaUNzc0YiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJwcm9wIiwidXJsIiwic2NyaXB0IiwibmVlZEF0dGFjaCIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldEF0dHJpYnV0ZSIsImNoYXJzZXQiLCJ0aW1lb3V0IiwibmMiLCJzZXRBdHRyaWJ1dGUiLCJzcmMiLCJvblNjcmlwdENvbXBsZXRlIiwib25lcnJvciIsIm9ubG9hZCIsImNsZWFyVGltZW91dCIsImRvbmVGbnMiLCJzZXRUaW1lb3V0IiwiaGVhZCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImN1cnJlbnRTY3JpcHQiLCJyZXNvbHZlIiwicmVqZWN0IiwiaHJlZiIsImZ1bGxocmVmIiwiZXhpc3RpbmdMaW5rVGFncyIsImRhdGFIcmVmIiwidGFnIiwicmVsIiwiZXhpc3RpbmdTdHlsZVRhZ3MiLCJmaW5kU3R5bGVzaGVldCIsImxpbmtUYWciLCJlcnJvclR5cGUiLCJyZWFsSHJlZiIsImVyciIsInJlcXVlc3QiLCJjcmVhdGVTdHlsZXNoZWV0IiwiMTc5IiwibWluaUNzcyIsInRoZW4iLCJpbnN0YWxsZWRDaHVua3MiLCJpbnN0YWxsZWRDaHVua0RhdGEiLCJwcm9taXNlIiwicmVhbFNyYyIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInJlc29sdmVzIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwiZ2V0S2V5IiwiY3Jvc3NPcmlnaW4iLCJzaGFyZWQiLCJJY29uSW1hZ2VDYWNoZSIsImNhY2hlXyIsImNhY2hlU2l6ZV8iLCJtYXhDYWNoZVNpemVfIiwiY2FuRXhwaXJlQ2FjaGUiLCJleHBpcmUiLCJpY29uSW1hZ2UiLCJtYXhDYWNoZVNpemUiLCJCYXNlTGF5ZXIiLCJtYXhSZXNvbHV0aW9uIiwibWluUmVzb2x1dGlvbiIsIm1pblpvb20iLCJtYXhab29tIiwiY2xhc3NOYW1lXyIsInN0YXRlXyIsImdldENsYXNzTmFtZSIsImdldExheWVyU3RhdGUiLCJvcHRfbWFuYWdlZCIsInN0YXRlIiwibWFuYWdlZCIsInNvdXJjZVN0YXRlIiwiZ2V0U291cmNlU3RhdGUiLCJnZXRWaXNpYmxlIiwiZ2V0TWF4UmVzb2x1dGlvbiIsImdldE1pblJlc29sdXRpb24iLCJnZXRNaW5ab29tIiwiZ2V0TWF4Wm9vbSIsImdldExheWVyc0FycmF5IiwiZ2V0TGF5ZXJTdGF0ZXNBcnJheSIsIm9wdF9zdGF0ZXMiLCJzZXRNYXhSZXNvbHV0aW9uIiwic2V0TWluUmVzb2x1dGlvbiIsInNldE1heFpvb20iLCJzZXRNaW5ab29tIiwiemluZGV4IiwiaW5WaWV3IiwibGF5ZXJTdGF0ZSIsInZpZXdTdGF0ZSIsInpvb20iLCJMYXllciIsImJhc2VPcHRpb25zIiwibWFwUHJlY29tcG9zZUtleV8iLCJtYXBSZW5kZXJLZXlfIiwic291cmNlQ2hhbmdlS2V5XyIsImhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyIsInNldFNvdXJjZSIsInN0YXRlcyIsImdldFNvdXJjZSIsImdldFN0YXRlIiwiaGFuZGxlU291cmNlQ2hhbmdlXyIsImZyYW1lU3RhdGUiLCJsYXllclJlbmRlcmVyIiwicHJlcGFyZUZyYW1lIiwicmVuZGVyRnJhbWUiLCJsYXllclN0YXRlc0FycmF5Iiwic29tZSIsImFycmF5TGF5ZXJTdGF0ZSIsImNyZWF0ZVJlbmRlcmVyIiwiaGFzUmVuZGVyZXIiLCJCYXNlIiwiY29vcmRpbmF0ZTEiLCJjb29yZGluYXRlMiIsImNvc0FuZ2xlIiwic2luQW5nbGUiLCJ3b3JsZHNBd2F5Iiwib3B0X3NvdXJjZUV4dGVudFdpZHRoIiwic291cmNlRXh0ZW50V2lkdGgiLCJnZXRXb3JsZHNBd2F5IiwiZXhwaXJlSWNvbkNhY2hlIiwiTWFwUmVuZGVyZXIiLCJkaXNwYXRjaFJlbmRlckV2ZW50IiwiY2FsY3VsYXRlTWF0cmljZXMyRCIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtIiwicGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0iLCJmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSIsImNoZWNrV3JhcHBlZCIsInRoaXNBcmciLCJ0aGlzQXJnMiIsInRyYW5zbGF0ZWRDb29yZGluYXRlIiwib2Zmc2V0cyIsImxheWVyU3RhdGVzIiwibnVtTGF5ZXJzIiwibWF0Y2hlcyIsInRtcENvb3JkIiwiZ2V0V3JhcFgiLCJjYWxsYmFja18xIiwib3JkZXIiLCJkaXN0YW5jZVNxIiwiZm9yRWFjaExheWVyQXRQaXhlbCIsImhhc0ZlYXR1cmVBdENvb3JkaW5hdGUiLCJzY2hlZHVsZUV4cGlyZUljb25DYWNoZSIsInBvc3RSZW5kZXJGdW5jdGlvbnMiLCJSZW5kZXJFdmVudCIsIm9wdF9pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0iLCJvcHRfZnJhbWVTdGF0ZSIsIm9wdF9jb250ZXh0IiwiaW52ZXJzZVBpeGVsVHJhbnNmb3JtIiwiRXZlbnQiLCJDb21wb3NpdGVNYXBSZW5kZXJlciIsImZvbnRDaGFuZ2VMaXN0ZW5lcktleV8iLCJPYmplY3RFdmVudFR5cGUiLCJyZWRyYXdUZXh0IiwiZWxlbWVudF8iLCJnZXRWaWV3cG9ydCIsImZpcnN0Q2hpbGQiLCJjaGlsZHJlbl8iLCJyZW5kZXJlZFZpc2libGVfIiwiZGVjbHV0dGVyTGF5ZXJzIiwicHJldmlvdXNFbGVtZW50IiwibGF5ZXJJbmRleCIsInJlbmRlckRlY2x1dHRlciIsImdldERhdGFBdFBpeGVsIiwiTWFwIiwiTGF5ZXJHcm91cCIsImxheWVyc0xpc3RlbmVyS2V5c18iLCJsaXN0ZW5lcktleXNfIiwiaGFuZGxlTGF5ZXJzQ2hhbmdlZF8iLCJzZXRMYXllcnMiLCJoYW5kbGVMYXllckNoYW5nZV8iLCJnZXRMYXllcnMiLCJDb2xsZWN0aW9uRXZlbnRUeXBlIiwiaGFuZGxlTGF5ZXJzQWRkXyIsImhhbmRsZUxheWVyc1JlbW92ZV8iLCJsYXllcnNBcnJheSIsImNvbGxlY3Rpb25FdmVudCIsInBvcyIsIm93bkxheWVyU3RhdGUiLCJNYXBFdmVudCIsIk1hcEJyb3dzZXJFdmVudCIsIm9wdF9kcmFnZ2luZyIsInBpeGVsXyIsImNvb3JkaW5hdGVfIiwiZHJhZ2dpbmciLCJnZXRFdmVudFBpeGVsIiwiY29uZmlndXJhYmxlIiwiZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCIsIk1hcEJyb3dzZXJFdmVudEhhbmRsZXIiLCJtb3ZlVG9sZXJhbmNlIiwiY2xpY2tUaW1lb3V0SWRfIiwiZW11bGF0ZUNsaWNrc18iLCJkcmFnZ2luZ18iLCJkcmFnTGlzdGVuZXJLZXlzXyIsIm1vdmVUb2xlcmFuY2VfIiwiZG93bl8iLCJhY3RpdmVQb2ludGVyc18iLCJ0cmFja2VkVG91Y2hlc18iLCJwb2ludGVyZG93bkxpc3RlbmVyS2V5XyIsImhhbmRsZVBvaW50ZXJEb3duXyIsIm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF8iLCJyZWxheWVkTGlzdGVuZXJLZXlfIiwicmVsYXlFdmVudF8iLCJib3VuZEhhbmRsZVRvdWNoTW92ZV8iLCJoYW5kbGVUb3VjaE1vdmVfIiwiZW11bGF0ZUNsaWNrXyIsIm5ld0V2ZW50IiwiTWFwQnJvd3NlckV2ZW50VHlwZSIsInVwZGF0ZUFjdGl2ZVBvaW50ZXJzXyIsImhhbmRsZVBvaW50ZXJVcF8iLCJpc01vdXNlQWN0aW9uQnV0dG9uXyIsImRvYyIsImdldE93bmVyRG9jdW1lbnQiLCJoYW5kbGVQb2ludGVyTW92ZV8iLCJnZXRSb290Tm9kZSIsImlzTW92aW5nXyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJQcmlvcml0eVF1ZXVlIiwicHJpb3JpdHlGdW5jdGlvbiIsImtleUZ1bmN0aW9uIiwicHJpb3JpdHlGdW5jdGlvbl8iLCJrZXlGdW5jdGlvbl8iLCJlbGVtZW50c18iLCJwcmlvcml0aWVzXyIsInF1ZXVlZEVsZW1lbnRzXyIsImRlcXVldWUiLCJlbGVtZW50cyIsInByaW9yaXRpZXMiLCJzaWZ0VXBfIiwiZWxlbWVudEtleSIsImVucXVldWUiLCJwcmlvcml0eSIsInNpZnREb3duXyIsImdldENvdW50IiwiZ2V0TGVmdENoaWxkSW5kZXhfIiwiZ2V0UmlnaHRDaGlsZEluZGV4XyIsImdldFBhcmVudEluZGV4XyIsImhlYXBpZnlfIiwiaXNLZXlRdWV1ZWQiLCJpc1F1ZXVlZCIsImNvdW50Iiwic3RhcnRJbmRleCIsImxJbmRleCIsInJJbmRleCIsInNtYWxsZXJDaGlsZEluZGV4IiwicGFyZW50SW5kZXgiLCJyZXByaW9yaXRpemUiLCJUaWxlUXVldWUiLCJ0aWxlUHJpb3JpdHlGdW5jdGlvbiIsInRpbGVDaGFuZ2VDYWxsYmFjayIsImJvdW5kSGFuZGxlVGlsZUNoYW5nZV8iLCJoYW5kbGVUaWxlQ2hhbmdlIiwidGlsZUNoYW5nZUNhbGxiYWNrXyIsInRpbGVzTG9hZGluZ18iLCJ0aWxlc0xvYWRpbmdLZXlzXyIsImFkZGVkIiwiZ2V0VGlsZXNMb2FkaW5nIiwidGlsZSIsImhpZmkiLCJ0aWxlS2V5IiwibG9hZE1vcmVUaWxlcyIsIm1heFRvdGFsTG9hZGluZyIsIm1heE5ld0xvYWRzIiwibmV3TG9hZHMiLCJjcmVhdGVFeHRlbnQiLCJvbmx5Q2VudGVyIiwic21vb3RoIiwib3B0X2lzTW92aW5nIiwib3B0X2NlbnRlclNoaWZ0Iiwidmlld1dpZHRoIiwidmlld0hlaWdodCIsInNoaWZ0WCIsInNoaWZ0WSIsIm5vbmUiLCJnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uIiwibWF4RXh0ZW50Iiwidmlld3BvcnRTaXplIiwic2hvd0Z1bGxFeHRlbnQiLCJ4UmVzb2x1dGlvbiIsInlSZXNvbHV0aW9uIiwiZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24iLCJjcmVhdGVNaW5NYXhSZXNvbHV0aW9uIiwib3B0X3Ntb290aCIsIm9wdF9tYXhFeHRlbnQiLCJvcHRfc2hvd0Z1bGxFeHRlbnQiLCJjYXBwZWRNYXhSZXMiLCJkaXNhYmxlIiwiYXNzaWduQ2xvc2VzdCIsIm9mZnNldDEiLCJvZmZzZXQyIiwibWF4U3F1YXJlZERlbHRhIiwic3F1YXJlZERlbHRhIiwiYXNzaWduQ2xvc2VzdFBvaW50IiwibWF4RGVsdGEiLCJpc1JpbmciLCJvcHRfdG1wUG9pbnQiLCJ0bXBQb2ludCIsInNuYXAiLCJxdWFudGl6ZSIsInNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMiLCJzaW1wbGlmaWVkT2Zmc2V0IiwiaW5mbGF0ZUNvb3JkaW5hdGVzIiwib3B0X2Nvb3JkaW5hdGVzIiwiaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkiLCJvcHRfY29vcmRpbmF0ZXNzIiwiaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheSIsImVuZHNzIiwib3B0X2Nvb3JkaW5hdGVzc3MiLCJjb29yZGluYXRlc3NzIiwibGluZWFyUmluZyIsInR3aWNlQXJlYSIsIkxpbmVhclJpbmciLCJtYXhEZWx0YV8iLCJtYXhEZWx0YVJldmlzaW9uXyIsIm1hcmtlcnMiLCJzdGFjayIsImxhc3QiLCJmaXJzdCIsIm1heFNxdWFyZWREaXN0YW5jZSIsInNxdWFyZWREaXN0YW5jZV8xIiwiZG91Z2xhc1BldWNrZXIiLCJkZWZsYXRlIiwibGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50IiwibGluZWFyUmluZ0NvbnRhaW5zWFkiLCJ3biIsImxpbmVhclJpbmdzQ29udGFpbnNYWSIsImludGVyc2VjdHNMaW5lU3RyaW5nIiwiY29vcmRpbmF0ZXNFeHRlbnQiLCJyZXQiLCJwb2ludDEiLCJwb2ludDIiLCJsaW5lYXJSaW5nSXNDbG9ja3dpc2UiLCJlZGdlIiwib3JpZW50TGluZWFyUmluZ3MiLCJvcHRfcmlnaHQiLCJyaWdodCIsImlzQ2xvY2t3aXNlIiwiUG9seWdvbiIsImVuZHNfIiwiZmxhdEludGVyaW9yUG9pbnRSZXZpc2lvbl8iLCJmbGF0SW50ZXJpb3JQb2ludF8iLCJvcmllbnRlZFJldmlzaW9uXyIsIm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyIsImFwcGVuZExpbmVhclJpbmciLCJwb2x5Z29uIiwiYXJyYXlNYXhTcXVhcmVkRGVsdGEiLCJhc3NpZ25DbG9zZXN0QXJyYXlQb2ludCIsImdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzIiwibGluZWFyUmluZ3MiLCJnZXRFbmRzIiwiZ2V0RmxhdEludGVyaW9yUG9pbnQiLCJmbGF0Q2VudGVyIiwiZmxhdENlbnRlcnMiLCJmbGF0Q2VudGVyc09mZnNldCIsImludGVyc2VjdGlvbnMiLCJyciIsInBvaW50WCIsIm1heFNlZ21lbnRMZW5ndGgiLCJzZWdtZW50TGVuZ3RoIiwiZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkiLCJnZXRJbnRlcmlvclBvaW50IiwiZ2V0TGluZWFyUmluZ0NvdW50IiwiZ2V0TGluZWFyUmluZyIsImdldExpbmVhclJpbmdzIiwibGluZWFyUmluZ3NBcmVPcmllbnRlZCIsInNpbXBsaWZpZWRFbmRzIiwicXVhbnRpemVBcnJheSIsImludGVyc2VjdHNMaW5lYXJSaW5nIiwiaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheSIsImZyb21FeHRlbnQiLCJhbmltYXRpb25DYWxsYmFjayIsInJldHVyblZhbHVlIiwiaXNOb29wQW5pbWF0aW9uIiwic291cmNlQ2VudGVyIiwidGFyZ2V0Q2VudGVyIiwic291cmNlUmVzb2x1dGlvbiIsInRhcmdldFJlc29sdXRpb24iLCJzb3VyY2VSb3RhdGlvbiIsInRhcmdldFJvdGF0aW9uIiwiY2FsY3VsYXRlQ2VudGVyT24iLCJyb3RYIiwicm90WSIsIlZpZXciLCJoaW50c18iLCJhbmltYXRpb25zXyIsInVwZGF0ZUFuaW1hdGlvbktleV8iLCJwcm9qZWN0aW9uXyIsInZpZXdwb3J0U2l6ZV8iLCJ0YXJnZXRDZW50ZXJfIiwidGFyZ2V0UmVzb2x1dGlvbl8iLCJ0YXJnZXRSb3RhdGlvbl8iLCJjYW5jZWxBbmNob3JfIiwiYXBwbHlPcHRpb25zXyIsInJlc29sdXRpb25Db25zdHJhaW50SW5mbyIsInJlc29sdXRpb25Db25zdHJhaW50Iiwiem9vbUZhY3RvciIsIm11bHRpV29ybGQiLCJzbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludCIsInByb2pFeHRlbnQiLCJjb25zdHJhaW5Pbmx5Q2VudGVyIiwicmVzb2x1dGlvbnMiLCJjb25zdHJhaW5SZXNvbHV0aW9uIiwiY2FwcGVkIiwieiIsImNyZWF0ZVNuYXBUb1Jlc29sdXRpb25zIiwiZGVmYXVsdE1heFJlc29sdXRpb24iLCJkZWZhdWx0TWluUmVzb2x1dGlvbiIsImRlZmF1bHRNYXhab29tIiwicG93ZXIiLCJvcHRfbWluUmVzb2x1dGlvbiIsIm1pblpvb21MZXZlbCIsImNhcHBlZFpvb21MZXZlbCIsInpvb21MZXZlbCIsImNyZWF0ZVNuYXBUb1Bvd2VyIiwiY29uc3RyYWludCIsImNyZWF0ZVJlc29sdXRpb25Db25zdHJhaW50IiwibWF4UmVzb2x1dGlvbl8iLCJtaW5SZXNvbHV0aW9uXyIsInpvb21GYWN0b3JfIiwicmVzb2x1dGlvbnNfIiwibWluWm9vbV8iLCJjZW50ZXJDb25zdHJhaW50Iiwic21vb3RoRXh0ZW50Q29uc3RyYWludCIsImNyZWF0ZUNlbnRlckNvbnN0cmFpbnQiLCJyb3RhdGlvbkNvbnN0cmFpbnQiLCJlbmFibGVSb3RhdGlvbiIsImNvbnN0cmFpblJvdGF0aW9uIiwidGhldGEiLCJjcmVhdGVSb3RhdGlvbkNvbnN0cmFpbnQiLCJjb25zdHJhaW50c18iLCJzZXRDZW50ZXJJbnRlcm5hbCIsInNldFJlc29sdXRpb24iLCJzZXRab29tIiwib3B0aW9uc18iLCJnZXRVcGRhdGVkT3B0aW9uc18iLCJuZXdPcHRpb25zIiwiZ2V0UmVzb2x1dGlvbiIsImlzRGVmIiwicmVzb2x2ZUNvbnN0cmFpbnRzIiwiYXJncyIsImdldFByb2plY3Rpb24iLCJhbmltYXRpb25Db3VudCIsIkRhdGUiLCJub3ciLCJzZXJpZXMiLCJjb21wbGV0ZSIsInNldEhpbnQiLCJ1cGRhdGVBbmltYXRpb25zXyIsImdldEludGVyYWN0aW5nIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtb3JlIiwic2VyaWVzQ29tcGxldGUiLCJlbGFwc2VkIiwiZnJhY3Rpb24iLCJwcm9ncmVzcyIsImdldFZpZXdwb3J0U2l6ZV8iLCJjb25zdHJhaW5lZFJlc29sdXRpb24iLCJjYWxjdWxhdGVDZW50ZXJab29tIiwiYXBwbHlUYXJnZXRTdGF0ZV8iLCJjb25zdHJhaW5lZFJvdGF0aW9uIiwiY2FsY3VsYXRlQ2VudGVyUm90YXRlIiwiQm9vbGVhbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImN1cnJlbnRSZXNvbHV0aW9uIiwib3B0X3JvdGF0aW9uIiwic2V0Vmlld3BvcnRTaXplIiwiVmlld1Byb3BlcnR5IiwiZ2V0Q29uc3RyYWludHMiLCJnZXRDb25zdHJhaW5SZXNvbHV0aW9uIiwiZ2V0SGludHMiLCJvcHRfaGludHMiLCJjYWxjdWxhdGVFeHRlbnQiLCJjYWxjdWxhdGVFeHRlbnRJbnRlcm5hbCIsImdldFpvb21Gb3JSZXNvbHV0aW9uIiwic2V0Q29uc3RyYWluUmVzb2x1dGlvbiIsImVuYWJsZWQiLCJnZXRSZXNvbHV0aW9ucyIsImdldFJlc29sdXRpb25Gb3JFeHRlbnQiLCJnZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwiLCJnZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbiIsIm9wdF9wb3dlciIsImdldENvbnN0cmFpbmVkUmVzb2x1dGlvbiIsImdldFZhbHVlRm9yUmVzb2x1dGlvbkZ1bmN0aW9uIiwibG9nUG93ZXIiLCJnZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfIiwicmVkdWNlZFNpemUiLCJuZWFyZXN0IiwiYmFzZUxldmVsIiwiZml0IiwiZ2VvbWV0cnlPckV4dGVudCIsImZpdEludGVybmFsIiwiY29vcmRzIiwibWluUm90WCIsIm1pblJvdFkiLCJtYXhSb3RYIiwibWF4Um90WSIsImNlbnRlclJvdFgiLCJjZW50ZXJSb3RZIiwiY2VudGVyWCIsImNlbnRlclkiLCJjZW50ZXJPbiIsImNlbnRlck9uSW50ZXJuYWwiLCJjYWxjdWxhdGVDZW50ZXJTaGlmdCIsImNlbnRlclNoaWZ0Iiwic2hpZnRlZENlbnRlciIsImFkanVzdENlbnRlciIsImRlbHRhQ29vcmRpbmF0ZXMiLCJzZXRDZW50ZXIiLCJhZGp1c3RDZW50ZXJJbnRlcm5hbCIsImFkanVzdFJlc29sdXRpb24iLCJhZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwiLCJpc01vdmluZyIsImFkanVzdFpvb20iLCJhZGp1c3RSb3RhdGlvbiIsImFkanVzdFJvdGF0aW9uSW50ZXJuYWwiLCJuZXdSb3RhdGlvbiIsImhpbnQiLCJvcHRfZG9Ob3RDYW5jZWxBbmltcyIsIm9wdF9mb3JjZU1vdmluZyIsIm5ld0NlbnRlciIsIm9wdF9yZXNvbHV0aW9uRGlyZWN0aW9uIiwiYmVnaW5JbnRlcmFjdGlvbiIsImVuZEludGVyYWN0aW9uIiwiZW5kSW50ZXJhY3Rpb25JbnRlcm5hbCIsIm9wdF90YXJnZXRSZXNvbHV0aW9uIiwidGFyZ2V0Wm9vbSIsIm9wdF9kaXJlY3Rpb24iLCJ0YXJnZXRSZXMiLCJQbHVnZ2FibGVNYXAiLCJvcHRpb25zSW50ZXJuYWwiLCJrZXlib2FyZEV2ZW50VGFyZ2V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250cm9scyIsIm92ZXJsYXlzIiwibGF5ZXJHcm91cCIsImNyZWF0ZU9wdGlvbnNJbnRlcm5hbCIsImJvdW5kSGFuZGxlQnJvd3NlckV2ZW50XyIsImhhbmRsZUJyb3dzZXJFdmVudCIsIm1heFRpbGVzTG9hZGluZ18iLCJtYXhUaWxlc0xvYWRpbmciLCJwaXhlbFJhdGlvXyIsInBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXyIsImFuaW1hdGlvbkRlbGF5S2V5XyIsImFuaW1hdGlvbkRlbGF5XyIsInJlbmRlckZyYW1lXyIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyIsInBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyIsImZyYW1lSW5kZXhfIiwiZnJhbWVTdGF0ZV8iLCJwcmV2aW91c0V4dGVudF8iLCJ2aWV3UHJvcGVydHlMaXN0ZW5lcktleV8iLCJ2aWV3Q2hhbmdlTGlzdGVuZXJLZXlfIiwibGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXyIsInZpZXdwb3J0XyIsIm92ZXJsYXlDb250YWluZXJfIiwib3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8iLCJtYXBCcm93c2VyRXZlbnRIYW5kbGVyXyIsImtleWJvYXJkRXZlbnRUYXJnZXRfIiwia2V5SGFuZGxlcktleXNfIiwib3ZlcmxheXNfIiwib3ZlcmxheUlkSW5kZXhfIiwiaGFuZGxlUmVzaXplXyIsInBvc3RSZW5kZXJGdW5jdGlvbnNfIiwidGlsZVF1ZXVlXyIsImdldFRpbGVQcmlvcml0eSIsImhhbmRsZVRpbGVDaGFuZ2VfIiwiTWFwUHJvcGVydHkiLCJoYW5kbGVMYXllckdyb3VwQ2hhbmdlZF8iLCJoYW5kbGVWaWV3Q2hhbmdlZF8iLCJoYW5kbGVTaXplQ2hhbmdlZF8iLCJoYW5kbGVUYXJnZXRDaGFuZ2VkXyIsImNvbnRyb2wiLCJhZGRPdmVybGF5SW50ZXJuYWxfIiwiYWRkQ29udHJvbCIsImdldENvbnRyb2xzIiwiYWRkSW50ZXJhY3Rpb24iLCJhZGRMYXllciIsImdldExheWVyR3JvdXAiLCJvdmVybGF5IiwiZ2V0T3ZlcmxheXMiLCJzZXRUYXJnZXQiLCJnZXRGZWF0dXJlc0F0UGl4ZWwiLCJoYXNGZWF0dXJlQXRQaXhlbCIsImdldEV2ZW50Q29vcmRpbmF0ZSIsImdldEV2ZW50Q29vcmRpbmF0ZUludGVybmFsIiwidmlld3BvcnRQb3NpdGlvbiIsImV2ZW50UG9zaXRpb24iLCJjaGFuZ2VkVG91Y2hlcyIsImdldFRhcmdldCIsImdldE92ZXJsYXlCeUlkIiwiZ2V0TG9hZGluZyIsImxvYWRpbmciLCJ2aWV3Q29vcmRpbmF0ZSIsIm93bmVyRG9jdW1lbnQiLCJ0aWxlU291cmNlS2V5IiwidGlsZUNlbnRlciIsInRpbGVSZXNvbHV0aW9uIiwid2FudGVkVGlsZXMiLCJicm93c2VyRXZlbnQiLCJoYW5kbGVNYXBCcm93c2VyRXZlbnQiLCJyb290Tm9kZSIsImVsZW1lbnRGcm9tUG9pbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJpbnRlcmFjdGlvbnNBcnJheSIsImhhbmRsZVBvc3RSZW5kZXIiLCJ0aWxlUXVldWUiLCJoaW50cyIsInZpZXdIaW50cyIsImxvd09uRnJhbWVCdWRnZXQiLCJ0aW1lIiwidGFyZ2V0RWxlbWVudCIsInVwZGF0ZVNpemUiLCJoYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXyIsInVwZGF0ZVZpZXdwb3J0U2l6ZV8iLCJyZW5kZXJTeW5jIiwiaGFuZGxlRm9udHNDaGFuZ2VkIiwicmVtb3ZlQ29udHJvbCIsInJlbW92ZUludGVyYWN0aW9uIiwicmVtb3ZlTGF5ZXIiLCJwcmV2aW91c0ZyYW1lU3RhdGUiLCJkZWNsdXR0ZXJUcmVlIiwidXNlZFRpbGVzIiwic2V0TGF5ZXJHcm91cCIsInNldFZpZXciLCJjb21wdXRlZFN0eWxlIiwicGFyc2VGbG9hdCIsIkNvbnRyb2wiLCJ0YXJnZXRfIiwibGlzdGVuZXJLZXlzIiwibWFwRXZlbnQiLCJBdHRyaWJ1dGlvbiIsInVsRWxlbWVudF8iLCJjb2xsYXBzZWRfIiwiY29sbGFwc2VkIiwidXNlckNvbGxhcHNlZF8iLCJvdmVycmlkZUNvbGxhcHNpYmxlXyIsImNvbGxhcHNpYmxlIiwiY29sbGFwc2libGVfIiwidGlwTGFiZWwiLCJleHBhbmRDbGFzc05hbWUiLCJjb2xsYXBzZUxhYmVsIiwiY29sbGFwc2VDbGFzc05hbWUiLCJjb2xsYXBzZUxhYmVsXyIsInRleHRDb250ZW50IiwibGFiZWxfIiwiYWN0aXZlTGFiZWwiLCJ0aXRsZSIsImhhbmRsZUNsaWNrXyIsImNzc0NsYXNzZXMiLCJyZW5kZXJlZEF0dHJpYnV0aW9uc18iLCJjb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyIsImxvb2t1cCIsInZpc2libGVBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbkdldHRlciIsImdldEF0dHJpYnV0aW9ucyIsImF0dHJpYnV0aW9ucyIsImdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlIiwic2V0Q29sbGFwc2libGUiLCJ1cGRhdGVFbGVtZW50XyIsImhhbmRsZVRvZ2dsZV8iLCJjbGFzc0xpc3QiLCJnZXRDb2xsYXBzaWJsZSIsInNldENvbGxhcHNlZCIsImdldENvbGxhcHNlZCIsIlJvdGF0ZSIsImNvbXBhc3NDbGFzc05hbWUiLCJjYWxsUmVzZXROb3J0aF8iLCJyZXNldE5vcnRoIiwiZHVyYXRpb25fIiwiYXV0b0hpZGVfIiwiYXV0b0hpZGUiLCJyZXNldE5vcnRoXyIsIlpvb20iLCJ6b29tSW5DbGFzc05hbWUiLCJ6b29tT3V0Q2xhc3NOYW1lIiwiem9vbUluTGFiZWwiLCJ6b29tT3V0TGFiZWwiLCJ6b29tSW5UaXBMYWJlbCIsInpvb21PdXRUaXBMYWJlbCIsImluRWxlbWVudCIsImNyZWF0ZVRleHROb2RlIiwib3V0RWxlbWVudCIsInpvb21CeURlbHRhXyIsIkRvdWJsZUNsaWNrWm9vbSIsImRlbHRhXyIsIkRyYWdQYW4iLCJraW5ldGljXyIsImtpbmV0aWMiLCJsYXN0Q2VudHJvaWQiLCJsYXN0UG9pbnRlcnNDb3VudF8iLCJwYW5uaW5nXyIsIm9uRm9jdXNPbmx5Iiwibm9LaW5ldGljXyIsInVwZGF0ZSIsImRpc3RhbmNlIiwiY2VudGVycHgiLCJQb2ludGVyIiwiRHJhZ1JvdGF0ZSIsImxhc3RBbmdsZV8iLCJSZW5kZXJCb3giLCJzdGFydFBpeGVsXyIsImVuZFBpeGVsXyIsInJlbmRlcl8iLCJzdGFydFBpeGVsIiwiZW5kUGl4ZWwiLCJweCIsInNldFBpeGVscyIsImNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkiLCJEcmFnQm94RXZlbnQiLCJEcmFnQm94IiwiYm94XyIsIm1pbkFyZWFfIiwibWluQXJlYSIsIm9uQm94RW5kIiwiYm94RW5kQ29uZGl0aW9uXyIsImJveEVuZENvbmRpdGlvbiIsImRlZmF1bHRCb3hFbmRDb25kaXRpb24iLCJjb21wbGV0ZUJveCIsIkRyYWdab29tIiwib3V0XyIsIm91dCIsIm1hcEV4dGVudCIsImJveFBpeGVsRXh0ZW50IiwiZmFjdG9yIiwiS2V5Ym9hcmRQYW4iLCJkZWZhdWx0Q29uZGl0aW9uXyIsInBpeGVsRGVsdGFfIiwicGl4ZWxEZWx0YSIsImtleUV2ZW50Iiwia2V5Q29kZSIsIm1hcFVuaXRzRGVsdGEiLCJLZXlib2FyZFpvb20iLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJLaW5ldGljIiwiZGVjYXkiLCJtaW5WZWxvY2l0eSIsImRlbGF5IiwiZGVjYXlfIiwibWluVmVsb2NpdHlfIiwiZGVsYXlfIiwiaW5pdGlhbFZlbG9jaXR5XyIsImxhc3RJbmRleCIsImZpcnN0SW5kZXgiLCJNb2RlIiwiTW91c2VXaGVlbFpvb20iLCJ0b3RhbERlbHRhXyIsImxhc3REZWx0YV8iLCJ0aW1lb3V0XyIsInVzZUFuY2hvcl8iLCJ1c2VBbmNob3IiLCJjb25zdHJhaW5SZXNvbHV0aW9uXyIsImxhc3RBbmNob3JfIiwic3RhcnRUaW1lXyIsInRpbWVvdXRJZF8iLCJtb2RlXyIsInRyYWNrcGFkRXZlbnRHYXBfIiwidHJhY2twYWRUaW1lb3V0SWRfIiwiZGVsdGFQZXJab29tXyIsImVuZEludGVyYWN0aW9uXyIsIndoZWVsRXZlbnQiLCJkZWx0YU1vZGUiLCJXaGVlbEV2ZW50IiwiRE9NX0RFTFRBX1BJWEVMIiwiRE9NX0RFTFRBX0xJTkUiLCJ0aW1lTGVmdCIsImhhbmRsZVdoZWVsWm9vbV8iLCJzZXRNb3VzZUFuY2hvciIsIlBpbmNoUm90YXRlIiwicG9pbnRlck9wdGlvbnMiLCJyb3RhdGluZ18iLCJyb3RhdGlvbkRlbHRhXyIsInRocmVzaG9sZF8iLCJ0aHJlc2hvbGQiLCJyb3RhdGlvbkRlbHRhIiwidG91Y2gwIiwidG91Y2gxIiwiUGluY2hab29tIiwibGFzdERpc3RhbmNlXyIsImxhc3RTY2FsZURlbHRhXyIsInNjYWxlRGVsdGEiLCJ6b29tT3B0aW9ucyIsInJvdGF0ZU9wdGlvbnMiLCJhdHRyaWJ1dGlvbiIsImF0dHJpYnV0aW9uT3B0aW9ucyIsImFsdFNoaWZ0RHJhZ1JvdGF0ZSIsImRvdWJsZUNsaWNrWm9vbSIsInpvb21EZWx0YSIsInpvb21EdXJhdGlvbiIsImRyYWdQYW4iLCJwaW5jaFJvdGF0ZSIsInBpbmNoWm9vbSIsImtleWJvYXJkIiwibW91c2VXaGVlbFpvb20iLCJzaGlmdERyYWdab29tIiwiQ29tcG9zaXRlIiwiQmFzZVRpbGVMYXllciIsInByZWxvYWQiLCJ1c2VJbnRlcmltVGlsZXNPbkVycm9yIiwic2V0UHJlbG9hZCIsInNldFVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJnZXRQcmVsb2FkIiwiVGlsZVByb3BlcnR5IiwiZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciIsIkxheWVyUmVuZGVyZXIiLCJib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyIsImhhbmRsZUltYWdlQ2hhbmdlXyIsImxheWVyXyIsImRlY2x1dHRlckV4ZWN1dG9yR3JvdXAiLCJsb2FkZWRUaWxlQ2FsbGJhY2siLCJ0aWxlcyIsInRpbGVDb29yZCIsImNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIiLCJ0aWxlUmFuZ2UiLCJmb3JFYWNoTG9hZGVkVGlsZSIsInJlbmRlcklmUmVhZHlBbmRWaXNpYmxlIiwibG9hZEltYWdlIiwiaW1hZ2VTdGF0ZSIsIkNhbnZhc0xheWVyUmVuZGVyZXIiLCJyZW5kZXJlZFJlc29sdXRpb24iLCJ0ZW1wVHJhbnNmb3JtIiwicGl4ZWxUcmFuc2Zvcm0iLCJjb250YWluZXJSZXVzZWQiLCJ1c2VDb250YWluZXIiLCJsYXllckNsYXNzTmFtZSIsImZpcnN0RWxlbWVudENoaWxkIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJjbGlwIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsInRvcExlZnQiLCJ0b3BSaWdodCIsImJvdHRvbVJpZ2h0IiwiYm90dG9tTGVmdCIsIm1vdmVUbyIsImNsaXBVbnJvdGF0ZWQiLCJpbnZlcnRlZCIsImRpc3BhdGNoUmVuZGVyRXZlbnRfIiwicHJlUmVuZGVyIiwicG9zdFJlbmRlciIsImdldFJlbmRlclRyYW5zZm9ybSIsInJlbmRlclBpeGVsIiwibGF5ZXJFeHRlbnQiLCJyZW5kZXJDb29yZGluYXRlIiwibmV3Q2FudmFzIiwibmV3Q29udGV4dCIsImNsZWFyUmVjdCIsImdldEltYWdlRGF0YSIsIlVpbnQ4QXJyYXkiLCJUaWxlUmFuZ2UiLCJjb250YWluc1RpbGVSYW5nZSIsIkNhbnZhc1RpbGVMYXllclJlbmRlcmVyIiwidGlsZUxheWVyIiwiZXh0ZW50Q2hhbmdlZCIsInJlbmRlcmVkRXh0ZW50XyIsInJlbmRlcmVkUGl4ZWxSYXRpbyIsInJlbmRlcmVkUHJvamVjdGlvbiIsInJlbmRlcmVkUmV2aXNpb24iLCJyZW5kZXJlZFRpbGVzIiwibmV3VGlsZXNfIiwidG1wRXh0ZW50IiwidG1wVGlsZVJhbmdlXyIsImlzRHJhd2FibGVUaWxlIiwidGlsZVN0YXRlIiwiZ2V0VGlsZSIsInNldFN0YXRlIiwiZ2V0SW50ZXJpbVRpbGUiLCJ2aWV3UmVzb2x1dGlvbiIsInZpZXdDZW50ZXIiLCJ0aWxlU291cmNlIiwic291cmNlUmV2aXNpb24iLCJnZXRUaWxlR3JpZEZvclByb2plY3Rpb24iLCJnZXRaRm9yUmVzb2x1dGlvbiIsInpEaXJlY3Rpb24iLCJ0aWxlUGl4ZWxSYXRpbyIsImdldFRpbGVQaXhlbFJhdGlvIiwiY2FudmFzRXh0ZW50IiwiZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWiIsInRpbGVzVG9EcmF3QnlaIiwiZmluZExvYWRlZFRpbGVzIiwidG1wVGlsZVJhbmdlIiwidWlkIiwiaW5UcmFuc2l0aW9uIiwiZ2V0QWxwaGEiLCJjaGlsZFRpbGVSYW5nZSIsImdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlIiwiY292ZXJlZCIsImZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UiLCJjYW52YXNTY2FsZSIsImNhbnZhc1RyYW5zZm9ybSIsImdldENvbnRleHRPcHRpb25zIiwiY2xpcHMiLCJjbGlwWnMiLCJjdXJyZW50Q2xpcCIsInpzIiwiZ2V0T3BhcXVlIiwicmV2ZXJzZSIsImN1cnJlbnRaIiwiY3VycmVudFRpbGVQaXhlbFNpemUiLCJnZXRUaWxlUGl4ZWxTaXplIiwiY3VycmVudFNjYWxlIiwiZHhfMSIsImR5XzEiLCJvcmlnaW5UaWxlQ29vcmQiLCJnZXRUaWxlQ29vcmRGb3JDb29yZEFuZFoiLCJvcmlnaW5UaWxlRXh0ZW50IiwiZ2V0VGlsZUNvb3JkRXh0ZW50Iiwib3JpZ2luXzEiLCJ0aWxlR3V0dGVyIiwiZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiIsInRpbGVzVG9EcmF3IiwidGlsZUNvb3JkS2V5IiwiZmxvYXRYIiwibmV4dFgiLCJmbG9hdFkiLCJuZXh0WSIsInRyYW5zaXRpb24iLCJpXzEiLCJkcmF3VGlsZUltYWdlIiwidXBkYXRlVXNlZFRpbGVzIiwibWFuYWdlVGlsZVB5cmFtaWQiLCJzY2hlZHVsZUV4cGlyZUNhY2hlIiwiZ3V0dGVyIiwiZ2V0VGlsZUltYWdlIiwidGlsZUFscGhhIiwiYWxwaGEiLCJhbHBoYUNoYW5nZWQiLCJlbmRUcmFuc2l0aW9uIiwicG9zdFJlbmRlckZ1bmN0aW9uIiwiZXhwaXJlQ2FjaGUiLCJvcHRfdGlsZUNhbGxiYWNrIiwidGlsZUNvdW50IiwiZ2V0VGlsZUNvb3JkQ2VudGVyIiwidXNlVGlsZSIsInVwZGF0ZUNhY2hlU2l6ZSIsIlRpbGVMYXllciIsIkJhc2VUaWxlIiwiQmFzZVZlY3RvckxheWVyIiwicmVuZGVyQnVmZmVyIiwidXBkYXRlV2hpbGVBbmltYXRpbmciLCJ1cGRhdGVXaGlsZUludGVyYWN0aW5nIiwiZGVjbHV0dGVyXyIsImRlY2x1dHRlciIsInJlbmRlckJ1ZmZlcl8iLCJ1cGRhdGVXaGlsZUFuaW1hdGluZ18iLCJ1cGRhdGVXaGlsZUludGVyYWN0aW5nXyIsImdldERlY2x1dHRlciIsImdldFJlbmRlckJ1ZmZlciIsImdldFJlbmRlck9yZGVyIiwiZ2V0VXBkYXRlV2hpbGVBbmltYXRpbmciLCJnZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nIiwic2V0UmVuZGVyT3JkZXIiLCJyZW5kZXJPcmRlciIsIkluc3RydWN0aW9uIiwiQkVHSU5fR0VPTUVUUlkiLCJCRUdJTl9QQVRIIiwiQ0xPU0VfUEFUSCIsIkNVU1RPTSIsIkRSQVdfQ0hBUlMiLCJEUkFXX0lNQUdFIiwiRU5EX0dFT01FVFJZIiwiRklMTCIsIk1PVkVfVE9fTElORV9UTyIsIlNFVF9GSUxMX1NUWUxFIiwiU0VUX1NUUk9LRV9TVFlMRSIsIlNUUk9LRSIsImZpbGxJbnN0cnVjdGlvbiIsInN0cm9rZUluc3RydWN0aW9uIiwiYmVnaW5QYXRoSW5zdHJ1Y3Rpb24iLCJjbG9zZVBhdGhJbnN0cnVjdGlvbiIsIlZlY3RvckNvbnRleHQiLCJkcmF3Q3VzdG9tIiwiZHJhd0dlb21ldHJ5IiwiZHJhd0NpcmNsZSIsImNpcmNsZUdlb21ldHJ5IiwiZHJhd0ZlYXR1cmUiLCJkcmF3R2VvbWV0cnlDb2xsZWN0aW9uIiwiZ2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnkiLCJkcmF3TGluZVN0cmluZyIsImxpbmVTdHJpbmdHZW9tZXRyeSIsImRyYXdNdWx0aUxpbmVTdHJpbmciLCJtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSIsImRyYXdNdWx0aVBvaW50IiwibXVsdGlQb2ludEdlb21ldHJ5IiwiZHJhd011bHRpUG9seWdvbiIsIm11bHRpUG9seWdvbkdlb21ldHJ5IiwiZHJhd1BvaW50IiwicG9pbnRHZW9tZXRyeSIsImRyYXdQb2x5Z29uIiwicG9seWdvbkdlb21ldHJ5IiwiZHJhd1RleHQiLCJzZXRGaWxsU3Ryb2tlU3R5bGUiLCJzZXRJbWFnZVN0eWxlIiwiaW1hZ2VTdHlsZSIsIm9wdF9kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0Iiwic2V0VGV4dFN0eWxlIiwidGV4dFN0eWxlIiwiQ2FudmFzQnVpbGRlciIsIm1heExpbmVXaWR0aCIsImJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfIiwiYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8iLCJidWZmZXJlZE1heEV4dGVudF8iLCJpbnN0cnVjdGlvbnMiLCJ0bXBDb29yZGluYXRlXyIsImhpdERldGVjdGlvbkluc3RydWN0aW9ucyIsImFwcGx5UGl4ZWxSYXRpbyIsImRhc2hBcnJheSIsImRhc2giLCJhcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyIsImdldEJ1ZmZlcmVkTWF4RXh0ZW50IiwibXlFbmQiLCJhcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzIiwiY2xvc2VkIiwic2tpcEZpcnN0IiwibGFzdFJlbCIsIm5leHRSZWwiLCJsYXN0WENvb3JkIiwibGFzdFlDb29yZCIsIm5leHRDb29yZCIsInNraXBwZWQiLCJSZWxhdGlvbnNoaXAiLCJkcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfIiwiYnVpbGRlckVuZHMiLCJidWlsZGVyRW5kIiwiYmVnaW5HZW9tZXRyeSIsImJ1aWxkZXJFbmRzcyIsImJ1aWxkZXJCZWdpbiIsImdldEVuZHNzIiwibXlFbmRzIiwiZW5kR2VvbWV0cnkiLCJmaW5pc2giLCJyZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIiwiaW5zdHJ1Y3Rpb24iLCJmaWxsU3R5bGVDb2xvciIsInN0cm9rZVN0eWxlQ29sb3IiLCJzdHJva2VTdHlsZUxpbmVDYXAiLCJzdHJva2VTdHlsZUxpbmVEYXNoIiwic3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCIsInN0cm9rZVN0eWxlTGluZUpvaW4iLCJzdHJva2VTdHlsZVdpZHRoIiwic3Ryb2tlU3R5bGVNaXRlckxpbWl0IiwiY3JlYXRlRmlsbCIsImFwcGx5U3Ryb2tlIiwiY3JlYXRlU3Ryb2tlIiwidXBkYXRlRmlsbFN0eWxlIiwiY3VycmVudEZpbGxTdHlsZSIsInVwZGF0ZVN0cm9rZVN0eWxlIiwiY3VycmVudFN0cm9rZVN0eWxlIiwiY3VycmVudExpbmVDYXAiLCJjdXJyZW50TGluZURhc2giLCJjdXJyZW50TGluZURhc2hPZmZzZXQiLCJjdXJyZW50TGluZUpvaW4iLCJjdXJyZW50TGluZVdpZHRoIiwiY3VycmVudE1pdGVyTGltaXQiLCJlbmRHZW9tZXRyeUluc3RydWN0aW9uIiwiQ2FudmFzSW1hZ2VCdWlsZGVyIiwiaGl0RGV0ZWN0aW9uSW1hZ2VfIiwiaW1hZ2VQaXhlbFJhdGlvXyIsImFuY2hvclhfIiwiYW5jaG9yWV8iLCJoZWlnaHRfIiwib3JpZ2luWF8iLCJvcmlnaW5ZXyIsImRlY2x1dHRlckltYWdlV2l0aFRleHRfIiwibXlCZWdpbiIsIm9wdF9zaGFyZWREYXRhIiwiaGl0RGV0ZWN0aW9uSW1hZ2UiLCJvcmlnaW4iLCJDYW52YXNMaW5lU3RyaW5nQnVpbGRlciIsImRyYXdGbGF0Q29vcmRpbmF0ZXNfIiwibW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24iLCJsYXN0U3Ryb2tlIiwiQ2FudmFzUG9seWdvbkJ1aWxkZXIiLCJkcmF3RmxhdENvb3JkaW5hdGVzc18iLCJudW1FbmRzIiwic2V0RmlsbFN0cm9rZVN0eWxlc18iLCJjaXJjbGVJbnN0cnVjdGlvbiIsIm1hdGNoaW5nQ2h1bmsiLCJtMTIiLCJtMjMiLCJ4MTIiLCJ5MTIiLCJ4MjMiLCJ5MjMiLCJjaHVua1N0YXJ0IiwiY2h1bmtFbmQiLCJjaHVua00iLCJhY29zIiwiVEVYVF9BTElHTiIsIkJBVENIX0NPTlNUUlVDVE9SUyIsIlBvbHlnb25CdWlsZGVyIiwiQnVpbGRlciIsIkltYWdlQnVpbGRlciIsIkxpbmVTdHJpbmdCdWlsZGVyIiwiQ2FudmFzVGV4dEJ1aWxkZXIiLCJsYWJlbHNfIiwidGV4dE9mZnNldFhfIiwidGV4dE9mZnNldFlfIiwidGV4dFJvdGF0ZVdpdGhWaWV3XyIsInRleHRSb3RhdGlvbl8iLCJ0ZXh0RmlsbFN0YXRlXyIsImZpbGxTdGF0ZXMiLCJ0ZXh0U3Ryb2tlU3RhdGVfIiwic3Ryb2tlU3RhdGVzIiwidGV4dFN0YXRlXyIsInRleHRTdGF0ZXMiLCJ0ZXh0S2V5XyIsImZpbGxLZXlfIiwic3Ryb2tlS2V5XyIsImZpbGxTdGF0ZSIsInN0cm9rZVN0YXRlIiwidGV4dFN0YXRlIiwiZ2VvbWV0cnlUeXBlIiwiZ2VvbWV0cnlXaWR0aHMiLCJnZXRGbGF0TWlkcG9pbnQiLCJnZXRGbGF0TWlkcG9pbnRzIiwiaW50ZXJpb3JQb2ludHMiLCJnZXRGbGF0SW50ZXJpb3JQb2ludHMiLCJzYXZlVGV4dFN0YXRlc18iLCJwMCIsInAxIiwicDIiLCJwMyIsInBpeGVsUmF0aW9fMSIsImZsYXRPZmZzZXQiLCJmbGF0RW5kIiwib28iLCJyYW5nZSIsImRyYXdDaGFyc18iLCJzdHJva2VLZXkiLCJ0ZXh0S2V5IiwiZmlsbEtleSIsImJhc2VsaW5lIiwidGV4dEZpbGxTdHlsZSIsInRleHRTdHJva2VTdHlsZSIsInRleHRTY2FsZSIsInRleHRPZmZzZXRYIiwidGV4dE9mZnNldFkiLCJ0ZXh0Um90YXRlV2l0aFZpZXciLCJ0ZXh0Um90YXRpb24iLCJCdWlsZGVyR3JvdXAiLCJ0b2xlcmFuY2VfIiwibWF4RXh0ZW50XyIsInJlc29sdXRpb25fIiwiYnVpbGRlcnNCeVpJbmRleF8iLCJidWlsZGVySW5zdHJ1Y3Rpb25zIiwiektleSIsImJ1aWxkZXJzIiwiYnVpbGRlcktleSIsImJ1aWxkZXJJbnN0cnVjdGlvbiIsImdldEJ1aWxkZXIiLCJidWlsZGVyVHlwZSIsInpJbmRleEtleSIsInJlcGxheXMiLCJyZXBsYXkiLCJDb25zdHJ1Y3RvciIsImRyYXdUZXh0T25QYXRoIiwic3RhcnRNIiwic2VnbWVudE0iLCJhZHZhbmNlIiwiaW50ZXJwb2xhdGUiLCJiZWdpblgiLCJiZWdpblkiLCJzdGFydE9mZnNldCIsInN0YXJ0TGVuZ3RoIiwiZW5kTSIsImZsYXQiLCJwcmV2aW91c0FuZ2xlIiwic2luZ2xlU2VnbWVudCIsInByZXZpb3VzQW5nbGVfMSIsImlTdGFydCIsImNoYXJMZW5ndGgiLCJjaGFycyIsInN1YnN0cmluZyIsImxpbmVTdHJpbmdMZW5ndGgiLCJwNCIsImdldERlY2x1dHRlckJveCIsInJlcGxheUltYWdlT3JMYWJlbEFyZ3MiLCJkZWNsdXR0ZXJCb3giLCJydGxSZWdFeCIsImZyb21DaGFyQ29kZSIsImhvcml6b250YWxUZXh0QWxpZ24iLCJhbGlnbiIsInRlc3QiLCJFeGVjdXRvciIsIm92ZXJsYXBzIiwiYWxpZ25GaWxsXyIsImNvb3JkaW5hdGVDYWNoZV8iLCJyZW5kZXJlZFRyYW5zZm9ybV8iLCJwaXhlbENvb3JkaW5hdGVzXyIsInZpZXdSb3RhdGlvbl8iLCJ3aWR0aHNfIiwiY3JlYXRlTGFiZWwiLCJyZW5kZXJXaWR0aCIsIk9mZnNjcmVlbkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsImxlZnRSaWdodCIsInJlcGxheVRleHRCYWNrZ3JvdW5kXyIsInNldFN0cm9rZVN0eWxlXyIsImNhbGN1bGF0ZUltYWdlT3JMYWJlbERpbWVuc2lvbnNfIiwic2hlZXRXaWR0aCIsInNoZWV0SGVpZ2h0Iiwic25hcFRvUGl4ZWwiLCJmaWxsU3Ryb2tlIiwiYm94VyIsImJveEgiLCJib3hYIiwiYm94WSIsImRyYXdJbWFnZVgiLCJkcmF3SW1hZ2VZIiwiZHJhd0ltYWdlVyIsImRyYXdJbWFnZUgiLCJyZXBsYXlJbWFnZU9yTGFiZWxfIiwiY29udGV4dFNjYWxlIiwiaW1hZ2VPckxhYmVsIiwiZGltZW5zaW9ucyIsInN0cm9rZVBhZGRpbmciLCJyZXBlYXRTaXplIiwiZHJhd0xhYmVsV2l0aFBvaW50UGxhY2VtZW50XyIsImV4ZWN1dGVfIiwib3B0X2ZlYXR1cmVDYWxsYmFjayIsIm9wdF9oaXRFeHRlbnQiLCJvcHRfZGVjbHV0dGVyVHJlZSIsInBpeGVsQ29vcmRpbmF0ZXMiLCJkZCIsInByZXZYIiwicHJldlkiLCJyb3VuZFgiLCJyb3VuZFkiLCJjdXJyZW50R2VvbWV0cnkiLCJwZW5kaW5nRmlsbCIsInBlbmRpbmdTdHJva2UiLCJsYXN0RmlsbEluc3RydWN0aW9uIiwibGFzdFN0cm9rZUluc3RydWN0aW9uIiwiY29vcmRpbmF0ZUNhY2hlIiwidmlld1JvdGF0aW9uIiwidmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSIsImJhdGNoU2l6ZSIsImRlY2x1dHRlckltYWdlV2l0aFRleHQiLCJsYWJlbFdpdGhBbmNob3IiLCJ3aWR0aEluZGV4IiwiaW1hZ2VBcmdzIiwiaW1hZ2VEZWNsdXR0ZXJCb3giLCJtZWFzdXJlUGl4ZWxSYXRpbyIsInBpeGVsUmF0aW9TY2FsZSIsImNhY2hlZFdpZHRocyIsInBhdGhMZW5ndGgiLCJ0ZXh0TGVuZ3RoIiwicGFydHMiLCJkcmF3Q2hhcnMiLCJjYyIsInBhcnQiLCJpaV8xIiwiZXhlY3V0ZSIsImV4ZWN1dGVIaXREZXRlY3Rpb24iLCJPUkRFUiIsIkJ1aWxkZXJUeXBlIiwiRXhlY3V0b3JHcm91cCIsImFsbEluc3RydWN0aW9ucyIsIm9wdF9yZW5kZXJCdWZmZXIiLCJvdmVybGFwc18iLCJleGVjdXRvcnNCeVpJbmRleF8iLCJoaXREZXRlY3Rpb25Db250ZXh0XyIsImhpdERldGVjdGlvblRyYW5zZm9ybV8iLCJjcmVhdGVFeGVjdXRvcnNfIiwiZmxhdENsaXBDb29yZHMiLCJnZXRDbGlwQ29vcmRzIiwiZXhlY3V0b3JzIiwiaW5zdHJ1Y3Rpb25CeVppbmRleCIsImhhc0V4ZWN1dG9ycyIsImNhbmRpZGF0ZXMiLCJkZWNsdXR0ZXJlZEZlYXR1cmVzIiwiY29udGV4dFNpemUiLCJoaXRFeHRlbnQiLCJpbmRleGVzIiwiY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGUiLCJtYXhEaXN0YW5jZVNxIiwiZGlzdGFuY2VzIiwicGl4ZWxJbmRleCIsImdldFBpeGVsSW5kZXhBcnJheSIsImZlYXR1cmVDYWxsYmFjayIsImltYWdlRGF0YSIsImlkeCIsInJlc3VsdF8xIiwiZXhlY3V0b3IiLCJvcHRfYnVpbGRlclR5cGVzIiwiYnVpbGRlclR5cGVzIiwiQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIiLCJvcHRfc3F1YXJlZFRvbGVyYW5jZSIsIm9wdF91c2VyVHJhbnNmb3JtIiwiY29udGV4dF8iLCJzcXVhcmVkVG9sZXJhbmNlXyIsInVzZXJUcmFuc2Zvcm1fIiwiY29udGV4dEZpbGxTdGF0ZV8iLCJjb250ZXh0U3Ryb2tlU3RhdGVfIiwiY29udGV4dFRleHRTdGF0ZV8iLCJmaWxsU3RhdGVfIiwic3Ryb2tlU3RhdGVfIiwiaW1hZ2VBbmNob3JYXyIsImltYWdlQW5jaG9yWV8iLCJpbWFnZUhlaWdodF8iLCJpbWFnZU9wYWNpdHlfIiwiaW1hZ2VPcmlnaW5YXyIsImltYWdlT3JpZ2luWV8iLCJpbWFnZVJvdGF0ZVdpdGhWaWV3XyIsImltYWdlUm90YXRpb25fIiwiaW1hZ2VTY2FsZV8iLCJpbWFnZVdpZHRoXyIsInRleHRTY2FsZV8iLCJ0bXBMb2NhbFRyYW5zZm9ybV8iLCJkcmF3SW1hZ2VzXyIsImxvY2FsVHJhbnNmb3JtIiwiZHJhd1RleHRfIiwic2V0Q29udGV4dEZpbGxTdGF0ZV8iLCJzZXRDb250ZXh0U3Ryb2tlU3RhdGVfIiwic2V0Q29udGV4dFRleHRTdGF0ZV8iLCJzdHJva2VUZXh0IiwiZmlsbFRleHQiLCJtb3ZlVG9MaW5lVG9fIiwiY2xvc2UiLCJkcmF3UmluZ3NfIiwiZ2VvbWV0cmllcyIsImdldEdlb21ldHJpZXNBcnJheSIsImZsYXRNaWRwb2ludCIsImdlb21ldHJ5RXh0ZW50IiwiZmxhdE1pZHBvaW50cyIsImZsYXRJbnRlcmlvclBvaW50IiwiZmxhdEludGVyaW9yUG9pbnRzIiwiY29udGV4dEZpbGxTdGF0ZSIsImNvbnRleHRTdHJva2VTdGF0ZSIsImNvbnRleHRUZXh0U3RhdGUiLCJpbWFnZUFuY2hvciIsImltYWdlSW1hZ2UiLCJpbWFnZU9yaWdpbiIsImltYWdlU2NhbGUiLCJ0ZXh0RmlsbFN0eWxlQ29sb3IiLCJ0ZXh0U3Ryb2tlU3R5bGVDb2xvciIsInRleHRTdHJva2VTdHlsZUxpbmVDYXAiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaCIsInRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0IiwidGV4dFN0cm9rZVN0eWxlTGluZUpvaW4iLCJ0ZXh0U3Ryb2tlU3R5bGVXaWR0aCIsInRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQiLCJ0ZXh0Rm9udCIsInRleHRUZXh0IiwidGV4dFRleHRBbGlnbiIsInRleHRUZXh0QmFzZWxpbmUiLCJJbWFnZUJhc2UiLCJsaXN0ZW5JbWFnZSIsImxvYWRIYW5kbGVyIiwiZXJyb3JIYW5kbGVyIiwiaW1nIiwibGlzdGVuaW5nXzEiLCJjYXRjaCIsIkltYWdlV3JhcHBlciIsImltYWdlTG9hZEZ1bmN0aW9uIiwic3JjXyIsInVubGlzdGVuXyIsImltYWdlTG9hZEZ1bmN0aW9uXyIsImhhbmRsZUltYWdlRXJyb3JfIiwidW5saXN0ZW5JbWFnZV8iLCJoYW5kbGVJbWFnZUxvYWRfIiwidGFpbnRlZFRlc3RDb250ZXh0IiwiSWNvbkltYWdlIiwiaW1hZ2VTdGF0ZV8iLCJ0YWludGVkXyIsImlzVGFpbnRlZF8iLCJkaXNwYXRjaENoYW5nZUV2ZW50XyIsInJlcGxhY2VDb2xvcl8iLCJmaWxsUmVjdCIsImdldFNyYyIsImN0eCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImltZ0RhdGEiLCJwdXRJbWFnZURhdGEiLCJJY29uIiwibm9ybWFsaXplZEFuY2hvcl8iLCJhbmNob3JPcmlnaW5fIiwiYW5jaG9yT3JpZ2luIiwiSWNvbk9yaWdpbiIsImFuY2hvclhVbml0c18iLCJhbmNob3JYVW5pdHMiLCJJY29uQW5jaG9yVW5pdHMiLCJhbmNob3JZVW5pdHNfIiwiYW5jaG9yWVVuaXRzIiwiY3Jvc3NPcmlnaW5fIiwiaW1nU2l6ZSIsImljb25JbWFnZV8iLCJvZmZzZXRfIiwib2Zmc2V0T3JpZ2luXyIsIm9mZnNldE9yaWdpbiIsInNldEFuY2hvciIsImljb25JbWFnZVNpemUiLCJHRU9NRVRSWV9SRU5ERVJFUlMiLCJidWlsZGVyR3JvdXAiLCJvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIiwiaW1hZ2VSZXBsYXkiLCJ0ZXh0UmVwbGF5IiwibGluZVN0cmluZ1JlcGxheSIsInBvbHlnb25SZXBsYXkiLCJyZXBsYXlHcm91cCIsImdlb21ldHJ5UmVuZGVyZXIiLCJjaXJjbGVSZXBsYXkiLCJkZWZhdWx0T3JkZXIiLCJmZWF0dXJlMSIsImZlYXR1cmUyIiwiZ2V0VG9sZXJhbmNlIiwicmVuZGVyRmVhdHVyZSIsInJlbmRlckdlb21ldHJ5IiwicmVuZGVyRmVhdHVyZUludGVybmFsIiwiZ2V0R2VvbWV0cmllcyIsIkNhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIiLCJ2ZWN0b3JMYXllciIsImJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8iLCJoYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyIsImFuaW1hdGluZ09ySW50ZXJhY3RpbmdfIiwiZGlydHlfIiwiaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhXyIsInJlbmRlcmVkRmVhdHVyZXNfIiwicmVuZGVyZWRSZXZpc2lvbl8iLCJyZW5kZXJlZFJlc29sdXRpb25fIiwicmVuZGVyZWRSb3RhdGlvbl8iLCJyZW5kZXJlZENlbnRlcl8iLCJyZW5kZXJlZFByb2plY3Rpb25fIiwicmVuZGVyZWRSZW5kZXJPcmRlcl8iLCJyZXBsYXlHcm91cF8iLCJyZXBsYXlHcm91cENoYW5nZWQiLCJjbGlwcGluZyIsInJlbmRlcldvcmxkcyIsImV4ZWN1dG9yR3JvdXAiLCJ2ZWN0b3JTb3VyY2UiLCJlbmRXb3JsZCIsIndvcmxkIiwiY2xpcHBlZCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImZlYXR1cmVDb3VudCIsImluZGV4RmFjdG9yIiwiZmVhdHVyZXNCeVpJbmRleCIsImZlYXR1cmVTdHlsZUZ1bmN0aW9uIiwib3JpZ2luYWxTdHlsZSIsImNhbnZhc18xIiwiaW1nQ29udGV4dCIsIndpZHRoXzEiLCJoZWlnaHRfMSIsImJ5R2VvbWV0cnlUeXBlIiwiekluZGV4S2V5cyIsImdlb21BbmRTdHlsZSIsImtrIiwiY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhIiwicmVzdWx0RmVhdHVyZXMiLCJoaXREZXRlY3QiLCJleGVjdXRvckdyb3VwcyIsImFuaW1hdGluZyIsImludGVyYWN0aW5nIiwiZnJhbWVTdGF0ZUV4dGVudCIsInZlY3RvckxheWVyUmV2aXNpb24iLCJ2ZWN0b3JMYXllclJlbmRlckJ1ZmZlciIsInZlY3RvckxheWVyUmVuZGVyT3JkZXIiLCJsb2FkRXh0ZW50cyIsImxvYWRFeHRlbnQiLCJkZWNsdXR0ZXJCdWlsZGVyR3JvdXAiLCJ1c2VyVHJhbnNmb3JtIiwibG9hZEZlYXR1cmVzIiwiZGlydHkiLCJ1c2VyRXh0ZW50IiwiZ2V0RmVhdHVyZXNJbkV4dGVudCIsInJlcGxheUdyb3VwSW5zdHJ1Y3Rpb25zIiwiZ2V0T3ZlcmxhcHMiLCJWZWN0b3JMYXllciIsIkJhc2VWZWN0b3IiLCJSQnVzaCIsIm9wdF9tYXhFbnRyaWVzIiwicmJ1c2hfIiwiaXRlbXNfIiwiZXh0ZW50cyIsIml0ZW1zIiwiYmJveCIsImdldEFsbCIsImdldEluRXh0ZW50IiwiZm9yRWFjaF8iLCJmb3JFYWNoSW5FeHRlbnQiLCJyYnVzaCIsImFkYXB0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25MaWtlIiwiU291cmNlIiwiYXR0cmlidXRpb25zXyIsImF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyIsImF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlIiwid3JhcFhfIiwicmVmcmVzaCIsInNldEF0dHJpYnV0aW9ucyIsInhociIsImZvcm1hdCIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiRm9ybWF0VHlwZSIsInJlc3BvbnNlVHlwZSIsIndpdGhDcmVkZW50aWFscyIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsInJlc3BvbnNlWE1MIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwicmVhZEZlYXR1cmVzIiwiZmVhdHVyZVByb2plY3Rpb24iLCJyZWFkUHJvamVjdGlvbiIsInNlbmQiLCJsb2FkRmVhdHVyZXNYaHIiLCJkYXRhUHJvamVjdGlvbiIsImFkZEZlYXR1cmVzIiwiVmVjdG9yU291cmNlRXZlbnQiLCJvcHRfZmVhdHVyZSIsIm9wdF9mZWF0dXJlcyIsIlZlY3RvclNvdXJjZSIsImxvYWRlcl8iLCJmb3JtYXRfIiwidXJsXyIsImxvYWRlciIsInN0cmF0ZWd5XyIsInN0cmF0ZWd5IiwiY29sbGVjdGlvbiIsInVzZVNwYXRpYWxJbmRleCIsImZlYXR1cmVzUnRyZWVfIiwibG9hZGVkRXh0ZW50c1J0cmVlXyIsIm51bGxHZW9tZXRyeUZlYXR1cmVzXyIsImlkSW5kZXhfIiwidWlkSW5kZXhfIiwiZmVhdHVyZUNoYW5nZUtleXNfIiwiZmVhdHVyZXNDb2xsZWN0aW9uXyIsImFkZEZlYXR1cmVzSW50ZXJuYWwiLCJiaW5kRmVhdHVyZXNDb2xsZWN0aW9uXyIsImFkZEZlYXR1cmUiLCJhZGRGZWF0dXJlSW50ZXJuYWwiLCJmZWF0dXJlS2V5IiwiYWRkVG9JbmRleF8iLCJzZXR1cENoYW5nZUV2ZW50c18iLCJWZWN0b3JFdmVudFR5cGUiLCJoYW5kbGVGZWF0dXJlQ2hhbmdlXyIsInZhbGlkIiwibmV3RmVhdHVyZXMiLCJnZW9tZXRyeUZlYXR1cmVzIiwibGVuZ3RoXzEiLCJsZW5ndGhfMiIsImxlbmd0aF8zIiwibW9kaWZ5aW5nQ29sbGVjdGlvbiIsInJlbW92ZUZlYXR1cmUiLCJvcHRfZmFzdCIsImZlYXR1cmVJZCIsInJlbW92ZUZlYXR1cmVJbnRlcm5hbCIsImNsZWFyRXZlbnQiLCJmb3JFYWNoRmVhdHVyZSIsImZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlRGlyZWN0IiwiZm9yRWFjaEZlYXR1cmVJbkV4dGVudCIsImZvckVhY2hGZWF0dXJlSW50ZXJzZWN0aW5nRXh0ZW50IiwiZ2V0RmVhdHVyZXNDb2xsZWN0aW9uIiwiZ2V0RmVhdHVyZXNBdENvb3JkaW5hdGUiLCJnZXRDbG9zZXN0RmVhdHVyZVRvQ29vcmRpbmF0ZSIsIm9wdF9maWx0ZXIiLCJjbG9zZXN0RmVhdHVyZSIsInByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlIiwibWluRGlzdGFuY2UiLCJnZXRGZWF0dXJlQnlJZCIsImdldEZlYXR1cmVCeVVpZCIsImdldEZvcm1hdCIsImdldFVybCIsInNpZCIsInJlbW92ZUZyb21JZEluZGV4XyIsImhhc0ZlYXR1cmUiLCJsb2FkZWRFeHRlbnRzUnRyZWUiLCJleHRlbnRzVG9Mb2FkIiwiX2xvb3BfMSIsImV4dGVudFRvTG9hZCIsInRoaXNfMSIsInJlbW92ZUxvYWRlZEV4dGVudCIsInJlbW92ZWQiLCJzZXRMb2FkZXIiLCJzZXRVcmwiLCJUaWxlIiwiaW50ZXJpbVRpbGUiLCJ0cmFuc2l0aW9uXyIsInRyYW5zaXRpb25TdGFydHNfIiwicmVsZWFzZSIsInJlZnJlc2hJbnRlcmltQ2hhaW4iLCJnZXRUaWxlQ29vcmQiLCJJbWFnZVRpbGUiLCJ0aWxlTG9hZEZ1bmN0aW9uIiwidGlsZUxvYWRGdW5jdGlvbl8iLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiVHJpYW5ndWxhdGlvbiIsInRhcmdldFByb2oiLCJ0YXJnZXRFeHRlbnQiLCJtYXhTb3VyY2VFeHRlbnQiLCJlcnJvclRocmVzaG9sZCIsIm9wdF9kZXN0aW5hdGlvblJlc29sdXRpb24iLCJzb3VyY2VQcm9qXyIsInRhcmdldFByb2pfIiwidHJhbnNmb3JtSW52Q2FjaGUiLCJ0cmFuc2Zvcm1JbnYiLCJ0cmFuc2Zvcm1JbnZfIiwibWF4U291cmNlRXh0ZW50XyIsImVycm9yVGhyZXNob2xkU3F1YXJlZF8iLCJ0cmlhbmdsZXNfIiwid3JhcHNYSW5Tb3VyY2VfIiwiY2FuV3JhcFhJblNvdXJjZV8iLCJzb3VyY2VXb3JsZFdpZHRoXyIsInRhcmdldFdvcmxkV2lkdGhfIiwiZGVzdGluYXRpb25Ub3BMZWZ0IiwiZGVzdGluYXRpb25Ub3BSaWdodCIsImRlc3RpbmF0aW9uQm90dG9tUmlnaHQiLCJkZXN0aW5hdGlvbkJvdHRvbUxlZnQiLCJzb3VyY2VUb3BMZWZ0Iiwic291cmNlVG9wUmlnaHQiLCJzb3VyY2VCb3R0b21SaWdodCIsInNvdXJjZUJvdHRvbUxlZnQiLCJtYXhTdWJkaXZpc2lvbiIsImFkZFF1YWRfIiwibGVmdEJvdW5kXzEiLCJ0cmlhbmdsZSIsIm5ld1RyaWFuZ2xlIiwiYWRkVHJpYW5nbGVfIiwiYVNyYyIsImJTcmMiLCJjU3JjIiwiZFNyYyIsInNvdXJjZVF1YWRFeHRlbnQiLCJzb3VyY2VDb3ZlcmFnZVgiLCJzb3VyY2VXb3JsZFdpZHRoIiwid3JhcHNYIiwibmVlZHNTdWJkaXZpc2lvbiIsInRhcmdldFF1YWRFeHRlbnQiLCJpc0Zpbml0ZSIsImlzTm90RmluaXRlIiwiY2VudGVyU3JjIiwiYmMiLCJiY1NyYyIsImRhIiwiZGFTcmMiLCJhYiIsImFiU3JjIiwiY2QiLCJjZFNyYyIsImNhbGN1bGF0ZVNvdXJjZUV4dGVudCIsImdldFRyaWFuZ2xlcyIsImJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXyIsIklNQUdFX1NNT09USElOR19ESVNBQkxFRCIsIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiZHJhd1Rlc3RUcmlhbmdsZSIsInUxIiwidjEiLCJ1MiIsInYyIiwidmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmciLCJjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uIiwidGFyZ2V0TWV0ZXJzUGVyVW5pdCIsInNvdXJjZU1ldGVyc1BlclVuaXQiLCJzb3VyY2VFeHRlbnQiLCJjb21wZW5zYXRpb25GYWN0b3IiLCJSZXByb2pUaWxlIiwic291cmNlVGlsZUdyaWQiLCJ0YXJnZXRUaWxlR3JpZCIsIndyYXBwZWRUaWxlQ29vcmQiLCJnZXRUaWxlRnVuY3Rpb24iLCJvcHRfZXJyb3JUaHJlc2hvbGQiLCJvcHRfcmVuZGVyRWRnZXMiLCJvcHRfY29udGV4dE9wdGlvbnMiLCJyZW5kZXJFZGdlc18iLCJjb250ZXh0T3B0aW9uc18iLCJndXR0ZXJfIiwic291cmNlVGlsZUdyaWRfIiwidGFyZ2V0VGlsZUdyaWRfIiwid3JhcHBlZFRpbGVDb29yZF8iLCJzb3VyY2VUaWxlc18iLCJzb3VyY2VzTGlzdGVuZXJLZXlzXyIsInNvdXJjZVpfIiwibWF4VGFyZ2V0RXh0ZW50IiwibGltaXRlZFRhcmdldEV4dGVudCIsInNvdXJjZVByb2pFeHRlbnQiLCJjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uIiwiZXJyb3JUaHJlc2hvbGRJblBpeGVscyIsInRyaWFuZ3VsYXRpb25fIiwic291cmNlUmFuZ2UiLCJzcmNYIiwic3JjWSIsInJlcHJvamVjdF8iLCJzb3VyY2VzIiwiZ2V0VGlsZVNpemUiLCJ0cmlhbmd1bGF0aW9uIiwicGl4ZWxSb3VuZCIsInNvdXJjZURhdGFFeHRlbnQiLCJjYW52YXNXaWR0aEluVW5pdHMiLCJjYW52YXNIZWlnaHRJblVuaXRzIiwic3RpdGNoQ29udGV4dCIsInN0aXRjaFNjYWxlIiwieFBvcyIsInlQb3MiLCJzcmNXaWR0aCIsInNyY0hlaWdodCIsInRhcmdldFRvcExlZnQiLCJ1MCIsInYwIiwic291cmNlTnVtZXJpY2FsU2hpZnRYIiwic291cmNlTnVtZXJpY2FsU2hpZnRZIiwiYXVnbWVudGVkTWF0cml4IiwiYWZmaW5lQ29lZnMiLCJpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nIiwidWQiLCJ2ZCIsInN0ZXAiLCJzdGVwcyIsImxlZnRUb0xvYWRfMSIsInNvdXJjZUxpc3RlbktleV8xIiwidW5saXN0ZW5Tb3VyY2VzXyIsIkxSVUNhY2hlIiwib3B0X2hpZ2hXYXRlck1hcmsiLCJoaWdoV2F0ZXJNYXJrIiwiY291bnRfIiwiZW50cmllc18iLCJvbGRlc3RfIiwibmV3ZXN0XyIsImNvbnRhaW5zS2V5IiwiZW50cnkiLCJ2YWx1ZV8iLCJrZXlfIiwibmV3ZXIiLCJvbGRlciIsInBlZWtMYXN0IiwicGVla0xhc3RLZXkiLCJwZWVrRmlyc3RLZXkiLCJvcHRfdGlsZUNvb3JkIiwiZ2V0S2V5WlhZIiwiVGlsZUNhY2hlIiwicHJ1bmVFeGNlcHROZXdlc3RaIiwidG1wVGlsZUNvb3JkIiwiVGlsZUdyaWQiLCJvcmlnaW5zIiwib3JpZ2luc18iLCJ0aWxlU2l6ZXNfIiwidGlsZVNpemVzIiwidGlsZVNpemVfIiwidGlsZVNpemUiLCJmdWxsVGlsZVJhbmdlc18iLCJ0bXBTaXplXyIsInNpemVzIiwicmVzdHJpY3RlZFRpbGVSYW5nZSIsImNhbGN1bGF0ZVRpbGVSYW5nZXNfIiwiZm9yRWFjaFRpbGVDb29yZCIsIm9wdF90aWxlUmFuZ2UiLCJ0aWxlQ29vcmRFeHRlbnQiLCJnZXRUaWxlUmFuZ2VFeHRlbnQiLCJnZXRUaWxlQ29vcmRGb3JYWUFuZFpfIiwiZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uIiwiZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyIsInJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kiLCJhZGp1c3RYIiwiYWRqdXN0WSIsInhGcm9tT3JpZ2luIiwieUZyb21PcmlnaW4iLCJ0aWxlQ29vcmRYIiwidGlsZUNvb3JkWSIsImdldFRpbGVDb29yZFJlc29sdXRpb24iLCJnZXRGdWxsVGlsZVJhbmdlIiwiZnVsbFRpbGVSYW5nZXMiLCJnZXRGb3JQcm9qZWN0aW9uIiwib3B0X21heFpvb20iLCJvcHRfdGlsZVNpemUiLCJvcHRfY29ybmVyIiwiQ29ybmVyIiwicmVzb2x1dGlvbnNGcm9tRXh0ZW50IiwiY3JlYXRlRm9yRXh0ZW50IiwiZXh0ZW50RnJvbVByb2plY3Rpb24iLCJjcmVhdGVGb3JQcm9qZWN0aW9uIiwib3B0X21heFJlc29sdXRpb24iLCJoYWxmIiwiVGlsZVNvdXJjZSIsIm9wYXF1ZV8iLCJvcGFxdWUiLCJ0aWxlUGl4ZWxSYXRpb18iLCJ0aWxlQ2FjaGUiLCJ0bXBTaXplIiwidGlsZU9wdGlvbnMiLCJnZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uIiwibG9hZGVkIiwic2V0S2V5IiwiZ2V0VGlsZUdyaWQiLCJnZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24iLCJ3aXRoaW5FeHRlbnRBbmRaIiwiVGlsZVNvdXJjZUV2ZW50IiwiY3JlYXRlRnJvbVRlbXBsYXRlIiwidGVtcGxhdGUiLCJ6UmVnRXgiLCJ4UmVnRXgiLCJ5UmVnRXgiLCJkYXNoWVJlZ0V4IiwiVXJsVGlsZSIsImdlbmVyYXRlVGlsZVVybEZ1bmN0aW9uXyIsInRpbGVVcmxGdW5jdGlvbiIsInVybHMiLCJzZXRVcmxzIiwidGlsZUxvYWRpbmdLZXlzXyIsImdldFRpbGVMb2FkRnVuY3Rpb24iLCJnZXRUaWxlVXJsRnVuY3Rpb24iLCJnZXRQcm90b3R5cGVPZiIsImdldFVybHMiLCJzZXRUaWxlTG9hZEZ1bmN0aW9uIiwic2V0VGlsZVVybEZ1bmN0aW9uIiwic3RhcnRDaGFyQ29kZSIsInN0b3BDaGFyQ29kZSIsInN0b3BfMSIsImV4cGFuZFVybCIsInRlbXBsYXRlcyIsInRpbGVVcmxGdW5jdGlvbnMiLCJjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyIsImNyZWF0ZUZyb21UZW1wbGF0ZXMiLCJkZWZhdWx0VGlsZUxvYWRGdW5jdGlvbiIsImltYWdlVGlsZSIsIlRpbGVJbWFnZSIsInRpbGVDbGFzcyIsInRpbGVDYWNoZUZvclByb2plY3Rpb24iLCJ0aWxlR3JpZEZvclByb2plY3Rpb24iLCJyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZF8iLCJyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZCIsImltYWdlU21vb3RoaW5nIiwicmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfIiwidXNlZFRpbGVDYWNoZSIsImdldEd1dHRlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGlzUHJvaiIsInByb2pLZXkiLCJjcmVhdGVUaWxlXyIsInVybFRpbGVDb29yZCIsInRpbGVVcmwiLCJuZXdUaWxlIiwiZ2V0VGlsZUludGVybmFsIiwic2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXMiLCJzZXRUaWxlR3JpZEZvclByb2plY3Rpb24iLCJ0aWxlZ3JpZCIsInByb2oiLCJ4eXpPcHRpb25zIiwiZ3JpZE9wdGlvbnMiLCJjcmVhdGVYWVoiLCJPU00iLCJkYXRhc2V0IiwiY29sb3JQcmltYXJ5IiwiY29sb3JTZWNvbmRhcnkiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJtYXJrZXJQYXJhbSIsImlzVmlld01vZGUiLCJoYXMiLCJnZXRWaWV3UGFyYW0iLCJ2aWV3RGVmYXVsdCIsInBhcnNlIiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsYXQiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsImNsb25lTm9kZSIsIm1hcmtlckxheWVyIiwibWFya2VyU2VsZWN0IiwicmFuZG9tIiwiVmVjdG9yIiwibWFya2VyIiwiaW5pdE1hcmtlck1hcCIsImN1cnJlbnQiLCJkZWxldGUiLCJpbml0Q29udHJvbHMiLCJjb250cm9sRm9ybSJdLCJtYXBwaW5ncyI6IlVBQUlBLEVBQ0FDLEVDd0NBQyxFQVNBQyxFLG9EQ2pESUMsRSxVQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0E2Q3ZGLFFBakNvQyxTQUFVSSxHQUsxQyxTQUFTQyxFQUFlQyxHQUNwQixJQUFJQyxFQUFRTixLQUVSTyxFQUFVLG9EQURTLFdBQVosS0FBdUIsS0FBVSxJQUFNLFdBQWMsS0FBSyxJQUdqRSxnQkFDQUYsRUFDQSxnQkFpQkosT0FoQkFDLEVBQVFILEVBQU9MLEtBQUtFLEtBQU1PLElBQVlQLE1BU2hDSyxLQUFPQSxFQUliQyxFQUFNRSxLQUFPLGlCQUViRixFQUFNQyxRQUFVQSxFQUNURCxFQUVYLE9BOUJBbEIsRUFBVWdCLEVBQWdCRCxHQThCbkJDLEVBL0J3QixDQWdDakNLLFEsaURDckRNdEIsRSx3Q0FESkMsR0FDSUQsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFckIsU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLEtBY25GVyxFQUNRLFNBT1JDLEVBQWlDLFNBQVVSLEdBTzNDLFNBQVNRLEVBQWdCQyxFQUFNQyxFQUFhQyxHQUN4QyxJQUFJUixFQUFRSCxFQUFPTCxLQUFLRSxLQUFNWSxJQUFTWixLQWF2QyxPQVBBTSxFQUFNUyxRQUFVRixFQU1oQlAsRUFBTVUsTUFBUUYsRUFDUFIsRUFFWCxPQXRCQWxCLEVBQVV1QixFQUFpQlIsR0FzQnBCUSxFQXZCeUIsQ0F3QmxDLE1BNk5GLFFBek1nQyxTQUFVUixHQU10QyxTQUFTYyxFQUFXQyxFQUFXQyxHQUMzQixJQUFJYixFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQUM3Qm9CLEVBQVVELEdBQWUsR0FXN0IsR0FOQWIsRUFBTWUsVUFBWUQsRUFBUUUsT0FLMUJoQixFQUFNaUIsT0FBU0wsR0FBd0IsR0FDbkNaLEVBQU1lLFFBQ04sSUFBSyxJQUFJRyxFQUFJLEVBQUdDLEVBQUtuQixFQUFNaUIsT0FBT0csT0FBUUYsRUFBSUMsSUFBTUQsRUFDaERsQixFQUFNcUIsY0FBY3JCLEVBQU1pQixPQUFPQyxHQUFJQSxHQUk3QyxPQURBbEIsRUFBTXNCLGdCQUNDdEIsRUE4S1gsT0F0TUFsQixFQUFVNkIsRUFBWWQsR0E4QnRCYyxFQUFXckIsVUFBVWlDLE1BQVEsV0FDekIsS0FBTzdCLEtBQUs4QixZQUFjLEdBQ3RCOUIsS0FBSytCLE9BVWJkLEVBQVdyQixVQUFVb0MsT0FBUyxTQUFVQyxHQUNwQyxJQUFLLElBQUlULEVBQUksRUFBR0MsRUFBS1EsRUFBSVAsT0FBUUYsRUFBSUMsSUFBTUQsRUFDdkN4QixLQUFLa0MsS0FBS0QsRUFBSVQsSUFFbEIsT0FBT3hCLE1BU1hpQixFQUFXckIsVUFBVXVDLFFBQVUsU0FBVUMsR0FFckMsSUFEQSxJQUFJQyxFQUFRckMsS0FBS3VCLE9BQ1JDLEVBQUksRUFBR0MsRUFBS1ksRUFBTVgsT0FBUUYsRUFBSUMsSUFBTUQsRUFDekNZLEVBQUVDLEVBQU1iLEdBQUlBLEVBQUdhLElBV3ZCcEIsRUFBV3JCLFVBQVUwQyxTQUFXLFdBQzVCLE9BQU90QyxLQUFLdUIsUUFRaEJOLEVBQVdyQixVQUFVMkMsS0FBTyxTQUFVdkIsR0FDbEMsT0FBT2hCLEtBQUt1QixPQUFPUCxJQVF2QkMsRUFBV3JCLFVBQVVrQyxVQUFZLFdBQzdCLE9BQU85QixLQUFLd0MsSUFBSTlCLElBUXBCTyxFQUFXckIsVUFBVTZDLFNBQVcsU0FBVXpCLEVBQU8wQixHQUN6QzFDLEtBQUtxQixTQUNMckIsS0FBSzJCLGNBQWNlLEdBRXZCMUMsS0FBS3VCLE9BQU9vQixPQUFPM0IsRUFBTyxFQUFHMEIsR0FDN0IxQyxLQUFLNEIsZ0JBQ0w1QixLQUFLNEMsY0FBYyxJQUFJakMsRUFBZ0IsUUFBeUIrQixFQUFNMUIsS0FRMUVDLEVBQVdyQixVQUFVbUMsSUFBTSxXQUN2QixPQUFPL0IsS0FBSzZDLFNBQVM3QyxLQUFLOEIsWUFBYyxJQVE1Q2IsRUFBV3JCLFVBQVVzQyxLQUFPLFNBQVVRLEdBQzlCMUMsS0FBS3FCLFNBQ0xyQixLQUFLMkIsY0FBY2UsR0FFdkIsSUFBSUksRUFBSTlDLEtBQUs4QixZQUViLE9BREE5QixLQUFLeUMsU0FBU0ssRUFBR0osR0FDVjFDLEtBQUs4QixhQVFoQmIsRUFBV3JCLFVBQVVtRCxPQUFTLFNBQVVMLEdBRXBDLElBREEsSUFBSVQsRUFBTWpDLEtBQUt1QixPQUNOQyxFQUFJLEVBQUdDLEVBQUtRLEVBQUlQLE9BQVFGLEVBQUlDLElBQU1ELEVBQ3ZDLEdBQUlTLEVBQUlULEtBQU9rQixFQUNYLE9BQU8xQyxLQUFLNkMsU0FBU3JCLElBWWpDUCxFQUFXckIsVUFBVWlELFNBQVcsU0FBVTdCLEdBQ3RDLElBQUlnQyxFQUFPaEQsS0FBS3VCLE9BQU9QLEdBSXZCLE9BSEFoQixLQUFLdUIsT0FBT29CLE9BQU8zQixFQUFPLEdBQzFCaEIsS0FBSzRCLGdCQUNMNUIsS0FBSzRDLGNBQWMsSUFBSWpDLEVBQWdCLFdBQTRCcUMsRUFBTWhDLElBQ2xFZ0MsR0FRWC9CLEVBQVdyQixVQUFVcUQsTUFBUSxTQUFVakMsRUFBTzBCLEdBQzFDLElBQUlJLEVBQUk5QyxLQUFLOEIsWUFDYixHQUFJZCxFQUFROEIsRUFBRyxDQUNQOUMsS0FBS3FCLFNBQ0xyQixLQUFLMkIsY0FBY2UsRUFBTTFCLEdBRTdCLElBQUlnQyxFQUFPaEQsS0FBS3VCLE9BQU9QLEdBQ3ZCaEIsS0FBS3VCLE9BQU9QLEdBQVMwQixFQUNyQjFDLEtBQUs0QyxjQUFjLElBQUlqQyxFQUFnQixXQUE0QnFDLEVBQU1oQyxJQUN6RWhCLEtBQUs0QyxjQUFjLElBQUlqQyxFQUFnQixRQUF5QitCLEVBQU0xQixRQUVyRSxDQUNELElBQUssSUFBSWtDLEVBQUlKLEVBQUdJLEVBQUlsQyxJQUFTa0MsRUFDekJsRCxLQUFLeUMsU0FBU1MsT0FBR0MsR0FFckJuRCxLQUFLeUMsU0FBU3pCLEVBQU8wQixLQU03QnpCLEVBQVdyQixVQUFVZ0MsY0FBZ0IsV0FDakM1QixLQUFLb0QsSUFBSTFDLEVBQWlCVixLQUFLdUIsT0FBT0csU0FPMUNULEVBQVdyQixVQUFVK0IsY0FBZ0IsU0FBVWUsRUFBTVcsR0FDakQsSUFBSyxJQUFJN0IsRUFBSSxFQUFHQyxFQUFLekIsS0FBS3VCLE9BQU9HLE9BQVFGLEVBQUlDLElBQU1ELEVBQy9DLEdBQUl4QixLQUFLdUIsT0FBT0MsS0FBT2tCLEdBQVFsQixJQUFNNkIsRUFDakMsTUFBTSxJQUFJLElBQWUsS0FJOUJwQyxFQXZNb0IsQ0F3TTdCLE8sNkNDOVFGLFNBTUlxQyxJQUFLLE1BTUxDLE9BQVEsVyw0Q0NjWixRQXpCZ0MsV0FDNUIsU0FBU0MsSUFNTHhELEtBQUt5RCxVQUFXLEVBZ0JwQixPQVhBRCxFQUFXNUQsVUFBVThELFFBQVUsV0FDdEIxRCxLQUFLeUQsV0FDTnpELEtBQUt5RCxVQUFXLEVBQ2hCekQsS0FBSzJELG9CQU9iSCxFQUFXNUQsVUFBVStELGdCQUFrQixhQUNoQ0gsRUF2Qm9CLEksNkNDRC9CLFNBQ0lJLEtBQU0sRUFDTkMsUUFBUyxFQUNUQyxPQUFRLEVBQ1JDLE1BQU8sRUFDUEMsTUFBTyxJLHdEQ0hYLFNBT0lDLFlBQWEsY0FNYkMsTUFBTyxVQU1QQyxTQUFVLGFBTVZDLFlBQWEsY0FPYkMsWUFBYSxjQUNiQyxZQUFhLGNBQ2JDLFVBQVcsWUFDWEMsWUFBYSxjQUNiQyxXQUFZLGFBQ1pDLGFBQWMsZUFDZEMsYUFBYyxlQUNkQyxjQUFlLGtCLDRDQ3pDbkIsU0FNSUMsV0FBWSxhQU1aQyxVQUFXLFlBTVhDLFFBQVMsWSwyREN2Qkw1RixFLGtEQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0FlbkZpRixFQUE2QixTQUFVN0UsR0FPdkMsU0FBUzZFLEVBQVlwRSxFQUFNcUUsRUFBS0MsR0FDNUIsSUFBSTVFLEVBQVFILEVBQU9MLEtBQUtFLEtBQU1ZLElBQVNaLEtBY3ZDLE9BUkFNLEVBQU0yRSxJQUFNQSxFQU9aM0UsRUFBTTRFLFNBQVdBLEVBQ1Y1RSxFQUVYLE9BdkJBbEIsRUFBVTRGLEVBQWE3RSxHQXVCaEI2RSxFQXhCcUIsQ0F5QjlCLE1BNkNFRyxFQUE0QixTQUFVaEYsR0FLdEMsU0FBU2dGLEVBQVdDLEdBQ2hCLElBQUk5RSxFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQWNqQyxPQVRBLFFBQU9NLEdBS1BBLEVBQU0rRSxRQUFVLFVBQ0dsQyxJQUFmaUMsR0FDQTlFLEVBQU1nRixjQUFjRixHQUVqQjlFLEVBNkdYLE9BaElBbEIsRUFBVStGLEVBQVloRixHQTJCdEJnRixFQUFXdkYsVUFBVTRDLElBQU0sU0FBVXlDLEdBQ2pDLElBQUlNLEVBSUosT0FISXZGLEtBQUtxRixTQUFXckYsS0FBS3FGLFFBQVF4RixlQUFlb0YsS0FDNUNNLEVBQVF2RixLQUFLcUYsUUFBUUosSUFFbEJNLEdBT1hKLEVBQVd2RixVQUFVNEYsUUFBVSxXQUMzQixPQUFReEYsS0FBS3FGLFNBQVc5RixPQUFPa0csS0FBS3pGLEtBQUtxRixVQUFhLElBTzFERixFQUFXdkYsVUFBVThGLGNBQWdCLFdBQ2pDLE9BQVExRixLQUFLcUYsVUFBVyxRQUFPLEdBQUlyRixLQUFLcUYsVUFBYSxJQUt6REYsRUFBV3ZGLFVBQVUrRixjQUFnQixXQUNqQyxRQUFTM0YsS0FBS3FGLFNBTWxCRixFQUFXdkYsVUFBVWdHLE9BQVMsU0FBVVgsRUFBS0MsR0FDekMsSUFBSVcsRUFDSkEsRUFBWUMsRUFBbUJiLEdBQy9CakYsS0FBSzRDLGNBQWMsSUFBSW9DLEVBQVlhLEVBQVdaLEVBQUtDLElBQ25EVyxFQUFZLG1CQUNaN0YsS0FBSzRDLGNBQWMsSUFBSW9DLEVBQVlhLEVBQVdaLEVBQUtDLEtBU3ZEQyxFQUFXdkYsVUFBVXdELElBQU0sU0FBVTZCLEVBQUtNLEVBQU9RLEdBQzdDLElBQUlDLEVBQVNoRyxLQUFLcUYsVUFBWXJGLEtBQUtxRixRQUFVLElBQzdDLEdBQUlVLEVBQ0FDLEVBQU9mLEdBQU9NLE1BRWIsQ0FDRCxJQUFJTCxFQUFXYyxFQUFPZixHQUN0QmUsRUFBT2YsR0FBT00sRUFDVkwsSUFBYUssR0FDYnZGLEtBQUs0RixPQUFPWCxFQUFLQyxLQVc3QkMsRUFBV3ZGLFVBQVUwRixjQUFnQixTQUFVVSxFQUFRRCxHQUNuRCxJQUFLLElBQUlkLEtBQU9lLEVBQ1poRyxLQUFLb0QsSUFBSTZCLEVBQUtlLEVBQU9mLEdBQU1jLElBUW5DWixFQUFXdkYsVUFBVXFHLGdCQUFrQixTQUFVQyxHQUN4Q0EsRUFBT2IsVUFHWixRQUFPckYsS0FBS3FGLFVBQVlyRixLQUFLcUYsUUFBVSxJQUFLYSxFQUFPYixVQVF2REYsRUFBV3ZGLFVBQVV1RyxNQUFRLFNBQVVsQixFQUFLYyxHQUN4QyxHQUFJL0YsS0FBS3FGLFNBQVdKLEtBQU9qRixLQUFLcUYsUUFBUyxDQUNyQyxJQUFJSCxFQUFXbEYsS0FBS3FGLFFBQVFKLFVBQ3JCakYsS0FBS3FGLFFBQVFKLElBQ2hCLFFBQVFqRixLQUFLcUYsV0FDYnJGLEtBQUtxRixRQUFVLE1BRWRVLEdBQ0QvRixLQUFLNEYsT0FBT1gsRUFBS0MsS0FJdEJDLEVBaklvQixDQWtJN0IsS0FJRWlCLEVBQXVCLEdBS3BCLFNBQVNOLEVBQW1CYixHQUMvQixPQUFPbUIsRUFBcUJ2RyxlQUFlb0YsR0FDckNtQixFQUFxQm5CLEdBQ3BCbUIsRUFBcUJuQixHQUFPLFVBQVlBLEVBRW5ELFcsNkNDek9BLFNBTUlvQixlQUFnQixtQixpRENYWmxILEUsOEJBREpDLEdBQ0lELEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxLQW9JdkYsUUFoSGdDLFNBQVVJLEdBRXRDLFNBQVNtRyxJQUNMLElBQUloRyxFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQU1qQyxPQURBTSxFQUFNaUcsVUFBWSxFQUNYakcsRUFxRlgsT0E3RkFsQixFQUFVa0gsRUFBWW5HLEdBY3RCbUcsRUFBVzFHLFVBQVU0RyxRQUFVLGFBQ3pCeEcsS0FBS3VHLFVBQ1B2RyxLQUFLNEMsY0FBYyxhQVF2QjBELEVBQVcxRyxVQUFVNkcsWUFBYyxXQUMvQixPQUFPekcsS0FBS3VHLFdBV2hCRCxFQUFXMUcsVUFBVThHLEdBQUssU0FBVTlGLEVBQU0rRixHQUN0QyxHQUFJakgsTUFBTWtILFFBQVFoRyxHQUFPLENBR3JCLElBRkEsSUFBSWlHLEVBQU1qRyxFQUFLYyxPQUNYK0QsRUFBTyxJQUFJL0YsTUFBTW1ILEdBQ1pyRixFQUFJLEVBQUdBLEVBQUlxRixJQUFPckYsRUFDdkJpRSxFQUFLakUsSUFBSyxRQUFPeEIsS0FBTVksRUFBS1ksR0FBSW1GLEdBRXBDLE9BQU9sQixFQUdQLE9BQU8sUUFBT3pGLEtBQTRCLEVBQVEyRyxJQVkxREwsRUFBVzFHLFVBQVVrSCxLQUFPLFNBQVVsRyxFQUFNK0YsR0FDeEMsSUFBSTFCLEVBQ0osR0FBSXZGLE1BQU1rSCxRQUFRaEcsR0FBTyxDQUNyQixJQUFJaUcsRUFBTWpHLEVBQUtjLE9BQ2Z1RCxFQUFNLElBQUl2RixNQUFNbUgsR0FDaEIsSUFBSyxJQUFJckYsRUFBSSxFQUFHQSxFQUFJcUYsSUFBT3JGLEVBQ3ZCeUQsRUFBSXpELElBQUssUUFBV3hCLEtBQU1ZLEVBQUtZLEdBQUltRixRQUl2QzFCLEdBQU0sUUFBV2pGLEtBQTRCLEVBQVEyRyxHQUd6RCxPQURzQixFQUFXSSxPQUFTOUIsRUFDbkNBLEdBUVhxQixFQUFXMUcsVUFBVW9ILEdBQUssU0FBVXBHLEVBQU0rRixHQUN0QyxJQUFJMUIsRUFBNEIsRUFBVzhCLE9BQzNDLEdBQUk5QixHQW9CTCxTQUFpQkEsR0FDcEIsR0FBSXZGLE1BQU1rSCxRQUFRM0IsR0FDZCxJQUFLLElBQUl6RCxFQUFJLEVBQUdDLEVBQUt3RCxFQUFJdkQsT0FBUUYsRUFBSUMsSUFBTUQsR0FDdkMsUUFBY3lELEVBQUl6RCxTQUl0QixRQUE2RCxHQTFCekR5RixDQUFRaEMsUUFFUCxHQUFJdkYsTUFBTWtILFFBQVFoRyxHQUNuQixJQUFLLElBQUlZLEVBQUksRUFBR0MsRUFBS2IsRUFBS2MsT0FBUUYsRUFBSUMsSUFBTUQsRUFDeEN4QixLQUFLa0gsb0JBQW9CdEcsRUFBS1ksR0FBSW1GLFFBSXRDM0csS0FBS2tILG9CQUFvQnRHLEVBQU0rRixJQUdoQ0wsRUE5Rm9CLENBK0Y3QixNLDRCQ2xGSyxTQUFTYSxFQUEwQkMsRUFBRzlILEdBQ3pDLE9BQU84SCxFQUFJOUgsRUFBSSxFQUFJOEgsRUFBSTlILEdBQUssRUFBSSxFQVE3QixTQUFTK0gsRUFBU3BGLEVBQUtxRixHQUMxQixPQUFPckYsRUFBSXNGLFFBQVFELElBQVEsRUFVeEIsU0FBU0UsRUFBa0J2RixFQUFLd0YsRUFBUUMsR0FDM0MsSUFBSTVFLEVBQUliLEVBQUlQLE9BQ1osR0FBSU8sRUFBSSxJQUFNd0YsRUFDVixPQUFPLEVBRU4sR0FBSUEsR0FBVXhGLEVBQUlhLEVBQUksR0FDdkIsT0FBT0EsRUFBSSxFQUdYLElBQUl0QixPQUFJLEVBQ1IsR0FBSWtHLEVBQVksR0FDWixJQUFLbEcsRUFBSSxFQUFHQSxFQUFJc0IsSUFBS3RCLEVBQ2pCLEdBQUlTLEVBQUlULEdBQUtpRyxFQUNULE9BQU9qRyxFQUFJLE9BSWxCLEdBQUlrRyxFQUFZLEdBQ2pCLElBQUtsRyxFQUFJLEVBQUdBLEVBQUlzQixJQUFLdEIsRUFDakIsR0FBSVMsRUFBSVQsSUFBTWlHLEVBQ1YsT0FBT2pHLE9BS2YsSUFBS0EsRUFBSSxFQUFHQSxFQUFJc0IsSUFBS3RCLEVBQUcsQ0FDcEIsR0FBSVMsRUFBSVQsSUFBTWlHLEVBQ1YsT0FBT2pHLEVBRU4sR0FBSVMsRUFBSVQsR0FBS2lHLEVBQ2QsT0FBSXhGLEVBQUlULEVBQUksR0FBS2lHLEVBQVNBLEVBQVN4RixFQUFJVCxHQUM1QkEsRUFBSSxFQUdKQSxFQUt2QixPQUFPc0IsRUFBSSxFQVFaLFNBQVM2RSxFQUFnQjFGLEVBQUsyRixFQUFPQyxHQUN4QyxLQUFPRCxFQUFRQyxHQUFLLENBQ2hCLElBQUlDLEVBQU03RixFQUFJMkYsR0FDZDNGLEVBQUkyRixHQUFTM0YsRUFBSTRGLEdBQ2pCNUYsRUFBSTRGLEdBQU9DLElBQ1RGLElBQ0FDLEdBUUgsU0FBUzdGLEVBQU9DLEVBQUs4RixHQUd4QixJQUZBLElBQUlDLEVBQVl0SSxNQUFNa0gsUUFBUW1CLEdBQVFBLEVBQU8sQ0FBQ0EsR0FDMUNyRyxFQUFTc0csRUFBVXRHLE9BQ2RGLEVBQUksRUFBR0EsRUFBSUUsRUFBUUYsSUFDeEJTLEVBQUlBLEVBQUlQLFFBQVVzRyxFQUFVeEcsR0F1QzdCLFNBQVN5RyxFQUFPQyxFQUFNQyxHQUN6QixJQUFJQyxFQUFPRixFQUFLeEcsT0FDaEIsR0FBSTBHLElBQVNELEVBQUt6RyxPQUNkLE9BQU8sRUFFWCxJQUFLLElBQUlGLEVBQUksRUFBR0EsRUFBSTRHLEVBQU01RyxJQUN0QixHQUFJMEcsRUFBSzFHLEtBQU8yRyxFQUFLM0csR0FDakIsT0FBTyxFQUdmLE9BQU8sRUEwQ0osU0FBUzZHLEVBQVNwRyxFQUFLcUcsRUFBVUMsR0FDcEMsSUFBSUMsRUFBVUYsR0FBWW5CLEVBQzFCLE9BQU9sRixFQUFJd0csT0FBTSxTQUFVQyxFQUFZMUgsR0FDbkMsR0FBYyxJQUFWQSxFQUNBLE9BQU8sRUFFWCxJQUFJMkgsRUFBTUgsRUFBUXZHLEVBQUlqQixFQUFRLEdBQUkwSCxHQUNsQyxRQUFTQyxFQUFNLEdBQU1KLEdBQXNCLElBQVJJLE0sb0lDMU5wQyxTQUFTQyxFQUFPQyxFQUFXQyxHQUM5QixJQUFLRCxFQUNELE1BQU0sSUFBSSxJQUFlQyxLLHdGQ1M3QkMsRUFBZ0Isb0RBT2hCQyxFQUFrQiw0QkFPZixTQUFTQyxFQUFTQyxHQUNyQixNQUFxQixpQkFBVkEsRUFDQUEsRUFHQUMsRUFBU0QsR0F5QmpCLElBWUNFLEVBSUFDLEVBaEJHQyxHQVlIRixFQUFRLEdBSVJDLEVBQVksRUFDVCxTQUtHRSxHQUNOLElBQUlMLEVBQ0osR0FBSUUsRUFBTXZKLGVBQWUwSixHQUNyQkwsRUFBUUUsRUFBTUcsT0FFYixDQUNELEdBQUlGLEdBcEJTLEtBb0JvQixDQUM3QixJQUFJN0gsRUFBSSxFQUNSLElBQUssSUFBSXlELEtBQU9tRSxFQUNNLElBQVAsRUFBTjVILGNBQ000SCxFQUFNbkUsS0FDWG9FLEdBSWRILEVBMkJaLFNBQTZCSyxHQUN6QixJQUFJQyxFQUFHQyxFQUFHbkssRUFBRzhILEVBQUc4QixFQUloQixHQUhJRixFQUFnQlUsS0FBS0gsS0FDckJBLEVBcEZSLFNBQW1CTCxHQUNmLElBQUlTLEVBQUtDLFNBQVNDLGNBQWMsT0FFaEMsR0FEQUYsRUFBR0csTUFBTVosTUFBUUEsRUFDTSxLQUFuQlMsRUFBR0csTUFBTVosTUFBYyxDQUN2QlUsU0FBU0csS0FBS0MsWUFBWUwsR0FDMUIsSUFBSU0sRUFBTUMsaUJBQWlCUCxHQUFJVCxNQUUvQixPQURBVSxTQUFTRyxLQUFLSSxZQUFZUixHQUNuQk0sRUFHUCxNQUFPLEdBMEVIRyxDQUFVYixJQUVkUixFQUFjVyxLQUFLSCxHQUFJLENBRXZCLElBQ0lsSyxFQURBeUQsRUFBSXlHLEVBQUU3SCxPQUFTLEVBSWZyQyxFQURBeUQsR0FBSyxFQUNELEVBR0EsRUFFUixJQUFJdUgsRUFBaUIsSUFBTnZILEdBQWlCLElBQU5BLEVBQzFCMEcsRUFBSWMsU0FBU2YsRUFBRWdCLE9BQU8sRUFBSSxFQUFJbEwsRUFBR0EsR0FBSSxJQUNyQ29LLEVBQUlhLFNBQVNmLEVBQUVnQixPQUFPLEVBQUksRUFBSWxMLEVBQUdBLEdBQUksSUFDckNDLEVBQUlnTCxTQUFTZixFQUFFZ0IsT0FBTyxFQUFJLEVBQUlsTCxFQUFHQSxHQUFJLElBRWpDK0gsRUFEQWlELEVBQ0lDLFNBQVNmLEVBQUVnQixPQUFPLEVBQUksRUFBSWxMLEVBQUdBLEdBQUksSUFHakMsSUFFQyxHQUFMQSxJQUNBbUssR0FBS0EsR0FBSyxHQUFLQSxFQUNmQyxHQUFLQSxHQUFLLEdBQUtBLEVBQ2ZuSyxHQUFLQSxHQUFLLEdBQUtBLEVBQ1grSyxJQUNBakQsR0FBS0EsR0FBSyxHQUFLQSxJQUd2QjhCLEVBQVEsQ0FBQ00sRUFBR0MsRUFBR25LLEVBQUc4SCxFQUFJLFVBRUssR0FBdEJtQyxFQUFFaEMsUUFBUSxTQUdmaUQsRUFEQXRCLEVBQVFLLEVBQUVrQixNQUFNLEdBQUksR0FBR0MsTUFBTSxLQUFLQyxJQUFJQyxTQUdaLEdBQXJCckIsRUFBRWhDLFFBQVEsVUFFZjJCLEVBQVFLLEVBQUVrQixNQUFNLEdBQUksR0FBR0MsTUFBTSxLQUFLQyxJQUFJQyxTQUNoQzFJLEtBQUssR0FDWHNJLEVBQVV0QixLQUdWLFFBQU8sRUFBTyxJQUVsQixPQUFPQSxFQTdFUzJCLENBQW9CdEIsR0FDNUJILEVBQU1HLEdBQUtMLElBQ1RHLEVBRU4sT0FBT0gsSUFVUixTQUFTNEIsRUFBUTVCLEdBQ3BCLE9BQUl4SixNQUFNa0gsUUFBUXNDLEdBQ1BBLEVBR0FJLEVBQVdKLEdBaUVuQixTQUFTc0IsRUFBVXRCLEdBS3RCLE9BSkFBLEVBQU0sSUFBSyxRQUFPQSxFQUFNLEdBQUssR0FBTyxFQUFHLEVBQUcsS0FDMUNBLEVBQU0sSUFBSyxRQUFPQSxFQUFNLEdBQUssR0FBTyxFQUFHLEVBQUcsS0FDMUNBLEVBQU0sSUFBSyxRQUFPQSxFQUFNLEdBQUssR0FBTyxFQUFHLEVBQUcsS0FDMUNBLEVBQU0sSUFBSyxRQUFNQSxFQUFNLEdBQUksRUFBRyxHQUN2QkEsRUFNSixTQUFTQyxFQUFTRCxHQUNyQixJQUFJTSxFQUFJTixFQUFNLEdBQ1ZNLElBQVUsRUFBSkEsS0FDTkEsRUFBS0EsRUFBSSxHQUFPLEdBRXBCLElBQUlDLEVBQUlQLEVBQU0sR0FDVk8sSUFBVSxFQUFKQSxLQUNOQSxFQUFLQSxFQUFJLEdBQU8sR0FFcEIsSUFBSW5LLEVBQUk0SixFQUFNLEdBS2QsT0FKSTVKLElBQVUsRUFBSkEsS0FDTkEsRUFBS0EsRUFBSSxHQUFPLEdBR2IsUUFBVWtLLEVBQUksSUFBTUMsRUFBSSxJQUFNbkssRUFBSSxVQURwQjZELElBQWIrRixFQUFNLEdBQW1CLEVBQUlBLEVBQU0sSUFDUSxNLDJEQzdMaEQsU0FBUzZCLEVBQVk3QixHQUN4QixPQUFJeEosTUFBTWtILFFBQVFzQyxJQUNQLFFBQVNBLEdBR1RBLEksMEZDTlIsSUFBSThCLEVBQWUsWUFPZkMsRUFBbUIsZ0JBT25CQyxFQUFxQixrQkFjckJDLEVBQWdCLGFBUWhCQyxFQUFrQixlQUt6QkMsRUFBWSxJQUFJQyxPQUFPLENBQ3ZCLHFEQUNBLDRDQUNBLDhEQUNBLGdEQUNBLDhFQUNBLGdFQUNBLG1DQUNGQyxLQUFLLElBQUssS0FDUkMsRUFBc0IsQ0FDdEIsUUFDQSxVQUNBLFNBQ0EsT0FDQSxhQUNBLFVBUU9DLEVBQW9CLFNBQVVDLEdBQ3JDLElBQUlDLEVBQVFELEVBQVNDLE1BQU1OLEdBQzNCLElBQUtNLEVBQ0QsT0FBTyxLQVNYLElBUEEsSUFBSTdCLEVBQXNDLENBQ3RDOEIsV0FBWSxTQUNaQyxLQUFNLFFBQ04vQixNQUFPLFNBQ1BnQyxPQUFRLFNBQ1JDLFFBQVMsVUFFSnZLLEVBQUksRUFBR0MsRUFBSytKLEVBQW9COUosT0FBUUYsRUFBSUMsSUFBTUQsRUFBRyxDQUMxRCxJQUFJK0QsRUFBUW9HLEVBQU1uSyxFQUFJLFFBQ1IyQixJQUFWb0MsSUFDQXVFLEVBQU0wQixFQUFvQmhLLElBQU0rRCxHQUl4QyxPQURBdUUsRUFBTWtDLFNBQVdsQyxFQUFNbUMsT0FBT3ZCLE1BQU0sUUFDN0JaLEksa0hDMUZKLFNBQVNvQyxFQUFzQkMsRUFBV0MsRUFBWUMsR0FDekQsSUFBSUMsRUFBU0QsR0FBa0JBLEVBQWUzSyxPQUN4QzJLLEVBQWVFLFFBQ2YsS0FDSSxJQUFJQyxnQkFBZ0JMLEdBQWEsSUFBS0MsR0FBYyxLQUNwRHhDLFNBQVNDLGNBQWMsVUFRakMsT0FQSXNDLElBQ0FHLEVBQU9HLE1BQVFOLEdBRWZDLElBQ0FFLEVBQU9JLE9BQVNOLEdBRzRCRSxFQUFPSyxXQUFXLE1BUy9ELFNBQVNDLEVBQVc3TCxHQUN2QixJQUFJMEwsRUFBUTFMLEVBQVE4TCxZQUNoQi9DLEVBQVFJLGlCQUFpQm5KLEdBRTdCLE9BREEwTCxHQUFTbkMsU0FBU1IsRUFBTWdELFdBQVksSUFBTXhDLFNBQVNSLEVBQU1pRCxZQUFhLEtBVW5FLFNBQVNDLEVBQVlqTSxHQUN4QixJQUFJMkwsRUFBUzNMLEVBQVFrTSxhQUNqQm5ELEVBQVFJLGlCQUFpQm5KLEdBRTdCLE9BREEyTCxHQUFVcEMsU0FBU1IsRUFBTW9ELFVBQVcsSUFBTTVDLFNBQVNSLEVBQU1xRCxhQUFjLEtBT3BFLFNBQVNDLEVBQVlDLEVBQVNDLEdBQ2pDLElBQUlDLEVBQVNELEVBQVFFLFdBQ2pCRCxHQUNBQSxFQUFPRSxhQUFhSixFQUFTQyxHQU85QixTQUFTSSxFQUFXQyxHQUN2QixPQUFPQSxHQUFRQSxFQUFLSCxXQUFhRyxFQUFLSCxXQUFXckQsWUFBWXdELEdBQVEsS0FLbEUsU0FBU0MsRUFBZUQsR0FDM0IsS0FBT0EsRUFBS0UsV0FDUkYsRUFBS3hELFlBQVl3RCxFQUFLRSxXQVd2QixTQUFTQyxFQUFnQkgsRUFBTUksR0FFbEMsSUFEQSxJQUFJQyxFQUFjTCxFQUFLTSxXQUNkek0sRUFBSSxLQUFXQSxFQUFHLENBQ3ZCLElBQUkwTSxFQUFXRixFQUFZeE0sR0FDdkIyTSxFQUFXSixFQUFTdk0sR0FFeEIsSUFBSzBNLElBQWFDLEVBQ2QsTUFHQUQsSUFBYUMsSUFJWkQsRUFLQUMsRUFNTFIsRUFBS1MsYUFBYUQsRUFBVUQsSUFMeEJQLEVBQUt4RCxZQUFZK0QsS0FDZjFNLEdBTkZtTSxFQUFLM0QsWUFBWW1FLE8sNEJDNUZ0QixTQUFTRSxFQUFPQyxHQUNuQixPQUFPQyxLQUFLQyxJQUFJRixFQUFHLEdBUWhCLFNBQVNHLEVBQVFILEdBQ3BCLE9BQU8sRUFBSUQsRUFBTyxFQUFJQyxHQVFuQixTQUFTSSxFQUFTSixHQUNyQixPQUFPLEVBQUlBLEVBQUlBLEVBQUksRUFBSUEsRUFBSUEsRUFBSUEsRUFRNUIsU0FBU0ssRUFBT0wsR0FDbkIsT0FBT0EsRSw0SENJSixTQUFTTSxFQUFPbkgsRUFBUTdHLEVBQU0rRixFQUFVa0ksRUFBVUMsR0FJckQsR0FISUQsR0FBWUEsSUFBYXBILElBQ3pCZCxFQUFXQSxFQUFTb0ksS0FBS0YsSUFFekJDLEVBQVUsQ0FDVixJQUFJRSxFQUFxQnJJLEVBQ3pCQSxFQUFXLFdBQ1BjLEVBQU9QLG9CQUFvQnRHLEVBQU0rRixHQUNqQ3FJLEVBQW1CQyxNQUFNalAsS0FBTWtQLFlBR3ZDLElBQUlDLEVBQVksQ0FDWjFILE9BQVFBLEVBQ1I3RyxLQUFNQSxFQUNOK0YsU0FBVUEsR0FHZCxPQURBYyxFQUFPMkgsaUJBQWlCeE8sRUFBTStGLEdBQ3ZCd0ksRUFzQkosU0FBU0UsRUFBVzVILEVBQVE3RyxFQUFNK0YsRUFBVWtJLEdBQy9DLE9BQU9ELEVBQU9uSCxFQUFRN0csRUFBTStGLEVBQVVrSSxHQUFVLEdBVzdDLFNBQVNTLEVBQWNySyxHQUN0QkEsR0FBT0EsRUFBSXdDLFNBQ1h4QyxFQUFJd0MsT0FBT1Asb0JBQW9CakMsRUFBSXJFLEtBQU1xRSxFQUFJMEIsV0FDN0MsUUFBTTFCLE0sOENDaENkLFFBbEQrQixXQUkzQixTQUFTc0ssRUFBVTNPLEdBSWZaLEtBQUt3UCxtQkFNTHhQLEtBQUtZLEtBQU9BLEVBTVpaLEtBQUt5SCxPQUFTLEtBZ0JsQixPQVZBOEgsRUFBVTNQLFVBQVU2UCxlQUFpQixXQUNqQ3pQLEtBQUt3UCxvQkFBcUIsR0FNOUJELEVBQVUzUCxVQUFVOFAsZ0JBQWtCLFdBQ2xDMVAsS0FBS3dQLG9CQUFxQixHQUV2QkQsRUFwQ21CLEksNkNDTjlCLFNBTUlJLE9BQVEsU0FNUjVMLE1BQU8sUUFDUDZMLEtBQU0sT0FDTkMsTUFBTyxRQUNQQyxZQUFhLGNBQ2I1TCxNQUFPLFFBQ1BDLFNBQVUsV0FDVjRMLFVBQVcsWUFDWEMsU0FBVSxXQUNWQyxLQUFNLE9BQ05DLE1BQU8sUUFDUEMsUUFBUyxVQUNUQyxTQUFVLFdBQ1ZDLEtBQU0sT0FDTkMsT0FBUSxTQUNSQyxVQUFXLFlBQ1hDLE1BQU8sVSxpRENqQ0hyUixFLHVDQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0FnTHZGLFFBcEo0QixTQUFVSSxHQUtsQyxTQUFTc1EsRUFBT0MsR0FDWixJQUFJcFEsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FxQmpDLE9BaEJBTSxFQUFNcVEsYUFBZUQsRUFLckJwUSxFQUFNc1EsaUJBQW1CLEtBS3pCdFEsRUFBTXVRLGFBQWUsS0FLckJ2USxFQUFNd1EsV0FBYSxLQUNaeFEsRUF1SFgsT0FqSkFsQixFQUFVcVIsRUFBUXRRLEdBZ0NsQnNRLEVBQU83USxVQUFVd1AsaUJBQW1CLFNBQVV4TyxFQUFNK0YsR0FDaEQsR0FBSy9GLEdBQVMrRixFQUFkLENBR0EsSUFBSW9LLEVBQVkvUSxLQUFLOFEsYUFBZTlRLEtBQUs4USxXQUFhLElBQ2xERSxFQUFtQkQsRUFBVW5RLEtBQVVtUSxFQUFVblEsR0FBUSxLQUNqQixJQUF4Q29RLEVBQWlCekosUUFBUVosSUFDekJxSyxFQUFpQjlPLEtBQUt5RSxLQWE5QjhKLEVBQU83USxVQUFVZ0QsY0FBZ0IsU0FBVXFPLEdBRXZDLElBQUlDLEVBQXVCLGlCQUFWRCxFQUFxQixJQUFJLEtBQU1BLEdBQVNBLEVBQ3JEclEsRUFBT3NRLEVBQUl0USxLQUNWc1EsRUFBSXpKLFNBQ0x5SixFQUFJekosT0FBU3pILEtBQUsyUSxjQUFnQjNRLE1BRXRDLElBQ0ltUixFQURBSixFQUFZL1EsS0FBSzhRLFlBQWM5USxLQUFLOFEsV0FBV2xRLEdBRW5ELEdBQUltUSxFQUFXLENBQ1gsSUFBSUssRUFBY3BSLEtBQUs2USxlQUFpQjdRLEtBQUs2USxhQUFlLElBQ3hEUSxFQUFrQnJSLEtBQUs0USxtQkFBcUI1USxLQUFLNFEsaUJBQW1CLElBQ2xFaFEsS0FBUXdRLElBQ1ZBLEVBQVl4USxHQUFRLEVBQ3BCeVEsRUFBZ0J6USxHQUFRLEtBRTFCd1EsRUFBWXhRLEdBQ2QsSUFBSyxJQUFJWSxFQUFJLEVBQUdDLEVBQUtzUCxFQUFVclAsT0FBUUYsRUFBSUMsSUFBTUQsRUFPN0MsSUFBa0IsS0FMZDJQLEVBREEsZ0JBQWlCSixFQUFVdlAsR0FDdUN1UCxFQUFVdlAsR0FBSThQLFlBQVlKLEdBR3hCSCxFQUFVdlAsR0FBSTFCLEtBQUtFLEtBQU1rUixLQUV0RUEsRUFBSTFCLG1CQUFvQixDQUMvQzJCLEdBQVksRUFDWixNQUlSLEtBREVDLEVBQVl4USxHQUNZLElBQXRCd1EsRUFBWXhRLEdBQWEsQ0FDekIsSUFBSTJRLEVBQUtGLEVBQWdCelEsR0FFekIsV0FET3lRLEVBQWdCelEsR0FDaEIyUSxLQUNIdlIsS0FBS2tILG9CQUFvQnRHLEVBQU0sYUFFNUJ3USxFQUFZeFEsR0FFdkIsT0FBT3VRLElBTWZWLEVBQU83USxVQUFVK0QsZ0JBQWtCLFdBQy9CM0QsS0FBSzhRLGFBQWMsUUFBTTlRLEtBQUs4USxhQVNsQ0wsRUFBTzdRLFVBQVU0UixhQUFlLFNBQVU1USxHQUN0QyxPQUFRWixLQUFLOFEsWUFBYzlRLEtBQUs4USxXQUFXbFEsU0FBVXVDLEdBT3pEc04sRUFBTzdRLFVBQVU2UixZQUFjLFNBQVVDLEdBQ3JDLFFBQUsxUixLQUFLOFEsYUFHSFksRUFDREEsS0FBWTFSLEtBQUs4USxXQUNqQnZSLE9BQU9rRyxLQUFLekYsS0FBSzhRLFlBQVlwUCxPQUFTLElBTWhEK08sRUFBTzdRLFVBQVVzSCxvQkFBc0IsU0FBVXRHLEVBQU0rRixHQUNuRCxJQUFJb0ssRUFBWS9RLEtBQUs4USxZQUFjOVEsS0FBSzhRLFdBQVdsUSxHQUNuRCxHQUFJbVEsRUFBVyxDQUNYLElBQUkvUCxFQUFRK1AsRUFBVXhKLFFBQVFaLElBQ2YsSUFBWDNGLElBQ0loQixLQUFLNFEsa0JBQW9CaFEsS0FBUVosS0FBSzRRLGtCQUV0Q0csRUFBVS9QLEdBQVMsT0FDakJoQixLQUFLNFEsaUJBQWlCaFEsS0FHeEJtUSxFQUFVcE8sT0FBTzNCLEVBQU8sR0FDQyxJQUFyQitQLEVBQVVyUCxlQUNIMUIsS0FBSzhRLFdBQVdsUSxPQU1wQzZQLEVBbEpnQixDQW1KekIsTSxtTUN2S0ssU0FBU2tCLEVBQUlDLEdBQ2hCLElBQUlDLEVBQWEzQyxVQUtqQixPQUFPLFNBQVUrQixHQUViLElBREEsSUFBSWEsR0FBTyxFQUNGdFEsRUFBSSxFQUFHQyxFQUFLb1EsRUFBV25RLE9BQVFGLEVBQUlDLElBQ3hDcVEsRUFBT0EsR0FBUUQsRUFBV3JRLEdBQUd5UCxNQURpQnpQLEdBTWxELE9BQU9zUSxHQVdSLElBY0lDLEVBQW1CLFNBQVVDLEdBQ3BDLElBQUlDLEVBQW9FRCxFQUE2QixjQUNyRyxPQUFRQyxFQUFjQyxVQUNoQkQsRUFBY0UsU0FBV0YsRUFBY0csVUFDekNILEVBQWNJLFVBbUJYQyxFQUFvQixTQUFVckIsR0FDckMsT0FBT0EsRUFBTXRHLElBQUk0SCxtQkFBbUJDLGFBQWEsYUFWbEMsU0FBVXZCLEdBQ3pCLE9BQU9BLEVBQU14SixPQUFPOEssbUJBQW1CRSxTQUFTN0ksU0FBUzhJLGVBVW5EQyxDQUFNMUIsSUFVTDJCLEVBQVMsS0FRVEMsRUFBUSxTQUFVYixHQUN6QixPQUFPQSxFQUFnQnBSLE1BQVEsV0FXeEJrUyxFQUFvQixTQUFVZCxHQUNyQyxJQUFJQyxFQUEyQ0QsRUFBNkIsY0FDNUUsT0FBK0IsR0FBeEJDLEVBQWNjLFVBQWlCLE1BQVUsTUFBT2QsRUFBY0csVUFTOURZLEVBQVEsS0FtQlJDLEVBQWMsU0FBVWpCLEdBQy9CLE9BQU9BLEVBQWdCcFIsTUFBUSxpQkFvQnhCc1MsRUFBaUIsU0FBVWxCLEdBQ2xDLElBQUlDLEVBQW9FRCxFQUE2QixjQUNyRyxPQUFTQyxFQUFjQyxVQUNqQkQsRUFBY0UsU0FBV0YsRUFBY0csV0FDeENILEVBQWNJLFVBeUJaYyxFQUFlLFNBQVVuQixHQUNoQyxJQUFJQyxFQUFvRUQsRUFBNkIsY0FDckcsT0FBU0MsRUFBY0MsVUFDakJELEVBQWNFLFNBQVdGLEVBQWNHLFVBQ3pDSCxFQUFjSSxVQVVYZSxFQUFvQixTQUFVcEIsR0FDckMsSUFDSXFCLEVBRG9FckIsRUFBNkIsY0FDM0MsT0FBRXFCLFFBQzVELE1BQW1CLFVBQVpBLEdBQW1DLFdBQVpBLEdBQW9DLGFBQVpBLEdBUy9DQyxFQUFZLFNBQVV0QixHQUM3QixJQUFJdUIsRUFBbUUsRUFDbEV0QixjQUdMLE9BRkEsWUFBd0I5TyxJQUFqQm9RLEVBQTRCLElBRUEsU0FBNUJBLEVBQWFDLGFBdUNiQyxFQUFnQixTQUFVekIsR0FDakMsSUFBSXVCLEVBQW1FLEVBQ2xFdEIsY0FFTCxPQURBLFlBQXdCOU8sSUFBakJvUSxFQUE0QixJQUM1QkEsRUFBYUcsV0FBcUMsSUFBeEJILEVBQWFSLFMsb1pDeFAzQyxTQUFTWSxFQUFlQyxHQUUzQixJQURBLElBQUlDLEVBMktHLENBQUNDLElBQVVBLEtBQVUsS0FBVyxLQTFLOUJ0UyxFQUFJLEVBQUdDLEVBQUttUyxFQUFZbFMsT0FBUUYsRUFBSUMsSUFBTUQsRUFDL0N1UyxFQUFpQkYsRUFBUUQsRUFBWXBTLElBRXpDLE9BQU9xUyxFQXdCSixTQUFTRyxFQUFPSCxFQUFRdE8sRUFBTzBPLEdBQ2xDLE9BQUlBLEdBQ0FBLEVBQVcsR0FBS0osRUFBTyxHQUFLdE8sRUFDNUIwTyxFQUFXLEdBQUtKLEVBQU8sR0FBS3RPLEVBQzVCME8sRUFBVyxHQUFLSixFQUFPLEdBQUt0TyxFQUM1QjBPLEVBQVcsR0FBS0osRUFBTyxHQUFLdE8sRUFDckIwTyxHQUdBLENBQ0hKLEVBQU8sR0FBS3RPLEVBQ1pzTyxFQUFPLEdBQUt0TyxFQUNac08sRUFBTyxHQUFLdE8sRUFDWnNPLEVBQU8sR0FBS3RPLEdBV2pCLFNBQVMyTyxFQUFNTCxFQUFRSSxHQUMxQixPQUFJQSxHQUNBQSxFQUFXLEdBQUtKLEVBQU8sR0FDdkJJLEVBQVcsR0FBS0osRUFBTyxHQUN2QkksRUFBVyxHQUFLSixFQUFPLEdBQ3ZCSSxFQUFXLEdBQUtKLEVBQU8sR0FDaEJJLEdBR0FKLEVBQU9wSixRQVNmLFNBQVMwSixFQUF5Qk4sRUFBUU8sRUFBR0MsR0FDaEQsSUFBSUMsRUFBSUMsRUFtQlIsT0FqQklELEVBREFGLEVBQUlQLEVBQU8sR0FDTkEsRUFBTyxHQUFLTyxFQUVaUCxFQUFPLEdBQUtPLEVBQ1pBLEVBQUlQLEVBQU8sR0FHWCxHQVdHUyxHQVJSQyxFQURBRixFQUFJUixFQUFPLEdBQ05BLEVBQU8sR0FBS1EsRUFFWlIsRUFBTyxHQUFLUSxFQUNaQSxFQUFJUixFQUFPLEdBR1gsR0FFYVUsRUFVbkIsU0FBU0MsRUFBbUJYLEVBQVFZLEdBQ3ZDLE9BQU9DLEVBQVdiLEVBQVFZLEVBQVcsR0FBSUEsRUFBVyxJQWNqRCxTQUFTRSxFQUFlQyxFQUFTQyxHQUNwQyxPQUFRRCxFQUFRLElBQU1DLEVBQVEsSUFDMUJBLEVBQVEsSUFBTUQsRUFBUSxJQUN0QkEsRUFBUSxJQUFNQyxFQUFRLElBQ3RCQSxFQUFRLElBQU1ELEVBQVEsR0FXdkIsU0FBU0YsRUFBV2IsRUFBUU8sRUFBR0MsR0FDbEMsT0FBT1IsRUFBTyxJQUFNTyxHQUFLQSxHQUFLUCxFQUFPLElBQU1BLEVBQU8sSUFBTVEsR0FBS0EsR0FBS1IsRUFBTyxHQVN0RSxTQUFTaUIsRUFBdUJqQixFQUFRWSxHQUMzQyxJQUFJTSxFQUFPbEIsRUFBTyxHQUNkbUIsRUFBT25CLEVBQU8sR0FDZG9CLEVBQU9wQixFQUFPLEdBQ2RxQixFQUFPckIsRUFBTyxHQUNkTyxFQUFJSyxFQUFXLEdBQ2ZKLEVBQUlJLEVBQVcsR0FDZlUsRUFBZSxZQWdCbkIsT0FmSWYsRUFBSVcsRUFDSkksR0FBOEIsU0FFekJmLEVBQUlhLElBQ1RFLEdBQThCLFdBRTlCZCxFQUFJVyxFQUNKRyxHQUE4QixVQUV6QmQsRUFBSWEsSUFDVEMsR0FBOEIsV0FFOUJBLElBQWlCLGNBQ2pCQSxFQUFlLGtCQUVaQSxFQU9KLFNBQVNDLElBQ1osTUFBTyxDQUFDdEIsSUFBVUEsS0FBVSxLQUFXLEtBV3BDLFNBQVN1QixFQUFlTixFQUFNQyxFQUFNQyxFQUFNQyxFQUFNakIsR0FDbkQsT0FBSUEsR0FDQUEsRUFBVyxHQUFLYyxFQUNoQmQsRUFBVyxHQUFLZSxFQUNoQmYsRUFBVyxHQUFLZ0IsRUFDaEJoQixFQUFXLEdBQUtpQixFQUNUakIsR0FHQSxDQUFDYyxFQUFNQyxFQUFNQyxFQUFNQyxHQVEzQixTQUFTSSxFQUFvQnJCLEdBQ2hDLE9BQU9vQixFQUFldkIsSUFBVUEsS0FBVSxLQUFXLElBQVdHLEdBTzdELFNBQVNzQixFQUE2QmQsRUFBWVIsR0FDckQsSUFBSUcsRUFBSUssRUFBVyxHQUNmSixFQUFJSSxFQUFXLEdBQ25CLE9BQU9ZLEVBQWVqQixFQUFHQyxFQUFHRCxFQUFHQyxFQUFHSixHQU8vQixTQUFTdUIsRUFBOEI1QixFQUFhSyxHQUV2RCxPQThGRyxTQUEyQkosRUFBUUQsR0FDdEMsSUFBSyxJQUFJcFMsRUFBSSxFQUFHQyxFQUFLbVMsRUFBWWxTLE9BQVFGLEVBQUlDLElBQU1ELEVBQy9DdVMsRUFBaUJGLEVBQVFELEVBQVlwUyxJQUV6QyxPQUFPcVMsRUFsR0E0QixDQURNSCxFQUFvQnJCLEdBQ0FMLEdBVTlCLFNBQVM4QixFQUFrQ0MsRUFBaUJDLEVBQVEvTixFQUFLZ08sRUFBUTVCLEdBRXBGLE9BQU82QixFQURNUixFQUFvQnJCLEdBQ0kwQixFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQWtCaEUsU0FBUzVOLEVBQU8yTSxFQUFTQyxHQUM1QixPQUFRRCxFQUFRLElBQU1DLEVBQVEsSUFDMUJELEVBQVEsSUFBTUMsRUFBUSxJQUN0QkQsRUFBUSxJQUFNQyxFQUFRLElBQ3RCRCxFQUFRLElBQU1DLEVBQVEsR0FzQnZCLFNBQVM3UyxFQUFPNFMsRUFBU0MsR0FhNUIsT0FaSUEsRUFBUSxHQUFLRCxFQUFRLEtBQ3JCQSxFQUFRLEdBQUtDLEVBQVEsSUFFckJBLEVBQVEsR0FBS0QsRUFBUSxLQUNyQkEsRUFBUSxHQUFLQyxFQUFRLElBRXJCQSxFQUFRLEdBQUtELEVBQVEsS0FDckJBLEVBQVEsR0FBS0MsRUFBUSxJQUVyQkEsRUFBUSxHQUFLRCxFQUFRLEtBQ3JCQSxFQUFRLEdBQUtDLEVBQVEsSUFFbEJELEVBTUosU0FBU2IsRUFBaUJGLEVBQVFZLEdBQ2pDQSxFQUFXLEdBQUtaLEVBQU8sS0FDdkJBLEVBQU8sR0FBS1ksRUFBVyxJQUV2QkEsRUFBVyxHQUFLWixFQUFPLEtBQ3ZCQSxFQUFPLEdBQUtZLEVBQVcsSUFFdkJBLEVBQVcsR0FBS1osRUFBTyxLQUN2QkEsRUFBTyxHQUFLWSxFQUFXLElBRXZCQSxFQUFXLEdBQUtaLEVBQU8sS0FDdkJBLEVBQU8sR0FBS1ksRUFBVyxJQXNCeEIsU0FBU3FCLEVBQXNCakMsRUFBUThCLEVBQWlCQyxFQUFRL04sRUFBS2dPLEdBQ3hFLEtBQU9ELEVBQVMvTixFQUFLK04sR0FBVUMsRUFDM0JFLEVBQVNsQyxFQUFROEIsRUFBZ0JDLEdBQVNELEVBQWdCQyxFQUFTLElBRXZFLE9BQU8vQixFQWtCSixTQUFTa0MsRUFBU2xDLEVBQVFPLEVBQUdDLEdBQ2hDUixFQUFPLEdBQUt0RixLQUFLeUgsSUFBSW5DLEVBQU8sR0FBSU8sR0FDaENQLEVBQU8sR0FBS3RGLEtBQUt5SCxJQUFJbkMsRUFBTyxHQUFJUSxHQUNoQ1IsRUFBTyxHQUFLdEYsS0FBSzBILElBQUlwQyxFQUFPLEdBQUlPLEdBQ2hDUCxFQUFPLEdBQUt0RixLQUFLMEgsSUFBSXBDLEVBQU8sR0FBSVEsR0FXN0IsU0FBUzZCLEVBQWNyQyxFQUFRc0MsR0FDbEMsSUFBSUMsRUFFSixPQURBQSxFQUFNRCxFQUFTRSxFQUFjeEMsT0FJN0J1QyxFQUFNRCxFQUFTRyxFQUFlekMsT0FJOUJ1QyxFQUFNRCxFQUFTSSxFQUFZMUMsS0FOaEJ1QyxHQVVYQSxFQUFNRCxFQUFTSyxFQUFXM0MsT0FJbkIsRUFRSixTQUFTNEMsRUFBUTVDLEdBQ3BCLElBQUk2QyxFQUFPLEVBSVgsT0FIS0MsRUFBUTlDLEtBQ1Q2QyxFQUFPRSxFQUFTL0MsR0FBVWdELEVBQVVoRCxJQUVqQzZDLEVBUUosU0FBU0wsRUFBY3hDLEdBQzFCLE1BQU8sQ0FBQ0EsRUFBTyxHQUFJQSxFQUFPLElBUXZCLFNBQVN5QyxFQUFlekMsR0FDM0IsTUFBTyxDQUFDQSxFQUFPLEdBQUlBLEVBQU8sSUFRdkIsU0FBU2lELEVBQVVqRCxHQUN0QixNQUFPLEVBQUVBLEVBQU8sR0FBS0EsRUFBTyxJQUFNLEdBQUlBLEVBQU8sR0FBS0EsRUFBTyxJQUFNLEdBUTVELFNBQVNrRCxFQUFVbEQsRUFBUW1ELEdBQzlCLElBQUl2QyxFQWdCSixPQWZJdUMsSUFBVyxnQkFDWHZDLEVBQWE0QixFQUFjeEMsR0FFdEJtRCxJQUFXLGlCQUNoQnZDLEVBQWE2QixFQUFlekMsR0FFdkJtRCxJQUFXLGFBQ2hCdkMsRUFBYStCLEVBQVczQyxHQUVuQm1ELElBQVcsY0FDaEJ2QyxFQUFhOEIsRUFBWTFDLElBR3pCLFFBQU8sRUFBTyxJQUVYWSxFQXNCSixTQUFTd0MsRUFBa0JDLEVBQVFDLEVBQVlDLEVBQVV2TCxFQUFNb0ksR0FDbEUsSUFBSUssRUFBTTZDLEVBQWF0TCxFQUFLLEdBQU0sRUFDOUIwSSxFQUFNNEMsRUFBYXRMLEVBQUssR0FBTSxFQUM5QndMLEVBQWM5SSxLQUFLK0ksSUFBSUYsR0FDdkJHLEVBQWNoSixLQUFLaUosSUFBSUosR0FDdkJLLEVBQU9uRCxFQUFLK0MsRUFDWkssRUFBT3BELEVBQUtpRCxFQUNaSSxFQUFPcEQsRUFBSzhDLEVBQ1pPLEVBQU9yRCxFQUFLZ0QsRUFDWm5ELEVBQUk4QyxFQUFPLEdBQ1g3QyxFQUFJNkMsRUFBTyxHQUNYVyxFQUFLekQsRUFBSXFELEVBQU9HLEVBQ2hCRSxFQUFLMUQsRUFBSXFELEVBQU9HLEVBQ2hCRyxFQUFLM0QsRUFBSXFELEVBQU9HLEVBQ2hCSSxFQUFLNUQsRUFBSXFELEVBQU9HLEVBQ2hCSyxFQUFLNUQsRUFBSXFELEVBQU9DLEVBQ2hCTyxFQUFLN0QsRUFBSXFELEVBQU9DLEVBQ2hCUSxFQUFLOUQsRUFBSXFELEVBQU9DLEVBQ2hCUyxFQUFLL0QsRUFBSXFELEVBQU9DLEVBQ3BCLE9BQU90QyxFQUFlOUcsS0FBS3lILElBQUk2QixFQUFJQyxFQUFJQyxFQUFJQyxHQUFLekosS0FBS3lILElBQUlpQyxFQUFJQyxFQUFJQyxFQUFJQyxHQUFLN0osS0FBSzBILElBQUk0QixFQUFJQyxFQUFJQyxFQUFJQyxHQUFLekosS0FBSzBILElBQUlnQyxFQUFJQyxFQUFJQyxFQUFJQyxHQUFLbkUsR0FRM0gsU0FBUzRDLEVBQVVoRCxHQUN0QixPQUFPQSxFQUFPLEdBQUtBLEVBQU8sR0FtQnZCLFNBQVN3RSxFQUFnQnpELEVBQVNDLEVBQVNaLEdBQzlDLElBQUlxRSxFQUFlckUsR0ExVlosQ0FBQ0gsSUFBVUEsS0FBVSxLQUFXLEtBd1h2QyxPQTdCSXlFLEVBQVczRCxFQUFTQyxJQUNoQkQsRUFBUSxHQUFLQyxFQUFRLEdBQ3JCeUQsRUFBYSxHQUFLMUQsRUFBUSxHQUcxQjBELEVBQWEsR0FBS3pELEVBQVEsR0FFMUJELEVBQVEsR0FBS0MsRUFBUSxHQUNyQnlELEVBQWEsR0FBSzFELEVBQVEsR0FHMUIwRCxFQUFhLEdBQUt6RCxFQUFRLEdBRTFCRCxFQUFRLEdBQUtDLEVBQVEsR0FDckJ5RCxFQUFhLEdBQUsxRCxFQUFRLEdBRzFCMEQsRUFBYSxHQUFLekQsRUFBUSxHQUUxQkQsRUFBUSxHQUFLQyxFQUFRLEdBQ3JCeUQsRUFBYSxHQUFLMUQsRUFBUSxHQUcxQjBELEVBQWEsR0FBS3pELEVBQVEsSUFJOUJTLEVBQW9CZ0QsR0FFakJBLEVBd0JKLFNBQVM5QixFQUFXM0MsR0FDdkIsTUFBTyxDQUFDQSxFQUFPLEdBQUlBLEVBQU8sSUFRdkIsU0FBUzBDLEVBQVkxQyxHQUN4QixNQUFPLENBQUNBLEVBQU8sR0FBSUEsRUFBTyxJQVF2QixTQUFTK0MsRUFBUy9DLEdBQ3JCLE9BQU9BLEVBQU8sR0FBS0EsRUFBTyxHQVN2QixTQUFTMEUsRUFBVzNELEVBQVNDLEdBQ2hDLE9BQVFELEVBQVEsSUFBTUMsRUFBUSxJQUMxQkQsRUFBUSxJQUFNQyxFQUFRLElBQ3RCRCxFQUFRLElBQU1DLEVBQVEsSUFDdEJELEVBQVEsSUFBTUMsRUFBUSxHQVF2QixTQUFTOEIsRUFBUTlDLEdBQ3BCLE9BQU9BLEVBQU8sR0FBS0EsRUFBTyxJQUFNQSxFQUFPLEdBQUtBLEVBQU8sR0FPaEQsU0FBUzJFLEVBQWUzRSxFQUFRSSxHQUNuQyxPQUFJQSxHQUNBQSxFQUFXLEdBQUtKLEVBQU8sR0FDdkJJLEVBQVcsR0FBS0osRUFBTyxHQUN2QkksRUFBVyxHQUFLSixFQUFPLEdBQ3ZCSSxFQUFXLEdBQUtKLEVBQU8sR0FDaEJJLEdBR0FKLEVBT1IsU0FBUzRFLEVBQWdCNUUsRUFBUXRPLEdBQ3BDLElBQUltVCxHQUFXN0UsRUFBTyxHQUFLQSxFQUFPLElBQU0sR0FBTXRPLEVBQVEsR0FDbERvVCxHQUFXOUUsRUFBTyxHQUFLQSxFQUFPLElBQU0sR0FBTXRPLEVBQVEsR0FDdERzTyxFQUFPLElBQU02RSxFQUNiN0UsRUFBTyxJQUFNNkUsRUFDYjdFLEVBQU8sSUFBTThFLEVBQ2I5RSxFQUFPLElBQU04RSxFQVVWLFNBQVNDLEVBQWtCL0UsRUFBUWdGLEVBQU9oUixHQUM3QyxJQUFJMFEsR0FBYSxFQUNiTyxFQUFXaEUsRUFBdUJqQixFQUFRZ0YsR0FDMUNFLEVBQVNqRSxFQUF1QmpCLEVBQVFoTSxHQUM1QyxHQUFJaVIsSUFBYSxrQkFDYkMsSUFBVyxpQkFDWFIsR0FBYSxNQUVaLENBQ0QsSUFBSXhELEVBQU9sQixFQUFPLEdBQ2RtQixFQUFPbkIsRUFBTyxHQUNkb0IsRUFBT3BCLEVBQU8sR0FDZHFCLEVBQU9yQixFQUFPLEdBQ2RtRixFQUFTSCxFQUFNLEdBQ2ZJLEVBQVNKLEVBQU0sR0FDZkssRUFBT3JSLEVBQUksR0FDWHNSLEVBQU90UixFQUFJLEdBQ1h1UixHQUFTRCxFQUFPRixJQUFXQyxFQUFPRixHQUNsQzVFLE9BQUksRUFBUUMsT0FBSSxFQUNiMEUsRUFBUyxhQUF5QkQsRUFBVyxhQUdoRFAsR0FEQW5FLEVBQUk4RSxHQUFRQyxFQUFPakUsR0FBUWtFLElBQ1RyRSxHQUFRWCxHQUFLYSxHQUU5QnNELEtBQ0VRLEVBQVMsWUFDVkQsRUFBVyxZQUdiUCxHQURBbEUsRUFBSThFLEdBQVFELEVBQU9qRSxHQUFRbUUsSUFDVHBFLEdBQVFYLEdBQUthLEdBRTlCcUQsS0FDRVEsRUFBUyxZQUNWRCxFQUFXLFlBR2JQLEdBREFuRSxFQUFJOEUsR0FBUUMsRUFBT25FLEdBQVFvRSxJQUNUckUsR0FBUVgsR0FBS2EsR0FFOUJzRCxLQUNFUSxFQUFTLFdBQ1ZELEVBQVcsV0FHYlAsR0FEQWxFLEVBQUk4RSxHQUFRRCxFQUFPbkUsR0FBUXFFLElBQ1RwRSxHQUFRWCxHQUFLYSxHQUd2QyxPQUFPcUQsRUFhSixTQUFTYyxFQUFleEYsRUFBUXlGLEVBQWFyRixFQUFZc0YsR0FDNUQsSUFBSTNGLEVBQWMsR0FDbEIsR0FBSTJGLEVBQVksRUFHWixJQUZBLElBQUk5TSxFQUFRb0gsRUFBTyxHQUFLQSxFQUFPLEdBQzNCbkgsRUFBU21ILEVBQU8sR0FBS0EsRUFBTyxHQUN2QnJTLEVBQUksRUFBR0EsRUFBSStYLElBQWEvWCxFQUM3Qm9TLEVBQVkxUixLQUFLMlIsRUFBTyxHQUFNcEgsRUFBUWpMLEVBQUsrWCxFQUFXMUYsRUFBTyxHQUFJQSxFQUFPLEdBQUlBLEVBQU8sR0FBTW5ILEVBQVNsTCxFQUFLK1gsRUFBVzFGLEVBQU8sR0FBTXBILEVBQVFqTCxFQUFLK1gsRUFBVzFGLEVBQU8sR0FBSUEsRUFBTyxHQUFJQSxFQUFPLEdBQU1uSCxFQUFTbEwsRUFBSytYLFFBSTVNM0YsRUFBYyxDQUNWQyxFQUFPLEdBQ1BBLEVBQU8sR0FDUEEsRUFBTyxHQUNQQSxFQUFPLEdBQ1BBLEVBQU8sR0FDUEEsRUFBTyxHQUNQQSxFQUFPLEdBQ1BBLEVBQU8sSUFHZnlGLEVBQVkxRixFQUFhQSxFQUFhLEdBR3RDLElBRkEsSUFBSTRGLEVBQUssR0FDTEMsRUFBSyxHQUNPQyxHQUFQbFksRUFBSSxFQUFPb1MsRUFBWWxTLFFBQVFGLEVBQUlrWSxFQUFHbFksR0FBSyxFQUNoRGdZLEVBQUd0WCxLQUFLMFIsRUFBWXBTLElBQ3BCaVksRUFBR3ZYLEtBQUswUixFQUFZcFMsRUFBSSxJQUU1QixPQXJ0QkosU0FBNEJnWSxFQUFJQyxFQUFJeEYsR0FLaEMsT0FBT29CLEVBSkk5RyxLQUFLeUgsSUFBSS9HLE1BQU0sS0FBTXVLLEdBQ3JCakwsS0FBS3lILElBQUkvRyxNQUFNLEtBQU13SyxHQUNyQmxMLEtBQUswSCxJQUFJaEgsTUFBTSxLQUFNdUssR0FDckJqTCxLQUFLMEgsSUFBSWhILE1BQU0sS0FBTXdLLEdBQ2N4RixHQWd0QnZDMEYsQ0FBbUJILEVBQUlDLEVBQUl4RixHQVUvQixTQUFTMkYsRUFBTS9GLEVBQVFnRyxHQUMxQixJQUFJQyxFQUFtQkQsRUFBV0UsWUFDOUI3QyxFQUFTSixFQUFVakQsR0FDdkIsR0FBSWdHLEVBQVdHLGFBQ1Y5QyxFQUFPLEdBQUs0QyxFQUFpQixJQUFNNUMsRUFBTyxJQUFNNEMsRUFBaUIsSUFBSyxDQUN2RSxJQUFJRyxFQUFhckQsRUFBU2tELEdBRXRCbEUsRUFEYXJILEtBQUsyTCxPQUFPaEQsRUFBTyxHQUFLNEMsRUFBaUIsSUFBTUcsR0FDdENBLEVBQzFCcEcsRUFBTyxJQUFNK0IsRUFDYi9CLEVBQU8sSUFBTStCLEVBRWpCLE9BQU8vQixJLDZDQ253QlgsU0FDSXNHLFlBQWEsY0FDYkMsYUFBYyxlQUNkQyxTQUFVLFdBQ1ZDLFVBQVcsYyw2Q0NKZixTQUNJQyxRQUFTLEVBQ1RDLGFBQWMsRUFDZEMsTUFBTyxFQUNQQyxNQUFPLEVBQ1BDLE1BQU8sRUFDUEMsS0FBTSxLLHVGQ0xILFNBQVNDLElBQ1osT0FBTyxFQU1KLFNBQVNDLElBQ1osT0FBTyxFQU9KLFNBQVNDLEtBVVQsU0FBU0MsRUFBV0MsR0FDdkIsSUFFSUMsRUFFQUMsRUFDQUMsRUFMQUMsR0FBUyxFQU1iLE9BQU8sV0FDSCxJQUFJQyxFQUFXNWIsTUFBTUUsVUFBVTZLLE1BQU0zSyxLQUFLb1AsV0FPMUMsT0FOS21NLEdBQVVyYixPQUFTb2IsSUFBYSxRQUFZRSxFQUFVSCxLQUN2REUsR0FBUyxFQUNURCxFQUFXcGIsS0FDWG1iLEVBQVdHLEVBQ1hKLEVBQWFELEVBQUdoTSxNQUFNalAsS0FBTWtQLFlBRXpCZ00sSyw2Q0N2Q2YsU0FDSUssR0FBSSxLQUNKQyxJQUFLLE1BQ0xDLElBQUssTUFDTEMsS0FBTSxTLDZDQ0pWLFNBQ0lDLE1BQU8sUUFDUEMsWUFBYSxhQUNiQyxZQUFhLGFBQ2JDLFFBQVMsVUFDVEMsWUFBYSxhQUNiQyxrQkFBbUIsa0JBQ25CQyxjQUFlLGVBQ2ZDLG9CQUFxQixxQkFDckJDLE9BQVEsVyxpRENqQkpoZCxFLGtEQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0E0R3ZGLFFBM0YyQixTQUFVSSxHQU1qQyxTQUFTaWMsRUFBTXhJLEVBQWF5SSxHQUN4QixJQUFJL2IsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FFakMsT0FEQU0sRUFBTWdjLGVBQWUxSSxFQUFheUksR0FDM0IvYixFQWdGWCxPQXhGQWxCLEVBQVVnZCxFQUFPamMsR0FlakJpYyxFQUFNeGMsVUFBVXNVLE1BQVEsV0FDcEIsSUFBSXFJLEVBQVEsSUFBSUgsRUFBTXBjLEtBQUsyVixnQkFBZ0JsTCxRQUFTekssS0FBS3djLFFBRXpELE9BREFELEVBQU10VyxnQkFBZ0JqRyxNQUNmdWMsR0FTWEgsRUFBTXhjLFVBQVU2YyxlQUFpQixTQUFVckksRUFBR0MsRUFBR3FJLEVBQWNDLEdBQzNELElBQUloSCxFQUFrQjNWLEtBQUsyVixnQkFDdkJpSCxHQUFrQixRQUFVeEksRUFBR0MsRUFBR3NCLEVBQWdCLEdBQUlBLEVBQWdCLElBQzFFLEdBQUlpSCxFQUFrQkQsRUFBb0IsQ0FFdEMsSUFEQSxJQUFJOUcsRUFBUzdWLEtBQUs2VixPQUNUclUsRUFBSSxFQUFHQSxFQUFJcVUsSUFBVXJVLEVBQzFCa2IsRUFBYWxiLEdBQUttVSxFQUFnQm5VLEdBR3RDLE9BREFrYixFQUFhaGIsT0FBU21VLEVBQ2YrRyxFQUdQLE9BQU9ELEdBUWZQLEVBQU14YyxVQUFVaWQsZUFBaUIsV0FDN0IsT0FBUTdjLEtBQUsyVixnQkFBdUIzVixLQUFLMlYsZ0JBQWdCbEwsUUFBMUIsSUFPbkMyUixFQUFNeGMsVUFBVWtkLGNBQWdCLFNBQVVqSixHQUN0QyxPQUFPLFFBQTZCN1QsS0FBSzJWLGdCQUFpQjlCLElBTzlEdUksRUFBTXhjLFVBQVVtZCxRQUFVLFdBQ3RCLE9BQU8sV0FRWFgsRUFBTXhjLFVBQVVvZCxpQkFBbUIsU0FBVW5KLEdBQ3pDLE9BQU8sUUFBV0EsRUFBUTdULEtBQUsyVixnQkFBZ0IsR0FBSTNWLEtBQUsyVixnQkFBZ0IsS0FPNUV5RyxFQUFNeGMsVUFBVTBjLGVBQWlCLFNBQVUxSSxFQUFheUksR0FDcERyYyxLQUFLaWQsVUFBVVosRUFBWXpJLEVBQWEsR0FDbkM1VCxLQUFLMlYsa0JBQ04zVixLQUFLMlYsZ0JBQWtCLElBRTNCM1YsS0FBSzJWLGdCQUFnQmpVLFFBQVMsUUFBa0IxQixLQUFLMlYsZ0JBQWlCLEVBQUcvQixFQUFhNVQsS0FBSzZWLFFBQzNGN1YsS0FBS3dHLFdBRUY0VixFQXpGZSxDQTBGeEIsTywyRENwSE1qZCxFLCtFQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0FpQm5GbWQsR0FBZSxVQXFRbkIsUUF4UDhCLFNBQVUvYyxHQUVwQyxTQUFTZ2QsSUFDTCxJQUFJN2MsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FxQ2pDLE9BaENBTSxFQUFNOGMsU0FBVSxVQUtoQjljLEVBQU0rYyxpQkFBbUIsRUFLekIvYyxFQUFNZ2QseUNBQTJDLEVBS2pEaGQsRUFBTWlkLDJCQUE2QixFQVNuQ2pkLEVBQU1rZCw2QkFBOEIsU0FBVyxTQUFVQyxFQUFVQyxFQUFrQkMsR0FDakYsSUFBS0EsRUFDRCxPQUFPM2QsS0FBSzRkLHNCQUFzQkYsR0FFdEMsSUFBSXhKLEVBQVFsVSxLQUFLa1UsUUFFakIsT0FEQUEsRUFBTW1GLGVBQWVzRSxHQUNkekosRUFBTTBKLHNCQUFzQkYsTUFFaENwZCxFQThNWCxPQXJQQWxCLEVBQVUrZCxFQUFVaGQsR0FnRHBCZ2QsRUFBU3ZkLFVBQVVpZSxvQkFBc0IsU0FBVUgsRUFBa0JDLEdBQ2pFLE9BQU8zZCxLQUFLd2QsNEJBQTRCeGQsS0FBS3lHLGNBQWVpWCxFQUFrQkMsSUFPbEZSLEVBQVN2ZCxVQUFVc1UsTUFBUSxXQUN2QixPQUFPLFdBVVhpSixFQUFTdmQsVUFBVTZjLGVBQWlCLFNBQVVySSxFQUFHQyxFQUFHcUksRUFBY0MsR0FDOUQsT0FBTyxXQU9YUSxFQUFTdmQsVUFBVThVLFdBQWEsU0FBVU4sRUFBR0MsR0FDekMsSUFBSXlKLEVBQVE5ZCxLQUFLK2QsZ0JBQWdCLENBQUMzSixFQUFHQyxJQUNyQyxPQUFPeUosRUFBTSxLQUFPMUosR0FBSzBKLEVBQU0sS0FBT3pKLEdBVTFDOEksRUFBU3ZkLFVBQVVtZSxnQkFBa0IsU0FBVXhCLEVBQU95QixHQUNsRCxJQUFJdEIsRUFBZXNCLEdBQXNDLENBQUNDLElBQUtBLEtBRS9ELE9BREFqZSxLQUFLeWMsZUFBZUYsRUFBTSxHQUFJQSxFQUFNLEdBQUlHLEVBQWM1SSxLQUMvQzRJLEdBU1hTLEVBQVN2ZCxVQUFVc2UscUJBQXVCLFNBQVV6SixHQUNoRCxPQUFPelUsS0FBSzBVLFdBQVdELEVBQVcsR0FBSUEsRUFBVyxLQVFyRDBJLEVBQVN2ZCxVQUFVa2QsY0FBZ0IsU0FBVWpKLEdBQ3pDLE9BQU8sV0FRWHNKLEVBQVN2ZCxVQUFVbWEsVUFBWSxTQUFVOUYsR0FDckMsR0FBSWpVLEtBQUtxZCxpQkFBbUJyZCxLQUFLeUcsY0FBZSxDQUM1QyxJQUFJb04sRUFBUzdULEtBQUs4YyxjQUFjOWMsS0FBS29kLFVBQ2pDZSxNQUFNdEssRUFBTyxLQUFPc0ssTUFBTXRLLEVBQU8sT0FDakMsUUFBb0JBLEdBRXhCN1QsS0FBS3FkLGdCQUFrQnJkLEtBQUt5RyxjQUVoQyxPQUFPLFFBQWV6RyxLQUFLb2QsUUFBU25KLElBVXhDa0osRUFBU3ZkLFVBQVV3ZSxPQUFTLFNBQVVDLEVBQU9DLElBQ3pDLFdBWUpuQixFQUFTdmQsVUFBVTJlLE1BQVEsU0FBVUMsRUFBSUMsRUFBUUMsSUFDN0MsV0FXSnZCLEVBQVN2ZCxVQUFVK2UsU0FBVyxTQUFVQyxHQUNwQyxPQUFPNWUsS0FBSzRkLHNCQUFzQmdCLEVBQVlBLElBVWxEekIsRUFBU3ZkLFVBQVVnZSxzQkFBd0IsU0FBVUYsR0FDakQsT0FBTyxXQU9YUCxFQUFTdmQsVUFBVW1kLFFBQVUsV0FDekIsT0FBTyxXQVdYSSxFQUFTdmQsVUFBVXlaLGVBQWlCLFNBQVVDLElBQzFDLFdBUUo2RCxFQUFTdmQsVUFBVW9kLGlCQUFtQixTQUFVbkosR0FDNUMsT0FBTyxXQVVYc0osRUFBU3ZkLFVBQVVpZixVQUFZLFNBQVVuRyxFQUFRQyxJQUM3QyxXQWlCSndFLEVBQVN2ZCxVQUFVa2YsVUFBWSxTQUFVNVksRUFBUTZZLEdBRTdDLElBQUlDLEdBQWEsUUFBYzlZLEdBQzNCb1QsRUFBYzBGLEVBQVdDLFlBQWNDLEVBQUEsY0FDckMsU0FBVUMsRUFBZUMsRUFBZ0J2SixHQUN2QyxJQUFJd0osRUFBY0wsRUFBV2pGLFlBQ3pCdUYsRUFBa0JOLEVBQVdPLGlCQUM3QmhCLEdBQVEsUUFBVWUsSUFBbUIsUUFBVUQsR0FHbkQsT0FGQSxRQUFpQm5DLEVBQWNvQyxFQUFnQixHQUFJQSxFQUFnQixHQUFJZixHQUFRQSxFQUFPLEVBQUcsRUFBRyxJQUM1RixRQUFZWSxFQUFlLEVBQUdBLEVBQWN6ZCxPQUFRbVUsRUFBUXFILEVBQWNrQyxJQUNuRSxRQUFhSixFQUFZRCxFQUF6QixDQUFzQ0ksRUFBZUMsRUFBZ0J2SixLQUU5RSxRQUFhbUosRUFBWUQsR0FFL0IsT0FEQS9lLEtBQUtxWixlQUFlQyxHQUNidFosTUFFSm1kLEVBdFBrQixDQXVQM0IsTSxjQy9SRSxFQUF3QyxXQUN4QyxJQUFJaGUsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0F5UnJDLFNBQVN5ZixFQUFtQmhELEdBQy9CLElBQUkzRyxFQVVKLE9BVEkyRyxHQUFVaUQsRUFBQSxLQUNWNUosRUFBUyxFQUVKMkcsR0FBVWlELEVBQUEsT0FBc0JqRCxHQUFVaUQsRUFBQSxNQUMvQzVKLEVBQVMsRUFFSjJHLEdBQVVpRCxFQUFBLFNBQ2Y1SixFQUFTLEdBRWdCLEVBUTFCLFNBQVM2SixFQUFnQkMsRUFBZ0JiLEVBQVdjLEdBQ3ZELElBQUlqSyxFQUFrQmdLLEVBQWVFLHFCQUNyQyxHQUFLbEssRUFHQSxDQUNELElBQUlFLEVBQVM4SixFQUFlRyxZQUM1QixPQUFPLFFBQVluSyxFQUFpQixFQUFHQSxFQUFnQmpVLE9BQVFtVSxFQUFRaUosRUFBV2MsR0FKbEYsT0FBTyxLQU9mLFFBelJvQyxTQUFVemYsR0FFMUMsU0FBUzRmLElBQ0wsSUFBSXpmLEVBQVFILEVBQU9MLEtBQUtFLE9BQVNBLEtBZ0JqQyxPQVhBTSxFQUFNa2MsT0FBU2lELEVBQUEsS0FLZm5mLEVBQU11VixPQUFTLEVBS2Z2VixFQUFNcVYsZ0JBQWtCLEtBQ2pCclYsRUFrTlgsT0FwT0EsRUFBVXlmLEVBQWdCNWYsR0F5QjFCNGYsRUFBZW5nQixVQUFVa2QsY0FBZ0IsU0FBVWpKLEdBQy9DLE9BQU8sUUFBa0M3VCxLQUFLMlYsZ0JBQWlCLEVBQUczVixLQUFLMlYsZ0JBQWdCalUsT0FBUTFCLEtBQUs2VixPQUFRaEMsSUFNaEhrTSxFQUFlbmdCLFVBQVVpZCxlQUFpQixXQUN0QyxPQUFPLFdBT1hrRCxFQUFlbmdCLFVBQVVvZ0IsbUJBQXFCLFdBQzFDLE9BQU9oZ0IsS0FBSzJWLGdCQUFnQmxMLE1BQU0sRUFBR3pLLEtBQUs2VixTQUs5Q2tLLEVBQWVuZ0IsVUFBVWlnQixtQkFBcUIsV0FDMUMsT0FBTzdmLEtBQUsyVixpQkFPaEJvSyxFQUFlbmdCLFVBQVVxZ0Isa0JBQW9CLFdBQ3pDLE9BQU9qZ0IsS0FBSzJWLGdCQUFnQmxMLE1BQU16SyxLQUFLMlYsZ0JBQWdCalUsT0FBUzFCLEtBQUs2VixTQU96RWtLLEVBQWVuZ0IsVUFBVXNnQixVQUFZLFdBQ2pDLE9BQU9sZ0IsS0FBS3djLFFBT2hCdUQsRUFBZW5nQixVQUFVZ2Usc0JBQXdCLFNBQVVGLEdBT3ZELEdBTkkxZCxLQUFLdWQsNkJBQStCdmQsS0FBS3lHLGdCQUN6Q3pHLEtBQUtzZCx5Q0FBMkMsRUFDaER0ZCxLQUFLdWQsMkJBQTZCdmQsS0FBS3lHLGVBSXZDaVgsRUFBbUIsR0FDZ0MsSUFBbEQxZCxLQUFLc2QsMENBQ0ZJLEdBQW9CMWQsS0FBS3NkLHlDQUM3QixPQUFPdGQsS0FFWCxJQUFJbWdCLEVBQXFCbmdCLEtBQUtvZ0IsOEJBQThCMUMsR0FFNUQsT0FEZ0N5QyxFQUFtQk4scUJBQ3JCbmUsT0FBUzFCLEtBQUsyVixnQkFBZ0JqVSxPQUNqRHllLEdBU1BuZ0IsS0FBS3NkLHlDQUEyQ0ksRUFDekMxZCxPQVFmK2YsRUFBZW5nQixVQUFVd2dCLDhCQUFnQyxTQUFVMUMsR0FDL0QsT0FBTzFkLE1BS1grZixFQUFlbmdCLFVBQVVrZ0IsVUFBWSxXQUNqQyxPQUFPOWYsS0FBSzZWLFFBTWhCa0ssRUFBZW5nQixVQUFVeWdCLG1CQUFxQixTQUFVN0QsRUFBUTdHLEdBQzVEM1YsS0FBSzZWLE9BQVMySixFQUFtQmhELEdBQ2pDeGMsS0FBS3djLE9BQVNBLEVBQ2R4YyxLQUFLMlYsZ0JBQWtCQSxHQU8zQm9LLEVBQWVuZ0IsVUFBVTBjLGVBQWlCLFNBQVUxSSxFQUFheUksSUFDN0QsV0FRSjBELEVBQWVuZ0IsVUFBVXFkLFVBQVksU0FBVVQsRUFBUTVJLEVBQWEwTSxHQUVoRSxJQUFJekssRUFDSixHQUFJMkcsRUFDQTNHLEVBQVMySixFQUFtQmhELE9BRTNCLENBQ0QsSUFBSyxJQUFJaGIsRUFBSSxFQUFHQSxFQUFJOGUsSUFBVzllLEVBQUcsQ0FDOUIsR0FBMkIsSUFBdkJvUyxFQUFZbFMsT0FHWixPQUZBMUIsS0FBS3djLE9BQVNpRCxFQUFBLFVBQ2R6ZixLQUFLNlYsT0FBUyxHQUlkakMsRUFBb0NBLEVBQVksR0FJeEQ0SSxFQWlGWixTQUE0QjNHLEdBQ3hCLElBQUkyRyxFQVVKLE9BVGMsR0FBVjNHLEVBQ0EyRyxFQUFTaUQsRUFBQSxLQUVNLEdBQVY1SixFQUNMMkcsRUFBU2lELEVBQUEsTUFFTSxHQUFWNUosSUFDTDJHLEVBQVNpRCxFQUFBLFFBRStDLEVBNUYzQ2MsQ0FEVDFLLEVBQVNqQyxFQUFZbFMsUUFHekIxQixLQUFLd2MsT0FBU0EsRUFDZHhjLEtBQUs2VixPQUFTQSxHQVdsQmtLLEVBQWVuZ0IsVUFBVXlaLGVBQWlCLFNBQVVDLEdBQzVDdFosS0FBSzJWLGtCQUNMMkQsRUFBWXRaLEtBQUsyVixnQkFBaUIzVixLQUFLMlYsZ0JBQWlCM1YsS0FBSzZWLFFBQzdEN1YsS0FBS3dHLFlBVWJ1WixFQUFlbmdCLFVBQVV3ZSxPQUFTLFNBQVVDLEVBQU9DLEdBQy9DLElBQUkzSSxFQUFrQjNWLEtBQUs2ZixxQkFDM0IsR0FBSWxLLEVBQWlCLENBQ2pCLElBQUlFLEVBQVM3VixLQUFLOGYsYUFDbEIsUUFBT25LLEVBQWlCLEVBQUdBLEVBQWdCalUsT0FBUW1VLEVBQVF3SSxFQUFPQyxFQUFRM0ksR0FDMUUzVixLQUFLd0csWUFZYnVaLEVBQWVuZ0IsVUFBVTJlLE1BQVEsU0FBVUMsRUFBSUMsRUFBUUMsR0FDbkQsSUFBSThCLEVBQUsvQixPQUNFdGIsSUFBUHFkLElBQ0FBLEVBQUtoQyxHQUVULElBQUlGLEVBQVNJLEVBQ1JKLElBQ0RBLEdBQVMsUUFBVXRlLEtBQUsrWixjQUU1QixJQUFJcEUsRUFBa0IzVixLQUFLNmYscUJBQzNCLEdBQUlsSyxFQUFpQixDQUNqQixJQUFJRSxFQUFTN1YsS0FBSzhmLGFBQ2xCLFFBQU1uSyxFQUFpQixFQUFHQSxFQUFnQmpVLE9BQVFtVSxFQUFRMkksRUFBSWdDLEVBQUlsQyxFQUFRM0ksR0FDMUUzVixLQUFLd0csWUFVYnVaLEVBQWVuZ0IsVUFBVWlmLFVBQVksU0FBVW5HLEVBQVFDLEdBQ25ELElBQUloRCxFQUFrQjNWLEtBQUs2ZixxQkFDM0IsR0FBSWxLLEVBQWlCLENBQ2pCLElBQUlFLEVBQVM3VixLQUFLOGYsYUFDbEIsUUFBVW5LLEVBQWlCLEVBQUdBLEVBQWdCalUsT0FBUW1VLEVBQVE2QyxFQUFRQyxFQUFRaEQsR0FDOUUzVixLQUFLd0csWUFHTnVaLEVBck93QixDQXNPakMsSSw0QkN6UEssU0FBU1UsRUFBa0I5SyxFQUFpQkMsRUFBUW5CLEVBQVlvQixHQUNuRSxJQUFLLElBQUlyVSxFQUFJLEVBQUdDLEVBQUtnVCxFQUFXL1MsT0FBUUYsRUFBSUMsSUFBTUQsRUFDOUNtVSxFQUFnQkMsS0FBWW5CLEVBQVdqVCxHQUUzQyxPQUFPb1UsRUFTSixTQUFTOEssRUFBbUIvSyxFQUFpQkMsRUFBUWhDLEVBQWFpQyxHQUNyRSxJQUFLLElBQUlyVSxFQUFJLEVBQUdDLEVBQUttUyxFQUFZbFMsT0FBUUYsRUFBSUMsSUFBTUQsRUFFL0MsSUFEQSxJQUFJaVQsRUFBYWIsRUFBWXBTLEdBQ3BCMEIsRUFBSSxFQUFHQSxFQUFJMlMsSUFBVTNTLEVBQzFCeVMsRUFBZ0JDLEtBQVluQixFQUFXdlIsR0FHL0MsT0FBTzBTLEVBVUosU0FBUytLLEVBQXdCaEwsRUFBaUJDLEVBQVFnTCxFQUFjL0ssRUFBUWdMLEdBR25GLElBRkEsSUFBSUMsRUFBT0QsR0FBc0IsR0FDN0JyZixFQUFJLEVBQ0MwQixFQUFJLEVBQUc2ZCxFQUFLSCxFQUFhbGYsT0FBUXdCLEVBQUk2ZCxJQUFNN2QsRUFBRyxDQUNuRCxJQUFJMkUsRUFBTTZZLEVBQW1CL0ssRUFBaUJDLEVBQVFnTCxFQUFhMWQsR0FBSTJTLEdBQ3ZFaUwsRUFBS3RmLEtBQU9xRyxFQUNaK04sRUFBUy9OLEVBR2IsT0FEQWlaLEVBQUtwZixPQUFTRixFQUNQc2YsRSxpRUNyQ0osU0FBU0UsRUFBWXJMLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVFpSixFQUFXYyxHQUd6RSxJQUZBLElBQUlxQixFQUFPckIsR0FBc0IsR0FDN0JwZSxFQUFJLEVBQ0MwQixFQUFJMFMsRUFBUTFTLEVBQUkyRSxFQUFLM0UsR0FBSzJTLEVBQVEsQ0FDdkMsSUFBSXpCLEVBQUl1QixFQUFnQnpTLEdBQ3BCbVIsRUFBSXNCLEVBQWdCelMsRUFBSSxHQUM1QitkLEVBQUt6ZixLQUFPc2QsRUFBVSxHQUFLMUssRUFBSTBLLEVBQVUsR0FBS3pLLEVBQUl5SyxFQUFVLEdBQzVEbUMsRUFBS3pmLEtBQU9zZCxFQUFVLEdBQUsxSyxFQUFJMEssRUFBVSxHQUFLekssRUFBSXlLLEVBQVUsR0FLaEUsT0FISWMsR0FBWXFCLEVBQUt2ZixRQUFVRixJQUMzQnlmLEVBQUt2ZixPQUFTRixHQUVYeWYsRUFZSixTQUFTN0MsRUFBT3pJLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVF3SSxFQUFPQyxFQUFRc0IsR0FPeEUsSUFOQSxJQUFJcUIsRUFBT3JCLEdBQXNCLEdBQzdCdEksRUFBTS9JLEtBQUsrSSxJQUFJK0csR0FDZjdHLEVBQU1qSixLQUFLaUosSUFBSTZHLEdBQ2Y2QyxFQUFVNUMsRUFBTyxHQUNqQjZDLEVBQVU3QyxFQUFPLEdBQ2pCOWMsRUFBSSxFQUNDMEIsRUFBSTBTLEVBQVExUyxFQUFJMkUsRUFBSzNFLEdBQUsyUyxFQUFRLENBQ3ZDLElBQUk2QyxFQUFTL0MsRUFBZ0J6UyxHQUFLZ2UsRUFDOUJ2SSxFQUFTaEQsRUFBZ0J6UyxFQUFJLEdBQUtpZSxFQUN0Q0YsRUFBS3pmLEtBQU8wZixFQUFVeEksRUFBU3BCLEVBQU1xQixFQUFTbkIsRUFDOUN5SixFQUFLemYsS0FBTzJmLEVBQVV6SSxFQUFTbEIsRUFBTW1CLEVBQVNyQixFQUM5QyxJQUFLLElBQUk4SixFQUFJbGUsRUFBSSxFQUFHa2UsRUFBSWxlLEVBQUkyUyxJQUFVdUwsRUFDbENILEVBQUt6ZixLQUFPbVUsRUFBZ0J5TCxHQU1wQyxPQUhJeEIsR0FBWXFCLEVBQUt2ZixRQUFVRixJQUMzQnlmLEVBQUt2ZixPQUFTRixHQUVYeWYsRUFjSixTQUFTMUMsRUFBTTVJLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVEySSxFQUFJZ0MsRUFBSWxDLEVBQVFzQixHQUt4RSxJQUpBLElBQUlxQixFQUFPckIsR0FBc0IsR0FDN0JzQixFQUFVNUMsRUFBTyxHQUNqQjZDLEVBQVU3QyxFQUFPLEdBQ2pCOWMsRUFBSSxFQUNDMEIsRUFBSTBTLEVBQVExUyxFQUFJMkUsRUFBSzNFLEdBQUsyUyxFQUFRLENBQ3ZDLElBQUk2QyxFQUFTL0MsRUFBZ0J6UyxHQUFLZ2UsRUFDOUJ2SSxFQUFTaEQsRUFBZ0J6UyxFQUFJLEdBQUtpZSxFQUN0Q0YsRUFBS3pmLEtBQU8wZixFQUFVMUMsRUFBSzlGLEVBQzNCdUksRUFBS3pmLEtBQU8yZixFQUFVWCxFQUFLN0gsRUFDM0IsSUFBSyxJQUFJeUksRUFBSWxlLEVBQUksRUFBR2tlLEVBQUlsZSxFQUFJMlMsSUFBVXVMLEVBQ2xDSCxFQUFLemYsS0FBT21VLEVBQWdCeUwsR0FNcEMsT0FISXhCLEdBQVlxQixFQUFLdmYsUUFBVUYsSUFDM0J5ZixFQUFLdmYsT0FBU0YsR0FFWHlmLEVBWUosU0FBU3BDLEVBQVVsSixFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRNkMsRUFBUUMsRUFBUWlILEdBRzVFLElBRkEsSUFBSXFCLEVBQU9yQixHQUFzQixHQUM3QnBlLEVBQUksRUFDQzBCLEVBQUkwUyxFQUFRMVMsRUFBSTJFLEVBQUszRSxHQUFLMlMsRUFBUSxDQUN2Q29MLEVBQUt6ZixLQUFPbVUsRUFBZ0J6UyxHQUFLd1YsRUFDakN1SSxFQUFLemYsS0FBT21VLEVBQWdCelMsRUFBSSxHQUFLeVYsRUFDckMsSUFBSyxJQUFJeUksRUFBSWxlLEVBQUksRUFBR2tlLEVBQUlsZSxFQUFJMlMsSUFBVXVMLEVBQ2xDSCxFQUFLemYsS0FBT21VLEVBQWdCeUwsR0FNcEMsT0FISXhCLEdBQVlxQixFQUFLdmYsUUFBVUYsSUFDM0J5ZixFQUFLdmYsT0FBU0YsR0FFWHlmLEUsaUpDNUdYLElBQUlJLEVBQTBCLG9CQUFkQyxnQkFBNEQsSUFBeEJBLFVBQVVDLFVBQ3hERCxVQUFVQyxVQUFVQyxjQUNwQixHQUtLQyxHQUFxQyxJQUEzQkosRUFBRzlaLFFBQVEsV0FVckJtYSxJQUxtQyxJQUExQkwsRUFBRzlaLFFBQVEsV0FBb0I4WixFQUFHOVosUUFBUSxVQUtoQixJQUExQjhaLEVBQUc5WixRQUFRLFlBQTJDLEdBQXZCOFosRUFBRzlaLFFBQVEsU0FLbkRvYSxHQUFtQyxJQUE3Qk4sRUFBRzlaLFFBQVEsYUFRakJxYSxFQUFpRCxvQkFBckJDLGlCQUFtQ0EsaUJBQW1CLEVBTWxGQyxFQUF1RCxvQkFBdEJDLG1CQUNiLG9CQUFwQnZWLGlCQUNQd1YsZ0JBQWdCRCxrQkFLVEUsRUFBZ0Msb0JBQVZDLE9BQXlCQSxNQUFNdGlCLFVBQVV1aUIsT0FJL0RDLEVBQTBCLFdBQ2pDLElBQUlDLEdBQVUsRUFDZCxJQUNJLElBQUlqaEIsRUFBVTdCLE9BQU8raUIsZUFBZSxHQUFJLFVBQVcsQ0FDL0M5ZixJQUFLLFdBQ0Q2ZixHQUFVLEtBR2xCRSxPQUFPblQsaUJBQWlCLElBQUssS0FBTWhPLEdBQ25DbWhCLE9BQU9yYixvQkFBb0IsSUFBSyxLQUFNOUYsR0FFMUMsTUFBT29oQixJQUdQLE9BQU9ILEVBZDBCLEksb0VDakQ3QmxqQixFLDhCQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0FxR2hGLFNBQVMwaUIsRUFBSUMsRUFBTUMsRUFBT0MsR0FDN0IsSUFBSUMsRUFBZ0JILEVBQUtJLG9CQUN6QixHQUFJRCxFQUFlLENBQ2YsSUFBSTNMLEVBQVMsQ0FBQzJMLEVBQWMsR0FBS0YsRUFBTSxHQUFJRSxFQUFjLEdBQUtGLEVBQU0sSUFDcEVELEVBQUtLLGdCQUFnQixDQUNqQkMsY0FBMkI3ZixJQUFqQnlmLEVBQTZCQSxFQUFlLElBQ3RESyxPQUFRLEtBQ1IvTCxPQUFRd0wsRUFBS1EscUJBQXFCaE0sTUFVdkMsU0FBU2lNLEVBQVlULEVBQU1DLEVBQU9qRSxFQUFZa0UsR0FDakQsSUFBSVEsRUFBY1YsRUFBS1csVUFDdkIsUUFBb0JsZ0IsSUFBaEJpZ0IsRUFBSixDQUdBLElBQUlFLEVBQVVaLEVBQUthLG1CQUFtQkgsRUFBY1QsR0FDaERhLEVBQWdCZCxFQUFLZSxxQkFBcUJILEdBQzFDWixFQUFLZ0IsZ0JBQ0xoQixFQUFLaUIsbUJBRVRqQixFQUFLa0IsUUFBUSxDQUNUek0sV0FBWXFNLEVBQ1psRixPQUFRSSxFQUNSc0UsY0FBMkI3ZixJQUFqQnlmLEVBQTZCQSxFQUFlLElBQ3RESyxPQUFRLFFBR2hCLFFBdkdpQyxTQUFVOWlCLEdBS3ZDLFNBQVMwakIsRUFBWTFpQixHQUNqQixJQUFJYixFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQVVqQyxPQVRJbUIsR0FBZUEsRUFBWW1RLGNBQzNCaFIsRUFBTWdSLFlBQWNuUSxFQUFZbVEsYUFNcENoUixFQUFNd2pCLEtBQU8sS0FDYnhqQixFQUFNeWpCLFdBQVUsR0FDVHpqQixFQThDWCxPQTdEQWxCLEVBQVV5a0IsRUFBYTFqQixHQXVCdkIwakIsRUFBWWprQixVQUFVb2tCLFVBQVksV0FDOUIsT0FBK0Joa0IsS0FBS3dDLElBQUksYUFPNUNxaEIsRUFBWWprQixVQUFVcWtCLE9BQVMsV0FDM0IsT0FBT2prQixLQUFLOGpCLE1BUWhCRCxFQUFZamtCLFVBQVUwUixZQUFjLFNBQVVVLEdBQzFDLE9BQU8sR0FRWDZSLEVBQVlqa0IsVUFBVW1rQixVQUFZLFNBQVVHLEdBQ3hDbGtCLEtBQUtvRCxJQUFJLFdBQTRCOGdCLElBUXpDTCxFQUFZamtCLFVBQVV1a0IsT0FBUyxTQUFVeFosR0FDckMzSyxLQUFLOGpCLEtBQU9uWixHQUVUa1osRUE5RHFCLENBK0Q5QixPLHlEQ3hHTTFrQixFLDJCQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0F5TWhGLFNBQVNxa0IsRUFBU0MsR0FJckIsSUFIQSxJQUFJM2lCLEVBQVMyaUIsRUFBYzNpQixPQUN2QjRpQixFQUFVLEVBQ1ZDLEVBQVUsRUFDTC9pQixFQUFJLEVBQUdBLEVBQUlFLEVBQVFGLElBQ3hCOGlCLEdBQVdELEVBQWM3aUIsR0FBRzhpQixRQUM1QkMsR0FBV0YsRUFBYzdpQixHQUFHK2lCLFFBRWhDLE1BQU8sQ0FBQ0QsRUFBVTVpQixFQUFRNmlCLEVBQVU3aUIsR0FheEMsUUFoTHdDLFNBQVV2QixHQUs5QyxTQUFTcWtCLEVBQW1CcmpCLEdBQ3hCLElBQUliLEVBQVFOLEtBQ1JvQixFQUFVRCxHQUE0QixHQWlDMUMsT0FoQ0FiLEVBQVFILEVBQU9MLEtBQUtFLEtBQ3lDLElBQWNBLEtBQ3ZFb0IsRUFBUXFqQixrQkFDUm5rQixFQUFNbWtCLGdCQUFrQnJqQixFQUFRcWpCLGlCQUVoQ3JqQixFQUFRc2pCLGtCQUNScGtCLEVBQU1va0IsZ0JBQWtCdGpCLEVBQVFzakIsaUJBRWhDdGpCLEVBQVF1akIsa0JBQ1Jya0IsRUFBTXFrQixnQkFBa0J2akIsRUFBUXVqQixpQkFFaEN2akIsRUFBUXdqQixnQkFDUnRrQixFQUFNc2tCLGNBQWdCeGpCLEVBQVF3akIsZUFFOUJ4akIsRUFBUXlqQixXQUNSdmtCLEVBQU11a0IsU0FBV3pqQixFQUFReWpCLFVBTTdCdmtCLEVBQU13a0Isd0JBQXlCLEVBSy9CeGtCLEVBQU15a0IsaUJBQW1CLEdBS3pCemtCLEVBQU0wa0IsZUFBaUIsR0FDaEIxa0IsRUE2R1gsT0FwSkFsQixFQUFVb2xCLEVBQW9CcmtCLEdBK0M5QnFrQixFQUFtQjVrQixVQUFVcWxCLGdCQUFrQixXQUMzQyxPQUFPamxCLEtBQUtnbEIsZUFBZXRqQixRQVEvQjhpQixFQUFtQjVrQixVQUFVNmtCLGdCQUFrQixTQUFVelMsR0FDckQsT0FBTyxHQU9Yd1MsRUFBbUI1a0IsVUFBVThrQixnQkFBa0IsU0FBVTFTLEtBU3pEd1MsRUFBbUI1a0IsVUFBVTBSLFlBQWMsU0FBVVUsR0FDakQsSUFBS0EsRUFBZ0JDLGNBQ2pCLE9BQU8sRUFFWCxJQUFJaVQsR0FBWSxFQUVoQixHQURBbGxCLEtBQUttbEIsdUJBQXVCblQsR0FDeEJoUyxLQUFLOGtCLHdCQUNMLEdBQUk5UyxFQUFnQnBSLE1BQVEsZ0JBQ3hCWixLQUFLMGtCLGdCQUFnQjFTLEdBRXJCQSxFQUFnQkMsY0FBY3hDLHNCQUU3QixHQUFJdUMsRUFBZ0JwUixNQUFRLGNBQStCLENBQzVELElBQUl3a0IsRUFBWXBsQixLQUFLNGtCLGNBQWM1UyxHQUNuQ2hTLEtBQUs4a0IsdUJBQ0RNLEdBQWFwbEIsS0FBS2dsQixlQUFldGpCLE9BQVMsUUFJbEQsR0FBSXNRLEVBQWdCcFIsTUFBUSxnQkFBaUMsQ0FDekQsSUFBSXlrQixFQUFVcmxCLEtBQUt5a0IsZ0JBQWdCelMsR0FDbkNoUyxLQUFLOGtCLHVCQUF5Qk8sRUFDOUJILEVBQVlsbEIsS0FBSzZrQixTQUFTUSxRQUVyQnJULEVBQWdCcFIsTUFBUSxpQkFDN0JaLEtBQUsya0IsZ0JBQWdCM1MsR0FHN0IsT0FBUWtULEdBT1pWLEVBQW1CNWtCLFVBQVUra0IsZ0JBQWtCLFNBQVUzUyxLQU96RHdTLEVBQW1CNWtCLFVBQVVnbEIsY0FBZ0IsU0FBVTVTLEdBQ25ELE9BQU8sR0FRWHdTLEVBQW1CNWtCLFVBQVVpbEIsU0FBVyxTQUFVUSxHQUM5QyxPQUFPQSxHQU1YYixFQUFtQjVrQixVQUFVdWxCLHVCQUF5QixTQUFVblQsR0FDNUQsR0FxQ1IsU0FBZ0NBLEdBQzVCLElBQUlwUixFQUFPb1IsRUFBZ0JwUixLQUMzQixPQUFRQSxJQUFTLGlCQUNiQSxJQUFTLGlCQUNUQSxJQUFTLGNBekNMMGtCLENBQXVCdFQsR0FBa0IsQ0FDekMsSUFBSXVULEVBQVV2VCxFQUFnQkMsY0FDMUJ1VCxFQUFLRCxFQUFRRSxVQUFVdGMsV0FDdkI2SSxFQUFnQnBSLE1BQVEscUJBQ2pCWixLQUFLK2tCLGlCQUFpQlMsSUFFeEJ4VCxFQUFnQnBSLE1BQVEsaUJBR3hCNGtCLEtBQU14bEIsS0FBSytrQixvQkFGaEIva0IsS0FBSytrQixpQkFBaUJTLEdBQU1ELEdBTWhDdmxCLEtBQUtnbEIsZ0JBQWlCLFFBQVVobEIsS0FBSytrQixvQkFHdENQLEVBcko0QixDQXNKckMsTyw2Q0N4TUYsU0FDSWtCLE9BQVEsVyx5RENOSnZtQixFLDhHQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0ErRm5GNGxCLEVBQTZCLFNBQVV4bEIsR0FTdkMsU0FBU3dsQixFQUFZL2tCLEVBQU1nbEIsRUFBVUMsRUFBWTdULEdBQzdDLElBQUkxUixFQUFRSCxFQUFPTCxLQUFLRSxLQUFNWSxJQUFTWixLQW1CdkMsT0FiQU0sRUFBTXNsQixTQUFXQSxFQU1qQnRsQixFQUFNdWxCLFdBQWFBLEVBTW5CdmxCLEVBQU0wUixnQkFBa0JBLEVBQ2pCMVIsRUFFWCxPQTlCQWxCLEVBQVV1bUIsRUFBYXhsQixHQThCaEJ3bEIsRUEvQnFCLENBZ0M5QixNQU1FRyxFQUF3QixHQWlXNUIsUUFqVjRCLFNBQVUzbEIsR0FLbEMsU0FBUzRsQixFQUFPNWtCLEdBQ1osSUFpVUE2a0IsRUFwUUlDLEVBN0RBM2xCLEVBQVFILEVBQU9MLEtBQUtFLE9BQVNBLEtBQzdCb0IsRUFBVUQsR0FBNEIsR0E2RDFDLEdBekRBYixFQUFNNGxCLGlCQUFtQjVsQixFQUFNNmxCLFlBQVlwWCxLQUFLek8sR0FJaERBLEVBQU04bEIsb0JBQXNCOWxCLEVBQU0rbEIsZUFBZXRYLEtBQUt6TyxHQUt0REEsRUFBTWdtQixXQUFhbGxCLEVBQVFtbEIsVUFBWW5sQixFQUFRbWxCLFVBQVksS0FLM0RqbUIsRUFBTWttQixjQUFnQnBsQixFQUFRcWxCLGFBQWVybEIsRUFBUXFsQixhQUFlLEtBS3BFbm1CLEVBQU1vbUIsaUJBQW1CdGxCLEVBQVF1bEIsZ0JBQzNCdmxCLEVBQVF1bEIsZ0JBQ1IsS0FLTnJtQixFQUFNc21CLGlCQUFtQnhsQixFQUFReWxCLGdCQUMzQnpsQixFQUFReWxCLGdCQUNSLEtBS052bUIsRUFBTXdtQixTQUFTMWxCLEVBQVEybEIsT0FBUTNsQixFQUFRMmxCLE1BS3ZDem1CLEVBQU0wbUIsUUFBVTVsQixFQUFRNmxCLE9BQVM3bEIsRUFBUTZsQixPQUFTLEtBS2xEM21CLEVBQU00bUIsY0FBZ0I5bEIsRUFBUStsQixhQUFlL2xCLEVBQVErbEIsYUFBZSxFQUtwRTdtQixFQUFNOG1CLFlBQ2dCamtCLElBQWxCL0IsRUFBUTBJLE1BQXNCMUksRUFBUTBJLE9BMlExQ2tjLEdBQVMsV0FDYixRQUFPQSxFQUFPLGFBQXVCQSxFQUFPLG1CQUM1QyxRQUFPQSxFQUFPLHlCQUFtQ0EsRUFBTyxrQkFDakQsU0FBVXFCLEdBQ2IsT0FBS0EsRUFBUUMsY0FHTnRCLEVBQU9xQixFQUFRQyxjQUFjdkssV0FGekIsT0EzUVh6YyxFQUFNaW5CLFVBQVlubUIsRUFBUW9tQixVQUFZLElBQUksSUFHdENwbUIsRUFBUXFtQixPQUNSLEdBQThCLG1CQUFuQnJtQixFQUFRcW1CLE9BQ2Z4QixFQUFjN2tCLEVBQVFxbUIsV0FFckIsQ0FDRCxJQUFJQyxFQUFXdG1CLEVBQVFxbUIsT0FDdkJ4QixFQUFjLFNBQVUwQixHQUNwQixPQUFPLFFBQVNELEVBQVVDLFNBS2xDMUIsRUFBYyxLQWNsQixPQVJBM2xCLEVBQU1zbkIsYUFBZTNCLEVBT3JCM2xCLEVBQU11bkIseUJBQTJCLEdBQzFCdm5CLEVBbU9YLE9BaFVBbEIsRUFBVTJtQixFQUFRNWxCLEdBb0dsQjRsQixFQUFPbm1CLFVBQVVrb0IsNEJBQThCLFNBQVVULEVBQVNNLEdBQzlEM25CLEtBQUs2bkIsMEJBQXlCLFFBQU9SLElBQVlNLEdBT3JENUIsRUFBT25tQixVQUFVbW9CLFlBQWMsV0FDM0IsT0FBTy9uQixLQUFLdW5CLFdBT2hCeEIsRUFBT25tQixVQUFVb29CLGdCQUFrQixXQUMvQixPQUFPaG9CLEtBQUtrbkIsZUFXaEJuQixFQUFPbm1CLFVBQVVxb0IsU0FBVyxTQUFVWixHQUNsQyxPQUE0RHJuQixLQUN2RDZuQiwwQkFBeUIsUUFBT1IsS0FRekN0QixFQUFPbm1CLFVBQVVzb0IsZ0JBQWtCLFNBQVVmLEdBQ3pDbm5CLEtBQUtrbkIsY0FBZ0JDLEdBUXpCcEIsRUFBT25tQixVQUFVdWtCLE9BQVMsU0FBVXhaLEdBQ2YzSyxLQUFLaWtCLFVBQ0pqa0IsS0FBS29uQixRQUNuQnBuQixLQUFLdW5CLFVBQVVwbEIsUUFBUW5DLEtBQUttb0Isc0JBQXNCcFosS0FBSy9PLE9BRTNERyxFQUFPUCxVQUFVdWtCLE9BQU9ya0IsS0FBS0UsS0FBTTJLLEdBQy9CQSxHQUNBM0ssS0FBS3VuQixVQUFVblksaUJBQWlCLFFBQXlCcFAsS0FBS2ttQixrQkFDOURsbUIsS0FBS3VuQixVQUFVblksaUJBQWlCLFdBQTRCcFAsS0FBS29tQixxQkFDN0RwbUIsS0FBS29uQixRQUNMcG5CLEtBQUt1bkIsVUFBVXBsQixRQUFRbkMsS0FBS29vQixvQkFBb0JyWixLQUFLL08sU0FJekRBLEtBQUt1bkIsVUFBVXJnQixvQkFBb0IsUUFBeUJsSCxLQUFLa21CLGtCQUNqRWxtQixLQUFLdW5CLFVBQVVyZ0Isb0JBQW9CLFdBQTRCbEgsS0FBS29tQix1QkFPNUVMLEVBQU9ubUIsVUFBVXVtQixZQUFjLFNBQVVqVixHQUNyQyxJQUFJbVcsRUFBVW5XLEVBQUluUSxRQUNkZixLQUFLb25CLFFBQ0xwbkIsS0FBS29vQixvQkFBb0JmLElBT2pDdEIsRUFBT25tQixVQUFVeW1CLGVBQWlCLFNBQVVuVixHQUN4QyxJQUFJbVcsRUFBVW5XLEVBQUluUSxRQUNkZixLQUFLb25CLFFBQ0xwbkIsS0FBS21vQixzQkFBc0JkLElBTW5DdEIsRUFBT25tQixVQUFVeW9CLFNBQVcsV0FDeEIsT0FBT3JvQixLQUFLb25CLFFBTWhCckIsRUFBT25tQixVQUFVd29CLG9CQUFzQixTQUFVZixHQUM3QyxJQUFJcGlCLEdBQU0sUUFBT29pQixHQUNYcGlCLEtBQU82Z0IsSUFDVEEsRUFBc0I3Z0IsR0FBT29pQixFQUFRZ0IsWUFFekNoQixFQUFRaUIsU0FBU3RvQixLQUFLb25CLFNBTTFCckIsRUFBT25tQixVQUFVdW9CLHNCQUF3QixTQUFVZCxHQUUvQyxJQURBLElBQUlrQixFQUFldm9CLEtBQUtpa0IsU0FBU3VFLGtCQUFrQmxtQixXQUMxQ2QsRUFBSSttQixFQUFhN21CLE9BQVMsRUFBR0YsR0FBSyxJQUFLQSxFQUFHLENBQy9DLElBQUlpbkIsRUFBY0YsRUFBYS9tQixHQUMvQixHQUFJaW5CLElBQWdCem9CLE1BQ2hCeW9CLGFBQXVCMUMsR0FDdkIwQyxFQUFZSixhQUNtRCxJQUEvREksRUFBWVYsY0FBY3psQixXQUFXb21CLFlBQVlyQixHQUVqRCxZQURBQSxFQUFRaUIsU0FBU0csRUFBWUosWUFJckMsSUFBSXBqQixHQUFNLFFBQU9vaUIsR0FDakJBLEVBQVFpQixTQUFTeEMsRUFBc0I3Z0IsV0FDaEM2Z0IsRUFBc0I3Z0IsSUFNakM4Z0IsRUFBT25tQixVQUFVK29CLCtCQUFpQyxTQUFVdEIsVUFDakRybkIsS0FBSzZuQiwwQkFBeUIsUUFBT1IsS0FTaER0QixFQUFPbm1CLFVBQVUwUixZQUFjLFNBQVVVLEdBQ3JDLElBQUtoUyxLQUFLc21CLFdBQVd0VSxHQUNqQixPQUFPLEVBRVgsSUFBSTRXLEVBQU01b0IsS0FBS3dtQixjQUFjeFUsR0FDekJqUCxFQUFTL0MsS0FBSzBtQixpQkFBaUIxVSxHQUMvQjZXLEVBQVM3b0IsS0FBSzRtQixpQkFBaUI1VSxHQUMvQjVPLEdBQU93bEIsSUFBUTdsQixJQUFXOGxCLEVBQzFCbGUsRUFBTXFILEVBQWdCckgsSUFDdEI2YyxFQUFXeG5CLEtBQUsrbkIsY0FDaEJsQyxFQUFhLEdBQ2JELEVBQVcsR0FDZixHQUFJeGlCLEVBQUssRUFJTCxRQUFNcEQsS0FBSzZuQiwwQkFDWGxkLEVBQUltZSxzQkFBc0I5VyxFQUFnQitXLE1BTTFDLFNBQVUxQixFQUFTTSxHQUNmLEdBQUkzbkIsS0FBS2duQixRQUFRSyxFQUFTTSxHQUd0QixPQUZBL0IsRUFBUzFqQixLQUFLbWxCLEdBQ2RybkIsS0FBSzhuQiw0QkFBNEJULEVBQVNNLElBQ2xDM25CLEtBQUs4bUIsUUFFbkIvWCxLQUFLL08sTUFBTyxDQUNWaW1CLFlBQWFqbUIsS0FBSzRuQixhQUNsQlQsYUFBY25uQixLQUFLa25CLGdCQUV2QixJQUFLLElBQUkxbEIsRUFBSWdtQixFQUFTMWxCLFlBQWMsRUFBR04sR0FBSyxJQUFLQSxFQUFHLENBQ2hELElBQUk2bEIsRUFBVUcsRUFBU2psQixLQUFLZixHQUN4QlIsRUFBUTRrQixFQUFTcmUsUUFBUThmLEdBQ3pCcm1CLEdBQVMsRUFFVDRrQixFQUFTampCLE9BQU8zQixFQUFPLElBR3ZCd21CLEVBQVN6a0IsT0FBT3NrQixHQUNoQnhCLEVBQVczakIsS0FBS21sQixJQUdBLElBQXBCekIsRUFBU2xrQixRQUNUOGxCLEVBQVN4bEIsT0FBTzRqQixPQUduQixDQUVEamIsRUFBSW1lLHNCQUFzQjlXLEVBQWdCK1csTUFNMUMsU0FBVTFCLEVBQVNNLEdBQ2YsR0FBSTNuQixLQUFLZ25CLFFBQVFLLEVBQVNNLEdBVXRCLE9BVEtpQixJQUFPQyxJQUFZLFFBQVNyQixFQUFTbGxCLFdBQVkra0IsSUFJNUN0a0IsR0FBVThsQixLQUNoQixRQUFTckIsRUFBU2xsQixXQUFZK2tCLEtBQzlCeEIsRUFBVzNqQixLQUFLbWxCLEdBQ2hCcm5CLEtBQUsyb0IsK0JBQStCdEIsS0FOcEN6QixFQUFTMWpCLEtBQUttbEIsR0FDZHJuQixLQUFLOG5CLDRCQUE0QlQsRUFBU00sS0FPdEMzbkIsS0FBSzhtQixRQUVuQi9YLEtBQUsvTyxNQUFPLENBQ1ZpbUIsWUFBYWptQixLQUFLNG5CLGFBQ2xCVCxhQUFjbm5CLEtBQUtrbkIsZ0JBRXZCLElBQUssSUFBSWhrQixFQUFJMmlCLEVBQVdua0IsT0FBUyxFQUFHd0IsR0FBSyxJQUFLQSxFQUMxQ3NrQixFQUFTemtCLE9BQU84aUIsRUFBVzNpQixJQUUvQnNrQixFQUFTeGxCLE9BQU80akIsR0FLcEIsT0FISUEsRUFBU2xrQixPQUFTLEdBQUtta0IsRUFBV25rQixPQUFTLElBQzNDMUIsS0FBSzRDLGNBQWMsSUFBSStpQixFQXhidkIsU0F3YjJEQyxFQUFVQyxFQUFZN1QsS0FFOUUsR0FFSitULEVBalVnQixDQWtVekIsTyw0QkN0ZEssU0FBU2lELEVBQU16akIsRUFBT3lRLEVBQUtDLEdBQzlCLE9BQU8xSCxLQUFLeUgsSUFBSXpILEtBQUswSCxJQUFJMVEsRUFBT3lRLEdBQU1DLEcsMEZBV25DLElBQUlnVCxFQUlILFNBQVUxYSxLQUVIQSxLQUFLMGEsS0FJTCxTQUFVN1UsR0FDYixJQUFJQyxFQUF3QixLQUFPNlUsSUFBSTlVLEdBQ3ZDLE9BQVFDLEVBQUksRUFBSUEsR0FBSyxHQWN0QjhVLEVBSUgsU0FBVTVhLEtBRUhBLEtBQUs0YSxLQUlMLFNBQVUvVSxHQUNiLE9BQU83RixLQUFLNmEsSUFBSWhWLEdBQUs3RixLQUFLOGEsT0FnQi9CLFNBQVNDLEVBQXVCbFYsRUFBR0MsRUFBR3lELEVBQUlJLEVBQUlILEVBQUlJLEdBQ3JELElBQUk3RCxFQUFLeUQsRUFBS0QsRUFDVnZELEVBQUs0RCxFQUFLRCxFQUNkLEdBQVcsSUFBUDVELEdBQW1CLElBQVBDLEVBQVUsQ0FDdEIsSUFBSWpHLElBQU04RixFQUFJMEQsR0FBTXhELEdBQU1ELEVBQUk2RCxHQUFNM0QsSUFBT0QsRUFBS0EsRUFBS0MsRUFBS0EsR0FDdERqRyxFQUFJLEdBQ0p3SixFQUFLQyxFQUNMRyxFQUFLQyxHQUVBN0osRUFBSSxJQUNUd0osR0FBTXhELEVBQUtoRyxFQUNYNEosR0FBTTNELEVBQUtqRyxHQUduQixPQUFPc08sRUFBZ0J4SSxFQUFHQyxFQUFHeUQsRUFBSUksR0FVOUIsU0FBUzBFLEVBQWdCOUUsRUFBSUksRUFBSUgsRUFBSUksR0FDeEMsSUFBSTdELEVBQUt5RCxFQUFLRCxFQUNWdkQsRUFBSzRELEVBQUtELEVBQ2QsT0FBTzVELEVBQUtBLEVBQUtDLEVBQUtBLEVBU25CLFNBQVNnVixFQUFrQkMsR0FFOUIsSUFEQSxJQUFJMW1CLEVBQUkwbUIsRUFBSTluQixPQUNIRixFQUFJLEVBQUdBLEVBQUlzQixFQUFHdEIsSUFBSyxDQUl4QixJQUZBLElBQUlpb0IsRUFBU2pvQixFQUNUa29CLEVBQVFuYixLQUFLb2IsSUFBSUgsRUFBSWhvQixHQUFHQSxJQUNuQmdJLEVBQUloSSxFQUFJLEVBQUdnSSxFQUFJMUcsRUFBRzBHLElBQUssQ0FDNUIsSUFBSW9nQixFQUFXcmIsS0FBS29iLElBQUlILEVBQUloZ0IsR0FBR2hJLElBQzNCb29CLEVBQVdGLElBQ1hBLEVBQVFFLEVBQ1JILEVBQVNqZ0IsR0FHakIsR0FBYyxJQUFWa2dCLEVBQ0EsT0FBTyxLQUdYLElBQUk1aEIsRUFBTTBoQixFQUFJQyxHQUNkRCxFQUFJQyxHQUFVRCxFQUFJaG9CLEdBQ2xCZ29CLEVBQUlob0IsR0FBS3NHLEVBRVQsSUFBSyxJQUFJNUUsRUFBSTFCLEVBQUksRUFBRzBCLEVBQUlKLEVBQUdJLElBRXZCLElBREEsSUFBSTJtQixHQUFRTCxFQUFJdG1CLEdBQUcxQixHQUFLZ29CLEVBQUlob0IsR0FBR0EsR0FDdEI0ZixFQUFJNWYsRUFBRzRmLEVBQUl0ZSxFQUFJLEVBQUdzZSxJQUNuQjVmLEdBQUs0ZixFQUNMb0ksRUFBSXRtQixHQUFHa2UsR0FBSyxFQUdab0ksRUFBSXRtQixHQUFHa2UsSUFBTXlJLEVBQU9MLEVBQUlob0IsR0FBRzRmLEdBTzNDLElBREEsSUFBSWhOLEVBQUksSUFBSTFVLE1BQU1vRCxHQUNUNFcsRUFBSTVXLEVBQUksRUFBRzRXLEdBQUssRUFBR0EsSUFBSyxDQUM3QnRGLEVBQUVzRixHQUFLOFAsRUFBSTlQLEdBQUc1VyxHQUFLMG1CLEVBQUk5UCxHQUFHQSxHQUMxQixJQUFLLElBQUlvUSxFQUFJcFEsRUFBSSxFQUFHb1EsR0FBSyxFQUFHQSxJQUN4Qk4sRUFBSU0sR0FBR2huQixJQUFNMG1CLEVBQUlNLEdBQUdwUSxHQUFLdEYsRUFBRXNGLEdBR25DLE9BQU90RixFQWlCSixTQUFTMlYsRUFBVUMsR0FDdEIsT0FBUUEsRUFBaUJ6YixLQUFLMGIsR0FBTSxJQVNqQyxTQUFTQyxFQUFPOWlCLEVBQUc5SCxHQUN0QixJQUFJa0ssRUFBSXBDLEVBQUk5SCxFQUNaLE9BQU9rSyxFQUFJbEssRUFBSSxFQUFJa0ssRUFBSWxLLEVBQUlrSyxFQVV4QixTQUFTMmdCLEVBQUsvaUIsRUFBRzlILEVBQUc4VSxHQUN2QixPQUFPaE4sRUFBSWdOLEdBQUs5VSxFQUFJOEgsSyx5RUNyTGpCLElBQUlnakIsRUFBa0MsbUJBQWxCN3FCLE9BQU82cUIsT0FDNUI3cUIsT0FBTzZxQixPQUNQLFNBQVUzaUIsRUFBUTRpQixHQUNoQixHQUFJNWlCLFFBQ0EsTUFBTSxJQUFJNmlCLFVBQVUsOENBR3hCLElBREEsSUFBSUMsRUFBU2hyQixPQUFPa0ksR0FDWGpHLEVBQUksRUFBR0MsRUFBS3lOLFVBQVV4TixPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQ2hELElBQUkwRSxFQUFTZ0osVUFBVTFOLEdBQ3ZCLEdBQUkwRSxRQUNBLElBQUssSUFBSWpCLEtBQU9pQixFQUNSQSxFQUFPckcsZUFBZW9GLEtBQ3RCc2xCLEVBQU90bEIsR0FBT2lCLEVBQU9qQixJQUtyQyxPQUFPc2xCLEdBTVIsU0FBUzFvQixFQUFNMm9CLEdBQ2xCLElBQUssSUFBSUMsS0FBWUQsU0FDVkEsRUFBT0MsR0FXZixJQUFJQyxFQUFxQyxtQkFBbEJuckIsT0FBT3lHLE9BQy9CekcsT0FBT3lHLE9BQ1AsU0FBVXdrQixHQUNSLElBQUl4a0IsRUFBUyxHQUNiLElBQUssSUFBSXlrQixLQUFZRCxFQUNqQnhrQixFQUFPOUQsS0FBS3NvQixFQUFPQyxJQUV2QixPQUFPemtCLEdBT1IsU0FBUzJRLEVBQVE2VCxHQUNwQixJQUFJQyxFQUNKLElBQUtBLEtBQVlELEVBQ2IsT0FBTyxFQUVYLE9BQVFDLEksMkxDaUxaLFFBbk1nQyxXQUk1QixTQUFTRSxFQUFXdnBCLEdBS2hCcEIsS0FBSzRxQixNQUFReHBCLEVBQVFmLEtBUXJCTCxLQUFLNnFCLE9BQXNEenBCLEVBQWEsTUFReEVwQixLQUFLb2QsYUFBNkJqYSxJQUFuQi9CLEVBQVF5UyxPQUF1QnpTLEVBQVF5UyxPQUFTLEtBUS9EN1QsS0FBSzhxQixrQkFDdUIzbkIsSUFBeEIvQixFQUFRMnBCLFlBQTRCM3BCLEVBQVEycEIsWUFBYyxLQUs5RC9xQixLQUFLZ3JCLHNCQUMyQjduQixJQUE1Qi9CLEVBQVE2cEIsZ0JBQWdDN3BCLEVBQVE2cEIsZ0JBQWtCLE1BS3RFanJCLEtBQUtrckIsYUFBNkIvbkIsSUFBbkIvQixFQUFRK3BCLFFBQXVCL3BCLEVBQVErcEIsT0FLdERuckIsS0FBS29yQixhQUFlcHJCLEtBQUtrckIsVUFBV2xyQixLQUFLb2QsU0FLekNwZCxLQUFLcXJCLHdCQUEwQmpxQixFQUFRa3FCLG1CQUt2Q3RyQixLQUFLdXJCLGlCQUFtQixLQUt4QnZyQixLQUFLd3JCLGVBQWlCcHFCLEVBQVFxcUIsY0FnSWxDLE9BM0hBZCxFQUFXL3FCLFVBQVVvYSxTQUFXLFdBQzVCLE9BQU9oYSxLQUFLb3JCLFdBT2hCVCxFQUFXL3FCLFVBQVU4ckIsUUFBVSxXQUMzQixPQUFPMXJCLEtBQUs0cUIsT0FPaEJELEVBQVcvcUIsVUFBVW1hLFVBQVksV0FDN0IsT0FBTy9aLEtBQUtvZCxTQU9oQnVOLEVBQVcvcUIsVUFBVXFmLFNBQVcsV0FDNUIsT0FBT2pmLEtBQUs2cUIsUUFTaEJGLEVBQVcvcUIsVUFBVStyQixpQkFBbUIsV0FDcEMsT0FBTzNyQixLQUFLd3JCLGdCQUFrQixJQUFnQnhyQixLQUFLNnFCLFNBT3ZERixFQUFXL3FCLFVBQVUyZixlQUFpQixXQUNsQyxPQUFPdmYsS0FBSzhxQixjQWFoQkgsRUFBVy9xQixVQUFVZ3NCLG1CQUFxQixXQUN0QyxPQUFPNXJCLEtBQUtnckIsa0JBT2hCTCxFQUFXL3FCLFVBQVVpc0IsU0FBVyxXQUM1QixPQUFPN3JCLEtBQUtrckIsU0FPaEJQLEVBQVcvcUIsVUFBVWtzQixVQUFZLFNBQVVYLEdBQ3ZDbnJCLEtBQUtrckIsUUFBVUMsRUFDZm5yQixLQUFLb3JCLGFBQWVELElBQVVuckIsS0FBS29kLFVBS3ZDdU4sRUFBVy9xQixVQUFVbXNCLG1CQUFxQixXQUN0QyxPQUFPL3JCLEtBQUt1ckIsa0JBS2hCWixFQUFXL3FCLFVBQVVvc0IsbUJBQXFCLFNBQVVDLEdBQ2hEanNCLEtBQUt1ckIsaUJBQW1CVSxHQU81QnRCLEVBQVcvcUIsVUFBVXNzQixVQUFZLFNBQVVyWSxHQUN2QzdULEtBQUtvZCxRQUFVdkosRUFDZjdULEtBQUtvckIsYUFBZXByQixLQUFLa3JCLFVBQVdyWCxJQVF4QzhXLEVBQVcvcUIsVUFBVXVzQixlQUFpQixTQUFVcEIsR0FDNUMvcUIsS0FBSzhxQixhQUFlQyxHQVF4QkosRUFBVy9xQixVQUFVd3NCLHNCQUF3QixTQUFVQyxHQUNuRHJzQixLQUFLcXJCLHdCQUEwQmdCLEdBT25DMUIsRUFBVy9xQixVQUFVMHNCLHVCQUF5QixXQUMxQyxPQUFPdHNCLEtBQUtxckIseUJBRVRWLEVBak1vQixHLElDaER2QnhyQixFLFVBREpDLEdBQ0lELEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxLQWU1RXdzQixFQUFTLFFBS1RDLEVBQVlqZSxLQUFLMGIsR0FBS3NDLEVBS3RCRSxFQUFTLEVBQUVELEdBQVlBLEVBQVdBLEVBQVdBLEdBSzdDRSxFQUFlLEVBQUUsS0FBTSxHQUFJLElBQUssSUFNaENDLEVBQWFKLEVBQVNoZSxLQUFLNmEsSUFBSTdhLEtBQUtxZSxJQUFJcmUsS0FBSzBiLEdBQUssSUFLekQ0QyxFQUFvQyxTQUFVMXNCLEdBSzlDLFNBQVMwc0IsRUFBbUJ4c0IsR0FDeEIsT0FBT0YsRUFBT0wsS0FBS0UsS0FBTSxDQUNyQkssS0FBTUEsRUFDTnlzQixNQUFPNU4sRUFBQSxTQUNQckwsT0FBUTRZLEVBQ1J0QixRQUFRLEVBQ1JKLFlBQWEyQixFQUNicEIsbUJBQW9CLFNBQVVuVSxFQUFZb0YsR0FDdEMsT0FBT3BGLEdBQWEsUUFBS29GLEVBQU0sR0FBS2dRLE9BRXRDdnNCLEtBRVYsT0FoQkFaLEVBQVV5dEIsRUFBb0Ixc0IsR0FnQnZCMHNCLEVBakI0QixDQWtCckMsR0FPU0UsRUFBYyxDQUNyQixJQUFJRixFQUFtQixhQUN2QixJQUFJQSxFQUFtQixlQUN2QixJQUFJQSxFQUFtQixlQUN2QixJQUFJQSxFQUFtQixlQUN2QixJQUFJQSxFQUFtQixpRENqRjNCLElBQUksRUFBd0MsV0FDeEMsSUFBSTF0QixFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQStCakMsRUFBUyxFQUFFLEtBQU0sR0FBSSxJQUFLLElBSzFCaXRCLEVBWlMsUUFZVXplLEtBQUswYixHQUFlLElBUzlDZ0QsRUFBb0MsU0FBVTlzQixHQU05QyxTQUFTOHNCLEVBQW1CNXNCLEVBQU02c0IsR0FDOUIsT0FBTy9zQixFQUFPTCxLQUFLRSxLQUFNLENBQ3JCSyxLQUFNQSxFQUNOeXNCLE1BQU81TixFQUFBLFVBQ1ByTCxPQUFRLEVBQ1JvWCxnQkFBaUJpQyxFQUNqQi9CLFFBQVEsRUFDUk0sY0FBZXVCLEVBQ2ZqQyxZQUFhLEtBQ1gvcUIsS0FFVixPQWhCQSxFQUFVaXRCLEVBQW9COXNCLEdBZ0J2QjhzQixFQWpCNEIsQ0FrQnJDLEdBT1MsRUFBYyxDQUNyQixJQUFJQSxFQUFtQixVQUN2QixJQUFJQSxFQUFtQixZQUFhLE9BQ3BDLElBQUlBLEVBQW1CLGlDQUN2QixJQUFJQSxFQUFtQiw0QkFDdkIsSUFBSUEsRUFBbUIsK0NBQWdELFFDckV2RTdqQixFQUFRLEdDRVIrakIsRUFBYSxHQWVWLFNBQVMsRUFBSWpuQixFQUFRNlksRUFBYXpGLEdBQ3JDLElBQUk4VCxFQUFhbG5CLEVBQU93bEIsVUFDcEIyQixFQUFrQnRPLEVBQVkyTSxVQUM1QjBCLEtBQWNELElBQ2hCQSxFQUFXQyxHQUFjLElBRTdCRCxFQUFXQyxHQUFZQyxHQUFtQi9ULEUsUUNFdkMsU0FBU2dVLEVBQVlDLEVBQUlDLEVBQUlDLEdBQ2hDLElBQUlDLEVBQVNELEdBWFcsVUFZcEJFLEdBQU8sUUFBVUosRUFBRyxJQUNwQkssR0FBTyxRQUFVSixFQUFHLElBQ3BCSyxHQUFlRCxFQUFPRCxHQUFRLEVBQzlCRyxHQUFjLFFBQVVOLEVBQUcsR0FBS0QsRUFBRyxJQUFNLEVBQ3pDbm1CLEVBQUltSCxLQUFLaUosSUFBSXFXLEdBQWV0ZixLQUFLaUosSUFBSXFXLEdBQ3JDdGYsS0FBS2lKLElBQUlzVyxHQUNMdmYsS0FBS2lKLElBQUlzVyxHQUNUdmYsS0FBSytJLElBQUlxVyxHQUNUcGYsS0FBSytJLElBQUlzVyxHQUNqQixPQUFPLEVBQUlGLEVBQVNuZixLQUFLd2YsTUFBTXhmLEtBQUt5ZixLQUFLNW1CLEdBQUltSCxLQUFLeWYsS0FBSyxFQUFJNW1CLElDOEN4RCxTQUFTNm1CLEVBQWVDLEVBQU9DLEVBQVlDLEdBQzlDLElBQUk3RCxFQUNKLFFBQW1CcG5CLElBQWZnckIsRUFBMEIsQ0FDMUIsSUFBSyxJQUFJM3NCLEVBQUksRUFBR0MsRUFBS3lzQixFQUFNeHNCLE9BQVFGLEVBQUlDLElBQU1ELEVBQ3pDMnNCLEVBQVczc0IsR0FBSzBzQixFQUFNMXNCLEdBRTFCK29CLEVBQVM0RCxPQUdUNUQsRUFBUzJELEVBQU16akIsUUFFbkIsT0FBTzhmLEVBUUosU0FBUzhELEVBQWtCSCxFQUFPQyxFQUFZQyxHQUNqRCxRQUFtQmpyQixJQUFmZ3JCLEdBQTRCRCxJQUFVQyxFQUFZLENBQ2xELElBQUssSUFBSTNzQixFQUFJLEVBQUdDLEVBQUt5c0IsRUFBTXhzQixPQUFRRixFQUFJQyxJQUFNRCxFQUN6QzJzQixFQUFXM3NCLEdBQUswc0IsRUFBTTFzQixHQUUxQjBzQixFQUFRQyxFQUVaLE9BQU9ELEVBU0osU0FBU0ksRUFBY3pVLElIL0Z2QixTQUFheFosRUFBTXdaLEdBQ3RCelEsRUFBTS9JLEdBQVF3WixFRytGZCtPLENBQVEvTyxFQUFXNlIsVUFBVzdSLEdBQzlCLEVBQWlCQSxFQUFZQSxFQUFZb1UsR0FpQnRDLFNBQVMsRUFBSU0sR0FDaEIsTUFBaUMsaUJBQW5CQSxFSDVITm5sQixFQURRL0ksRUc4SG9CLElINUhoQytJLEVBQU0vSSxFQUFLbXVCLFFBQVEseUNBQTBDLGFBQzdELEtHNEg0QixHQUFvQixLSC9IakQsSUFBYW51QixFR3FKYixTQUFTaXJCLEVBQW1CelIsRUFBWTFDLEVBQVlvRixFQUFPa1MsR0FFOUQsSUFBSUMsRUFDQUMsR0FGSjlVLEVBQWEsRUFBSUEsSUFFT3lTLHlCQUN4QixHQUFJcUMsRUFDQUQsRUFBa0JDLEVBQU94WCxFQUFZb0YsR0FDakNrUyxHQUFhQSxJQUFjNVUsRUFBV29GLGFBQ2xDd00sRUFBZ0I1UixFQUFXOFIsc0JBRTNCK0MsRUFDS0EsRUFBa0JqRCxFQUFpQixJQUFnQmdELFFBSS9ELENBQ0QsSUFBSTNCLEVBQVFqVCxFQUFXb0YsV0FDdkIsR0FBSzZOLEdBQVM1TixFQUFBLFlBQWtCdVAsR0FBY0EsR0FBYXZQLEVBQUEsVUFDdkR3UCxFQUFrQnZYLE1BRWpCLENBSUQsSUFxQklzVSxFQXJCQW1ELEVBQWVDLEVBQTRCaFYsRUFBWSxFQUFJLGNBQy9ELEdBQUkrVSxJQUFpQlAsR0FBcUJ2QixJQUFVNU4sRUFBQSxVQUVoRHdQLEVBQWtCdlgsRUFBYTBDLEVBQVc4Uix1QkFFekMsQ0FDRCxJQUFJbUQsRUFBVyxDQUNYdlMsRUFBTSxHQUFLcEYsRUFBYSxFQUN4Qm9GLEVBQU0sR0FDTkEsRUFBTSxHQUFLcEYsRUFBYSxFQUN4Qm9GLEVBQU0sR0FDTkEsRUFBTSxHQUNOQSxFQUFNLEdBQUtwRixFQUFhLEVBQ3hCb0YsRUFBTSxHQUNOQSxFQUFNLEdBQUtwRixFQUFhLEdBSzVCdVgsR0FGWXBCLEdBRFp3QixFQUFXRixFQUFhRSxFQUFVQSxFQUFVLElBQ1hya0IsTUFBTSxFQUFHLEdBQUlxa0IsRUFBU3JrQixNQUFNLEVBQUcsSUFDbkQ2aUIsRUFBWXdCLEVBQVNya0IsTUFBTSxFQUFHLEdBQUlxa0IsRUFBU3JrQixNQUFNLEVBQUcsS0FDNUIsT0FLbkJ0SCxLQUhsQnNvQixFQUFnQmdELEVBQ2QsSUFBZ0JBLEdBQ2hCNVUsRUFBVzhSLHNCQUViK0MsR0FBbUJqRCxJQUkvQixPQUFPaUQsRUFTSixTQUFTSyxFQUF5QkMsSUFsR2xDLFNBQXdCQSxHQUMzQkEsRUFBWTdzQixRQUFRbXNCLEdBa0dwQlcsQ0FBZUQsR0FDZkEsRUFBWTdzQixTQUFRLFNBQVUrRCxHQUMxQjhvQixFQUFZN3NCLFNBQVEsU0FBVTRjLEdBQ3RCN1ksSUFBVzZZLEdBQ1gsRUFBaUI3WSxFQUFRNlksRUFBYWtQLFNBc0MvQyxTQUFTaUIsRUFBaUJyVixFQUFZc1YsR0FDekMsT0FBS3RWLEVBRzBCLGlCQUFmQSxFQUNMLEVBQUlBLEdBR3NCLEVBTjFCLEVBQUlzVixHQXlFWixTQUFTQyxFQUFXM2EsRUFBWTRhLEdBQ25DLE9BQU92USxFQUFVckssRUFBWSxpQkFBZ0N0UixJQUFuQmtzQixFQUErQkEsRUFBaUIsYUFXdkYsU0FBU0MsRUFBUzdhLEVBQVk0YSxHQUNqQyxJQUFJRSxFQUFTelEsRUFBVXJLLE9BQStCdFIsSUFBbkJrc0IsRUFBK0JBLEVBQWlCLFlBQWEsYUFDNUZHLEVBQU1ELEVBQU8sR0FJakIsT0FISUMsR0FBTyxLQUFPQSxFQUFNLE9BQ3BCRCxFQUFPLElBQUssUUFBT0MsRUFBTSxJQUFLLEtBQU8sS0FFbENELEVBWUosU0FBU0UsRUFBV0MsRUFBYUMsR0FDcEMsR0FBSUQsSUFBZ0JDLEVBQ2hCLE9BQU8sRUFFWCxJQUFJQyxFQUFhRixFQUFZelEsYUFBZTBRLEVBQVkxUSxXQUN4RCxPQUFJeVEsRUFBWWhFLFlBQWNpRSxFQUFZakUsV0FJbEJtRCxFQUE0QmEsRUFBYUMsS0FDcEMxQixJQUpsQjJCLEVBZ0JSLFNBQVNmLEVBQTRCZ0IsRUFBa0JDLEdBQzFELElBRUlDLEVGelZELFNBQWEzQyxFQUFZQyxHQUM1QixJQUFJdk8sRUFJSixPQUhJc08sS0FBY0QsR0FBY0UsS0FBbUJGLEVBQVdDLEtBQzFEdE8sRUFBWXFPLEVBQVdDLEdBQVlDLElBRWhDdk8sRUVvVmEsQ0FGSCtRLEVBQWlCbkUsVUFDWm9FLEVBQXNCcEUsV0FLNUMsT0FIS3FFLElBQ0RBLEVBQWdCMUIsR0FFYjBCLEVBWUosU0FBU0MsRUFBYTlwQixFQUFRNlksR0FHakMsT0FBTzhQLEVBRmdCLEVBQUkzb0IsR0FDQyxFQUFJNlksSUFpQjdCLFNBQVNELEVBQVVySyxFQUFZdk8sRUFBUTZZLEdBRTFDLE9BRG9CaVIsRUFBYTlwQixFQUFRNlksRUFDbENnUixDQUFjdGIsT0FBWXRSLEVBQVdzUixFQUFXL1MsUUFpQzNELElBNU5zRHV1QixFQUFjQyxFQUFrQkMsRUE0TmxGQyxFQUFpQixLQXdCZCxTQUFTQyxJQUNaLE9BQU9ELEVBaUJKLFNBQVNFLEVBQWlCN2IsRUFBWW9iLEdBQ3pDLE9BQ1dwYixFQVdSLFNBQVM4YixFQUFtQjliLEVBQVkrYixHQUMzQyxPQUNXL2IsRUFXUixTQUFTZ2MsRUFBYTVjLEVBQVFnYyxHQUNqQyxPQUNXaGMsRUFXUixTQUFTNmMsRUFBZTdjLEVBQVEyYyxHQUNuQyxPQUNXM2MsRUFpRFhrYixFQUF5QixHQUN6QkEsRUFBeUIsR0FqV3lCa0IsRUFvV0osRUFwV2tCQyxFTGhLN0QsU0FBc0JoQyxFQUFPQyxFQUFZQyxHQUM1QyxJQUFJMXNCLEVBQVN3c0IsRUFBTXhzQixPQUNmaXZCLEVBQVl2QyxFQUFnQixFQUFJQSxFQUFnQixFQUNoRDdELEVBQVM0RCxPQUNFaHJCLElBQVhvbkIsSUFHSUEsRUFGQW9HLEVBQVksRUFFSHpDLEVBQU16akIsUUFHTixJQUFJL0ssTUFBTWdDLElBRzNCLElBQUssSUFBSUYsRUFBSSxFQUFHQSxFQUFJRSxFQUFRRixHQUFLbXZCLEVBQVcsQ0FDeENwRyxFQUFPL29CLEdBQU1nckIsRUFBWTBCLEVBQU0xc0IsR0FBTSxJQUNyQyxJQUFJNlMsRUFBSWtZLEVBQVNoZSxLQUFLNmEsSUFBSTdhLEtBQUtxZSxJQUFLcmUsS0FBSzBiLEtBQU9pRSxFQUFNMXNCLEVBQUksR0FBSyxJQUFPLE1BQ2xFNlMsRUFBSXNZLEVBQ0p0WSxFQUFJc1ksRUFFQ3RZLEdBQUtzWSxJQUNWdFksR0FBS3NZLEdBRVRwQyxFQUFPL29CLEVBQUksR0FBSzZTLEVBRXBCLE9BQU9rVyxHS3dJMkU0RixFTDlIL0UsU0FBb0JqQyxFQUFPQyxFQUFZQyxHQUMxQyxJQUFJMXNCLEVBQVN3c0IsRUFBTXhzQixPQUNmaXZCLEVBQVl2QyxFQUFnQixFQUFJQSxFQUFnQixFQUNoRDdELEVBQVM0RCxPQUNFaHJCLElBQVhvbkIsSUFHSUEsRUFGQW9HLEVBQVksRUFFSHpDLEVBQU16akIsUUFHTixJQUFJL0ssTUFBTWdDLElBRzNCLElBQUssSUFBSUYsRUFBSSxFQUFHQSxFQUFJRSxFQUFRRixHQUFLbXZCLEVBQzdCcEcsRUFBTy9vQixHQUFNLElBQU0wc0IsRUFBTTFzQixHQUFNZ3JCLEVBQy9CakMsRUFBTy9vQixFQUFJLEdBQ04sSUFBTStNLEtBQUtxaUIsS0FBS3JpQixLQUFLMmEsSUFBSWdGLEVBQU0xc0IsRUFBSSxHQUFLK3FCLElBQVloZSxLQUFLMGIsR0FBSyxHQUV2RSxPQUFPTSxHS2dkaUIsRUFuV1hwb0IsU0FBUSxTQUFVdXRCLEdBQzNCTyxFQUFhOXRCLFNBQVEsU0FBVXd0QixHQUMzQixFQUFpQkQsRUFBYUMsRUFBYU8sR0FDM0MsRUFBaUJQLEVBQWFELEVBQWFTLFUsb0RDdlB2RCxJQUFJalIsRUFBUSxDQUtSMlIsUUFBUyxVQUtUQyxLQUFNLEtBS05DLE9BQVEsSUFLUkMsT0FBUSxTQUtSQyxZQUFhLGNBS2JDLE9BQVEsU0FRRGxFLEVBQWtCLEdBRTdCQSxFQUFnQjlOLEVBQU0yUixTQUFZLEVBQUl0aUIsS0FBSzBiLEdBQUssUUFBVyxJQUMzRCtDLEVBQWdCOU4sRUFBTTRSLE1BQVEsTUFDOUI5RCxFQUFnQjlOLEVBQU02UixRQUFVLEVBQ2hDL0QsRUFBZ0I5TixFQUFNZ1MsUUFBVSxLQUFPLEtBQ3ZDLFcsbVNDMkJXQyxFQUFjLGtCQUtkQyxFQUFtQixPQUtuQkMsRUFBaUIsUUFLakJDLEVBQWtCLEdBS2xCQyxFQUF3QixFQUt4QkMsRUFBa0IsUUFLbEJDLEVBQW9CLEdBS3BCQyxFQUFxQixPQUtyQkMsRUFBbUIsU0FLbkJDLEVBQXNCLFNBS3RCQyxFQUFpQixDQUFDLEVBQUcsRUFBRyxFQUFHLEdBSzNCQyxFQUFtQixFQUluQkMsRUFBZSxJQUFJLE1BU04sSUFBSSxLQUNqQkMsUUFBVSxXQUNqQkMsUUFBUUMsS0FBSyw4QkFLakIsSUFJSUMsRUFtR0lDLEVBdkdKQyxFQUFpQixLQVFWQyxFQUFjLEdBS2RDLEVBQWUsV0FDdEIsSUFLSUMsRUFBVUMsRUFKVjVtQixFQUFPLFFBQ1A2bUIsRUFBaUIsQ0FBQyxZQUFhLFNBQy9CN3JCLEVBQU02ckIsRUFBZWh4QixPQUNyQml4QixFQUFPLDJCQVFYLFNBQVNDLEVBQVlDLEVBQVdDLEVBQVlDLEdBRXhDLElBREEsSUFBSUMsR0FBWSxFQUNQeHhCLEVBQUksRUFBR0EsRUFBSXFGLElBQU9yRixFQUFHLENBQzFCLElBQUl5eEIsRUFBZ0JQLEVBQWVseEIsR0FFbkMsR0FEQWl4QixFQUFpQlMsRUFBaUJMLEVBQVksSUFBTUMsRUFBYSxJQUFNam5CLEVBQU9vbkIsRUFBZU4sR0FDekZJLEdBQWNFLEVBQWUsQ0FDN0IsSUFBSXhtQixFQUFReW1CLEVBQWlCTCxFQUN6QixJQUNBQyxFQUNBLElBQ0FqbkIsRUFDQWtuQixFQUNBLElBQ0FFLEVBQWVOLEdBR25CSyxFQUFZQSxHQUFhdm1CLEdBQVNnbUIsR0FHMUMsUUFBSU8sRUFLUixTQUFTRyxJQUdMLElBRkEsSUFBSUMsR0FBTyxFQUNQQyxFQUFRdEIsRUFBYXZzQixVQUNoQmhFLEVBQUksRUFBR0MsRUFBSzR4QixFQUFNM3hCLE9BQVFGLEVBQUlDLElBQU1ELEVBQUcsQ0FDNUMsSUFBSTh4QixFQUFPRCxFQUFNN3hCLEdBQ2J1d0IsRUFBYXZ2QixJQUFJOHdCLEdBekNmLE1BMENFVixFQUFZM2pCLE1BQU1qUCxLQUFNc3pCLEVBQUs1b0IsTUFBTSxTQUNuQyxRQUFNNG5CLEdBRU5ELEVBQWlCLEtBQ2pCRixPQUFjaHZCLEVBQ2Q0dUIsRUFBYTN1QixJQUFJa3dCLEVBL0NuQixPQWtERXZCLEVBQWEzdUIsSUFBSWt3QixFQUFNdkIsRUFBYXZ2QixJQUFJOHdCLEdBQVEsR0FBRyxHQUNuREYsR0FBTyxJQUlmQSxJQUNBRyxjQUFjZixHQUNkQSxPQUFXcnZCLEdBR25CLE9BQU8sU0FBVXVJLEdBQ2IsSUFBSTRuQixHQUFPLE9BQWtCNW5CLEdBQzdCLEdBQUs0bkIsRUFJTCxJQURBLElBQUl0bkIsRUFBV3NuQixFQUFLdG5CLFNBQ1h4SyxFQUFJLEVBQUdDLEVBQUt1SyxFQUFTdEssT0FBUUYsRUFBSUMsSUFBTUQsRUFBRyxDQUMvQyxJQUFJeUssRUFBU0QsRUFBU3hLLEdBQ2xCeUQsRUFBTXF1QixFQUFLeHBCLE1BQVEsS0FBT3dwQixFQUFLeG5CLE9BQVMsS0FBT0csT0FDckI5SSxJQUExQjR1QixFQUFhdnZCLElBQUl5QyxLQUNqQjhzQixFQUFhM3VCLElBQUk2QixFQXRFZixLQXNFNkIsR0FDMUIydEIsRUFBWVUsRUFBS3hwQixNQUFPd3BCLEVBQUt4bkIsT0FBUUcsS0FDdEM4bEIsRUFBYTN1QixJQUFJNkIsRUFBSyxHQUFHLFFBQ1I5QixJQUFicXZCLElBQ0FBLEVBQVdnQixZQUFZTCxFQUFPLFNBM0U1QixHQXNGZk0sRUFLQSxTQUFVL25CLEdBQ2IsSUFBSWdCLEVBQVM0bEIsRUFBWTVtQixHQUN6QixHQUFjdkksTUFBVnVKLEVBQXFCLENBQ3JCLEdBQUksS0FBeUIsQ0FDekIsSUFBSTRtQixHQUFPLE9BQWtCNW5CLEdBQ3pCZ29CLEVBQVVDLEVBQVlqb0IsRUFBVSxNQUlwQ2dCLEdBSGlCeVIsTUFBTXZULE9BQU8wb0IsRUFBSzFuQixhQUM3QixJQUNBaEIsT0FBTzBvQixFQUFLMW5CLGNBR1Q4bkIsRUFBUUUsd0JBQTBCRixFQUFRRywrQkFHOUN6QixLQUNEQSxFQUFNeG9CLFNBQVNDLGNBQWMsUUFDekJpcUIsVUFBWSxJQUNoQjFCLEVBQUl0b0IsTUFBTWlxQixPQUFTLGVBQ25CM0IsRUFBSXRvQixNQUFNa3FCLFFBQVUsZUFDcEI1QixFQUFJdG9CLE1BQU1tcUIsU0FBVyxzQkFDckI3QixFQUFJdG9CLE1BQU1vcUIsS0FBTyx1QkFFckI5QixFQUFJdG9CLE1BQU13cEIsS0FBTzVuQixFQUNqQjlCLFNBQVNHLEtBQUtDLFlBQVlvb0IsR0FDMUIxbEIsRUFBUzBsQixFQUFJbmxCLGFBQ2JyRCxTQUFTRyxLQUFLSSxZQUFZaW9CLEdBRTlCRSxFQUFZNW1CLEdBQVlnQixFQUU1QixPQUFPQSxHQVFmLFNBQVNpbkIsRUFBWUwsRUFBTVgsR0FRdkIsT0FQS04sSUFDREEsR0FBaUIsUUFBc0IsRUFBRyxJQUUxQ2lCLEdBQVFuQixJQUNSRSxFQUFlaUIsS0FBT0EsRUFDdEJuQixFQUFjRSxFQUFlaUIsTUFFMUJqQixFQUFlc0IsWUFBWWhCLEdBTy9CLFNBQVNPLEVBQWlCSSxFQUFNWCxHQUNuQyxPQUFPZ0IsRUFBWUwsRUFBTVgsR0FBTWxtQixNQVM1QixTQUFTMG5CLEVBQXlCYixFQUFNWCxFQUFNdnBCLEdBQ2pELEdBQUl1cEIsS0FBUXZwQixFQUNSLE9BQU9BLEVBQU11cEIsR0FFakIsSUFBSWxtQixFQUFReW1CLEVBQWlCSSxFQUFNWCxHQUVuQyxPQURBdnBCLEVBQU11cEIsR0FBUWxtQixFQUNQQSxFQVNKLFNBQVMybkIsRUFBa0JkLEVBQU1lLEVBQU9DLEdBRzNDLElBRkEsSUFBSUMsRUFBV0YsRUFBTTN5QixPQUNqQitLLEVBQVEsRUFDSGpMLEVBQUksRUFBR0EsRUFBSSt5QixJQUFZL3lCLEVBQUcsQ0FDL0IsSUFBSWd6QixFQUFldEIsRUFBaUJJLEVBQU1lLEVBQU03eUIsSUFDaERpTCxFQUFROEIsS0FBSzBILElBQUl4SixFQUFPK25CLEdBQ3hCRixFQUFPcHlCLEtBQUtzeUIsR0FFaEIsT0FBTy9uQixFQVFKLFNBQVNnb0IsRUFBZUMsRUFBU3RkLEVBQVV1ZCxFQUFTQyxHQUN0QyxJQUFieGQsSUFDQXNkLEVBQVE3VixVQUFVOFYsRUFBU0MsR0FDM0JGLEVBQVF0VyxPQUFPaEgsR0FDZnNkLEVBQVE3VixXQUFXOFYsR0FBVUMsSUFnQjlCLFNBQVNDLEVBQWlCSCxFQUFTNVYsRUFBV2dXLEVBQVNDLEVBQWNDLEVBQVNDLEVBQVNDLEVBQUdDLEVBQUcvZ0IsRUFBR0MsRUFBR2tLLEdBQ3RHbVcsRUFBUVUsT0FDUSxJQUFaTixJQUNBSixFQUFRVyxhQUFlUCxHQUV2QmhXLEdBQ0E0VixFQUFRWSxhQUFhcm1CLE1BQU15bEIsRUFBUzVWLEdBRW5CLEVBQWV5VyxxQkFFaENiLEVBQVE3VixVQUFVekssRUFBR0MsR0FDckJxZ0IsRUFBUW5XLE1BQU1BLEVBQU0sR0FBSUEsRUFBTSxJQXFCdEMsU0FBa0NpWCxFQUFPZCxHQUVyQyxJQURBLElBQUlhLEVBQXNCQyxFQUFNRCxvQkFDdkIvekIsRUFBSSxFQUFHQyxFQUFLOHpCLEVBQW9CN3pCLE9BQVFGLEVBQUlDLEVBQUlELEdBQUssRUFDdEQ5QixNQUFNa0gsUUFBUTJ1QixFQUFvQi96QixFQUFJLElBQ3RDa3pCLEVBQVFhLEVBQW9CL3pCLElBQUl5TixNQUFNeWxCLEVBQVNhLEVBQW9CL3pCLEVBQUksSUFHdkVrekIsRUFBUWEsRUFBb0IvekIsSUFBTSt6QixFQUFvQi96QixFQUFJLEdBM0I5RGkwQixDQUE4QyxFQUFnQmYsSUFFekRuVyxFQUFNLEdBQUssR0FBS0EsRUFBTSxHQUFLLEdBRWhDbVcsRUFBUTdWLFVBQVV6SyxFQUFHQyxHQUNyQnFnQixFQUFRblcsTUFBTUEsRUFBTSxHQUFJQSxFQUFNLElBQzlCbVcsRUFBUWdCLFVBQzJELEVBQWdCVixFQUFTQyxFQUFTQyxFQUFHQyxFQUFHLEVBQUcsRUFBR0QsRUFBR0MsSUFJcEhULEVBQVFnQixVQUMyRCxFQUFnQlYsRUFBU0MsRUFBU0MsRUFBR0MsRUFBRy9nQixFQUFHQyxFQUFHNmdCLEVBQUkzVyxFQUFNLEdBQUk0VyxFQUFJNVcsRUFBTSxJQUU3SW1XLEVBQVFpQixVQXFCWixJQUFJQyxFQUE4QixLQUszQixTQUFTQyxFQUFzQi9XLEdBQ2xDLE9BQUksTUFDTyxRQUFTQSxJQUdYOFcsSUFDREEsR0FBOEIsUUFBc0IsRUFBRyxHQUFHdHBCLFFBRTlEc3BCLEVBQTRCOXJCLE1BQU1nVixXQUFZLFFBQVNBLEdBQ2hEOFcsRUFBNEI5ckIsTUFBTWdWLGEsMkJDcFoxQyxTQUFTZ1gsRUFBUWpxQixHQUNwQixPQUFPQSxFQUFLLEdBQUssR0FBS0EsRUFBSyxHQUFLLEVBUzdCLFNBQVMwUyxFQUFNMVMsRUFBTWtxQixFQUFPQyxHQU0vQixZQUxpQjd5QixJQUFiNnlCLElBQ0FBLEVBQVcsQ0FBQyxFQUFHLElBRW5CQSxFQUFTLEdBQU1ucUIsRUFBSyxHQUFLa3FCLEVBQVEsR0FBTyxFQUN4Q0MsRUFBUyxHQUFNbnFCLEVBQUssR0FBS2txQixFQUFRLEdBQU8sRUFDakNDLEVBV0osU0FBU0MsRUFBT3BxQixFQUFNbXFCLEdBQ3pCLE9BQUl0MkIsTUFBTWtILFFBQVFpRixHQUNQQSxRQUdVMUksSUFBYjZ5QixFQUNBQSxFQUFXLENBQUNucUIsRUFBTUEsSUFHbEJtcUIsRUFBUyxHQUFLbnFCLEVBQ2RtcUIsRUFBUyxHQUFLbnFCLEdBRVhtcUIsRyxzRkMvRFA3MkIsRSw0REFESkMsR0FDSUQsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFckIsU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLEtBOGR2RixRQWxia0MsU0FBVUksR0FLeEMsU0FBUysxQixFQUFhOTBCLEdBQ2xCLElBQUlkLEVBQVFOLEtBSVJtMkIsT0FBNENoekIsSUFBM0IvQixFQUFRKzBCLGdCQUErQi8wQixFQUFRKzBCLGVBMkVwRSxPQTFFQTcxQixFQUFRSCxFQUFPTCxLQUFLRSxLQUFNLENBQ3RCODBCLFFBQVMsRUFDVHFCLGVBQWdCQSxFQUNoQi9lLGNBQStCalUsSUFBckIvQixFQUFRZ1csU0FBeUJoVyxFQUFRZ1csU0FBVyxFQUM5RG1ILFdBQXlCcGIsSUFBbEIvQixFQUFRbWQsTUFBc0JuZCxFQUFRbWQsTUFBUSxFQUNyRDZYLGtCQUF1Q2p6QixJQUF6Qi9CLEVBQVFnMUIsYUFBNkJoMUIsRUFBUWcxQixhQUFlLENBQUMsRUFBRyxNQUM1RXAyQixNQUtBcTJCLFFBQVUsR0FLaEIvMUIsRUFBTWcyQixvQkFBc0IsS0FLNUJoMkIsRUFBTWkyQixXQUF5QnB6QixJQUFqQi9CLEVBQVFvMUIsS0FBcUJwMUIsRUFBUW8xQixLQUFPLEtBSzFEbDJCLEVBQU1tMkIsUUFBVSxDQUFDLEVBQUcsR0FLcEJuMkIsRUFBTW8yQixRQUFVdDFCLEVBQVF1MUIsT0FLeEJyMkIsRUFBTXMyQixhQUNpQnp6QixJQUFuQi9CLEVBQVFzc0IsT0FBdUJ0c0IsRUFBUXNzQixPQUFTdHNCLEVBQVF5MUIsUUFLNUR2MkIsRUFBTXcyQixTQUFXMTFCLEVBQVEyMUIsUUFLekJ6MkIsRUFBTTAyQixZQUEyQjd6QixJQUFsQi9CLEVBQVFpZCxNQUFzQmpkLEVBQVFpZCxNQUFRLEVBSzdEL2QsRUFBTTIyQixhQUE2Qjl6QixJQUFuQi9CLEVBQVE4MUIsT0FBdUI5MUIsRUFBUTgxQixPQUFTLEtBS2hFNTJCLEVBQU02MkIsUUFBVSxLQUtoQjcyQixFQUFNODJCLE1BQVEsS0FLZDkyQixFQUFNKzJCLFdBQWEsS0FLbkIvMkIsRUFBTWczQix1QkFBeUIsS0FDL0JoM0IsRUFBTWkzQixTQUNDajNCLEVBMlZYLE9BL2FBbEIsRUFBVTgyQixFQUFjLzFCLEdBMkZ4QisxQixFQUFhdDJCLFVBQVVzVSxNQUFRLFdBQzNCLElBQUlxSyxFQUFRdmUsS0FBS3czQixXQUNiMXRCLEVBQVEsSUFBSW9zQixFQUFhLENBQ3pCTSxLQUFNeDJCLEtBQUt5M0IsVUFBWXozQixLQUFLeTNCLFVBQVV2akIsYUFBVS9RLEVBQ2hEd3pCLE9BQVEzMkIsS0FBSzAzQixZQUNiaEssT0FBUTF0QixLQUFLMjNCLFlBQ2JaLFFBQVMvMkIsS0FBSzQzQixhQUNkdlosTUFBT3JlLEtBQUs2M0IsV0FDWlgsT0FBUWwzQixLQUFLODNCLFlBQWM5M0IsS0FBSzgzQixZQUFZNWpCLGFBQVUvUSxFQUN0RGlVLFNBQVVwWCxLQUFLKzNCLGNBQ2Y1QixlQUFnQm4yQixLQUFLZzRCLG9CQUNyQnpaLE1BQU83ZSxNQUFNa0gsUUFBUTJYLEdBQVNBLEVBQU05VCxRQUFVOFQsRUFDOUM2WCxhQUFjcDJCLEtBQUtpNEIsa0JBQWtCeHRCLFVBR3pDLE9BREFYLEVBQU1vdUIsV0FBV2w0QixLQUFLbTRCLGNBQ2ZydUIsR0FRWG9zQixFQUFhdDJCLFVBQVV3NEIsVUFBWSxXQUMvQixPQUFPcDRCLEtBQUttM0IsU0FPaEJqQixFQUFhdDJCLFVBQVVpNEIsU0FBVyxXQUM5QixPQUFPNzNCLEtBQUtnM0IsUUFPaEJkLEVBQWF0MkIsVUFBVTYzQixRQUFVLFdBQzdCLE9BQU96M0IsS0FBS3UyQixPQUtoQkwsRUFBYXQyQixVQUFVeTRCLHFCQUF1QixXQUMxQyxJQUFLcjRCLEtBQUtzMkIsb0JBQXFCLENBQzNCLElBQUlnQyxFQUFnQnQ0QixLQUFLdTRCLHNCQUN6QnY0QixLQUFLdzRCLDBCQUEwQkYsR0FFbkMsT0FBT3Q0QixLQUFLczJCLHFCQVFoQkosRUFBYXQyQixVQUFVNjRCLFNBQVcsU0FBVUMsR0FDeEMsSUFBSzE0QixLQUFLcTJCLFFBQVFxQyxHQUFjLEdBQUksQ0FDaEMsSUFBSUosRUFBZ0J0NEIsS0FBS3U0QixzQkFDckI3RCxHQUFVLFFBQXNCNEQsRUFBY3pzQixLQUFPNnNCLEdBQWMsRUFBR0osRUFBY3pzQixLQUFPNnNCLEdBQWMsR0FDN0cxNEIsS0FBSzI0QixNQUFNTCxFQUFlNUQsRUFBUyxFQUFHLEVBQUdnRSxHQUFjLEdBQ3ZEMTRCLEtBQUtxMkIsUUFBUXFDLEdBQWMsR0FBS2hFLEVBQVFwb0IsT0FFNUMsT0FBT3RNLEtBQUtxMkIsUUFBUXFDLEdBQWMsSUFNdEN4QyxFQUFhdDJCLFVBQVVnNUIsY0FBZ0IsU0FBVUYsR0FDN0MsT0FBT0EsR0FLWHhDLEVBQWF0MkIsVUFBVWk1QixhQUFlLFdBQ2xDLE9BQU83NEIsS0FBS3EzQixZQUtoQm5CLEVBQWF0MkIsVUFBVWs1Qix5QkFBMkIsV0FDOUMsT0FBTzk0QixLQUFLczNCLHdCQUtoQnBCLEVBQWF0MkIsVUFBVW01QixjQUFnQixXQUNuQyxPQUFPQyxFQUFBLFVBT1g5QyxFQUFhdDJCLFVBQVVxNUIsVUFBWSxXQUMvQixPQUFPajVCLEtBQUt5MkIsU0FPaEJQLEVBQWF0MkIsVUFBVTgzQixVQUFZLFdBQy9CLE9BQU8xM0IsS0FBSzAyQixTQU9oQlIsRUFBYXQyQixVQUFVKzNCLFVBQVksV0FDL0IsT0FBTzMzQixLQUFLNDJCLFNBT2hCVixFQUFhdDJCLFVBQVVnNEIsV0FBYSxXQUNoQyxPQUFPNTNCLEtBQUs4MkIsVUFPaEJaLEVBQWF0MkIsVUFBVXM1QixRQUFVLFdBQzdCLE9BQU9sNUIsS0FBS28zQixPQU9oQmxCLEVBQWF0MkIsVUFBVWs0QixVQUFZLFdBQy9CLE9BQU85M0IsS0FBS2kzQixTQUtoQmYsRUFBYXQyQixVQUFVdTVCLGtCQUFvQixTQUFVeHlCLEtBSXJEdXZCLEVBQWF0MkIsVUFBVXc1QixLQUFPLGFBSTlCbEQsRUFBYXQyQixVQUFVeTVCLG9CQUFzQixTQUFVMXlCLEtBS3ZEdXZCLEVBQWF0MkIsVUFBVTI0QixvQkFBc0IsV0FDekMsSUFLSWUsRUFMQUMsRUFBVSxLQUNWQyxFQUFXLEtBQ1hDLEVBQWEsRUFDYkMsRUFBVyxLQUNYQyxFQUFpQixFQUVqQkMsRUFBYyxFQTJCbEIsT0ExQkk1NUIsS0FBS2kzQixVQUVlLFFBRHBCcUMsRUFBY3Q1QixLQUFLaTNCLFFBQVE0QyxjQUV2QlAsRUFBYyxNQUVsQkEsR0FBYyxPQUFZQSxRQUVObjJCLEtBRHBCeTJCLEVBQWM1NUIsS0FBS2kzQixRQUFRcmdCLGNBRXZCZ2pCLEVBQWMsTUFFbEJGLEVBQVcxNUIsS0FBS2kzQixRQUFRNkMsY0FDeEJILEVBQWlCMzVCLEtBQUtpM0IsUUFBUThDLHlCQUViNTJCLEtBRGpCcTJCLEVBQVd4NUIsS0FBS2kzQixRQUFRK0MsaUJBRXBCUixFQUFXLFdBR0NyMkIsS0FEaEJvMkIsRUFBVXY1QixLQUFLaTNCLFFBQVFnRCxnQkFFbkJWLEVBQVUsV0FHS3AyQixLQURuQnMyQixFQUFhejVCLEtBQUtpM0IsUUFBUWlELG1CQUV0QlQsRUFBYSxPQUlkLENBQ0hILFlBQWFBLEVBQ2JNLFlBQWFBLEVBQ2IvdEIsS0FKTyxHQUFLN0wsS0FBSzQyQixRQUFVZ0QsR0FBZSxFQUsxQ0wsUUFBU0EsRUFDVEcsU0FBVUEsRUFDVkMsZUFBZ0JBLEVBQ2hCSCxTQUFVQSxFQUNWQyxXQUFZQSxJQU1wQnZELEVBQWF0MkIsVUFBVTIzQixPQUFTLFdBQzVCLElBQUllLEVBQWdCdDRCLEtBQUt1NEIsc0JBQ3JCN0QsR0FBVSxRQUFzQjRELEVBQWN6c0IsS0FBTXlzQixFQUFjenNCLE1BQ3RFN0wsS0FBSzI0QixNQUFNTCxFQUFlNUQsRUFBUyxFQUFHLEVBQUcsR0FDekMxMEIsS0FBS3EyQixRQUFVLEdBQ2ZyMkIsS0FBS3EyQixRQUFRLEdBQUszQixFQUFRcG9CLE9BRTFCLElBQUlULEVBQU82b0IsRUFBUXBvQixPQUFPRyxNQUN0QjB0QixFQUFZdHVCLEVBQ1p1cUIsRUFBZXAyQixLQUFLaTRCLGtCQUN4Qmo0QixLQUFLczNCLHVCQUF5QixDQUFDZ0IsRUFBY3pzQixLQUFNeXNCLEVBQWN6c0IsTUFDakU3TCxLQUFLdzRCLDBCQUEwQkYsR0FDL0J0NEIsS0FBS20zQixRQUFVLENBQUN0ckIsRUFBTyxFQUFJdXFCLEVBQWEsR0FBSXZxQixFQUFPLEVBQUl1cUIsRUFBYSxJQUNwRXAyQixLQUFLbzNCLE1BQVEsQ0FBQ3ZyQixFQUFNQSxHQUNwQjdMLEtBQUtxM0IsV0FBYSxDQUFDOEMsRUFBV0EsSUFVbENqRSxFQUFhdDJCLFVBQVUrNEIsTUFBUSxTQUFVTCxFQUFlNUQsRUFBU3RnQixFQUFHQyxFQUFHcWtCLEdBQ25FLElBQUlsM0IsRUFBRzQ0QixFQUFRQyxFQUVmM0YsRUFBUVksYUFBYW9ELEVBQVksRUFBRyxFQUFHQSxFQUFZLEVBQUcsR0FFdERoRSxFQUFRN1YsVUFBVXpLLEVBQUdDLEdBQ3JCcWdCLEVBQVE0RixZQUNSLElBQUkzRCxFQUFTMzJCLEtBQUswMkIsUUFDbEIsR0FBSUMsSUFBVzdpQixJQUNYNGdCLEVBQVE2RixJQUFJakMsRUFBY3pzQixLQUFPLEVBQUd5c0IsRUFBY3pzQixLQUFPLEVBQUc3TCxLQUFLNDJCLFFBQVMsRUFBRyxFQUFJcm9CLEtBQUswYixJQUFJLE9BRXpGLENBQ0QsSUFBSThNLE9BQTRCNXpCLElBQWxCbkQsS0FBSzgyQixTQUF5QjkyQixLQUFLODJCLFNBQVc5MkIsS0FBSzQyQixRQUlqRSxJQUhJRyxJQUFZLzJCLEtBQUs0MkIsVUFDakJELEdBQVMsR0FFUm4xQixFQUFJLEVBQUdBLEdBQUttMUIsRUFBUW4xQixJQUNyQjQ0QixFQUFjLEVBQUo1NEIsRUFBUStNLEtBQUswYixHQUFNME0sRUFBU3BvQixLQUFLMGIsR0FBSyxFQUFJanFCLEtBQUtnM0IsT0FDekRxRCxFQUFVNzRCLEVBQUksR0FBTSxFQUFJeEIsS0FBSzQyQixRQUFVRyxFQUN2Q3JDLEVBQVE4RixPQUFPbEMsRUFBY3pzQixLQUFPLEVBQUl3dUIsRUFBVTlyQixLQUFLK0ksSUFBSThpQixHQUFTOUIsRUFBY3pzQixLQUFPLEVBQUl3dUIsRUFBVTlyQixLQUFLaUosSUFBSTRpQixJQUd4SCxHQUFJcDZCLEtBQUt1MkIsTUFBTyxDQUNaLElBQUlydEIsRUFBUWxKLEtBQUt1MkIsTUFBTXNELFdBQ1QsT0FBVjN3QixJQUNBQSxFQUFRLE1BRVp3ckIsRUFBUStGLFdBQVksT0FBWXZ4QixHQUNoQ3dyQixFQUFROEIsT0FFUngyQixLQUFLaTNCLFVBQ0x2QyxFQUFRNEUsWUFBY2hCLEVBQWNnQixZQUNwQzVFLEVBQVFnRyxVQUFZcEMsRUFBY3NCLFlBQzlCbEYsRUFBUWlHLGFBQWVyQyxFQUFjb0IsV0FDckNoRixFQUFRaUcsWUFBWXJDLEVBQWNvQixVQUNsQ2hGLEVBQVFpRixlQUFpQnJCLEVBQWNxQixnQkFFM0NqRixFQUFRNkUsUUFBVWpCLEVBQWNpQixRQUNoQzdFLEVBQVE4RSxTQUFXbEIsRUFBY2tCLFNBQ2pDOUUsRUFBUStFLFdBQWFuQixFQUFjbUIsV0FDbkMvRSxFQUFRd0MsVUFFWnhDLEVBQVFrRyxhQU1aMUUsRUFBYXQyQixVQUFVNDRCLDBCQUE0QixTQUFVRixHQUV6RCxHQURBdDRCLEtBQUtzMkIsb0JBQXNCdDJCLEtBQUt5NEIsU0FBUyxHQUNyQ3o0QixLQUFLdTJCLE1BQU8sQ0FDWixJQUFJcnRCLEVBQVFsSixLQUFLdTJCLE1BQU1zRCxXQUVuQi9FLEVBQVUsRUFVZCxHQVRxQixpQkFBVjVyQixJQUNQQSxHQUFRLFFBQVFBLElBRU4sT0FBVkEsRUFDQTRyQixFQUFVLEVBRUxwMUIsTUFBTWtILFFBQVFzQyxLQUNuQjRyQixFQUEyQixJQUFqQjVyQixFQUFNeEgsT0FBZXdILEVBQU0sR0FBSyxHQUU5QixJQUFaNHJCLEVBQWUsQ0FHZixJQUFJSixHQUFVLFFBQXNCNEQsRUFBY3pzQixLQUFNeXNCLEVBQWN6c0IsTUFDdEU3TCxLQUFLczJCLG9CQUFzQjVCLEVBQVFwb0IsT0FDbkN0TSxLQUFLNjZCLHdCQUF3QnZDLEVBQWU1RCxFQUFTLEVBQUcsTUFXcEV3QixFQUFhdDJCLFVBQVVpN0Isd0JBQTBCLFNBQVV2QyxFQUFlNUQsRUFBU3RnQixFQUFHQyxHQUVsRnFnQixFQUFRN1YsVUFBVXpLLEVBQUdDLEdBQ3JCcWdCLEVBQVE0RixZQUNSLElBQUkzRCxFQUFTMzJCLEtBQUswMkIsUUFDbEIsR0FBSUMsSUFBVzdpQixJQUNYNGdCLEVBQVE2RixJQUFJakMsRUFBY3pzQixLQUFPLEVBQUd5c0IsRUFBY3pzQixLQUFPLEVBQUc3TCxLQUFLNDJCLFFBQVMsRUFBRyxFQUFJcm9CLEtBQUswYixJQUFJLE9BRXpGLENBQ0QsSUFBSThNLE9BQTRCNXpCLElBQWxCbkQsS0FBSzgyQixTQUF5QjkyQixLQUFLODJCLFNBQVc5MkIsS0FBSzQyQixRQUM3REcsSUFBWS8yQixLQUFLNDJCLFVBQ2pCRCxHQUFTLEdBRWIsSUFBSW4xQixPQUFJLEVBQVE2NEIsT0FBVSxFQUFRRCxPQUFTLEVBQzNDLElBQUs1NEIsRUFBSSxFQUFHQSxHQUFLbTFCLEVBQVFuMUIsSUFDckI0NEIsRUFBYyxFQUFKNTRCLEVBQVErTSxLQUFLMGIsR0FBTTBNLEVBQVNwb0IsS0FBSzBiLEdBQUssRUFBSWpxQixLQUFLZzNCLE9BQ3pEcUQsRUFBVTc0QixFQUFJLEdBQU0sRUFBSXhCLEtBQUs0MkIsUUFBVUcsRUFDdkNyQyxFQUFROEYsT0FBT2xDLEVBQWN6c0IsS0FBTyxFQUFJd3VCLEVBQVU5ckIsS0FBSytJLElBQUk4aUIsR0FBUzlCLEVBQWN6c0IsS0FBTyxFQUFJd3VCLEVBQVU5ckIsS0FBS2lKLElBQUk0aUIsSUFHeEgxRixFQUFRK0YsVUFBWSxLQUNwQi9GLEVBQVE4QixPQUNKeDJCLEtBQUtpM0IsVUFDTHZDLEVBQVE0RSxZQUFjaEIsRUFBY2dCLFlBQ3BDNUUsRUFBUWdHLFVBQVlwQyxFQUFjc0IsWUFDOUJ0QixFQUFjb0IsV0FDZGhGLEVBQVFpRyxZQUFZckMsRUFBY29CLFVBQ2xDaEYsRUFBUWlGLGVBQWlCckIsRUFBY3FCLGdCQUUzQ2pGLEVBQVF3QyxVQUVaeEMsRUFBUWtHLGFBRUwxRSxFQWhic0IsQ0FpYi9CaFUsRUFBQSxHQ3ZlRixJQUFJLEVBQXdDLFdBQ3hDLElBQUkvaUIsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0FtRjVDLFFBbkRpQyxTQUFVSSxHQUt2QyxTQUFTMjZCLEVBQVkzNUIsR0FDakIsSUFDSUMsRUFBVUQsR0FBNEIsR0FXMUMsT0FWUWhCLEVBQU9MLEtBQUtFLEtBQU0sQ0FDdEIyMkIsT0FBUTdpQixJQUNSMGlCLEtBQU1wMUIsRUFBUW8xQixLQUNkOUksT0FBUXRzQixFQUFRc3NCLE9BQ2hCd0osT0FBUTkxQixFQUFRODFCLE9BQ2hCM1ksV0FBeUJwYixJQUFsQi9CLEVBQVFtZCxNQUFzQm5kLEVBQVFtZCxNQUFRLEVBQ3JEbkgsY0FBK0JqVSxJQUFyQi9CLEVBQVFnVyxTQUF5QmhXLEVBQVFnVyxTQUFXLEVBQzlEK2Usb0JBQTJDaHpCLElBQTNCL0IsRUFBUSswQixnQkFBK0IvMEIsRUFBUSswQixlQUMvREMsa0JBQXVDanpCLElBQXpCL0IsRUFBUWcxQixhQUE2QmgxQixFQUFRZzFCLGFBQWUsQ0FBQyxFQUFHLE1BQzVFcDJCLEtBZ0NWLE9BaERBLEVBQVU4NkIsRUFBYTM2QixHQXdCdkIyNkIsRUFBWWw3QixVQUFVc1UsTUFBUSxXQUMxQixJQUFJcUssRUFBUXZlLEtBQUt3M0IsV0FDYjF0QixFQUFRLElBQUlneEIsRUFBWSxDQUN4QnRFLEtBQU14MkIsS0FBS3kzQixVQUFZejNCLEtBQUt5M0IsVUFBVXZqQixhQUFVL1EsRUFDaEQrekIsT0FBUWwzQixLQUFLODNCLFlBQWM5M0IsS0FBSzgzQixZQUFZNWpCLGFBQVUvUSxFQUN0RHVxQixPQUFRMXRCLEtBQUsyM0IsWUFDYnBaLE1BQU83ZSxNQUFNa0gsUUFBUTJYLEdBQVNBLEVBQU05VCxRQUFVOFQsRUFDOUNuSCxTQUFVcFgsS0FBSyszQixjQUNmNUIsZUFBZ0JuMkIsS0FBS2c0QixvQkFDckI1QixhQUFjcDJCLEtBQUtpNEIsa0JBQWtCeHRCLFVBR3pDLE9BREFYLEVBQU1vdUIsV0FBV2w0QixLQUFLbTRCLGNBQ2ZydUIsR0FRWGd4QixFQUFZbDdCLFVBQVVtN0IsVUFBWSxTQUFVck4sR0FDeEMxdEIsS0FBSzQyQixRQUFVbEosRUFDZjF0QixLQUFLdTNCLFVBRUZ1RCxFQWpEcUIsQ0FrRDlCLEksNkNDN0JGLFFBMUMwQixXQUl0QixTQUFTRSxFQUFLNzVCLEdBQ1YsSUFBSUMsRUFBVUQsR0FBZSxHQUs3Qm5CLEtBQUtpN0IsWUFBMkI5M0IsSUFBbEIvQixFQUFROEgsTUFBc0I5SCxFQUFROEgsTUFBUSxLQThCaEUsT0F2QkE4eEIsRUFBS3A3QixVQUFVc1UsTUFBUSxXQUNuQixJQUFJaEwsRUFBUWxKLEtBQUs2NUIsV0FDakIsT0FBTyxJQUFJbUIsRUFBSyxDQUNaOXhCLE1BQU94SixNQUFNa0gsUUFBUXNDLEdBQVNBLEVBQU11QixRQUFVdkIsUUFBUy9GLEtBUS9ENjNCLEVBQUtwN0IsVUFBVWk2QixTQUFXLFdBQ3RCLE9BQU83NUIsS0FBS2k3QixRQVFoQkQsRUFBS3A3QixVQUFVczdCLFNBQVcsU0FBVWh5QixHQUNoQ2xKLEtBQUtpN0IsT0FBUy94QixHQUVYOHhCLEVBeENjLEksb0VDME96QixRQW5PZ0MsV0FJNUIsU0FBU0csRUFBVy81QixHQUtoQnBCLEtBQUtvN0IsU0FBV2g2QixFQUFRMHpCLFFBS3hCOTBCLEtBQUtxN0IsZ0JBQWtCajZCLEVBQVErMEIsZUFLL0JuMkIsS0FBS3M3QixVQUFZbDZCLEVBQVFnVyxTQUt6QnBYLEtBQUt1N0IsT0FBU242QixFQUFRbWQsTUFLdEJ2ZSxLQUFLdzdCLGFBQWMsUUFBT3A2QixFQUFRbWQsT0FLbEN2ZSxLQUFLeTdCLGNBQWdCcjZCLEVBQVFnMUIsYUErTGpDLE9BeExBK0UsRUFBV3Y3QixVQUFVc1UsTUFBUSxXQUN6QixJQUFJcUssRUFBUXZlLEtBQUt3M0IsV0FDakIsT0FBTyxJQUFJMkQsRUFBVyxDQUNsQnJHLFFBQVM5MEIsS0FBS200QixhQUNkNVosTUFBTzdlLE1BQU1rSCxRQUFRMlgsR0FBU0EsRUFBTTlULFFBQVU4VCxFQUM5Q25ILFNBQVVwWCxLQUFLKzNCLGNBQ2Y1QixlQUFnQm4yQixLQUFLZzRCLG9CQUNyQjVCLGFBQWNwMkIsS0FBS2k0QixrQkFBa0J4dEIsV0FRN0Mwd0IsRUFBV3Y3QixVQUFVdTRCLFdBQWEsV0FDOUIsT0FBT240QixLQUFLbzdCLFVBT2hCRCxFQUFXdjdCLFVBQVVvNEIsa0JBQW9CLFdBQ3JDLE9BQU9oNEIsS0FBS3E3QixpQkFPaEJGLEVBQVd2N0IsVUFBVW00QixZQUFjLFdBQy9CLE9BQU8vM0IsS0FBS3M3QixXQU9oQkgsRUFBV3Y3QixVQUFVNDNCLFNBQVcsV0FDNUIsT0FBT3gzQixLQUFLdTdCLFFBTWhCSixFQUFXdjdCLFVBQVU4N0IsY0FBZ0IsV0FDakMsT0FBTzE3QixLQUFLdzdCLGFBT2hCTCxFQUFXdjdCLFVBQVVxNEIsZ0JBQWtCLFdBQ25DLE9BQU9qNEIsS0FBS3k3QixlQVFoQk4sRUFBV3Y3QixVQUFVdzRCLFVBQVksV0FDN0IsT0FBTyxXQVFYK0MsRUFBV3Y3QixVQUFVNjRCLFNBQVcsU0FBVUMsR0FDdEMsT0FBTyxXQU1YeUMsRUFBV3Y3QixVQUFVeTRCLHFCQUF1QixXQUN4QyxPQUFPLFdBTVg4QyxFQUFXdjdCLFVBQVVnNUIsY0FBZ0IsU0FBVUYsR0FDM0MsT0FBTyxHQU1YeUMsRUFBV3Y3QixVQUFVbTVCLGNBQWdCLFdBQ2pDLE9BQU8sV0FNWG9DLEVBQVd2N0IsVUFBVWk1QixhQUFlLFdBQ2hDLE9BQU8sV0FNWHNDLEVBQVd2N0IsVUFBVWs1Qix5QkFBMkIsV0FDNUMsT0FBTyxXQU9YcUMsRUFBV3Y3QixVQUFVcTVCLFVBQVksV0FDN0IsT0FBTyxXQU9Ya0MsRUFBV3Y3QixVQUFVczVCLFFBQVUsV0FDM0IsT0FBTyxXQVFYaUMsRUFBV3Y3QixVQUFVczRCLFdBQWEsU0FBVXBELEdBQ3hDOTBCLEtBQUtvN0IsU0FBV3RHLEdBUXBCcUcsRUFBV3Y3QixVQUFVKzdCLGtCQUFvQixTQUFVeEYsR0FDL0NuMkIsS0FBS3E3QixnQkFBa0JsRixHQVEzQmdGLEVBQVd2N0IsVUFBVWc4QixZQUFjLFNBQVV4a0IsR0FDekNwWCxLQUFLczdCLFVBQVlsa0IsR0FRckIrakIsRUFBV3Y3QixVQUFVaThCLFNBQVcsU0FBVXRkLEdBQ3RDdmUsS0FBS3U3QixPQUFTaGQsRUFDZHZlLEtBQUt3N0IsYUFBYyxRQUFPamQsSUFNOUI0YyxFQUFXdjdCLFVBQVV1NUIsa0JBQW9CLFNBQVV4eUIsSUFDL0MsV0FNSncwQixFQUFXdjdCLFVBQVV3NUIsS0FBTyxZQUN4QixXQU1KK0IsRUFBV3Y3QixVQUFVeTVCLG9CQUFzQixTQUFVMXlCLElBQ2pELFdBRUd3MEIsRUFqT29CLEksNENDOEwvQixRQTFMNEIsV0FJeEIsU0FBU1csRUFBTzM2QixHQUNaLElBQUlDLEVBQVVELEdBQWUsR0FLN0JuQixLQUFLaTdCLFlBQTJCOTNCLElBQWxCL0IsRUFBUThILE1BQXNCOUgsRUFBUThILE1BQVEsS0FLNURsSixLQUFLKzdCLFNBQVczNkIsRUFBUW00QixRQUt4QnY1QixLQUFLZzhCLGVBQWlDNzRCLElBQXJCL0IsRUFBUXM0QixTQUF5QnQ0QixFQUFRczRCLFNBQVcsS0FLckUxNUIsS0FBS2k4QixnQkFBa0I3NkIsRUFBUXU0QixlQUsvQjM1QixLQUFLazhCLFVBQVk5NkIsRUFBUW80QixTQUt6Qng1QixLQUFLbThCLFlBQWMvNkIsRUFBUXE0QixXQUszQno1QixLQUFLbzhCLE9BQVNoN0IsRUFBUXFMLE1BZ0oxQixPQXpJQXF2QixFQUFPbDhCLFVBQVVzVSxNQUFRLFdBQ3JCLElBQUloTCxFQUFRbEosS0FBSzY1QixXQUNqQixPQUFPLElBQUlpQyxFQUFPLENBQ2Q1eUIsTUFBT3hKLE1BQU1rSCxRQUFRc0MsR0FBU0EsRUFBTXVCLFFBQVV2QixRQUFTL0YsRUFDdkRvMkIsUUFBU3Y1QixLQUFLaTZCLGFBQ2RQLFNBQVUxNUIsS0FBSzg1QixjQUFnQjk1QixLQUFLODVCLGNBQWNydkIsYUFBVXRILEVBQzVEdzJCLGVBQWdCMzVCLEtBQUsrNUIsb0JBQ3JCUCxTQUFVeDVCLEtBQUtnNkIsY0FDZlAsV0FBWXo1QixLQUFLazZCLGdCQUNqQnp0QixNQUFPek0sS0FBSzRXLGNBUXBCa2xCLEVBQU9sOEIsVUFBVWk2QixTQUFXLFdBQ3hCLE9BQU83NUIsS0FBS2k3QixRQU9oQmEsRUFBT2w4QixVQUFVcTZCLFdBQWEsV0FDMUIsT0FBT2o2QixLQUFLKzdCLFVBT2hCRCxFQUFPbDhCLFVBQVVrNkIsWUFBYyxXQUMzQixPQUFPOTVCLEtBQUtnOEIsV0FPaEJGLEVBQU9sOEIsVUFBVW02QixrQkFBb0IsV0FDakMsT0FBTy81QixLQUFLaThCLGlCQU9oQkgsRUFBT2w4QixVQUFVbzZCLFlBQWMsV0FDM0IsT0FBT2g2QixLQUFLazhCLFdBT2hCSixFQUFPbDhCLFVBQVVzNkIsY0FBZ0IsV0FDN0IsT0FBT2w2QixLQUFLbThCLGFBT2hCTCxFQUFPbDhCLFVBQVVnWCxTQUFXLFdBQ3hCLE9BQU81VyxLQUFLbzhCLFFBUWhCTixFQUFPbDhCLFVBQVVzN0IsU0FBVyxTQUFVaHlCLEdBQ2xDbEosS0FBS2k3QixPQUFTL3hCLEdBUWxCNHlCLEVBQU9sOEIsVUFBVXk4QixXQUFhLFNBQVU5QyxHQUNwQ3Y1QixLQUFLKzdCLFNBQVd4QyxHQWNwQnVDLEVBQU9sOEIsVUFBVSs2QixZQUFjLFNBQVVqQixHQUNyQzE1QixLQUFLZzhCLFVBQVl0QyxHQVFyQm9DLEVBQU9sOEIsVUFBVTA4QixrQkFBb0IsU0FBVTNDLEdBQzNDMzVCLEtBQUtpOEIsZ0JBQWtCdEMsR0FRM0JtQyxFQUFPbDhCLFVBQVUyOEIsWUFBYyxTQUFVL0MsR0FDckN4NUIsS0FBS2s4QixVQUFZMUMsR0FRckJzQyxFQUFPbDhCLFVBQVU0OEIsY0FBZ0IsU0FBVS9DLEdBQ3ZDejVCLEtBQUttOEIsWUFBYzFDLEdBUXZCcUMsRUFBT2w4QixVQUFVNjhCLFNBQVcsU0FBVWh3QixHQUNsQ3pNLEtBQUtvOEIsT0FBUzN2QixHQUVYcXZCLEVBeExnQixJLDhIQ21IdkJZLEVBQXVCLFdBSXZCLFNBQVNBLEVBQU12N0IsR0FDWCxJQUFJQyxFQUFVRCxHQUFlLEdBSzdCbkIsS0FBSzI4QixVQUFZLEtBS2pCMzhCLEtBQUs0OEIsa0JBQW9CQyxPQUNBMTVCLElBQXJCL0IsRUFBUTA3QixVQUNSOThCLEtBQUsrOEIsWUFBWTM3QixFQUFRMDdCLFVBTTdCOThCLEtBQUt1MkIsV0FBeUJwekIsSUFBakIvQixFQUFRbzFCLEtBQXFCcDFCLEVBQVFvMUIsS0FBTyxLQUt6RHgyQixLQUFLZzlCLFlBQTJCNzVCLElBQWxCL0IsRUFBUTY3QixNQUFzQjc3QixFQUFRNjdCLE1BQVEsS0FLNURqOUIsS0FBS2s5QixlQUFpQy81QixJQUFyQi9CLEVBQVErN0IsU0FBeUIvN0IsRUFBUSs3QixTQUFXLEtBS3JFbjlCLEtBQUtpM0IsYUFBNkI5ekIsSUFBbkIvQixFQUFRODFCLE9BQXVCOTFCLEVBQVE4MUIsT0FBUyxLQUsvRGwzQixLQUFLbzlCLFdBQXlCajZCLElBQWpCL0IsRUFBUXV4QixLQUFxQnZ4QixFQUFRdXhCLEtBQU8sS0FLekQzeUIsS0FBS3E5QixRQUFVajhCLEVBQVFrOEIsT0FzSzNCLE9BL0pBWixFQUFNOThCLFVBQVVzVSxNQUFRLFdBQ3BCLElBQUk0b0IsRUFBVzk4QixLQUFLc25CLGNBSXBCLE9BSEl3VixHQUFnQyxpQkFBYkEsSUFDbkJBLEVBQWdFLEVBQVc1b0IsU0FFeEUsSUFBSXdvQixFQUFNLENBQ2JJLFNBQVVBLEVBQ1Z0RyxLQUFNeDJCLEtBQUt5M0IsVUFBWXozQixLQUFLeTNCLFVBQVV2akIsYUFBVS9RLEVBQ2hEODVCLE1BQU9qOUIsS0FBS3k0QixXQUFhejRCLEtBQUt5NEIsV0FBV3ZrQixhQUFVL1EsRUFDbkQrekIsT0FBUWwzQixLQUFLODNCLFlBQWM5M0IsS0FBSzgzQixZQUFZNWpCLGFBQVUvUSxFQUN0RHd2QixLQUFNM3lCLEtBQUt1OUIsVUFBWXY5QixLQUFLdTlCLFVBQVVycEIsYUFBVS9RLEVBQ2hEbTZCLE9BQVF0OUIsS0FBS3c5QixlQVNyQmQsRUFBTTk4QixVQUFVNjlCLFlBQWMsV0FDMUIsT0FBT3o5QixLQUFLazlCLFdBUWhCUixFQUFNOThCLFVBQVU4OUIsWUFBYyxTQUFVUCxHQUNwQ245QixLQUFLazlCLFVBQVlDLEdBU3JCVCxFQUFNOThCLFVBQVUwbkIsWUFBYyxXQUMxQixPQUFPdG5CLEtBQUsyOEIsV0FRaEJELEVBQU05OEIsVUFBVSs5QixvQkFBc0IsV0FDbEMsT0FBTzM5QixLQUFLNDhCLG1CQU9oQkYsRUFBTTk4QixVQUFVNjNCLFFBQVUsV0FDdEIsT0FBT3ozQixLQUFLdTJCLE9BT2hCbUcsRUFBTTk4QixVQUFVZytCLFFBQVUsU0FBVXBILEdBQ2hDeDJCLEtBQUt1MkIsTUFBUUMsR0FPakJrRyxFQUFNOThCLFVBQVU2NEIsU0FBVyxXQUN2QixPQUFPejRCLEtBQUtnOUIsUUFPaEJOLEVBQU05OEIsVUFBVWkrQixTQUFXLFNBQVVaLEdBQ2pDajlCLEtBQUtnOUIsT0FBU0MsR0FPbEJQLEVBQU05OEIsVUFBVWs0QixVQUFZLFdBQ3hCLE9BQU85M0IsS0FBS2kzQixTQU9oQnlGLEVBQU05OEIsVUFBVWsrQixVQUFZLFNBQVU1RyxHQUNsQ2wzQixLQUFLaTNCLFFBQVVDLEdBT25Cd0YsRUFBTTk4QixVQUFVMjlCLFFBQVUsV0FDdEIsT0FBT3Y5QixLQUFLbzlCLE9BT2hCVixFQUFNOThCLFVBQVVtK0IsUUFBVSxTQUFVcEwsR0FDaEMzeUIsS0FBS285QixNQUFRekssR0FPakIrSixFQUFNOThCLFVBQVU0OUIsVUFBWSxXQUN4QixPQUFPeDlCLEtBQUtxOUIsU0FVaEJYLEVBQU05OEIsVUFBVW05QixZQUFjLFNBQVVELEdBQ1osbUJBQWJBLEVBQ1A5OEIsS0FBSzQ4QixrQkFBb0JFLEVBRUEsaUJBQWJBLEVBQ1o5OEIsS0FBSzQ4QixrQkFBb0IsU0FBVXZWLEdBQy9CLE9BQTZEQSxFQUFRN2tCLElBQUlzNkIsSUFHdkVBLE9BR1kzNUIsSUFBYjI1QixJQUNMOThCLEtBQUs0OEIsa0JBQW9CLFdBQ3JCLE9BQTRELElBSmhFNThCLEtBQUs0OEIsa0JBQW9CQyxFQU83Qjc4QixLQUFLMjhCLFVBQVlHLEdBUXJCSixFQUFNOThCLFVBQVVvK0IsVUFBWSxTQUFVVixHQUNsQ3Q5QixLQUFLcTlCLFFBQVVDLEdBRVpaLEVBdE5lLEdBZ09uQixTQUFTdUIsRUFBVzMyQixHQUN2QixJQUFJNDJCLEVBUUlDLEVBUFcsbUJBQVI3MkIsRUFDUDQyQixFQUFnQjUyQixHQU9aNUgsTUFBTWtILFFBQVFVLEdBQ2Q2MkIsRUFBVzcyQixJQUdYLE9BQXFELG1CQUFyQixFQUFlLFVBQWtCLElBRWpFNjJCLEVBQVcsQ0FEc0IsSUFHckNELEVBQWdCLFdBQ1osT0FBT0MsSUFHZixPQUFPRCxFQUtYLElBQUlFLEVBQWdCLEtBTWIsU0FBU0MsRUFBbUJoWCxFQUFTbFEsR0FNeEMsSUFBS2luQixFQUFlLENBQ2hCLElBQUk1SCxFQUFPLElBQUksSUFBSyxDQUNoQnR0QixNQUFPLDBCQUVQZ3VCLEVBQVMsSUFBSSxJQUFPLENBQ3BCaHVCLE1BQU8sVUFDUHVELE1BQU8sT0FFWDJ4QixFQUFnQixDQUNaLElBQUkxQixFQUFNLENBQ05PLE1BQU8sSUFBSSxJQUFZLENBQ25CekcsS0FBTUEsRUFDTlUsT0FBUUEsRUFDUnhKLE9BQVEsSUFFWjhJLEtBQU1BLEVBQ05VLE9BQVFBLEtBSXBCLE9BQU9rSCxFQU1KLFNBQVNFLElBRVosSUFBSXRZLEVBQVMsR0FDVHVZLEVBQVEsQ0FBQyxJQUFLLElBQUssSUFBSyxHQUN4QkMsRUFBTyxDQUFDLEVBQUcsSUFBSyxJQUFLLEdBMkN6QixPQXpDQXhZLEVBQU8sYUFBd0IsQ0FDM0IsSUFBSTBXLEVBQU0sQ0FDTmxHLEtBQU0sSUFBSSxJQUFLLENBQ1h0dEIsTUFBTyxDQUFDLElBQUssSUFBSyxJQUFLLFNBSW5DOGMsRUFBTyxtQkFBOEJBLEVBQU8sYUFDNUNBLEVBQU8saUJBQTRCLENBQy9CLElBQUkwVyxFQUFNLENBQ054RixPQUFRLElBQUksSUFBTyxDQUNmaHVCLE1BQU9xMUIsRUFDUDl4QixNQUFPQSxNQUdmLElBQUlpd0IsRUFBTSxDQUNOeEYsT0FBUSxJQUFJLElBQU8sQ0FDZmh1QixNQUFPczFCLEVBQ1AveEIsTUFuQkEsT0F1Qlp1WixFQUFPLHVCQUFrQ0EsRUFBTyxpQkFDaERBLEVBQU8sWUFBdUJBLEVBQU8sYUFBc0J5WSxPQUFPelksRUFBTyxrQkFDekVBLEVBQU8sV0FBc0IsQ0FDekIsSUFBSTBXLEVBQU0sQ0FDTk8sTUFBTyxJQUFJLElBQVksQ0FDbkJ2UCxPQUFRamhCLEVBQ1IrcEIsS0FBTSxJQUFJLElBQUssQ0FDWHR0QixNQUFPczFCLElBRVh0SCxPQUFRLElBQUksSUFBTyxDQUNmaHVCLE1BQU9xMUIsRUFDUDl4QixNQUFPQSxRQUdmNndCLE9BQVF4cEIsT0FHaEJrUyxFQUFPLGlCQUE0QkEsRUFBTyxXQUMxQ0EsRUFBTyx5QkFBb0NBLEVBQU8sYUFBc0J5WSxPQUFPelksRUFBTyxpQkFBMkJBLEVBQU8sWUFDakhBLEVBT1gsU0FBUzZXLEVBQXdCeFYsR0FDN0IsT0FBT0EsRUFBUUMsY0FFbkIsVyw2Q0M1ZEEsU0FDSTNMLE1BQU8sUUFDUCtpQixLQUFNLFMsa0hDa0JILFNBQVN4K0IsSUFDWixNQUFPLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBZ0VwQixTQUFTeStCLEVBQWFDLEVBQVlDLEdBT3JDLE9BTkFELEVBQVcsR0FBS0MsRUFBVyxHQUMzQkQsRUFBVyxHQUFLQyxFQUFXLEdBQzNCRCxFQUFXLEdBQUtDLEVBQVcsR0FDM0JELEVBQVcsR0FBS0MsRUFBVyxHQUMzQkQsRUFBVyxHQUFLQyxFQUFXLEdBQzNCRCxFQUFXLEdBQUtDLEVBQVcsR0FDcEJELEVBV0osU0FBUzN2QixFQUFNNlAsRUFBV3JLLEdBQzdCLElBQUlMLEVBQUlLLEVBQVcsR0FDZkosRUFBSUksRUFBVyxHQUduQixPQUZBQSxFQUFXLEdBQUtxSyxFQUFVLEdBQUsxSyxFQUFJMEssRUFBVSxHQUFLekssRUFBSXlLLEVBQVUsR0FDaEVySyxFQUFXLEdBQUtxSyxFQUFVLEdBQUsxSyxFQUFJMEssRUFBVSxHQUFLekssRUFBSXlLLEVBQVUsR0FDekRySyxFQThCSixTQUFTcXFCLEVBQVVyM0IsRUFBUTJNLEVBQUdDLEdBQ2pDLE9BckUyQmpOLEVBcUVSZ04sRUFyRVc5VSxFQXFFUixFQXJFV3kvQixFQXFFUixFQXJFVzEvQixFQXFFUmdWLEVBckVXMnFCLEVBcUVSLEVBckVXNThCLEVBcUVSLEdBckVsQjBjLEVBcUVMclgsR0FwRUQsR0FBS0wsRUFDZjBYLEVBQVUsR0FBS3hmLEVBQ2Z3ZixFQUFVLEdBQUtpZ0IsRUFDZmpnQixFQUFVLEdBQUt6ZixFQUNmeWYsRUFBVSxHQUFLa2dCLEVBQ2ZsZ0IsRUFBVSxHQUFLMWMsRUFDUjBjLEVBUEosSUFBYUEsRUFBVzFYLEVBQUc5SCxFQUFHeS9CLEVBQUcxL0IsRUFBRzIvQixFQUFHNThCLEVBOEZ2QyxTQUFTNjhCLEVBQVFuZ0IsRUFBV29nQixFQUFLQyxFQUFLM2dCLEVBQUlnQyxFQUFJbkMsRUFBTytnQixFQUFLQyxHQUM3RCxJQUFJN25CLEVBQU1qSixLQUFLaUosSUFBSTZHLEdBQ2YvRyxFQUFNL0ksS0FBSytJLElBQUkrRyxHQU9uQixPQU5BUyxFQUFVLEdBQUtOLEVBQUtsSCxFQUNwQndILEVBQVUsR0FBSzBCLEVBQUtoSixFQUNwQnNILEVBQVUsSUFBTU4sRUFBS2hILEVBQ3JCc0gsRUFBVSxHQUFLMEIsRUFBS2xKLEVBQ3BCd0gsRUFBVSxHQUFLc2dCLEVBQU01Z0IsRUFBS2xILEVBQU0rbkIsRUFBTTdnQixFQUFLaEgsRUFBTTBuQixFQUNqRHBnQixFQUFVLEdBQUtzZ0IsRUFBTTVlLEVBQUtoSixFQUFNNm5CLEVBQU03ZSxFQUFLbEosRUFBTTZuQixFQUMxQ3JnQixFQWtDSixTQUFTd2dCLEVBQVk3M0IsRUFBUXZCLEdBQ2hDLElBcUJ3QnNqQixFQXJCcEIrVixHQXFCb0IvVixFQXJCRnRqQixHQXNCWCxHQUFLc2pCLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLElBckJ0QyxPQUFlLElBQVIrVixFQUFXLElBQ2xCLElBQUluNEIsRUFBSWxCLEVBQU8sR0FDWDVHLEVBQUk0RyxFQUFPLEdBQ1g2NEIsRUFBSTc0QixFQUFPLEdBQ1g3RyxFQUFJNkcsRUFBTyxHQUNYODRCLEVBQUk5NEIsRUFBTyxHQUNYOUQsRUFBSThELEVBQU8sR0FPZixPQU5BdUIsRUFBTyxHQUFLcEksRUFBSWtnQyxFQUNoQjkzQixFQUFPLElBQU1uSSxFQUFJaWdDLEVBQ2pCOTNCLEVBQU8sSUFBTXMzQixFQUFJUSxFQUNqQjkzQixFQUFPLEdBQUtMLEVBQUltNEIsRUFDaEI5M0IsRUFBTyxJQUFNczNCLEVBQUkzOEIsRUFBSS9DLEVBQUkyL0IsR0FBS08sRUFDOUI5M0IsRUFBTyxLQUFPTCxFQUFJaEYsRUFBSTlDLEVBQUkwL0IsR0FBS08sRUFDeEI5M0IsRUFnQkosU0FBUzBCLEVBQVNxZ0IsR0FDckIsTUFBTyxVQUFZQSxFQUFJamUsS0FBSyxNQUFRLElBaE83QixJQUFJN0wsTUFBTSxJLDRCQ25CZCxTQUFTOC9CLElBQ1osT0FBeUIsV0FDckIsTUFBTSxJQUFJLytCLE1BQU0sa0NBREksRyxvQ0FTNUIsSUFBSWcvQixFQUFjLEVBVVgsU0FBU0MsRUFBT3A0QixHQUNuQixPQUFPQSxFQUFJcTRCLFNBQVdyNEIsRUFBSXE0QixPQUFTQyxTQUFTSCxJQU16QyxJQUFJSSxFQUFVLFMsaUJDakMrQ0MsRUFBT0MsUUFBd0YsV0FBVyxhQUFhLFNBQVN6eEIsRUFBRUEsRUFBRTlFLEVBQUV3MUIsRUFBRTUzQixFQUFFK3RCLElBQUksU0FBUzdtQixFQUFFeEwsRUFBRTBHLEVBQUV3MUIsRUFBRTUzQixFQUFFK3RCLEdBQUcsS0FBSy90QixFQUFFNDNCLEdBQUcsQ0FBQyxHQUFHNTNCLEVBQUU0M0IsRUFBRSxJQUFJLENBQUMsSUFBSWdCLEVBQUU1NEIsRUFBRTQzQixFQUFFLEVBQUV6MUIsRUFBRUMsRUFBRXcxQixFQUFFLEVBQUV0bEIsRUFBRW5MLEtBQUs2YSxJQUFJNFcsR0FBRzU5QixFQUFFLEdBQUdtTSxLQUFLMmEsSUFBSSxFQUFFeFAsRUFBRSxHQUFHdW1CLEVBQUUsR0FBRzF4QixLQUFLeWYsS0FBS3RVLEVBQUV0WCxHQUFHNDlCLEVBQUU1OUIsR0FBRzQ5QixJQUFJejJCLEVBQUV5MkIsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUErRTF4QixFQUFFeEwsRUFBRTBHLEVBQTlFK0UsS0FBSzBILElBQUkrb0IsRUFBRXp3QixLQUFLMkwsTUFBTTFRLEVBQUVELEVBQUVuSCxFQUFFNDlCLEVBQUVDLElBQU0xeEIsS0FBS3lILElBQUk1TyxFQUFFbUgsS0FBSzJMLE1BQU0xUSxHQUFHdzJCLEVBQUV6MkIsR0FBR25ILEVBQUU0OUIsRUFBRUMsSUFBYzlLLEdBQUcsSUFBSXgxQixFQUFFbUQsRUFBRTBHLEdBQUduSyxFQUFFMi9CLEVBQUU1cUIsRUFBRWhOLEVBQUUsSUFBSTVGLEVBQUVzQixFQUFFazhCLEVBQUV4MUIsR0FBRzJyQixFQUFFcnlCLEVBQUVzRSxHQUFHekgsR0FBRyxHQUFHNkIsRUFBRXNCLEVBQUVrOEIsRUFBRTUzQixHQUFHL0gsRUFBRStVLEdBQUcsQ0FBQyxJQUFJNVMsRUFBRXNCLEVBQUV6RCxFQUFFK1UsR0FBRy9VLElBQUkrVSxJQUFJK2dCLEVBQUVyeUIsRUFBRXpELEdBQUdNLEdBQUcsR0FBR04sSUFBSSxLQUFLODFCLEVBQUVyeUIsRUFBRXNSLEdBQUd6VSxHQUFHLEdBQUd5VSxJQUFJLElBQUkrZ0IsRUFBRXJ5QixFQUFFazhCLEdBQUdyL0IsR0FBRzZCLEVBQUVzQixFQUFFazhCLEVBQUU1cUIsR0FBRzVTLEVBQUVzQixJQUFJc1IsRUFBRWhOLEdBQUdnTixHQUFHNUssSUFBSXcxQixFQUFFNXFCLEVBQUUsR0FBRzVLLEdBQUc0SyxJQUFJaE4sRUFBRWdOLEVBQUUsSUFBM1osQ0FBZ2E5RixFQUFFOUUsRUFBRXcxQixHQUFHLEVBQUU1M0IsR0FBR2tILEVBQUU1TSxPQUFPLEVBQUV5ekIsR0FBR3J5QixHQUFHLFNBQVN0QixFQUFFOE0sRUFBRTlNLEVBQUVzQixHQUFHLElBQUkwRyxFQUFFOEUsRUFBRTlNLEdBQUc4TSxFQUFFOU0sR0FBRzhNLEVBQUV4TCxHQUFHd0wsRUFBRXhMLEdBQUcwRyxFQUFFLFNBQVMxRyxFQUFFd0wsRUFBRTlNLEdBQUcsT0FBTzhNLEVBQUU5TSxHQUFHLEVBQUU4TSxFQUFFOU0sRUFBRSxFQUFFLEVBQUUsSUFBSWdJLEVBQUUsU0FBUzhFLFFBQUcsSUFBU0EsSUFBSUEsRUFBRSxHQUFHdE8sS0FBS2tnQyxZQUFZM3hCLEtBQUswSCxJQUFJLEVBQUUzSCxHQUFHdE8sS0FBS21nQyxZQUFZNXhCLEtBQUswSCxJQUFJLEVBQUUxSCxLQUFLNnhCLEtBQUssR0FBR3BnQyxLQUFLa2dDLGNBQWNsZ0MsS0FBSzZCLFNBQVMsU0FBU205QixFQUFFMXdCLEVBQUU5TSxFQUFFc0IsR0FBRyxJQUFJQSxFQUFFLE9BQU90QixFQUFFK0YsUUFBUStHLEdBQUcsSUFBSSxJQUFJOUUsRUFBRSxFQUFFQSxFQUFFaEksRUFBRUUsT0FBTzhILElBQUksR0FBRzFHLEVBQUV3TCxFQUFFOU0sRUFBRWdJLElBQUksT0FBT0EsRUFBRSxPQUFPLEVBQUUsU0FBU3BDLEVBQUVrSCxFQUFFOU0sR0FBRzJ6QixFQUFFN21CLEVBQUUsRUFBRUEsRUFBRVAsU0FBU3JNLE9BQU9GLEVBQUU4TSxHQUFHLFNBQVM2bUIsRUFBRTdtQixFQUFFOU0sRUFBRXNCLEVBQUUwRyxFQUFFdzFCLEdBQUdBLElBQUlBLEVBQUVyL0IsRUFBRSxPQUFPcS9CLEVBQUVqcUIsS0FBSyxJQUFJaXFCLEVBQUVocUIsS0FBSyxJQUFJZ3FCLEVBQUUvcEIsTUFBSyxJQUFLK3BCLEVBQUU5cEIsTUFBSyxJQUFLLElBQUksSUFBSTlOLEVBQUU1RixFQUFFNEYsRUFBRXRFLEVBQUVzRSxJQUFJLENBQUMsSUFBSSt0QixFQUFFN21CLEVBQUVQLFNBQVMzRyxHQUFHNDRCLEVBQUVoQixFQUFFMXdCLEVBQUUreEIsS0FBSzcyQixFQUFFMnJCLEdBQUdBLEdBQUcsT0FBTzZKLEVBQUUsU0FBU2dCLEVBQUUxeEIsRUFBRTlNLEdBQUcsT0FBTzhNLEVBQUV5RyxLQUFLeEcsS0FBS3lILElBQUkxSCxFQUFFeUcsS0FBS3ZULEVBQUV1VCxNQUFNekcsRUFBRTBHLEtBQUt6RyxLQUFLeUgsSUFBSTFILEVBQUUwRyxLQUFLeFQsRUFBRXdULE1BQU0xRyxFQUFFMkcsS0FBSzFHLEtBQUswSCxJQUFJM0gsRUFBRTJHLEtBQUt6VCxFQUFFeVQsTUFBTTNHLEVBQUU0RyxLQUFLM0csS0FBSzBILElBQUkzSCxFQUFFNEcsS0FBSzFULEVBQUUwVCxNQUFNNUcsRUFBRSxTQUFTL0UsRUFBRStFLEVBQUU5TSxHQUFHLE9BQU84TSxFQUFFeUcsS0FBS3ZULEVBQUV1VCxLQUFLLFNBQVMyRSxFQUFFcEwsRUFBRTlNLEdBQUcsT0FBTzhNLEVBQUUwRyxLQUFLeFQsRUFBRXdULEtBQUssU0FBUzVTLEVBQUVrTSxHQUFHLE9BQU9BLEVBQUUyRyxLQUFLM0csRUFBRXlHLE9BQU96RyxFQUFFNEcsS0FBSzVHLEVBQUUwRyxNQUFNLFNBQVNpckIsRUFBRTN4QixHQUFHLE9BQU9BLEVBQUUyRyxLQUFLM0csRUFBRXlHLE1BQU16RyxFQUFFNEcsS0FBSzVHLEVBQUUwRyxNQUFNLFNBQVM4VSxFQUFFeGIsRUFBRTlNLEdBQUcsT0FBTzhNLEVBQUV5RyxNQUFNdlQsRUFBRXVULE1BQU16RyxFQUFFMEcsTUFBTXhULEVBQUV3VCxNQUFNeFQsRUFBRXlULE1BQU0zRyxFQUFFMkcsTUFBTXpULEVBQUUwVCxNQUFNNUcsRUFBRTRHLEtBQUssU0FBUzZwQixFQUFFendCLEVBQUU5TSxHQUFHLE9BQU9BLEVBQUV1VCxNQUFNekcsRUFBRTJHLE1BQU16VCxFQUFFd1QsTUFBTTFHLEVBQUU0RyxNQUFNMVQsRUFBRXlULE1BQU0zRyxFQUFFeUcsTUFBTXZULEVBQUUwVCxNQUFNNUcsRUFBRTBHLEtBQUssU0FBU3JWLEVBQUUyTyxHQUFHLE1BQU0sQ0FBQ1AsU0FBU08sRUFBRTVCLE9BQU8sRUFBRTJ6QixNQUFLLEVBQUd0ckIsS0FBSyxJQUFJQyxLQUFLLElBQUlDLE1BQUssSUFBS0MsTUFBSyxLQUFNLFNBQVM3VixFQUFFbUMsRUFBRXNCLEVBQUUwRyxFQUFFdzFCLEVBQUU1M0IsR0FBRyxJQUFJLElBQUkrdEIsRUFBRSxDQUFDcnlCLEVBQUUwRyxHQUFHMnJCLEVBQUV6ekIsUUFBUSxNQUFNOEgsRUFBRTJyQixFQUFFcHpCLFFBQVFlLEVBQUVxeUIsRUFBRXB6QixRQUFRaTlCLEdBQUcsQ0FBQyxJQUFJZ0IsRUFBRWw5QixFQUFFeUwsS0FBSzZ4QixNQUFNNTJCLEVBQUUxRyxHQUFHazhCLEVBQUUsR0FBR0EsRUFBRTF3QixFQUFFOU0sRUFBRXcrQixFQUFFbDlCLEVBQUUwRyxFQUFFcEMsR0FBRyt0QixFQUFFanpCLEtBQUtZLEVBQUVrOUIsRUFBRUEsRUFBRXgyQixJQUFJLE9BQU9BLEVBQUU1SixVQUFVK1IsSUFBSSxXQUFXLE9BQU8zUixLQUFLc2dDLEtBQUt0Z0MsS0FBSytILEtBQUssS0FBS3lCLEVBQUU1SixVQUFVMmdDLE9BQU8sU0FBU2p5QixHQUFHLElBQUk5TSxFQUFFeEIsS0FBSytILEtBQUtqRixFQUFFLEdBQUcsSUFBSWk4QixFQUFFendCLEVBQUU5TSxHQUFHLE9BQU9zQixFQUFFLElBQUksSUFBSTBHLEVBQUV4SixLQUFLd2dDLE9BQU94QixFQUFFLEdBQUd4OUIsR0FBRyxDQUFDLElBQUksSUFBSTRGLEVBQUUsRUFBRUEsRUFBRTVGLEVBQUV1TSxTQUFTck0sT0FBTzBGLElBQUksQ0FBQyxJQUFJK3RCLEVBQUUzekIsRUFBRXVNLFNBQVMzRyxHQUFHNDRCLEVBQUV4K0IsRUFBRTYrQixLQUFLNzJCLEVBQUUyckIsR0FBR0EsRUFBRTRKLEVBQUV6d0IsRUFBRTB4QixLQUFLeCtCLEVBQUU2K0IsS0FBS3Y5QixFQUFFWixLQUFLaXpCLEdBQUdyTCxFQUFFeGIsRUFBRTB4QixHQUFHaGdDLEtBQUtzZ0MsS0FBS25MLEVBQUVyeUIsR0FBR2s4QixFQUFFOThCLEtBQUtpekIsSUFBSTN6QixFQUFFdzlCLEVBQUVqOUIsTUFBTSxPQUFPZSxHQUFHMEcsRUFBRTVKLFVBQVU2Z0MsU0FBUyxTQUFTbnlCLEdBQUcsSUFBSTlNLEVBQUV4QixLQUFLK0gsS0FBSyxJQUFJZzNCLEVBQUV6d0IsRUFBRTlNLEdBQUcsT0FBTSxFQUFHLElBQUksSUFBSXNCLEVBQUUsR0FBR3RCLEdBQUcsQ0FBQyxJQUFJLElBQUlnSSxFQUFFLEVBQUVBLEVBQUVoSSxFQUFFdU0sU0FBU3JNLE9BQU84SCxJQUFJLENBQUMsSUFBSXcxQixFQUFFeDlCLEVBQUV1TSxTQUFTdkUsR0FBR3BDLEVBQUU1RixFQUFFNitCLEtBQUtyZ0MsS0FBS3dnQyxPQUFPeEIsR0FBR0EsRUFBRSxHQUFHRCxFQUFFendCLEVBQUVsSCxHQUFHLENBQUMsR0FBRzVGLEVBQUU2K0IsTUFBTXZXLEVBQUV4YixFQUFFbEgsR0FBRyxPQUFNLEVBQUd0RSxFQUFFWixLQUFLODhCLElBQUl4OUIsRUFBRXNCLEVBQUVmLE1BQU0sT0FBTSxHQUFJeUgsRUFBRTVKLFVBQVV3NUIsS0FBSyxTQUFTOXFCLEdBQUcsSUFBSUEsSUFBSUEsRUFBRTVNLE9BQU8sT0FBTzFCLEtBQUssR0FBR3NPLEVBQUU1TSxPQUFPMUIsS0FBS21nQyxZQUFZLENBQUMsSUFBSSxJQUFJMytCLEVBQUUsRUFBRUEsRUFBRThNLEVBQUU1TSxPQUFPRixJQUFJeEIsS0FBSzBnQyxPQUFPcHlCLEVBQUU5TSxJQUFJLE9BQU94QixLQUFLLElBQUk4QyxFQUFFOUMsS0FBSzJnQyxPQUFPcnlCLEVBQUU3RCxRQUFRLEVBQUU2RCxFQUFFNU0sT0FBTyxFQUFFLEdBQUcsR0FBRzFCLEtBQUsrSCxLQUFLZ0csU0FBU3JNLE9BQU8sR0FBRzFCLEtBQUsrSCxLQUFLMkUsU0FBUzVKLEVBQUU0SixPQUFPMU0sS0FBSzRnQyxXQUFXNWdDLEtBQUsrSCxLQUFLakYsT0FBTyxDQUFDLEdBQUc5QyxLQUFLK0gsS0FBSzJFLE9BQU81SixFQUFFNEosT0FBTyxDQUFDLElBQUlsRCxFQUFFeEosS0FBSytILEtBQUsvSCxLQUFLK0gsS0FBS2pGLEVBQUVBLEVBQUUwRyxFQUFFeEosS0FBSzZnQyxRQUFRLzlCLEVBQUU5QyxLQUFLK0gsS0FBSzJFLE9BQU81SixFQUFFNEosT0FBTyxHQUFFLFFBQVMxTSxLQUFLK0gsS0FBS2pGLEVBQUUsT0FBTzlDLE1BQU13SixFQUFFNUosVUFBVThnQyxPQUFPLFNBQVNweUIsR0FBRyxPQUFPQSxHQUFHdE8sS0FBSzZnQyxRQUFRdnlCLEVBQUV0TyxLQUFLK0gsS0FBSzJFLE9BQU8sR0FBRzFNLE1BQU13SixFQUFFNUosVUFBVWlDLE1BQU0sV0FBVyxPQUFPN0IsS0FBSytILEtBQUtwSSxFQUFFLElBQUlLLE1BQU13SixFQUFFNUosVUFBVW1ELE9BQU8sU0FBU3VMLEVBQUU5TSxHQUFHLElBQUk4TSxFQUFFLE9BQU90TyxLQUFLLElBQUksSUFBSThDLEVBQUUwRyxFQUFFcEMsRUFBRSt0QixFQUFFbjFCLEtBQUsrSCxLQUFLaTRCLEVBQUVoZ0MsS0FBS3dnQyxPQUFPbHlCLEdBQUcvRSxFQUFFLEdBQUdtUSxFQUFFLEdBQUd5YixHQUFHNXJCLEVBQUU3SCxRQUFRLENBQUMsR0FBR3l6QixJQUFJQSxFQUFFNXJCLEVBQUV4SCxNQUFNeUgsRUFBRUQsRUFBRUEsRUFBRTdILE9BQU8sR0FBR29CLEVBQUU0VyxFQUFFM1gsTUFBTXFGLEdBQUUsR0FBSSt0QixFQUFFa0wsS0FBSyxDQUFDLElBQUlqK0IsRUFBRTQ4QixFQUFFMXdCLEVBQUU2bUIsRUFBRXBuQixTQUFTdk0sR0FBRyxJQUFJLElBQUlZLEVBQUUsT0FBTyt5QixFQUFFcG5CLFNBQVNwTCxPQUFPUCxFQUFFLEdBQUdtSCxFQUFFckgsS0FBS2l6QixHQUFHbjFCLEtBQUs4Z0MsVUFBVXYzQixHQUFHdkosS0FBS29ILEdBQUcrdEIsRUFBRWtMLE9BQU92VyxFQUFFcUwsRUFBRTZLLEdBQUd4MkIsR0FBRzFHLElBQUlxeUIsRUFBRTNyQixFQUFFdUUsU0FBU2pMLEdBQUdzRSxHQUFFLEdBQUkrdEIsRUFBRSxNQUFNNXJCLEVBQUVySCxLQUFLaXpCLEdBQUd6YixFQUFFeFgsS0FBS1ksR0FBR0EsRUFBRSxFQUFFMEcsRUFBRTJyQixFQUFFQSxFQUFFQSxFQUFFcG5CLFNBQVMsSUFBSSxPQUFPL04sTUFBTXdKLEVBQUU1SixVQUFVNGdDLE9BQU8sU0FBU2x5QixHQUFHLE9BQU9BLEdBQUc5RSxFQUFFNUosVUFBVW1oQyxZQUFZLFNBQVN6eUIsRUFBRTlNLEdBQUcsT0FBTzhNLEVBQUV5RyxLQUFLdlQsRUFBRXVULE1BQU12TCxFQUFFNUosVUFBVW9oQyxZQUFZLFNBQVMxeUIsRUFBRTlNLEdBQUcsT0FBTzhNLEVBQUUwRyxLQUFLeFQsRUFBRXdULE1BQU14TCxFQUFFNUosVUFBVXFoQyxPQUFPLFdBQVcsT0FBT2poQyxLQUFLK0gsTUFBTXlCLEVBQUU1SixVQUFVc2hDLFNBQVMsU0FBUzV5QixHQUFHLE9BQU90TyxLQUFLK0gsS0FBS3VHLEVBQUV0TyxNQUFNd0osRUFBRTVKLFVBQVUwZ0MsS0FBSyxTQUFTaHlCLEVBQUU5TSxHQUFHLElBQUksSUFBSXNCLEVBQUUsR0FBR3dMLEdBQUdBLEVBQUUreEIsS0FBSzcrQixFQUFFVSxLQUFLK00sTUFBTXpOLEVBQUU4TSxFQUFFUCxVQUFVakwsRUFBRVosS0FBSytNLE1BQU1uTSxFQUFFd0wsRUFBRVAsVUFBVU8sRUFBRXhMLEVBQUVmLE1BQU0sT0FBT1AsR0FBR2dJLEVBQUU1SixVQUFVK2dDLE9BQU8sU0FBU3J5QixFQUFFOU0sRUFBRXNCLEVBQUUwRyxHQUFHLElBQUl3MUIsRUFBRTdKLEVBQUVyeUIsRUFBRXRCLEVBQUUsRUFBRXcrQixFQUFFaGdDLEtBQUtrZ0MsWUFBWSxHQUFHL0ssR0FBRzZLLEVBQUUsT0FBTzU0QixFQUFFNDNCLEVBQUVyL0IsRUFBRTJPLEVBQUU3RCxNQUFNakosRUFBRXNCLEVBQUUsSUFBSTlDLEtBQUt3Z0MsUUFBUXhCLEVBQUV4MUIsSUFBSUEsRUFBRStFLEtBQUs2eEIsS0FBSzd4QixLQUFLNmEsSUFBSStMLEdBQUc1bUIsS0FBSzZhLElBQUk0VyxJQUFJQSxFQUFFenhCLEtBQUs2eEIsS0FBS2pMLEVBQUU1bUIsS0FBS0MsSUFBSXd4QixFQUFFeDJCLEVBQUUsTUFBTXcxQixFQUFFci9CLEVBQUUsS0FBSzBnQyxNQUFLLEVBQUdyQixFQUFFdHlCLE9BQU9sRCxFQUFFLElBQUlELEVBQUVnRixLQUFLNnhCLEtBQUtqTCxFQUFFNkssR0FBR3RtQixFQUFFblEsRUFBRWdGLEtBQUs2eEIsS0FBSzd4QixLQUFLeWYsS0FBS2dTLElBQUkzZ0MsRUFBRWlQLEVBQUU5TSxFQUFFc0IsRUFBRTRXLEVBQUUxWixLQUFLK2dDLGFBQWEsSUFBSSxJQUFJMytCLEVBQUVaLEVBQUVZLEdBQUdVLEVBQUVWLEdBQUdzWCxFQUFFLENBQUMsSUFBSXVtQixFQUFFMXhCLEtBQUt5SCxJQUFJNVQsRUFBRXNYLEVBQUUsRUFBRTVXLEdBQUd6RCxFQUFFaVAsRUFBRWxNLEVBQUU2OUIsRUFBRTEyQixFQUFFdkosS0FBS2doQyxhQUFhLElBQUksSUFBSWxYLEVBQUUxbkIsRUFBRTBuQixHQUFHbVcsRUFBRW5XLEdBQUd2Z0IsRUFBRSxDQUFDLElBQUl3MUIsRUFBRXh3QixLQUFLeUgsSUFBSThULEVBQUV2Z0IsRUFBRSxFQUFFMDJCLEdBQUdqQixFQUFFanhCLFNBQVM3TCxLQUFLbEMsS0FBSzJnQyxPQUFPcnlCLEVBQUV3YixFQUFFaVYsRUFBRXYxQixFQUFFLEtBQUssT0FBT3BDLEVBQUU0M0IsRUFBRWgvQixLQUFLd2dDLFFBQVF4QixHQUFHeDFCLEVBQUU1SixVQUFVdWhDLGVBQWUsU0FBUzd5QixFQUFFOU0sRUFBRXNCLEVBQUUwRyxHQUFHLEtBQUtBLEVBQUV0SCxLQUFLVixJQUFJQSxFQUFFNitCLE1BQU03MkIsRUFBRTlILE9BQU8sSUFBSW9CLEdBQUcsQ0FBQyxJQUFJLElBQUlrOEIsRUFBRSxJQUFJNTNCLEVBQUUsSUFBSSt0QixPQUFFLEVBQU82SyxFQUFFLEVBQUVBLEVBQUV4K0IsRUFBRXVNLFNBQVNyTSxPQUFPcytCLElBQUksQ0FBQyxJQUFJejJCLEVBQUUvSCxFQUFFdU0sU0FBU2l5QixHQUFHdG1CLEVBQUV0WCxFQUFFbUgsR0FBRzAyQixHQUFHblcsRUFBRXhiLEVBQUV5d0IsRUFBRXgxQixHQUFHZ0YsS0FBSzBILElBQUk4b0IsRUFBRTlwQixLQUFLNlUsRUFBRTdVLE1BQU0xRyxLQUFLeUgsSUFBSStvQixFQUFFaHFCLEtBQUsrVSxFQUFFL1UsUUFBUXhHLEtBQUswSCxJQUFJOG9CLEVBQUU3cEIsS0FBSzRVLEVBQUU1VSxNQUFNM0csS0FBS3lILElBQUkrb0IsRUFBRS9wQixLQUFLOFUsRUFBRTlVLE9BQU8wRSxHQUFHdW1CLEVBQUU3NEIsR0FBR0EsRUFBRTY0QixFQUFFakIsRUFBRXRsQixFQUFFc2xCLEVBQUV0bEIsRUFBRXNsQixFQUFFN0osRUFBRTVyQixHQUFHMDJCLElBQUk3NEIsR0FBR3NTLEVBQUVzbEIsSUFBSUEsRUFBRXRsQixFQUFFeWIsRUFBRTVyQixHQUFHL0gsRUFBRTJ6QixHQUFHM3pCLEVBQUV1TSxTQUFTLEdBQUcsSUFBSStiLEVBQUVpVixFQUFFLE9BQU92OUIsR0FBR2dJLEVBQUU1SixVQUFVaWhDLFFBQVEsU0FBU3Z5QixFQUFFOU0sRUFBRXNCLEdBQUcsSUFBSTBHLEVBQUUxRyxFQUFFd0wsRUFBRXRPLEtBQUt3Z0MsT0FBT2x5QixHQUFHMHdCLEVBQUUsR0FBRzUzQixFQUFFcEgsS0FBS21oQyxlQUFlMzNCLEVBQUV4SixLQUFLK0gsS0FBS3ZHLEVBQUV3OUIsR0FBRyxJQUFJNTNCLEVBQUUyRyxTQUFTN0wsS0FBS29NLEdBQUcweEIsRUFBRTU0QixFQUFFb0MsR0FBR2hJLEdBQUcsR0FBR3c5QixFQUFFeDlCLEdBQUd1TSxTQUFTck0sT0FBTzFCLEtBQUtrZ0MsYUFBYWxnQyxLQUFLb2hDLE9BQU9wQyxFQUFFeDlCLEdBQUdBLElBQUl4QixLQUFLcWhDLG9CQUFvQjczQixFQUFFdzFCLEVBQUV4OUIsSUFBSWdJLEVBQUU1SixVQUFVd2hDLE9BQU8sU0FBUzl5QixFQUFFOU0sR0FBRyxJQUFJc0IsRUFBRXdMLEVBQUU5TSxHQUFHZ0ksRUFBRTFHLEVBQUVpTCxTQUFTck0sT0FBT3M5QixFQUFFaC9CLEtBQUttZ0MsWUFBWW5nQyxLQUFLc2hDLGlCQUFpQngrQixFQUFFazhCLEVBQUV4MUIsR0FBRyxJQUFJMnJCLEVBQUVuMUIsS0FBS3VoQyxrQkFBa0J6K0IsRUFBRWs4QixFQUFFeDFCLEdBQUd3MkIsRUFBRXJnQyxFQUFFbUQsRUFBRWlMLFNBQVNwTCxPQUFPd3lCLEVBQUVyeUIsRUFBRWlMLFNBQVNyTSxPQUFPeXpCLElBQUk2SyxFQUFFdHpCLE9BQU81SixFQUFFNEosT0FBT3N6QixFQUFFSyxLQUFLdjlCLEVBQUV1OUIsS0FBS2o1QixFQUFFdEUsRUFBRTlDLEtBQUt3Z0MsUUFBUXA1QixFQUFFNDRCLEVBQUVoZ0MsS0FBS3dnQyxRQUFRaC9CLEVBQUU4TSxFQUFFOU0sRUFBRSxHQUFHdU0sU0FBUzdMLEtBQUs4OUIsR0FBR2hnQyxLQUFLNGdDLFdBQVc5OUIsRUFBRWs5QixJQUFJeDJCLEVBQUU1SixVQUFVZ2hDLFdBQVcsU0FBU3R5QixFQUFFOU0sR0FBR3hCLEtBQUsrSCxLQUFLcEksRUFBRSxDQUFDMk8sRUFBRTlNLElBQUl4QixLQUFLK0gsS0FBSzJFLE9BQU80QixFQUFFNUIsT0FBTyxFQUFFMU0sS0FBSytILEtBQUtzNEIsTUFBSyxFQUFHajVCLEVBQUVwSCxLQUFLK0gsS0FBSy9ILEtBQUt3Z0MsU0FBU2gzQixFQUFFNUosVUFBVTJoQyxrQkFBa0IsU0FBU2p6QixFQUFFOU0sRUFBRXNCLEdBQUcsSUFBSSxJQUFJMEcsRUFBRXcxQixFQUFFNTNCLEVBQUU0NEIsRUFBRXoyQixFQUFFbVEsRUFBRXVtQixFQUFFblcsRUFBRSxJQUFJaVYsRUFBRSxJQUFJcC9CLEVBQUU2QixFQUFFN0IsR0FBR21ELEVBQUV0QixFQUFFN0IsSUFBSSxDQUFDLElBQUlOLEVBQUU4MUIsRUFBRTdtQixFQUFFLEVBQUUzTyxFQUFFSyxLQUFLd2dDLFFBQVFwc0IsRUFBRStnQixFQUFFN21CLEVBQUUzTyxFQUFFbUQsRUFBRTlDLEtBQUt3Z0MsUUFBUWdCLEdBQUd4QyxFQUFFMy9CLEVBQUUrSCxFQUFFZ04sT0FBSSxPQUFTLE9BQVMsT0FBUyxFQUFPNHJCLEVBQUV6eEIsS0FBSzBILElBQUkrb0IsRUFBRWpxQixLQUFLM04sRUFBRTJOLE1BQU14TCxFQUFFZ0YsS0FBSzBILElBQUkrb0IsRUFBRWhxQixLQUFLNU4sRUFBRTROLE1BQU0wRSxFQUFFbkwsS0FBS3lILElBQUlncEIsRUFBRS9wQixLQUFLN04sRUFBRTZOLE1BQU1nckIsRUFBRTF4QixLQUFLeUgsSUFBSWdwQixFQUFFOXBCLEtBQUs5TixFQUFFOE4sTUFBTTNHLEtBQUswSCxJQUFJLEVBQUV5RCxFQUFFc21CLEdBQUd6eEIsS0FBSzBILElBQUksRUFBRWdxQixFQUFFMTJCLElBQUlrNEIsRUFBRXIvQixFQUFFL0MsR0FBRytDLEVBQUVnUyxHQUFHb3RCLEVBQUUxWCxHQUFHQSxFQUFFMFgsRUFBRWg0QixFQUFFN0osRUFBRW8vQixFQUFFMEMsRUFBRTFDLEVBQUUwQyxFQUFFMUMsR0FBR3lDLElBQUkxWCxHQUFHMlgsRUFBRTFDLElBQUlBLEVBQUUwQyxFQUFFajRCLEVBQUU3SixHQUFHLE9BQU82SixHQUFHMUcsRUFBRXRCLEdBQUdnSSxFQUFFNUosVUFBVTBoQyxpQkFBaUIsU0FBU2h6QixFQUFFOU0sRUFBRXNCLEdBQUcsSUFBSTBHLEVBQUU4RSxFQUFFK3hCLEtBQUtyZ0MsS0FBSytnQyxZQUFZeDNCLEVBQUV5MUIsRUFBRTF3QixFQUFFK3hCLEtBQUtyZ0MsS0FBS2doQyxZQUFZdG5CLEVBQUUxWixLQUFLMGhDLGVBQWVwekIsRUFBRTlNLEVBQUVzQixFQUFFMEcsR0FBR3hKLEtBQUswaEMsZUFBZXB6QixFQUFFOU0sRUFBRXNCLEVBQUVrOEIsSUFBSTF3QixFQUFFUCxTQUFTNHpCLEtBQUtuNEIsSUFBSUEsRUFBRTVKLFVBQVU4aEMsZUFBZSxTQUFTcHpCLEVBQUU5TSxFQUFFc0IsRUFBRTBHLEdBQUc4RSxFQUFFUCxTQUFTNHpCLEtBQUtuNEIsR0FBRyxJQUFJLElBQUl3MUIsRUFBRWgvQixLQUFLd2dDLE9BQU9wNUIsRUFBRSt0QixFQUFFN21CLEVBQUUsRUFBRTlNLEVBQUV3OUIsR0FBR3oxQixFQUFFNHJCLEVBQUU3bUIsRUFBRXhMLEVBQUV0QixFQUFFc0IsRUFBRWs4QixHQUFHdGxCLEVBQUV1bUIsRUFBRTc0QixHQUFHNjRCLEVBQUUxMkIsR0FBR25ILEVBQUVaLEVBQUVZLEVBQUVVLEVBQUV0QixFQUFFWSxJQUFJLENBQUMsSUFBSTBuQixFQUFFeGIsRUFBRVAsU0FBUzNMLEdBQUc0OUIsRUFBRTU0QixFQUFFa0gsRUFBRSt4QixLQUFLckIsRUFBRWxWLEdBQUdBLEdBQUdwUSxHQUFHdW1CLEVBQUU3NEIsR0FBRyxJQUFJLElBQUkyM0IsRUFBRWo4QixFQUFFdEIsRUFBRSxFQUFFdTlCLEdBQUd2OUIsRUFBRXU5QixJQUFJLENBQUMsSUFBSXAvQixFQUFFMk8sRUFBRVAsU0FBU2d4QixHQUFHaUIsRUFBRXoyQixFQUFFK0UsRUFBRSt4QixLQUFLckIsRUFBRXIvQixHQUFHQSxHQUFHK1osR0FBR3VtQixFQUFFMTJCLEdBQUcsT0FBT21RLEdBQUdsUSxFQUFFNUosVUFBVXloQyxvQkFBb0IsU0FBUy95QixFQUFFOU0sRUFBRXNCLEdBQUcsSUFBSSxJQUFJMEcsRUFBRTFHLEVBQUUwRyxHQUFHLEVBQUVBLElBQUl3MkIsRUFBRXgrQixFQUFFZ0ksR0FBRzhFLElBQUk5RSxFQUFFNUosVUFBVWtoQyxVQUFVLFNBQVN4eUIsR0FBRyxJQUFJLElBQUk5TSxFQUFFOE0sRUFBRTVNLE9BQU8sRUFBRW9CLE9BQUUsRUFBT3RCLEdBQUcsRUFBRUEsSUFBSSxJQUFJOE0sRUFBRTlNLEdBQUd1TSxTQUFTck0sT0FBT0YsRUFBRSxHQUFHc0IsRUFBRXdMLEVBQUU5TSxFQUFFLEdBQUd1TSxVQUFVcEwsT0FBT0csRUFBRXlFLFFBQVErRyxFQUFFOU0sSUFBSSxHQUFHeEIsS0FBSzZCLFFBQVF1RixFQUFFa0gsRUFBRTlNLEdBQUd4QixLQUFLd2dDLFNBQVNoM0IsRUFBeHVNaEksSSx5RENDM0VyQyxFLHdDQURKQyxHQUNJRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsS0E0UnZGLFFBL042QixTQUFVSSxHQVFuQyxTQUFTeWhDLEVBQVFDLEdBQ2IsSUFBSXZoQyxFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQTRCakMsR0F2QkFNLEVBQU13aEMsU0FBTTMrQixFQUtaN0MsRUFBTXloQyxjQUFnQixXQU10QnpoQyxFQUFNOG1CLE9BQVMsS0FLZjltQixFQUFNMGhDLG9CQUFpQjcrQixFQUt2QjdDLEVBQU0yaEMsbUJBQXFCLEtBQzNCM2hDLEVBQU04TyxrQkFBaUIsUUFBbUI5TyxFQUFNeWhDLGVBQWdCemhDLEVBQU00aEMsd0JBQ2xFTCxFQUNBLEdBQ3VFLG1CQUF0RCxFQUFnRCxzQkFBa0IsQ0FDL0UsSUFBSS9FLEVBQW1DLEVBQ3ZDeDhCLEVBQU15OEIsWUFBWUQsT0FFakIsQ0FFRCxJQUFJcUYsRUFBYU4sRUFDakJ2aEMsRUFBTWdGLGNBQWM2OEIsR0FHNUIsT0FBTzdoQyxFQThJWCxPQTlMQWxCLEVBQVV3aUMsRUFBU3poQyxHQXdEbkJ5aEMsRUFBUWhpQyxVQUFVc1UsTUFBUSxXQUN0QixJQUFJQSxFQUFRLElBQUkwdEIsRUFBUTVoQyxLQUFLMkYsZ0JBQWtCM0YsS0FBSzBGLGdCQUFrQixNQUN0RXdPLEVBQU1rdUIsZ0JBQWdCcGlDLEtBQUtxaUMsbUJBQzNCLElBQUl2RixFQUFXOThCLEtBQUtzbkIsY0FDaEJ3VixHQUNBNW9CLEVBQU02b0IsWUFBWUQsRUFBUzVvQixTQUUvQixJQUFJcEssRUFBUTlKLEtBQUtxb0IsV0FJakIsT0FISXZlLEdBQ0FvSyxFQUFNb1UsU0FBU3hlLEdBRVpvSyxHQVVYMHRCLEVBQVFoaUMsVUFBVTBuQixZQUFjLFdBQzVCLE9BQTBDdG5CLEtBQUt3QyxJQUFJeEMsS0FBSytoQyxnQkFTNURILEVBQVFoaUMsVUFBVTBpQyxNQUFRLFdBQ3RCLE9BQU90aUMsS0FBSzhoQyxLQVNoQkYsRUFBUWhpQyxVQUFVeWlDLGdCQUFrQixXQUNoQyxPQUFPcmlDLEtBQUsraEMsZUFRaEJILEVBQVFoaUMsVUFBVXlvQixTQUFXLFdBQ3pCLE9BQU9yb0IsS0FBS29uQixRQVFoQndhLEVBQVFoaUMsVUFBVTJpQyxpQkFBbUIsV0FDakMsT0FBT3ZpQyxLQUFLZ2lDLGdCQUtoQkosRUFBUWhpQyxVQUFVNGlDLHNCQUF3QixXQUN0Q3hpQyxLQUFLd0csV0FLVG83QixFQUFRaGlDLFVBQVVzaUMsdUJBQXlCLFdBQ25DbGlDLEtBQUtpaUMsc0JBQ0wsUUFBY2ppQyxLQUFLaWlDLG9CQUNuQmppQyxLQUFLaWlDLG1CQUFxQixNQUU5QixJQUFJbkYsRUFBVzk4QixLQUFLc25CLGNBQ2hCd1YsSUFDQTk4QixLQUFLaWlDLG9CQUFxQixRQUFPbkYsRUFBVTJGLEVBQUEsU0FBa0J6aUMsS0FBS3dpQyxzQkFBdUJ4aUMsT0FFN0ZBLEtBQUt3RyxXQVNUbzdCLEVBQVFoaUMsVUFBVW05QixZQUFjLFNBQVVELEdBQ3RDOThCLEtBQUtvRCxJQUFJcEQsS0FBSytoQyxjQUFlakYsSUFXakM4RSxFQUFRaGlDLFVBQVUwb0IsU0FBVyxTQUFVb2EsR0EyQ3BDLElBQTZCcDdCLEVBUXhCNjJCLEVBbERKbitCLEtBQUtvbkIsT0FBU3NiLEVBQ2QxaUMsS0FBS2dpQyxlQUFrQlUsRUEwQ1IsbUJBRGFwN0IsRUF2Q0ZvN0IsR0F5Q25CcDdCLEdBT0g1SCxNQUFNa0gsUUFBUVUsR0FDZDYyQixFQUFXNzJCLElBR1gsT0FBcUQsbUJBQXJCLEVBQWUsVUFBa0IsSUFFakU2MkIsRUFBVyxDQURtRCxJQUczRCxXQUNILE9BQU9BLFNBMURMaDdCLEVBRU5uRCxLQUFLd0csV0FXVG83QixFQUFRaGlDLFVBQVUraUMsTUFBUSxTQUFVbmQsR0FDaEN4bEIsS0FBSzhoQyxJQUFNdGMsRUFDWHhsQixLQUFLd0csV0FTVG83QixFQUFRaGlDLFVBQVV3aUMsZ0JBQWtCLFNBQVU1aEMsR0FDMUNSLEtBQUtrSCxxQkFBb0IsUUFBbUJsSCxLQUFLK2hDLGVBQWdCL2hDLEtBQUtraUMsd0JBQ3RFbGlDLEtBQUsraEMsY0FBZ0J2aEMsRUFDckJSLEtBQUtvUCxrQkFBaUIsUUFBbUJwUCxLQUFLK2hDLGVBQWdCL2hDLEtBQUtraUMsd0JBQ25FbGlDLEtBQUtraUMsMEJBRUZOLEVBL0xpQixDQWdNMUIsTSxhQzlQRixRQUVtQixnQkFGbkIsRUFHa0IsZUFIbEIsRUFLbUIsZ0JBTG5CLEVBTWtCLGUsa0NDZmQsRUFBd0MsV0FDeEMsSUFBSXppQyxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQXNGeENXLEVBQ1MsVUFEVEEsRUFFSyxNQUZMQSxFQUdRLFNBSFJBLEVBSVUsV0FKVkEsRUFLYSxjQTZhakIsUUF2WjZCLFNBQVVQLEdBS25DLFNBQVN5aUMsRUFBUXhoQyxHQUNiLElBQUlkLEVBQVFILEVBQU9MLEtBQUtFLE9BQVNBLEtBS2pDTSxFQUFNYyxRQUFVQSxFQUtoQmQsRUFBTWtsQixHQUFLcGtCLEVBQVFva0IsR0FLbkJsbEIsRUFBTXVpQyxpQkFDc0IxL0IsSUFBeEIvQixFQUFReWhDLGFBQTRCemhDLEVBQVF5aEMsWUFLaER2aUMsRUFBTTRrQixlQUFrQy9oQixJQUF0Qi9CLEVBQVE4akIsV0FBMEI5akIsRUFBUThqQixVQUs1RDVrQixFQUFNUyxRQUFVNkksU0FBU0MsY0FBYyxPQUN2Q3ZKLEVBQU1TLFFBQVEraEMsZUFDWTMvQixJQUF0Qi9CLEVBQVEwaEMsVUFDRjFoQyxFQUFRMGhDLFVBQ1Isd0JBQTBCLEtBQ3BDeGlDLEVBQU1TLFFBQVErSSxNQUFNbXFCLFNBQVcsV0FDL0IzekIsRUFBTVMsUUFBUStJLE1BQU11YSxjQUFnQixPQUNwQyxJQUFJMGUsRUFBVTNoQyxFQUFRMmhDLFFBeUN0QixPQXhDSUEsR0FBVyxpQkFBb0JBLElBQy9CQSxFQUFVLENBQ05DLFVBQVc1aEMsRUFBUTZoQyxpQkFDbkJsUCxPQUFRM3lCLEVBQVE4aEMsZ0JBT3hCNWlDLEVBQU15aUMsUUFBNEMsSUFBYSxFQU0vRHppQyxFQUFNNmlDLFNBQVcsQ0FDYkMsV0FBWSxHQUNaQyxTQUFTLEdBTWIvaUMsRUFBTWdqQyx5QkFBMkIsS0FDakNoakMsRUFBTThPLGtCQUFpQixRQUFtQjFPLEdBQW1CSixFQUFNaWpDLHNCQUNuRWpqQyxFQUFNOE8sa0JBQWlCLFFBQW1CMU8sR0FBZUosRUFBTWtqQyxrQkFDL0RsakMsRUFBTThPLGtCQUFpQixRQUFtQjFPLEdBQWtCSixFQUFNbWpDLHFCQUNsRW5qQyxFQUFNOE8sa0JBQWlCLFFBQW1CMU8sR0FBb0JKLEVBQU1vakMsdUJBQ3BFcGpDLEVBQU04TyxrQkFBaUIsUUFBbUIxTyxHQUF1QkosRUFBTXFqQywrQkFDL0N4Z0MsSUFBcEIvQixFQUFRTCxTQUNSVCxFQUFNc2pDLFdBQVd4aUMsRUFBUUwsU0FFN0JULEVBQU11akMsZUFBNkIxZ0MsSUFBbkIvQixFQUFRd1UsT0FBdUJ4VSxFQUFRd1UsT0FBUyxDQUFDLEVBQUcsSUFDcEV0VixFQUFNd2pDLG9CQUF1QzNnQyxJQUF4Qi9CLEVBQVEyaUMsWUFDbUMzaUMsRUFBbUIsWUQ1SzdFLGlCQzhLbUIrQixJQUFyQi9CLEVBQVE2eUIsVUFDUjN6QixFQUFNMGpDLFlBQVk1aUMsRUFBUTZ5QixVQUV2QjN6QixFQXFVWCxPQXBaQSxFQUFVc2lDLEVBQVN6aUMsR0F1Rm5CeWlDLEVBQVFoakMsVUFBVXFrQyxXQUFhLFdBQzNCLE9BQTZDamtDLEtBQUt3QyxJQUFJOUIsSUFPMURraUMsRUFBUWhqQyxVQUFVMGlDLE1BQVEsV0FDdEIsT0FBT3RpQyxLQUFLd2xCLElBU2hCb2QsRUFBUWhqQyxVQUFVcWtCLE9BQVMsV0FDdkIsT0FBcUVqa0IsS0FBS3dDLElBQUk5QixJQVFsRmtpQyxFQUFRaGpDLFVBQVVza0MsVUFBWSxXQUMxQixPQUFxQ2xrQyxLQUFLd0MsSUFBSTlCLElBU2xEa2lDLEVBQVFoakMsVUFBVXVrQyxZQUFjLFdBQzVCLE9BQXNFbmtDLEtBQUt3QyxJQUFJOUIsSUFTbkZraUMsRUFBUWhqQyxVQUFVd2tDLGVBQWlCLFdBQy9CLE9BQWlFcGtDLEtBQUt3QyxJQUFJOUIsSUFLOUVraUMsRUFBUWhqQyxVQUFVMmpDLHFCQUF1QixZQUNyQyxRQUFldmpDLEtBQUtlLFNBQ3BCLElBQUlBLEVBQVVmLEtBQUtpa0MsYUFDZmxqQyxHQUNBZixLQUFLZSxRQUFRaUosWUFBWWpKLElBTWpDNmhDLEVBQVFoakMsVUFBVTRqQyxpQkFBbUIsV0FDN0J4akMsS0FBS3NqQyw0QkFDTCxRQUFXdGpDLEtBQUtlLFVBQ2hCLFFBQWNmLEtBQUtzakMsMEJBQ25CdGpDLEtBQUtzakMseUJBQTJCLE1BRXBDLElBQUkzNEIsRUFBTTNLLEtBQUtpa0IsU0FDZixHQUFJdFosRUFBSyxDQUNMM0ssS0FBS3NqQywwQkFBMkIsUUFBTzM0QixFQUFLMDVCLEVBQUEsYUFBeUJya0MsS0FBS3UzQixPQUFRdjNCLE1BQ2xGQSxLQUFLc2tDLHNCQUNMLElBQUlDLEVBQVl2a0MsS0FBS2tsQixVQUNmdmEsRUFBSTY1QiwrQkFDSjc1QixFQUFJODVCLHNCQUNOemtDLEtBQUs2aUMsWUFDTDBCLEVBQVVuMkIsYUFBYXBPLEtBQUtlLFFBQVN3akMsRUFBVXQyQixXQUFXLElBQU0sTUFHaEVzMkIsRUFBVXY2QixZQUFZaEssS0FBS2UsU0FFL0JmLEtBQUswa0MsbUJBTWI5QixFQUFRaGpDLFVBQVUyM0IsT0FBUyxXQUN2QnYzQixLQUFLc2tDLHVCQUtUMUIsRUFBUWhqQyxVQUFVNmpDLG9CQUFzQixXQUNwQ3pqQyxLQUFLc2tDLHVCQUtUMUIsRUFBUWhqQyxVQUFVOGpDLHNCQUF3QixXQUN0QzFqQyxLQUFLc2tDLHNCQUNMdGtDLEtBQUswa0Msa0JBS1Q5QixFQUFRaGpDLFVBQVUrakMseUJBQTJCLFdBQ3pDM2pDLEtBQUtza0MsdUJBUVQxQixFQUFRaGpDLFVBQVVna0MsV0FBYSxTQUFVN2lDLEdBQ3JDZixLQUFLb0QsSUFBSTFDLEVBQWtCSyxJQVMvQjZoQyxFQUFRaGpDLFVBQVV1a0IsT0FBUyxTQUFVeFosR0FDakMzSyxLQUFLb0QsSUFBSTFDLEVBQWNpSyxJQVEzQmk0QixFQUFRaGpDLFVBQVVpa0MsVUFBWSxTQUFVanVCLEdBQ3BDNVYsS0FBS29ELElBQUkxQyxFQUFpQmtWLElBVTlCZ3RCLEVBQVFoakMsVUFBVW9rQyxZQUFjLFNBQVUvUCxHQUN0Q2owQixLQUFLb0QsSUFBSTFDLEVBQW1CdXpCLElBT2hDMk8sRUFBUWhqQyxVQUFVOGtDLGVBQWlCLFdBQzNCMWtDLEtBQUsraUMsU0FDTC9pQyxLQUFLMmtDLFlBQVkza0MsS0FBSytpQyxVQVM5QkgsRUFBUWhqQyxVQUFVK2tDLFlBQWMsU0FBVUMsR0FDdEMsSUFBSWo2QixFQUFNM0ssS0FBS2lrQixTQUNmLEdBQUt0WixHQUFRQSxFQUFJNEgsb0JBQXVCdlMsS0FBS3dDLElBQUk5QixHQUFqRCxDQUdBLElBQUlta0MsRUFBVTdrQyxLQUFLOGtDLFFBQVFuNkIsRUFBSTRILG1CQUFvQjVILEVBQUl1dUIsV0FDbkRuNEIsRUFBVWYsS0FBS2lrQyxhQUNmYyxFQUFjL2tDLEtBQUs4a0MsUUFBUS9qQyxFQUFTLEVBQ3BDLFFBQVdBLElBQ1gsUUFBWUEsS0FFWmlrQyxFQUFxQkosR0FBMEIsR0FDL0NLLE9BQXlDOWhDLElBQTlCNmhDLEVBQW1CalIsT0FBdUIsR0FBS2lSLEVBQW1CalIsT0FDakYsS0FBSyxRQUFlOFEsRUFBU0UsR0FBYyxDQUV2QyxJQUFJRyxFQUFhSCxFQUFZLEdBQUtGLEVBQVEsR0FDdENNLEVBQWNOLEVBQVEsR0FBS0UsRUFBWSxHQUN2Q0ssRUFBWUwsRUFBWSxHQUFLRixFQUFRLEdBQ3JDUSxFQUFlUixFQUFRLEdBQUtFLEVBQVksR0FDeENwaUIsRUFBUSxDQUFDLEVBQUcsR0FpQmhCLEdBaEJJdWlCLEVBQWEsRUFFYnZpQixFQUFNLEdBQUt1aUIsRUFBYUQsRUFFbkJFLEVBQWMsSUFFbkJ4aUIsRUFBTSxHQUFLcFUsS0FBS29iLElBQUl3YixHQUFlRixHQUVuQ0csRUFBWSxFQUVaemlCLEVBQU0sR0FBS3lpQixFQUFZSCxFQUVsQkksRUFBZSxJQUVwQjFpQixFQUFNLEdBQUtwVSxLQUFLb2IsSUFBSTBiLEdBQWdCSixHQUV2QixJQUFidGlCLEVBQU0sSUFBeUIsSUFBYkEsRUFBTSxHQUFVLENBQ2xDLElBQUl6TCxFQUE4RHZNLEVBQzdEMjZCLFVBQ0F4aUIsb0JBQ0R5aUIsRUFBVzU2QixFQUFJNjZCLCtCQUErQnR1QixHQUNsRCxJQUFLcXVCLEVBQ0QsT0FFSixJQUFJRSxFQUFjLENBQUNGLEVBQVMsR0FBSzVpQixFQUFNLEdBQUk0aUIsRUFBUyxHQUFLNWlCLEVBQU0sSUFDM0QraUIsRUFBYVYsRUFBbUJoQyxXQUFhLEdBQ2pEcjRCLEVBQUkyNkIsVUFBVXZpQixnQkFBZ0IsQ0FDMUI3TCxPQUFRdk0sRUFBSWc3QiwrQkFBK0JGLEdBQzNDemlCLFNBQVUwaUIsRUFBVzFpQixTQUNyQkMsT0FBUXlpQixFQUFXemlCLGFBWW5DMmYsRUFBUWhqQyxVQUFVa2xDLFFBQVUsU0FBVS9qQyxFQUFTOEssR0FDM0MsSUFBSSs1QixFQUFNN2tDLEVBQVE4a0Msd0JBQ2RsUixFQUFVaVIsRUFBSTFSLEtBQU8zUixPQUFPdWpCLFlBQzVCbFIsRUFBVWdSLEVBQUlHLElBQU14akIsT0FBT3lqQixZQUMvQixNQUFPLENBQUNyUixFQUFTQyxFQUFTRCxFQUFVOW9CLEVBQUssR0FBSStvQixFQUFVL29CLEVBQUssS0FTaEUrMkIsRUFBUWhqQyxVQUFVa2tDLGVBQWlCLFNBQVVDLEdBQ3pDL2pDLEtBQUtvRCxJQUFJMUMsRUFBc0JxakMsSUFPbkNuQixFQUFRaGpDLFVBQVVxbUMsV0FBYSxTQUFVNUMsR0FDakNyakMsS0FBS21qQyxTQUFTRSxVQUFZQSxJQUMxQnJqQyxLQUFLZSxRQUFRK0ksTUFBTW84QixRQUFVN0MsRUFBVSxHQUFLLE9BQzVDcmpDLEtBQUttakMsU0FBU0UsUUFBVUEsSUFPaENULEVBQVFoakMsVUFBVTBrQyxvQkFBc0IsV0FDcEMsSUFBSTM1QixFQUFNM0ssS0FBS2lrQixTQUNYZ1EsRUFBV2owQixLQUFLbWtDLGNBQ3BCLEdBQUt4NUIsR0FBUUEsRUFBSXc3QixjQUFpQmxTLEVBQWxDLENBSUEsSUFBSWxMLEVBQVFwZSxFQUFJeTdCLHVCQUF1Qm5TLEdBQ25Db1MsRUFBVTE3QixFQUFJdXVCLFVBQ2xCbDVCLEtBQUtzbUMsdUJBQXVCdmQsRUFBT3NkLFFBTC9Ccm1DLEtBQUtpbUMsWUFBVyxJQVl4QnJELEVBQVFoakMsVUFBVTBtQyx1QkFBeUIsU0FBVXZkLEVBQU9zZCxHQUN4RCxJQUFJdjhCLEVBQVE5SixLQUFLZSxRQUFRK0ksTUFDckI4TCxFQUFTNVYsS0FBS2trQyxZQUNkSCxFQUFjL2pDLEtBQUtva0MsaUJBQ3ZCcGtDLEtBQUtpbUMsWUFBVyxHQUNoQixJQUFJN3hCLEVBQUk3RixLQUFLZzRCLE1BQU14ZCxFQUFNLEdBQUtuVCxFQUFPLElBQU0sS0FDdkN2QixFQUFJOUYsS0FBS2c0QixNQUFNeGQsRUFBTSxHQUFLblQsRUFBTyxJQUFNLEtBQ3ZDNHdCLEVBQU8sS0FDUEMsRUFBTyxLQUNQMUMsR0FBZTJDLEdBQ2YzQyxHQUFlMkMsR0RsZFosYUNtZEgzQyxFQUNBeUMsRUFBTyxRQUVGekMsR0FBZTJDLEdBQ3BCM0MsR0FBZTJDLEdEeGRYLGNDeWRKM0MsSUFDQXlDLEVBQU8sUURqZUYsZUNtZUx6QyxHQUNBQSxHQUFlMkMsR0FDZjNDLEdBQWUyQyxFQUNmRCxFQUFPLFFEbmVGLGVDcWVBMUMsR0FDTEEsR0FBZTJDLEdBQ2YzQyxHQUFlMkMsSUFDZkQsRUFBTyxRQUVYLElBQUkzbkIsRUFBWSxhQUFlMG5CLEVBQU8sS0FBT0MsRUFBTyxlQUFpQnJ5QixFQUFJLEtBQU9DLEVBQUksSUFDaEZyVSxLQUFLbWpDLFNBQVNDLFlBQWN0a0IsSUFDNUI5ZSxLQUFLbWpDLFNBQVNDLFdBQWF0a0IsRUFDM0JoVixFQUFNZ1YsVUFBWUEsRUFFbEJoVixFQUFNNjhCLFlBQWM3bkIsSUFPNUI4akIsRUFBUWhqQyxVQUFVZ25DLFdBQWEsV0FDM0IsT0FBTzVtQyxLQUFLb0IsU0FFVHdoQyxFQXJaaUIsQ0FzWjFCLE0saUNDcENGLFFBcGIwQixXQUl0QixTQUFTaUUsRUFBSzFsQyxHQUNWLElBQUlDLEVBQVVELEdBQWUsR0FLN0JuQixLQUFLOG1DLE1BQVExbEMsRUFBUWt5QixLQUtyQnR6QixLQUFLczdCLFVBQVlsNkIsRUFBUWdXLFNBS3pCcFgsS0FBS3E3QixnQkFBa0JqNkIsRUFBUSswQixlQUsvQm4yQixLQUFLdTdCLE9BQVNuNkIsRUFBUW1kLE1BS3RCdmUsS0FBS3c3QixhQUFjLGFBQXlCcjRCLElBQWxCL0IsRUFBUW1kLE1BQXNCbmQsRUFBUW1kLE1BQVEsR0FLeEV2ZSxLQUFLbzlCLE1BQVFoOEIsRUFBUXV4QixLQUtyQjN5QixLQUFLK21DLFdBQWEzbEMsRUFBUTRsQyxVQUsxQmhuQyxLQUFLaW5DLGNBQWdCN2xDLEVBQVE4bEMsYUFLN0JsbkMsS0FBS3UyQixXQUNnQnB6QixJQUFqQi9CLEVBQVFvMUIsS0FDRnAxQixFQUFRbzFCLEtBQ1IsSUFBSXdFLEVBQUEsRUFBSyxDQUFFOXhCLE1BeEZKLFNBNkZqQmxKLEtBQUttbkMsZUFDb0Joa0MsSUFBckIvQixFQUFRZ21DLFNBQXlCaG1DLEVBQVFnbUMsU0FBVzc0QixLQUFLMGIsR0FBSyxFQUtsRWpxQixLQUFLcW5DLGdCQUNxQmxrQyxJQUF0Qi9CLEVBQVFrbUMsVUFBMEJsbUMsRUFBUWttQyxVQUFZQyxFQUFBLFFBSzFEdm5DLEtBQUt3bkMsWUFBY3BtQyxFQUFRcW1DLFNBSzNCem5DLEtBQUtpM0IsYUFBNkI5ekIsSUFBbkIvQixFQUFRODFCLE9BQXVCOTFCLEVBQVE4MUIsT0FBUyxLQUsvRGwzQixLQUFLMG5DLGNBQStCdmtDLElBQXBCL0IsRUFBUXV6QixRQUF3QnZ6QixFQUFRdXpCLFFBQVUsRUFLbEUzMEIsS0FBSzJuQyxjQUErQnhrQyxJQUFwQi9CLEVBQVF3ekIsUUFBd0J4ekIsRUFBUXd6QixRQUFVLEVBS2xFNTBCLEtBQUs0bkMsZ0JBQWtCeG1DLEVBQVF5bUMsZUFDekJ6bUMsRUFBUXltQyxlQUNSLEtBS043bkMsS0FBSzhuQyxrQkFBb0IxbUMsRUFBUTJtQyxpQkFDM0IzbUMsRUFBUTJtQyxpQkFDUixLQUtOL25DLEtBQUtnb0MsY0FBK0I3a0MsSUFBcEIvQixFQUFRNHlCLFFBQXdCLEtBQU81eUIsRUFBUTR5QixRQTBVbkUsT0FuVUE2UyxFQUFLam5DLFVBQVVzVSxNQUFRLFdBQ25CLElBQUlxSyxFQUFRdmUsS0FBS3czQixXQUNqQixPQUFPLElBQUlxUCxFQUFLLENBQ1p2VCxLQUFNdHpCLEtBQUtpb0MsVUFDWFgsVUFBV3RuQyxLQUFLa29DLGVBQ2hCZCxTQUFVcG5DLEtBQUttb0MsY0FDZlYsU0FBVXpuQyxLQUFLb29DLGNBQ2ZoeEIsU0FBVXBYLEtBQUsrM0IsY0FDZjVCLGVBQWdCbjJCLEtBQUtnNEIsb0JBQ3JCelosTUFBTzdlLE1BQU1rSCxRQUFRMlgsR0FBU0EsRUFBTTlULFFBQVU4VCxFQUM5Q29VLEtBQU0zeUIsS0FBS3U5QixVQUNYeUosVUFBV2huQyxLQUFLcW9DLGVBQ2hCbkIsYUFBY2xuQyxLQUFLc29DLGtCQUNuQjlSLEtBQU14MkIsS0FBS3kzQixVQUFZejNCLEtBQUt5M0IsVUFBVXZqQixhQUFVL1EsRUFDaEQrekIsT0FBUWwzQixLQUFLODNCLFlBQWM5M0IsS0FBSzgzQixZQUFZNWpCLGFBQVUvUSxFQUN0RHd4QixRQUFTMzBCLEtBQUt1b0MsYUFDZDNULFFBQVM1MEIsS0FBS3dvQyxhQUNkWCxlQUFnQjduQyxLQUFLeW9DLG9CQUNmem9DLEtBQUt5b0Msb0JBQW9CdjBCLGFBQ3pCL1EsRUFDTjRrQyxpQkFBa0IvbkMsS0FBSzBvQyxzQkFDakIxb0MsS0FBSzBvQyxzQkFBc0J4MEIsYUFDM0IvUSxFQUNONndCLFFBQVNoMEIsS0FBSzJvQyxnQkFRdEI5QixFQUFLam5DLFVBQVV3b0MsWUFBYyxXQUN6QixPQUFPcG9DLEtBQUt3bkMsV0FPaEJYLEVBQUtqbkMsVUFBVXFvQyxRQUFVLFdBQ3JCLE9BQU9qb0MsS0FBSzhtQyxPQU9oQkQsRUFBS2puQyxVQUFVdW9DLFlBQWMsV0FDekIsT0FBT25vQyxLQUFLbW5DLFdBT2hCTixFQUFLam5DLFVBQVVzb0MsYUFBZSxXQUMxQixPQUFPbG9DLEtBQUtxbkMsWUFPaEJSLEVBQUtqbkMsVUFBVTJvQyxXQUFhLFdBQ3hCLE9BQU92b0MsS0FBSzBuQyxVQU9oQmIsRUFBS2puQyxVQUFVNG9DLFdBQWEsV0FDeEIsT0FBT3hvQyxLQUFLMm5DLFVBT2hCZCxFQUFLam5DLFVBQVU2M0IsUUFBVSxXQUNyQixPQUFPejNCLEtBQUt1MkIsT0FPaEJzUSxFQUFLam5DLFVBQVVvNEIsa0JBQW9CLFdBQy9CLE9BQU9oNEIsS0FBS3E3QixpQkFPaEJ3TCxFQUFLam5DLFVBQVVtNEIsWUFBYyxXQUN6QixPQUFPLzNCLEtBQUtzN0IsV0FPaEJ1TCxFQUFLam5DLFVBQVU0M0IsU0FBVyxXQUN0QixPQUFPeDNCLEtBQUt1N0IsUUFNaEJzTCxFQUFLam5DLFVBQVU4N0IsY0FBZ0IsV0FDM0IsT0FBTzE3QixLQUFLdzdCLGFBT2hCcUwsRUFBS2puQyxVQUFVazRCLFVBQVksV0FDdkIsT0FBTzkzQixLQUFLaTNCLFNBT2hCNFAsRUFBS2puQyxVQUFVMjlCLFFBQVUsV0FDckIsT0FBT3Y5QixLQUFLbzlCLE9BT2hCeUosRUFBS2puQyxVQUFVeW9DLGFBQWUsV0FDMUIsT0FBT3JvQyxLQUFLK21DLFlBT2hCRixFQUFLam5DLFVBQVUwb0MsZ0JBQWtCLFdBQzdCLE9BQU90b0MsS0FBS2luQyxlQU9oQkosRUFBS2puQyxVQUFVNm9DLGtCQUFvQixXQUMvQixPQUFPem9DLEtBQUs0bkMsaUJBT2hCZixFQUFLam5DLFVBQVU4b0Msb0JBQXNCLFdBQ2pDLE9BQU8xb0MsS0FBSzhuQyxtQkFPaEJqQixFQUFLam5DLFVBQVUrb0MsV0FBYSxXQUN4QixPQUFPM29DLEtBQUtnb0MsVUFRaEJuQixFQUFLam5DLFVBQVVncEMsWUFBYyxTQUFVbkIsR0FDbkN6bkMsS0FBS3duQyxVQUFZQyxHQVFyQlosRUFBS2puQyxVQUFVaXBDLFFBQVUsU0FBVXZWLEdBQy9CdHpCLEtBQUs4bUMsTUFBUXhULEdBUWpCdVQsRUFBS2puQyxVQUFVa3BDLFlBQWMsU0FBVTFCLEdBQ25DcG5DLEtBQUttbkMsVUFBWUMsR0FRckJQLEVBQUtqbkMsVUFBVW1wQyxXQUFhLFNBQVVwVSxHQUNsQzMwQixLQUFLMG5DLFNBQVcvUyxHQVFwQmtTLEVBQUtqbkMsVUFBVW9wQyxXQUFhLFNBQVVwVSxHQUNsQzUwQixLQUFLMm5DLFNBQVcvUyxHQVFwQmlTLEVBQUtqbkMsVUFBVXFwQyxhQUFlLFNBQVUzQixHQUNwQ3RuQyxLQUFLcW5DLFdBQWFDLEdBUXRCVCxFQUFLam5DLFVBQVUrN0Isa0JBQW9CLFNBQVV4RixHQUN6Q24yQixLQUFLcTdCLGdCQUFrQmxGLEdBUTNCMFEsRUFBS2puQyxVQUFVZytCLFFBQVUsU0FBVXBILEdBQy9CeDJCLEtBQUt1MkIsTUFBUUMsR0FRakJxUSxFQUFLam5DLFVBQVVnOEIsWUFBYyxTQUFVeGtCLEdBQ25DcFgsS0FBS3M3QixVQUFZbGtCLEdBUXJCeXZCLEVBQUtqbkMsVUFBVWk4QixTQUFXLFNBQVV0ZCxHQUNoQ3ZlLEtBQUt1N0IsT0FBU2hkLEVBQ2R2ZSxLQUFLdzdCLGFBQWMsYUFBaUJyNEIsSUFBVm9iLEVBQXNCQSxFQUFRLElBUTVEc29CLEVBQUtqbkMsVUFBVWsrQixVQUFZLFNBQVU1RyxHQUNqQ2wzQixLQUFLaTNCLFFBQVVDLEdBUW5CMlAsRUFBS2puQyxVQUFVbStCLFFBQVUsU0FBVXBMLEdBQy9CM3lCLEtBQUtvOUIsTUFBUXpLLEdBUWpCa1UsRUFBS2puQyxVQUFVc3BDLGFBQWUsU0FBVWxDLEdBQ3BDaG5DLEtBQUsrbUMsV0FBYUMsR0FRdEJILEVBQUtqbkMsVUFBVXVwQyxnQkFBa0IsU0FBVWpDLEdBQ3ZDbG5DLEtBQUtpbkMsY0FBZ0JDLEdBUXpCTCxFQUFLam5DLFVBQVV3cEMsa0JBQW9CLFNBQVU1UyxHQUN6Q3gyQixLQUFLNG5DLGdCQUFrQnBSLEdBUTNCcVEsRUFBS2puQyxVQUFVeXBDLG9CQUFzQixTQUFVblMsR0FDM0NsM0IsS0FBSzhuQyxrQkFBb0I1USxHQVE3QjJQLEVBQUtqbkMsVUFBVTBwQyxXQUFhLFNBQVV0VixHQUNsQ2gwQixLQUFLZ29DLFNBQVdoVSxHQUViNlMsRUFsYmMsRyx5RUN0Q3pCLE1BQU0wQyxFQUFpQixDQUNyQkMsUUFBUyxVQUNUQyxVQUFXLFdBaUJOLE1BQU1DLFVBQWUsRUFHMUIsYUFBYSxLQUFFbHBDLEVBQUksU0FBRW1wQyxFQUFRLEtBQUVDLEVBQU8sS0FBSSxTQUFFQyxFQUFXLEdBQUUsTUFBRTNnQyxFQUFRLEtBQ2pFNGdDLE1BQU0sQ0FDSmxwQyxLQUFNbXBDLEVBQUEsUUFDTmpOLFNBQVUsSUFBSTFnQixFQUFBLEdBQU0sUUFBV3V0QixJQUMvQm5wQyxTQU5JLEtBQUF3cEMsTUFBaUIsS0E0RGpCLEtBQUFDLGFBQWVoNUIsSUFDckIsT0FBUUEsRUFBTWhNLEtBQ1osSUFBSyxXQUNIakYsS0FBS2dxQyxNQUFNaEcsYUFBWSxRQUFXaGtDLEtBQUt3QyxJQUFJLGNBQzNDLE1BRUYsSUFBSyxPQUNIeEMsS0FBS2dxQyxNQUFNcEcsV0FBVzVqQyxLQUFLd0MsSUFBSSxXQTFEbkN4QyxLQUFLb0QsSUFBSSxXQUFZdW1DLEdBQ3JCM3BDLEtBQUtvRCxJQUFJLE9BQVF3bUMsR0F0QnJCLFNBQTRCOVYsRUFBWSxJQUN0QyxPQUFPdjBCLE9BQU82cUIsT0FDWnhnQixTQUFTQyxjQUFjLE9BQ3ZCLENBQUVpNUIsVUFBVyxPQUFRaFAsY0FtQklvVyxDQUFrQkwsSUFDM0M3cEMsS0FBS29ELElBQUksUUFBUyxPQUFGLHdCQUFPbW1DLEdBQW1CcmdDLElBQzFDbEosS0FBSzBHLEdBQUcsaUJBQWtCMUcsS0FBS2lxQyxjQUMvQmpxQyxLQUFLZ3FDLE1BQVFocUMsS0FBS21xQyxZQUdwQixjQUNFLE1BQW9ELEtBQTdDbnFDLEtBQUtncUMsTUFBTS9GLGFBQWFuUSxVQUFVc1csT0FHcEMsU0FBVXovQixHQUNYM0ssS0FBS3FxQyxTQUNQMS9CLEVBQUkyL0IsV0FBV3RxQyxLQUFLZ3FDLE9BSWpCLFNBQVVyL0IsR0FDZkEsRUFBSTQvQixjQUFjdnFDLEtBQUtncUMsT0FHbEIsV0FBWXIvQixFQUFVcEYsR0FDM0IsT0FBT0EsRUFBUXZGLEtBQUt3cUMsU0FBUzcvQixHQUFPM0ssS0FBS3lxQyxTQUFTOS9CLEdBRzdDLFNBQ0wsTUFBTyxDQUNMbkssS0FBTVIsS0FBS3dDLElBQUksUUFDZm1uQyxTQUFVM3BDLEtBQUt3QyxJQUFJLFlBQ25CcW5DLFVBM0NXYSxFQTJDTTFxQyxLQUFLd0MsSUFBSSxRQUFRc3hCLFVBMUMvQjRXLEVBQUtOLE9BQU81YixRQUFRLE9BQVEsTUEyQy9CdGxCLE9BQU8sT0FBcUJsSixLQUFLd0MsSUFBSSxVQUFVLENBQUN5QyxFQUFLTSxJQUNuREEsRUFBTWljLGdCQUFrQituQixFQUFldGtDLE1BN0MvQyxJQUFpQnlsQyxFQWlEUCxZQUtOLE9BSkkxcUMsS0FBS2dxQyxPQUNQaHFDLEtBQUtncUMsTUFBTXRtQyxVQUdOLElBQUksRUFBUSxDQUNqQjNDLFFBQVNmLEtBQUt3QyxJQUFJLFFBQ2xCeXhCLFVBQVUsUUFBV2owQixLQUFLd0MsSUFBSSxhQUM5QnVoQyxZQUFhLGNBQ2JudUIsT0FBUSxDQUFDKzBCLEdBQW1CLEdBQzVCNUgsUUFBUyxDQUNQQyxVQUFXLENBQUVoZ0IsU0FBVSxTQWlCeEIsU0FBUzRuQixFQUFhdmpCLEVBQXNCekIsR0FBVyxHQUM1RCxNQUFNMWMsRUFBUW1lLEVBQVE3a0IsSUFBSSxTQUUxQixPQUFPLElBQUlrNkIsRUFBQSxHQUFNLENBQ2ZPLE1BQU8sSUFBSTROLEVBQUEsRUFBTyxPQUFELFFBQ2ZuZCxPQTVGZ0IsR0E2RmhCOEksS0FBTSxJQUFJd0UsRUFBQSxFQUFLLENBQUU5eEIsTUFBTzBjLEVBQVcxYyxFQUFNdWdDLFVBQVl2Z0MsRUFBTXNnQyxXQUN4RDVqQixFQUFXLENBQ1pzUixPQUFRLElBQUk0RSxFQUFBLEVBQU8sQ0FDakI1eUIsTUFBT0EsRUFBTXNnQyxRQUNiLzhCLE1BaEdXLEtBa0dYLEtBRU5rbUIsS0FBTSxJQUFJLEVBQUssQ0FDYkEsS0FBTXRMLEVBQVE3a0IsSUFBSSxRQUNsQndrQyxVQUFXLE1BQ1hhLGVBQWdCLElBQUk3TSxFQUFBLEVBQUssQ0FBRTl4QixNQUFPLFVBQ2xDOHFCLFFBQVMsQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUNuQlksUUFBUyxTLDRCQ3hIUixTQUFTa1csRUFDYjVrQyxFQUFnQjZrQyxHQUNqQixPQUFPeHJDLE9BQU95ckMsUUFBUTlrQyxHQUFRK2tDLFFBQU8sQ0FBQ0MsR0FBU2ptQyxFQUFLTSxLQUFZLE9BQUQsd0JBQzFEMmxDLEdBQ0FILEVBQVU5bEMsRUFBS00sR0FBUyxDQUFFLENBQUNOLEdBQU1NLEdBQVUsS0FDNUMsSSxtQkNKRjRsQyxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVdEwsUUFHM0MsSUFBSUQsRUFBU3FMLEVBQXlCRSxHQUFZLENBR2pEdEwsUUFBUyxJQU9WLE9BSEF1TCxFQUFvQkQsR0FBVXZyQyxLQUFLZ2dDLEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVNxTCxHQUdwRXRMLEVBQU9DLFFBSWZxTCxFQUFvQnRoQixFQUFJd2hCLEVDdkJ4QkYsRUFBb0J0b0MsRUFBS2c5QixJQUN4QixJQUFJblIsRUFBU21SLEdBQVVBLEVBQU95TCxXQUM3QixJQUFPekwsRUFBaUIsUUFDeEIsSUFBTSxFQUVQLE9BREFzTCxFQUFvQi9yQyxFQUFFc3ZCLEVBQVEsQ0FBRXZuQixFQUFHdW5CLElBQzVCQSxHQ0xSeWMsRUFBb0IvckMsRUFBSSxDQUFDMGdDLEVBQVN5TCxLQUNqQyxJQUFJLElBQUl2bUMsS0FBT3VtQyxFQUNYSixFQUFvQnBMLEVBQUV3TCxFQUFZdm1DLEtBQVNtbUMsRUFBb0JwTCxFQUFFRCxFQUFTOTZCLElBQzVFMUYsT0FBTytpQixlQUFleWQsRUFBUzk2QixFQUFLLENBQUV3bUMsWUFBWSxFQUFNanBDLElBQUtncEMsRUFBV3ZtQyxNQ0ozRW1tQyxFQUFvQmhwQyxFQUFJLEdBR3hCZ3BDLEVBQW9CcE0sRUFBSzBNLEdBQ2pCQyxRQUFRaDZCLElBQUlwUyxPQUFPa0csS0FBSzJsQyxFQUFvQmhwQyxHQUFHNm9DLFFBQU8sQ0FBQ1csRUFBVTNtQyxLQUN2RW1tQyxFQUFvQmhwQyxFQUFFNkMsR0FBS3ltQyxFQUFTRSxHQUM3QkEsSUFDTCxLQ05KUixFQUFvQm5MLEVBQUt5TCxHQUVaQSxFQUFVLE1DRnZCTixFQUFvQlMsU0FBWUgsR0FFbkJBLEVBQVUsT0NIdkJOLEVBQW9CM2hDLEVBQUksV0FDdkIsR0FBMEIsaUJBQWZxaUMsV0FBeUIsT0FBT0EsV0FDM0MsSUFDQyxPQUFPOXJDLE1BQVEsSUFBSStyQyxTQUFTLGNBQWIsR0FDZCxNQUFPL00sR0FDUixHQUFzQixpQkFBWHpjLE9BQXFCLE9BQU9BLFFBTGpCLEdDQXhCNm9CLEVBQW9CcEwsRUFBSSxDQUFDMTRCLEVBQUswa0MsSUFBVXpzQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLd0gsRUFBSzBrQyxHM0VBOUVqdEMsRUFBYSxHQUNiQyxFQUFvQixlQUV4Qm9zQyxFQUFvQjF4QixFQUFJLENBQUN1eUIsRUFBSzdZLEVBQU1udUIsRUFBS3ltQyxLQUN4QyxHQUFHM3NDLEVBQVdrdEMsR0FBUWx0QyxFQUFXa3RDLEdBQUsvcEMsS0FBS2t4QixPQUEzQyxDQUNBLElBQUk4WSxFQUFRQyxFQUNaLFFBQVdocEMsSUFBUjhCLEVBRUYsSUFEQSxJQUFJbW5DLEVBQVV4aUMsU0FBU3lpQyxxQkFBcUIsVUFDcEM3cUMsRUFBSSxFQUFHQSxFQUFJNHFDLEVBQVExcUMsT0FBUUYsSUFBSyxDQUN2QyxJQUFJK0gsRUFBSTZpQyxFQUFRNXFDLEdBQ2hCLEdBQUcrSCxFQUFFK2lDLGFBQWEsUUFBVUwsR0FBTzFpQyxFQUFFK2lDLGFBQWEsaUJBQW1CdHRDLEVBQW9CaUcsRUFBSyxDQUFFaW5DLEVBQVMzaUMsRUFBRyxPQUcxRzJpQyxJQUNIQyxHQUFhLEdBQ2JELEVBQVN0aUMsU0FBU0MsY0FBYyxXQUV6QjBpQyxRQUFVLFFBQ2pCTCxFQUFPTSxRQUFVLElBQ2JwQixFQUFvQnFCLElBQ3ZCUCxFQUFPUSxhQUFhLFFBQVN0QixFQUFvQnFCLElBRWxEUCxFQUFPUSxhQUFhLGVBQWdCMXRDLEVBQW9CaUcsR0FDeERpbkMsRUFBT1MsSUFBTVYsR0FFZGx0QyxFQUFXa3RDLEdBQU8sQ0FBQzdZLEdBQ25CLElBQUl3WixFQUFtQixDQUFDNXBDLEVBQU1pTyxLQUU3Qmk3QixFQUFPVyxRQUFVWCxFQUFPWSxPQUFTLEtBQ2pDQyxhQUFhUCxHQUNiLElBQUlRLEVBQVVqdUMsRUFBV2t0QyxHQUl6QixVQUhPbHRDLEVBQVdrdEMsR0FDbEJDLEVBQU8xK0IsWUFBYzArQixFQUFPMStCLFdBQVdyRCxZQUFZK2hDLEdBQ25EYyxHQUFXQSxFQUFRN3FDLFNBQVM4WSxHQUFRQSxFQUFHaEssS0FDcENqTyxFQUFNLE9BQU9BLEVBQUtpTyxJQUdsQnU3QixFQUFVUyxXQUFXTCxFQUFpQjc5QixLQUFLLFVBQU01TCxFQUFXLENBQUV2QyxLQUFNLFVBQVc2RyxPQUFReWtDLElBQVcsTUFDdEdBLEVBQU9XLFFBQVVELEVBQWlCNzlCLEtBQUssS0FBTW05QixFQUFPVyxTQUNwRFgsRUFBT1ksT0FBU0YsRUFBaUI3OUIsS0FBSyxLQUFNbTlCLEVBQU9ZLFFBQ25EWCxHQUFjdmlDLFNBQVNzakMsS0FBS2xqQyxZQUFZa2lDLEs0RXZDekNkLEVBQW9CNWhDLEVBQUt1MkIsSUFDSCxvQkFBWG9OLFFBQTBCQSxPQUFPQyxhQUMxQzd0QyxPQUFPK2lCLGVBQWV5ZCxFQUFTb04sT0FBT0MsWUFBYSxDQUFFN25DLE1BQU8sV0FFN0RoRyxPQUFPK2lCLGVBQWV5ZCxFQUFTLGFBQWMsQ0FBRXg2QixPQUFPLEssTUNMdkQsSUFBSThuQyxFQUNBakMsRUFBb0IzaEMsRUFBRTZqQyxnQkFBZUQsRUFBWWpDLEVBQW9CM2hDLEVBQUVrZ0MsU0FBVyxJQUN0RixJQUFJLy9CLEVBQVd3aEMsRUFBb0IzaEMsRUFBRUcsU0FDckMsSUFBS3lqQyxHQUFhempDLElBQ2JBLEVBQVMyakMsZ0JBQ1pGLEVBQVl6akMsRUFBUzJqQyxjQUFjWixNQUMvQlUsR0FBVyxDQUNmLElBQUlqQixFQUFVeGlDLEVBQVN5aUMscUJBQXFCLFVBQ3pDRCxFQUFRMXFDLFNBQVEyckMsRUFBWWpCLEVBQVFBLEVBQVExcUMsT0FBUyxHQUFHaXJDLEtBSzdELElBQUtVLEVBQVcsTUFBTSxJQUFJNXNDLE1BQU0seURBQ2hDNHNDLEVBQVlBLEVBQVU3ZSxRQUFRLE9BQVEsSUFBSUEsUUFBUSxRQUFTLElBQUlBLFFBQVEsWUFBYSxLQUNwRjRjLEVBQW9CenJDLEVBQUkwdEMsRyxHNUUwQnBCcHVDLEVBQWtCeXNDLEdBQ2QsSUFBSUMsU0FBUSxDQUFDNkIsRUFBU0MsS0FDNUIsSUFBSUMsRUFBT3RDLEVBQW9CUyxTQUFTSCxHQUNwQ2lDLEVBQVd2QyxFQUFvQnpyQyxFQUFJK3RDLEVBQ3ZDLEdBbEJtQixFQUFDQSxFQUFNQyxLQUUzQixJQURBLElBQUlDLEVBQW1CaGtDLFNBQVN5aUMscUJBQXFCLFFBQzdDN3FDLEVBQUksRUFBR0EsRUFBSW9zQyxFQUFpQmxzQyxPQUFRRixJQUFLLENBQ2hELElBQ0lxc0MsR0FEQUMsRUFBTUYsRUFBaUJwc0MsSUFDUjhxQyxhQUFhLGNBQWdCd0IsRUFBSXhCLGFBQWEsUUFDakUsR0FBZSxlQUFad0IsRUFBSUMsTUFBeUJGLElBQWFILEdBQVFHLElBQWFGLEdBQVcsT0FBT0csRUFFckYsSUFBSUUsRUFBb0Jwa0MsU0FBU3lpQyxxQkFBcUIsU0FDdEQsSUFBUTdxQyxFQUFJLEVBQUdBLEVBQUl3c0MsRUFBa0J0c0MsT0FBUUYsSUFBSyxDQUNqRCxJQUFJc3NDLEVBRUosSUFESUQsR0FEQUMsRUFBTUUsRUFBa0J4c0MsSUFDVDhxQyxhQUFhLGdCQUNoQm9CLEdBQVFHLElBQWFGLEVBQVUsT0FBT0csSUFPbkRHLENBQWVQLEVBQU1DLEdBQVcsT0FBT0gsSUE3Q3JCLEVBQUM5QixFQUFTaUMsRUFBVUgsRUFBU0MsS0FDbkQsSUFBSVMsRUFBVXRrQyxTQUFTQyxjQUFjLFFBRXJDcWtDLEVBQVFILElBQU0sYUFDZEcsRUFBUXR0QyxLQUFPLFdBaUJmc3RDLEVBQVFyQixRQUFVcUIsRUFBUXBCLE9BaEJKNzdCLElBR3JCLEdBREFpOUIsRUFBUXJCLFFBQVVxQixFQUFRcEIsT0FBUyxLQUNoQixTQUFmNzdCLEVBQU1yUSxLQUNUNHNDLFFBQ00sQ0FDTixJQUFJVyxFQUFZbDlCLElBQXlCLFNBQWZBLEVBQU1yUSxLQUFrQixVQUFZcVEsRUFBTXJRLE1BQ2hFd3RDLEVBQVduOUIsR0FBU0EsRUFBTXhKLFFBQVV3SixFQUFNeEosT0FBT2ltQyxNQUFRQyxFQUN6RFUsRUFBTSxJQUFJNXRDLE1BQU0scUJBQXVCaXJDLEVBQVUsY0FBZ0IwQyxFQUFXLEtBQ2hGQyxFQUFJaHVDLEtBQU8sd0JBQ1hndUMsRUFBSXp0QyxLQUFPdXRDLEVBQ1hFLEVBQUlDLFFBQVVGLEVBQ2RGLEVBQVExZ0MsV0FBV3JELFlBQVkrakMsR0FDL0JULEVBQU9ZLEtBSVRILEVBQVFSLEtBQU9DLEVBRWYvakMsU0FBU3NqQyxLQUFLbGpDLFlBQVlra0MsSUFzQnpCSyxDQUFpQjdDLEVBQVNpQyxFQUFVSCxFQUFTQyxNQUkzQ3Z1QyxFQUFxQixDQUN4QnN2QyxJQUFLLEdBR05wRCxFQUFvQmhwQyxFQUFFcXNDLFFBQVUsQ0FBQy9DLEVBQVNFLEtBRXRDMXNDLEVBQW1Cd3NDLEdBQVVFLEVBQVMxcEMsS0FBS2hELEVBQW1Cd3NDLElBQ3pCLElBQWhDeHNDLEVBQW1Cd3NDLElBRlgsQ0FBQyxJQUFNLEdBRWdDQSxJQUN0REUsRUFBUzFwQyxLQUFLaEQsRUFBbUJ3c0MsR0FBV3pzQyxFQUFleXNDLEdBQVNnRCxNQUFLLEtBQ3hFeHZDLEVBQW1Cd3NDLEdBQVcsS0FDM0IxTSxJQUVILGFBRE85L0IsRUFBbUJ3c0MsR0FDcEIxTSxPLE02RXpEVCxJQUFJMlAsRUFBa0IsQ0FDckJILElBQUssR0FJTnBELEVBQW9CaHBDLEVBQUVjLEVBQUksQ0FBQ3dvQyxFQUFTRSxLQUVsQyxJQUFJZ0QsRUFBcUJ4RCxFQUFvQnBMLEVBQUUyTyxFQUFpQmpELEdBQVdpRCxFQUFnQmpELFFBQVd2b0MsRUFDdEcsR0FBMEIsSUFBdkJ5ckMsRUFHRixHQUFHQSxFQUNGaEQsRUFBUzFwQyxLQUFLMHNDLEVBQW1CLFFBQzNCLENBR0wsSUFBSUMsRUFBVSxJQUFJbEQsU0FBUSxDQUFDNkIsRUFBU0MsS0FDbkNtQixFQUFxQkQsRUFBZ0JqRCxHQUFXLENBQUM4QixFQUFTQyxNQUUzRDdCLEVBQVMxcEMsS0FBSzBzQyxFQUFtQixHQUFLQyxHQUd0QyxJQUFJNUMsRUFBTWIsRUFBb0J6ckMsRUFBSXlyQyxFQUFvQm5MLEVBQUV5TCxHQUVwRGxwQixFQUFRLElBQUkvaEIsTUFnQmhCMnFDLEVBQW9CMXhCLEVBQUV1eUIsR0FmRmg3QixJQUNuQixHQUFHbTZCLEVBQW9CcEwsRUFBRTJPLEVBQWlCakQsS0FFZixLQUQxQmtELEVBQXFCRCxFQUFnQmpELE1BQ1JpRCxFQUFnQmpELFFBQVd2b0MsR0FDckR5ckMsR0FBb0IsQ0FDdEIsSUFBSVQsRUFBWWw5QixJQUF5QixTQUFmQSxFQUFNclEsS0FBa0IsVUFBWXFRLEVBQU1yUSxNQUNoRWt1QyxFQUFVNzlCLEdBQVNBLEVBQU14SixRQUFVd0osRUFBTXhKLE9BQU9rbEMsSUFDcERucUIsRUFBTWppQixRQUFVLGlCQUFtQm1yQyxFQUFVLGNBQWdCeUMsRUFBWSxLQUFPVyxFQUFVLElBQzFGdHNCLEVBQU1oaUIsS0FBTyxpQkFDYmdpQixFQUFNNWhCLEtBQU91dEMsRUFDYjNyQixFQUFNOHJCLFFBQVVRLEVBQ2hCRixFQUFtQixHQUFHcHNCLE1BSWdCLFNBQVdrcEIsRUFBU0EsS0FpQmxFLElBQUlxRCxFQUF1QixDQUFDQyxFQUE0QmpuQyxLQUt2RCxJQUpBLElBR0lzakMsRUFBVUssR0FIVHVELEVBQVVDLEVBQWFDLEdBQVdwbkMsRUFHaEJ2RyxFQUFJLEVBQUc0dEMsRUFBVyxHQUNwQzV0QyxFQUFJeXRDLEVBQVN2dEMsT0FBUUYsSUFDekJrcUMsRUFBVXVELEVBQVN6dEMsR0FDaEI0cEMsRUFBb0JwTCxFQUFFMk8sRUFBaUJqRCxJQUFZaUQsRUFBZ0JqRCxJQUNyRTBELEVBQVNsdEMsS0FBS3lzQyxFQUFnQmpELEdBQVMsSUFFeENpRCxFQUFnQmpELEdBQVcsRUFFNUIsSUFBSUwsS0FBWTZELEVBQ1o5RCxFQUFvQnBMLEVBQUVrUCxFQUFhN0QsS0FDckNELEVBQW9CdGhCLEVBQUV1aEIsR0FBWTZELEVBQVk3RCxJQUtoRCxJQUZHOEQsR0FBU0EsRUFBUS9ELEdBQ2pCNEQsR0FBNEJBLEVBQTJCam5DLEdBQ3BEcW5DLEVBQVMxdEMsUUFDZDB0QyxFQUFTN2lDLE9BQVQ2aUMsSUFLRUMsRUFBcUJydEIsS0FBOEIsd0JBQUlBLEtBQThCLHlCQUFLLEdBQzlGcXRCLEVBQW1CbHRDLFFBQVE0c0MsRUFBcUJoZ0MsS0FBSyxLQUFNLElBQzNEc2dDLEVBQW1CbnRDLEtBQU82c0MsRUFBcUJoZ0MsS0FBSyxLQUFNc2dDLEVBQW1CbnRDLEtBQUs2TSxLQUFLc2dDLEsscUZDS3ZGLFNBQVNDLEVBQU8zQyxFQUFLNEMsRUFBYXJtQyxHQUU5QixPQUFPcW1DLEVBQWMsSUFBTTVDLEVBQU0sS0FEZnpqQyxHQUFRLFFBQVNBLEdBQVMsUUFTekMsSUFBSXNtQyxFQUFTLElBaEdnQixXQUNoQyxTQUFTQyxJQUtMenZDLEtBQUswdkMsT0FBUyxHQUtkMXZDLEtBQUsydkMsV0FBYSxFQUtsQjN2QyxLQUFLNHZDLGNBQWdCLEdBOER6QixPQXpEQUgsRUFBZTd2QyxVQUFVaUMsTUFBUSxXQUM3QjdCLEtBQUswdkMsT0FBUyxHQUNkMXZDLEtBQUsydkMsV0FBYSxHQUt0QkYsRUFBZTd2QyxVQUFVaXdDLGVBQWlCLFdBQ3RDLE9BQU83dkMsS0FBSzJ2QyxXQUFhM3ZDLEtBQUs0dkMsZUFLbENILEVBQWU3dkMsVUFBVWt3QyxPQUFTLFdBQzlCLEdBQUk5dkMsS0FBSzZ2QyxpQkFBa0IsQ0FDdkIsSUFBSXJ1QyxFQUFJLEVBQ1IsSUFBSyxJQUFJeUQsS0FBT2pGLEtBQUswdkMsT0FBUSxDQUN6QixJQUFJSyxFQUFZL3ZDLEtBQUswdkMsT0FBT3pxQyxHQUNWLElBQVAsRUFBTnpELE1BQW1CdXVDLEVBQVV0K0IsdUJBQ3ZCelIsS0FBSzB2QyxPQUFPenFDLEtBQ2pCakYsS0FBSzJ2QyxlQVd2QkYsRUFBZTd2QyxVQUFVNEMsSUFBTSxTQUFVbXFDLEVBQUs0QyxFQUFhcm1DLEdBQ3ZELElBQUlqRSxFQUFNcXFDLEVBQU8zQyxFQUFLNEMsRUFBYXJtQyxHQUNuQyxPQUFPakUsS0FBT2pGLEtBQUswdkMsT0FBUzF2QyxLQUFLMHZDLE9BQU96cUMsR0FBTyxNQVFuRHdxQyxFQUFlN3ZDLFVBQVV3RCxJQUFNLFNBQVV1cEMsRUFBSzRDLEVBQWFybUMsRUFBTzZtQyxHQUM5RCxJQUFJOXFDLEVBQU1xcUMsRUFBTzNDLEVBQUs0QyxFQUFhcm1DLEdBQ25DbEosS0FBSzB2QyxPQUFPenFDLEdBQU84cUMsSUFDakIvdkMsS0FBSzJ2QyxZQVNYRixFQUFlN3ZDLFVBQVVveUIsUUFBVSxTQUFVZ2UsR0FDekNod0MsS0FBSzR2QyxjQUFnQkksRUFDckJod0MsS0FBSzh2QyxVQUVGTCxFQTlFd0IsSSxVQ0ZuQyxRQUNhLFVBRGIsRUFFYSxVQUZiLEVBR1ksU0FIWixFQUlhLFNBSmIsRUFLb0IsZ0JBTHBCLEVBTW9CLGdCQU5wQixFQU9jLFVBUGQsRUFRYyxVQVJkLEVBU1ksUyxJQ2RKdHdDLEUsOEJBREpDLEdBQ0lELEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxLQWtUdkYsUUF4UStCLFNBQVVJLEdBS3JDLFNBQVM4dkMsRUFBVTd1QyxHQUNmLElBQUlkLEVBQVFILEVBQU9MLEtBQUtFLE9BQVNBLEtBSTdCbWlDLEdBQWEsUUFBTyxHQUFJL2dDLEdBNEI1QixPQTNCQStnQyxFQUFnQyxhQUNSaC9CLElBQXBCL0IsRUFBUTB6QixRQUF3QjF6QixFQUFRMHpCLFFBQVUsR0FDdEQsT0FBb0QsaUJBQXRDcU4sRUFBZ0MsUUFBZ0IsSUFDOURBLEVBQWdDLGFBQ1JoL0IsSUFBcEIvQixFQUFRaWlDLFNBQXdCamlDLEVBQVFpaUMsUUFDNUNsQixFQUFnQyxPQUFJL2dDLEVBQVFrOEIsT0FDNUM2RSxFQUF1QyxtQkFDVGgvQixJQUExQi9CLEVBQVE4dUMsY0FBOEI5dUMsRUFBUTh1QyxjQUFnQnA4QixJQUNsRXF1QixFQUF1QyxtQkFDVGgvQixJQUExQi9CLEVBQVErdUMsY0FBOEIvdUMsRUFBUSt1QyxjQUFnQixFQUNsRWhPLEVBQWlDLGFBQ1RoL0IsSUFBcEIvQixFQUFRZ3ZDLFFBQXdCaHZDLEVBQVFndkMsU0FBVSxJQUN0RGpPLEVBQWlDLGFBQ1RoL0IsSUFBcEIvQixFQUFRaXZDLFFBQXdCanZDLEVBQVFpdkMsUUFBVXY4QixJQUt0RHhULEVBQU1nd0MsZ0JBQ3VCbnRDLElBQXpCZy9CLEVBQVdXLFVBQTBCMWhDLEVBQVEwaEMsVUFBWSxrQkFDdERYLEVBQVdXLFVBQ2xCeGlDLEVBQU1nRixjQUFjNjhCLEdBS3BCN2hDLEVBQU1pd0MsT0FBUyxLQUNSandDLEVBZ09YLE9BclFBbEIsRUFBVTZ3QyxFQUFXOXZDLEdBMENyQjh2QyxFQUFVcndDLFVBQVU0d0MsYUFBZSxXQUMvQixPQUFPeHdDLEtBQUtzd0MsWUFTaEJMLEVBQVVyd0MsVUFBVTZ3QyxjQUFnQixTQUFVQyxHQUUxQyxJQUFJQyxFQUFRM3dDLEtBQUt1d0MsUUFDSSxDQUNiNW9CLE1BQU8zbkIsS0FDUDR3QyxhQUF5Qnp0QyxJQUFoQnV0QyxHQUFtQ0EsR0FFaERwVCxFQUFTdDlCLEtBQUt3OUIsWUFZbEIsT0FYQW1ULEVBQU03YixTQUFVLFFBQU12bUIsS0FBS2c0QixNQUEwQixJQUFwQnZtQyxLQUFLbTRCLGNBQXNCLElBQUssRUFBRyxHQUNwRXdZLEVBQU1FLFlBQWM3d0MsS0FBSzh3QyxpQkFDekJILEVBQU10TixRQUFVcmpDLEtBQUsrd0MsYUFDckJKLEVBQU05OEIsT0FBUzdULEtBQUsrWixZQUNwQjQyQixFQUFNclQsWUFDU242QixJQUFYbTZCLEVBQXVCQSxHQUEyQixJQUFsQnFULEVBQU1DLFFBQW9COThCLElBQVcsRUFDekU2OEIsRUFBTVQsY0FBZ0Jsd0MsS0FBS2d4QyxtQkFDM0JMLEVBQU1SLGNBQWdCNWhDLEtBQUswSCxJQUFJalcsS0FBS2l4QyxtQkFBb0IsR0FDeEROLEVBQU1QLFFBQVVwd0MsS0FBS2t4QyxhQUNyQlAsRUFBTU4sUUFBVXJ3QyxLQUFLbXhDLGFBQ3JCbnhDLEtBQUt1d0MsT0FBU0ksRUFDUEEsR0FRWFYsRUFBVXJ3QyxVQUFVd3hDLGVBQWlCLFNBQVVsd0MsR0FDM0MsT0FBTyxXQVFYK3VDLEVBQVVyd0MsVUFBVXl4QyxvQkFBc0IsU0FBVUMsR0FDaEQsT0FBTyxXQVNYckIsRUFBVXJ3QyxVQUFVbWEsVUFBWSxXQUM1QixPQUErRC9aLEtBQUt3QyxJQUFJLElBUTVFeXRDLEVBQVVyd0MsVUFBVW94QyxpQkFBbUIsV0FDbkMsT0FBOEJoeEMsS0FBS3dDLElBQUksSUFRM0N5dEMsRUFBVXJ3QyxVQUFVcXhDLGlCQUFtQixXQUNuQyxPQUE4Qmp4QyxLQUFLd0MsSUFBSSxJQVEzQ3l0QyxFQUFVcndDLFVBQVVzeEMsV0FBYSxXQUM3QixPQUE4Qmx4QyxLQUFLd0MsSUFBSSxJQVEzQ3l0QyxFQUFVcndDLFVBQVV1eEMsV0FBYSxXQUM3QixPQUE4Qm54QyxLQUFLd0MsSUFBSSxJQVEzQ3l0QyxFQUFVcndDLFVBQVV1NEIsV0FBYSxXQUM3QixPQUE4Qm40QixLQUFLd0MsSUFBSSxJQU0zQ3l0QyxFQUFVcndDLFVBQVVreEMsZUFBaUIsV0FDakMsT0FBTyxXQVFYYixFQUFVcndDLFVBQVVteEMsV0FBYSxXQUM3QixPQUErQi93QyxLQUFLd0MsSUFBSSxJQVM1Q3l0QyxFQUFVcndDLFVBQVU0OUIsVUFBWSxXQUM1QixPQUE4Qng5QixLQUFLd0MsSUFBSSxJQVMzQ3l0QyxFQUFVcndDLFVBQVVzc0IsVUFBWSxTQUFVclksR0FDdEM3VCxLQUFLb0QsSUFBSSxFQUFzQnlRLElBUW5DbzhCLEVBQVVyd0MsVUFBVTJ4QyxpQkFBbUIsU0FBVXJCLEdBQzdDbHdDLEtBQUtvRCxJQUFJLEVBQThCOHNDLElBUTNDRCxFQUFVcndDLFVBQVU0eEMsaUJBQW1CLFNBQVVyQixHQUM3Q253QyxLQUFLb0QsSUFBSSxFQUE4QitzQyxJQVUzQ0YsRUFBVXJ3QyxVQUFVNnhDLFdBQWEsU0FBVXBCLEdBQ3ZDcndDLEtBQUtvRCxJQUFJLEVBQXdCaXRDLElBVXJDSixFQUFVcndDLFVBQVU4eEMsV0FBYSxTQUFVdEIsR0FDdkNwd0MsS0FBS29ELElBQUksRUFBd0JndEMsSUFRckNILEVBQVVyd0MsVUFBVXM0QixXQUFhLFNBQVVwRCxJQUN2QyxPQUEwQixpQkFBWkEsRUFBc0IsSUFDcEM5MEIsS0FBS29ELElBQUksRUFBdUIweEIsSUFRcENtYixFQUFVcndDLFVBQVVxbUMsV0FBYSxTQUFVNUMsR0FDdkNyakMsS0FBS29ELElBQUksRUFBdUJpZ0MsSUFTcEM0TSxFQUFVcndDLFVBQVVvK0IsVUFBWSxTQUFVMlQsR0FDdEMzeEMsS0FBS29ELElBQUksRUFBdUJ1dUMsSUFLcEMxQixFQUFVcndDLFVBQVUrRCxnQkFBa0IsV0FDOUIzRCxLQUFLdXdDLFNBQ0x2d0MsS0FBS3V3QyxPQUFPNW9CLE1BQVEsS0FDcEIzbkIsS0FBS3V3QyxPQUFTLE1BRWxCcHdDLEVBQU9QLFVBQVUrRCxnQkFBZ0I3RCxLQUFLRSxPQUVuQ2l3QyxFQXRRbUIsQ0F1UTVCLE0sY0NyVEYsUUFtQmdCLGFBbkJoQixFQWtDb0IsaUJDakNwQixFQUNlLFlBRGYsRUFHVyxRLGNDVlAsRUFBd0MsV0FDeEMsSUFBSTl3QyxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQWdUckMsU0FBUzZ4QyxFQUFPQyxFQUFZQyxHQUMvQixJQUFLRCxFQUFXeE8sUUFDWixPQUFPLEVBRVgsSUFBSWxzQixFQUFhMjZCLEVBQVUzNkIsV0FDM0IsR0FBSUEsRUFBYTA2QixFQUFXMUIsZUFDeEJoNUIsR0FBYzA2QixFQUFXM0IsY0FDekIsT0FBTyxFQUVYLElBQUk2QixFQUFPRCxFQUFVQyxLQUNyQixPQUFPQSxFQUFPRixFQUFXekIsU0FBVzJCLEdBQVFGLEVBQVd4QixRQUUzRCxRQTVOMkIsU0FBVWx3QyxHQUtqQyxTQUFTNnhDLEVBQU01d0MsR0FDWCxJQUFJZCxFQUFRTixLQUNSaXlDLEdBQWMsUUFBTyxHQUFJN3dDLFVBQ3RCNndDLEVBQVkvckMsUUFDbkI1RixFQUFRSCxFQUFPTCxLQUFLRSxLQUFNaXlDLElBQWdCanlDLE1BS3BDa3lDLGtCQUFvQixLQUsxQjV4QyxFQUFNNnhDLGNBQWdCLEtBS3RCN3hDLEVBQU04eEMsaUJBQW1CLEtBS3pCOXhDLEVBQU00OEIsVUFBWSxLQUVkOTdCLEVBQVFtMkIsU0FDUmozQixFQUFNaTNCLE9BQVNuMkIsRUFBUW0yQixRQUV2Qm4yQixFQUFRdUosS0FDUnJLLEVBQU02akIsT0FBTy9pQixFQUFRdUosS0FFekJySyxFQUFNOE8sa0JBQWlCLFFBQW1CLEdBQXVCOU8sRUFBTSt4Qyw2QkFDdkUsSUFBSW5zQyxFQUFTOUUsRUFBUThFLE9BQ1k5RSxFQUFjLE9BQ3pDLEtBRU4sT0FEQWQsRUFBTWd5QyxVQUFVcHNDLEdBQ1Q1RixFQTZKWCxPQXRNQSxFQUFVMHhDLEVBQU83eEMsR0ErQ2pCNnhDLEVBQU1weUMsVUFBVXd4QyxlQUFpQixTQUFVbHdDLEdBQ3ZDLElBQUltQixFQUFRbkIsR0FBd0IsR0FFcEMsT0FEQW1CLEVBQU1ILEtBQUtsQyxNQUNKcUMsR0FNWDJ2QyxFQUFNcHlDLFVBQVV5eEMsb0JBQXNCLFNBQVVDLEdBQzVDLElBQUlpQixFQUFTakIsR0FBMEIsR0FFdkMsT0FEQWlCLEVBQU9yd0MsS0FBS2xDLEtBQUt5d0MsaUJBQ1Y4QixHQVFYUCxFQUFNcHlDLFVBQVU0eUMsVUFBWSxXQUN4QixPQUFrQ3h5QyxLQUFLd0MsSUFBSSxJQUEwQixNQUt6RXd2QyxFQUFNcHlDLFVBQVVreEMsZUFBaUIsV0FDN0IsSUFBSTVxQyxFQUFTbEcsS0FBS3d5QyxZQUNsQixPQUFRdHNDLEVBQWlDQSxFQUFPdXNDLFdBQS9CLEdBS3JCVCxFQUFNcHlDLFVBQVU4eUMsb0JBQXNCLFdBQ2xDMXlDLEtBQUt3RyxXQUtUd3JDLEVBQU1weUMsVUFBVXl5Qyw0QkFBOEIsV0FDdENyeUMsS0FBS295QyxvQkFDTCxRQUFjcHlDLEtBQUtveUMsa0JBQ25CcHlDLEtBQUtveUMsaUJBQW1CLE1BRTVCLElBQUlsc0MsRUFBU2xHLEtBQUt3eUMsWUFDZHRzQyxJQUNBbEcsS0FBS295QyxrQkFBbUIsUUFBT2xzQyxFQUFRdThCLEVBQUEsU0FBa0J6aUMsS0FBSzB5QyxvQkFBcUIxeUMsT0FFdkZBLEtBQUt3RyxXQU9Ud3JDLEVBQU1weUMsVUFBVW1vQixZQUFjLFNBQVVnQixHQUNwQyxPQUFPL29CLEtBQUtrOUIsVUFBVW5WLFlBQVlnQixJQVV0Q2lwQixFQUFNcHlDLFVBQVUyM0IsT0FBUyxTQUFVb2IsRUFBWWxyQyxHQUMzQyxJQUFJbXJDLEVBQWdCNXlDLEtBQUt5OUIsY0FDekIsR0FBSW1WLEVBQWNDLGFBQWFGLEdBQzNCLE9BQU9DLEVBQWNFLFlBQVlILEVBQVlsckMsSUFlckR1cUMsRUFBTXB5QyxVQUFVdWtCLE9BQVMsU0FBVXhaLEdBQzNCM0ssS0FBS2t5QyxxQkFDTCxRQUFjbHlDLEtBQUtreUMsbUJBQ25CbHlDLEtBQUtreUMsa0JBQW9CLE1BRXhCdm5DLEdBQ0QzSyxLQUFLd0csVUFFTHhHLEtBQUtteUMsaUJBQ0wsUUFBY255QyxLQUFLbXlDLGVBQ25CbnlDLEtBQUtteUMsY0FBZ0IsTUFFckJ4bkMsSUFDQTNLLEtBQUtreUMsbUJBQW9CLFFBQU92bkMsRUFBSyxHQUE0QixTQUFVdUcsR0FDdkUsSUFDSTZoQyxFQURrRSxFQUNuQ0osV0FBV0ksaUJBQzFDbEIsRUFBYTd4QyxLQUFLeXdDLGVBQWMsSUFFcEMsUUFBUXNDLEVBQWlCQyxNQUFLLFNBQVVDLEdBQ3BDLE9BQU9BLEVBQWdCdHJCLFFBQVVrcUIsRUFBV2xxQixTQUM1QyxJQUNKb3JCLEVBQWlCN3dDLEtBQUsydkMsS0FDdkI3eEMsTUFDSEEsS0FBS215QyxlQUFnQixRQUFPbnlDLEtBQU15aUMsRUFBQSxTQUFrQjkzQixFQUFJNHNCLE9BQVE1c0IsR0FDaEUzSyxLQUFLd0csWUFTYndyQyxFQUFNcHlDLFVBQVUweUMsVUFBWSxTQUFVcHNDLEdBQ2xDbEcsS0FBS29ELElBQUksRUFBc0I4QyxJQU1uQzhyQyxFQUFNcHlDLFVBQVU2OUIsWUFBYyxXQUkxQixPQUhLejlCLEtBQUtrOUIsWUFDTmw5QixLQUFLazlCLFVBQVlsOUIsS0FBS2t6QyxrQkFFbkJsekMsS0FBS2s5QixXQUtoQjhVLEVBQU1weUMsVUFBVXV6QyxZQUFjLFdBQzFCLFFBQVNuekMsS0FBS2s5QixXQU9sQjhVLEVBQU1weUMsVUFBVXN6QyxlQUFpQixXQUM3QixPQUFPLE1BS1hsQixFQUFNcHlDLFVBQVUrRCxnQkFBa0IsV0FDOUIzRCxLQUFLc3lDLFVBQVUsTUFDZm55QyxFQUFPUCxVQUFVK0QsZ0JBQWdCN0QsS0FBS0UsT0FFbkNneUMsRUF2TWUsQ0F3TXhCb0IsR0N4RUssU0FBU25yQyxFQUFPb3JDLEVBQWFDLEdBRWhDLElBREEsSUFBSXJyQyxHQUFTLEVBQ0p6RyxFQUFJNnhDLEVBQVkzeEMsT0FBUyxFQUFHRixHQUFLLElBQUtBLEVBQzNDLEdBQUk2eEMsRUFBWTd4QyxJQUFNOHhDLEVBQVk5eEMsR0FBSSxDQUNsQ3lHLEdBQVMsRUFDVCxNQUdSLE9BQU9BLEVBb0JKLFNBQVNtVyxFQUFPM0osRUFBWTRKLEdBQy9CLElBQUlrMUIsRUFBV2hsQyxLQUFLK0ksSUFBSStHLEdBQ3BCbTFCLEVBQVdqbEMsS0FBS2lKLElBQUk2RyxHQUNwQmpLLEVBQUlLLEVBQVcsR0FBSzgrQixFQUFXOStCLEVBQVcsR0FBSysrQixFQUMvQ24vQixFQUFJSSxFQUFXLEdBQUs4K0IsRUFBVzkrQixFQUFXLEdBQUsrK0IsRUFHbkQsT0FGQS8rQixFQUFXLEdBQUtMLEVBQ2hCSyxFQUFXLEdBQUtKLEVBQ1RJLEVBOEhKLFNBQVNtRixFQUFNbkYsRUFBWW9GLEdBQzlCLEdBQUlBLEVBQVdHLFdBQVksQ0FDdkIsSUFBSUMsR0FBYSxRQUFTSixFQUFXRSxhQUNqQzA1QixFQWFMLFNBQXVCaC9CLEVBQVlvRixFQUFZNjVCLEdBQ2xELElBQUk1NUIsRUFBbUJELEVBQVdFLFlBQzlCMDVCLEVBQWEsRUFDakIsR0FBSTU1QixFQUFXRyxhQUNWdkYsRUFBVyxHQUFLcUYsRUFBaUIsSUFBTXJGLEVBQVcsR0FBS3FGLEVBQWlCLElBQUssQ0FDOUUsSUFBSTY1QixFQUFvQkQsSUFBeUIsUUFBUzU1QixHQUMxRDI1QixFQUFhbGxDLEtBQUsyTCxPQUFPekYsRUFBVyxHQUFLcUYsRUFBaUIsSUFBTTY1QixHQUVwRSxPQUFPRixFQXJCY0csQ0FBY24vQixFQUFZb0YsRUFBWUksR0FDbkR3NUIsSUFDQWgvQixFQUFXLElBQU1nL0IsRUFBYXg1QixHQUd0QyxPQUFPeEYsRUN6WVgsSUFBSSxFQUF3QyxXQUN4QyxJQUFJdFYsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0ErTTVDLFNBQVM4ekMsRUFBZ0JscEMsRUFBS2dvQyxHQUMxQixXQUVKLFFBOUtpQyxTQUFVeHlDLEdBS3ZDLFNBQVMyekMsRUFBWW5wQyxHQUNqQixJQUFJckssRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FNakMsT0FEQU0sRUFBTXdqQixLQUFPblosRUFDTnJLLEVBeUpYLE9BcEtBLEVBQVV3ekMsRUFBYTN6QyxHQWtCdkIyekMsRUFBWWwwQyxVQUFVbTBDLG9CQUFzQixTQUFVbnpDLEVBQU0reEMsSUFDeEQsV0FNSm1CLEVBQVlsMEMsVUFBVW8wQyxvQkFBc0IsU0FBVXJCLEdBQ2xELElBQUliLEVBQVlhLEVBQVdiLFVBQ3ZCbUMsRUFBNkJ0QixFQUFXc0IsMkJBQ3hDQyxFQUE2QnZCLEVBQVd1Qiw0QkFDNUMsUUFBaUJELEVBQTRCdEIsRUFBVzltQyxLQUFLLEdBQUssRUFBRzhtQyxFQUFXOW1DLEtBQUssR0FBSyxFQUFHLEVBQUlpbUMsRUFBVTM2QixZQUFhLEVBQUkyNkIsRUFBVTM2QixZQUFhMjZCLEVBQVUxNkIsVUFBVzA2QixFQUFVNTZCLE9BQU8sSUFBSzQ2QixFQUFVNTZCLE9BQU8sS0FDL00sUUFBWWc5QixFQUE0QkQsSUFpQjVDSCxFQUFZbDBDLFVBQVV1MEMsMkJBQTZCLFNBQVUxL0IsRUFBWWsrQixFQUFZeHJCLEVBQWNpdEIsRUFBY2orQixFQUFVaytCLEVBQVNwdUIsRUFBYXF1QixHQUM3SSxJQUFJcEosRUFDQTRHLEVBQVlhLEVBQVdiLFVBUTNCLFNBQVNxQyxFQUEyQnZELEVBQVN2cEIsRUFBU00sRUFBT21WLEdBQ3pELE9BQU8zbUIsRUFBU3JXLEtBQUt1MEMsRUFBU2h0QixFQUFTdXBCLEVBQVVqcEIsRUFBUSxLQUFNbVYsR0FFbkUsSUFBSWpqQixFQUFhaTRCLEVBQVVqNEIsV0FDdkIwNkIsRUFBdUIzNkIsRUFBTW5GLEVBQVdoSyxRQUFTb1AsR0FDakQyNkIsRUFBVSxDQUFDLENBQUMsRUFBRyxJQUNuQixHQUFJMzZCLEVBQVdHLFlBQWNvNkIsRUFBYyxDQUN2QyxJQUFJdDZCLEVBQW1CRCxFQUFXRSxZQUM5QkUsR0FBYSxRQUFTSCxHQUMxQjA2QixFQUFRdHlDLEtBQUssRUFBRStYLEVBQVksR0FBSSxDQUFDQSxFQUFZLElBTWhELElBSkEsSUFBSXc2QixFQUFjOUIsRUFBV0ksaUJBQ3pCMkIsRUFBWUQsRUFBWS95QyxPQUN4Qml6QyxFQUE0QyxHQUM1Q0MsRUFBVyxHQUNOcHpDLEVBQUksRUFBR0EsRUFBSWd6QyxFQUFROXlDLE9BQVFGLElBQ2hDLElBQUssSUFBSTBCLEVBQUl3eEMsRUFBWSxFQUFHeHhDLEdBQUssSUFBS0EsRUFBRyxDQUNyQyxJQUFJMnVDLEVBQWE0QyxFQUFZdnhDLEdBQ3pCeWtCLEVBQVFrcUIsRUFBV2xxQixNQUN2QixHQUFJQSxFQUFNd3JCLGVBQ052QixFQUFPQyxFQUFZQyxJQUNuQjdyQixFQUFZbm1CLEtBQUt3MEMsRUFBVTNzQixHQUFRLENBQ25DLElBQUlpckIsRUFBZ0JqckIsRUFBTThWLGNBQ3RCdjNCLEVBQVN5aEIsRUFBTTZxQixZQUNuQixHQUFJSSxHQUFpQjFzQyxFQUFRLENBQ3pCLElBQUkwTixFQUFjMU4sRUFBTzJ1QyxXQUNuQk4sRUFDQTkvQixFQUNGcWdDLEVBQWFYLEVBQTJCcGxDLEtBQUssS0FBTThpQyxFQUFXakIsU0FDbEVnRSxFQUFTLEdBQUtoaEMsRUFBWSxHQUFLNGdDLEVBQVFoekMsR0FBRyxHQUMxQ296QyxFQUFTLEdBQUtoaEMsRUFBWSxHQUFLNGdDLEVBQVFoekMsR0FBRyxHQUMxQzBwQyxFQUFTMEgsRUFBY3VCLDJCQUEyQlMsRUFBVWpDLEVBQVl4ckIsRUFBYzJ0QixFQUFZSCxHQUV0RyxHQUFJekosRUFDQSxPQUFPQSxHQUt2QixHQUF1QixJQUFuQnlKLEVBQVFqekMsT0FBWixDQUdBLElBQUlxekMsRUFBUSxFQUFJSixFQUFRanpDLE9BTXhCLE9BTEFpekMsRUFBUXh5QyxTQUFRLFNBQVUybkIsRUFBR3RvQixHQUFLLE9BQVFzb0IsRUFBRWtyQixZQUFjeHpDLEVBQUl1ekMsS0FDOURKLEVBQVFoVCxNQUFLLFNBQVV2NkIsRUFBRzlILEdBQUssT0FBTzhILEVBQUU0dEMsV0FBYTExQyxFQUFFMDFDLGNBQ3ZETCxFQUFRM0IsTUFBSyxTQUFVbHBCLEdBQ25CLE9BQVFvaEIsRUFBU3BoQixFQUFFM1QsU0FBUzJULEVBQUV6QyxRQUFTeUMsRUFBRW5DLE1BQU9tQyxFQUFFZ1QsYUFFL0NvTyxJQWdCWDRJLEVBQVlsMEMsVUFBVXExQyxvQkFBc0IsU0FBVWxzQixFQUFPNHBCLEVBQVl4ckIsRUFBY2hSLEVBQVU4UCxHQUM3RixPQUFPLFdBZVg2dEIsRUFBWWwwQyxVQUFVczFDLHVCQUF5QixTQUFVemdDLEVBQVlrK0IsRUFBWXhyQixFQUFjaXRCLEVBQWNudUIsRUFBYW91QixHQUV0SCxZQUFzQmx4QyxJQURMbkQsS0FBS20wQywyQkFBMkIxL0IsRUFBWWsrQixFQUFZeHJCLEVBQWNpdEIsRUFBYyxLQUFNcDBDLEtBQU1pbUIsRUFBYW91QixJQU1sSVAsRUFBWWwwQyxVQUFVcWtCLE9BQVMsV0FDM0IsT0FBT2prQixLQUFLOGpCLE1BT2hCZ3dCLEVBQVlsMEMsVUFBVWt6QyxZQUFjLFNBQVVILElBQzFDLFdBTUptQixFQUFZbDBDLFVBQVV1MUMsd0JBQTBCLFNBQVV4QyxHQUNsRCxvQkFDQUEsRUFBV3lDLG9CQUFvQmx6QyxLQUFLMnhDLElBR3JDQyxFQXJLcUIsQ0FzSzlCdHdDLEVBQUEsRyx3QkN2TUUsRUFBd0MsV0FDeEMsSUFBSXJFLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBaUQ1QyxRQW5DaUMsU0FBVUksR0FTdkMsU0FBU2sxQyxFQUFZejBDLEVBQU0wMEMsRUFBMkJDLEVBQWdCQyxHQUNsRSxJQUFJbDFDLEVBQVFILEVBQU9MLEtBQUtFLEtBQU1ZLElBQVNaLEtBcUJ2QyxPQWRBTSxFQUFNbTFDLHNCQUF3QkgsRUFNOUJoMUMsRUFBTXF5QyxXQUFhNEMsRUFPbkJqMUMsRUFBTW8wQixRQUFVOGdCLEVBQ1RsMUMsRUFFWCxPQWhDQSxFQUFVKzBDLEVBQWFsMUMsR0FnQ2hCazFDLEVBakNxQixDQWtDOUJLLEVBQUEsSSxrQ0NuREUsRUFBd0MsV0FDeEMsSUFBSXYyQyxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQWdMNUMsUUFqSjBDLFNBQVVJLEdBS2hELFNBQVN3MUMsRUFBcUJockMsR0FDMUIsSUFBSXJLLEVBQVFILEVBQU9MLEtBQUtFLEtBQU0ySyxJQUFRM0ssS0FJdENNLEVBQU1zMUMsd0JBQXlCLFFBQU8sS0FBY0MsRUFBQSxpQkFBZ0NsckMsRUFBSW1yQyxXQUFXL21DLEtBQUtwRSxJQUt4R3JLLEVBQU15MUMsU0FBV25zQyxTQUFTQyxjQUFjLE9BQ3hDLElBQUlDLEVBQVF4SixFQUFNeTFDLFNBQVNqc0MsTUFDM0JBLEVBQU1tcUIsU0FBVyxXQUNqQm5xQixFQUFNMkMsTUFBUSxPQUNkM0MsRUFBTTRDLE9BQVMsT0FDZjVDLEVBQU13ekIsT0FBUyxJQUNmaDlCLEVBQU15MUMsU0FBU2pULFVBQVksS0FBcUIsYUFDaEQsSUFBSXlCLEVBQVk1NUIsRUFBSXFyQyxjQVlwQixPQVhBelIsRUFBVW4yQixhQUFhOU4sRUFBTXkxQyxTQUFVeFIsRUFBVTBSLFlBQWMsTUFLL0QzMUMsRUFBTTQxQyxVQUFZLEdBS2xCNTFDLEVBQU02MUMsa0JBQW1CLEVBQ2xCNzFDLEVBNkdYLE9BOUlBLEVBQVVxMUMsRUFBc0J4MUMsR0F1Q2hDdzFDLEVBQXFCLzFDLFVBQVVtMEMsb0JBQXNCLFNBQVVuekMsRUFBTSt4QyxHQUNqRSxJQUFJaG9DLEVBQU0zSyxLQUFLaWtCLFNBQ2YsR0FBSXRaLEVBQUk4RyxZQUFZN1EsR0FBTyxDQUN2QixJQUFJMmtCLEVBQVUsSUFBSSxFQUFZM2tCLE9BQU11QyxFQUFXd3ZDLEdBQy9DaG9DLEVBQUkvSCxjQUFjMmlCLEtBRzFCb3dCLEVBQXFCLzFDLFVBQVUrRCxnQkFBa0IsWUFDN0MsUUFBYzNELEtBQUs0MUMsd0JBQ25CNTFDLEtBQUsrMUMsU0FBU3ZvQyxXQUFXckQsWUFBWW5LLEtBQUsrMUMsVUFDMUM1MUMsRUFBT1AsVUFBVStELGdCQUFnQjdELEtBQUtFLE9BTTFDMjFDLEVBQXFCLzFDLFVBQVVrekMsWUFBYyxTQUFVSCxHQUNuRCxHQUFLQSxFQUFMLENBT0EzeUMsS0FBS2cwQyxvQkFBb0JyQixHQUN6QjN5QyxLQUFLK3pDLG9CQUFvQixFQUE0QnBCLEdBQ3JELElBQUlJLEVBQW1CSixFQUFXSSxpQkFBaUJwUixNQUFLLFNBQVV2NkIsRUFBRzlILEdBQ2pFLE9BQU84SCxFQUFFazJCLE9BQVNoK0IsRUFBRWcrQixVQUVwQndVLEVBQVlhLEVBQVdiLFVBQzNCOXhDLEtBQUtrMkMsVUFBVXgwQyxPQUFTLEVBTXhCLElBRkEsSUFBSTAwQyxFQUFrQixHQUNsQkMsRUFBa0IsS0FDYjcwQyxFQUFJLEVBQUdDLEVBQUtzeEMsRUFBaUJyeEMsT0FBUUYsRUFBSUMsSUFBTUQsRUFBRyxDQUN2RCxJQUFJcXdDLEVBQWFrQixFQUFpQnZ4QyxHQUVsQyxHQURBbXhDLEVBQVcyRCxXQUFhOTBDLEVBQ25Cb3dDLEVBQU9DLEVBQVlDLEtBQ25CRCxFQUFXaEIsYUFBZSxHQUN2QmdCLEVBQVdoQixhQUFlLEdBRmxDLENBS0EsSUFBSWxwQixFQUFRa3FCLEVBQVdscUIsTUFDbkI1bUIsRUFBVTRtQixFQUFNNFAsT0FBT29iLEVBQVkwRCxHQUNsQ3QxQyxJQUdEQSxJQUFZczFDLElBQ1pyMkMsS0FBS2syQyxVQUFVaDBDLEtBQUtuQixHQUNwQnMxQyxFQUFrQnQxQyxHQUVsQixpQkFBa0I0bUIsR0FDbEJ5dUIsRUFBZ0JsMEMsS0FBS3lsQixLQUc3QixJQUFTbm1CLEVBQUk0MEMsRUFBZ0IxMEMsT0FBUyxFQUFHRixHQUFLLElBQUtBLEVBQy9DNDBDLEVBQWdCNTBDLEdBQUcrMEMsZ0JBQWdCNUQsSUFFdkMsUUFBZ0IzeUMsS0FBSysxQyxTQUFVLzFDLEtBQUtrMkMsV0FDcENsMkMsS0FBSyt6QyxvQk5wR0ksY01vRzZDcEIsR0FDakQzeUMsS0FBS20yQyxtQkFDTm4yQyxLQUFLKzFDLFNBQVNqc0MsTUFBTW84QixRQUFVLEdBQzlCbG1DLEtBQUttMkMsa0JBQW1CLEdBRTVCbjJDLEtBQUttMUMsd0JBQXdCeEMsUUFoRHJCM3lDLEtBQUttMkMsbUJBQ0xuMkMsS0FBSysxQyxTQUFTanNDLE1BQU1vOEIsUUFBVSxPQUM5QmxtQyxLQUFLbTJDLGtCQUFtQixJQTZEcENSLEVBQXFCLzFDLFVBQVVxMUMsb0JBQXNCLFNBQVVsc0IsRUFBTzRwQixFQUFZeHJCLEVBQWNoUixFQUFVOFAsR0FJdEcsSUFIQSxJQUFJNnJCLEVBQVlhLEVBQVdiLFVBQ3ZCMkMsRUFBYzlCLEVBQVdJLGlCQUVwQnZ4QyxFQURPaXpDLEVBQVkveUMsT0FDSCxFQUFHRixHQUFLLElBQUtBLEVBQUcsQ0FDckMsSUFBSXF3QyxFQUFhNEMsRUFBWWp6QyxHQUN6Qm1tQixFQUFRa3FCLEVBQVdscUIsTUFDdkIsR0FBSUEsRUFBTXdyQixlQUNOdkIsRUFBT0MsRUFBWUMsSUFDbkI3ckIsRUFBWTBCLEdBQVEsQ0FDcEIsSUFDSTVmLEVBRGdCNGYsRUFBTThWLGNBQ0QrWSxlQUFlenRCLEVBQU80cEIsRUFBWXhyQixHQUMzRCxHQUFJcGYsRUFBTSxDQUNOLElBQUltakMsRUFBUy8wQixFQUFTd1IsRUFBTzVmLEdBQzdCLEdBQUltakMsRUFDQSxPQUFPQSxNQU9wQnlLLEVBL0k4QixDQWdKdkNjLEcsd0JDL0tFLEVBQXdDLFdBQ3hDLElBQUl0M0MsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0F3RHhDLEVBQ1EsU0F5S1osUUEvSmdDLFNBQVVJLEdBS3RDLFNBQVN1MkMsRUFBV3YxQyxHQUNoQixJQUFJYixFQUFRTixLQUNSb0IsRUFBVUQsR0FBZSxHQUN6Qjh3QyxHQUFzQyxRQUFPLEdBQUk3d0MsVUFDOUM2d0MsRUFBWXhxQixPQUNuQixJQUFJQSxFQUFTcm1CLEVBQVFxbUIsT0F5QnJCLE9BeEJBbm5CLEVBQVFILEVBQU9MLEtBQUtFLEtBQU1peUMsSUFBZ0JqeUMsTUFLcEMyMkMsb0JBQXNCLEdBSzVCcjJDLEVBQU1zMkMsY0FBZ0IsR0FDdEJ0MkMsRUFBTThPLGtCQUFpQixRQUFtQixHQUFrQjlPLEVBQU11MkMsc0JBQzlEcHZCLEVBQ0kvbkIsTUFBTWtILFFBQVE2Z0IsR0FDZEEsRUFBUyxJQUFJeG1CLEVBQUEsRUFBV3dtQixFQUFPaGQsUUFBUyxDQUFFbkosUUFBUSxLQUdsRCxPQUF1RCxtQkFBdkIsRUFBaUIsU0FBa0IsSUFJdkVtbUIsRUFBUyxJQUFJeG1CLEVBQUEsT0FBV2tDLEVBQVcsQ0FBRTdCLFFBQVEsSUFFakRoQixFQUFNdzJDLFVBQVVydkIsR0FDVG5uQixFQTBIWCxPQTVKQSxFQUFVbzJDLEVBQVl2MkMsR0F1Q3RCdTJDLEVBQVc5MkMsVUFBVW0zQyxtQkFBcUIsV0FDdEMvMkMsS0FBS3dHLFdBS1Rrd0MsRUFBVzkyQyxVQUFVaTNDLHFCQUF1QixXQUN4QzcyQyxLQUFLMjJDLG9CQUFvQngwQyxRQUFRLE1BQ2pDbkMsS0FBSzIyQyxvQkFBb0JqMUMsT0FBUyxFQUNsQyxJQUFJK2xCLEVBQVN6bkIsS0FBS2czQyxZQUVsQixJQUFLLElBQUl4eEIsS0FEVHhsQixLQUFLMjJDLG9CQUFvQnowQyxNQUFLLFFBQU91bEIsRUFBUXd2QixFQUFBLE1BQXlCajNDLEtBQUtrM0MsaUJBQWtCbDNDLE9BQU8sUUFBT3luQixFQUFRd3ZCLEVBQUEsU0FBNEJqM0MsS0FBS20zQyxvQkFBcUJuM0MsT0FDMUpBLEtBQUs0MkMsY0FDaEI1MkMsS0FBSzQyQyxjQUFjcHhCLEdBQUlyakIsUUFBUSxPQUVuQyxRQUFNbkMsS0FBSzQyQyxlQUVYLElBREEsSUFBSVEsRUFBYzN2QixFQUFPbmxCLFdBQ2hCZCxFQUFJLEVBQUdDLEVBQUsyMUMsRUFBWTExQyxPQUFRRixFQUFJQyxFQUFJRCxJQUFLLENBQ2xELElBQUltbUIsRUFBUXl2QixFQUFZNTFDLEdBQ3hCeEIsS0FBSzQyQyxlQUFjLFFBQU9qdkIsSUFBVSxFQUNoQyxRQUFPQSxFQUFPa3VCLEVBQUEsaUJBQWdDNzFDLEtBQUsrMkMsbUJBQW9CLzJDLE9BQ3ZFLFFBQU8ybkIsRUFBTzhhLEVBQUEsU0FBa0J6aUMsS0FBSysyQyxtQkFBb0IvMkMsT0FHakVBLEtBQUt3RyxXQU1Ua3dDLEVBQVc5MkMsVUFBVXMzQyxpQkFBbUIsU0FBVUcsR0FDOUMsSUFBSTF2QixFQUFvRDB2QixFQUF1QixRQUMvRXIzQyxLQUFLNDJDLGVBQWMsUUFBT2p2QixJQUFVLEVBQ2hDLFFBQU9BLEVBQU9rdUIsRUFBQSxpQkFBZ0M3MUMsS0FBSysyQyxtQkFBb0IvMkMsT0FDdkUsUUFBTzJuQixFQUFPOGEsRUFBQSxTQUFrQnppQyxLQUFLKzJDLG1CQUFvQi8yQyxPQUU3REEsS0FBS3dHLFdBTVRrd0MsRUFBVzkyQyxVQUFVdTNDLG9CQUFzQixTQUFVRSxHQUNqRCxJQUFJMXZCLEVBQW9EMHZCLEVBQXVCLFFBQzNFcHlDLEdBQU0sUUFBTzBpQixHQUNqQjNuQixLQUFLNDJDLGNBQWMzeEMsR0FBSzlDLFFBQVEsYUFDekJuQyxLQUFLNDJDLGNBQWMzeEMsR0FDMUJqRixLQUFLd0csV0FVVGt3QyxFQUFXOTJDLFVBQVVvM0MsVUFBWSxXQUM3QixPQUF3RmgzQyxLQUFLd0MsSUFBSSxJQVVyR2swQyxFQUFXOTJDLFVBQVVrM0MsVUFBWSxTQUFVcnZCLEdBQ3ZDem5CLEtBQUtvRCxJQUFJLEVBQWlCcWtCLElBTTlCaXZCLEVBQVc5MkMsVUFBVXd4QyxlQUFpQixTQUFVbHdDLEdBQzVDLElBQUltQixPQUFzQmMsSUFBZGpDLEVBQTBCQSxFQUFZLEdBSWxELE9BSEFsQixLQUFLZzNDLFlBQVk3MEMsU0FBUSxTQUFVd2xCLEdBQy9CQSxFQUFNeXBCLGVBQWUvdUMsTUFFbEJBLEdBTVhxMEMsRUFBVzkyQyxVQUFVeXhDLG9CQUFzQixTQUFVQyxHQUNqRCxJQUFJaUIsT0FBd0JwdkMsSUFBZm11QyxFQUEyQkEsRUFBYSxHQUNqRGdHLEVBQU0vRSxFQUFPN3dDLE9BQ2pCMUIsS0FBS2czQyxZQUFZNzBDLFNBQVEsU0FBVXdsQixHQUMvQkEsRUFBTTBwQixvQkFBb0JrQixNQUc5QixJQURBLElBQUlnRixFQUFnQnYzQyxLQUFLeXdDLGdCQUNoQmp2QyxFQUFJODFDLEVBQUs3MUMsRUFBSzh3QyxFQUFPN3dDLE9BQVFGLEVBQUlDLEVBQUlELElBQUssQ0FDL0MsSUFBSXF3QyxFQUFhVSxFQUFPL3dDLEdBQ3hCcXdDLEVBQVcvYyxTQUFXeWlCLEVBQWN6aUIsUUFDcEMrYyxFQUFXeE8sUUFBVXdPLEVBQVd4TyxTQUFXa1UsRUFBY2xVLFFBQ3pEd08sRUFBVzNCLGNBQWdCM2hDLEtBQUt5SCxJQUFJNjdCLEVBQVczQixjQUFlcUgsRUFBY3JILGVBQzVFMkIsRUFBVzFCLGNBQWdCNWhDLEtBQUswSCxJQUFJNDdCLEVBQVcxQixjQUFlb0gsRUFBY3BILGVBQzVFMEIsRUFBV3pCLFFBQVU3aEMsS0FBSzBILElBQUk0N0IsRUFBV3pCLFFBQVNtSCxFQUFjbkgsU0FDaEV5QixFQUFXeEIsUUFBVTloQyxLQUFLeUgsSUFBSTY3QixFQUFXeEIsUUFBU2tILEVBQWNsSCxjQUNuQ2x0QyxJQUF6Qm8wQyxFQUFjMWpDLGNBQ1kxUSxJQUF0QjB1QyxFQUFXaCtCLE9BQ1hnK0IsRUFBV2grQixRQUFTLFFBQWdCZytCLEVBQVdoK0IsT0FBUTBqQyxFQUFjMWpDLFFBR3JFZytCLEVBQVdoK0IsT0FBUzBqQyxFQUFjMWpDLFFBSTlDLE9BQU8wK0IsR0FLWG1FLEVBQVc5MkMsVUFBVWt4QyxlQUFpQixXQUNsQyxPQUFPLEdBRUo0RixFQTdKb0IsQ0E4SjdCdEQsR0NqT0YsSUFBSSxHQUF3QyxXQUN4QyxJQUFJajBDLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBK0M1QyxTQXpCOEIsU0FBVUksR0FPcEMsU0FBU3EzQyxFQUFTNTJDLEVBQU0rSixFQUFLNHFDLEdBQ3pCLElBQUlqMUMsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTVksSUFBU1osS0FhdkMsT0FQQU0sRUFBTXFLLElBQU1BLEVBTVpySyxFQUFNcXlDLGdCQUFnQ3h2QyxJQUFuQm95QyxFQUErQkEsRUFBaUIsS0FDNURqMUMsRUFFWCxPQXRCQSxHQUFVazNDLEVBQVVyM0MsR0FzQmJxM0MsRUF2QmtCLENBd0IzQjlCLEVBQUEsSUM5Q0YsSUFBSSxHQUF3QyxXQUN4QyxJQUFJdjJDLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBc0g1QyxTQS9GcUMsU0FBVUksR0FTM0MsU0FBU3MzQyxFQUFnQjcyQyxFQUFNK0osRUFBS3NILEVBQWV5bEMsRUFBY25DLEdBQzdELElBQUlqMUMsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTVksRUFBTStKLEVBQUs0cUMsSUFBbUJ2MUMsS0EwQjVELE9BbkJBTSxFQUFNMlIsY0FBZ0JBLEVBS3RCM1IsRUFBTXEzQyxPQUFTLEtBS2ZyM0MsRUFBTXMzQyxZQUFjLEtBUXBCdDNDLEVBQU11M0MsY0FBNEIxMEMsSUFBakJ1MEMsR0FBNkJBLEVBQ3ZDcDNDLEVBeURYLE9BNUZBLEdBQVVtM0MsRUFBaUJ0M0MsR0FxQzNCWixPQUFPK2lCLGVBQWVtMUIsRUFBZ0I3M0MsVUFBVyxRQUFTLENBTXRENEMsSUFBSyxXQUlELE9BSEt4QyxLQUFLMjNDLFNBQ04zM0MsS0FBSzIzQyxPQUFTMzNDLEtBQUsySyxJQUFJbXRDLGNBQWM5M0MsS0FBS2lTLGdCQUV2Q2pTLEtBQUsyM0MsUUFFaEJ2MEMsSUFBSyxTQUFVMmxCLEdBQ1gvb0IsS0FBSzIzQyxPQUFTNXVCLEdBRWxCMGlCLFlBQVksRUFDWnNNLGNBQWMsSUFFbEJ4NEMsT0FBTytpQixlQUFlbTFCLEVBQWdCNzNDLFVBQVcsYUFBYyxDQU8zRDRDLElBQUssV0FJRCxPQUhLeEMsS0FBSzQzQyxjQUNONTNDLEtBQUs0M0MsWUFBYzUzQyxLQUFLMkssSUFBSXF0Qyx1QkFBdUJoNEMsS0FBSytvQixRQUVyRC9vQixLQUFLNDNDLGFBRWhCeDBDLElBQUssU0FBVXFSLEdBQ1h6VSxLQUFLNDNDLFlBQWNuakMsR0FFdkJnM0IsWUFBWSxFQUNac00sY0FBYyxJQU9sQk4sRUFBZ0I3M0MsVUFBVTZQLGVBQWlCLFdBQ3ZDdFAsRUFBT1AsVUFBVTZQLGVBQWUzUCxLQUFLRSxNQUNyQ0EsS0FBS2lTLGNBQWN4QyxrQkFPdkJnb0MsRUFBZ0I3M0MsVUFBVThQLGdCQUFrQixXQUN4Q3ZQLEVBQU9QLFVBQVU4UCxnQkFBZ0I1UCxLQUFLRSxNQUN0Q0EsS0FBS2lTLGNBQWN2QyxtQkFFaEIrbkMsRUE3RnlCLENBOEZsQyxJLHVCQzlHRixTQUVpQixjLGVDTmIsR0FBd0MsV0FDeEMsSUFBSXQ0QyxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQW1TNUMsU0EvUTRDLFNBQVVJLEdBTWxELFNBQVM4M0MsRUFBdUJ0dEMsRUFBS3V0QyxHQUNqQyxJQUFJNTNDLEVBQVFILEVBQU9MLEtBQUtFLEtBQU0ySyxJQUFRM0ssS0FNdENNLEVBQU13akIsS0FBT25aLEVBS2JySyxFQUFNNjNDLGdCQUtONzNDLEVBQU04M0MsZ0JBQWlCLEVBS3ZCOTNDLEVBQU0rM0MsV0FBWSxFQUtsQi8zQyxFQUFNZzRDLGtCQUFvQixHQUsxQmg0QyxFQUFNaTRDLGVBQWlCTCxFQUNqQkEsRUFBZ0IsTUFDaEIsTUFPTjUzQyxFQUFNazRDLE1BQVEsS0FDZCxJQUFJejNDLEVBQVVULEVBQU13akIsS0FBS2t5QixjQWdDekIsT0EzQkExMUMsRUFBTW00QyxnQkFBa0IsRUFLeEJuNEMsRUFBTW80QyxnQkFBa0IsR0FDeEJwNEMsRUFBTXkxQyxTQUFXaDFDLEVBS2pCVCxFQUFNcTRDLHlCQUEwQixRQUFPNTNDLEVBQVMsR0FBOEJULEVBQU1zNEMsbUJBQW9CdDRDLEdBS3hHQSxFQUFNdTRDLDBCQUtOdjRDLEVBQU13NEMscUJBQXNCLFFBQU8vM0MsRUR6RjFCLGNDeUZpRVQsRUFBTXk0QyxZQUFhejRDLEdBSTdGQSxFQUFNMDRDLHNCQUF3QjE0QyxFQUFNMjRDLGlCQUFpQmxxQyxLQUFLek8sR0FDMURBLEVBQU15MUMsU0FBUzNtQyxpQkFBaUJxekIsRUFBQSxZQUFxQm5pQyxFQUFNMDRDLHdCQUF1QixPQUEwQixDQUFFMzJCLFNBQVMsSUFDaEgvaEIsRUE2TFgsT0E1UUEsR0FBVTIzQyxFQUF3QjkzQyxHQXNGbEM4M0MsRUFBdUJyNEMsVUFBVXM1QyxjQUFnQixTQUFVM2xDLEdBQ3ZELElBQUk0bEMsRUFBVyxJQUFJLEdBQWdCQyxHQUFBLFFBQTJCcDVDLEtBQUs4akIsS0FBTXZRLEdBQ3pFdlQsS0FBSzRDLGNBQWN1MkMsUUFDVWgyQyxJQUF6Qm5ELEtBQUttNEMsaUJBRUxwTCxhQUFhL3NDLEtBQUttNEMsaUJBQ2xCbjRDLEtBQUttNEMscUJBQWtCaDFDLEVBQ3ZCZzJDLEVBQVcsSUFBSSxHQUFnQkMsR0FBQSxXQUE4QnA1QyxLQUFLOGpCLEtBQU12USxHQUN4RXZULEtBQUs0QyxjQUFjdTJDLElBSW5CbjVDLEtBQUttNEMsZ0JBQWtCbEwsV0FFdkIsV0FDSWp0QyxLQUFLbTRDLHFCQUFrQmgxQyxFQUN2QixJQUFJZzJDLEVBQVcsSUFBSSxHQUFnQkMsR0FBQSxjQUFpQ3A1QyxLQUFLOGpCLEtBQU12USxHQUMvRXZULEtBQUs0QyxjQUFjdTJDLElBQ3JCcHFDLEtBQUsvTyxNQUFPLE1BVXRCaTRDLEVBQXVCcjRDLFVBQVV5NUMsc0JBQXdCLFNBQVU5bEMsR0FDL0QsSUFBSXRDLEVBQVFzQyxFQUNSdEMsRUFBTXJRLE1BQVF3NEMsR0FBQSxhQUNkbm9DLEVBQU1yUSxNQUFRdzRDLEdBQUEsdUJBQ1BwNUMsS0FBSzA0QyxnQkFBZ0J6bkMsRUFBTXdVLFdBRTdCeFUsRUFBTXJRLE1BQVF3NEMsR0FBQSxnQkFDbkJwNUMsS0FBSzA0QyxnQkFBZ0J6bkMsRUFBTXdVLFlBQWEsR0FFNUN6bEIsS0FBS3k0QyxnQkFBa0JsNUMsT0FBT2tHLEtBQUt6RixLQUFLMDRDLGlCQUFpQmgzQyxRQU83RHUyQyxFQUF1QnI0QyxVQUFVMDVDLGlCQUFtQixTQUFVL2xDLEdBQzFEdlQsS0FBS3E1QyxzQkFBc0I5bEMsR0FDM0IsSUFBSTRsQyxFQUFXLElBQUksR0FBZ0JDLEdBQUEsWUFBK0JwNUMsS0FBSzhqQixLQUFNdlEsR0FDN0V2VCxLQUFLNEMsY0FBY3UyQyxHQU9mbjVDLEtBQUtvNEMsaUJBQ0plLEVBQVMzcEMscUJBQ1R4UCxLQUFLcTRDLFdBQ05yNEMsS0FBS3U1QyxxQkFBcUJobUMsSUFDMUJ2VCxLQUFLazVDLGNBQWNsNUMsS0FBS3c0QyxPQUVDLElBQXpCeDRDLEtBQUt5NEMsa0JBQ0x6NEMsS0FBS3M0QyxrQkFBa0JuMkMsUUFBUSxNQUMvQm5DLEtBQUtzNEMsa0JBQWtCNTJDLE9BQVMsRUFDaEMxQixLQUFLcTRDLFdBQVksRUFDakJyNEMsS0FBS3c0QyxNQUFRLE9BU3JCUCxFQUF1QnI0QyxVQUFVMjVDLHFCQUF1QixTQUFVaG1DLEdBQzlELE9BQStCLElBQXhCQSxFQUFhUixRQU94QmtsQyxFQUF1QnI0QyxVQUFVZzVDLG1CQUFxQixTQUFVcmxDLEdBQzVEdlQsS0FBS280QyxlQUEwQyxJQUF6QnA0QyxLQUFLeTRDLGdCQUMzQno0QyxLQUFLcTVDLHNCQUFzQjlsQyxHQUMzQixJQUFJNGxDLEVBQVcsSUFBSSxHQUFnQkMsR0FBQSxjQUFpQ3A1QyxLQUFLOGpCLEtBQU12USxHQUcvRSxHQUZBdlQsS0FBSzRDLGNBQWN1MkMsR0FDbkJuNUMsS0FBS3c0QyxNQUFRamxDLEVBQ3lCLElBQWxDdlQsS0FBS3M0QyxrQkFBa0I1MkMsT0FBYyxDQUNyQyxJQUFJODNDLEVBQU14NUMsS0FBSzhqQixLQUFLMjFCLG1CQUNwQno1QyxLQUFLczRDLGtCQUFrQnAyQyxNQUFLLFFBQU9zM0MsRUFBS0osR0FBQSxjQUFpQ3A1QyxLQUFLMDVDLG1CQUFvQjE1QyxPQUFPLFFBQU93NUMsRUFBS0osR0FBQSxZQUErQnA1QyxLQUFLczVDLGlCQUFrQnQ1QyxPQWMzSyxRQUFPQSxLQUFLKzFDLFNBQVVxRCxHQUFBLGdCQUFtQ3A1QyxLQUFLczVDLGlCQUFrQnQ1QyxPQUM1RUEsS0FBSysxQyxTQUFTNEQsYUFBZTM1QyxLQUFLKzFDLFNBQVM0RCxnQkFBa0JILEdBQzdEeDVDLEtBQUtzNEMsa0JBQWtCcDJDLE1BQUssUUFBT2xDLEtBQUsrMUMsU0FBUzRELGNBQWVQLEdBQUEsWUFBK0JwNUMsS0FBS3M1QyxpQkFBa0J0NUMsU0FTbElpNEMsRUFBdUJyNEMsVUFBVTg1QyxtQkFBcUIsU0FBVW5tQyxHQUk1RCxHQUFJdlQsS0FBSzQ1QyxVQUFVcm1DLEdBQWUsQ0FDOUJ2VCxLQUFLcTRDLFdBQVksRUFDakIsSUFBSWMsRUFBVyxJQUFJLEdBQWdCQyxHQUFBLGNBQWlDcDVDLEtBQUs4akIsS0FBTXZRLEVBQWN2VCxLQUFLcTRDLFdBQ2xHcjRDLEtBQUs0QyxjQUFjdTJDLEtBVTNCbEIsRUFBdUJyNEMsVUFBVW01QyxZQUFjLFNBQVV4bEMsR0FDckR2VCxLQUFLNjRDLDBCQUE0QnRsQyxFQUNqQyxJQUFJc2tDLEtBQWM3M0MsS0FBS3c0QyxRQUFTeDRDLEtBQUs0NUMsVUFBVXJtQyxJQUMvQ3ZULEtBQUs0QyxjQUFjLElBQUksR0FBZ0IyUSxFQUFhM1MsS0FBTVosS0FBSzhqQixLQUFNdlEsRUFBY3NrQyxLQVV2RkksRUFBdUJyNEMsVUFBVXE1QyxpQkFBbUIsU0FBVWhvQyxHQUdyRGpSLEtBQUs2NEMsNEJBQ043NEMsS0FBSzY0QywwQkFBMEJnQixrQkFDL0I1b0MsRUFBTXhCLGtCQVNkd29DLEVBQXVCcjRDLFVBQVVnNkMsVUFBWSxTQUFVcm1DLEdBQ25ELE9BQVF2VCxLQUFLcTRDLFdBQ1Q5cEMsS0FBS29iLElBQUlwVyxFQUFhK1EsUUFBVXRrQixLQUFLdzRDLE1BQU1sMEIsU0FDdkN0a0IsS0FBS3U0QyxnQkFDVGhxQyxLQUFLb2IsSUFBSXBXLEVBQWFnUixRQUFVdmtCLEtBQUt3NEMsTUFBTWowQixTQUFXdmtCLEtBQUt1NEMsZ0JBS25FTixFQUF1QnI0QyxVQUFVK0QsZ0JBQWtCLFdBQzNDM0QsS0FBSzg0Qyx1QkFDTCxRQUFjOTRDLEtBQUs4NEMscUJBQ25COTRDLEtBQUs4NEMsb0JBQXNCLE1BRS9COTRDLEtBQUsrMUMsU0FBUzd1QyxvQkFBb0J1N0IsRUFBQSxZQUFxQnppQyxLQUFLZzVDLHVCQUN4RGg1QyxLQUFLMjRDLDJCQUNMLFFBQWMzNEMsS0FBSzI0Qyx5QkFDbkIzNEMsS0FBSzI0Qyx3QkFBMEIsTUFFbkMzNEMsS0FBS3M0QyxrQkFBa0JuMkMsUUFBUSxNQUMvQm5DLEtBQUtzNEMsa0JBQWtCNTJDLE9BQVMsRUFDaEMxQixLQUFLKzFDLFNBQVcsS0FDaEI1MUMsRUFBT1AsVUFBVStELGdCQUFnQjdELEtBQUtFLE9BRW5DaTRDLEVBN1FnQyxDQThRekMsTSxjQy9SRixTQUNnQixhQURoQixHQUVVLE9BRlYsR0FHWSxTQUhaLEdBSVUsT0NGSCxJQUFJaG9DLEdBQU82RCxJQXNPbEIsU0F6Tm1DLFdBSy9CLFNBQVNnbUMsRUFBY0MsRUFBa0JDLEdBS3JDaDZDLEtBQUtpNkMsa0JBQW9CRixFQUt6Qi81QyxLQUFLazZDLGFBQWVGLEVBS3BCaDZDLEtBQUttNkMsVUFBWSxHQUtqQm42QyxLQUFLbzZDLFlBQWMsR0FLbkJwNkMsS0FBS3E2QyxnQkFBa0IsR0F5TDNCLE9BcExBUCxFQUFjbDZDLFVBQVVpQyxNQUFRLFdBQzVCN0IsS0FBS202QyxVQUFVejRDLE9BQVMsRUFDeEIxQixLQUFLbzZDLFlBQVkxNEMsT0FBUyxHQUMxQixRQUFNMUIsS0FBS3E2QyxrQkFNZlAsRUFBY2w2QyxVQUFVMDZDLFFBQVUsV0FDOUIsSUFBSUMsRUFBV3Y2QyxLQUFLbTZDLFVBQ2hCSyxFQUFheDZDLEtBQUtvNkMsWUFDbEJyNUMsRUFBVXc1QyxFQUFTLEdBQ0EsR0FBbkJBLEVBQVM3NEMsUUFDVDY0QyxFQUFTNzRDLE9BQVMsRUFDbEI4NEMsRUFBVzk0QyxPQUFTLElBR3BCNjRDLEVBQVMsR0FBS0EsRUFBU3g0QyxNQUN2Qnk0QyxFQUFXLEdBQUtBLEVBQVd6NEMsTUFDM0IvQixLQUFLeTZDLFFBQVEsSUFFakIsSUFBSUMsRUFBYTE2QyxLQUFLazZDLGFBQWFuNUMsR0FFbkMsY0FET2YsS0FBS3E2QyxnQkFBZ0JLLEdBQ3JCMzVDLEdBT1grNEMsRUFBY2w2QyxVQUFVKzZDLFFBQVUsU0FBVTU1QyxJQUN4QyxTQUFTZixLQUFLazZDLGFBQWFuNUMsS0FBWWYsS0FBS3E2QyxpQkFBa0IsSUFDOUQsSUFBSU8sRUFBVzU2QyxLQUFLaTZDLGtCQUFrQmw1QyxHQUN0QyxPQUFJNjVDLEdBQVkzcUMsS0FDWmpRLEtBQUttNkMsVUFBVWo0QyxLQUFLbkIsR0FDcEJmLEtBQUtvNkMsWUFBWWw0QyxLQUFLMDRDLEdBQ3RCNTZDLEtBQUtxNkMsZ0JBQWdCcjZDLEtBQUtrNkMsYUFBYW41QyxLQUFZLEVBQ25EZixLQUFLNjZDLFVBQVUsRUFBRzc2QyxLQUFLbTZDLFVBQVV6NEMsT0FBUyxJQUNuQyxJQU9mbzRDLEVBQWNsNkMsVUFBVWs3QyxTQUFXLFdBQy9CLE9BQU85NkMsS0FBS202QyxVQUFVejRDLFFBUTFCbzRDLEVBQWNsNkMsVUFBVW03QyxtQkFBcUIsU0FBVS81QyxHQUNuRCxPQUFlLEVBQVJBLEVBQVksR0FRdkI4NEMsRUFBY2w2QyxVQUFVbzdDLG9CQUFzQixTQUFVaDZDLEdBQ3BELE9BQWUsRUFBUkEsRUFBWSxHQVF2Qjg0QyxFQUFjbDZDLFVBQVVxN0MsZ0JBQWtCLFNBQVVqNkMsR0FDaEQsT0FBUUEsRUFBUSxHQUFNLEdBTTFCODRDLEVBQWNsNkMsVUFBVXM3QyxTQUFXLFdBQy9CLElBQUkxNUMsRUFDSixJQUFLQSxHQUFLeEIsS0FBS202QyxVQUFVejRDLFFBQVUsR0FBSyxFQUFHRixHQUFLLEVBQUdBLElBQy9DeEIsS0FBS3k2QyxRQUFRajVDLElBTXJCczRDLEVBQWNsNkMsVUFBVStXLFFBQVUsV0FDOUIsT0FBaUMsSUFBMUIzVyxLQUFLbTZDLFVBQVV6NEMsUUFNMUJvNEMsRUFBY2w2QyxVQUFVdTdDLFlBQWMsU0FBVWwyQyxHQUM1QyxPQUFPQSxLQUFPakYsS0FBS3E2QyxpQkFNdkJQLEVBQWNsNkMsVUFBVXc3QyxTQUFXLFNBQVVyNkMsR0FDekMsT0FBT2YsS0FBS203QyxZQUFZbjdDLEtBQUtrNkMsYUFBYW41QyxLQU05Qys0QyxFQUFjbDZDLFVBQVU2NkMsUUFBVSxTQUFVejVDLEdBT3hDLElBTkEsSUFBSXU1QyxFQUFXdjZDLEtBQUttNkMsVUFDaEJLLEVBQWF4NkMsS0FBS282QyxZQUNsQmlCLEVBQVFkLEVBQVM3NEMsT0FDakJYLEVBQVV3NUMsRUFBU3Y1QyxHQUNuQjQ1QyxFQUFXSixFQUFXeDVDLEdBQ3RCczZDLEVBQWF0NkMsRUFDVkEsRUFBUXE2QyxHQUFTLEdBQUcsQ0FDdkIsSUFBSUUsRUFBU3Y3QyxLQUFLKzZDLG1CQUFtQi81QyxHQUNqQ3c2QyxFQUFTeDdDLEtBQUtnN0Msb0JBQW9CaDZDLEdBQ2xDeTZDLEVBQW9CRCxFQUFTSCxHQUFTYixFQUFXZ0IsR0FBVWhCLEVBQVdlLEdBQ3BFQyxFQUNBRCxFQUNOaEIsRUFBU3Y1QyxHQUFTdTVDLEVBQVNrQixHQUMzQmpCLEVBQVd4NUMsR0FBU3c1QyxFQUFXaUIsR0FDL0J6NkMsRUFBUXk2QyxFQUVabEIsRUFBU3Y1QyxHQUFTRCxFQUNsQnk1QyxFQUFXeDVDLEdBQVM0NUMsRUFDcEI1NkMsS0FBSzY2QyxVQUFVUyxFQUFZdDZDLElBTy9CODRDLEVBQWNsNkMsVUFBVWk3QyxVQUFZLFNBQVVTLEVBQVl0NkMsR0FLdEQsSUFKQSxJQUFJdTVDLEVBQVd2NkMsS0FBS202QyxVQUNoQkssRUFBYXg2QyxLQUFLbzZDLFlBQ2xCcjVDLEVBQVV3NUMsRUFBU3Y1QyxHQUNuQjQ1QyxFQUFXSixFQUFXeDVDLEdBQ25CQSxFQUFRczZDLEdBQVksQ0FDdkIsSUFBSUksRUFBYzE3QyxLQUFLaTdDLGdCQUFnQmo2QyxHQUN2QyxLQUFJdzVDLEVBQVdrQixHQUFlZCxHQU0xQixNQUxBTCxFQUFTdjVDLEdBQVN1NUMsRUFBU21CLEdBQzNCbEIsRUFBV3g1QyxHQUFTdzVDLEVBQVdrQixHQUMvQjE2QyxFQUFRMDZDLEVBTWhCbkIsRUFBU3Y1QyxHQUFTRCxFQUNsQnk1QyxFQUFXeDVDLEdBQVM0NUMsR0FLeEJkLEVBQWNsNkMsVUFBVSs3QyxhQUFlLFdBQ25DLElBS0k1NkMsRUFBU1MsRUFBR281QyxFQUxaYixFQUFtQi81QyxLQUFLaTZDLGtCQUN4Qk0sRUFBV3Y2QyxLQUFLbTZDLFVBQ2hCSyxFQUFheDZDLEtBQUtvNkMsWUFDbEJwNUMsRUFBUSxFQUNSOEIsRUFBSXkzQyxFQUFTNzRDLE9BRWpCLElBQUtGLEVBQUksRUFBR0EsRUFBSXNCLElBQUt0QixHQUVqQm81QyxFQUFXYixFQURYaDVDLEVBQVV3NUMsRUFBUy80QyxNQUVIeU8sVUFDTGpRLEtBQUtxNkMsZ0JBQWdCcjZDLEtBQUtrNkMsYUFBYW41QyxLQUc5Q3k1QyxFQUFXeDVDLEdBQVM0NUMsRUFDcEJMLEVBQVN2NUMsS0FBV0QsR0FHNUJ3NUMsRUFBUzc0QyxPQUFTVixFQUNsQnc1QyxFQUFXOTRDLE9BQVNWLEVBQ3BCaEIsS0FBS2s3QyxZQUVGcEIsRUF2TnVCLEdDckJsQyxJQUFJLEdBQXdDLFdBQ3hDLElBQUkzNkMsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0EySDVDLFNBckcrQixTQUFVSSxHQU1yQyxTQUFTeTdDLEVBQVVDLEVBQXNCQyxHQUNyQyxJQUFJeDdDLEVBQVFILEVBQU9MLEtBQUtFLE1BS3hCLFNBQVVlLEdBQ04sT0FBTzg2QyxFQUFxQjVzQyxNQUFNLEtBQU1sTyxNQU01QyxTQUFVQSxHQUNOLE9BQW1EQSxFQUFRLEdBQUl1dUMsYUFDN0R0dkMsS0FrQk4sT0FoQkFNLEVBQU15N0MsdUJBQXlCejdDLEVBQU0wN0MsaUJBQWlCanRDLEtBQUt6TyxHQUszREEsRUFBTTI3QyxvQkFBc0JILEVBSzVCeDdDLEVBQU00N0MsY0FBZ0IsRUFLdEI1N0MsRUFBTTY3QyxrQkFBb0IsR0FDbkI3N0MsRUE0RFgsT0FsR0EsR0FBVXM3QyxFQUFXejdDLEdBNENyQnk3QyxFQUFVaDhDLFVBQVUrNkMsUUFBVSxTQUFVNTVDLEdBQ3BDLElBQUlxN0MsRUFBUWo4QyxFQUFPUCxVQUFVKzZDLFFBQVE3NkMsS0FBS0UsS0FBTWUsR0FLaEQsT0FKSXE3QyxHQUNXcjdDLEVBQVEsR0FDZHFPLGlCQUFpQnF6QixFQUFBLFNBQWtCemlDLEtBQUsrN0Msd0JBRTFDSyxHQUtYUixFQUFVaDhDLFVBQVV5OEMsZ0JBQWtCLFdBQ2xDLE9BQU9yOEMsS0FBS2s4QyxlQU1oQk4sRUFBVWg4QyxVQUFVbzhDLGlCQUFtQixTQUFVL3FDLEdBQzdDLElBQUlxckMsRUFBbURyckMsRUFBWSxPQUMvRDAvQixFQUFRMkwsRUFBSzdKLFdBQ2pCLEdBQUs2SixFQUFLQyxNQy9FTixJRCtFYzVMLEdDMUVmLElEMkVDQSxHQzFFRCxJRDJFQ0EsRUFBMkIsQ0FDM0IyTCxFQUFLcDFDLG9CQUFvQnU3QixFQUFBLFNBQWtCemlDLEtBQUsrN0Msd0JBQ2hELElBQUlTLEVBQVVGLEVBQUtoTixTQUNma04sS0FBV3g4QyxLQUFLbThDLDJCQUNUbjhDLEtBQUttOEMsa0JBQWtCSyxLQUM1Qng4QyxLQUFLazhDLGVBRVhsOEMsS0FBS2k4Qyx3QkFPYkwsRUFBVWg4QyxVQUFVNjhDLGNBQWdCLFNBQVVDLEVBQWlCQyxHQUczRCxJQUZBLElBQ1dMLEVBQU1FLEVBRGJJLEVBQVcsRUFFUjU4QyxLQUFLazhDLGNBQWdCUSxHQUN4QkUsRUFBV0QsR0FDWDM4QyxLQUFLODZDLFdBQWEsR0FFbEIwQixHQURBRixFQUFtRHQ4QyxLQUFLczZDLFVBQVUsSUFDbkRoTCxTQ3hHakIsSUR5R1VnTixFQUFLN0osWUFDcUIrSixLQUFXeDhDLEtBQUttOEMsb0JBQzlDbjhDLEtBQUttOEMsa0JBQWtCSyxJQUFXLElBQ2hDeDhDLEtBQUtrOEMsZ0JBQ0xVLEVBQ0ZOLEVBQUtsakIsU0FJVndpQixFQW5HbUIsQ0FvRzVCLEkseUJFcEhGLE1DQUEsR0FDWSxTQURaLEdBRWdCLGFBRmhCLEdBR2MsV0NGUCxJLFdDT0EsU0FBU2lCLEdBQWFocEMsRUFBUWlwQyxFQUFZQyxHQUM3QyxPQUFPLFNBU0c3bEMsRUFBUUMsRUFBWXRMLEVBQU1teEMsRUFBY0MsR0FDOUMsR0FBSS9sQyxFQUFRLENBQ1IsSUFBSWdtQyxFQUFZSixFQUFhLEVBQUlqeEMsRUFBSyxHQUFLc0wsRUFDdkNnbUMsRUFBYUwsRUFBYSxFQUFJanhDLEVBQUssR0FBS3NMLEVBQ3hDaW1DLEVBQVNILEVBQWtCQSxFQUFnQixHQUFLLEVBQ2hESSxFQUFTSixFQUFrQkEsRUFBZ0IsR0FBSyxFQUNoRGxvQyxFQUFPbEIsRUFBTyxHQUFLcXBDLEVBQVksRUFBSUUsRUFDbkNub0MsRUFBT3BCLEVBQU8sR0FBS3FwQyxFQUFZLEVBQUlFLEVBQ25DcG9DLEVBQU9uQixFQUFPLEdBQUtzcEMsRUFBYSxFQUFJRSxFQUNwQ25vQyxFQUFPckIsRUFBTyxHQUFLc3BDLEVBQWEsRUFBSUUsRUFHcEN0b0MsRUFBT0UsSUFFUEEsRUFEQUYsR0FBUUUsRUFBT0YsR0FBUSxHQUd2QkMsRUFBT0UsSUFFUEEsRUFEQUYsR0FBUUUsRUFBT0YsR0FBUSxHQUczQixJQUFJWixHQUFJLFFBQU04QyxFQUFPLEdBQUluQyxFQUFNRSxHQUMzQlosR0FBSSxRQUFNNkMsRUFBTyxHQUFJbEMsRUFBTUUsR0FDM0I2Z0IsRUFBUSxHQUFLNWUsRUFVakIsT0FSSTZsQyxHQUFnQkQsSUFDaEIzb0MsSUFDSzJoQixFQUFReG5CLEtBQUs2YSxJQUFJLEVBQUk3YSxLQUFLMEgsSUFBSSxFQUFHbEIsRUFBT21DLEVBQU8sSUFBTTZlLEdBQ2xEQSxFQUFReG5CLEtBQUs2YSxJQUFJLEVBQUk3YSxLQUFLMEgsSUFBSSxFQUFHaUIsRUFBTyxHQUFLakMsR0FBUThnQixHQUM3RDFoQixJQUNLMGhCLEVBQVF4bkIsS0FBSzZhLElBQUksRUFBSTdhLEtBQUswSCxJQUFJLEVBQUdqQixFQUFPa0MsRUFBTyxJQUFNNmUsR0FDbERBLEVBQVF4bkIsS0FBSzZhLElBQUksRUFBSTdhLEtBQUswSCxJQUFJLEVBQUdpQixFQUFPLEdBQUtoQyxHQUFRNmdCLElBRTFELENBQUMzaEIsRUFBR0MsS0FXaEIsU0FBU2lwQyxHQUFLcG1DLEdBQ2pCLE9BQU9BLEUsZUNsRFgsU0FBU3FtQyxHQUE2QnBtQyxFQUFZcW1DLEVBQVdDLEVBQWNDLEdBQ3ZFLElBQUlDLEdBQWMsUUFBU0gsR0FBYUMsRUFBYSxHQUNqREcsR0FBYyxRQUFVSixHQUFhQyxFQUFhLEdBQ3RELE9BQUlDLEVBQ09udkMsS0FBS3lILElBQUltQixFQUFZNUksS0FBSzBILElBQUkwbkMsRUFBYUMsSUFFL0NydkMsS0FBS3lILElBQUltQixFQUFZNUksS0FBS3lILElBQUkybkMsRUFBYUMsSUFjdEQsU0FBU0MsR0FBMkIxbUMsRUFBWSs0QixFQUFlQyxHQUMzRCxJQUFJakYsRUFBUzM4QixLQUFLeUgsSUFBSW1CLEVBQVkrNEIsR0FZbEMsT0FWQWhGLEdBQ0kzOEIsS0FBSzZhLElBQUksRUFGRCxHQUVhN2EsS0FBSzBILElBQUksRUFBR2tCLEVBQWErNEIsRUFBZ0IsSUFGdEQsR0FHSixFQUNKQyxJQUNBakYsRUFBUzM4QixLQUFLMEgsSUFBSWkxQixFQUFRaUYsR0FDMUJqRixHQUNJMzhCLEtBQUs2YSxJQUFJLEVBUEwsR0FPaUI3YSxLQUFLMEgsSUFBSSxFQUFHazZCLEVBQWdCaDVCLEVBQWEsSUFQMUQsR0FTQSxJQUVMLFFBQU0rekIsRUFBUWlGLEVBQWdCLEVBQW1CLEVBQWhCRCxHQW1HckMsU0FBUzROLEdBQXVCNU4sRUFBZUMsRUFBZTROLEVBQVlDLEVBQWVDLEdBQzVGLE9BQU8sU0FRRzltQyxFQUFZelAsRUFBV21FLEVBQU1teEMsR0FDbkMsUUFBbUI3NUMsSUFBZmdVLEVBQTBCLENBQzFCLElBQUkrbUMsRUFBZUYsRUFDYlQsR0FBNkJyTixFQUFlOE4sRUFBZW55QyxFQUFNb3lDLEdBQ2pFL04sRUFFTixZQUQ0Qi9zQyxJQUFmNDZDLEdBQTJCQSxJQUN4QmYsRUFHVGEsR0FBMkIxbUMsRUFBWSttQyxFQUFjL04sSUFGakQsUUFBTWg1QixFQUFZZzVCLEVBQWUrTixLQzNKakQsU0FBU0MsR0FBUS9tQyxHQUNwQixZQUFpQmpVLElBQWJpVSxFQUNPLE9BR1AsRUFPRCxTQUFTLEdBQUtBLEdBQ2pCLFlBQWlCalUsSUFBYmlVLEVBQ09BLE9BR1AsRSxxQ0NaUixTQUFTZ25DLEdBQWN6b0MsRUFBaUIwb0MsRUFBU0MsRUFBU3pvQyxFQUFRekIsRUFBR0MsRUFBR3FJLEdBQ3BFLElBSUk5RyxFQUpBa0MsRUFBS25DLEVBQWdCMG9DLEdBQ3JCbm1DLEVBQUt2QyxFQUFnQjBvQyxFQUFVLEdBQy9CL3BDLEVBQUtxQixFQUFnQjJvQyxHQUFXeG1DLEVBQ2hDdkQsRUFBS29CLEVBQWdCMm9DLEVBQVUsR0FBS3BtQyxFQUV4QyxHQUFXLElBQVA1RCxHQUFtQixJQUFQQyxFQUNacUIsRUFBU3lvQyxNQUVSLENBQ0QsSUFBSS92QyxJQUFNOEYsRUFBSTBELEdBQU14RCxHQUFNRCxFQUFJNkQsR0FBTTNELElBQU9ELEVBQUtBLEVBQUtDLEVBQUtBLEdBQzFELEdBQUlqRyxFQUFJLEVBQ0pzSCxFQUFTMG9DLE1BRVIsSUFBSWh3QyxFQUFJLEVBQUcsQ0FDWixJQUFLLElBQUk5TSxFQUFJLEVBQUdBLEVBQUlxVSxJQUFVclUsRUFDMUJrYixFQUFhbGIsSUFBSyxRQUFLbVUsRUFBZ0Iwb0MsRUFBVTc4QyxHQUFJbVUsRUFBZ0Iyb0MsRUFBVTk4QyxHQUFJOE0sR0FHdkYsWUFEQW9PLEVBQWFoYixPQUFTbVUsR0FJdEJELEVBQVN5b0MsR0FHakIsSUFBUzc4QyxFQUFJLEVBQUdBLEVBQUlxVSxJQUFVclUsRUFDMUJrYixFQUFhbGIsR0FBS21VLEVBQWdCQyxFQUFTcFUsR0FFL0NrYixFQUFhaGIsT0FBU21VLEVBWW5CLFNBQVMwb0MsR0FBZ0I1b0MsRUFBaUJDLEVBQVEvTixFQUFLZ08sRUFBUUksR0FDbEUsSUFBSTZCLEVBQUtuQyxFQUFnQkMsR0FDckJzQyxFQUFLdkMsRUFBZ0JDLEVBQVMsR0FDbEMsSUFBS0EsR0FBVUMsRUFBUUQsRUFBUy9OLEVBQUsrTixHQUFVQyxFQUFRLENBQ25ELElBQUlrQyxFQUFLcEMsRUFBZ0JDLEdBQ3JCdUMsRUFBS3hDLEVBQWdCQyxFQUFTLEdBQzlCNG9DLEdBQWUsUUFBVTFtQyxFQUFJSSxFQUFJSCxFQUFJSSxHQUNyQ3FtQyxFQUFldm9DLElBQ2ZBLEVBQU11b0MsR0FFVjFtQyxFQUFLQyxFQUNMRyxFQUFLQyxFQUVULE9BQU9sQyxFQWdESixTQUFTd29DLEdBQW1COW9DLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVE2b0MsRUFBVUMsRUFBUXZxQyxFQUFHQyxFQUFHcUksRUFBY0MsRUFBb0JpaUMsR0FDL0gsR0FBSWhwQyxHQUFVL04sRUFDVixPQUFPOFUsRUFFWCxJQUFJbmIsRUFBR29iLEVBQ1AsR0FBaUIsSUFBYjhoQyxFQUFnQixDQUdoQixJQURBOWhDLEdBQWtCLFFBQVV4SSxFQUFHQyxFQUFHc0IsRUFBZ0JDLEdBQVNELEVBQWdCQyxFQUFTLEtBQzlEK0csRUFBb0IsQ0FDdEMsSUFBS25iLEVBQUksRUFBR0EsRUFBSXFVLElBQVVyVSxFQUN0QmtiLEVBQWFsYixHQUFLbVUsRUFBZ0JDLEVBQVNwVSxHQUcvQyxPQURBa2IsRUFBYWhiLE9BQVNtVSxFQUNmK0csRUFHUCxPQUFPRCxFQUtmLElBRkEsSUFBSWtpQyxFQUFXRCxHQUE4QixDQUFDM2dDLElBQUtBLEtBQy9DamQsRUFBUTRVLEVBQVNDLEVBQ2Q3VSxFQUFRNkcsR0FHWCxHQUZBdTJDLEdBQWN6b0MsRUFBaUIzVSxFQUFRNlUsRUFBUTdVLEVBQU82VSxFQUFRekIsRUFBR0MsRUFBR3dxQyxJQUNwRWppQyxHQUFrQixRQUFVeEksRUFBR0MsRUFBR3dxQyxFQUFTLEdBQUlBLEVBQVMsS0FDbENsaUMsRUFBb0IsQ0FFdEMsSUFEQUEsRUFBcUJDLEVBQ2hCcGIsRUFBSSxFQUFHQSxFQUFJcVUsSUFBVXJVLEVBQ3RCa2IsRUFBYWxiLEdBQUtxOUMsRUFBU3I5QyxHQUUvQmtiLEVBQWFoYixPQUFTbVUsRUFDdEI3VSxHQUFTNlUsT0FhVDdVLEdBQ0k2VSxFQUNJdEgsS0FBSzBILEtBQU0xSCxLQUFLeWYsS0FBS3BSLEdBQW1Cck8sS0FBS3lmLEtBQUtyUixJQUM5QytoQyxFQUNBLEVBQUcsR0FHdkIsR0FBSUMsSUFFQVAsR0FBY3pvQyxFQUFpQjlOLEVBQU1nTyxFQUFRRCxFQUFRQyxFQUFRekIsRUFBR0MsRUFBR3dxQyxJQUNuRWppQyxHQUFrQixRQUFVeEksRUFBR0MsRUFBR3dxQyxFQUFTLEdBQUlBLEVBQVMsS0FDbENsaUMsR0FBb0IsQ0FFdEMsSUFEQUEsRUFBcUJDLEVBQ2hCcGIsRUFBSSxFQUFHQSxFQUFJcVUsSUFBVXJVLEVBQ3RCa2IsRUFBYWxiLEdBQUtxOUMsRUFBU3I5QyxHQUUvQmtiLEVBQWFoYixPQUFTbVUsRUFHOUIsT0FBTzhHLEUsZUNpQ0osU0FBU21pQyxHQUFLdjVDLEVBQU9xWixHQUN4QixPQUFPQSxFQUFZclEsS0FBS2c0QixNQUFNaGhDLEVBQVFxWixHQXFCbkMsU0FBU21nQyxHQUFTcHBDLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVErSSxFQUFXb2dDLEVBQTJCQyxHQUVqRyxHQUFJcnBDLEdBQVUvTixFQUNWLE9BQU9vM0MsRUFHWCxJQVFJbG5DLEVBQUlJLEVBUkpMLEVBQUtnbkMsR0FBS25wQyxFQUFnQkMsR0FBU2dKLEdBQ25DMUcsRUFBSzRtQyxHQUFLbnBDLEVBQWdCQyxFQUFTLEdBQUlnSixHQUMzQ2hKLEdBQVVDLEVBRVZtcEMsRUFBMEJDLEtBQXNCbm5DLEVBQ2hEa25DLEVBQTBCQyxLQUFzQi9tQyxFQUloRCxHQUlJLEdBSEFILEVBQUsrbUMsR0FBS25wQyxFQUFnQkMsR0FBU2dKLEdBQ25DekcsRUFBSzJtQyxHQUFLbnBDLEVBQWdCQyxFQUFTLEdBQUlnSixJQUN2Q2hKLEdBQVVDLElBQ0loTyxFQU9WLE9BRkFtM0MsRUFBMEJDLEtBQXNCbG5DLEVBQ2hEaW5DLEVBQTBCQyxLQUFzQjltQyxFQUN6QzhtQyxRQUVObG5DLEdBQU1ELEdBQU1LLEdBQU1ELEdBQzNCLEtBQU90QyxFQUFTL04sR0FBSyxDQUVqQixJQUFJbVEsRUFBSzhtQyxHQUFLbnBDLEVBQWdCQyxHQUFTZ0osR0FDbkN4RyxFQUFLMG1DLEdBQUtucEMsRUFBZ0JDLEVBQVMsR0FBSWdKLEdBRzNDLEdBRkFoSixHQUFVQyxFQUVObUMsR0FBTUQsR0FBTUssR0FBTUQsRUFBdEIsQ0FJQSxJQUFJK21CLEVBQU1ubkIsRUFBS0QsRUFDWHFuQixFQUFNaG5CLEVBQUtELEVBRVhrbkIsRUFBTXBuQixFQUFLRixFQUNYdW5CLEVBQU1qbkIsRUFBS0YsRUFJWGduQixFQUFNRyxHQUFPRixFQUFNQyxJQUNqQkYsRUFBTSxHQUFLRSxFQUFNRixHQUFRQSxHQUFPRSxHQUFRRixFQUFNLEdBQUtFLEVBQU1GLEtBQ3pEQyxFQUFNLEdBQUtFLEVBQU1GLEdBQVFBLEdBQU9FLEdBQVFGLEVBQU0sR0FBS0UsRUFBTUYsSUFFM0RwbkIsRUFBS0MsRUFDTEcsRUFBS0MsSUFNVDRtQyxFQUEwQkMsS0FBc0JsbkMsRUFDaERpbkMsRUFBMEJDLEtBQXNCOW1DLEVBQ2hETCxFQUFLQyxFQUNMRyxFQUFLQyxFQUNMSixFQUFLQyxFQUNMRyxFQUFLQyxJQUtULE9BRkE0bUMsRUFBMEJDLEtBQXNCbG5DLEVBQ2hEaW5DLEVBQTBCQyxLQUFzQjltQyxFQUN6QzhtQyxFQ25TSixTQUFTQyxHQUFtQnZwQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRc3BDLEdBR3JFLElBRkEsSUFBSXZyQyxPQUFrQ3pRLElBQXBCZzhDLEVBQWdDQSxFQUFrQixHQUNoRTM5QyxFQUFJLEVBQ0MwQixFQUFJMFMsRUFBUTFTLEVBQUkyRSxFQUFLM0UsR0FBSzJTLEVBQy9CakMsRUFBWXBTLEtBQU9tVSxFQUFnQmxMLE1BQU12SCxFQUFHQSxFQUFJMlMsR0FHcEQsT0FEQWpDLEVBQVlsUyxPQUFTRixFQUNkb1MsRUFVSixTQUFTd3JDLEdBQXdCenBDLEVBQWlCQyxFQUFRa0wsRUFBTWpMLEVBQVF3cEMsR0FHM0UsSUFGQSxJQUFJeitCLE9BQW9DemQsSUFBckJrOEMsRUFBaUNBLEVBQW1CLEdBQ25FNzlDLEVBQUksRUFDQzBCLEVBQUksRUFBRzZkLEVBQUtELEVBQUtwZixPQUFRd0IsRUFBSTZkLElBQU03ZCxFQUFHLENBQzNDLElBQUkyRSxFQUFNaVosRUFBSzVkLEdBQ2YwZCxFQUFhcGYsS0FBTzA5QyxHQUFtQnZwQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRK0ssRUFBYXBmLElBQzFGb1UsRUFBUy9OLEVBR2IsT0FEQStZLEVBQWFsZixPQUFTRixFQUNmb2YsRUFXSixTQUFTMCtCLEdBQTZCM3BDLEVBQWlCQyxFQUFRMnBDLEVBQU8xcEMsRUFBUTJwQyxHQUdqRixJQUZBLElBQUlDLE9BQXNDdDhDLElBQXRCcThDLEVBQWtDQSxFQUFvQixHQUN0RWgrQyxFQUFJLEVBQ0MwQixFQUFJLEVBQUc2ZCxFQUFLdytCLEVBQU03OUMsT0FBUXdCLEVBQUk2ZCxJQUFNN2QsRUFBRyxDQUM1QyxJQUFJNGQsRUFBT3krQixFQUFNcjhDLEdBQ2pCdThDLEVBQWNqK0MsS0FBTzQ5QyxHQUF3QnpwQyxFQUFpQkMsRUFBUWtMLEVBQU1qTCxFQUFRNHBDLEVBQWNqK0MsSUFDbEdvVSxFQUFTa0wsRUFBS0EsRUFBS3BmLE9BQVMsR0FHaEMsT0FEQSs5QyxFQUFjLzlDLE9BQVNGLEVBQ2hCaStDLEVDL0NKLFNBQVNDLEdBQVcvcEMsRUFBaUJDLEVBQVEvTixFQUFLZ08sR0FJckQsSUFIQSxJQUFJOHBDLEVBQVksRUFDWjduQyxFQUFLbkMsRUFBZ0I5TixFQUFNZ08sR0FDM0JxQyxFQUFLdkMsRUFBZ0I5TixFQUFNZ08sRUFBUyxHQUNqQ0QsRUFBUy9OLEVBQUsrTixHQUFVQyxFQUFRLENBQ25DLElBQUlrQyxFQUFLcEMsRUFBZ0JDLEdBQ3JCdUMsRUFBS3hDLEVBQWdCQyxFQUFTLEdBQ2xDK3BDLEdBQWF6bkMsRUFBS0gsRUFBS0QsRUFBS0ssRUFDNUJMLEVBQUtDLEVBQ0xHLEVBQUtDLEVBRVQsT0FBT3duQyxFQUFZLEVDckJ2QixJQUFJLEdBQXdDLFdBQ3hDLElBQUl4Z0QsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0FpSjVDLFNBakhnQyxTQUFVSSxHQU90QyxTQUFTeS9DLEVBQVdoc0MsRUFBYXlJLEdBQzdCLElBQUkvYixFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQW1CakMsT0FkQU0sRUFBTXUvQyxXQUFhLEVBS25Cdi9DLEVBQU13L0MsbUJBQXFCLE9BQ1IzOEMsSUFBZmtaLEdBQTZCM2MsTUFBTWtILFFBQVFnTixFQUFZLElBS3ZEdFQsRUFBTWdjLGVBQ3NELEVBQWVELEdBTDNFL2IsRUFBTStmLG1CQUFtQmhFLEVBQ0ksR0FNMUIvYixFQW9GWCxPQTlHQSxHQUFVcy9DLEVBQVl6L0MsR0FpQ3RCeS9DLEVBQVdoZ0QsVUFBVXNVLE1BQVEsV0FDekIsT0FBTyxJQUFJMHJDLEVBQVc1L0MsS0FBSzJWLGdCQUFnQmxMLFFBQVN6SyxLQUFLd2MsU0FTN0RvakMsRUFBV2hnRCxVQUFVNmMsZUFBaUIsU0FBVXJJLEVBQUdDLEVBQUdxSSxFQUFjQyxHQUNoRSxPQUFJQSxHQUFxQixRQUF5QjNjLEtBQUsrWixZQUFhM0YsRUFBR0MsR0FDNURzSSxHQUVQM2MsS0FBSzgvQyxtQkFBcUI5L0MsS0FBS3lHLGdCQUMvQnpHLEtBQUs2L0MsVUFBWXR4QyxLQUFLeWYsS0FBS3V3QixHQUFnQnYrQyxLQUFLMlYsZ0JBQWlCLEVBQUczVixLQUFLMlYsZ0JBQWdCalUsT0FBUTFCLEtBQUs2VixPQUFRLElBQzlHN1YsS0FBSzgvQyxrQkFBb0I5L0MsS0FBS3lHLGVBRTNCZzRDLEdBQW1CeitDLEtBQUsyVixnQkFBaUIsRUFBRzNWLEtBQUsyVixnQkFBZ0JqVSxPQUFRMUIsS0FBSzZWLE9BQVE3VixLQUFLNi9DLFdBQVcsRUFBTXpyQyxFQUFHQyxFQUFHcUksRUFBY0MsS0FPM0lpakMsRUFBV2hnRCxVQUFVNlcsUUFBVSxXQUMzQixPQUFPaXBDLEdBQWUxL0MsS0FBSzJWLGdCQUFpQixFQUFHM1YsS0FBSzJWLGdCQUFnQmpVLE9BQVExQixLQUFLNlYsU0FPckYrcEMsRUFBV2hnRCxVQUFVaWQsZUFBaUIsV0FDbEMsT0FBT3FpQyxHQUFtQmwvQyxLQUFLMlYsZ0JBQWlCLEVBQUczVixLQUFLMlYsZ0JBQWdCalUsT0FBUTFCLEtBQUs2VixTQU96RitwQyxFQUFXaGdELFVBQVV3Z0IsOEJBQWdDLFNBQVUxQyxHQUMzRCxJQUFJc2hDLEVBQTRCLEdBRWhDLE9BREFBLEVBQTBCdDlDLE9IN0MzQixTQUF3QmlVLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVE2SCxFQUFrQnNoQyxFQUEyQkMsR0FDOUcsSUFBSW44QyxHQUFLK0UsRUFBTStOLEdBQVVDLEVBQ3pCLEdBQUkvUyxFQUFJLEVBQUcsQ0FDUCxLQUFPOFMsRUFBUy9OLEVBQUsrTixHQUFVQyxFQUMzQm1wQyxFQUEwQkMsS0FBc0J0cEMsRUFBZ0JDLEdBQ2hFb3BDLEVBQTBCQyxLQUN0QnRwQyxFQUFnQkMsRUFBUyxHQUVqQyxPQUFPcXBDLEVBR1gsSUFBSWMsRUFBVSxJQUFJcmdELE1BQU1vRCxHQUN4Qmk5QyxFQUFRLEdBQUssRUFDYkEsRUFBUWo5QyxFQUFJLEdBQUssRUFJakIsSUFGQSxJQUFJazlDLEVBQVEsQ0FBQ3BxQyxFQUFRL04sRUFBTWdPLEdBQ3ZCN1UsRUFBUSxFQUNMZy9DLEVBQU10K0MsT0FBUyxHQUFHLENBUXJCLElBUEEsSUFBSXUrQyxFQUFPRCxFQUFNaitDLE1BQ2JtK0MsRUFBUUYsRUFBTWorQyxNQUNkbytDLEVBQXFCLEVBQ3JCcm9DLEVBQUtuQyxFQUFnQnVxQyxHQUNyQmhvQyxFQUFLdkMsRUFBZ0J1cUMsRUFBUSxHQUM3Qm5vQyxFQUFLcEMsRUFBZ0JzcUMsR0FDckI5bkMsRUFBS3hDLEVBQWdCc3FDLEVBQU8sR0FDdkJ6K0MsRUFBSTArQyxFQUFRcnFDLEVBQVFyVSxFQUFJeStDLEVBQU16K0MsR0FBS3FVLEVBQVEsQ0FDaEQsSUFBSXpCLEVBQUl1QixFQUFnQm5VLEdBQ3BCNlMsRUFBSXNCLEVBQWdCblUsRUFBSSxHQUN4QjQrQyxHQUFvQixRQUF1QmhzQyxFQUFHQyxFQUFHeUQsRUFBSUksRUFBSUgsRUFBSUksR0FDN0Rpb0MsRUFBb0JELElBQ3BCbi9DLEVBQVFRLEVBQ1IyK0MsRUFBcUJDLEdBR3pCRCxFQUFxQnppQyxJQUNyQnFpQyxHQUFTLytDLEVBQVE0VSxHQUFVQyxHQUFVLEVBQ2pDcXFDLEVBQVFycUMsRUFBUzdVLEdBQ2pCZy9DLEVBQU05OUMsS0FBS2crQyxFQUFPbC9DLEdBRWxCQSxFQUFRNlUsRUFBU29xQyxHQUNqQkQsRUFBTTk5QyxLQUFLbEIsRUFBT2kvQyxJQUk5QixJQUFTeitDLEVBQUksRUFBR0EsRUFBSXNCLElBQUt0QixFQUNqQnUrQyxFQUFRditDLEtBQ1J3OUMsRUFBMEJDLEtBQ3RCdHBDLEVBQWdCQyxFQUFTcFUsRUFBSXFVLEdBQ2pDbXBDLEVBQTBCQyxLQUN0QnRwQyxFQUFnQkMsRUFBU3BVLEVBQUlxVSxFQUFTLElBR2xELE9BQU9vcEMsRUdQZ0NvQixDQUFlcmdELEtBQUsyVixnQkFBaUIsRUFBRzNWLEtBQUsyVixnQkFBZ0JqVSxPQUFRMUIsS0FBSzZWLE9BQVE2SCxFQUFrQnNoQyxFQUEyQixHQUMzSixJQUFJWSxFQUFXWixFQUEyQixVQU9yRFksRUFBV2hnRCxVQUFVbWQsUUFBVSxXQUMzQixPQUFPZ3RCLEdBQUEsZUFRWDZWLEVBQVdoZ0QsVUFBVW9kLGlCQUFtQixTQUFVbkosR0FDOUMsT0FBTyxHQVFYK3JDLEVBQVdoZ0QsVUFBVTBjLGVBQWlCLFNBQVUxSSxFQUFheUksR0FDekRyYyxLQUFLaWQsVUFBVVosRUFBWXpJLEVBQWEsR0FDbkM1VCxLQUFLMlYsa0JBQ04zVixLQUFLMlYsZ0JBQWtCLElBRTNCM1YsS0FBSzJWLGdCQUFnQmpVLFFBQVMsRUFBQTQrQyxHQUFBLElBQW1CdGdELEtBQUsyVixnQkFBaUIsRUFBRy9CLEVBQWE1VCxLQUFLNlYsUUFDNUY3VixLQUFLd0csV0FFRm81QyxFQS9Hb0IsQ0FnSDdCNy9CLEdBQUEsSSxlQ3BJSyxTQUFTd2dDLEdBQXlCNXFDLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVFoQyxHQVMzRSxRQVJjLFFBQWNBLEdBSzVCLFNBQVVZLEdBQ04sT0FBUStyQyxHQUFxQjdxQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRcEIsRUFBVyxHQUFJQSxFQUFXLE9BYTlGLFNBQVMrckMsR0FBcUI3cUMsRUFBaUJDLEVBQVEvTixFQUFLZ08sRUFBUXpCLEVBQUdDLEdBVzFFLElBSEEsSUFBSW9zQyxFQUFLLEVBQ0wzb0MsRUFBS25DLEVBQWdCOU4sRUFBTWdPLEdBQzNCcUMsRUFBS3ZDLEVBQWdCOU4sRUFBTWdPLEVBQVMsR0FDakNELEVBQVMvTixFQUFLK04sR0FBVUMsRUFBUSxDQUNuQyxJQUFJa0MsRUFBS3BDLEVBQWdCQyxHQUNyQnVDLEVBQUt4QyxFQUFnQkMsRUFBUyxHQUM5QnNDLEdBQU03RCxFQUNGOEQsRUFBSzlELElBQU0wRCxFQUFLRCxJQUFPekQsRUFBSTZELElBQU85RCxFQUFJMEQsSUFBT0ssRUFBS0QsR0FBTSxHQUN4RHVvQyxJQUdDdG9DLEdBQU05RCxJQUFNMEQsRUFBS0QsSUFBT3pELEVBQUk2RCxJQUFPOUQsRUFBSTBELElBQU9LLEVBQUtELEdBQU0sR0FDOUR1b0MsSUFFSjNvQyxFQUFLQyxFQUNMRyxFQUFLQyxFQUVULE9BQWMsSUFBUHNvQyxFQVdKLFNBQVNDLEdBQXNCL3FDLEVBQWlCQyxFQUFRa0wsRUFBTWpMLEVBQVF6QixFQUFHQyxHQUM1RSxHQUFvQixJQUFoQnlNLEVBQUtwZixPQUNMLE9BQU8sRUFFWCxJQUFLOCtDLEdBQXFCN3FDLEVBQWlCQyxFQUFRa0wsRUFBSyxHQUFJakwsRUFBUXpCLEVBQUdDLEdBQ25FLE9BQU8sRUFFWCxJQUFLLElBQUk3UyxFQUFJLEVBQUdDLEVBQUtxZixFQUFLcGYsT0FBUUYsRUFBSUMsSUFBTUQsRUFDeEMsR0FBSWcvQyxHQUFxQjdxQyxFQUFpQm1MLEVBQUt0ZixFQUFJLEdBQUlzZixFQUFLdGYsR0FBSXFVLEVBQVF6QixFQUFHQyxHQUN2RSxPQUFPLEVBR2YsT0FBTyxFQ2xFSixTQUFTc3NDLEdBQXFCaHJDLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVFoQyxHQUN2RSxJQUFJK3NDLEdBQW9CLFNBQXNCLFVBQWVqckMsRUFBaUJDLEVBQVEvTixFQUFLZ08sR0FDM0YsU0FBSyxRQUFXaEMsRUFBUStzQyxRQUdwQixRQUFlL3NDLEVBQVErc0MsSUFHdkJBLEVBQWtCLElBQU0vc0MsRUFBTyxJQUFNK3NDLEVBQWtCLElBQU0vc0MsRUFBTyxJQUdwRStzQyxFQUFrQixJQUFNL3NDLEVBQU8sSUFBTStzQyxFQUFrQixJQUFNL3NDLEVBQU8sSUNUckUsU0FBaUI4QixFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRTSxHQUkxRCxJQUhBLElBRUkwcUMsRUFGQUMsRUFBUyxDQUFDbnJDLEVBQWdCQyxHQUFTRCxFQUFnQkMsRUFBUyxJQUM1RG1yQyxFQUFTLEdBRU5uckMsRUFBU0MsRUFBU2hPLEVBQUsrTixHQUFVQyxFQUFRLENBSTVDLEdBSEFrckMsRUFBTyxHQUFLcHJDLEVBQWdCQyxFQUFTQyxHQUNyQ2tyQyxFQUFPLEdBQUtwckMsRUFBZ0JDLEVBQVNDLEVBQVMsR0FDOUNnckMsRUFBTTFxQyxFQUFTMnFDLEVBQVFDLEdBRW5CLE9BQU9GLEVBRVhDLEVBQU8sR0FBS0MsRUFBTyxHQUNuQkQsRUFBTyxHQUFLQyxFQUFPLEdBRXZCLE9BQU8sRURGQTUrQyxDQUFld1QsRUFBaUJDLEVBQVEvTixFQUFLZ08sR0FPcEQsU0FBVWlyQyxFQUFRQyxHQUNkLE9BQU8sUUFBa0JsdEMsRUFBUWl0QyxFQUFRQyxPRTNCMUMsU0FBU250QyxHQUFZK0IsRUFBaUJDLEVBQVEvTixFQUFLZ08sR0FDdEQsS0FBT0QsRUFBUy9OLEVBQU1nTyxHQUFRLENBQzFCLElBQUssSUFBSXJVLEVBQUksRUFBR0EsRUFBSXFVLElBQVVyVSxFQUFHLENBQzdCLElBQUlzRyxFQUFNNk4sRUFBZ0JDLEVBQVNwVSxHQUNuQ21VLEVBQWdCQyxFQUFTcFUsR0FBS21VLEVBQWdCOU4sRUFBTWdPLEVBQVNyVSxHQUM3RG1VLEVBQWdCOU4sRUFBTWdPLEVBQVNyVSxHQUFLc0csRUFFeEM4TixHQUFVQyxFQUNWaE8sR0FBT2dPLEdDSFIsU0FBU21yQyxHQUFzQnJyQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQU1oRSxJQUhBLElBQUlvckMsRUFBTyxFQUNQbnBDLEVBQUtuQyxFQUFnQjlOLEVBQU1nTyxHQUMzQnFDLEVBQUt2QyxFQUFnQjlOLEVBQU1nTyxFQUFTLEdBQ2pDRCxFQUFTL04sRUFBSytOLEdBQVVDLEVBQVEsQ0FDbkMsSUFBSWtDLEVBQUtwQyxFQUFnQkMsR0FDckJ1QyxFQUFLeEMsRUFBZ0JDLEVBQVMsR0FDbENxckMsSUFBU2xwQyxFQUFLRCxJQUFPSyxFQUFLRCxHQUMxQkosRUFBS0MsRUFDTEcsRUFBS0MsRUFFVCxPQUFnQixJQUFUOG9DLE9BQWE5OUMsRUFBWTg5QyxFQUFPLEVBd0VwQyxTQUFTQyxHQUFrQnZyQyxFQUFpQkMsRUFBUWtMLEVBQU1qTCxFQUFRc3JDLEdBRXJFLElBREEsSUFBSUMsT0FBc0JqK0MsSUFBZGcrQyxHQUEwQkEsRUFDN0IzL0MsRUFBSSxFQUFHQyxFQUFLcWYsRUFBS3BmLE9BQVFGLEVBQUlDLElBQU1ELEVBQUcsQ0FDM0MsSUFBSXFHLEVBQU1pWixFQUFLdGYsR0FDWDYvQyxFQUFjTCxHQUFzQnJyQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxJQUNsRCxJQUFOclUsRUFDUDQvQyxHQUFTQyxJQUFrQkQsSUFBVUMsRUFDckNELElBQVVDLElBQWtCRCxHQUFTQyxJQUV4QyxHQUFtQjFyQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQUVyREQsRUFBUy9OLEVBRWIsT0FBTytOLEVDaEhYLElBQUksR0FBd0MsV0FDeEMsSUFBSXpXLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBd0N4Q3VoRCxHQUF5QixTQUFVbmhELEdBYW5DLFNBQVNtaEQsRUFBUTF0QyxFQUFheUksRUFBWXdFLEdBQ3RDLElBQUl2Z0IsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0E2Q2pDLE9BeENBTSxFQUFNaWhELE1BQVEsR0FLZGpoRCxFQUFNa2hELDRCQUE4QixFQUtwQ2xoRCxFQUFNbWhELG1CQUFxQixLQUszQm5oRCxFQUFNdS9DLFdBQWEsRUFLbkJ2L0MsRUFBTXcvQyxtQkFBcUIsRUFLM0J4L0MsRUFBTW9oRCxtQkFBcUIsRUFLM0JwaEQsRUFBTXFoRCx5QkFBMkIsVUFDZHgrQyxJQUFma1osR0FBNEJ3RSxHQUM1QnZnQixFQUFNK2YsbUJBQW1CaEUsRUFDSSxHQUM3Qi9iLEVBQU1paEQsTUFBUTFnQyxHQUdkdmdCLEVBQU1nYyxlQUM2RCxFQUFlRCxHQUUvRS9iLEVBdU5YLE9BalJBLEdBQVVnaEQsRUFBU25oRCxHQWlFbkJtaEQsRUFBUTFoRCxVQUFVZ2lELGlCQUFtQixTQUFVbEMsR0FDdEMxL0MsS0FBSzJWLGlCQUlOLFNBQU8zVixLQUFLMlYsZ0JBQWlCK3BDLEVBQVc3L0Isc0JBSHhDN2YsS0FBSzJWLGdCQUFrQitwQyxFQUFXNy9CLHFCQUFxQnBWLFFBSzNEekssS0FBS3VoRCxNQUFNci9DLEtBQUtsQyxLQUFLMlYsZ0JBQWdCalUsUUFDckMxQixLQUFLd0csV0FPVDg2QyxFQUFRMWhELFVBQVVzVSxNQUFRLFdBQ3RCLElBQUkydEMsRUFBVSxJQUFJUCxFQUFRdGhELEtBQUsyVixnQkFBZ0JsTCxRQUFTekssS0FBS3djLE9BQVF4YyxLQUFLdWhELE1BQU05MkMsU0FFaEYsT0FEQW8zQyxFQUFRNTdDLGdCQUFnQmpHLE1BQ2pCNmhELEdBU1hQLEVBQVExaEQsVUFBVTZjLGVBQWlCLFNBQVVySSxFQUFHQyxFQUFHcUksRUFBY0MsR0FDN0QsT0FBSUEsR0FBcUIsUUFBeUIzYyxLQUFLK1osWUFBYTNGLEVBQUdDLEdBQzVEc0ksR0FFUDNjLEtBQUs4L0MsbUJBQXFCOS9DLEtBQUt5RyxnQkFDL0J6RyxLQUFLNi9DLFVBQVl0eEMsS0FBS3lmLEtWM0QzQixTQUE4QnJZLEVBQWlCQyxFQUFRa0wsRUFBTWpMLEVBQVFJLEdBQ3hFLElBQUssSUFBSXpVLEVBQUksRUFBR0MsRUFBS3FmLEVBQUtwZixPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQzNDLElBQUlxRyxFQUFNaVosRUFBS3RmLEdBQ2Z5VSxFQUFNc29DLEdBQWdCNW9DLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVFJLEdBQzVETCxFQUFTL04sRUFFYixPQUFPb08sRVVxRDRCNnJDLENBQXFCOWhELEtBQUsyVixnQkFBaUIsRUFBRzNWLEtBQUt1aEQsTUFBT3ZoRCxLQUFLNlYsT0FBUSxJQUNsRzdWLEtBQUs4L0Msa0JBQW9COS9DLEtBQUt5RyxlVndEbkMsU0FBaUNrUCxFQUFpQkMsRUFBUWtMLEVBQU1qTCxFQUFRNm9DLEVBQVVDLEVBQVF2cUMsRUFBR0MsRUFBR3FJLEVBQWNDLEVBQW9CaWlDLEdBRXJJLElBREEsSUFBSUMsRUFBV0QsR0FBOEIsQ0FBQzNnQyxJQUFLQSxLQUMxQ3pjLEVBQUksRUFBR0MsRUFBS3FmLEVBQUtwZixPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQzNDLElBQUlxRyxFQUFNaVosRUFBS3RmLEdBQ2ZtYixFQUFxQjhoQyxHQUFtQjlvQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRNm9DLEVBQVVDLEVBQVF2cUMsRUFBR0MsRUFBR3FJLEVBQWNDLEVBQW9Ca2lDLEdBQ3hJanBDLEVBQVMvTixFQUViLE9BQU84VSxFVTdESW9sQyxDQUF3Qi9oRCxLQUFLMlYsZ0JBQWlCLEVBQUczVixLQUFLdWhELE1BQU92aEQsS0FBSzZWLE9BQVE3VixLQUFLNi9DLFdBQVcsRUFBTXpyQyxFQUFHQyxFQUFHcUksRUFBY0MsS0FPL0gya0MsRUFBUTFoRCxVQUFVOFUsV0FBYSxTQUFVTixFQUFHQyxHQUN4QyxPQUFPcXNDLEdBQXNCMWdELEtBQUtnaUQsNkJBQThCLEVBQUdoaUQsS0FBS3VoRCxNQUFPdmhELEtBQUs2VixPQUFRekIsRUFBR0MsSUFPbkdpdEMsRUFBUTFoRCxVQUFVNlcsUUFBVSxXQUN4QixPUC9IRCxTQUFxQmQsRUFBaUJDLEVBQVFrTCxFQUFNakwsR0FFdkQsSUFEQSxJQUFJYSxFQUFPLEVBQ0ZsVixFQUFJLEVBQUdDLEVBQUtxZixFQUFLcGYsT0FBUUYsRUFBSUMsSUFBTUQsRUFBRyxDQUMzQyxJQUFJcUcsRUFBTWlaLEVBQUt0ZixHQUNma1YsR0FBUWdwQyxHQUFXL3BDLEVBQWlCQyxFQUFRL04sRUFBS2dPLEdBQ2pERCxFQUFTL04sRUFFYixPQUFPNk8sRU93SEl1ckMsQ0FBZ0JqaUQsS0FBS2dpRCw2QkFBOEIsRUFBR2hpRCxLQUFLdWhELE1BQU92aEQsS0FBSzZWLFNBZWxGeXJDLEVBQVExaEQsVUFBVWlkLGVBQWlCLFNBQVVza0MsR0FDekMsSUFBSXhyQyxFQVFKLFlBUGtCeFMsSUFBZGcrQyxFQUVBRCxHQURBdnJDLEVBQWtCM1YsS0FBS2dpRCw2QkFBNkJ2M0MsUUFDakIsRUFBR3pLLEtBQUt1aEQsTUFBT3ZoRCxLQUFLNlYsT0FBUXNyQyxHQUcvRHhyQyxFQUFrQjNWLEtBQUsyVixnQkFFcEJ5cEMsR0FBd0J6cEMsRUFBaUIsRUFBRzNWLEtBQUt1aEQsTUFBT3ZoRCxLQUFLNlYsU0FLeEV5ckMsRUFBUTFoRCxVQUFVc2lELFFBQVUsV0FDeEIsT0FBT2xpRCxLQUFLdWhELE9BS2hCRCxFQUFRMWhELFVBQVV1aUQscUJBQXVCLFdBQ3JDLEdBQUluaUQsS0FBS3doRCw0QkFBOEJ4aEQsS0FBS3lHLGNBQWUsQ0FDdkQsSUFBSTI3QyxHQUFhLFFBQVVwaUQsS0FBSytaLGFBQ2hDL1osS0FBS3loRCxtQkNqTFYsU0FBaUM5ckMsRUFBaUJDLEVBQVFrTCxFQUFNakwsRUFBUXdzQyxFQUFhQyxFQUFtQjFpQyxHQU0zRyxJQUxBLElBQUlwZSxFQUFHQyxFQUFJMlMsRUFBRzBELEVBQUlDLEVBQUlHLEVBQUlDLEVBQ3RCOUQsRUFBSWd1QyxFQUFZQyxFQUFvQixHQUVwQ0MsRUFBZ0IsR0FFWC80QyxFQUFJLEVBQUdnNUMsRUFBSzFoQyxFQUFLcGYsT0FBUThILEVBQUlnNUMsSUFBTWg1QyxFQUFHLENBQzNDLElBQUkzQixFQUFNaVosRUFBS3RYLEdBR2YsSUFGQXNPLEVBQUtuQyxFQUFnQjlOLEVBQU1nTyxHQUMzQnFDLEVBQUt2QyxFQUFnQjlOLEVBQU1nTyxFQUFTLEdBQy9CclUsRUFBSW9VLEVBQVFwVSxFQUFJcUcsRUFBS3JHLEdBQUtxVSxFQUMzQmtDLEVBQUtwQyxFQUFnQm5VLEdBQ3JCMlcsRUFBS3hDLEVBQWdCblUsRUFBSSxJQUNwQjZTLEdBQUs2RCxHQUFNQyxHQUFNOUQsR0FBTzZELEdBQU03RCxHQUFLQSxHQUFLOEQsS0FDekMvRCxHQUFNQyxFQUFJNkQsSUFBT0MsRUFBS0QsSUFBUUgsRUFBS0QsR0FBTUEsRUFDekN5cUMsRUFBY3JnRCxLQUFLa1MsSUFFdkIwRCxFQUFLQyxFQUNMRyxFQUFLQyxFQUtiLElBQUlzcUMsRUFBU3hrQyxJQUNUeWtDLEdBQW1CLElBR3ZCLElBRkFILEVBQWM1Z0IsS0FBSyxPQUNuQjdwQixFQUFLeXFDLEVBQWMsR0FDZC9nRCxFQUFJLEVBQUdDLEVBQUs4Z0QsRUFBYzdnRCxPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQ2hEdVcsRUFBS3dxQyxFQUFjL2dELEdBQ25CLElBQUltaEQsRUFBZ0JwMEMsS0FBS29iLElBQUk1UixFQUFLRCxHQUM5QjZxQyxFQUFnQkQsR0FFWmhDLEdBQXNCL3FDLEVBQWlCQyxFQUFRa0wsRUFBTWpMLEVBRHpEekIsR0FBSzBELEVBQUtDLEdBQU0sRUFDb0QxRCxLQUNoRW91QyxFQUFTcnVDLEVBQ1RzdUMsRUFBbUJDLEdBRzNCN3FDLEVBQUtDLEVBT1QsT0FMSW9HLE1BQU1za0MsS0FHTkEsRUFBU0osRUFBWUMsSUFFckIxaUMsR0FDQUEsRUFBUzFkLEtBQUt1Z0QsRUFBUXB1QyxFQUFHcXVDLEdBQ2xCOWlDLEdBR0EsQ0FBQzZpQyxFQUFRcHVDLEVBQUdxdUMsR0RnSVdFLENBQXdCNWlELEtBQUtnaUQsNkJBQThCLEVBQUdoaUQsS0FBS3VoRCxNQUFPdmhELEtBQUs2VixPQUFRdXNDLEVBQVksR0FDN0hwaUQsS0FBS3doRCwyQkFBNkJ4aEQsS0FBS3lHLGNBRTNDLE9BQU96RyxLQUFLeWhELG9CQVFoQkgsRUFBUTFoRCxVQUFVaWpELGlCQUFtQixXQUNqQyxPQUFPLElBQUl6bUMsR0FBQSxFQUFNcGMsS0FBS21pRCx1QkFBd0IsV0FTbERiLEVBQVExaEQsVUFBVWtqRCxtQkFBcUIsV0FDbkMsT0FBTzlpRCxLQUFLdWhELE1BQU03L0MsUUFZdEI0L0MsRUFBUTFoRCxVQUFVbWpELGNBQWdCLFNBQVUvaEQsR0FDeEMsT0FBSUEsRUFBUSxHQUFLaEIsS0FBS3VoRCxNQUFNNy9DLFFBQVVWLEVBQzNCLEtBRUosSUFBSSxHQUFXaEIsS0FBSzJWLGdCQUFnQmxMLE1BQWdCLElBQVZ6SixFQUFjLEVBQUloQixLQUFLdWhELE1BQU12Z0QsRUFBUSxHQUFJaEIsS0FBS3VoRCxNQUFNdmdELElBQVNoQixLQUFLd2MsU0FPdkg4a0MsRUFBUTFoRCxVQUFVb2pELGVBQWlCLFdBTS9CLElBTEEsSUFBSXhtQyxFQUFTeGMsS0FBS3djLE9BQ2Q3RyxFQUFrQjNWLEtBQUsyVixnQkFDdkJtTCxFQUFPOWdCLEtBQUt1aEQsTUFDWlUsRUFBYyxHQUNkcnNDLEVBQVMsRUFDSnBVLEVBQUksRUFBR0MsRUFBS3FmLEVBQUtwZixPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQzNDLElBQUlxRyxFQUFNaVosRUFBS3RmLEdBQ1hrK0MsRUFBYSxJQUFJLEdBQVcvcEMsRUFBZ0JsTCxNQUFNbUwsRUFBUS9OLEdBQU0yVSxHQUNwRXlsQyxFQUFZLy9DLEtBQUt3OUMsR0FDakI5cEMsRUFBUy9OLEVBRWIsT0FBT282QyxHQUtYWCxFQUFRMWhELFVBQVVvaUQsMkJBQTZCLFdBQzNDLEdBQUloaUQsS0FBSzBoRCxtQkFBcUIxaEQsS0FBS3lHLGNBQWUsQ0FDOUMsSUFBSWtQLEVBQWtCM1YsS0FBSzJWLGlCRHpOaEMsU0FBZ0NBLEVBQWlCQyxFQUFRa0wsRUFBTWpMLEVBQVFzckMsR0FFMUUsSUFEQSxJQUFJQyxPQUFzQmorQyxJQUFkZytDLEdBQTBCQSxFQUM3QjMvQyxFQUFJLEVBQUdDLEVBQUtxZixFQUFLcGYsT0FBUUYsRUFBSUMsSUFBTUQsRUFBRyxDQUMzQyxJQUFJcUcsRUFBTWlaLEVBQUt0ZixHQUNYNi9DLEVBQWNMLEdBQXNCcnJDLEVBQWlCQyxFQUFRL04sRUFBS2dPLEdBQ3RFLEdBQVUsSUFBTnJVLEdBQ0EsR0FBSzQvQyxHQUFTQyxJQUFrQkQsSUFBVUMsRUFDdEMsT0FBTyxPQUlYLEdBQUtELElBQVVDLElBQWtCRCxHQUFTQyxFQUN0QyxPQUFPLEVBR2Z6ckMsRUFBUy9OLEVBRWIsT0FBTyxFQ3lNS283QyxDQUF1QnR0QyxFQUFpQixFQUFHM1YsS0FBS3VoRCxNQUFPdmhELEtBQUs2VixTQUk1RDdWLEtBQUsyaEQseUJBQTJCaHNDLEVBQWdCbEwsUUFDaER6SyxLQUFLMmhELHlCQUF5QmpnRCxPQUFTdy9DLEdBQWtCbGhELEtBQUsyaEQseUJBQTBCLEVBQUczaEQsS0FBS3VoRCxNQUFPdmhELEtBQUs2VixTQUo1RzdWLEtBQUsyaEQseUJBQTJCaHNDLEVBTXBDM1YsS0FBSzBoRCxrQkFBb0IxaEQsS0FBS3lHLGNBRWxDLE9BQU96RyxLQUFLMmhELDBCQU9oQkwsRUFBUTFoRCxVQUFVd2dCLDhCQUFnQyxTQUFVMUMsR0FDeEQsSUFBSXNoQyxFQUE0QixHQUM1QmtFLEVBQWlCLEdBRXJCLE9BREFsRSxFQUEwQnQ5QyxPVHFDM0IsU0FBdUJpVSxFQUFpQkMsRUFBUWtMLEVBQU1qTCxFQUFRK0ksRUFBV29nQyxFQUEyQkMsRUFBa0JpRSxHQUN6SCxJQUFLLElBQUkxaEQsRUFBSSxFQUFHQyxFQUFLcWYsRUFBS3BmLE9BQVFGLEVBQUlDLElBQU1ELEVBQUcsQ0FDM0MsSUFBSXFHLEVBQU1pWixFQUFLdGYsR0FDZnk5QyxFQUFtQkYsR0FBU3BwQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRK0ksRUFBV29nQyxFQUEyQkMsR0FDeEdpRSxFQUFlaGhELEtBQUsrOEMsR0FDcEJycEMsRUFBUy9OLEVBRWIsT0FBT28zQyxFUzVDZ0NrRSxDQUFjbmpELEtBQUsyVixnQkFBaUIsRUFBRzNWLEtBQUt1aEQsTUFBT3ZoRCxLQUFLNlYsT0FBUXRILEtBQUt5ZixLQUFLdFEsR0FBbUJzaEMsRUFBMkIsRUFBR2tFLEdBQ3ZKLElBQUk1QixFQUFRdEMsRUFBMkIsUUFBbUJrRSxJQU9yRTVCLEVBQVExaEQsVUFBVW1kLFFBQVUsV0FDeEIsT0FBT2d0QixHQUFBLFdBUVh1WCxFQUFRMWhELFVBQVVvZCxpQkFBbUIsU0FBVW5KLEdBQzNDLE9KL01ELFNBQW1DOEIsRUFBaUJDLEVBQVFrTCxFQUFNakwsRUFBUWhDLEdBQzdFLElBM0JHLFNBQThCOEIsRUFBaUJDLEVBQVEvTixFQUFLZ08sRUFBUWhDLEdBQ3ZFLFNBQUk4c0MsR0FBcUJockMsRUFBaUJDLEVBQVEvTixFQUFLZ08sRUFBUWhDLElBRzNEMnNDLEdBQXFCN3FDLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVFoQyxFQUFPLEdBQUlBLEVBQU8sS0FHN0Uyc0MsR0FBcUI3cUMsRUFBaUJDLEVBQVEvTixFQUFLZ08sRUFBUWhDLEVBQU8sR0FBSUEsRUFBTyxLQUc3RTJzQyxHQUFxQjdxQyxFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRaEMsRUFBTyxHQUFJQSxFQUFPLEtBRzdFMnNDLEdBQXFCN3FDLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVFoQyxFQUFPLEdBQUlBLEVBQU8sS0FjNUV1dkMsQ0FBcUJ6dEMsRUFBaUJDLEVBQVFrTCxFQUFLLEdBQUlqTCxFQUFRaEMsR0FDaEUsT0FBTyxFQUVYLEdBQW9CLElBQWhCaU4sRUFBS3BmLE9BQ0wsT0FBTyxFQUVYLElBQUssSUFBSUYsRUFBSSxFQUFHQyxFQUFLcWYsRUFBS3BmLE9BQVFGLEVBQUlDLElBQU1ELEVBQ3hDLEdBQUkrK0MsR0FBeUI1cUMsRUFBaUJtTCxFQUFLdGYsRUFBSSxHQUFJc2YsRUFBS3RmLEdBQUlxVSxFQUFRaEMsS0FDbkU4c0MsR0FBcUJockMsRUFBaUJtTCxFQUFLdGYsRUFBSSxHQUFJc2YsRUFBS3RmLEdBQUlxVSxFQUFRaEMsR0FDckUsT0FBTyxFQUluQixPQUFPLEVJaU1Jd3ZDLENBQTBCcmpELEtBQUtnaUQsNkJBQThCLEVBQUdoaUQsS0FBS3VoRCxNQUFPdmhELEtBQUs2VixPQUFRaEMsSUFRcEd5dEMsRUFBUTFoRCxVQUFVMGMsZUFBaUIsU0FBVTFJLEVBQWF5SSxHQUN0RHJjLEtBQUtpZCxVQUFVWixFQUFZekksRUFBYSxHQUNuQzVULEtBQUsyVixrQkFDTjNWLEtBQUsyVixnQkFBa0IsSUFFM0IsSUFBSW1MLEdBQU8sRUFBQXcvQixHQUFBLElBQXdCdGdELEtBQUsyVixnQkFBaUIsRUFBRy9CLEVBQWE1VCxLQUFLNlYsT0FBUTdWLEtBQUt1aEQsT0FDM0Z2aEQsS0FBSzJWLGdCQUFnQmpVLE9BQXlCLElBQWhCb2YsRUFBS3BmLE9BQWUsRUFBSW9mLEVBQUtBLEVBQUtwZixPQUFTLEdBQ3pFMUIsS0FBS3dHLFdBRUY4NkMsRUFsUmlCLENBbVIxQnZoQyxHQUFBLElBQ0YsWUErQk8sU0FBU3VqQyxHQUFXenZDLEdBQ3ZCLElBQUlrQixFQUFPbEIsRUFBTyxHQUNkbUIsRUFBT25CLEVBQU8sR0FDZG9CLEVBQU9wQixFQUFPLEdBQ2RxQixFQUFPckIsRUFBTyxHQUNkOEIsRUFBa0IsQ0FDbEJaLEVBQ0FDLEVBQ0FELEVBQ0FHLEVBQ0FELEVBQ0FDLEVBQ0FELEVBQ0FELEVBQ0FELEVBQ0FDLEdBRUosT0FBTyxJQUFJc3NDLEdBQVEzckMsRUFBaUIsUUFBbUIsQ0FDbkRBLEVBQWdCalUsU0U3V3hCLElBQUksR0FBd0MsV0FDeEMsSUFBSXZDLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBNi9DNUMsU0FBU3dqRCxHQUFrQnB0QyxFQUFVcXRDLEdBQ2pDdlcsWUFBVyxXQUNQOTJCLEVBQVNxdEMsS0FDVixHQW1KQSxTQUFTQyxHQUFnQnpnQixHQUM1QixRQUFJQSxFQUFVMGdCLGNBQWdCMWdCLEVBQVUyZ0IsZUFDL0IsRUFBaUIzZ0IsRUFBVTBnQixhQUFjMWdCLEVBQVUyZ0IsZ0JBSXhEM2dCLEVBQVU0Z0IsbUJBQXFCNWdCLEVBQVU2Z0Isa0JBR3pDN2dCLEVBQVU4Z0IsaUJBQW1COWdCLEVBQVUrZ0IsZUFhL0MsU0FBU0MsR0FBa0J2dkMsRUFBWTVJLEVBQU1vb0IsRUFBVTljLEVBQVlDLEdBRS9ELElBQUltOEIsRUFBV2hsQyxLQUFLK0ksS0FBS0YsR0FDckJvOEIsRUFBV2psQyxLQUFLaUosS0FBS0osR0FDckI2c0MsRUFBT3h2QyxFQUFXLEdBQUs4K0IsRUFBVzkrQixFQUFXLEdBQUsrK0IsRUFDbEQwUSxFQUFPenZDLEVBQVcsR0FBSzgrQixFQUFXOStCLEVBQVcsR0FBSysrQixFQU90RCxNQUFPLEVBTlB5USxJQUFTcDRDLEVBQUssR0FBSyxFQUFJb29CLEVBQVMsSUFBTTljLEdBSWpCbzhCLEdBSHJCMlEsSUFBU2p3QixFQUFTLEdBQUtwb0IsRUFBSyxHQUFLLEdBQUtzTCxJQUV0Q3E4QixHQUFZQSxHQUVFMFEsRUFBTzNRLEVBQVcwUSxFQUFPelEsR0FHM0MsU0ExNkMwQixTQUFVcnpDLEdBS2hDLFNBQVNna0QsRUFBS2hqRCxHQUNWLElBQUliLEVBQVFILEVBQU9MLEtBQUtFLE9BQVNBLEtBQzdCb0IsR0FBVSxRQUFPLEdBQUlELEdBc0R6QixPQWpEQWIsRUFBTThqRCxPQUFTLENBQUMsRUFBRyxHQUtuQjlqRCxFQUFNK2pELFlBQWMsR0FLcEIvakQsRUFBTWdrRCxvQkFNTmhrRCxFQUFNaWtELGFBQWMsU0FBaUJuakQsRUFBUXlZLFdBQVksYUFLekR2WixFQUFNa2tELGNBQWdCLENBQUMsSUFBSyxLQUs1QmxrRCxFQUFNbWtELGNBQWdCLEtBS3RCbmtELEVBQU1va0Qsa0JBS05wa0QsRUFBTXFrRCxnQkFLTnJrRCxFQUFNc2tELG1CQUFnQnpoRCxFQUNsQi9CLEVBQVE4VixTQUNSOVYsRUFBUThWLFFBQVMsU0FBbUI5VixFQUFROFYsT0FBUTVXLEVBQU1pa0QsY0FFMURuakQsRUFBUXlTLFNBQ1J6UyxFQUFReVMsUUFBUyxTQUFlelMsRUFBUXlTLE9BQVF2VCxFQUFNaWtELGNBRTFEamtELEVBQU11a0QsY0FBY3pqRCxHQUNiZCxFQTZxQ1gsT0F6dUNBLEdBQVU2akQsRUFBTWhrRCxHQWtFaEJna0QsRUFBS3ZrRCxVQUFVaWxELGNBQWdCLFNBQVV6akQsR0FJckMsSUFDSTBqRCxFQXNzQ0wsU0FBb0MxakQsR0FDdkMsSUFBSTJqRCxFQUNBN1UsRUFDQUMsRUFLQUMsT0FBOEJqdEMsSUFBcEIvQixFQUFRZ3ZDLFFBQXdCaHZDLEVBQVFndkMsUUEvMUNuQyxFQWcyQ2ZDLE9BQThCbHRDLElBQXBCL0IsRUFBUWl2QyxRQUF3Qmp2QyxFQUFRaXZDLFFBSGpDLEdBSWpCMlUsT0FBb0M3aEQsSUFBdkIvQixFQUFRNGpELFdBQTJCNWpELEVBQVE0akQsV0FIcEMsRUFJcEJDLE9BQW9DOWhELElBQXZCL0IsRUFBUTZqRCxZQUEyQjdqRCxFQUFRNmpELFdBQ3hEbEksT0FBZ0Q1NUMsSUFBdkMvQixFQUFROGpELDRCQUNmOWpELEVBQVE4akQsMkJBRVZ4SCxPQUE0Q3Y2QyxJQUEzQi9CLEVBQVFzOEMsZ0JBQStCdDhDLEVBQVFzOEMsZUFDaEU3akMsR0FBYSxTQUFpQnpZLEVBQVF5WSxXQUFZLGFBQ2xEc3JDLEVBQWF0ckMsRUFBV0UsWUFDeEJxckMsRUFBc0Joa0QsRUFBUWdrRCxvQkFDOUJ2eEMsRUFBU3pTLEVBQVF5UyxPQUtyQixHQUpLb3hDLEdBQWVweEMsSUFBVWdHLEVBQVdnUyxhQUNyQ3U1QixHQUFzQixFQUN0QnZ4QyxFQUFTc3hDLFFBRWVoaUQsSUFBeEIvQixFQUFRaWtELFlBQTJCLENBQ25DLElBQUlBLEVBQWNqa0QsRUFBUWlrRCxZQUMxQm5WLEVBQWdCbVYsRUFBWWpWLEdBQzVCRCxPQUM2Qmh0QyxJQUF6QmtpRCxFQUFZaFYsR0FDTmdWLEVBQVloVixHQUNaZ1YsRUFBWUEsRUFBWTNqRCxPQUFTLEdBRXZDcWpELEVBREEzakQsRUFBUWtrRCxvQmQ5L0NiLFNBQWlDRCxFQUFhdEgsRUFBWUMsRUFBZUMsR0FDNUUsT0FBTyxTQVFHOW1DLEVBQVl6UCxFQUFXbUUsRUFBTW14QyxHQUNuQyxRQUFtQjc1QyxJQUFmZ1UsRUFBMEIsQ0FDMUIsSUFBSSs0QixFQUFnQm1WLEVBQVksR0FDNUJsVixFQUFnQmtWLEVBQVlBLEVBQVkzakQsT0FBUyxHQUNqRHc4QyxFQUFlRixFQUNiVCxHQUE2QnJOLEVBQWU4TixFQUFlbnlDLEVBQU1veUMsR0FDakUvTixFQUVOLEdBQUk4TSxFQUVBLFlBRDRCNzVDLElBQWY0NkMsR0FBMkJBLEVBSWpDRixHQUEyQjFtQyxFQUFZK21DLEVBQWMvTixJQUZqRCxRQUFNaDVCLEVBQVlnNUIsRUFBZStOLEdBSWhELElBQUlxSCxFQUFTaDNDLEtBQUt5SCxJQUFJa29DLEVBQWMvbUMsR0FDaENxdUMsRUFBSWozQyxLQUFLMkwsT0FBTSxTQUFrQm1yQyxFQUFhRSxFQUFRNzlDLElBQzFELE9BQUkyOUMsRUFBWUcsR0FBS3RILEdBQWdCc0gsRUFBSUgsRUFBWTNqRCxPQUFTLEVBQ25EMmpELEVBQVlHLEVBQUksR0FFcEJILEVBQVlHLEtjaytDSUMsQ0FBd0JKLEVBQWF0SSxHQUFTcUksR0FBdUJ2eEMsRUFBUTZwQyxHQUc3RUksR0FBdUI1TixFQUFlQyxFQUFlNE0sR0FBU3FJLEdBQXVCdnhDLEVBQVE2cEMsT0FHdkgsQ0FFRCxJQUlJZ0ksR0FKUVAsRUFHTjUyQyxLQUFLMEgsS0FBSSxRQUFTa3ZDLElBQWEsUUFBVUEsSUFEdEMsSUFBTSxNQUFnQmptQyxHQUFBLFdBQWtCckYsRUFBVzhSLG9CaEJ6akRyQyxJZ0IyakQrQnBkLEtBQUtDLElBckN2QyxFQTkxQ0wsR0FvNENYbTNDLEVBQXVCRCxFQUN2Qm4zQyxLQUFLQyxJQXZDVyxFQXVDWW8zQyxTQUdWemlELEtBRHRCK3NDLEVBQWdCOXVDLEVBQVE4dUMsZUFFcEJFLEVBQVUsRUFHVkYsRUFBZ0J3VixFQUF1Qm4zQyxLQUFLQyxJQUFJdzJDLEVBQVk1VSxRQUkxQ2p0QyxLQUR0Qmd0QyxFQUFnQi91QyxFQUFRK3VDLGlCQUlaQSxPQUZnQmh0QyxJQUFwQi9CLEVBQVFpdkMsYUFDc0JsdEMsSUFBMUIvQixFQUFROHVDLGNBQ1FBLEVBQWdCM2hDLEtBQUtDLElBQUl3MkMsRUFBWTNVLEdBR3JDcVYsRUFBdUJuM0MsS0FBS0MsSUFBSXcyQyxFQUFZM1UsR0FJaERzVixHQUl4QnRWLEVBQ0lELEVBQ0k3aEMsS0FBSzJMLE1BQU0zTCxLQUFLNmEsSUFBSThtQixFQUFnQkMsR0FBaUI1aEMsS0FBSzZhLElBQUk0N0IsSUFDdEU3VSxFQUFnQkQsRUFBZ0IzaEMsS0FBS0MsSUFBSXcyQyxFQUFZM1UsRUFBVUQsR0FFM0QyVSxFQURBM2pELEVBQVFra0Qsb0JkNy9DYixTQUEyQk8sRUFBTzNWLEVBQWU0VixFQUFtQi9ILEVBQVlDLEVBQWVDLEdBQ2xHLE9BQU8sU0FRRzltQyxFQUFZelAsRUFBV21FLEVBQU1teEMsR0FDbkMsUUFBbUI3NUMsSUFBZmdVLEVBQTBCLENBQzFCLElBQUkrbUMsRUFBZUYsRUFDYlQsR0FBNkJyTixFQUFlOE4sRUFBZW55QyxFQUFNb3lDLEdBQ2pFL04sRUFDRkMsT0FBc0NodEMsSUFBdEIyaUQsRUFBa0NBLEVBQW9CLEVBRTFFLEdBQUk5SSxFQUVBLFlBRDRCNzVDLElBQWY0NkMsR0FBMkJBLEVBSWpDRixHQUEyQjFtQyxFQUFZK21DLEVBQWMvTixJQUZqRCxRQUFNaDVCLEVBQVlnNUIsRUFBZStOLEdBSWhELElBQ0k2SCxFQUFleDNDLEtBQUs2eEIsS0FBSzd4QixLQUFLNmEsSUFBSThtQixFQUFnQmdPLEdBQWdCM3ZDLEtBQUs2YSxJQUFJeThCLEdBRC9ELE1BRVpqd0MsR0FBVWxPLEdBQWEsR0FGWCxNQUU4QixHQUMxQzY5QyxFQUFTaDNDLEtBQUt5SCxJQUFJa29DLEVBQWMvbUMsR0FDaEM2dUMsRUFBa0J6M0MsS0FBSzJMLE1BQU0zTCxLQUFLNmEsSUFBSThtQixFQUFnQnFWLEdBQVVoM0MsS0FBSzZhLElBQUl5OEIsR0FBU2p3QyxHQUNsRnF3QyxFQUFZMTNDLEtBQUswSCxJQUFJOHZDLEVBQWNDLEdBQ25DeGlDLEVBQWdCMHNCLEVBQWdCM2hDLEtBQUtDLElBQUlxM0MsRUFBT0ksR0FDcEQsT0FBTyxRQUFNemlDLEVBQWUyc0IsRUFBZStOLEtjZytDcEJnSSxDQUFrQmxCLEVBQVk5VSxFQUFlQyxFQUFlNE0sR0FBU3FJLEdBQXVCdnhDLEVBQVE2cEMsR0FHcEdJLEdBQXVCNU4sRUFBZUMsRUFBZTRNLEdBQVNxSSxHQUF1QnZ4QyxFQUFRNnBDLEdBRzVILE1BQU8sQ0FDSHlJLFdBQVlwQixFQUNaN1UsY0FBZUEsRUFDZkMsY0FBZUEsRUFDZkMsUUFBU0EsRUFDVDRVLFdBQVlBLEdBN3hDbUJvQixDQUEyQmhsRCxHQUsxRHBCLEtBQUtxbUQsZUFBaUJ2QixFQUF5QjVVLGNBSy9DbHdDLEtBQUtzbUQsZUFBaUJ4QixFQUF5QjNVLGNBSy9DbndDLEtBQUt1bUQsWUFBY3pCLEVBQXlCRSxXQUs1Q2hsRCxLQUFLd21ELGFBQWVwbEQsRUFBUWlrRCxZQVU1QnJsRCxLQUFLZzBCLFFBQVU1eUIsRUFBUTR5QixRQUt2QmgwQixLQUFLeW1ELFNBQVczQixFQUF5QjFVLFFBQ3pDLElBQUlzVyxFQTZvQ0wsU0FBZ0N0bEQsR0FDbkMsUUFBdUIrQixJQUFuQi9CLEVBQVF5UyxPQUFzQixDQUM5QixJQUFJa3BDLE9BQTRDNTVDLElBQW5DL0IsRUFBUXVsRCx3QkFDZnZsRCxFQUFRdWxELHVCQUVkLE9BQU85SixHQUFhejdDLEVBQVF5UyxPQUFRelMsRUFBUWdrRCxvQkFBcUJySSxHQUVyRSxJQUFJbGpDLEdBQWEsU0FBaUJ6WSxFQUFReVksV0FBWSxhQUN0RCxJQUEyQixJQUF2QnpZLEVBQVE2akQsWUFBdUJwckMsRUFBV2dTLFdBQVksQ0FDdEQsSUFBSWhZLEVBQVNnRyxFQUFXRSxZQUFZdFAsUUFHcEMsT0FGQW9KLEVBQU8sSUFBSyxJQUNaQSxFQUFPLEdBQUtDLElBQ0wrb0MsR0FBYWhwQyxHQUFRLEdBQU8sR0FFdkMsT0FBTyxHQTNwQ29CK3lDLENBQXVCeGxELEdBQzFDMmpELEVBQXVCRCxFQUF5QnFCLFdBQ2hEVSxFQTh2Q0wsU0FBa0N6bEQsR0FFckMsUUFEZ0QrQixJQUEzQi9CLEVBQVEwbEQsZ0JBQStCMWxELEVBQVEwbEQsZUFDaEQsQ0FDaEIsSUFBSUMsRUFBb0IzbEQsRUFBUTJsRCxrQkFDaEMsWUFBMEI1akQsSUFBdEI0akQsSUFBeUQsSUFBdEJBLEdiaGtEdkNub0MsR0FBNkIsUUFBVSxHQUNwQyxTQU1HeEgsRUFBVTRsQyxHQUNoQixPQUFJQSxFQUNPNWxDLE9BRU1qVSxJQUFiaVUsRUFDSTdJLEtBQUtvYixJQUFJdlMsSUFBYXdILEVBQ2YsRUFHQXhILE9BSVgsS2EraUQyQixJQUF0QjJ2QyxFQUNFLEdBRTJCLGlCQUF0QkEsR2JobURNamtELEVhaW1ER2lrRCxFYmhtRHpCQyxFQUFTLEVBQUl6NEMsS0FBSzBiLEdBQU1ubkIsRUFDckIsU0FNR3NVLEVBQVU0bEMsR0FDaEIsT0FBSUEsRUFDTzVsQyxPQUVNalUsSUFBYmlVLEVBQ0FBLEVBQVc3SSxLQUFLMkwsTUFBTTlDLEVBQVc0dkMsRUFBUSxJQUFPQSxPQUloRCxJYW1sRE8sR0FJWCxPQUFPN0ksR2J4bURSLElBQXVCcjdDLEVBQ3RCa2tELEVBeUJBcG9DLEVhOFR5QnFvQyxDQUF5QjdsRCxHQUtsRHBCLEtBQUtrbkQsYUFBZSxDQUNoQmh3QyxPQUFRd3ZDLEVBQ1J2dkMsV0FBWTR0QyxFQUNaM3RDLFNBQVV5dkMsR0FFZDdtRCxLQUFLNDdCLGlCQUFpQ3o0QixJQUFyQi9CLEVBQVFnVyxTQUF5QmhXLEVBQVFnVyxTQUFXLEdBQ3JFcFgsS0FBS21uRCx1QkFBcUNoa0QsSUFBbkIvQixFQUFROFYsT0FBdUI5VixFQUFROFYsT0FBUyxXQUM1Qy9ULElBQXZCL0IsRUFBUStWLFdBQ1JuWCxLQUFLb25ELGNBQWNobUQsRUFBUStWLGlCQUVMaFUsSUFBakIvQixFQUFRMndDLE1BQ2IveEMsS0FBS3FuRCxRQUFRam1ELEVBQVEyd0MsTUFFekIveEMsS0FBS3NGLGNBekRZLElBOERqQnRGLEtBQUtzbkQsU0FBV2xtRCxHQVVwQitpRCxFQUFLdmtELFVBQVUybkQsbUJBQXFCLFNBQVVDLEdBQzFDLElBQUlwbUQsR0FBVSxRQUFPLEdBQUlwQixLQUFLc25ELFVBWTlCLFlBVjJCbmtELElBQXZCL0IsRUFBUStWLFdBQ1IvVixFQUFRK1YsV0FBYW5YLEtBQUt5bkQsZ0JBRzFCcm1ELEVBQVEyd0MsS0FBTy94QyxLQUFLcWpCLFVBR3hCamlCLEVBQVE4VixPQUFTbFgsS0FBSzhpQixvQkFFdEIxaEIsRUFBUWdXLFNBQVdwWCxLQUFLKzNCLGVBQ2pCLFFBQU8sR0FBSTMyQixFQUFTb21ELElBbUMvQnJELEVBQUt2a0QsVUFBVWdrQixRQUFVLFNBQVVoUyxHQUMzQjVSLEtBQUswbkQsVUFBWTFuRCxLQUFLMGpCLGdCQUN0QjFqQixLQUFLMm5ELG1CQUFtQixHQUc1QixJQURBLElBQUlDLEVBQU8sSUFBSWxvRCxNQUFNd1AsVUFBVXhOLFFBQ3RCRixFQUFJLEVBQUdBLEVBQUlvbUQsRUFBS2xtRCxTQUFVRixFQUFHLENBQ2xDLElBQUlKLEVBQVU4TixVQUFVMU4sR0FDcEJKLEVBQVE4VixVQUNSOVYsR0FBVSxRQUFPLEdBQUlBLElBQ2I4VixRQUFTLFNBQW1COVYsRUFBUThWLE9BQVFsWCxLQUFLNm5ELGtCQUV6RHptRCxFQUFRa2QsVUFDUmxkLEdBQVUsUUFBTyxHQUFJQSxJQUNia2QsUUFBUyxTQUFtQmxkLEVBQVFrZCxPQUFRdGUsS0FBSzZuRCxrQkFFN0RELEVBQUtwbUQsR0FBS0osRUFFZHBCLEtBQUsraUIsZ0JBQWdCOVQsTUFBTWpQLEtBQU00bkQsSUFLckN6RCxFQUFLdmtELFVBQVVtakIsZ0JBQWtCLFNBQVVuUixHQUN2QyxJQUNJdUUsRUFEQTJ4QyxFQUFpQjU0QyxVQUFVeE4sT0FPL0IsR0FMSW9tRCxFQUFpQixHQUN3QixtQkFBbEM1NEMsVUFBVTQ0QyxFQUFpQixLQUNsQzN4QyxFQUFXakgsVUFBVTQ0QyxFQUFpQixLQUNwQ0EsSUFFRDluRCxLQUFLMG5ELFFBQVMsQ0FFZixJQUFJL1csRUFBUXpoQyxVQUFVNDRDLEVBQWlCLEdBYXZDLE9BWkluWCxFQUFNejVCLFFBQ05sWCxLQUFLbW5ELGtCQUFrQnhXLEVBQU16NUIsYUFFZC9ULElBQWZ3dEMsRUFBTW9CLE1BQ04veEMsS0FBS3FuRCxRQUFRMVcsRUFBTW9CLFdBRUE1dUMsSUFBbkJ3dEMsRUFBTXY1QixVQUNOcFgsS0FBSzQ3QixZQUFZK1UsRUFBTXY1QixlQUV2QmpCLEdBQ0FvdEMsR0FBa0JwdEMsR0FBVSxJQVNwQyxJQUxBLElBQUkwQyxFQUFRa3ZDLEtBQUtDLE1BQ2I5d0MsRUFBU2xYLEtBQUt5a0QsY0FBY2g2QyxRQUM1QjBNLEVBQWFuWCxLQUFLMGtELGtCQUNsQnR0QyxFQUFXcFgsS0FBSzJrRCxnQkFDaEJzRCxFQUFTLEdBQ0p6bUQsRUFBSSxFQUFHQSxFQUFJc21ELElBQWtCdG1ELEVBQUcsQ0FDckMsSUFBSUosRUFBMkM4TixVQUFVMU4sR0FDckR3aEMsRUFBWSxDQUNabnFCLE1BQU9BLEVBQ1BxdkMsVUFBVSxFQUNWNXBDLE9BQVFsZCxFQUFRa2QsT0FDaEIwRSxjQUErQjdmLElBQXJCL0IsRUFBUTRoQixTQUF5QjVoQixFQUFRNGhCLFNBQVcsSUFDOURDLE9BQVE3aEIsRUFBUTZoQixRQUFVLE1BQzFCOU0sU0FBVUEsR0FpQmQsR0FmSS9VLEVBQVE4VixTQUNSOHJCLEVBQVUwZ0IsYUFBZXhzQyxFQUN6QjhyQixFQUFVMmdCLGFBQWV2aUQsRUFBUThWLE9BQU96TSxRQUN4Q3lNLEVBQVM4ckIsRUFBVTJnQixtQkFFRnhnRCxJQUFqQi9CLEVBQVEyd0MsTUFDUi9PLEVBQVU0Z0IsaUJBQW1CenNDLEVBQzdCNnJCLEVBQVU2Z0IsaUJBQW1CN2pELEtBQUt5akIscUJBQXFCcmlCLEVBQVEyd0MsTUFDL0Q1NkIsRUFBYTZyQixFQUFVNmdCLGtCQUVsQnppRCxFQUFRK1YsYUFDYjZyQixFQUFVNGdCLGlCQUFtQnpzQyxFQUM3QjZyQixFQUFVNmdCLGlCQUFtQnppRCxFQUFRK1YsV0FDckNBLEVBQWE2ckIsRUFBVTZnQix1QkFFRjFnRCxJQUFyQi9CLEVBQVFnVyxTQUF3QixDQUNoQzRyQixFQUFVOGdCLGVBQWlCMXNDLEVBQzNCLElBQUl1TCxHQUFRLFFBQU92aEIsRUFBUWdXLFNBQVdBLEVBQVc3SSxLQUFLMGIsR0FBSSxFQUFJMWIsS0FBSzBiLElBQU0xYixLQUFLMGIsR0FDOUUrWSxFQUFVK2dCLGVBQWlCM3NDLEVBQVd1TCxFQUN0Q3ZMLEVBQVc0ckIsRUFBVStnQixlQUdyQk4sR0FBZ0J6Z0IsR0FDaEJBLEVBQVVrbEIsVUFBVyxFQUlyQnJ2QyxHQUFTbXFCLEVBQVVoZ0IsU0FFdkJpbEMsRUFBTy9sRCxLQUFLOGdDLEdBRWhCaGpDLEtBQUtxa0QsWUFBWW5pRCxLQUFLK2xELEdBQ3RCam9ELEtBQUttb0QsUWxCbmlCRSxFa0JtaUIwQixHQUNqQ25vRCxLQUFLb29ELHFCQU9UakUsRUFBS3ZrRCxVQUFVOGpCLGFBQWUsV0FDMUIsT0FBTzFqQixLQUFLb2tELE9sQjVpQkwsR2tCNGlCa0MsR0FPN0NELEVBQUt2a0QsVUFBVXlvRCxlQUFpQixXQUM1QixPQUFPcm9ELEtBQUtva0QsT2xCbmpCSCxHa0JtakJrQyxHQU0vQ0QsRUFBS3ZrRCxVQUFVK2pCLGlCQUFtQixXQUU5QixJQUFJckYsRUFESnRlLEtBQUttb0QsUWxCM2pCRSxHa0IyakIyQm5vRCxLQUFLb2tELE9sQjNqQmhDLElrQjZqQlAsSUFBSyxJQUFJNWlELEVBQUksRUFBR0MsRUFBS3pCLEtBQUtxa0QsWUFBWTNpRCxPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQ3ZELElBQUl5bUQsRUFBU2pvRCxLQUFLcWtELFlBQVk3aUQsR0FJOUIsR0FISXltRCxFQUFPLEdBQUc5eEMsVUFDVm90QyxHQUFrQjBFLEVBQU8sR0FBRzl4QyxVQUFVLElBRXJDbUksRUFDRCxJQUFLLElBQUlwYixFQUFJLEVBQUc2ZCxFQUFLa25DLEVBQU92bUQsT0FBUXdCLEVBQUk2ZCxJQUFNN2QsRUFBRyxDQUM3QyxJQUFJOC9CLEVBQVlpbEIsRUFBTy9rRCxHQUN2QixJQUFLOC9CLEVBQVVrbEIsU0FBVSxDQUNyQjVwQyxFQUFTMGtCLEVBQVUxa0IsT0FDbkIsUUFLaEJ0ZSxLQUFLcWtELFlBQVkzaUQsT0FBUyxFQUMxQjFCLEtBQUs0a0QsY0FBZ0J0bUMsR0FLekI2bEMsRUFBS3ZrRCxVQUFVd29ELGtCQUFvQixXQUsvQixRQUppQ2psRCxJQUE3Qm5ELEtBQUtza0Qsc0JBQ0xnRSxxQkFBcUJ0b0QsS0FBS3NrRCxxQkFDMUJ0a0QsS0FBS3NrRCx5QkFBc0JuaEQsR0FFMUJuRCxLQUFLMGpCLGVBQVYsQ0FLQSxJQUZBLElBQUlza0MsRUFBTUQsS0FBS0MsTUFDWE8sR0FBTyxFQUNGL21ELEVBQUl4QixLQUFLcWtELFlBQVkzaUQsT0FBUyxFQUFHRixHQUFLLElBQUtBLEVBQUcsQ0FHbkQsSUFGQSxJQUFJeW1ELEVBQVNqb0QsS0FBS3FrRCxZQUFZN2lELEdBQzFCZ25ELEdBQWlCLEVBQ1p0bEQsRUFBSSxFQUFHNmQsRUFBS2tuQyxFQUFPdm1ELE9BQVF3QixFQUFJNmQsSUFBTTdkLEVBQUcsQ0FDN0MsSUFBSTgvQixFQUFZaWxCLEVBQU8va0QsR0FDdkIsSUFBSTgvQixFQUFVa2xCLFNBQWQsQ0FHQSxJQUFJTyxFQUFVVCxFQUFNaGxCLEVBQVVucUIsTUFDMUI2dkMsRUFBVzFsQixFQUFVaGdCLFNBQVcsRUFBSXlsQyxFQUFVemxCLEVBQVVoZ0IsU0FBVyxFQUNuRTBsQyxHQUFZLEdBQ1oxbEIsRUFBVWtsQixVQUFXLEVBQ3JCUSxFQUFXLEdBR1hGLEdBQWlCLEVBRXJCLElBQUlHLEVBQVczbEIsRUFBVS9mLE9BQU95bEMsR0FDaEMsR0FBSTFsQixFQUFVMGdCLGFBQWMsQ0FDeEIsSUFBSTdyQyxFQUFLbXJCLEVBQVUwZ0IsYUFBYSxHQUM1QnpyQyxFQUFLK3FCLEVBQVUwZ0IsYUFBYSxHQUc1QnR2QyxFQUFJeUQsRUFBSzh3QyxHQUZKM2xCLEVBQVUyZ0IsYUFBYSxHQUVGOXJDLEdBQzFCeEQsRUFBSTRELEVBQUswd0MsR0FGSjNsQixFQUFVMmdCLGFBQWEsR0FFRjFyQyxHQUM5QmpZLEtBQUt5a0QsY0FBZ0IsQ0FBQ3J3QyxFQUFHQyxHQUU3QixHQUFJMnVCLEVBQVU0Z0Isa0JBQW9CNWdCLEVBQVU2Z0IsaUJBQWtCLENBQzFELElBQUkxc0MsRUFBMEIsSUFBYnd4QyxFQUNYM2xCLEVBQVU2Z0IsaUJBQ1Y3Z0IsRUFBVTRnQixpQkFDUitFLEdBQ0szbEIsRUFBVTZnQixpQkFBbUI3Z0IsRUFBVTRnQixrQkFDcEQsR0FBSTVnQixFQUFVMWtCLE9BQVEsQ0FDbEIsSUFBSXpTLEVBQU83TCxLQUFLNG9ELGlCQUFpQjVvRCxLQUFLKzNCLGVBQ2xDOHdCLEVBQXdCN29ELEtBQUtrbkQsYUFBYS92QyxXQUFXQSxFQUFZLEVBQUd0TCxHQUFNLEdBQzlFN0wsS0FBS3lrRCxjQUFnQnprRCxLQUFLOG9ELG9CQUFvQkQsRUFBdUI3bEIsRUFBVTFrQixRQUVuRnRlLEtBQUswa0Qsa0JBQW9CdnRDLEVBQ3pCblgsS0FBSytvRCxtQkFBa0IsR0FFM0IsUUFBaUM1bEQsSUFBN0I2L0IsRUFBVThnQixxQkFDbUIzZ0QsSUFBN0I2L0IsRUFBVStnQixlQUE4QixDQUN4QyxJQUFJM3NDLEVBQXdCLElBQWJ1eEMsR0FDVCxRQUFPM2xCLEVBQVUrZ0IsZUFBaUJ4MUMsS0FBSzBiLEdBQUksRUFBSTFiLEtBQUswYixJQUNsRDFiLEtBQUswYixHQUNQK1ksRUFBVThnQixlQUNSNkUsR0FDSzNsQixFQUFVK2dCLGVBQWlCL2dCLEVBQVU4Z0IsZ0JBQ2xELEdBQUk5Z0IsRUFBVTFrQixPQUFRLENBQ2xCLElBQUkwcUMsRUFBc0JocEQsS0FBS2tuRCxhQUFhOXZDLFNBQVNBLEdBQVUsR0FDL0RwWCxLQUFLeWtELGNBQWdCemtELEtBQUtpcEQsc0JBQXNCRCxFQUFxQmhtQixFQUFVMWtCLFFBRW5GdGUsS0FBSzJrRCxnQkFBa0J2dEMsRUFJM0IsR0FGQXBYLEtBQUsrb0QsbUJBQWtCLEdBQ3ZCUixHQUFPLEdBQ0Z2bEIsRUFBVWtsQixTQUNYLE9BR1IsR0FBSU0sRUFBZ0IsQ0FDaEJ4b0QsS0FBS3FrRCxZQUFZN2lELEdBQUssS0FDdEJ4QixLQUFLbW9ELFFsQjNwQk4sR2tCMnBCbUMsR0FDbEMsSUFBSWh5QyxFQUFXOHhDLEVBQU8sR0FBRzl4QyxTQUNyQkEsR0FDQW90QyxHQUFrQnB0QyxHQUFVLElBS3hDblcsS0FBS3FrRCxZQUFjcmtELEtBQUtxa0QsWUFBWXA5QixPQUFPaWlDLFNBQ3ZDWCxRQUFxQ3BsRCxJQUE3Qm5ELEtBQUtza0Qsc0JBQ2J0a0QsS0FBS3NrRCxvQkFBc0I2RSxzQkFBc0JucEQsS0FBS29vRCxrQkFBa0JyNUMsS0FBSy9PLFVBUXJGbWtELEVBQUt2a0QsVUFBVXFwRCxzQkFBd0IsU0FBVTd4QyxFQUFVa0gsR0FDdkQsSUFBSXBILEUvQmpwQlF6QyxFQUFZa08sRStCa3BCcEJFLEVBQWdCN2lCLEtBQUs4aUIsb0JBTXpCLFlBTHNCM2YsSUFBbEIwZixJQUVBekUsRUFEQWxILEVBQVMsQ0FBQzJMLEVBQWMsR0FBS3ZFLEVBQU8sR0FBSXVFLEVBQWMsR0FBS3ZFLEVBQU8sSUFDekNsSCxFQUFXcFgsS0FBSyszQixlL0JycEJyQnBWLEUrQnNwQkVyRSxHL0J0cEJkN0osRStCc3BCTXlDLEcvQnJwQlgsS0FBT3lMLEVBQU0sR0FDeEJsTyxFQUFXLEtBQU9rTyxFQUFNLEkrQnNwQmJ6TCxHQU9YaXRDLEVBQUt2a0QsVUFBVWtwRCxvQkFBc0IsU0FBVTN4QyxFQUFZbUgsR0FDdkQsSUFBSXBILEVBQ0EyTCxFQUFnQjdpQixLQUFLOGlCLG9CQUNyQnNtQyxFQUFvQnBwRCxLQUFLeW5ELGdCQVE3QixZQVBzQnRrRCxJQUFsQjBmLFFBQXFEMWYsSUFBdEJpbUQsSUFLL0JseUMsRUFBUyxDQUpEb0gsRUFBTyxHQUNWbkgsR0FBY21ILEVBQU8sR0FBS3VFLEVBQWMsSUFBT3VtQyxFQUM1QzlxQyxFQUFPLEdBQ1ZuSCxHQUFjbUgsRUFBTyxHQUFLdUUsRUFBYyxJQUFPdW1DLElBR2pEbHlDLEdBUVhpdEMsRUFBS3ZrRCxVQUFVZ3BELGlCQUFtQixTQUFVUyxHQUN4QyxJQUFJeDlDLEVBQU83TCxLQUFLd2tELGNBQ2hCLEdBQUk2RSxFQUFjLENBQ2QsSUFBSW4wQixFQUFJcnBCLEVBQUssR0FDVHNwQixFQUFJdHBCLEVBQUssR0FDYixNQUFPLENBQ0gwQyxLQUFLb2IsSUFBSXVMLEVBQUkzbUIsS0FBSytJLElBQUkreEMsSUFDbEI5NkMsS0FBS29iLElBQUl3TCxFQUFJNW1CLEtBQUtpSixJQUFJNnhDLElBQzFCOTZDLEtBQUtvYixJQUFJdUwsRUFBSTNtQixLQUFLaUosSUFBSTZ4QyxJQUNsQjk2QyxLQUFLb2IsSUFBSXdMLEVBQUk1bUIsS0FBSytJLElBQUkreEMsS0FJOUIsT0FBT3g5QyxHQVVmczRDLEVBQUt2a0QsVUFBVTBwRCxnQkFBa0IsU0FBVXR6QixHQUN2Q2gyQixLQUFLd2tELGNBQWdCOWtELE1BQU1rSCxRQUFRb3ZCLEdBQzdCQSxFQUFTdnJCLFFBQ1QsQ0FBQyxJQUFLLEtBQ1B6SyxLQUFLMGpCLGdCQUNOMWpCLEtBQUsybkQsbUJBQW1CLElBU2hDeEQsRUFBS3ZrRCxVQUFVa1gsVUFBWSxXQUN2QixJQUFJSSxFQUFTbFgsS0FBSzhpQixvQkFDbEIsT0FBSzVMLEdBR0UsU0FBaUJBLEVBQVFsWCxLQUFLNm5ELGlCQUYxQjN3QyxHQVFmaXRDLEVBQUt2a0QsVUFBVWtqQixrQkFBb0IsV0FDL0IsT0FBc0U5aUIsS0FBS3dDLElBQUkrbUQsS0FLbkZwRixFQUFLdmtELFVBQVU0cEQsZUFBaUIsV0FDNUIsT0FBT3hwRCxLQUFLa25ELGNBS2hCL0MsRUFBS3ZrRCxVQUFVNnBELHVCQUF5QixXQUNwQyxPQUFPenBELEtBQUtzbkQsU0FBU2hDLHFCQU16Qm5CLEVBQUt2a0QsVUFBVThwRCxTQUFXLFNBQVVDLEdBQ2hDLFlBQWtCeG1ELElBQWR3bUQsR0FDQUEsRUFBVSxHQUFLM3BELEtBQUtva0QsT0FBTyxHQUMzQnVGLEVBQVUsR0FBSzNwRCxLQUFLb2tELE9BQU8sR0FDcEJ1RixHQUdBM3BELEtBQUtva0QsT0FBTzM1QyxTQWEzQjA1QyxFQUFLdmtELFVBQVVncUQsZ0JBQWtCLFNBQVU1ekIsR0FDdkMsSUFBSW5pQixFQUFTN1QsS0FBSzZwRCx3QkFBd0I3ekIsR0FDMUMsT0FBTyxTQUFhbmlCLEVBQVE3VCxLQUFLNm5ELGtCQU9yQzFELEVBQUt2a0QsVUFBVWlxRCx3QkFBMEIsU0FBVTd6QixHQUMvQyxJQUFJbnFCLEVBQU9tcUIsR0FBWWgyQixLQUFLNG9ELG1CQUN4QjF4QyxFQUErRGxYLEtBQUs4aUIscUJBQ3hFLE9BQU81TCxFQUFRLEdBQ2YsSUFBSUMsRUFBcUNuWCxLQUFLeW5ELGlCQUM5QyxZQUFzQnRrRCxJQUFmZ1UsRUFBMEIsR0FDakMsSUFBSUMsRUFBbUNwWCxLQUFLKzNCLGNBRTVDLE9BREEsWUFBb0I1MEIsSUFBYmlVLEVBQXdCLElBQ3hCLFFBQWtCRixFQUFRQyxFQUFZQyxFQUFVdkwsSUFPM0RzNEMsRUFBS3ZrRCxVQUFVb3hDLGlCQUFtQixXQUM5QixPQUFPaHhDLEtBQUtxbUQsZ0JBT2hCbEMsRUFBS3ZrRCxVQUFVcXhDLGlCQUFtQixXQUM5QixPQUFPanhDLEtBQUtzbUQsZ0JBT2hCbkMsRUFBS3ZrRCxVQUFVdXhDLFdBQWEsV0FDeEIsT0FBOEJueEMsS0FBSzhwRCxxQkFBcUI5cEQsS0FBS3NtRCxpQkFPakVuQyxFQUFLdmtELFVBQVU2eEMsV0FBYSxTQUFVTSxHQUNsQy94QyxLQUFLNmtELGNBQWM3a0QsS0FBS3VuRCxtQkFBbUIsQ0FBRWxYLFFBQVMwQixNQU8xRG9TLEVBQUt2a0QsVUFBVXN4QyxXQUFhLFdBQ3hCLE9BQThCbHhDLEtBQUs4cEQscUJBQXFCOXBELEtBQUtxbUQsaUJBT2pFbEMsRUFBS3ZrRCxVQUFVOHhDLFdBQWEsU0FBVUssR0FDbEMveEMsS0FBSzZrRCxjQUFjN2tELEtBQUt1bkQsbUJBQW1CLENBQUVuWCxRQUFTMkIsTUFPMURvUyxFQUFLdmtELFVBQVVtcUQsdUJBQXlCLFNBQVVDLEdBQzlDaHFELEtBQUs2a0QsY0FBYzdrRCxLQUFLdW5ELG1CQUFtQixDQUFFakMsb0JBQXFCMEUsTUFPdEU3RixFQUFLdmtELFVBQVVpb0QsY0FBZ0IsV0FDM0IsT0FBTzduRCxLQUFLdWtELGFBUWhCSixFQUFLdmtELFVBQVU2bkQsY0FBZ0IsV0FDM0IsT0FBd0N6bkQsS0FBS3dDLElBQUkrbUQsS0FRckRwRixFQUFLdmtELFVBQVVxcUQsZUFBaUIsV0FDNUIsT0FBT2pxRCxLQUFLd21ELGNBVWhCckMsRUFBS3ZrRCxVQUFVc3FELHVCQUF5QixTQUFVcjJDLEVBQVFtaUIsR0FDdEQsT0FBT2gyQixLQUFLbXFELGdDQUErQixTQUFldDJDLEVBQVE3VCxLQUFLNm5ELGlCQUFrQjd4QixJQVM3Rm11QixFQUFLdmtELFVBQVV1cUQsK0JBQWlDLFNBQVV0MkMsRUFBUW1pQixHQUM5RCxJQUFJbnFCLEVBQU9tcUIsR0FBWWgyQixLQUFLNG9ELG1CQUN4QmpMLEdBQWMsUUFBUzlwQyxHQUFVaEksRUFBSyxHQUN0Qyt4QyxHQUFjLFFBQVUvcEMsR0FBVWhJLEVBQUssR0FDM0MsT0FBTzBDLEtBQUswSCxJQUFJMG5DLEVBQWFDLElBUWpDdUcsRUFBS3ZrRCxVQUFVd3FELDhCQUFnQyxTQUFVQyxHQUNyRCxJQUFJeEUsRUFBUXdFLEdBQWEsRUFDckJuYSxFQUFnQmx3QyxLQUFLc3FELHlCQUF5QnRxRCxLQUFLcW1ELGdCQUNuRGxXLEVBQWdCbndDLEtBQUtzbUQsZUFDckJyd0MsRUFBTTFILEtBQUs2YSxJQUFJOG1CLEVBQWdCQyxHQUFpQjVoQyxLQUFLNmEsSUFBSXk4QixHQUM3RCxPQUFPLFNBS0d0Z0QsR0FFTixPQURpQjJxQyxFQUFnQjNoQyxLQUFLQyxJQUFJcTNDLEVBQU90Z0QsRUFBUTBRLEtBVWpFa3VDLEVBQUt2a0QsVUFBVW00QixZQUFjLFdBQ3pCLE9BQThCLzNCLEtBQUt3QyxJQUFJK21ELEtBUTNDcEYsRUFBS3ZrRCxVQUFVMnFELDhCQUFnQyxTQUFVRixHQUNyRCxJQUFJRyxFQUFXajhDLEtBQUs2YSxJQUFJaWhDLEdBQWEsR0FDakNuYSxFQUFnQmx3QyxLQUFLc3FELHlCQUF5QnRxRCxLQUFLcW1ELGdCQUNuRGxXLEVBQWdCbndDLEtBQUtzbUQsZUFDckJyd0MsRUFBTTFILEtBQUs2YSxJQUFJOG1CLEVBQWdCQyxHQUFpQnFhLEVBQ3BELE9BQU8sU0FLR3J6QyxHQUVOLE9BRFk1SSxLQUFLNmEsSUFBSThtQixFQUFnQi80QixHQUFjcXpDLEVBQVd2MEMsSUFVdEVrdUMsRUFBS3ZrRCxVQUFVNnFELDZCQUErQixTQUFVcEIsR0FDcEQsSUFBSXg5QyxFQUFPN0wsS0FBSzRvRCxpQkFBaUJTLEdBQzdCcjFCLEVBQVVoMEIsS0FBS2cwQixRQU9uQixPQU5JQSxJQUNBbm9CLEVBQU8sQ0FDSEEsRUFBSyxHQUFLbW9CLEVBQVEsR0FBS0EsRUFBUSxHQUMvQm5vQixFQUFLLEdBQUttb0IsRUFBUSxHQUFLQSxFQUFRLEtBR2hDbm9CLEdBS1hzNEMsRUFBS3ZrRCxVQUFVNnlDLFNBQVcsV0FDdEIsSUFBSTU0QixFQUFhN1osS0FBSzZuRCxnQkFDbEIxd0MsRUFBb0NuWCxLQUFLeW5ELGdCQUN6Q3J3QyxFQUFXcFgsS0FBSyszQixjQUNoQjdnQixFQUE4RGxYLEtBQUs4aUIsb0JBQ25Fa1IsRUFBVWgwQixLQUFLZzBCLFFBQ25CLEdBQUlBLEVBQVMsQ0FDVCxJQUFJMDJCLEVBQWMxcUQsS0FBS3lxRCwrQkFDdkJ2ekMsRUFBUzhzQyxHQUFrQjlzQyxFQUFRbFgsS0FBSzRvRCxtQkFBb0IsQ0FBQzhCLEVBQVksR0FBSyxFQUFJMTJCLEVBQVEsR0FBSTAyQixFQUFZLEdBQUssRUFBSTEyQixFQUFRLElBQUs3YyxFQUFZQyxHQUVoSixNQUFPLENBQ0hGLE9BQVFBLEVBQU96TSxNQUFNLEdBQ3JCb1AsZ0JBQTJCMVcsSUFBZjBXLEVBQTJCQSxFQUFhLEtBQ3BEMUMsV0FBWUEsRUFDWkMsU0FBVUEsRUFDVjI2QixLQUFNL3hDLEtBQUtxakIsWUFVbkI4Z0MsRUFBS3ZrRCxVQUFVeWpCLFFBQVUsV0FDckIsSUFBSTB1QixFQUNBNTZCLEVBQWFuWCxLQUFLeW5ELGdCQUl0QixZQUhtQnRrRCxJQUFmZ1UsSUFDQTQ2QixFQUFPL3hDLEtBQUs4cEQscUJBQXFCM3lDLElBRTlCNDZCLEdBUVhvUyxFQUFLdmtELFVBQVVrcUQscUJBQXVCLFNBQVUzeUMsR0FDNUMsSUFDSWxCLEVBQUsrdUMsRUFETHB2QyxFQUFTNVYsS0FBS3ltRCxVQUFZLEVBRTlCLEdBQUl6bUQsS0FBS3dtRCxhQUFjLENBQ25CLElBQUltRSxHQUFVLFNBQWtCM3FELEtBQUt3bUQsYUFBY3J2QyxFQUFZLEdBQy9EdkIsRUFBUyswQyxFQUNUMTBDLEVBQU1qVyxLQUFLd21ELGFBQWFtRSxHQUVwQjNGLEVBREEyRixHQUFXM3FELEtBQUt3bUQsYUFBYTlrRCxPQUFTLEVBQ3pCLEVBR0F1VSxFQUFNalcsS0FBS3dtRCxhQUFhbUUsRUFBVSxRQUluRDEwQyxFQUFNalcsS0FBS3FtRCxlQUNYckIsRUFBYWhsRCxLQUFLdW1ELFlBRXRCLE9BQU8zd0MsRUFBU3JILEtBQUs2YSxJQUFJblQsRUFBTWtCLEdBQWM1SSxLQUFLNmEsSUFBSTQ3QixJQVExRGIsRUFBS3ZrRCxVQUFVNmpCLHFCQUF1QixTQUFVc3VCLEdBQzVDLEdBQUkveEMsS0FBS3dtRCxhQUFjLENBQ25CLEdBQUl4bUQsS0FBS3dtRCxhQUFhOWtELFFBQVUsRUFDNUIsT0FBTyxFQUVYLElBQUlrcEQsR0FBWSxRQUFNcjhDLEtBQUsyTCxNQUFNNjNCLEdBQU8sRUFBRy94QyxLQUFLd21ELGFBQWE5a0QsT0FBUyxHQUNsRXNqRCxFQUFhaGxELEtBQUt3bUQsYUFBYW9FLEdBQWE1cUQsS0FBS3dtRCxhQUFhb0UsRUFBWSxHQUM5RSxPQUFRNXFELEtBQUt3bUQsYUFBYW9FLEdBQ3RCcjhDLEtBQUtDLElBQUl3MkMsR0FBWSxRQUFNalQsRUFBTzZZLEVBQVcsRUFBRyxJQUdwRCxPQUFRNXFELEtBQUtxbUQsZUFBaUI5M0MsS0FBS0MsSUFBSXhPLEtBQUt1bUQsWUFBYXhVLEVBQU8veEMsS0FBS3ltRCxXQWE3RXRDLEVBQUt2a0QsVUFBVWlyRCxJQUFNLFNBQVVDLEVBQWtCM3BELEdBRTdDLElBQUkyN0IsRUFJSixJQUhBLE9BQU9wOUIsTUFBTWtILFFBQVFra0QsSUFFYixtQkFEcUIsRUFBd0Msc0JBQ2pELElBQ2hCcHJELE1BQU1rSCxRQUFRa2tELElBQ2QsU0FBUSxRQUFRQSxHQUFtQixJQUVuQ2h1QixFQUFXLEdBRFBqcEIsR0FBUyxTQUFlaTNDLEVBQWtCOXFELEtBQUs2bkQsdUJBR2xELEdBQUlpRCxFQUFpQi90QyxZQUFjZ3RCLEdBQUEsU0FBcUIsQ0FDekQsSUFBSWwyQixHQUNKaXBCLEVBQVcsR0FEUGpwQixHQUFTLFNBQWVpM0MsRUFBaUIvd0MsWUFBYS9aLEtBQUs2bkQsbUJBRXREenBDLE9BQU9wZSxLQUFLKzNCLGVBQWUsUUFBVWxrQixRQUU3QyxDQUNELElBQUl1YyxHQUFpQixXQUVqQjBNLEVBREExTSxFQUNzRTA2QixFQUNqRTUyQyxRQUNBNEssVUFBVXNSLEVBQWdCcHdCLEtBQUs2bkQsaUJBR3pCaUQsRUFHbkI5cUQsS0FBSytxRCxZQUFZanVCLEVBQVUzN0IsSUFNL0JnakQsRUFBS3ZrRCxVQUFVbXJELFlBQWMsU0FBVWp1QixFQUFVMzdCLEdBQzdDLElBQUlDLEVBQVVELEdBQWUsR0FDekIwSyxFQUFPekssRUFBUXlLLEtBQ2RBLElBQ0RBLEVBQU83TCxLQUFLeXFELGdDQUVoQixJQUVJdGEsRUFGQW5jLE9BQThCN3dCLElBQXBCL0IsRUFBUTR5QixRQUF3QjV5QixFQUFRNHlCLFFBQVUsQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUN0RTIyQixPQUE4QnhuRCxJQUFwQi9CLEVBQVF1cEQsU0FBd0J2cEQsRUFBUXVwRCxRQUdsRHhhLE9BRDBCaHRDLElBQTFCL0IsRUFBUSt1QyxjQUNRL3VDLEVBQVErdUMsbUJBRUNodEMsSUFBcEIvQixFQUFRaXZDLFFBQ0dyd0MsS0FBS3lqQixxQkFBcUJyaUIsRUFBUWl2QyxTQUdsQyxFQVlwQixJQVZBLElBQUkyYSxFQUFTbHVCLEVBQVNqZCxxQkFFbEJ6SSxFQUFXcFgsS0FBSyszQixjQUNoQndiLEVBQVdobEMsS0FBSytJLEtBQUtGLEdBQ3JCbzhCLEVBQVdqbEMsS0FBS2lKLEtBQUtKLEdBQ3JCNnpDLEVBQVUsSUFDVkMsRUFBVSxJQUNWQyxHQUFVLElBQ1ZDLEdBQVUsSUFDVnYxQyxFQUFTaW5CLEVBQVNoZCxZQUNidGUsRUFBSSxFQUFHQyxFQUFLdXBELEVBQU90cEQsT0FBUUYsRUFBSUMsRUFBSUQsR0FBS3FVLEVBQVEsQ0FDckQsSUFBSW91QyxFQUFPK0csRUFBT3hwRCxHQUFLK3hDLEVBQVd5WCxFQUFPeHBELEVBQUksR0FBS2d5QyxFQUM5QzBRLEVBQU84RyxFQUFPeHBELEdBQUtneUMsRUFBV3dYLEVBQU94cEQsRUFBSSxHQUFLK3hDLEVBQ2xEMFgsRUFBVTE4QyxLQUFLeUgsSUFBSWkxQyxFQUFTaEgsR0FDNUJpSCxFQUFVMzhDLEtBQUt5SCxJQUFJazFDLEVBQVNoSCxHQUM1QmlILEVBQVU1OEMsS0FBSzBILElBQUlrMUMsRUFBU2xILEdBQzVCbUgsRUFBVTc4QyxLQUFLMEgsSUFBSW0xQyxFQUFTbEgsR0FHaEMsSUFBSS9zQyxFQUFhblgsS0FBS21xRCwrQkFBK0IsQ0FBQ2MsRUFBU0MsRUFBU0MsRUFBU0MsR0FBVSxDQUFDdi9DLEVBQUssR0FBS21vQixFQUFRLEdBQUtBLEVBQVEsR0FBSW5vQixFQUFLLEdBQUttb0IsRUFBUSxHQUFLQSxFQUFRLEtBQzlKN2MsRUFBYWdILE1BQU1oSCxHQUNiZzVCLEVBQ0E1aEMsS0FBSzBILElBQUlrQixFQUFZZzVCLEdBQzNCaDVCLEVBQWFuWCxLQUFLc3FELHlCQUF5Qm56QyxFQUFZd3pDLEVBQVUsRUFBSSxHQUVyRW5YLEdBQVlBLEVBQ1osSUFBSTZYLEdBQWNKLEVBQVVFLEdBQVcsRUFDbkNHLEdBQWNKLEVBQVVFLEdBQVcsRUFHbkNHLEdBRkpGLElBQWdCcjNCLEVBQVEsR0FBS0EsRUFBUSxJQUFNLEVBQUs3YyxHQUVyQm84QixHQUQzQitYLElBQWdCdDNCLEVBQVEsR0FBS0EsRUFBUSxJQUFNLEVBQUs3YyxHQUNHcThCLEVBQy9DZ1ksRUFBVUYsRUFBYS9YLEVBQVc4WCxFQUFhN1gsRUFDL0N0OEIsRUFBU2xYLEtBQUtrakIscUJBQXFCLENBQUNxb0MsRUFBU0MsR0FBVXIwQyxHQUN2RGhCLEVBQVcvVSxFQUFRK1UsU0FBVy9VLEVBQVErVSxTQUFXLFVBQzVCaFQsSUFBckIvQixFQUFRNGhCLFNBQ1JoakIsS0FBSytpQixnQkFBZ0IsQ0FDakI1TCxXQUFZQSxFQUNaRCxPQUFRQSxFQUNSOEwsU0FBVTVoQixFQUFRNGhCLFNBQ2xCQyxPQUFRN2hCLEVBQVE2aEIsUUFDakI5TSxJQUdIblcsS0FBSzBrRCxrQkFBb0J2dEMsRUFDekJuWCxLQUFLeWtELGNBQWdCdnRDLEVBQ3JCbFgsS0FBSytvRCxtQkFBa0IsR0FBTyxHQUM5QnhGLEdBQWtCcHRDLEdBQVUsS0FVcENndUMsRUFBS3ZrRCxVQUFVNnJELFNBQVcsU0FBVWgzQyxFQUFZNUksRUFBTW9vQixHQUNsRGowQixLQUFLMHJELGtCQUFpQixTQUFtQmozQyxFQUFZelUsS0FBSzZuRCxpQkFBa0JoOEMsRUFBTW9vQixJQU90Rmt3QixFQUFLdmtELFVBQVU4ckQsaUJBQW1CLFNBQVVqM0MsRUFBWTVJLEVBQU1vb0IsR0FDMURqMEIsS0FBS21uRCxrQkFBa0JuRCxHQUFrQnZ2QyxFQUFZNUksRUFBTW9vQixFQUFVajBCLEtBQUt5bkQsZ0JBQWlCem5ELEtBQUsrM0IsaUJBVXBHb3NCLEVBQUt2a0QsVUFBVStyRCxxQkFBdUIsU0FBVXowQyxFQUFRQyxFQUFZQyxFQUFVdkwsR0FDMUUsSUFBSSsvQyxFQUNBNTNCLEVBQVVoMEIsS0FBS2cwQixRQUNuQixHQUFJQSxHQUFXOWMsRUFBUSxDQUNuQixJQUFJd3pDLEVBQWMxcUQsS0FBS3lxRCw4QkFBOEJyekMsR0FDakR5MEMsRUFBZ0I3SCxHQUFrQjlzQyxFQUFRckwsRUFBTSxDQUFDNitDLEVBQVksR0FBSyxFQUFJMTJCLEVBQVEsR0FBSTAyQixFQUFZLEdBQUssRUFBSTEyQixFQUFRLElBQUs3YyxFQUFZQyxHQUNwSXcwQyxFQUFjLENBQ1YxMEMsRUFBTyxHQUFLMjBDLEVBQWMsR0FDMUIzMEMsRUFBTyxHQUFLMjBDLEVBQWMsSUFHbEMsT0FBT0QsR0FLWHpILEVBQUt2a0QsVUFBVThuRCxNQUFRLFdBQ25CLFFBQVMxbkQsS0FBSzhpQiwwQkFBZ0QzZixJQUF6Qm5ELEtBQUt5bkQsaUJBTzlDdEQsRUFBS3ZrRCxVQUFVa3NELGFBQWUsU0FBVUMsR0FDcEMsSUFBSTcwQyxHQUFTLFNBQWlCbFgsS0FBS3lrRCxjQUFlemtELEtBQUs2bkQsaUJBQ3ZEN25ELEtBQUtnc0QsVUFBVSxDQUNYOTBDLEVBQU8sR0FBSzYwQyxFQUFpQixHQUM3QjcwQyxFQUFPLEdBQUs2MEMsRUFBaUIsTUFPckM1SCxFQUFLdmtELFVBQVVxc0QscUJBQXVCLFNBQVVGLEdBQzVDLElBQUk3MEMsRUFBU2xYLEtBQUt5a0QsY0FDbEJ6a0QsS0FBS21uRCxrQkFBa0IsQ0FDbkJqd0MsRUFBTyxHQUFLNjBDLEVBQWlCLEdBQzdCNzBDLEVBQU8sR0FBSzYwQyxFQUFpQixNQVVyQzVILEVBQUt2a0QsVUFBVXNzRCxpQkFBbUIsU0FBVW4yQixFQUFPclgsR0FDL0MsSUFBSUosRUFBU0ksSUFBYyxTQUFtQkEsRUFBWTFlLEtBQUs2bkQsaUJBQy9EN25ELEtBQUttc0QseUJBQXlCcDJCLEVBQU96WCxJQVF6QzZsQyxFQUFLdmtELFVBQVV1c0QseUJBQTJCLFNBQVVwMkIsRUFBT3JYLEdBQ3ZELElBQUkwdEMsRUFBV3BzRCxLQUFLMGpCLGdCQUFrQjFqQixLQUFLcW9ELGlCQUN2Q3g4QyxFQUFPN0wsS0FBSzRvRCxpQkFBaUI1b0QsS0FBSyszQixlQUNsQ3ZVLEVBQWdCeGpCLEtBQUtrbkQsYUFBYS92QyxXQUFXblgsS0FBSzBrRCxrQkFBb0IzdUIsRUFBTyxFQUFHbHFCLEVBQU11Z0QsR0FDdEYxdEMsSUFDQTFlLEtBQUt5a0QsY0FBZ0J6a0QsS0FBSzhvRCxvQkFBb0J0bEMsRUFBZTlFLElBRWpFMWUsS0FBSzBrRCxtQkFBcUIzdUIsRUFDMUIvMUIsS0FBSytvRCxxQkFTVDVFLEVBQUt2a0QsVUFBVXlzRCxXQUFhLFNBQVUxcEMsRUFBT2pFLEdBQ3pDMWUsS0FBS2tzRCxpQkFBaUIzOUMsS0FBS0MsSUFBSXhPLEtBQUt1bUQsYUFBYzVqQyxHQUFRakUsSUFTOUR5bEMsRUFBS3ZrRCxVQUFVMHNELGVBQWlCLFNBQVUzcEMsRUFBT2pFLEdBQ3pDQSxJQUNBQSxHQUFhLFNBQW1CQSxFQUFZMWUsS0FBSzZuRCxrQkFFckQ3bkQsS0FBS3VzRCx1QkFBdUI1cEMsRUFBT2pFLElBTXZDeWxDLEVBQUt2a0QsVUFBVTJzRCx1QkFBeUIsU0FBVTVwQyxFQUFPakUsR0FDckQsSUFBSTB0QyxFQUFXcHNELEtBQUswakIsZ0JBQWtCMWpCLEtBQUtxb0QsaUJBQ3ZDbUUsRUFBY3hzRCxLQUFLa25ELGFBQWE5dkMsU0FBU3BYLEtBQUsya0QsZ0JBQWtCaGlDLEVBQU95cEMsR0FDdkUxdEMsSUFDQTFlLEtBQUt5a0QsY0FBZ0J6a0QsS0FBS2lwRCxzQkFBc0J1RCxFQUFhOXRDLElBRWpFMWUsS0FBSzJrRCxpQkFBbUJoaUMsRUFDeEIzaUIsS0FBSytvRCxxQkFRVDVFLEVBQUt2a0QsVUFBVW9zRCxVQUFZLFNBQVU5MEMsR0FDakNsWCxLQUFLbW5ELG1CQUFrQixTQUFtQmp3QyxFQUFRbFgsS0FBSzZuRCxtQkFNM0QxRCxFQUFLdmtELFVBQVV1bkQsa0JBQW9CLFNBQVVqd0MsR0FDekNsWCxLQUFLeWtELGNBQWdCdnRDLEVBQ3JCbFgsS0FBSytvRCxxQkFPVDVFLEVBQUt2a0QsVUFBVXVvRCxRQUFVLFNBQVVzRSxFQUFNOXBDLEdBR3JDLE9BRkEzaUIsS0FBS29rRCxPQUFPcUksSUFBUzlwQyxFQUNyQjNpQixLQUFLd0csVUFDRXhHLEtBQUtva0QsT0FBT3FJLElBUXZCdEksRUFBS3ZrRCxVQUFVd25ELGNBQWdCLFNBQVVqd0MsR0FDckNuWCxLQUFLMGtELGtCQUFvQnZ0QyxFQUN6Qm5YLEtBQUsrb0QscUJBUVQ1RSxFQUFLdmtELFVBQVVnOEIsWUFBYyxTQUFVeGtCLEdBQ25DcFgsS0FBSzJrRCxnQkFBa0J2dEMsRUFDdkJwWCxLQUFLK29ELHFCQU9UNUUsRUFBS3ZrRCxVQUFVeW5ELFFBQVUsU0FBVXRWLEdBQy9CL3hDLEtBQUtvbkQsY0FBY3BuRCxLQUFLeWpCLHFCQUFxQnN1QixLQVVqRG9TLEVBQUt2a0QsVUFBVW1wRCxrQkFBb0IsU0FBVTJELEVBQXNCQyxHQUMvRCxJQUFJUCxFQUFXcHNELEtBQUswakIsZ0JBQWtCMWpCLEtBQUtxb0Qsa0JBQW9Cc0UsRUFFM0RILEVBQWN4c0QsS0FBS2tuRCxhQUFhOXZDLFNBQVNwWCxLQUFLMmtELGdCQUFpQnlILEdBQy9EdmdELEVBQU83TCxLQUFLNG9ELGlCQUFpQjRELEdBQzdCaHBDLEVBQWdCeGpCLEtBQUtrbkQsYUFBYS92QyxXQUFXblgsS0FBSzBrRCxrQkFBbUIsRUFBRzc0QyxFQUFNdWdELEdBQzlFUSxFQUFZNXNELEtBQUtrbkQsYUFBYWh3QyxPQUFPbFgsS0FBS3lrRCxjQUFlamhDLEVBQWUzWCxFQUFNdWdELEVBQVVwc0QsS0FBSzJyRCxxQkFBcUIzckQsS0FBS3lrRCxjQUFlamhDLEVBQWVncEMsRUFBYTNnRCxJQUNsSzdMLEtBQUt3QyxJQUFJK21ELE1BQTJCaUQsR0FDcEN4c0QsS0FBS29ELElBQUltbUQsR0FBdUJpRCxHQUVoQ3hzRCxLQUFLd0MsSUFBSSttRCxNQUE2Qi9sQyxHQUN0Q3hqQixLQUFLb0QsSUFBSW1tRCxHQUF5Qi9sQyxHQUVqQ3hqQixLQUFLd0MsSUFBSSttRCxLQUNUdGhELEVBQU9qSSxLQUFLd0MsSUFBSSttRCxJQUFzQnFELElBQ3ZDNXNELEtBQUtvRCxJQUFJbW1ELEdBQXFCcUQsR0FFOUI1c0QsS0FBSzBqQixpQkFBbUJncEMsR0FDeEIxc0QsS0FBSzJqQixtQkFFVDNqQixLQUFLNGtELG1CQUFnQnpoRCxHQVd6QmdoRCxFQUFLdmtELFVBQVUrbkQsbUJBQXFCLFNBQVUva0MsRUFBY2lxQyxFQUF5Qm51QyxHQUNqRixJQUFJc0UsT0FBNEI3ZixJQUFqQnlmLEVBQTZCQSxFQUFlLElBQ3ZEbGIsRUFBWW1sRCxHQUEyQixFQUN2Q0wsRUFBY3hzRCxLQUFLa25ELGFBQWE5dkMsU0FBU3BYLEtBQUsya0QsaUJBQzlDOTRDLEVBQU83TCxLQUFLNG9ELGlCQUFpQjRELEdBQzdCaHBDLEVBQWdCeGpCLEtBQUtrbkQsYUFBYS92QyxXQUFXblgsS0FBSzBrRCxrQkFBbUJoOUMsRUFBV21FLEdBQ2hGK2dELEVBQVk1c0QsS0FBS2tuRCxhQUFhaHdDLE9BQU9sWCxLQUFLeWtELGNBQWVqaEMsRUFBZTNYLEdBQU0sRUFBTzdMLEtBQUsyckQscUJBQXFCM3JELEtBQUt5a0QsY0FBZWpoQyxFQUFlZ3BDLEVBQWEzZ0QsSUFDbkssR0FBaUIsSUFBYm1YLElBQW1CaGpCLEtBQUs0a0QsY0FLeEIsT0FKQTVrRCxLQUFLMGtELGtCQUFvQmxoQyxFQUN6QnhqQixLQUFLMmtELGdCQUFrQjZILEVBQ3ZCeHNELEtBQUt5a0QsY0FBZ0JtSSxPQUNyQjVzRCxLQUFLK29ELG9CQUdULElBQUl6cUMsRUFBU0ksSUFBNEIsSUFBYnNFLEVBQWlCaGpCLEtBQUs0a0QsbUJBQWdCemhELEdBQ2xFbkQsS0FBSzRrRCxtQkFBZ0J6aEQsRUFDakJuRCxLQUFLeW5ELGtCQUFvQmprQyxHQUN6QnhqQixLQUFLKzNCLGdCQUFrQnkwQixHQUN0QnhzRCxLQUFLOGlCLHFCQUNMN2EsRUFBT2pJLEtBQUs4aUIsb0JBQXFCOHBDLEtBQzlCNXNELEtBQUswakIsZ0JBQ0wxakIsS0FBSzJqQixtQkFFVDNqQixLQUFLK2lCLGdCQUFnQixDQUNqQjNMLFNBQVVvMUMsRUFDVnQxQyxPQUFRMDFDLEVBQ1J6MUMsV0FBWXFNLEVBQ1pSLFNBQVVBLEVBQ1ZDLE9BQVEsTUFDUjNFLE9BQVFBLE1BVXBCNmxDLEVBQUt2a0QsVUFBVWt0RCxpQkFBbUIsV0FDOUI5c0QsS0FBSzJuRCxtQkFBbUIsR0FDeEIzbkQsS0FBS21vRCxRbEJoN0NJLEVrQmc3QzBCLElBVXZDaEUsRUFBS3ZrRCxVQUFVbXRELGVBQWlCLFNBQVVucUMsRUFBY2lxQyxFQUF5Qm51QyxHQUM3RSxJQUFJSixFQUFTSSxJQUFjLFNBQW1CQSxFQUFZMWUsS0FBSzZuRCxpQkFDL0Q3bkQsS0FBS2d0RCx1QkFBdUJwcUMsRUFBY2lxQyxFQUF5QnZ1QyxJQVN2RTZsQyxFQUFLdmtELFVBQVVvdEQsdUJBQXlCLFNBQVVwcUMsRUFBY2lxQyxFQUF5Qm51QyxHQUNyRjFlLEtBQUttb0QsUWxCdDhDSSxHa0JzOEMyQixHQUNwQ25vRCxLQUFLMm5ELG1CQUFtQi9rQyxFQUFjaXFDLEVBQXlCbnVDLElBU25FeWxDLEVBQUt2a0QsVUFBVXNqQixxQkFBdUIsU0FBVXlnQyxFQUFjc0osR0FDMUQsSUFBSXBoRCxFQUFPN0wsS0FBSzRvRCxpQkFBaUI1b0QsS0FBSyszQixlQUN0QyxPQUFPLzNCLEtBQUtrbkQsYUFBYWh3QyxPQUFPeXNDLEVBQWNzSixHQUF3Qmp0RCxLQUFLeW5ELGdCQUFpQjU3QyxJQVdoR3M0QyxFQUFLdmtELFVBQVUyakIsbUJBQXFCLFNBQVUycEMsRUFBWUMsR0FDdEQsSUFBSUMsRUFBWXB0RCxLQUFLeWpCLHFCQUFxQnlwQyxHQUMxQyxPQUFPbHRELEtBQUs4cEQscUJBQXFCOXBELEtBQUtzcUQseUJBQXlCOEMsRUFBV0QsS0FXOUVoSixFQUFLdmtELFVBQVUwcUQseUJBQTJCLFNBQVV6RyxFQUFrQnNKLEdBQ2xFLElBQUl6bEQsRUFBWXlsRCxHQUFpQixFQUM3QnRoRCxFQUFPN0wsS0FBSzRvRCxpQkFBaUI1b0QsS0FBSyszQixlQUN0QyxPQUFPLzNCLEtBQUtrbkQsYUFBYS92QyxXQUFXMHNDLEVBQWtCbjhDLEVBQVdtRSxJQUU5RHM0QyxFQTF1Q2MsQ0EydUN2QixNLGNDeC9DRSxHQUF3QyxXQUN4QyxJQUFJaGxELEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBcXpDNUMsU0EvcUNrQyxTQUFVSSxHQUt4QyxTQUFTa3RELEVBQWFqc0QsR0FDbEIsSUFBSWQsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FDN0JzdEQsRUF1bUNaLFNBQStCbHNELEdBSTNCLElBQUltc0QsRUFBc0IsVUFDVXBxRCxJQUFoQy9CLEVBQVFtc0Qsc0JBQ1JBLEVBQzJDLGlCQUFoQ25zRCxFQUFRbXNELG9CQUNUM2pELFNBQVM0akQsZUFBZXBzRCxFQUFRbXNELHFCQUNoQ25zRCxFQUFRbXNELHFCQUt0QixJQVNJRSxFQVVBbGxDLEVBV0FtbEMsRUE5QkExbkQsRUFBUyxHQUNUMm5ELEVBQWF2c0QsRUFBUXFtQixRQUNvQyxtQkFBL0JybUIsRUFBYyxPQUFXLFVBQ3RCQSxFQUFjLE9BQ3pDLElBQUksRUFBVyxDQUFFcW1CLE9BQW1Dcm1CLEVBQWMsU0F1Q3hFLE9BdENBNEUsRUFBNkIsV0FBSTJuRCxFQUNqQzNuRCxFQUF5QixPQUFJNUUsRUFBUXFHLE9BQ3JDekIsRUFBdUIsVUFDRjdDLElBQWpCL0IsRUFBUXNoQixLQUFxQnRoQixFQUFRc2hCLEtBQU8sSUFBSSxRQUUzQnZmLElBQXJCL0IsRUFBUXFzRCxXQUNKL3RELE1BQU1rSCxRQUFReEYsRUFBUXFzRCxVQUN0QkEsRUFBVyxJQUFJeHNELEVBQUEsRUFBV0csRUFBUXFzRCxTQUFTaGpELFdBRzNDLE9BQWlFLG1CQUFoQ3JKLEVBQWdCLFNBQVUsU0FBa0IsSUFDN0Vxc0QsRUFBc0Nyc0QsRUFBZ0IsZ0JBSWpDK0IsSUFBekIvQixFQUFRbW5CLGVBQ0o3b0IsTUFBTWtILFFBQVF4RixFQUFRbW5CLGNBQ3RCQSxFQUFlLElBQUl0bkIsRUFBQSxFQUFXRyxFQUFRbW5CLGFBQWE5ZCxXQUduRCxPQUNJLG1CQUQ2QnJKLEVBQW9CLGFBQVUsU0FDL0MsSUFDaEJtbkIsRUFBMENubkIsRUFBb0Isb0JBSTdDK0IsSUFBckIvQixFQUFRc3NELFNBQ0podUQsTUFBTWtILFFBQVF4RixFQUFRc3NELFVBQ3RCQSxFQUFXLElBQUl6c0QsRUFBQSxFQUFXRyxFQUFRc3NELFNBQVNqakQsV0FHM0MsT0FBaUUsbUJBQWhDckosRUFBZ0IsU0FBVSxTQUFrQixJQUM3RXNzRCxFQUFXdHNELEVBQVFzc0QsVUFJdkJBLEVBQVcsSUFBSXpzRCxFQUFBLEVBRVosQ0FDSHdzRCxTQUFVQSxFQUNWbGxDLGFBQWNBLEVBQ2RnbEMsb0JBQXFCQSxFQUNyQkcsU0FBVUEsRUFDVjFuRCxPQUFRQSxHQXJxQ2M0bkQsQ0FBc0J4c0QsR0FtUDVDLE9BalBBZCxFQUFNdXRELHlCQUEyQnZ0RCxFQUFNd3RELG1CQUFtQi8rQyxLQUFLek8sR0FLL0RBLEVBQU15dEQsc0JBQzBCNXFELElBQTVCL0IsRUFBUTRzRCxnQkFBZ0M1c0QsRUFBUTRzRCxnQkFBa0IsR0FLdEUxdEQsRUFBTTJ0RCxpQkFDcUI5cUQsSUFBdkIvQixFQUFRczNCLFdBQ0Z0M0IsRUFBUXMzQixXQUNSLE1BS1ZwNEIsRUFBTTR0RCx5QkFLTjV0RCxFQUFNNnRELG1CQUlON3RELEVBQU04dEQsZ0JBQThDLFdBQ2hEcHVELEtBQUttdUQsd0JBQXFCaHJELEVBQzFCbkQsS0FBS3F1RCxhQUFhdEcsS0FBS0MsUUFDekJqNUMsS0FBS3pPLEdBS1BBLEVBQU1ndUQsNkJBQThCLFVBS3BDaHVELEVBQU1pdUQsNkJBQThCLFVBS3BDanVELEVBQU1rdUQsWUFBYyxFQUtwQmx1RCxFQUFNbXVELFlBQWMsS0FNcEJudUQsRUFBTW91RCxnQkFBa0IsS0FLeEJwdUQsRUFBTXF1RCx5QkFBMkIsS0FLakNydUQsRUFBTXN1RCx1QkFBeUIsS0FLL0J0dUQsRUFBTXV1RCxnQ0FBa0MsS0FLeEN2dUQsRUFBTXd1RCxVQUFZbGxELFNBQVNDLGNBQWMsT0FDekN2SixFQUFNd3VELFVBQVVoc0IsVUFDWixlQUFpQixpQkFBa0J2Z0IsT0FBUyxZQUFjLElBQzlEamlCLEVBQU13dUQsVUFBVWhsRCxNQUFNbXFCLFNBQVcsV0FDakMzekIsRUFBTXd1RCxVQUFVaGxELE1BQU0yOUIsU0FBVyxTQUNqQ25uQyxFQUFNd3VELFVBQVVobEQsTUFBTTJDLE1BQVEsT0FDOUJuTSxFQUFNd3VELFVBQVVobEQsTUFBTTRDLE9BQVMsT0FLL0JwTSxFQUFNeXVELGtCQUFvQm5sRCxTQUFTQyxjQUFjLE9BQ2pEdkosRUFBTXl1RCxrQkFBa0JqbEQsTUFBTW1xQixTQUFXLFdBQ3pDM3pCLEVBQU15dUQsa0JBQWtCamxELE1BQU13ekIsT0FBUyxJQUN2Q2g5QixFQUFNeXVELGtCQUFrQmpsRCxNQUFNMkMsTUFBUSxPQUN0Q25NLEVBQU15dUQsa0JBQWtCamxELE1BQU00QyxPQUFTLE9BQ3ZDcE0sRUFBTXl1RCxrQkFBa0JqbEQsTUFBTXVhLGNBQWdCLE9BQzlDL2pCLEVBQU15dUQsa0JBQWtCanNCLFVBQVksc0JBQ3BDeGlDLEVBQU13dUQsVUFBVTlrRCxZQUFZMUosRUFBTXl1RCxtQkFLbEN6dUQsRUFBTTB1RCwyQkFBNkJwbEQsU0FBU0MsY0FBYyxPQUMxRHZKLEVBQU0wdUQsMkJBQTJCbGxELE1BQU1tcUIsU0FBVyxXQUNsRDN6QixFQUFNMHVELDJCQUEyQmxsRCxNQUFNd3pCLE9BQVMsSUFDaERoOUIsRUFBTTB1RCwyQkFBMkJsbEQsTUFBTTJDLE1BQVEsT0FDL0NuTSxFQUFNMHVELDJCQUEyQmxsRCxNQUFNNEMsT0FBUyxPQUNoRHBNLEVBQU0wdUQsMkJBQTJCbGxELE1BQU11YSxjQUFnQixPQUN2RC9qQixFQUFNMHVELDJCQUEyQmxzQixVQUFZLGdDQUM3Q3hpQyxFQUFNd3VELFVBQVU5a0QsWUFBWTFKLEVBQU0wdUQsNEJBS2xDMXVELEVBQU0ydUQsd0JBQTBCLEtBS2hDM3VELEVBQU1pNEMsZUFBaUJuM0MsRUFBUTgyQyxjQUsvQjUzQyxFQUFNNHVELHFCQUF1QjVCLEVBQWdCQyxvQkFLN0NqdEQsRUFBTTZ1RCxnQkFBa0IsS0FLeEI3dUQsRUFBTW10RCxTQUFXSCxFQUFnQkcsVUFBWSxJQUFJeHNELEVBQUEsRUFLakRYLEVBQU1pb0IsYUFBZStrQyxFQUFnQi9rQyxjQUFnQixJQUFJdG5CLEVBQUEsRUFLekRYLEVBQU04dUQsVUFBWTlCLEVBQWdCSSxTQU1sQ3B0RCxFQUFNK3VELGdCQUFrQixHQUt4Qi91RCxFQUFNNDhCLFVBQVksS0FLbEI1OEIsRUFBTWd2RCxjQUtOaHZELEVBQU1pdkQscUJBQXVCLEdBSzdCanZELEVBQU1rdkQsV0FBYSxJQUFJLEdBQVVsdkQsRUFBTW12RCxnQkFBZ0IxZ0QsS0FBS3pPLEdBQVFBLEVBQU1vdkQsa0JBQWtCM2dELEtBQUt6TyxJQUNqR0EsRUFBTThPLGtCQUFpQixRQUFtQnVnRCxJQUF5QnJ2RCxFQUFNc3ZELDBCQUN6RXR2RCxFQUFNOE8sa0JBQWlCLFFBQW1CdWdELElBQW1CcnZELEVBQU11dkQsb0JBQ25FdnZELEVBQU04TyxrQkFBaUIsUUFBbUJ1Z0QsSUFBbUJydkQsRUFBTXd2RCxvQkFDbkV4dkQsRUFBTThPLGtCQUFpQixRQUFtQnVnRCxJQUFxQnJ2RCxFQUFNeXZELHNCQUdyRXp2RCxFQUFNZ0YsY0FBY2dvRCxFQUFnQnRuRCxRQUNwQzFGLEVBQU1tdEQsU0FBU3RyRCxRQUtmLFNBQVU2dEQsR0FDTkEsRUFBUTdyQyxPQUFPbmtCLE9BQ2pCK08sS0FBS3pPLElBQ1BBLEVBQU1tdEQsU0FBU3IrQyxpQkFBaUI2bkMsRUFBQSxNQUloQyxTQUFVaG1DLEdBQ05BLEVBQU1sUSxRQUFRb2pCLE9BQU9ua0IsT0FDdkIrTyxLQUFLek8sSUFDUEEsRUFBTW10RCxTQUFTcitDLGlCQUFpQjZuQyxFQUFBLFNBSWhDLFNBQVVobUMsR0FDTkEsRUFBTWxRLFFBQVFvakIsT0FBTyxPQUN2QnBWLEtBQUt6TyxJQUNQQSxFQUFNaW9CLGFBQWFwbUIsUUFLbkIsU0FBVXNtQixHQUNOQSxFQUFZdEUsT0FBT25rQixPQUNyQitPLEtBQUt6TyxJQUNQQSxFQUFNaW9CLGFBQWFuWixpQkFBaUI2bkMsRUFBQSxNQUlwQyxTQUFVaG1DLEdBQ05BLEVBQU1sUSxRQUFRb2pCLE9BQU9ua0IsT0FDdkIrTyxLQUFLek8sSUFDUEEsRUFBTWlvQixhQUFhblosaUJBQWlCNm5DLEVBQUEsU0FJcEMsU0FBVWhtQyxHQUNOQSxFQUFNbFEsUUFBUW9qQixPQUFPLE9BQ3ZCcFYsS0FBS3pPLElBQ1BBLEVBQU04dUQsVUFBVWp0RCxRQUFRN0IsRUFBTTJ2RCxvQkFBb0JsaEQsS0FBS3pPLElBQ3ZEQSxFQUFNOHVELFVBQVVoZ0QsaUJBQWlCNm5DLEVBQUEsTUFJakMsU0FBVWhtQyxHQUNOalIsS0FBS2l3RCxvQkFDMENoL0MsRUFBYSxVQUM5RGxDLEtBQUt6TyxJQUNQQSxFQUFNOHVELFVBQVVoZ0QsaUJBQWlCNm5DLEVBQUEsU0FJakMsU0FBVWhtQyxHQUNOLElBQ0l1VSxFQUR5RHZVLEVBQWEsUUFDekRxeEIsYUFDTm4vQixJQUFQcWlCLFVBQ094bEIsS0FBS3F2RCxnQkFBZ0I3cEMsRUFBR3JjLFlBRW5DOEgsRUFBTWxRLFFBQVFvakIsT0FBTyxPQUN2QnBWLEtBQUt6TyxJQUNBQSxFQTgyQlgsT0F2bUNBLEdBQVUrc0QsRUFBY2x0RCxHQStQeEJrdEQsRUFBYXp0RCxVQUFVc3pDLGVBQWlCLFdBQ3BDLE1BQU0sSUFBSXp5QyxNQUFNLG9EQU9wQjRzRCxFQUFhenRELFVBQVVzd0QsV0FBYSxTQUFVRixHQUMxQ2h3RCxLQUFLbXdELGNBQWNqdUQsS0FBSzh0RCxJQVc1QjNDLEVBQWF6dEQsVUFBVXd3RCxlQUFpQixTQUFVM25DLEdBQzlDem9CLEtBQUt3b0Isa0JBQWtCdG1CLEtBQUt1bUIsSUFTaEM0a0MsRUFBYXp0RCxVQUFVeXdELFNBQVcsU0FBVTFvQyxHQUMzQjNuQixLQUFLc3dELGdCQUFnQnRaLFlBQzNCOTBDLEtBQUt5bEIsSUFPaEIwbEMsRUFBYXp0RCxVQUFVMHFDLFdBQWEsU0FBVWltQixHQUMxQ3Z3RCxLQUFLd3dELGNBQWN0dUQsS0FBS3F1RCxJQU81QmxELEVBQWF6dEQsVUFBVXF3RCxvQkFBc0IsU0FBVU0sR0FDbkQsSUFBSS9xQyxFQUFLK3FDLEVBQVFqdUIsYUFDTm4vQixJQUFQcWlCLElBQ0F4bEIsS0FBS3F2RCxnQkFBZ0I3cEMsRUFBR3JjLFlBQWNvbkQsR0FFMUNBLEVBQVFwc0MsT0FBT25rQixPQU1uQnF0RCxFQUFhenRELFVBQVUrRCxnQkFBa0IsV0FDckMzRCxLQUFLeXdELFVBQVUsTUFDZnR3RCxFQUFPUCxVQUFVK0QsZ0JBQWdCN0QsS0FBS0UsT0FvQjFDcXRELEVBQWF6dEQsVUFBVWtwQixzQkFBd0IsU0FBVUMsRUFBTzVTLEVBQVVoVixHQUN0RSxHQUFLbkIsS0FBS3l1RCxZQUFWLENBR0EsSUFBSWg2QyxFQUFhelUsS0FBSzJsQywrQkFBK0I1YyxHQUVqRDVCLE9BQTRDaGtCLEtBRGhEaEMsT0FBOEJnQyxJQUFoQmhDLEVBQTRCQSxFQUFjLElBQ3pCZ21CLGFBQTZCaG1CLEVBQVlnbUIsYUFBZSxFQUNuRmxCLE9BQTBDOWlCLElBQTVCaEMsRUFBWThrQixZQUE0QjlrQixFQUFZOGtCLFlBQWMsS0FDaEZtdUIsR0FBNEMsSUFBN0JqekMsRUFBWWl6QyxhQUMvQixPQUFPcDBDLEtBQUtrOUIsVUFBVWlYLDJCQUEyQjEvQixFQUFZelUsS0FBS3l1RCxZQUFhdG5DLEVBQWNpdEIsRUFBY2orQixFQUFVLEtBQU04UCxFQUFhLFFBVTVJb25DLEVBQWF6dEQsVUFBVTh3RCxtQkFBcUIsU0FBVTNuQyxFQUFPNW5CLEdBQ3pELElBQUlxbUIsRUFBVyxHQUlmLE9BSEF4bkIsS0FBSzhvQixzQkFBc0JDLEdBQU8sU0FBVTFCLEdBQ3hDRyxFQUFTdGxCLEtBQUttbEIsS0FDZmxtQixHQUNJcW1CLEdBdUJYNmxDLEVBQWF6dEQsVUFBVXExQyxvQkFBc0IsU0FBVWxzQixFQUFPNVMsRUFBVWhWLEdBQ3BFLEdBQUtuQixLQUFLeXVELFlBQVYsQ0FHQSxJQUFJcnRELEVBQVVELEdBQWUsR0FDekJnbUIsT0FBd0Noa0IsSUFBekIvQixFQUFRK2xCLGFBQTZCL2xCLEVBQVErbEIsYUFBZSxFQUMzRWxCLEVBQWM3a0IsRUFBUTZrQixhQUFlLEtBQ3pDLE9BQU9qbUIsS0FBS2s5QixVQUFVK1gsb0JBQW9CbHNCLEVBQU8vb0IsS0FBS3l1RCxZQUFhdG5DLEVBQWNoUixFQUFVOFAsS0FVL0ZvbkMsRUFBYXp0RCxVQUFVK3dELGtCQUFvQixTQUFVNW5DLEVBQU81bkIsR0FDeEQsSUFBS25CLEtBQUt5dUQsWUFDTixPQUFPLEVBRVgsSUFBSWg2QyxFQUFhelUsS0FBSzJsQywrQkFBK0I1YyxHQUVqRDlDLE9BQTBDOWlCLEtBRDlDaEMsT0FBOEJnQyxJQUFoQmhDLEVBQTRCQSxFQUFjLElBQzFCOGtCLFlBQTRCOWtCLEVBQVk4a0IsWUFBYyxLQUNoRmtCLE9BQTRDaGtCLElBQTdCaEMsRUFBWWdtQixhQUE2QmhtQixFQUFZZ21CLGFBQWUsRUFDbkZpdEIsR0FBNEMsSUFBN0JqekMsRUFBWWl6QyxhQUMvQixPQUFPcDBDLEtBQUtrOUIsVUFBVWdZLHVCQUF1QnpnQyxFQUFZelUsS0FBS3l1RCxZQUFhdG5DLEVBQWNpdEIsRUFBY251QixFQUFhLE9BUXhIb25DLEVBQWF6dEQsVUFBVWd4RCxtQkFBcUIsU0FBVTMvQyxHQUNsRCxPQUFPalIsS0FBS2c0Qyx1QkFBdUJoNEMsS0FBSzgzQyxjQUFjN21DLEtBTzFEbzhDLEVBQWF6dEQsVUFBVWl4RCwyQkFBNkIsU0FBVTUvQyxHQUMxRCxPQUFPalIsS0FBSzJsQywrQkFBK0IzbEMsS0FBSzgzQyxjQUFjN21DLEtBUWxFbzhDLEVBQWF6dEQsVUFBVWs0QyxjQUFnQixTQUFVN21DLEdBQzdDLElBQUk2L0MsRUFBbUI5d0QsS0FBSzh1RCxVQUFVanBCLHdCQUNsQ2tyQixFQUVKLG1CQUFvQjkvQyxFQUNZLEVBQVErL0MsZUFBZSxHQUN2QixFQUNoQyxNQUFPLENBQ0hELEVBQWN6c0MsUUFBVXdzQyxFQUFpQjU4QixLQUN6QzY4QixFQUFjeHNDLFFBQVV1c0MsRUFBaUIvcUIsTUFZakRzbkIsRUFBYXp0RCxVQUFVcXhELFVBQVksV0FDL0IsT0FBb0RqeEQsS0FBS3dDLElBQUltdEQsS0FTakV0QyxFQUFhenRELFVBQVUyUyxpQkFBbUIsV0FDdEMsSUFBSTlLLEVBQVN6SCxLQUFLaXhELFlBQ2xCLFlBQWU5dEQsSUFBWHNFLEVBQ3lCLGlCQUFYQSxFQUNSbUMsU0FBUzRqRCxlQUFlL2xELEdBQ3hCQSxFQUdDLE1BVWY0bEQsRUFBYXp0RCxVQUFVbzRDLHVCQUF5QixTQUFVanZCLEdBQ3RELE9BQU8sU0FBaUIvb0IsS0FBSzJsQywrQkFBK0I1YyxHQUFRL29CLEtBQUtzbEMsVUFBVXVpQixrQkFRdkZ3RixFQUFhenRELFVBQVUrbEMsK0JBQWlDLFNBQVU1YyxHQUM5RCxJQUFJNHBCLEVBQWEzeUMsS0FBS3l1RCxZQUN0QixPQUFLOWIsR0FJTSxRQUFlQSxFQUFXdUIsMkJBQTRCbnJCLEVBQU10ZSxTQUg1RCxNQVlmNGlELEVBQWF6dEQsVUFBVXV3RCxZQUFjLFdBQ2pDLE9BQU9ud0QsS0FBS3l0RCxVQVFoQkosRUFBYXp0RCxVQUFVNHdELFlBQWMsV0FDakMsT0FBT3h3RCxLQUFLb3ZELFdBVWhCL0IsRUFBYXp0RCxVQUFVc3hELGVBQWlCLFNBQVUxckMsR0FDOUMsSUFBSStxQyxFQUFVdndELEtBQUtxdkQsZ0JBQWdCN3BDLEVBQUdyYyxZQUN0QyxZQUFtQmhHLElBQVpvdEQsRUFBd0JBLEVBQVUsTUFVN0NsRCxFQUFhenRELFVBQVU0b0IsZ0JBQWtCLFdBQ3JDLE9BQU94b0IsS0FBS3VvQixjQVFoQjhrQyxFQUFhenRELFVBQVUwd0QsY0FBZ0IsV0FDbkMsT0FBa0N0d0QsS0FBS3dDLElBQUltdEQsS0FPL0N0QyxFQUFhenRELFVBQVVvM0MsVUFBWSxXQUUvQixPQURhaDNDLEtBQUtzd0QsZ0JBQWdCdFosYUFNdENxVyxFQUFhenRELFVBQVV1eEQsV0FBYSxXQUVoQyxJQURBLElBQUlwZSxFQUFtQi95QyxLQUFLc3dELGdCQUFnQmpmLHNCQUNuQzd2QyxFQUFJLEVBQUdDLEVBQUtzeEMsRUFBaUJyeEMsT0FBUUYsRUFBSUMsSUFBTUQsRUFBRyxDQUN2RCxJQUNJMEUsRUFEUTZzQyxFQUFpQnZ4QyxHQUFHbW1CLE1BQ3VDNnFCLFlBQ3ZFLEdBQUl0c0MsR0FBVUEsRUFBT2tyRCxRQUNqQixPQUFPLEVBR2YsT0FBTyxHQVNYL0QsRUFBYXp0RCxVQUFVd21DLHVCQUF5QixTQUFVM3hCLEdBQ3RELElBQUk0OEMsR0FBaUIsU0FBbUI1OEMsRUFBWXpVLEtBQUtzbEMsVUFBVXVpQixpQkFDbkUsT0FBTzduRCxLQUFLd2xDLCtCQUErQjZyQixJQVEvQ2hFLEVBQWF6dEQsVUFBVTRsQywrQkFBaUMsU0FBVS93QixHQUM5RCxJQUFJaytCLEVBQWEzeUMsS0FBS3l1RCxZQUN0QixPQUFLOWIsR0FJTSxRQUFlQSxFQUFXc0IsMkJBQTRCeC9CLEVBQVdoSyxNQUFNLEVBQUcsSUFIMUUsTUFVZjRpRCxFQUFhenRELFVBQVU2OUIsWUFBYyxXQUNqQyxPQUFPejlCLEtBQUtrOUIsV0FRaEJtd0IsRUFBYXp0RCxVQUFVczVCLFFBQVUsV0FDN0IsT0FBMERsNUIsS0FBS3dDLElBQUltdEQsS0FTdkV0QyxFQUFhenRELFVBQVUwbEMsUUFBVSxXQUM3QixPQUE0QnRsQyxLQUFLd0MsSUFBSW10RCxLQU96Q3RDLEVBQWF6dEQsVUFBVW8yQyxZQUFjLFdBQ2pDLE9BQU9oMkMsS0FBSzh1RCxXQVNoQnpCLEVBQWF6dEQsVUFBVTZrQyxvQkFBc0IsV0FDekMsT0FBT3prQyxLQUFLK3VELG1CQVNoQjFCLEVBQWF6dEQsVUFBVTRrQyw2QkFBK0IsV0FDbEQsT0FBT3hrQyxLQUFLZ3ZELDRCQUtoQjNCLEVBQWF6dEQsVUFBVTY1QyxpQkFBbUIsV0FDdEMsT0FBT3o1QyxLQUFLdVMsbUJBQ052UyxLQUFLdVMsbUJBQW1CKytDLGNBQ3hCMW5ELFVBU1Z5akQsRUFBYXp0RCxVQUFVNnZELGdCQUFrQixTQUFVblQsRUFBTWlWLEVBQWVDLEVBQVlDLEdBQ2hGLE9yQmhxQkQsU0FBeUI5ZSxFQUFZMkosRUFBTWlWLEVBQWVDLEVBQVlDLEdBR3pFLElBQUs5ZSxLQUFnQjRlLEtBQWlCNWUsRUFBVytlLGFBQzdDLE9BQU96aEQsR0FFWCxJQUFLMGlDLEVBQVcrZSxZQUFZSCxHQUFlalYsRUFBS2hOLFVBQzVDLE9BQU9yL0IsR0FRWCxJQUFJaUgsRUFBU3k3QixFQUFXYixVQUFVNTZCLE9BQzlCd0IsRUFBUzg0QyxFQUFXLEdBQUt0NkMsRUFBTyxHQUNoQ3lCLEVBQVM2NEMsRUFBVyxHQUFLdDZDLEVBQU8sR0FDcEMsT0FBUSxNQUFRM0ksS0FBSzZhLElBQUlxb0MsR0FDckJsakQsS0FBS3lmLEtBQUt0VixFQUFTQSxFQUFTQyxFQUFTQSxHQUFVODRDLEVxQjZvQnhDaEMsQ0FBZ0J6dkQsS0FBS3l1RCxZQUFhblMsRUFBTWlWLEVBQWVDLEVBQVlDLElBTTlFcEUsRUFBYXp0RCxVQUFVa3VELG1CQUFxQixTQUFVNkQsRUFBY2pnRCxHQUNoRSxJQUFJOVEsRUFBTzhRLEdBQVlpZ0QsRUFBYS93RCxLQUNoQ29SLEVBQWtCLElBQUksR0FBZ0JwUixFQUFNWixLQUFNMnhELEdBQ3REM3hELEtBQUs0eEQsc0JBQXNCNS9DLElBSy9CcTdDLEVBQWF6dEQsVUFBVWd5RCxzQkFBd0IsU0FBVTUvQyxHQUNyRCxHQUFLaFMsS0FBS3l1RCxZQUFWLENBS0EsSUFBSXg4QyxFQUE2Q0QsRUFBNkIsY0FDMUVuTSxFQUFZb00sRUFBY3JSLEtBQzlCLEdBQUlpRixJQUFjLElBQ2RBLElBQWM0OEIsRUFBQSxTQUNkNThCLElBQWM0OEIsRUFBQSxVQUFtQixDQUNqQyxJQUFJK1csRUFBTXg1QyxLQUFLeTVDLG1CQUNYb1ksRUFBVzd4RCxLQUFLOHVELFVBQVVuVixZQUN4QjM1QyxLQUFLOHVELFVBQVVuVixjQUNmSCxFQUNGL3hDLEVBQVMsU0FBVW9xRCxFQUNTLEVBQVdDLGlCQUFpQjcvQyxFQUFjcVMsUUFBU3JTLEVBQWNzUyxTQUN0RXRTLEVBQW9CLE9BQy9DLEdBR0FqUyxLQUFLZ3ZELDJCQUEyQnY4QyxTQUFTaEwsTUFLbkNvcUQsSUFBYXJZLEVBQU1BLEVBQUl1WSxnQkFBa0JGLEdBQVVwL0MsU0FBU2hMLEdBQzlELE9BSVIsR0FEQXVLLEVBQWdCMmdDLFdBQWEzeUMsS0FBS3l1RCxhQUNVLElBQXhDenVELEtBQUs0QyxjQUFjb1AsR0FFbkIsSUFEQSxJQUFJZ2dELEVBQW9CaHlELEtBQUt3b0Isa0JBQWtCbG1CLFdBQVdtSSxRQUNqRGpKLEVBQUl3d0QsRUFBa0J0d0QsT0FBUyxFQUFHRixHQUFLLEVBQUdBLElBQUssQ0FDcEQsSUFBSWluQixFQUFjdXBDLEVBQWtCeHdELEdBQ3BDLEdBQUlpbkIsRUFBWXhFLFdBQWFqa0IsTUFDeEJ5b0IsRUFBWXpFLGFBQ1poa0IsS0FBS3VTLHNCQUdDa1csRUFBWW5YLFlBQVlVLElBQ3RCQSxFQUFnQnhDLG9CQUN6QixTQVFoQjY5QyxFQUFhenRELFVBQVVxeUQsaUJBQW1CLFdBQ3RDLElBQUl0ZixFQUFhM3lDLEtBQUt5dUQsWUFVbEJ5RCxFQUFZbHlELEtBQUt3dkQsV0FDckIsSUFBSzBDLEVBQVV2N0MsVUFBVyxDQUN0QixJQUFJK2xDLEVBQWtCMThDLEtBQUsrdEQsaUJBQ3ZCcFIsRUFBY0QsRUFDbEIsR0FBSS9KLEVBQVksQ0FDWixJQUFJd2YsRUFBUXhmLEVBQVd5ZixVQUN2QixHQUFJRCxFbkI5MkJMLEltQjgyQmtDQSxFbkI3MkJoQyxHbUI2MkI2RCxDQUMxRCxJQUFJRSxHQUFvQixPQUFnQnRLLEtBQUtDLE1BQVFyVixFQUFXMmYsS0FBTyxFQUN2RTVWLEVBQWtCMlYsRUFBbUIsRUFBSSxFQUN6QzFWLEVBQWMwVixFQUFtQixFQUFJLEdBR3pDSCxFQUFVN1Ysa0JBQW9CSyxJQUM5QndWLEVBQVV2VyxlQUNWdVcsRUFBVXpWLGNBQWNDLEVBQWlCQyxLQUc3Q2hLLElBQ0EzeUMsS0FBS3lSLFlBQVksSUFDaEJraEMsRUFBVy91QixTQUNYNWpCLEtBQUt3dkQsV0FBV25ULG1CQUNoQnI4QyxLQUFLbXhELGNBQ05ueEQsS0FBS2s5QixVQUFVNlcsb0JBQW9CLEVBQWdDcEIsR0FHdkUsSUFEQSxJQUFJeUMsRUFBc0JwMUMsS0FBS3V2RCxxQkFDdEIvdEQsRUFBSSxFQUFHQyxFQUFLMnpDLEVBQW9CMXpDLE9BQVFGLEVBQUlDLElBQU1ELEVBQ3ZENHpDLEVBQW9CNXpDLEdBQUd4QixLQUFNMnlDLEdBRWpDeUMsRUFBb0IxekMsT0FBUyxHQUtqQzJyRCxFQUFhenRELFVBQVVrd0QsbUJBQXFCLFdBQ3BDOXZELEtBQUtzbEMsWUFBY3RsQyxLQUFLc2xDLFVBQVU1aEIsZ0JBQ2xDMWpCLEtBQUtzbEMsVUFBVXFpQixtQkFBbUIsR0FFdEMzbkQsS0FBS3UzQixVQUtUODFCLEVBQWF6dEQsVUFBVW13RCxxQkFBdUIsV0FLMUMsSUFBSXdDLEVBSUosR0FISXZ5RCxLQUFLaXhELGNBQ0xzQixFQUFnQnZ5RCxLQUFLdVMsb0JBRXJCdlMsS0FBS2l2RCx3QkFBeUIsQ0FDOUIsSUFBSyxJQUFJenRELEVBQUksRUFBR0MsRUFBS3pCLEtBQUttdkQsZ0JBQWdCenRELE9BQVFGLEVBQUlDLElBQU1ELEdBQ3hELFFBQWN4QixLQUFLbXZELGdCQUFnQjN0RCxJQUV2Q3hCLEtBQUttdkQsZ0JBQWtCLEtBQ3ZCbnZELEtBQUs4dUQsVUFBVTVuRCxvQkFBb0J1N0IsRUFBQSxjQUF1QnppQyxLQUFLNnRELDBCQUMvRDd0RCxLQUFLOHVELFVBQVU1bkQsb0JBQW9CdTdCLEVBQUEsUUFBaUJ6aUMsS0FBSzZ0RCwrQkFDOUIxcUQsSUFBdkJuRCxLQUFLc3ZELGdCQUNMcG9ELG9CQUFvQnU3QixFQUFBLFNBQWtCemlDLEtBQUtzdkQsZUFBZSxHQUMxRHR2RCxLQUFLc3ZELG1CQUFnQm5zRCxHQUV6Qm5ELEtBQUtpdkQsd0JBQXdCdnJELFVBQzdCMUQsS0FBS2l2RCx3QkFBMEIsTUFDL0IsUUFBV2p2RCxLQUFLOHVELFdBRXBCLEdBQUt5RCxFQWFBLENBTUQsSUFBSyxJQUFJdHRELEtBTFRzdEQsRUFBY3ZvRCxZQUFZaEssS0FBSzh1RCxXQUMxQjl1RCxLQUFLazlCLFlBQ05sOUIsS0FBS2s5QixVQUFZbDlCLEtBQUtrekMsa0JBRTFCbHpDLEtBQUtpdkQsd0JBQTBCLElBQUksR0FBdUJqdkQsS0FBTUEsS0FBS3U0QyxnQkFDckRhLEdBQUEsRUFDWnA1QyxLQUFLaXZELHdCQUF3QjcvQyxpQkFBaUJncUMsR0FBQSxFQUFvQm4wQyxHQUFNakYsS0FBSzR4RCxzQkFBc0I3aUQsS0FBSy9PLE9BRTVHQSxLQUFLOHVELFVBQVUxL0MsaUJBQWlCcXpCLEVBQUEsY0FBdUJ6aUMsS0FBSzZ0RCwwQkFBMEIsR0FDdEY3dEQsS0FBSzh1RCxVQUFVMS9DLGlCQUFpQnF6QixFQUFBLFFBQWlCemlDLEtBQUs2dEQsMkJBQTBCLE9BQTBCLENBQUV4ckMsU0FBUyxJQUNySCxJQUFJa3JDLEVBQXVCdnRELEtBQUtrdkQscUJBRTFCbHZELEtBQUtrdkQscUJBRExxRCxFQUVOdnlELEtBQUttdkQsZ0JBQWtCLEVBQ25CLFFBQU81QixFQUFxQjlxQixFQUFBLFVBQW1CemlDLEtBQUs4dEQsbUJBQW9COXRELE9BQ3hFLFFBQU91dEQsRUFBcUI5cUIsRUFBQSxXQUFvQnppQyxLQUFLOHRELG1CQUFvQjl0RCxPQUV4RUEsS0FBS3N2RCxnQkFDTnR2RCxLQUFLc3ZELGNBQWdCdHZELEtBQUt3eUQsV0FBV3pqRCxLQUFLL08sTUFDMUN1aUIsT0FBT25ULGlCQUFpQnF6QixFQUFBLFNBQWtCemlDLEtBQUtzdkQsZUFBZSxTQWhDOUR0dkQsS0FBS2s5QixZQUNMNlAsYUFBYS9zQyxLQUFLa3VELDBCQUNsQmx1RCxLQUFLa3VELDhCQUEyQi9xRCxFQUNoQ25ELEtBQUt1dkQscUJBQXFCN3RELE9BQVMsRUFDbkMxQixLQUFLazlCLFVBQVV4NUIsVUFDZjFELEtBQUtrOUIsVUFBWSxNQUVqQmw5QixLQUFLbXVELHFCQUNMN0YscUJBQXFCdG9ELEtBQUttdUQsb0JBQzFCbnVELEtBQUttdUQsd0JBQXFCaHJELEdBMEJsQ25ELEtBQUt3eUQsY0FPVG5GLEVBQWF6dEQsVUFBVTh2RCxrQkFBb0IsV0FDdkMxdkQsS0FBS3UzQixVQUtUODFCLEVBQWF6dEQsVUFBVTZ5RCwyQkFBNkIsV0FDaER6eUQsS0FBS3UzQixVQUtUODFCLEVBQWF6dEQsVUFBVWl3RCxtQkFBcUIsV0FDcEM3dkQsS0FBSzJ1RCw0QkFDTCxRQUFjM3VELEtBQUsydUQsMEJBQ25CM3VELEtBQUsydUQseUJBQTJCLE1BRWhDM3VELEtBQUs0dUQsMEJBQ0wsUUFBYzV1RCxLQUFLNHVELHdCQUNuQjV1RCxLQUFLNHVELHVCQUF5QixNQUVsQyxJQUFJbHNDLEVBQU8xaUIsS0FBS3NsQyxVQUNaNWlCLElBQ0ExaUIsS0FBSzB5RCxzQkFDTDF5RCxLQUFLMnVELDBCQUEyQixRQUFPanNDLEVBQU1tekIsRUFBQSxpQkFBZ0M3MUMsS0FBS3l5RCwyQkFBNEJ6eUQsTUFDOUdBLEtBQUs0dUQsd0JBQXlCLFFBQU9sc0MsRUFBTStmLEVBQUEsU0FBa0J6aUMsS0FBS3l5RCwyQkFBNEJ6eUQsTUFDOUYwaUIsRUFBS2lsQyxtQkFBbUIsSUFFNUIzbkQsS0FBS3UzQixVQUtUODFCLEVBQWF6dEQsVUFBVWd3RCx5QkFBMkIsV0FDMUM1dkQsS0FBSzZ1RCxrQ0FDTDd1RCxLQUFLNnVELGdDQUFnQzFzRCxRQUFRLE1BQzdDbkMsS0FBSzZ1RCxnQ0FBa0MsTUFFM0MsSUFBSWxCLEVBQWEzdEQsS0FBS3N3RCxnQkFDbEIzQyxJQUNBM3RELEtBQUs2dUQsZ0NBQWtDLEVBQ25DLFFBQU9sQixFQUFZOVgsRUFBQSxpQkFBZ0M3MUMsS0FBS3UzQixPQUFRdjNCLE9BQ2hFLFFBQU8ydEQsRUFBWWxyQixFQUFBLFNBQWtCemlDLEtBQUt1M0IsT0FBUXYzQixRQUcxREEsS0FBS3UzQixVQUtUODFCLEVBQWF6dEQsVUFBVXVtQyxXQUFhLFdBQ2hDLFFBQVNubUMsS0FBS3l1RCxhQU1sQnBCLEVBQWF6dEQsVUFBVSt5RCxXQUFhLFdBQzVCM3lELEtBQUttdUQsb0JBQ0w3RixxQkFBcUJ0b0QsS0FBS211RCxvQkFFOUJudUQsS0FBS291RCxtQkFLVGYsRUFBYXp0RCxVQUFVazJDLFdBQWEsV0FFaEMsSUFEQSxJQUFJckIsRUFBY3owQyxLQUFLc3dELGdCQUFnQmpmLHNCQUM5Qjd2QyxFQUFJLEVBQUdDLEVBQUtnekMsRUFBWS95QyxPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQ2xELElBQUltbUIsRUFBUThzQixFQUFZanpDLEdBQUdtbUIsTUFDdkJBLEVBQU13ckIsZUFDTnhyQixFQUFNOFYsY0FBY20xQix1QkFRaEN2RixFQUFhenRELFVBQVUyM0IsT0FBUyxXQUN4QnYzQixLQUFLazlCLGdCQUF5Qy81QixJQUE1Qm5ELEtBQUttdUQscUJBQ3ZCbnVELEtBQUttdUQsbUJBQXFCaEYsc0JBQXNCbnBELEtBQUtvdUQsbUJBVTdEZixFQUFhenRELFVBQVVpekQsY0FBZ0IsU0FBVTdDLEdBQzdDLE9BQU9od0QsS0FBS213RCxjQUFjcHRELE9BQU9pdEQsSUFTckMzQyxFQUFhenRELFVBQVVrekQsa0JBQW9CLFNBQVVycUMsR0FDakQsT0FBT3pvQixLQUFLd29CLGtCQUFrQnpsQixPQUFPMGxCLElBU3pDNGtDLEVBQWF6dEQsVUFBVW16RCxZQUFjLFNBQVVwckMsR0FFM0MsT0FEYTNuQixLQUFLc3dELGdCQUFnQnRaLFlBQ3BCajBDLE9BQU80a0IsSUFTekIwbEMsRUFBYXp0RCxVQUFVMnFDLGNBQWdCLFNBQVVnbUIsR0FDN0MsT0FBT3Z3RCxLQUFLd3dELGNBQWN6dEQsT0FBT3d0RCxJQU1yQ2xELEVBQWF6dEQsVUFBVXl1RCxhQUFlLFNBQVVpRSxHQUM1QyxJQUFJaHlELEVBQVFOLEtBQ1I2TCxFQUFPN0wsS0FBS2s1QixVQUNaeFcsRUFBTzFpQixLQUFLc2xDLFVBQ1owdEIsRUFBcUJoekQsS0FBS3l1RCxZQUUxQjliLEVBQWEsS0FDakIsUUFBYXh2QyxJQUFUMEksSUFBc0IsU0FBUUEsSUFBUzZXLEdBQVFBLEVBQUtnbEMsUUFBUyxDQUM3RCxJQUFJMEssRUFBWTF2QyxFQUFLZ25DLFNBQVMxcEQsS0FBS3l1RCxZQUFjenVELEtBQUt5dUQsWUFBWTJELGVBQVlqdkQsR0FDMUUydUMsRUFBWXB2QixFQUFLK3ZCLFdBQ3JCRSxFQUFhLENBQ1QvdUIsU0FBUyxFQUNUcXdCLDJCQUE0QmowQyxLQUFLc3VELDRCQUNqQzJFLGNBQWUsS0FDZnAvQyxRQUFRLFFBQWtCaStCLEVBQVU1NkIsT0FBUTQ2QixFQUFVMzZCLFdBQVkyNkIsRUFBVTE2QixTQUFVdkwsR0FDdEY3SyxNQUFPaEIsS0FBS3d1RCxjQUNabFksV0FBWSxFQUNadkQsaUJBQWtCL3lDLEtBQUtzd0QsZ0JBQWdCamYsc0JBQ3ZDM1ksV0FBWTE0QixLQUFLaXVELFlBQ2pCL1osMkJBQTRCbDBDLEtBQUt1dUQsNEJBQ2pDblosb0JBQXFCLEdBQ3JCdnBDLEtBQU1BLEVBQ05xbUQsVUFBV2x5RCxLQUFLd3ZELFdBQ2hCOEMsS0FBTUEsRUFDTlksVUFBVyxHQUNYcGhCLFVBQVdBLEVBQ1hzZ0IsVUFBV0EsRUFDWFYsWUFBYSxJQUdyQjF4RCxLQUFLeXVELFlBQWM5YixFQUNuQjN5QyxLQUFLazlCLFVBQVU0VixZQUFZSCxHQUN2QkEsSUFDSUEsRUFBVy91QixTQUNYNWpCLEtBQUt1M0IsU0FFVDczQixNQUFNRSxVQUFVc0MsS0FBSytNLE1BQU1qUCxLQUFLdXZELHFCQUFzQjVjLEVBQVd5QyxxQkFDN0Q0ZCxLQUNpQmh6RCxLQUFLMHVELG1CQUNoQixRQUFRMXVELEtBQUswdUQsb0JBQ1YsUUFBTy9iLEVBQVc5K0IsT0FBUTdULEtBQUswdUQsb0JBRXBDMXVELEtBQUs0QyxjQUFjLElBQUksR0FBU3loQyxHQUFBLFlBQXdCcmtDLEtBQU1nekQsSUFDOURoekQsS0FBSzB1RCxpQkFBa0IsUUFBb0IxdUQsS0FBSzB1RCxrQkFHN0MxdUQsS0FBSzB1RCxrQkFDWC9iLEVBQVd5ZixVbkJyb0NiLEttQnNvQ0V6ZixFQUFXeWYsVW5Ccm9DWCxNbUJzb0NBLFFBQU96ZixFQUFXOStCLE9BQVE3VCxLQUFLMHVELG1CQUVoQzF1RCxLQUFLNEMsY0FBYyxJQUFJLEdBQVN5aEMsR0FBQSxVQUFzQnJrQyxLQUFNMnlDLEtBQzVELFFBQU1BLEVBQVc5K0IsT0FBUTdULEtBQUswdUQsbUJBR3RDMXVELEtBQUs0QyxjQUFjLElBQUksR0FBU3loQyxHQUFBLGFBQXlCcmtDLEtBQU0yeUMsSUFDMUQzeUMsS0FBS2t1RCwyQkFDTmx1RCxLQUFLa3VELHlCQUEyQmpoQixZQUFXLFdBQ3ZDM3NDLEVBQU00dEQsOEJBQTJCL3FELEVBQ2pDN0MsRUFBTTJ4RCxxQkFDUCxLQVNYNUUsRUFBYXp0RCxVQUFVdXpELGNBQWdCLFNBQVV4RixHQUM3QzN0RCxLQUFLb0QsSUFBSXVzRCxHQUF3QmhDLElBUXJDTixFQUFhenRELFVBQVVveUIsUUFBVSxTQUFVbm1CLEdBQ3ZDN0wsS0FBS29ELElBQUl1c0QsR0FBa0I5akQsSUFTL0J3aEQsRUFBYXp0RCxVQUFVNndELFVBQVksU0FBVWhwRCxHQUN6Q3pILEtBQUtvRCxJQUFJdXNELEdBQW9CbG9ELElBUWpDNGxELEVBQWF6dEQsVUFBVXd6RCxRQUFVLFNBQVUxd0MsR0FDdkMxaUIsS0FBS29ELElBQUl1c0QsR0FBa0JqdEMsSUFPL0IycUMsRUFBYXp0RCxVQUFVNHlELFdBQWEsV0FDaEMsSUFBSUQsRUFBZ0J2eUQsS0FBS3VTLG1CQUN6QixHQUFLZ2dELEVBR0EsQ0FDRCxJQUFJYyxFQUFnQm5wRCxpQkFBaUJxb0QsR0FDckN2eUQsS0FBS2d5QixRQUFRLENBQ1R1Z0MsRUFBYzFsRCxZQUNWeW1ELFdBQVdELEVBQStCLGlCQUMxQ0MsV0FBV0QsRUFBMkIsYUFDdENDLFdBQVdELEVBQTRCLGNBQ3ZDQyxXQUFXRCxFQUFnQyxrQkFDL0NkLEVBQWN0bEQsYUFDVnFtRCxXQUFXRCxFQUE4QixnQkFDekNDLFdBQVdELEVBQTBCLFlBQ3JDQyxXQUFXRCxFQUE2QixlQUN4Q0MsV0FBV0QsRUFBaUMsMEJBZHBEcnpELEtBQUtneUIsYUFBUTd1QixHQWlCakJuRCxLQUFLMHlELHVCQU1UckYsRUFBYXp0RCxVQUFVOHlELG9CQUFzQixXQUN6QyxJQUFJaHdDLEVBQU8xaUIsS0FBS3NsQyxVQUNoQixHQUFJNWlCLEVBQU0sQ0FDTixJQUFJN1csT0FBTzFJLEVBQ1Brd0QsRUFBZ0JucEQsaUJBQWlCbEssS0FBSzh1RCxXQUN0Q3VFLEVBQWM1bUQsT0FBUzRtRCxFQUFjM21ELFNBQ3JDYixFQUFPLENBQ0h2QixTQUFTK29ELEVBQWM1bUQsTUFBTyxJQUM5Qm5DLFNBQVMrb0QsRUFBYzNtRCxPQUFRLE1BR3ZDZ1csRUFBSzRtQyxnQkFBZ0J6OUMsS0FHdEJ3aEQsRUF4bUNzQixDQXltQy9CLE1DL3VDRixJQUFJLEdBQXdDLFdBQ3hDLElBQUlsdUQsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0E4SjVDLFNBdEc2QixTQUFVSSxHQUtuQyxTQUFTb3pELEVBQVFueUQsR0FDYixJQUFJZCxFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQUM3QmUsRUFBVUssRUFBUUwsUUE4QnRCLE9BN0JJQSxHQUFZSyxFQUFRcUcsUUFBVzFHLEVBQVErSSxNQUFNdWEsZ0JBQzdDdGpCLEVBQVErSSxNQUFNdWEsY0FBZ0IsUUFNbEMvakIsRUFBTVMsUUFBVUEsR0FBb0IsS0FLcENULEVBQU1rekQsUUFBVSxLQUtoQmx6RCxFQUFNd2pCLEtBQU8sS0FLYnhqQixFQUFNbXpELGFBQWUsR0FDakJyeUQsRUFBUW0yQixTQUNSajNCLEVBQU1pM0IsT0FBU24yQixFQUFRbTJCLFFBRXZCbjJCLEVBQVFxRyxRQUNSbkgsRUFBTW13RCxVQUFVcnZELEVBQVFxRyxRQUVyQm5ILEVBK0RYLE9BbkdBLEdBQVVpekQsRUFBU3B6RCxHQXlDbkJvekQsRUFBUTN6RCxVQUFVK0QsZ0JBQWtCLFlBQ2hDLFFBQVczRCxLQUFLZSxTQUNoQlosRUFBT1AsVUFBVStELGdCQUFnQjdELEtBQUtFLE9BTzFDdXpELEVBQVEzekQsVUFBVXFrQixPQUFTLFdBQ3ZCLE9BQU9qa0IsS0FBSzhqQixNQVNoQnl2QyxFQUFRM3pELFVBQVV1a0IsT0FBUyxTQUFVeFosR0FDN0IzSyxLQUFLOGpCLE9BQ0wsUUFBVzlqQixLQUFLZSxTQUVwQixJQUFLLElBQUlTLEVBQUksRUFBR0MsRUFBS3pCLEtBQUt5ekQsYUFBYS94RCxPQUFRRixFQUFJQyxJQUFNRCxHQUNyRCxRQUFjeEIsS0FBS3l6RCxhQUFhanlELElBRXBDeEIsS0FBS3l6RCxhQUFhL3hELE9BQVMsRUFDM0IxQixLQUFLOGpCLEtBQU9uWixFQUNSM0ssS0FBSzhqQixRQUNROWpCLEtBQUt3ekQsUUFDWnh6RCxLQUFLd3pELFFBQ0w3b0QsRUFBSTY1QixnQ0FDSHg2QixZQUFZaEssS0FBS2UsU0FDcEJmLEtBQUt1M0IsU0FBVyxNQUNoQnYzQixLQUFLeXpELGFBQWF2eEQsTUFBSyxRQUFPeUksRUFBSzA1QixHQUFBLGFBQXlCcmtDLEtBQUt1M0IsT0FBUXYzQixPQUU3RTJLLEVBQUk0c0IsV0FRWmc4QixFQUFRM3pELFVBQVUyM0IsT0FBUyxTQUFVbThCLEtBVXJDSCxFQUFRM3pELFVBQVU2d0QsVUFBWSxTQUFVaHBELEdBQ3BDekgsS0FBS3d6RCxRQUNpQixpQkFBWC9yRCxFQUFzQm1DLFNBQVM0akQsZUFBZS9sRCxHQUFVQSxHQUVoRThyRCxFQXBHaUIsQ0FxRzFCLE1DN0pGLElBQUksR0FBd0MsV0FDeEMsSUFBSXAwRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQTBVNUMsU0FqUmlDLFNBQVVJLEdBS3ZDLFNBQVN3ekQsRUFBWXh5RCxHQUNqQixJQUFJYixFQUFRTixLQUNSb0IsRUFBVUQsR0FBNEIsSUFDMUNiLEVBQVFILEVBQU9MLEtBQUtFLEtBQU0sQ0FDdEJlLFFBQVM2SSxTQUFTQyxjQUFjLE9BQ2hDMHRCLE9BQVFuMkIsRUFBUW0yQixPQUNoQjl2QixPQUFRckcsRUFBUXFHLFVBQ2R6SCxNQUtBNHpELFdBQWFocUQsU0FBU0MsY0FBYyxNQUsxQ3ZKLEVBQU11ekQsZ0JBQ29CMXdELElBQXRCL0IsRUFBUTB5RCxXQUEwQjF5RCxFQUFRMHlELFVBSzlDeHpELEVBQU15ekQsZUFBaUJ6ekQsRUFBTXV6RCxXQUs3QnZ6RCxFQUFNMHpELDBCQUErQzd3RCxJQUF4Qi9CLEVBQVE2eUQsWUFLckMzekQsRUFBTTR6RCxrQkFDc0Ivd0QsSUFBeEIvQixFQUFRNnlELGFBQTRCN3lELEVBQVE2eUQsWUFDM0MzekQsRUFBTTR6RCxlQUNQNXpELEVBQU11ekQsWUFBYSxHQUV2QixJQUFJL3dCLE9BQWtDMy9CLElBQXRCL0IsRUFBUTBoQyxVQUEwQjFoQyxFQUFRMGhDLFVBQVksaUJBQ2xFcXhCLE9BQWdDaHhELElBQXJCL0IsRUFBUSt5RCxTQUF5Qi95RCxFQUFRK3lELFNBQVcsZUFDL0RDLE9BQThDanhELElBQTVCL0IsRUFBUWd6RCxnQkFDeEJoekQsRUFBUWd6RCxnQkFDUnR4QixFQUFZLFVBQ2R1eEIsT0FBMENseEQsSUFBMUIvQixFQUFRaXpELGNBQThCanpELEVBQVFpekQsY0FBZ0IsSUFDOUVDLE9BQWtEbnhELElBQTlCL0IsRUFBUWt6RCxrQkFDMUJsekQsRUFBUWt6RCxrQkFDUnh4QixFQUFZLFlBQ1csaUJBQWxCdXhCLEdBS1AvekQsRUFBTWkwRCxlQUFpQjNxRCxTQUFTQyxjQUFjLFFBQzlDdkosRUFBTWkwRCxlQUFlQyxZQUFjSCxFQUNuQy96RCxFQUFNaTBELGVBQWV6eEIsVUFBWXd4QixHQUdqQ2gwRCxFQUFNaTBELGVBQWlCRixFQUUzQixJQUFJNytCLE9BQTBCcnlCLElBQWxCL0IsRUFBUW8wQixNQUFzQnAwQixFQUFRbzBCLE1BQVEsSUFDckMsaUJBQVZBLEdBS1BsMUIsRUFBTW0wRCxPQUFTN3FELFNBQVNDLGNBQWMsUUFDdEN2SixFQUFNbTBELE9BQU9ELFlBQWNoL0IsRUFDM0JsMUIsRUFBTW0wRCxPQUFPM3hCLFVBQVlzeEIsR0FHekI5ekQsRUFBTW0wRCxPQUFTai9CLEVBRW5CLElBQUlrL0IsRUFBY3AwRCxFQUFNNHpELGVBQWlCNXpELEVBQU11ekQsV0FBYXZ6RCxFQUFNaTBELGVBQWlCajBELEVBQU1tMEQsT0FDckYxaEQsRUFBU25KLFNBQVNDLGNBQWMsVUFDcENrSixFQUFPMjVCLGFBQWEsT0FBUSxVQUM1QjM1QixFQUFPNGhELE1BQVFSLEVBQ2ZwaEQsRUFBTy9JLFlBQVkwcUQsR0FDbkIzaEQsRUFBTzNELGlCQUFpQnF6QixFQUFBLFFBQWlCbmlDLEVBQU1zMEQsYUFBYTdsRCxLQUFLek8sSUFBUSxHQUN6RSxJQUFJdTBELEVBQWEveEIsRUFDYixJQUNBLEtBQ0EsSUFDQSxNQUNDeGlDLEVBQU11ekQsWUFBY3Z6RCxFQUFNNHpELGFBQWUsSUFBTSxLQUFrQixLQUNqRTV6RCxFQUFNNHpELGFBQWUsR0FBSyxxQkFDM0JuekQsRUFBVVQsRUFBTVMsUUFlcEIsT0FkQUEsRUFBUStoQyxVQUFZK3hCLEVBQ3BCOXpELEVBQVFpSixZQUFZMUosRUFBTXN6RCxZQUMxQjd5RCxFQUFRaUosWUFBWStJLEdBTXBCelMsRUFBTXcwRCxzQkFBd0IsR0FLOUJ4MEQsRUFBTTYxQyxrQkFBbUIsRUFDbEI3MUMsRUFzS1gsT0E5UUEsR0FBVXF6RCxFQUFheHpELEdBZ0h2Qnd6RCxFQUFZL3pELFVBQVVtMUQsMkJBQTZCLFNBQVVwaUIsR0FhekQsSUFSQSxJQUFJcWlCLEVBQVMsR0FLVEMsRUFBc0IsR0FDdEJoQixHQUFjLEVBQ2RsaEIsRUFBbUJKLEVBQVdJLGlCQUN6QnZ4QyxFQUFJLEVBQUdDLEVBQUtzeEMsRUFBaUJyeEMsT0FBUUYsRUFBSUMsSUFBTUQsRUFBRyxDQUN2RCxJQUFJcXdDLEVBQWFrQixFQUFpQnZ4QyxHQUNsQyxHQUFLb3dDLEVBQU9DLEVBQVljLEVBQVdiLFdBQW5DLENBR0EsSUFBSTVyQyxFQUE2RDJyQyxFQUFnQixNQUFFVyxZQUNuRixHQUFLdHNDLEVBQUwsQ0FHQSxJQUFJZ3ZELEVBQW9CaHZELEVBQU9pdkQsa0JBQy9CLEdBQUtELEVBQUwsQ0FHQSxJQUFJRSxFQUFlRixFQUFrQnZpQixHQUNyQyxHQUFLeWlCLEVBS0wsR0FGQW5CLEVBQ0lBLElBQXVELElBQXhDL3RELEVBQU9tdkQsNkJBQ3RCMzFELE1BQU1rSCxRQUFRd3VELEdBQ2QsSUFBSyxJQUFJbHlELEVBQUksRUFBRzZkLEVBQUtxMEMsRUFBYTF6RCxPQUFRd0IsRUFBSTZkLElBQU03ZCxFQUMxQ2t5RCxFQUFhbHlELEtBQU04eEQsSUFDckJDLEVBQW9CL3lELEtBQUtrekQsRUFBYWx5RCxJQUN0Qzh4RCxFQUFPSSxFQUFhbHlELEtBQU0sUUFLNUJreUQsS0FBZ0JKLElBQ2xCQyxFQUFvQi95RCxLQUFLa3pELEdBQ3pCSixFQUFPSSxJQUFnQixNQU9uQyxPQUhLcDFELEtBQUtnMEQsc0JBQ05oMEQsS0FBS3MxRCxlQUFlckIsR0FFakJnQixHQU1YdEIsRUFBWS96RCxVQUFVMjFELGVBQWlCLFNBQVU1aUIsR0FDN0MsR0FBS0EsRUFBTCxDQU9BLElBQUl5aUIsRUFBZXAxRCxLQUFLKzBELDJCQUEyQnBpQixHQUMvQ3RQLEVBQVUreEIsRUFBYTF6RCxPQUFTLEVBS3BDLEdBSkkxQixLQUFLbTJDLGtCQUFvQjlTLElBQ3pCcmpDLEtBQUtlLFFBQVErSSxNQUFNbzhCLFFBQVU3QyxFQUFVLEdBQUssT0FDNUNyakMsS0FBS20yQyxpQkFBbUI5UyxLQUV4QixTQUFPK3hCLEVBQWNwMUQsS0FBSzgwRCx1QkFBOUIsRUFHQSxRQUFlOTBELEtBQUs0ekQsWUFFcEIsSUFBSyxJQUFJcHlELEVBQUksRUFBR0MsRUFBSzJ6RCxFQUFhMXpELE9BQVFGLEVBQUlDLElBQU1ELEVBQUcsQ0FDbkQsSUFBSVQsRUFBVTZJLFNBQVNDLGNBQWMsTUFDckM5SSxFQUFRK3lCLFVBQVlzaEMsRUFBYTV6RCxHQUNqQ3hCLEtBQUs0ekQsV0FBVzVwRCxZQUFZakosR0FFaENmLEtBQUs4MEQsc0JBQXdCTSxRQXRCckJwMUQsS0FBS20yQyxtQkFDTG4yQyxLQUFLZSxRQUFRK0ksTUFBTW84QixRQUFVLE9BQzdCbG1DLEtBQUttMkMsa0JBQW1CLElBMEJwQ3dkLEVBQVkvekQsVUFBVWcxRCxhQUFlLFNBQVUzakQsR0FDM0NBLEVBQU14QixpQkFDTnpQLEtBQUt3MUQsZ0JBQ0x4MUQsS0FBSyt6RCxlQUFpQi96RCxLQUFLNnpELFlBSy9CRixFQUFZL3pELFVBQVU0MUQsY0FBZ0IsV0FDbEN4MUQsS0FBS2UsUUFBUTAwRCxVQUFVNXNDLE9BQU8sTUFDMUI3b0IsS0FBSzZ6RCxZQUNMLFFBQVk3ekQsS0FBS3UwRCxlQUFnQnYwRCxLQUFLeTBELFNBR3RDLFFBQVl6MEQsS0FBS3kwRCxPQUFRejBELEtBQUt1MEQsZ0JBRWxDdjBELEtBQUs2ekQsWUFBYzd6RCxLQUFLNnpELFlBTzVCRixFQUFZL3pELFVBQVU4MUQsZUFBaUIsV0FDbkMsT0FBTzExRCxLQUFLazBELGNBT2hCUCxFQUFZL3pELFVBQVUwMUQsZUFBaUIsU0FBVXJCLEdBQ3pDajBELEtBQUtrMEQsZUFBaUJELElBRzFCajBELEtBQUtrMEQsYUFBZUQsRUFDcEJqMEQsS0FBS2UsUUFBUTAwRCxVQUFVNXNDLE9BQU8sb0JBQzFCN29CLEtBQUsrekQsZ0JBQ0wvekQsS0FBS3cxRCxrQkFVYjdCLEVBQVkvekQsVUFBVSsxRCxhQUFlLFNBQVU3QixHQUMzQzl6RCxLQUFLK3pELGVBQWlCRCxFQUNqQjl6RCxLQUFLazBELGNBQWdCbDBELEtBQUs2ekQsYUFBZUMsR0FHOUM5ekQsS0FBS3cxRCxpQkFRVDdCLEVBQVkvekQsVUFBVWcyRCxhQUFlLFdBQ2pDLE9BQU81MUQsS0FBSzZ6RCxZQU9oQkYsRUFBWS96RCxVQUFVMjNCLE9BQVMsU0FBVW04QixHQUNyQzF6RCxLQUFLdTFELGVBQWU3QixFQUFTL2dCLGFBRTFCZ2hCLEVBL1FxQixDQWdSOUIsSUN6VUYsSUFBSSxHQUF3QyxXQUN4QyxJQUFJeDBELEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBOEs1QyxTQWxJNEIsU0FBVUksR0FLbEMsU0FBUzAxRCxFQUFPMTBELEdBQ1osSUFBSWIsRUFBUU4sS0FDUm9CLEVBQVVELEdBQTRCLEdBQzFDYixFQUFRSCxFQUFPTCxLQUFLRSxLQUFNLENBQ3RCZSxRQUFTNkksU0FBU0MsY0FBYyxPQUNoQzB0QixPQUFRbjJCLEVBQVFtMkIsT0FDaEI5dkIsT0FBUXJHLEVBQVFxRyxVQUNkekgsS0FDTixJQUFJOGlDLE9BQWtDMy9CLElBQXRCL0IsRUFBUTBoQyxVQUEwQjFoQyxFQUFRMGhDLFVBQVksWUFDbEV0TixPQUEwQnJ5QixJQUFsQi9CLEVBQVFvMEIsTUFBc0JwMEIsRUFBUW8wQixNQUFRLElBQ3REc2dDLE9BQWdEM3lELElBQTdCL0IsRUFBUTAwRCxpQkFDekIxMEQsRUFBUTAwRCxpQkFDUixhQUtOeDFELEVBQU1tMEQsT0FBUyxLQUNNLGlCQUFWai9CLEdBQ1BsMUIsRUFBTW0wRCxPQUFTN3FELFNBQVNDLGNBQWMsUUFDdEN2SixFQUFNbTBELE9BQU8zeEIsVUFBWWd6QixFQUN6QngxRCxFQUFNbTBELE9BQU9ELFlBQWNoL0IsSUFHM0JsMUIsRUFBTW0wRCxPQUFTai9CLEVBQ2ZsMUIsRUFBTW0wRCxPQUFPZ0IsVUFBVTdzQyxJQUFJa3RDLElBRS9CLElBQUkzQixFQUFXL3lELEVBQVEreUQsU0FBVy95RCxFQUFRK3lELFNBQVcsaUJBQ2pEcGhELEVBQVNuSixTQUFTQyxjQUFjLFVBQ3BDa0osRUFBTyt2QixVQUFZQSxFQUFZLFNBQy9CL3ZCLEVBQU8yNUIsYUFBYSxPQUFRLFVBQzVCMzVCLEVBQU80aEQsTUFBUVIsRUFDZnBoRCxFQUFPL0ksWUFBWTFKLEVBQU1tMEQsUUFDekIxaEQsRUFBTzNELGlCQUFpQnF6QixFQUFBLFFBQWlCbmlDLEVBQU1zMEQsYUFBYTdsRCxLQUFLek8sSUFBUSxHQUN6RSxJQUFJdTBELEVBQWEveEIsRUFBWSxJQUFNLEtBQXFCLElBQU0sS0FDMUQvaEMsRUFBVVQsRUFBTVMsUUFzQnBCLE9BckJBQSxFQUFRK2hDLFVBQVkreEIsRUFDcEI5ekQsRUFBUWlKLFlBQVkrSSxHQUNwQnpTLEVBQU15MUQsZ0JBQWtCMzBELEVBQVE0MEQsV0FBYTUwRCxFQUFRNDBELGdCQUFhN3lELEVBS2xFN0MsRUFBTTIxRCxlQUFpQzl5RCxJQUFyQi9CLEVBQVE0aEIsU0FBeUI1aEIsRUFBUTRoQixTQUFXLElBS3RFMWlCLEVBQU00MUQsZUFBaUMveUQsSUFBckIvQixFQUFRKzBELFVBQXlCLzBELEVBQVErMEQsU0FLM0Q3MUQsRUFBTWc3QixlQUFZbjRCLEVBQ2Q3QyxFQUFNNDFELFdBQ041MUQsRUFBTVMsUUFBUTAwRCxVQUFVN3NDLElBQUksTUFFekJ0b0IsRUFrRVgsT0EvSEEsR0FBVXUxRCxFQUFRMTFELEdBbUVsQjAxRCxFQUFPajJELFVBQVVnMUQsYUFBZSxTQUFVM2pELEdBQ3RDQSxFQUFNeEIsc0JBQ3VCdE0sSUFBekJuRCxLQUFLKzFELGdCQUNMLzFELEtBQUsrMUQsa0JBR0wvMUQsS0FBS28yRCxlQU1iUCxFQUFPajJELFVBQVV3MkQsWUFBYyxXQUMzQixJQUNJMXpDLEVBRE0xaUIsS0FBS2lrQixTQUNBcWhCLFVBQ2YsR0FBSzVpQixFQUFMLENBS0EsSUFBSXRMLEVBQVdzTCxFQUFLcVYsbUJBQ0g1MEIsSUFBYmlVLElBQ0lwWCxLQUFLaTJELFVBQVksR0FBSzcrQyxHQUFZLEVBQUk3SSxLQUFLMGIsS0FBUSxFQUNuRHZILEVBQUtrQixRQUFRLENBQ1R4TSxTQUFVLEVBQ1Y0TCxTQUFVaGpCLEtBQUtpMkQsVUFDZmh6QyxPQUFRLFFBSVpQLEVBQUtrWixZQUFZLE1BUzdCaTZCLEVBQU9qMkQsVUFBVTIzQixPQUFTLFNBQVVtOEIsR0FDaEMsSUFBSS9nQixFQUFhK2dCLEVBQVMvZ0IsV0FDMUIsR0FBS0EsRUFBTCxDQUdBLElBQUl2N0IsRUFBV3U3QixFQUFXYixVQUFVMTZCLFNBQ3BDLEdBQUlBLEdBQVlwWCxLQUFLczdCLFVBQVcsQ0FDNUIsSUFBSXhjLEVBQVksVUFBWTFILEVBQVcsT0FDdkMsR0FBSXBYLEtBQUtrMkQsVUFBVyxDQUNoQixJQUFJempELEVBQVd6UyxLQUFLZSxRQUFRMDBELFVBQVVoakQsU0FBUyxNQUMxQ0EsR0FBeUIsSUFBYjJFLEVBR1IzRSxHQUF5QixJQUFiMkUsR0FDakJwWCxLQUFLZSxRQUFRMDBELFVBQVUxeUQsT0FBTyxNQUg5Qi9DLEtBQUtlLFFBQVEwMEQsVUFBVTdzQyxJQUFJLE1BTW5DNW9CLEtBQUt5MEQsT0FBTzNxRCxNQUFNZ1YsVUFBWUEsRUFFbEM5ZSxLQUFLczdCLFVBQVlsa0IsSUFFZHkrQyxFQWhJZ0IsQ0FpSXpCLElDN0tGLElBQUksR0FBd0MsV0FDeEMsSUFBSTEyRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQTJJNUMsU0EvRjBCLFNBQVVJLEdBS2hDLFNBQVNrMkQsRUFBS2wxRCxHQUNWLElBQUliLEVBQVFOLEtBQ1JvQixFQUFVRCxHQUE0QixHQUMxQ2IsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTSxDQUN0QmUsUUFBUzZJLFNBQVNDLGNBQWMsT0FDaENwQyxPQUFRckcsRUFBUXFHLFVBQ2R6SCxLQUNOLElBQUk4aUMsT0FBa0MzL0IsSUFBdEIvQixFQUFRMGhDLFVBQTBCMWhDLEVBQVEwaEMsVUFBWSxVQUNsRW5nQixPQUEwQnhmLElBQWxCL0IsRUFBUXVoQixNQUFzQnZoQixFQUFRdWhCLE1BQVEsRUFDdEQyekMsT0FBOENuekQsSUFBNUIvQixFQUFRazFELGdCQUN4QmwxRCxFQUFRazFELGdCQUNSeHpCLEVBQVksTUFDZHl6QixPQUFnRHB6RCxJQUE3Qi9CLEVBQVFtMUQsaUJBQ3pCbjFELEVBQVFtMUQsaUJBQ1J6ekIsRUFBWSxPQUNkMHpCLE9BQXNDcnpELElBQXhCL0IsRUFBUW8xRCxZQUE0QnAxRCxFQUFRbzFELFlBQWMsSUFDeEVDLE9BQXdDdHpELElBQXpCL0IsRUFBUXExRCxhQUE2QnIxRCxFQUFRcTFELGFBQWUsSUFDM0VDLE9BQTRDdnpELElBQTNCL0IsRUFBUXMxRCxlQUErQnQxRCxFQUFRczFELGVBQWlCLFVBQ2pGQyxPQUE4Q3h6RCxJQUE1Qi9CLEVBQVF1MUQsZ0JBQ3hCdjFELEVBQVF1MUQsZ0JBQ1IsV0FDRkMsRUFBWWh0RCxTQUFTQyxjQUFjLFVBQ3ZDK3NELEVBQVU5ekIsVUFBWXd6QixFQUN0Qk0sRUFBVWxxQixhQUFhLE9BQVEsVUFDL0JrcUIsRUFBVWpDLE1BQVErQixFQUNsQkUsRUFBVTVzRCxZQUFtQyxpQkFBaEJ3c0QsRUFDdkI1c0QsU0FBU2l0RCxlQUFlTCxHQUN4QkEsR0FDTkksRUFBVXhuRCxpQkFBaUJxekIsRUFBQSxRQUFpQm5pQyxFQUFNczBELGFBQWE3bEQsS0FBS3pPLEVBQU9xaUIsSUFBUSxHQUNuRixJQUFJbTBDLEVBQWFsdEQsU0FBU0MsY0FBYyxVQUN4Q2l0RCxFQUFXaDBCLFVBQVl5ekIsRUFDdkJPLEVBQVdwcUIsYUFBYSxPQUFRLFVBQ2hDb3FCLEVBQVduQyxNQUFRZ0MsRUFDbkJHLEVBQVc5c0QsWUFBb0MsaUJBQWpCeXNELEVBQ3hCN3NELFNBQVNpdEQsZUFBZUosR0FDeEJBLEdBQ05LLEVBQVcxbkQsaUJBQWlCcXpCLEVBQUEsUUFBaUJuaUMsRUFBTXMwRCxhQUFhN2xELEtBQUt6TyxHQUFRcWlCLElBQVEsR0FDckYsSUFBSWt5QyxFQUFhL3hCLEVBQVksSUFBTSxLQUFxQixJQUFNLEtBQzFEL2hDLEVBQVVULEVBQU1TLFFBU3BCLE9BUkFBLEVBQVEraEMsVUFBWSt4QixFQUNwQjl6RCxFQUFRaUosWUFBWTRzRCxHQUNwQjcxRCxFQUFRaUosWUFBWThzRCxHQUtwQngyRCxFQUFNMjFELGVBQWlDOXlELElBQXJCL0IsRUFBUTRoQixTQUF5QjVoQixFQUFRNGhCLFNBQVcsSUFDL0QxaUIsRUF5Q1gsT0E1RkEsR0FBVSsxRCxFQUFNbDJELEdBMERoQmsyRCxFQUFLejJELFVBQVVnMUQsYUFBZSxTQUFVanlDLEVBQU8xUixHQUMzQ0EsRUFBTXhCLGlCQUNOelAsS0FBSysyRCxhQUFhcDBDLElBTXRCMHpDLEVBQUt6MkQsVUFBVW0zRCxhQUFlLFNBQVVwMEMsR0FDcEMsSUFDSUQsRUFETTFpQixLQUFLaWtCLFNBQ0FxaEIsVUFDZixHQUFLNWlCLEVBQUwsQ0FLQSxJQUFJVSxFQUFjVixFQUFLVyxVQUN2QixRQUFvQmxnQixJQUFoQmlnQixFQUEyQixDQUMzQixJQUFJRSxFQUFVWixFQUFLYSxtQkFBbUJILEVBQWNULEdBQ2hEM2lCLEtBQUtpMkQsVUFBWSxHQUNidnpDLEVBQUtnQixnQkFDTGhCLEVBQUtpQixtQkFFVGpCLEVBQUtrQixRQUFRLENBQ1RtdUIsS0FBTXp1QixFQUNOTixTQUFVaGpCLEtBQUtpMkQsVUFDZmh6QyxPQUFRLFNBSVpQLEVBQUsya0MsUUFBUS9qQyxNQUlsQit5QyxFQTdGYyxDQThGdkIsSSxlQzFJRSxHQUF3QyxXQUN4QyxJQUFJbDNELEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBc0U1QyxTQTFDcUMsU0FBVUksR0FLM0MsU0FBUzYyRCxFQUFnQjcxRCxHQUNyQixJQUFJYixFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQUM3Qm9CLEVBQVVELEdBQTRCLEdBVzFDLE9BTkFiLEVBQU0yMkQsT0FBUzcxRCxFQUFRdWhCLE1BQVF2aEIsRUFBUXVoQixNQUFRLEVBSy9DcmlCLEVBQU0yMUQsZUFBaUM5eUQsSUFBckIvQixFQUFRNGhCLFNBQXlCNWhCLEVBQVE0aEIsU0FBVyxJQUMvRDFpQixFQXNCWCxPQXZDQSxHQUFVMDJELEVBQWlCNzJELEdBeUIzQjYyRCxFQUFnQnAzRCxVQUFVMFIsWUFBYyxTQUFVVSxHQUM5QyxJQUFJa1QsR0FBWSxFQUNoQixHQUFJbFQsRUFBZ0JwUixNQUFRdzRDLEdBQUEsV0FBOEIsQ0FDdEQsSUFBSXVZLEVBQTBDMy9DLEVBQTZCLGNBQ3ZFckgsRUFBTXFILEVBQWdCckgsSUFDdEIyVCxFQUFTdE0sRUFBZ0J5QyxXQUN6QmtPLEVBQVFndkMsRUFBYXQvQyxVQUFZclMsS0FBS2kzRCxPQUFTajNELEtBQUtpM0QsT0FDcER2MEMsRUFBTy9YLEVBQUkyNkIsV0FDZixTQUFZNWlCLEVBQU1DLEVBQU9yRSxFQUFRdGUsS0FBS2kyRCxXQUN0Q3RFLEVBQWFsaUQsaUJBQ2J5VixHQUFZLEVBRWhCLE9BQVFBLEdBRUw4eEMsRUF4Q3lCLENBeUNsQ256QyxHQUFBLEksMEJDckVFLEdBQXdDLFdBQ3hDLElBQUkxa0IsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0F1TDVDLFNBcEo2QixTQUFVSSxHQUtuQyxTQUFTKzJELEVBQVEvMUQsR0FDYixJQUFJYixFQUFRSCxFQUFPTCxLQUFLRSxLQUFNLENBQzFCNmtCLFNBQVUsUUFDUjdrQixLQUNGb0IsRUFBVUQsR0FBNEIsR0FLMUNiLEVBQU02MkQsU0FBVy8xRCxFQUFRZzJELFFBSXpCOTJELEVBQU0rMkQsYUFBZSxLQUlyQi8yRCxFQUFNZzNELG1CQUlOaDNELEVBQU1pM0QsVUFBVyxFQUNqQixJQUFJaHhDLEVBQVlubEIsRUFBUW1sQixVQUNsQm5sQixFQUFRbWxCLFdBQ1IsU0FBSSxNQUFnQixPQWExQixPQVJBam1CLEVBQU1nbUIsV0FBYWxsQixFQUFRbzJELGFBQ3JCLFNBQUksTUFBbUJqeEMsR0FDdkJBLEVBS05qbUIsRUFBTW0zRCxZQUFhLEVBQ1puM0QsRUF3R1gsT0FqSkEsR0FBVTQyRCxFQUFTLzJELEdBK0NuQisyRCxFQUFRdDNELFVBQVU4a0IsZ0JBQWtCLFNBQVUxUyxHQUNyQ2hTLEtBQUt1M0QsV0FDTnYzRCxLQUFLdTNELFVBQVcsRUFDaEJ2M0QsS0FBS2lrQixTQUFTcWhCLFVBQVV3bkIsb0JBRTVCLEl0QzhMY3I0QyxFQUFZOEosRXNDOUx0QnlHLEVBQWlCaGxCLEtBQUtnbEIsZUFDdEJaLEdBQVcsUUFBcUJZLEdBQ3BDLEdBQUlBLEVBQWV0akIsUUFBVTFCLEtBQUtzM0Qsb0JBSTlCLEdBSEl0M0QsS0FBS20zRCxVQUNMbjNELEtBQUttM0QsU0FBU08sT0FBT3R6QyxFQUFTLEdBQUlBLEVBQVMsSUFFM0Nwa0IsS0FBS3EzRCxhQUFjLENBQ25CLElBQUkxMEMsRUFBUSxDQUNSM2lCLEtBQUtxM0QsYUFBYSxHQUFLanpDLEVBQVMsR0FDaENBLEVBQVMsR0FBS3BrQixLQUFLcTNELGFBQWEsSUFHaEMzMEMsRUFETTFRLEVBQWdCckgsSUFDWDI2QixVdENrTFQ3d0IsRXNDakxVa08sRXRDaUxFcEUsRXNDakxLbUUsRUFBSytrQyxnQnRDa0x4Q2h6QyxFQUFXLElBQU04SixFQUNqQjlKLEVBQVcsSUFBTThKLEVzQ2xMTEgsRUFBaUJ1RSxFQUFPRCxFQUFLcVYsZUFDN0JyVixFQUFLdXBDLHFCQUFxQnRwQyxTQUd6QjNpQixLQUFLbTNELFVBR1ZuM0QsS0FBS20zRCxTQUFTdnZELFFBRWxCNUgsS0FBS3EzRCxhQUFlanpDLEVBQ3BCcGtCLEtBQUtzM0QsbUJBQXFCdHlDLEVBQWV0akIsT0FDekNzUSxFQUFnQkMsY0FBY3hDLGtCQU9sQ3luRCxFQUFRdDNELFVBQVVnbEIsY0FBZ0IsU0FBVTVTLEdBQ3hDLElBQUlySCxFQUFNcUgsRUFBZ0JySCxJQUN0QitYLEVBQU8vWCxFQUFJMjZCLFVBQ2YsR0FBbUMsSUFBL0J0bEMsS0FBS2dsQixlQUFldGpCLE9BQWMsQ0FDbEMsSUFBSzFCLEtBQUt5M0QsWUFBY3ozRCxLQUFLbTNELFVBQVluM0QsS0FBS20zRCxTQUFTdHZELE1BQU8sQ0FDMUQsSUFBSTh2RCxFQUFXMzNELEtBQUttM0QsU0FBUzdwQyxjQUN6QmpQLEVBQVFyZSxLQUFLbTNELFNBQVN0L0IsV0FDdEIzZ0IsRUFBU3dMLEVBQUtJLG9CQUNkODBDLEVBQVdqdEQsRUFBSTY2QiwrQkFBK0J0dUIsR0FDOUMrSixFQUFPdFcsRUFBSWc3QiwrQkFBK0IsQ0FDMUNpeUIsRUFBUyxHQUFLRCxFQUFXcHBELEtBQUsrSSxJQUFJK0csR0FDbEN1NUMsRUFBUyxHQUFLRCxFQUFXcHBELEtBQUtpSixJQUFJNkcsS0FFdENxRSxFQUFLSyxnQkFBZ0IsQ0FDakI3TCxPQUFRd0wsRUFBS1EscUJBQXFCakMsR0FDbEMrQixTQUFVLElBQ1ZDLE9BQVEsUUFPaEIsT0FKSWpqQixLQUFLdTNELFdBQ0x2M0QsS0FBS3UzRCxVQUFXLEVBQ2hCNzBDLEVBQUtxcUMsbUJBRUYsRUFTUCxPQU5JL3NELEtBQUttM0QsVUFHTG4zRCxLQUFLbTNELFNBQVN2dkQsUUFFbEI1SCxLQUFLcTNELGFBQWUsTUFDYixHQVFmSCxFQUFRdDNELFVBQVU2a0IsZ0JBQWtCLFNBQVV6UyxHQUMxQyxHQUFJaFMsS0FBS2dsQixlQUFldGpCLE9BQVMsR0FBSzFCLEtBQUtzbUIsV0FBV3RVLEdBQWtCLENBQ3BFLElBQ0kwUSxFQURNMVEsRUFBZ0JySCxJQUNYMjZCLFVBWWYsT0FYQXRsQyxLQUFLcTNELGFBQWUsS0FFaEIzMEMsRUFBS2dCLGdCQUNMaEIsRUFBS2lCLG1CQUVMM2pCLEtBQUttM0QsVUFDTG4zRCxLQUFLbTNELFNBQVN2dkQsUUFJbEI1SCxLQUFLeTNELFdBQWF6M0QsS0FBS2dsQixlQUFldGpCLE9BQVMsR0FDeEMsRUFHUCxPQUFPLEdBR1J3MUQsRUFsSmlCLENBbUoxQlcsR0FBQSxHQ3RMRixJQUFJLEdBQXdDLFdBQ3hDLElBQUkxNEQsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0EySDVDLFNBdEZnQyxTQUFVSSxHQUt0QyxTQUFTMjNELEVBQVczMkQsR0FDaEIsSUFBSWIsRUFBUU4sS0FDUm9CLEVBQVVELEdBQTRCLEdBbUIxQyxPQWxCQWIsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTSxDQUN0QjZrQixTQUFVLFFBQ1I3a0IsTUFLQXNtQixXQUFhbGxCLEVBQVFtbEIsVUFBWW5sQixFQUFRbWxCLFVBQVksTUFLM0RqbUIsRUFBTXkzRCxnQkFBYTUwRCxFQUtuQjdDLEVBQU0yMUQsZUFBaUM5eUQsSUFBckIvQixFQUFRNGhCLFNBQXlCNWhCLEVBQVE0aEIsU0FBVyxJQUMvRDFpQixFQTBEWCxPQW5GQSxHQUFVdzNELEVBQVkzM0QsR0ErQnRCMjNELEVBQVdsNEQsVUFBVThrQixnQkFBa0IsU0FBVTFTLEdBQzdDLElBQUssU0FBVUEsR0FBZixDQUdBLElBQUlySCxFQUFNcUgsRUFBZ0JySCxJQUN0QitYLEVBQU8vWCxFQUFJMjZCLFVBQ2YsR0FBSTVpQixFQUFLOG1DLGlCQUFpQnB5QyxXQUFhK21DLEdBQXZDLENBR0EsSUFBSXR5QyxFQUFPbEIsRUFBSXV1QixVQUNYdGpCLEVBQVM1RCxFQUFnQitXLE1BQ3pCaStCLEVBQVF6NEMsS0FBS3dmLE1BQU1saUIsRUFBSyxHQUFLLEVBQUkrSixFQUFPLEdBQUlBLEVBQU8sR0FBSy9KLEVBQUssR0FBSyxHQUN0RSxRQUF3QjFJLElBQXBCbkQsS0FBSyszRCxXQUEwQixDQUMvQixJQUFJcDFDLEVBQVFxa0MsRUFBUWhuRCxLQUFLKzNELFdBQ3pCcjFDLEVBQUs2cEMsd0JBQXdCNXBDLEdBRWpDM2lCLEtBQUsrM0QsV0FBYS9RLEtBT3RCOFEsRUFBV2w0RCxVQUFVZ2xCLGNBQWdCLFNBQVU1UyxHQUMzQyxRQUFLLFNBQVVBLEtBR0xBLEVBQWdCckgsSUFDWDI2QixVQUNWeW5CLGVBQWUvc0QsS0FBS2kyRCxZQUNsQixJQU9YNkIsRUFBV2w0RCxVQUFVNmtCLGdCQUFrQixTQUFVelMsR0FDN0MsVUFBSyxTQUFVQSxNQUdYLFNBQWtCQSxLQUNsQmhTLEtBQUtzbUIsV0FBV3RVLEtBQ05BLEVBQWdCckgsSUFDdEIyNkIsVUFBVXduQixtQkFDZDlzRCxLQUFLKzNELGdCQUFhNTBELEVBQ1gsS0FNUjIwRCxFQXBGb0IsQ0FxRjdCRCxHQUFBLEdDdkhGLElBQUksR0FBd0MsV0FDeEMsSUFBSTE0RCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQWdJNUMsU0FqSCtCLFNBQVVJLEdBS3JDLFNBQVM2M0QsRUFBVWwxQixHQUNmLElBQUl4aUMsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0E2QmpDLE9BeEJBTSxFQUFNcThCLFVBQVksS0FLbEJyOEIsRUFBTXkxQyxTQUFXbnNDLFNBQVNDLGNBQWMsT0FDeEN2SixFQUFNeTFDLFNBQVNqc0MsTUFBTW1xQixTQUFXLFdBQ2hDM3pCLEVBQU15MUMsU0FBU2pzQyxNQUFNdWEsY0FBZ0IsT0FDckMvakIsRUFBTXkxQyxTQUFTalQsVUFBWSxVQUFZQSxFQUt2Q3hpQyxFQUFNd2pCLEtBQU8sS0FLYnhqQixFQUFNMjNELFlBQWMsS0FLcEIzM0QsRUFBTTQzRCxVQUFZLEtBQ1g1M0QsRUE0RVgsT0E5R0EsR0FBVTAzRCxFQUFXNzNELEdBdUNyQjYzRCxFQUFVcDRELFVBQVUrRCxnQkFBa0IsV0FDbEMzRCxLQUFLbWtCLE9BQU8sT0FLaEI2ekMsRUFBVXA0RCxVQUFVdTRELFFBQVUsV0FDMUIsSUFBSUMsRUFBYXA0RCxLQUFLaTRELFlBQ2xCSSxFQUFXcjRELEtBQUtrNEQsVUFDaEJJLEVBQUssS0FDTHh1RCxFQUFROUosS0FBSysxQyxTQUFTanNDLE1BQzFCQSxFQUFNb3FCLEtBQU8zbEIsS0FBS3lILElBQUlvaUQsRUFBVyxHQUFJQyxFQUFTLElBQU1DLEVBQ3BEeHVELEVBQU1pOEIsSUFBTXgzQixLQUFLeUgsSUFBSW9pRCxFQUFXLEdBQUlDLEVBQVMsSUFBTUMsRUFDbkR4dUQsRUFBTTJDLE1BQVE4QixLQUFLb2IsSUFBSTB1QyxFQUFTLEdBQUtELEVBQVcsSUFBTUUsRUFDdER4dUQsRUFBTTRDLE9BQVM2QixLQUFLb2IsSUFBSTB1QyxFQUFTLEdBQUtELEVBQVcsSUFBTUUsR0FLM0ROLEVBQVVwNEQsVUFBVXVrQixPQUFTLFNBQVV4WixHQUNuQyxHQUFJM0ssS0FBSzhqQixLQUFNLENBQ1g5akIsS0FBSzhqQixLQUFLMmdCLHNCQUFzQnQ2QixZQUFZbkssS0FBSysxQyxVQUNqRCxJQUFJanNDLEVBQVE5SixLQUFLKzFDLFNBQVNqc0MsTUFDMUJBLEVBQU1vcUIsS0FBTyxVQUNicHFCLEVBQU1pOEIsSUFBTSxVQUNaajhCLEVBQU0yQyxNQUFRLFVBQ2QzQyxFQUFNNEMsT0FBUyxVQUVuQjFNLEtBQUs4akIsS0FBT25aLEVBQ1IzSyxLQUFLOGpCLE1BQ0w5akIsS0FBSzhqQixLQUFLMmdCLHNCQUFzQno2QixZQUFZaEssS0FBSysxQyxXQU96RGlpQixFQUFVcDRELFVBQVUyNEQsVUFBWSxTQUFVSCxFQUFZQyxHQUNsRHI0RCxLQUFLaTRELFlBQWNHLEVBQ25CcDRELEtBQUtrNEQsVUFBWUcsRUFDakJyNEQsS0FBS3c0RCx5QkFDTHg0RCxLQUFLbTRELFdBS1RILEVBQVVwNEQsVUFBVTQ0RCx1QkFBeUIsV0FDekMsSUFBSUosRUFBYXA0RCxLQUFLaTRELFlBQ2xCSSxFQUFXcjRELEtBQUtrNEQsVUFPaEJ0a0QsRUFOUyxDQUNUd2tELEVBQ0EsQ0FBQ0EsRUFBVyxHQUFJQyxFQUFTLElBQ3pCQSxFQUNBLENBQUNBLEVBQVMsR0FBSUQsRUFBVyxLQUVKenRELElBQUkzSyxLQUFLOGpCLEtBQUs2aEIsK0JBQWdDM2xDLEtBQUs4akIsTUFFNUVsUSxFQUFZLEdBQUtBLEVBQVksR0FBR25KLFFBQzNCekssS0FBSzI4QixVQUlOMzhCLEtBQUsyOEIsVUFBVXJnQixlQUFlLENBQUMxSSxJQUgvQjVULEtBQUsyOEIsVUFBWSxJQUFJLEdBQVEsQ0FBQy9vQixLQVN0Q29rRCxFQUFVcDRELFVBQVUwbkIsWUFBYyxXQUM5QixPQUFPdG5CLEtBQUsyOEIsV0FFVHE3QixFQS9HbUIsQ0FnSDVCeDBELEVBQUEsR0NsSUYsSUFBSSxHQUF3QyxXQUN4QyxJQUFJckUsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0EyRXhDMDRELEdBQThCLFNBQVV0NEQsR0FPeEMsU0FBU3M0RCxFQUFhNzNELEVBQU02VCxFQUFZekMsR0FDcEMsSUFBSTFSLEVBQVFILEVBQU9MLEtBQUtFLEtBQU1ZLElBQVNaLEtBY3ZDLE9BUEFNLEVBQU1tVSxXQUFhQSxFQU1uQm5VLEVBQU0wUixnQkFBa0JBLEVBQ2pCMVIsRUFFWCxPQXZCQSxHQUFVbTRELEVBQWN0NEQsR0F1QmpCczRELEVBeEJzQixDQXlCL0IvaUIsRUFBQSxJQTBIRixTQTVHNkIsU0FBVXYxQyxHQUtuQyxTQUFTdTRELEVBQVF2M0QsR0FDYixJQUFJYixFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQUM3Qm9CLEVBQVVELEdBQTRCLEdBK0IxQyxPQTFCQWIsRUFBTXE0RCxLQUFPLElBQUksR0FBVXYzRCxFQUFRMGhDLFdBQWEsY0FLaER4aUMsRUFBTXM0RCxjQUErQnoxRCxJQUFwQi9CLEVBQVF5M0QsUUFBd0J6M0QsRUFBUXkzRCxRQUFVLEdBQy9EejNELEVBQVEwM0QsV0FDUng0RCxFQUFNdzRELFNBQVcxM0QsRUFBUTAzRCxVQU03Qng0RCxFQUFNMjNELFlBQWMsS0FLcEIzM0QsRUFBTWdtQixXQUFhbGxCLEVBQVFtbEIsVUFBWW5sQixFQUFRbWxCLFVBQVksTUFLM0RqbUIsRUFBTXk0RCxpQkFBbUIzM0QsRUFBUTQzRCxnQkFDM0I1M0QsRUFBUTQzRCxnQkFDUjE0RCxFQUFNMjRELHVCQUNMMzRELEVBb0VYLE9BekdBLEdBQVVvNEQsRUFBU3Y0RCxHQWdEbkJ1NEQsRUFBUTk0RCxVQUFVcTVELHVCQUF5QixTQUFVam5ELEVBQWlCb21ELEVBQVlDLEdBQzlFLElBQUk1ckQsRUFBUTRyRCxFQUFTLEdBQUtELEVBQVcsR0FDakMxckQsRUFBUzJyRCxFQUFTLEdBQUtELEVBQVcsR0FDdEMsT0FBTzNyRCxFQUFRQSxFQUFRQyxFQUFTQSxHQUFVMU0sS0FBSzQ0RCxVQU9uREYsRUFBUTk0RCxVQUFVMG5CLFlBQWMsV0FDNUIsT0FBT3RuQixLQUFLMjRELEtBQUtyeEMsZUFNckJveEMsRUFBUTk0RCxVQUFVOGtCLGdCQUFrQixTQUFVMVMsR0FDMUNoUyxLQUFLMjRELEtBQUtKLFVBQVV2NEQsS0FBS2k0RCxZQUFham1ELEVBQWdCK1csT0FDdEQvb0IsS0FBSzRDLGNBQWMsSUFBSTYxRCxHQTlIbEIsVUE4SHlEem1ELEVBQWdCeUMsV0FBWXpDLEtBTzlGMG1ELEVBQVE5NEQsVUFBVWdsQixjQUFnQixTQUFVNVMsR0FDeENoUyxLQUFLMjRELEtBQUt4MEMsT0FBTyxNQUNqQixJQUFJKzBDLEVBQWNsNUQsS0FBSys0RCxpQkFBaUIvbUQsRUFBaUJoUyxLQUFLaTRELFlBQWFqbUQsRUFBZ0IrVyxPQUszRixPQUpJbXdDLEdBQ0FsNUQsS0FBSzg0RCxTQUFTOW1ELEdBRWxCaFMsS0FBSzRDLGNBQWMsSUFBSTYxRCxHQUFhUyxFQXJJaEMsU0FNRyxZQStIaUdsbkQsRUFBZ0J5QyxXQUFZekMsS0FDN0gsR0FPWDBtRCxFQUFROTRELFVBQVU2a0IsZ0JBQWtCLFNBQVV6UyxHQUMxQyxRQUFJaFMsS0FBS3NtQixXQUFXdFUsS0FDaEJoUyxLQUFLaTRELFlBQWNqbUQsRUFBZ0IrVyxNQUNuQy9vQixLQUFLMjRELEtBQUt4MEMsT0FBT25TLEVBQWdCckgsS0FDakMzSyxLQUFLMjRELEtBQUtKLFVBQVV2NEQsS0FBS2k0RCxZQUFhajRELEtBQUtpNEQsYUFDM0NqNEQsS0FBSzRDLGNBQWMsSUFBSTYxRCxHQTlKckIsV0E4SjZEem1ELEVBQWdCeUMsV0FBWXpDLEtBQ3BGLElBVWYwbUQsRUFBUTk0RCxVQUFVazVELFNBQVcsU0FBVTduRCxLQUNoQ3luRCxFQTFHaUIsQ0EyRzFCYixHQUFBLEdDN05GLElBQUksR0FBd0MsV0FDeEMsSUFBSTE0RCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQW1HNUMsU0F4RDhCLFNBQVVJLEdBS3BDLFNBQVNnNUQsRUFBU2g0RCxHQUNkLElBQUliLEVBQVFOLEtBQ1JvQixFQUFVRCxHQUE0QixHQUN0Q29sQixFQUFZbmxCLEVBQVFtbEIsVUFBWW5sQixFQUFRbWxCLFVBQVksTUFnQnhELE9BZkFqbUIsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTSxDQUN0QnVtQixVQUFXQSxFQUNYdWMsVUFBVzFoQyxFQUFRMGhDLFdBQWEsY0FDaEMrMUIsUUFBU3ozRCxFQUFReTNELFdBQ2Y3NEQsTUFLQWkyRCxlQUFpQzl5RCxJQUFyQi9CLEVBQVE0aEIsU0FBeUI1aEIsRUFBUTRoQixTQUFXLElBS3RFMWlCLEVBQU04NEQsVUFBdUJqMkQsSUFBaEIvQixFQUFRaTRELEtBQW9CajRELEVBQVFpNEQsSUFDMUMvNEQsRUE4QlgsT0FyREEsR0FBVTY0RCxFQUFVaDVELEdBNkJwQmc1RCxFQUFTdjVELFVBQVVrNUQsU0FBVyxTQUFVN25ELEdBQ3BDLElBQUl0RyxFQUFNM0ssS0FBS2lrQixTQUNYdkIsRUFBcUQvWCxFQUFJMjZCLFVBQ3pEejVCLEVBQWtEbEIsRUFBSXV1QixVQUN0RHJsQixFQUFTN1QsS0FBS3NuQixjQUFjdk4sWUFDaEMsR0FBSS9aLEtBQUtvNUQsS0FBTSxDQUNYLElBQUlFLEVBQVk1MkMsRUFBS21uQyx3QkFBd0JoK0MsR0FDekMwdEQsR0FBaUIsUUFBOEIsQ0FDL0M1dUQsRUFBSTY2QixnQ0FBK0IsUUFBYzN4QixJQUNqRGxKLEVBQUk2NkIsZ0NBQStCLFFBQVkzeEIsTUFFL0MybEQsRUFBUzkyQyxFQUFLeW5DLCtCQUErQm9QLEVBQWdCMXRELElBQ2pFLFFBQWdCeXRELEVBQVcsRUFBSUUsR0FDL0IzbEQsRUFBU3lsRCxFQUViLElBQUluaUQsRUFBYXVMLEVBQUs0bkMseUJBQXlCNW5DLEVBQUt5bkMsK0JBQStCdDJDLEVBQVFoSSxJQUN2RnFMLEVBQVN3TCxFQUFLUSxzQkFBcUIsUUFBVXJQLEdBQVNzRCxHQUMxRHVMLEVBQUtLLGdCQUFnQixDQUNqQjVMLFdBQVlBLEVBQ1pELE9BQVFBLEVBQ1I4TCxTQUFVaGpCLEtBQUtpMkQsVUFDZmh6QyxPQUFRLFNBR1RrMkMsRUF0RGtCLENBdUQzQixJQ2xHRixJQUFJLEdBQXdDLFdBQ3hDLElBQUloNkQsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0ErSDVDLFNBbEZpQyxTQUFVSSxHQUt2QyxTQUFTczVELEVBQVl0NEQsR0FDakIsSUFBSWIsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FDN0JvQixFQUFVRCxHQUFlLEdBNEI3QixPQXRCQWIsRUFBTW81RCxrQkFBb0IsU0FBVTFuRCxHQUNoQyxPQUFRLFNBQWVBLEtBQW9CLFNBQWtCQSxJQU1qRTFSLEVBQU1nbUIsZ0JBQ29CbmpCLElBQXRCL0IsRUFBUW1sQixVQUNGbmxCLEVBQVFtbEIsVUFDUmptQixFQUFNbzVELGtCQUtoQnA1RCxFQUFNMjFELGVBQWlDOXlELElBQXJCL0IsRUFBUTRoQixTQUF5QjVoQixFQUFRNGhCLFNBQVcsSUFLdEUxaUIsRUFBTXE1RCxpQkFDcUJ4MkQsSUFBdkIvQixFQUFRdzRELFdBQTJCeDRELEVBQVF3NEQsV0FBYSxJQUNyRHQ1RCxFQTZDWCxPQS9FQSxHQUFVbTVELEVBQWF0NUQsR0E0Q3ZCczVELEVBQVk3NUQsVUFBVTBSLFlBQWMsU0FBVVUsR0FDMUMsSUFBSWtULEdBQVksRUFDaEIsR0FBSWxULEVBQWdCcFIsTUFBUTZoQyxFQUFBLFVBQW1CLENBQzNDLElBQUlvM0IsRUFBeUM3bkQsRUFBNkIsY0FDdEU4bkQsRUFBVUQsRUFBU0MsUUFDdkIsR0FBSTk1RCxLQUFLc21CLFdBQVd0VSxLQ3BGdEIsSURxRk84bkQsR0N4RlAsSUR5RlVBLEdDdkZULElEd0ZTQSxHQ3pGWixJRDBGWUEsR0FBd0IsQ0FDNUIsSUFDSXAzQyxFQURNMVEsRUFBZ0JySCxJQUNYMjZCLFVBQ1h5MEIsRUFBZ0JyM0MsRUFBSytrQyxnQkFBa0J6bkQsS0FBSzI1RCxZQUM1Q2poRCxFQUFTLEVBQUdDLEVBQVMsRUM1Ri9CLElENkZVbWhELEVBQ0FuaEQsR0FBVW9oRCxFQ2pHcEIsSURtR2VELEVBQ0xwaEQsR0FBVXFoRCxFQ2xHbkIsSURvR2NELEVBQ0xwaEQsRUFBU3FoRCxFQUdUcGhELEVBQVNvaEQsRUFFYixJQUFJcDNDLEVBQVEsQ0FBQ2pLLEVBQVFDLEdBQ3JCeUYsRUFBaUJ1RSxFQUFPRCxFQUFLcVYsZ0JBQzdCLFNBQUlyVixFQUFNQyxFQUFPM2lCLEtBQUtpMkQsV0FDdEI0RCxFQUFTcHFELGlCQUNUeVYsR0FBWSxHQUdwQixPQUFRQSxHQUVMdTBDLEVBaEZxQixDQWlGOUI1MUMsR0FBQSxJRTlIRixJQUFJLEdBQXdDLFdBQ3hDLElBQUkxa0IsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0E4RjVDLFNBckRrQyxTQUFVSSxHQUt4QyxTQUFTNjVELEVBQWE3NEQsR0FDbEIsSUFBSWIsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FDN0JvQixFQUFVRCxHQUE0QixHQWdCMUMsT0FYQWIsRUFBTWdtQixXQUFhbGxCLEVBQVFtbEIsVUFBWW5sQixFQUFRbWxCLFVBQVksTUFLM0RqbUIsRUFBTTIyRCxPQUFTNzFELEVBQVF1aEIsTUFBUXZoQixFQUFRdWhCLE1BQVEsRUFLL0NyaUIsRUFBTTIxRCxlQUFpQzl5RCxJQUFyQi9CLEVBQVE0aEIsU0FBeUI1aEIsRUFBUTRoQixTQUFXLElBQy9EMWlCLEVBNEJYLE9BbERBLEdBQVUwNUQsRUFBYzc1RCxHQWdDeEI2NUQsRUFBYXA2RCxVQUFVMFIsWUFBYyxTQUFVVSxHQUMzQyxJQUFJa1QsR0FBWSxFQUNoQixHQUFJbFQsRUFBZ0JwUixNQUFRNmhDLEVBQUEsV0FDeEJ6d0IsRUFBZ0JwUixNQUFRNmhDLEVBQUEsV0FBb0IsQ0FDNUMsSUFBSW8zQixFQUF5QzduRCxFQUE2QixjQUN0RWlvRCxFQUFXSixFQUFTSSxTQUN4QixHQUFJajZELEtBQUtzbUIsV0FBV3RVLEtBQ2Zpb0QsR0FBWSxJQUFJQyxXQUFXLElBQU1ELEdBQVksSUFBSUMsV0FBVyxJQUFLLENBQ2xFLElBQUl2dkQsRUFBTXFILEVBQWdCckgsSUFDdEJnWSxFQUFRczNDLEdBQVksSUFBSUMsV0FBVyxHQUFLbDZELEtBQUtpM0QsUUFBVWozRCxLQUFLaTNELE9BQzVEdjBDLEVBQU8vWCxFQUFJMjZCLFdBQ2YsU0FBWTVpQixFQUFNQyxPQUFPeGYsRUFBV25ELEtBQUtpMkQsV0FDekM0RCxFQUFTcHFELGlCQUNUeVYsR0FBWSxHQUdwQixPQUFRQSxHQUVMODBDLEVBbkRzQixDQW9EL0JuMkMsR0FBQSxJQ2tCRixHQXRHNkIsV0FPekIsU0FBU3MyQyxFQUFRQyxFQUFPQyxFQUFhQyxHQUtqQ3Q2RCxLQUFLdTZELE9BQVNILEVBS2RwNkQsS0FBS3c2RCxhQUFlSCxFQUtwQnI2RCxLQUFLeTZELE9BQVNILEVBS2R0NkQsS0FBSzAyQixRQUFVLEdBS2YxMkIsS0FBS2czQixPQUFTLEVBS2RoM0IsS0FBSzA2RCxpQkFBbUIsRUErRDVCLE9BMURBUCxFQUFRdjZELFVBQVVnSSxNQUFRLFdBQ3RCNUgsS0FBSzAyQixRQUFRaDFCLE9BQVMsRUFDdEIxQixLQUFLZzNCLE9BQVMsRUFDZGgzQixLQUFLMDZELGlCQUFtQixHQU01QlAsRUFBUXY2RCxVQUFVODNELE9BQVMsU0FBVXRqRCxFQUFHQyxHQUNwQ3JVLEtBQUswMkIsUUFBUXgwQixLQUFLa1MsRUFBR0MsRUFBRzB6QyxLQUFLQyxRQUtqQ21TLEVBQVF2NkQsVUFBVWlJLElBQU0sV0FDcEIsR0FBSTdILEtBQUswMkIsUUFBUWgxQixPQUFTLEVBR3RCLE9BQU8sRUFFWCxJQUFJNDRELEVBQVF2UyxLQUFLQyxNQUFRaG9ELEtBQUt5NkQsT0FDMUJFLEVBQVkzNkQsS0FBSzAyQixRQUFRaDFCLE9BQVMsRUFDdEMsR0FBSTFCLEtBQUswMkIsUUFBUWlrQyxFQUFZLEdBQUtMLEVBRzlCLE9BQU8sRUFJWCxJQURBLElBQUlNLEVBQWFELEVBQVksRUFDdEJDLEVBQWEsR0FBSzU2RCxLQUFLMDJCLFFBQVFra0MsRUFBYSxHQUFLTixHQUNwRE0sR0FBYyxFQUVsQixJQUFJNTNDLEVBQVdoakIsS0FBSzAyQixRQUFRaWtDLEVBQVksR0FBSzM2RCxLQUFLMDJCLFFBQVFra0MsRUFBYSxHQUl2RSxHQUFJNTNDLEVBQVcsSUFBTyxHQUNsQixPQUFPLEVBRVgsSUFBSTFPLEVBQUt0VSxLQUFLMDJCLFFBQVFpa0MsR0FBYTM2RCxLQUFLMDJCLFFBQVFra0MsR0FDNUNybUQsRUFBS3ZVLEtBQUswMkIsUUFBUWlrQyxFQUFZLEdBQUszNkQsS0FBSzAyQixRQUFRa2tDLEVBQWEsR0FHakUsT0FGQTU2RCxLQUFLZzNCLE9BQVN6b0IsS0FBS3dmLE1BQU14WixFQUFJRCxHQUM3QnRVLEtBQUswNkQsaUJBQW1CbnNELEtBQUt5ZixLQUFLMVosRUFBS0EsRUFBS0MsRUFBS0EsR0FBTXlPLEVBQ2hEaGpCLEtBQUswNkQsaUJBQW1CMTZELEtBQUt3NkQsY0FLeENMLEVBQVF2NkQsVUFBVTB0QixZQUFjLFdBQzVCLE9BQVF0dEIsS0FBS3c2RCxhQUFleDZELEtBQUswNkQsa0JBQW9CMTZELEtBQUt1NkQsUUFLOURKLEVBQVF2NkQsVUFBVWk0QixTQUFXLFdBQ3pCLE9BQU83M0IsS0FBS2czQixRQUVUbWpDLEVBcEdpQixHQ1Q1QixJQUFJLEdBQXdDLFdBQ3hDLElBQUloN0QsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0F3QmpDODZELEdBQ0csV0F3T2QsU0E5TW9DLFNBQVUxNkQsR0FLMUMsU0FBUzI2RCxFQUFlMzVELEdBQ3BCLElBQUliLEVBQVFOLEtBQ1JvQixFQUFVRCxHQUE0QixJQUMxQ2IsRUFBUUgsRUFBT0wsS0FBS0UsS0FDeUMsSUFBY0EsTUFLckUrNkQsWUFBYyxFQUtwQno2RCxFQUFNMDZELFdBQWEsRUFLbkIxNkQsRUFBTXUvQyxlQUFpQzE4QyxJQUFyQi9CLEVBQVFzOUMsU0FBeUJ0OUMsRUFBUXM5QyxTQUFXLEVBS3RFcCtDLEVBQU0yMUQsZUFBaUM5eUQsSUFBckIvQixFQUFRNGhCLFNBQXlCNWhCLEVBQVE0aEIsU0FBVyxJQUt0RTFpQixFQUFNMjZELGNBQStCOTNELElBQXBCL0IsRUFBUW9yQyxRQUF3QnByQyxFQUFRb3JDLFFBQVUsR0FLbkVsc0MsRUFBTTQ2RCxnQkFDb0IvM0QsSUFBdEIvQixFQUFRKzVELFdBQTBCLzVELEVBQVErNUQsVUFLOUM3NkQsRUFBTTg2RCwwQkFDOEJqNEQsSUFBaEMvQixFQUFRa2tELHFCQUNGbGtELEVBQVFra0Qsb0JBRWxCLElBQUkvK0IsRUFBWW5sQixFQUFRbWxCLFVBQVlubEIsRUFBUW1sQixVQUFZLE1BNEN4RCxPQXZDQWptQixFQUFNZ21CLFdBQWFsbEIsRUFBUW8yRCxhQUNyQixTQUFJLE1BQW1CanhDLEdBQ3ZCQSxFQUtOam1CLEVBQU0rNkQsWUFBYyxLQUtwQi82RCxFQUFNZzdELGdCQUFhbjRELEVBS25CN0MsRUFBTWk3RCxXQUtOajdELEVBQU1rN0QsV0FBUXI0RCxFQU1kN0MsRUFBTW03RCxrQkFBb0IsSUFJMUJuN0QsRUFBTW83RCxtQkFNTnA3RCxFQUFNcTdELGNBQWdCLElBQ2ZyN0QsRUErR1gsT0EzTUEsR0FBVXc2RCxFQUFnQjM2RCxHQWlHMUIyNkQsRUFBZWw3RCxVQUFVZzhELGdCQUFrQixXQUN2QzU3RCxLQUFLMDdELHdCQUFxQnY0RCxFQUNmbkQsS0FBS2lrQixTQUFTcWhCLFVBQ3BCeW5CLG9CQUFlNXBELEVBQVduRCxLQUFLZzdELFdBQWNoN0QsS0FBS2c3RCxXQUFhLEVBQUksR0FBSyxFQUFLLEVBQUdoN0QsS0FBS3E3RCxjQVE5RlAsRUFBZWw3RCxVQUFVMFIsWUFBYyxTQUFVVSxHQUM3QyxJQUFLaFMsS0FBS3NtQixXQUFXdFUsR0FDakIsT0FBTyxFQUdYLEdBRFdBLEVBQWdCcFIsT0FDZDZoQyxFQUFBLFFBQ1QsT0FBTyxFQUVYLElBUUk5ZixFQVJBaFksRUFBTXFILEVBQWdCckgsSUFDdEJreEQsRUFBd0M3cEQsRUFBNkIsY0FpQnpFLEdBaEJBNnBELEVBQVdwc0QsaUJBQ1B6UCxLQUFLazdELGFBQ0xsN0QsS0FBS3E3RCxZQUFjcnBELEVBQWdCeUMsWUFLbkN6QyxFQUFnQnBSLE1BQVE2aEMsRUFBQSxVQUN4QjlmLEVBQVFrNUMsRUFBV2xqRCxPQUNmLE1BQVdrakQsRUFBV0MsWUFBY0MsV0FBV0Msa0JBQy9DcjVDLEdBQVMsT0FFVGs1QyxFQUFXQyxZQUFjQyxXQUFXRSxpQkFDcEN0NUMsR0FBUyxLQUdILElBQVZBLEVBQ0EsT0FBTyxFQUdQM2lCLEtBQUtnN0QsV0FBYXI0QyxFQUV0QixJQUFJcWxDLEVBQU1ELEtBQUtDLFdBQ1M3a0QsSUFBcEJuRCxLQUFLczdELGFBQ0x0N0QsS0FBS3M3RCxXQUFhdFQsS0FFakJob0QsS0FBS3c3RCxPQUFTeFQsRUFBTWhvRCxLQUFLczdELFdBQWF0N0QsS0FBS3k3RCxxQkFDNUN6N0QsS0FBS3c3RCxNQUFRanRELEtBQUtvYixJQUFJaEgsR0FBUyxFQUFJazRDLEdBM0twQyxTQTZLSCxJQUFJbjRDLEVBQU8vWCxFQUFJMjZCLFVBQ2YsR0FBSXRsQyxLQUFLdzdELFFBQVVYLEtBQ2JuNEMsRUFBSyttQywyQkFBNEJ6cEQsS0FBS283RCxxQkFheEMsT0FaSXA3RCxLQUFLMDdELG1CQUNMM3VCLGFBQWEvc0MsS0FBSzA3RCxxQkFHZGg1QyxFQUFLZ0IsZ0JBQ0xoQixFQUFLaUIsbUJBRVRqQixFQUFLb3FDLG9CQUVUOXNELEtBQUswN0QsbUJBQXFCenVCLFdBQVdqdEMsS0FBSzQ3RCxnQkFBZ0I3c0QsS0FBSy9PLE1BQU9BLEtBQUtpN0QsVUFDM0V2NEMsRUFBSzJwQyxZQUFZMXBDLEVBQVEzaUIsS0FBSzI3RCxjQUFlMzdELEtBQUtxN0QsYUFDbERyN0QsS0FBS3M3RCxXQUFhdFQsR0FDWCxFQUVYaG9ELEtBQUsrNkQsYUFBZXA0QyxFQUNwQixJQUFJdTVDLEVBQVczdEQsS0FBSzBILElBQUlqVyxLQUFLaTdELFVBQVlqVCxFQUFNaG9ELEtBQUtzN0QsWUFBYSxHQUdqRSxPQUZBdnVCLGFBQWEvc0MsS0FBS3U3RCxZQUNsQnY3RCxLQUFLdTdELFdBQWF0dUIsV0FBV2p0QyxLQUFLbThELGlCQUFpQnB0RCxLQUFLL08sS0FBTTJLLEdBQU11eEQsSUFDN0QsR0FNWHBCLEVBQWVsN0QsVUFBVXU4RCxpQkFBbUIsU0FBVXh4RCxHQUNsRCxJQUFJK1gsRUFBTy9YLEVBQUkyNkIsVUFDWDVpQixFQUFLZ0IsZ0JBQ0xoQixFQUFLaUIsbUJBRVQsSUFBSWhCLElBQVMsUUFBTTNpQixLQUFLKzZELGFBQWMvNkQsS0FBSzYvQyxVQUFZNy9DLEtBQUsyN0QsY0FBZTM3RCxLQUFLNi9DLFVBQVk3L0MsS0FBSzI3RCxlQUFpQjM3RCxLQUFLMjdELGVBQ25IajVDLEVBQUsrbUMsMEJBQTRCenBELEtBQUtvN0Qsd0JBRXRDejRDLEVBQVFBLEVBQVNBLEVBQVEsRUFBSSxHQUFLLEVBQUssSUFFM0MsU0FBWUQsRUFBTUMsRUFBTzNpQixLQUFLcTdELFlBQWFyN0QsS0FBS2kyRCxXQUNoRGoyRCxLQUFLdzdELFdBQVFyNEQsRUFDYm5ELEtBQUsrNkQsWUFBYyxFQUNuQi82RCxLQUFLcTdELFlBQWMsS0FDbkJyN0QsS0FBS3M3RCxnQkFBYW40RCxFQUNsQm5ELEtBQUt1N0QsZ0JBQWFwNEQsR0FRdEIyM0QsRUFBZWw3RCxVQUFVdzhELGVBQWlCLFNBQVVqQixHQUNoRG43RCxLQUFLazdELFdBQWFDLEVBQ2JBLElBQ0RuN0QsS0FBS3E3RCxZQUFjLE9BR3BCUCxFQTVNd0IsQ0E2TWpDajNDLEdBQUEsSUNoUUYsSUFBSSxHQUF3QyxXQUN4QyxJQUFJMWtCLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBeUo1QyxTQTFIaUMsU0FBVUksR0FLdkMsU0FBU2s4RCxFQUFZbDdELEdBQ2pCLElBQUliLEVBQVFOLEtBQ1JvQixFQUFVRCxHQUE0QixHQUN0Q203RCxFQUErRCxFQW1DbkUsT0FsQ0tBLEVBQWV6M0MsV0FDaEJ5M0MsRUFBZXozQyxTQUFXLE9BRTlCdmtCLEVBQVFILEVBQU9MLEtBQUtFLEtBQU1zOEQsSUFBbUJ0OEQsTUFLdkNtM0IsUUFBVSxLQUtoQjcyQixFQUFNeTNELGdCQUFhNTBELEVBS25CN0MsRUFBTWk4RCxXQUFZLEVBS2xCajhELEVBQU1rOEQsZUFBaUIsRUFLdkJsOEQsRUFBTW04RCxnQkFBbUN0NUQsSUFBdEIvQixFQUFRczdELFVBQTBCdDdELEVBQVFzN0QsVUFBWSxHQUt6RXA4RCxFQUFNMjFELGVBQWlDOXlELElBQXJCL0IsRUFBUTRoQixTQUF5QjVoQixFQUFRNGhCLFNBQVcsSUFDL0QxaUIsRUE2RVgsT0F2SEEsR0FBVSs3RCxFQUFhbDhELEdBZ0R2Qms4RCxFQUFZejhELFVBQVU4a0IsZ0JBQWtCLFNBQVUxUyxHQUM5QyxJQUFJMnFELEVBQWdCLEVBQ2hCQyxFQUFTNThELEtBQUtnbEIsZUFBZSxHQUM3QjYzQyxFQUFTNzhELEtBQUtnbEIsZUFBZSxHQUU3QjNHLEVBQVE5UCxLQUFLd2YsTUFBTTh1QyxFQUFPdDRDLFFBQVVxNEMsRUFBT3I0QyxRQUFTczRDLEVBQU92NEMsUUFBVXM0QyxFQUFPdDRDLFNBQ2hGLFFBQXdCbmhCLElBQXBCbkQsS0FBSyszRCxXQUEwQixDQUMvQixJQUFJcDFDLEVBQVF0RSxFQUFRcmUsS0FBSyszRCxXQUN6Qi8zRCxLQUFLdzhELGdCQUFrQjc1QyxHQUNsQjNpQixLQUFLdThELFdBQWFodUQsS0FBS29iLElBQUkzcEIsS0FBS3c4RCxnQkFBa0J4OEQsS0FBS3k4RCxhQUN4RHo4RCxLQUFLdThELFdBQVksR0FFckJJLEVBQWdCaDZDLEVBRXBCM2lCLEtBQUsrM0QsV0FBYTE1QyxFQUNsQixJQUFJMVQsRUFBTXFILEVBQWdCckgsSUFDdEIrWCxFQUFPL1gsRUFBSTI2QixVQUNmLEdBQUk1aUIsRUFBSzhtQyxpQkFBaUJweUMsV0FBYSttQyxHQUF2QyxDQU1BLElBQUkyUyxFQUFtQm5tRCxFQUFJcXJDLGNBQWNuUSx3QkFDckN6aEIsR0FBVyxRQUFxQnBrQixLQUFLZ2xCLGdCQUN6Q1osRUFBUyxJQUFNMHNDLEVBQWlCNThCLEtBQ2hDOVAsRUFBUyxJQUFNMHNDLEVBQWlCL3FCLElBQ2hDL2xDLEtBQUttM0IsUUFBVXhzQixFQUFJZzdCLCtCQUErQnZoQixHQUU5Q3BrQixLQUFLdThELFlBQ0w1eEQsRUFBSTRzQixTQUNKN1UsRUFBSzZwQyx1QkFBdUJvUSxFQUFlMzhELEtBQUttM0IsWUFReERrbEMsRUFBWXo4RCxVQUFVZ2xCLGNBQWdCLFNBQVU1UyxHQUM1QyxRQUFJaFMsS0FBS2dsQixlQUFldGpCLE9BQVMsSUFDbkJzUSxFQUFnQnJILElBQ1gyNkIsVUFDVnluQixlQUFlL3NELEtBQUtpMkQsV0FDbEIsS0FXZm9HLEVBQVl6OEQsVUFBVTZrQixnQkFBa0IsU0FBVXpTLEdBQzlDLEdBQUloUyxLQUFLZ2xCLGVBQWV0akIsUUFBVSxFQUFHLENBQ2pDLElBQUlpSixFQUFNcUgsRUFBZ0JySCxJQVExQixPQVBBM0ssS0FBS20zQixRQUFVLEtBQ2ZuM0IsS0FBSyszRCxnQkFBYTUwRCxFQUNsQm5ELEtBQUt1OEQsV0FBWSxFQUNqQnY4RCxLQUFLdzhELGVBQWlCLEVBQ2pCeDhELEtBQUs4a0Isd0JBQ05uYSxFQUFJMjZCLFVBQVV3bkIsb0JBRVgsRUFHUCxPQUFPLEdBR1J1UCxFQXhIcUIsQ0F5SDlCeEUsR0FBQSxHQ3hKRixJQUFJLEdBQXdDLFdBQ3hDLElBQUkxNEQsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0FxSTVDLFNBekcrQixTQUFVSSxHQUtyQyxTQUFTMjhELEVBQVUzN0QsR0FDZixJQUFJYixFQUFRTixLQUNSb0IsRUFBVUQsR0FBNEIsR0FDdENtN0QsRUFBK0QsRUF5Qm5FLE9BeEJLQSxFQUFlejNDLFdBQ2hCeTNDLEVBQWV6M0MsU0FBVyxPQUU5QnZrQixFQUFRSCxFQUFPTCxLQUFLRSxLQUFNczhELElBQW1CdDhELE1BS3ZDbTNCLFFBQVUsS0FLaEI3MkIsRUFBTTIxRCxlQUFpQzl5RCxJQUFyQi9CLEVBQVE0aEIsU0FBeUI1aEIsRUFBUTRoQixTQUFXLElBS3RFMWlCLEVBQU15OEQsbUJBQWdCNTVELEVBS3RCN0MsRUFBTTA4RCxnQkFBa0IsRUFDakIxOEQsRUFzRVgsT0F0R0EsR0FBVXc4RCxFQUFXMzhELEdBc0NyQjI4RCxFQUFVbDlELFVBQVU4a0IsZ0JBQWtCLFNBQVUxUyxHQUM1QyxJQUFJaXJELEVBQWEsRUFDYkwsRUFBUzU4RCxLQUFLZ2xCLGVBQWUsR0FDN0I2M0MsRUFBUzc4RCxLQUFLZ2xCLGVBQWUsR0FDN0IxUSxFQUFLc29ELEVBQU90NEMsUUFBVXU0QyxFQUFPdjRDLFFBQzdCL1AsRUFBS3FvRCxFQUFPcjRDLFFBQVVzNEMsRUFBT3Q0QyxRQUU3Qm96QyxFQUFXcHBELEtBQUt5ZixLQUFLMVosRUFBS0EsRUFBS0MsRUFBS0EsUUFDYnBSLElBQXZCbkQsS0FBSys4RCxnQkFDTEUsRUFBYWo5RCxLQUFLKzhELGNBQWdCcEYsR0FFdEMzM0QsS0FBSys4RCxjQUFnQnBGLEVBQ3JCLElBQUlodEQsRUFBTXFILEVBQWdCckgsSUFDdEIrWCxFQUFPL1gsRUFBSTI2QixVQUNHLEdBQWQyM0IsSUFDQWo5RCxLQUFLZzlELGdCQUFrQkMsR0FHM0IsSUFBSW5NLEVBQW1Cbm1ELEVBQUlxckMsY0FBY25RLHdCQUNyQ3poQixHQUFXLFFBQXFCcGtCLEtBQUtnbEIsZ0JBQ3pDWixFQUFTLElBQU0wc0MsRUFBaUI1OEIsS0FDaEM5UCxFQUFTLElBQU0wc0MsRUFBaUIvcUIsSUFDaEMvbEMsS0FBS20zQixRQUFVeHNCLEVBQUlnN0IsK0JBQStCdmhCLEdBRWxEelosRUFBSTRzQixTQUNKN1UsRUFBS3lwQyx5QkFBeUI4USxFQUFZajlELEtBQUttM0IsVUFPbkQybEMsRUFBVWw5RCxVQUFVZ2xCLGNBQWdCLFNBQVU1UyxHQUMxQyxHQUFJaFMsS0FBS2dsQixlQUFldGpCLE9BQVMsRUFBRyxDQUNoQyxJQUNJZ2hCLEVBRE0xUSxFQUFnQnJILElBQ1gyNkIsVUFDWDU5QixFQUFZMUgsS0FBS2c5RCxnQkFBa0IsRUFBSSxHQUFLLEVBRWhELE9BREF0NkMsRUFBS3FxQyxlQUFlL3NELEtBQUtpMkQsVUFBV3Z1RCxJQUM3QixFQUdQLE9BQU8sR0FRZm8xRCxFQUFVbDlELFVBQVU2a0IsZ0JBQWtCLFNBQVV6UyxHQUM1QyxHQUFJaFMsS0FBS2dsQixlQUFldGpCLFFBQVUsRUFBRyxDQUNqQyxJQUFJaUosRUFBTXFILEVBQWdCckgsSUFPMUIsT0FOQTNLLEtBQUttM0IsUUFBVSxLQUNmbjNCLEtBQUsrOEQsbUJBQWdCNTVELEVBQ3JCbkQsS0FBS2c5RCxnQkFBa0IsRUFDbEJoOUQsS0FBSzhrQix3QkFDTm5hLEVBQUkyNkIsVUFBVXduQixvQkFFWCxFQUdQLE9BQU8sR0FHUmdRLEVBdkdtQixDQXdHNUJqRixHQUFBLEdDcElGLElBQUksR0FBd0MsV0FDeEMsSUFBSTE0RCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQTRGNUMsU0F4QnlCLFNBQVVJLEdBSy9CLFNBQVNzMkMsRUFBSXIxQyxHQVlULE9BVkFBLEdBQVUsUUFBTyxHQUFJQSxJQUNScXNELFdBQ1Ryc0QsRUFBUXFzRCxTQy9CYixTQUFrQnRzRCxHQUNyQixJQUFJQyxFQUFzQyxHQUN0Q3FzRCxFQUFXLElBQUl4c0QsRUFBQSxFQWFuQixZQVptQ2tDLElBQWpCL0IsRUFBUTJ3QyxNQUFxQjN3QyxFQUFRMndDLE9BRW5EMGIsRUFBU3ZyRCxLQUFLLElBQUksR0FBS2QsRUFBUTg3RCxvQkFFSS81RCxJQUFuQi9CLEVBQVFnZCxRQUF1QmhkLEVBQVFnZCxTQUV2RHF2QyxFQUFTdnJELEtBQUssSUFBSSxHQUFPZCxFQUFRKzdELHNCQUVZaDZELElBQXhCL0IsRUFBUWc4RCxhQUE0Qmg4RCxFQUFRZzhELGNBRWpFM1AsRUFBU3ZyRCxLQUFLLElBQUksR0FBWWQsRUFBUWk4RCxxQkFFbkM1UCxFRGdCb0IsSUFFbEJyc0QsRUFBUW1uQixlQUNUbm5CLEVBQVFtbkIsYUVBYixTQUFrQnBuQixHQUNyQixJQUFJQyxFRkQrQyxDQUN2Q28yRCxhQUFhLElFQWlCLEdBQ3RDanZDLEVBQWUsSUFBSXRuQixFQUFBLEVBQ25CbTJELEVBQVUsSUFBSSxJQUFTLEtBQU8sSUFBTSxLQW9EeEMsWUFuRHdEajBELElBQS9CL0IsRUFBUWs4RCxvQkFDM0JsOEQsRUFBUWs4RCxxQkFHVi8wQyxFQUFhcm1CLEtBQUssSUFBSSxVQUV3QmlCLElBQTVCL0IsRUFBUW04RCxpQkFBZ0NuOEQsRUFBUW04RCxrQkFFbEVoMUMsRUFBYXJtQixLQUFLLElBQUksR0FBZ0IsQ0FDbEN5Z0IsTUFBT3ZoQixFQUFRbzhELFVBQ2Z4NkMsU0FBVTVoQixFQUFRcThELHNCQUdRdDZELElBQXBCL0IsRUFBUXM4RCxTQUF3QnQ4RCxFQUFRczhELFVBRWxEbjFDLEVBQWFybUIsS0FBSyxJQUFJLEdBQVEsQ0FDMUJzMUQsWUFBYXAyRCxFQUFRbzJELFlBQ3JCSixRQUFTQSxXQUd5QmowRCxJQUF4Qi9CLEVBQVF1OEQsYUFBNEJ2OEQsRUFBUXU4RCxjQUUxRHAxQyxFQUFhcm1CLEtBQUssSUFBSSxVQUVZaUIsSUFBdEIvQixFQUFRdzhELFdBQTBCeDhELEVBQVF3OEQsWUFFdERyMUMsRUFBYXJtQixLQUFLLElBQUksR0FBVSxDQUM1QjhnQixTQUFVNWhCLEVBQVFxOEQsc0JBR1V0NkQsSUFBckIvQixFQUFReThELFVBQXlCejhELEVBQVF5OEQsWUFFcER0MUMsRUFBYXJtQixLQUFLLElBQUksSUFDdEJxbUIsRUFBYXJtQixLQUFLLElBQUksR0FBYSxDQUMvQnlnQixNQUFPdmhCLEVBQVFvOEQsVUFDZng2QyxTQUFVNWhCLEVBQVFxOEQsdUJBR3NCdDZELElBQTNCL0IsRUFBUTA4RCxnQkFBK0IxOEQsRUFBUTA4RCxpQkFFaEV2MUMsRUFBYXJtQixLQUFLLElBQUksR0FBZSxDQUNqQ3MxRCxZQUFhcDJELEVBQVFvMkQsWUFDckJ4MEMsU0FBVTVoQixFQUFRcThELHNCQUdvQnQ2RCxJQUExQi9CLEVBQVEyOEQsZUFBOEIzOEQsRUFBUTI4RCxnQkFFOUR4MUMsRUFBYXJtQixLQUFLLElBQUksR0FBUyxDQUMzQjhnQixTQUFVNWhCLEVBQVFxOEQsZ0JBR25CbDFDLEVGdkR3QixJQUluQnBvQixFQUFPTCxLQUFLRSxLQUFNb0IsSUFBWXBCLEtBTTFDLE9BckJBLEdBQVV5MkMsRUFBS3QyQyxHQWtCZnMyQyxFQUFJNzJDLFVBQVVzekMsZUFBaUIsV0FDM0IsT0FBTyxJQUFJOHFCLEVBQXFCaCtELE9BRTdCeTJDLEVBdEJhLENBdUJ0QixJLGVHckZGLFNBQ2EsVUFEYixHQUVnQyx5QkNSaEMsSUFBSSxHQUF3QyxXQUN4QyxJQUFJdDNDLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBa0g1QyxTQXhEbUMsU0FBVUksR0FLekMsU0FBUzg5RCxFQUFjOThELEdBQ25CLElBQUliLEVBQVFOLEtBQ1JvQixFQUFVRCxHQUE0QixHQUN0Qzh3QyxHQUFjLFFBQU8sR0FBSTd3QyxHQVE3QixjQVBPNndDLEVBQVlpc0IsZUFDWmpzQixFQUFZa3NCLHdCQUNuQjc5RCxFQUFRSCxFQUFPTCxLQUFLRSxLQUFNaXlDLElBQWdCanlDLE1BQ3BDbytELGdCQUErQmo3RCxJQUFwQi9CLEVBQVE4OEQsUUFBd0I5OEQsRUFBUTg4RCxRQUFVLEdBQ25FNTlELEVBQU0rOUQsK0JBQTZEbDdELElBQW5DL0IsRUFBUSs4RCx3QkFDbEMvOEQsRUFBUSs4RCx3QkFFUDc5RCxFQXNDWCxPQXJEQSxHQUFVMjlELEVBQWU5OUQsR0F1QnpCODlELEVBQWNyK0QsVUFBVTArRCxXQUFhLFdBQ2pDLE9BQThCdCtELEtBQUt3QyxJQUFJKzdELEtBUTNDTixFQUFjcitELFVBQVV3K0QsV0FBYSxTQUFVRixHQUMzQ2wrRCxLQUFLb0QsSUFBSW03RCxHQUFzQkwsSUFRbkNELEVBQWNyK0QsVUFBVTQrRCwwQkFBNEIsV0FDaEQsT0FBK0J4K0QsS0FBS3dDLElBQUkrN0QsS0FRNUNOLEVBQWNyK0QsVUFBVXkrRCwwQkFBNEIsU0FBVUYsR0FDMURuK0QsS0FBS29ELElBQUltN0QsR0FBeUNKLElBRS9DRixFQXREdUIsQ0F1RGhDLEcsMEJDakhFLEdBQXdDLFdBQ3hDLElBQUk5K0QsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0F1TDVDLFNBL0ptQyxTQUFVSSxHQUt6QyxTQUFTcytELEVBQWM5MkMsR0FDbkIsSUFBSXJuQixFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQVlqQyxPQVZBTSxFQUFNbytELHdCQUEwQnArRCxFQUFNcStELG1CQUFtQjV2RCxLQUFLek8sR0FLOURBLEVBQU1zK0QsT0FBU2ozQyxFQUlmcm5CLEVBQU11K0QsdUJBQXlCLEtBQ3hCditELEVBMklYLE9BNUpBLEdBQVVtK0QsRUFBZXQrRCxHQXlCekJzK0QsRUFBYzcrRCxVQUFVbW9CLFlBQWMsU0FBVWdCLEdBQzVDLE9BQU8sV0FRWDAxQyxFQUFjNytELFVBQVVpekMsYUFBZSxTQUFVRixHQUM3QyxPQUFPLFdBU1g4ckIsRUFBYzcrRCxVQUFVa3pDLFlBQWMsU0FBVUgsRUFBWWxyQyxHQUN4RCxPQUFPLFdBUVhnM0QsRUFBYzcrRCxVQUFVay9ELG1CQUFxQixTQUFVQyxFQUFPaHRCLEVBQU11SyxHQUMzRHlpQixFQUFNaHRCLEtBQ1BndEIsRUFBTWh0QixHQUFRLElBRWxCZ3RCLEVBQU1odEIsR0FBTXVLLEVBQUswaUIsVUFBVTcxRCxZQUFjbXpDLEdBWTdDbWlCLEVBQWM3K0QsVUFBVXEvRCx1QkFBeUIsU0FBVS80RCxFQUFRMlQsRUFBWWtsRCxHQUMzRSxPQU9BLFNBQVVodEIsRUFBTW10QixHQUNaLElBQUkvb0QsRUFBV25XLEtBQUs4K0QsbUJBQW1CL3ZELEtBQUsvTyxLQUFNKytELEVBQU9odEIsR0FDekQsT0FBTzdyQyxFQUFPaTVELGtCQUFrQnRsRCxFQUFZazRCLEVBQU1tdEIsRUFBVy9vRCxJQUMvRHBILEtBQUsvTyxPQVlYeStELEVBQWM3K0QsVUFBVXUwQywyQkFBNkIsU0FBVTEvQixFQUFZaytCLEVBQVl4ckIsRUFBY2hSLEVBQVV3K0IsS0FZL0c4cEIsRUFBYzcrRCxVQUFVNDJDLGVBQWlCLFNBQVV6dEIsRUFBTzRwQixFQUFZeHJCLEdBQ2xFLE9BQU8sV0FLWHMzQyxFQUFjNytELFVBQVVxb0IsU0FBVyxXQUMvQixPQUFPam9CLEtBQUs0K0QsUUFNaEJILEVBQWM3K0QsVUFBVWd6RCxtQkFBcUIsYUFNN0M2TCxFQUFjNytELFVBQVUrK0QsbUJBQXFCLFNBQVUxdEQsR0FDT0EsRUFBWSxPQUM1RHdoQyxhQUFlelosR0FBQSxVQUNyQmg1QixLQUFLby9ELDJCQVViWCxFQUFjNytELFVBQVV5L0QsVUFBWSxTQUFVcGlDLEdBQzFDLElBQUlxaUMsRUFBYXJpQyxFQUFNd1YsV0FRdkIsT0FQSTZzQixHQUFjdG1DLEdBQUEsVUFBcUJzbUMsR0FBY3RtQyxHQUFBLFNBQ2pEaUUsRUFBTTd0QixpQkFBaUJxekIsRUFBQSxTQUFrQnppQyxLQUFLMCtELHlCQUU5Q1ksR0FBY3RtQyxHQUFBLFNBQ2RpRSxFQUFNN0QsT0FDTmttQyxFQUFhcmlDLEVBQU13VixZQUVoQjZzQixHQUFjdG1DLEdBQUEsVUFLekJ5bEMsRUFBYzcrRCxVQUFVdy9ELHdCQUEwQixXQUM5QyxJQUFJejNDLEVBQVEzbkIsS0FBS2lvQixXQUNiTixFQUFNb3BCLGNBQWdCcHBCLEVBQU1tcEIsa0JBQW9CLEdBQ2hEbnBCLEVBQU1uaEIsV0FHUGk0RCxFQTdKdUIsQ0E4SmhDbjRELEdBQUEsR0N0TEYsSUFBSSxHQUF3QyxXQUN4QyxJQUFJbkgsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0FxUjVDLFNBMVB5QyxTQUFVSSxHQUsvQyxTQUFTby9ELEVBQW9CNTNDLEdBQ3pCLElBQUlybkIsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTTJuQixJQUFVM25CLEtBd0N4QyxPQW5DQU0sRUFBTWlrQyxVQUFZLEtBS2xCamtDLEVBQU1rL0QsbUJBT05sL0QsRUFBTW0vRCxlQUFnQixVQU90Qm4vRCxFQUFNby9ELGdCQUFpQixVQU92QnAvRCxFQUFNbTFDLHVCQUF3QixVQUk5Qm4xQyxFQUFNbzBCLFFBQVUsS0FJaEJwMEIsRUFBTXEvRCxpQkFBa0IsRUFDakJyL0QsRUEwTVgsT0F2UEEsR0FBVWkvRCxFQUFxQnAvRCxHQXFEL0JvL0QsRUFBb0IzL0QsVUFBVWdnRSxhQUFlLFNBQVVuNEQsRUFBUXFYLEVBQVdnVyxHQUN0RSxJQUNJeVAsRUFBVzdQLEVBRFhtckMsRUFBaUI3L0QsS0FBS2lvQixXQUFXdW9CLGVBd0JyQyxHQXRCSS9vQyxHQUN5QixLQUF6QkEsRUFBT3FDLE1BQU1nckIsU0FDYnJ0QixFQUFPcTdCLFlBQWMrOEIsSUFDakJ2ekQsRUFBUzdFLEVBQU9xNEQsNkJBQ0VDLG9CQUNsQnJyQyxFQUFVcG9CLEVBQU9LLFdBQVcsUUFHaEMrbkIsR0FDMEIsSUFBekJBLEVBQVFwb0IsT0FBT0csT0FDWmlvQixFQUFRcG9CLE9BQU94QyxNQUFNZ1YsWUFBY0EsRUFNbEM5ZSxLQUFLMi9ELGtCQUVWMy9ELEtBQUt1a0MsVUFBWSxLQUNqQnZrQyxLQUFLMDBCLFFBQVUsS0FDZjEwQixLQUFLMi9ELGlCQUFrQixJQVJ2QjMvRCxLQUFLdWtDLFVBQVk5OEIsRUFDakJ6SCxLQUFLMDBCLFFBQVVBLEVBQ2YxMEIsS0FBSzIvRCxpQkFBa0IsSUFRdEIzL0QsS0FBS3VrQyxVQUFXLEVBQ2pCQSxFQUFZMzZCLFNBQVNDLGNBQWMsUUFDekJpNUIsVUFBWSs4QixFQUN0QixJQUFJLzFELEVBQVF5NkIsRUFBVXo2QixNQUN0QkEsRUFBTW1xQixTQUFXLFdBQ2pCbnFCLEVBQU0yQyxNQUFRLE9BQ2QzQyxFQUFNNEMsT0FBUyxPQUVmLElBQUlKLEdBREpvb0IsR0FBVSxXQUNXcG9CLE9BQ3JCaTRCLEVBQVV2NkIsWUFBWXNDLElBQ3RCeEMsRUFBUXdDLEVBQU94QyxPQUNUbXFCLFNBQVcsV0FDakJucUIsRUFBTW9xQixLQUFPLElBQ2JwcUIsRUFBTWsyRCxnQkFBa0IsV0FDeEJoZ0UsS0FBS3VrQyxVQUFZQSxFQUNqQnZrQyxLQUFLMDBCLFFBQVVBLElBU3ZCNnFDLEVBQW9CMy9ELFVBQVVxZ0UsS0FBTyxTQUFVdnJDLEVBQVNpZSxFQUFZOStCLEdBQ2hFLElBQUk2a0IsRUFBYWlhLEVBQVdqYSxXQUN4QnduQyxFQUFhdnRCLEVBQVc5bUMsS0FBSyxHQUFLNnNCLEVBQWMsRUFDaER5bkMsRUFBY3h0QixFQUFXOW1DLEtBQUssR0FBSzZzQixFQUFjLEVBQ2pEdGhCLEVBQVd1N0IsRUFBV2IsVUFBVTE2QixTQUNoQ2dwRCxHQUFVLFFBQVd2c0QsR0FDckJ3c0QsR0FBVyxRQUFZeHNELEdBQ3ZCeXNELEdBQWMsUUFBZXpzRCxHQUM3QjBzRCxHQUFhLFFBQWMxc0QsSUFDL0IsUUFBZTgrQixFQUFXc0IsMkJBQTRCbXNCLElBQ3RELFFBQWV6dEIsRUFBV3NCLDJCQUE0Qm9zQixJQUN0RCxRQUFlMXRCLEVBQVdzQiwyQkFBNEJxc0IsSUFDdEQsUUFBZTN0QixFQUFXc0IsMkJBQTRCc3NCLEdBQ3REN3JDLEVBQVFVLFFBQ1IsUUFBZVYsR0FBVXRkLEVBQVU4b0QsRUFBV0MsR0FDOUN6ckMsRUFBUTRGLFlBQ1I1RixFQUFROHJDLE9BQU9KLEVBQVEsR0FBSzFuQyxFQUFZMG5DLEVBQVEsR0FBSzFuQyxHQUNyRGhFLEVBQVE4RixPQUFPNmxDLEVBQVMsR0FBSzNuQyxFQUFZMm5DLEVBQVMsR0FBSzNuQyxHQUN2RGhFLEVBQVE4RixPQUFPOGxDLEVBQVksR0FBSzVuQyxFQUFZNG5DLEVBQVksR0FBSzVuQyxHQUM3RGhFLEVBQVE4RixPQUFPK2xDLEVBQVcsR0FBSzduQyxFQUFZNm5DLEVBQVcsR0FBSzduQyxHQUMzRGhFLEVBQVF1ckMsUUFDUixRQUFldnJDLEVBQVN0ZCxFQUFVOG9ELEVBQVdDLElBUWpEWixFQUFvQjMvRCxVQUFVNmdFLGNBQWdCLFNBQVUvckMsRUFBU2llLEVBQVk5K0IsR0FDekUsSUFBSXVzRCxHQUFVLFFBQVd2c0QsR0FDckJ3c0QsR0FBVyxRQUFZeHNELEdBQ3ZCeXNELEdBQWMsUUFBZXpzRCxHQUM3QjBzRCxHQUFhLFFBQWMxc0QsSUFDL0IsUUFBZTgrQixFQUFXc0IsMkJBQTRCbXNCLElBQ3RELFFBQWV6dEIsRUFBV3NCLDJCQUE0Qm9zQixJQUN0RCxRQUFlMXRCLEVBQVdzQiwyQkFBNEJxc0IsSUFDdEQsUUFBZTN0QixFQUFXc0IsMkJBQTRCc3NCLEdBQ3RELElBQUlHLEVBQVcxZ0UsS0FBS3kxQyx1QkFDcEIsUUFBZWlyQixFQUFVTixJQUN6QixRQUFlTSxFQUFVTCxJQUN6QixRQUFlSyxFQUFVSixJQUN6QixRQUFlSSxFQUFVSCxHQUN6QjdyQyxFQUFRVSxPQUNSVixFQUFRNEYsWUFDUjVGLEVBQVE4ckMsT0FBT2p5RCxLQUFLZzRCLE1BQU02NUIsRUFBUSxJQUFLN3hELEtBQUtnNEIsTUFBTTY1QixFQUFRLEtBQzFEMXJDLEVBQVE4RixPQUFPanNCLEtBQUtnNEIsTUFBTTg1QixFQUFTLElBQUs5eEQsS0FBS2c0QixNQUFNODVCLEVBQVMsS0FDNUQzckMsRUFBUThGLE9BQU9qc0IsS0FBS2c0QixNQUFNKzVCLEVBQVksSUFBSy94RCxLQUFLZzRCLE1BQU0rNUIsRUFBWSxLQUNsRTVyQyxFQUFROEYsT0FBT2pzQixLQUFLZzRCLE1BQU1nNkIsRUFBVyxJQUFLaHlELEtBQUtnNEIsTUFBTWc2QixFQUFXLEtBQ2hFN3JDLEVBQVF1ckMsUUFRWlYsRUFBb0IzL0QsVUFBVStnRSxxQkFBdUIsU0FBVS8vRCxFQUFNOHpCLEVBQVNpZSxHQUMxRSxJQUFJaHJCLEVBQVEzbkIsS0FBS2lvQixXQUNqQixHQUFJTixFQUFNbFcsWUFBWTdRLEdBQU8sQ0FDekIsSUFBSTJrQixFQUFVLElBQUksRUFBWTNrQixFQUFNWixLQUFLeTFDLHNCQUF1QjlDLEVBQVlqZSxHQUM1RS9NLEVBQU0va0IsY0FBYzJpQixLQVE1Qmc2QyxFQUFvQjMvRCxVQUFVZ2hFLFVBQVksU0FBVWxzQyxFQUFTaWUsR0FDekQzeUMsS0FBSzJnRSxxQjNENUxFLFkyRDRMOENqc0MsRUFBU2llLElBT2xFNHNCLEVBQW9CMy9ELFVBQVVpaEUsV0FBYSxTQUFVbnNDLEVBQVNpZSxHQUMxRDN5QyxLQUFLMmdFLHFCM0Q5TEcsYTJEOEw4Q2pzQyxFQUFTaWUsSUFjbkU0c0IsRUFBb0IzL0QsVUFBVWtoRSxtQkFBcUIsU0FBVTVwRCxFQUFRQyxFQUFZQyxFQUFVc2hCLEVBQVlqc0IsRUFBT0MsRUFBUWlvQixHQUNsSCxJQUFJdUssRUFBTXp5QixFQUFRLEVBQ2QweUIsRUFBTXp5QixFQUFTLEVBQ2Y4UixFQUFLa2EsRUFBYXZoQixFQUNsQnFKLEdBQU1oQyxFQUNONGdCLEdBQU9sb0IsRUFBTyxHQUFLeWQsRUFDbkIwSyxHQUFPbm9CLEVBQU8sR0FDbEIsT0FBTyxRQUFpQmxYLEtBQUt5L0QsY0FBZXZnQyxFQUFLQyxFQUFLM2dCLEVBQUlnQyxHQUFLcEosRUFBVWdvQixFQUFLQyxJQVVsRmtnQyxFQUFvQjMvRCxVQUFVNDJDLGVBQWlCLFNBQVV6dEIsRUFBTzRwQixFQUFZeHJCLEdBQ3hFLElBV0lwZixFQVhBZzVELEdBQWMsUUFBZS9nRSxLQUFLeTFDLHNCQUF1QjFzQixFQUFNdGUsU0FDL0RpcUIsRUFBVTEwQixLQUFLMDBCLFFBRWZzc0MsRUFEUWhoRSxLQUFLaW9CLFdBQ09sTyxZQUN4QixHQUFJaW5ELEVBQWEsQ0FDYixJQUFJQyxHQUFtQixRQUFldHVCLEVBQVd1QiwyQkFBNEJuckIsRUFBTXRlLFNBRW5GLEtBQUssUUFBbUJ1MkQsRUFBYUMsR0FDakMsT0FBTyxLQUlmLElBQ0ksSUFBSTdzRCxFQUFJN0YsS0FBS2c0QixNQUFNdzZCLEVBQVksSUFDM0Ixc0QsRUFBSTlGLEtBQUtnNEIsTUFBTXc2QixFQUFZLElBQzNCRyxFQUFZdDNELFNBQVNDLGNBQWMsVUFDbkNzM0QsRUFBYUQsRUFBVXYwRCxXQUFXLE1BQ3RDdTBELEVBQVV6MEQsTUFBUSxFQUNsQnkwRCxFQUFVeDBELE9BQVMsRUFDbkJ5MEQsRUFBV0MsVUFBVSxFQUFHLEVBQUcsRUFBRyxHQUM5QkQsRUFBV3pyQyxVQUFVaEIsRUFBUXBvQixPQUFROEgsRUFBR0MsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDMUR0TSxFQUFPbzVELEVBQVdFLGFBQWEsRUFBRyxFQUFHLEVBQUcsR0FBR3Q1RCxLQUUvQyxNQUFPc21DLEdBQ0gsTUFBaUIsa0JBQWJBLEVBQUk3dEMsS0FFRyxJQUFJOGdFLFdBRVJ2NUQsRUFFWCxPQUFnQixJQUFaQSxFQUFLLEdBQ0UsS0FFSkEsR0FFSnczRCxFQXhQNkIsQ0F5UHRDLElDN1FGLElBQUlnQyxHQUEyQixXQU8zQixTQUFTQSxFQUFVeHNELEVBQU1FLEVBQU1ELEVBQU1FLEdBSWpDbFYsS0FBSytVLEtBQU9BLEVBSVovVSxLQUFLaVYsS0FBT0EsRUFJWmpWLEtBQUtnVixLQUFPQSxFQUlaaFYsS0FBS2tWLEtBQU9BLEVBa0ZoQixPQTVFQXFzRCxFQUFVM2hFLFVBQVU2UyxTQUFXLFNBQVV1c0QsR0FDckMsT0FBT2gvRCxLQUFLMFUsV0FBV3NxRCxFQUFVLEdBQUlBLEVBQVUsS0FNbkR1QyxFQUFVM2hFLFVBQVU0aEUsa0JBQW9CLFNBQVV0QyxHQUM5QyxPQUFRbC9ELEtBQUsrVSxNQUFRbXFELEVBQVVucUQsTUFDM0JtcUQsRUFBVWpxRCxNQUFRalYsS0FBS2lWLE1BQ3ZCalYsS0FBS2dWLE1BQVFrcUQsRUFBVWxxRCxNQUN2QmtxRCxFQUFVaHFELE1BQVFsVixLQUFLa1YsTUFPL0Jxc0QsRUFBVTNoRSxVQUFVOFUsV0FBYSxTQUFVTixFQUFHQyxHQUMxQyxPQUFPclUsS0FBSytVLE1BQVFYLEdBQUtBLEdBQUtwVSxLQUFLaVYsTUFBUWpWLEtBQUtnVixNQUFRWCxHQUFLQSxHQUFLclUsS0FBS2tWLE1BTTNFcXNELEVBQVUzaEUsVUFBVXFJLE9BQVMsU0FBVWkzRCxHQUNuQyxPQUFRbC9ELEtBQUsrVSxNQUFRbXFELEVBQVVucUQsTUFDM0IvVSxLQUFLZ1YsTUFBUWtxRCxFQUFVbHFELE1BQ3ZCaFYsS0FBS2lWLE1BQVFpcUQsRUFBVWpxRCxNQUN2QmpWLEtBQUtrVixNQUFRZ3FELEVBQVVocUQsTUFLL0Jxc0QsRUFBVTNoRSxVQUFVb0MsT0FBUyxTQUFVazlELEdBQy9CQSxFQUFVbnFELEtBQU8vVSxLQUFLK1UsT0FDdEIvVSxLQUFLK1UsS0FBT21xRCxFQUFVbnFELE1BRXRCbXFELEVBQVVqcUQsS0FBT2pWLEtBQUtpVixPQUN0QmpWLEtBQUtpVixLQUFPaXFELEVBQVVqcUQsTUFFdEJpcUQsRUFBVWxxRCxLQUFPaFYsS0FBS2dWLE9BQ3RCaFYsS0FBS2dWLEtBQU9rcUQsRUFBVWxxRCxNQUV0QmtxRCxFQUFVaHFELEtBQU9sVixLQUFLa1YsT0FDdEJsVixLQUFLa1YsS0FBT2dxRCxFQUFVaHFELE9BTTlCcXNELEVBQVUzaEUsVUFBVWlYLFVBQVksV0FDNUIsT0FBTzdXLEtBQUtrVixLQUFPbFYsS0FBS2dWLEtBQU8sR0FLbkN1c0QsRUFBVTNoRSxVQUFVczVCLFFBQVUsV0FDMUIsTUFBTyxDQUFDbDVCLEtBQUs0VyxXQUFZNVcsS0FBSzZXLGNBS2xDMHFELEVBQVUzaEUsVUFBVWdYLFNBQVcsV0FDM0IsT0FBTzVXLEtBQUtpVixLQUFPalYsS0FBSytVLEtBQU8sR0FNbkN3c0QsRUFBVTNoRSxVQUFVMlksV0FBYSxTQUFVMm1ELEdBQ3ZDLE9BQVFsL0QsS0FBSytVLE1BQVFtcUQsRUFBVWpxRCxNQUMzQmpWLEtBQUtpVixNQUFRaXFELEVBQVVucUQsTUFDdkIvVSxLQUFLZ1YsTUFBUWtxRCxFQUFVaHFELE1BQ3ZCbFYsS0FBS2tWLE1BQVFncUQsRUFBVWxxRCxNQUV4QnVzRCxFQXpHbUIsR0FtSHZCLFNBQVNsc0QsR0FBZU4sRUFBTUUsRUFBTUQsRUFBTUUsRUFBTWdxRCxHQUNuRCxZQUFrQi83RCxJQUFkKzdELEdBQ0FBLEVBQVVucUQsS0FBT0EsRUFDakJtcUQsRUFBVWpxRCxLQUFPQSxFQUNqQmlxRCxFQUFVbHFELEtBQU9BLEVBQ2pCa3FELEVBQVVocUQsS0FBT0EsRUFDVmdxRCxHQUdBLElBQUlxQyxHQUFVeHNELEVBQU1FLEVBQU1ELEVBQU1FLEdBRy9DLFlDdElBLElBQUksR0FBd0MsV0FDeEMsSUFBSS9WLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBK0J4QzBoRSxHQUF5QyxTQUFVdGhFLEdBS25ELFNBQVNzaEUsRUFBd0JDLEdBQzdCLElBQUlwaEUsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTTBoRSxJQUFjMWhFLEtBOEM1QyxPQXpDQU0sRUFBTXFoRSxlQUFnQixFQUt0QnJoRSxFQUFNc2hFLGdCQUFrQixLQUt4QnRoRSxFQUFNdWhFLG1CQUtOdmhFLEVBQU13aEUsbUJBQXFCLEtBSzNCeGhFLEVBQU15aEUsaUJBS056aEUsRUFBTTBoRSxjQUFnQixHQUt0QjFoRSxFQUFNMmhFLFdBQVksRUFLbEIzaEUsRUFBTTRoRSxXQUFZLFVBS2xCNWhFLEVBQU02aEUsY0FBZ0IsSUFBSSxHQUFVLEVBQUcsRUFBRyxFQUFHLEdBQ3RDN2hFLEVBMlpYLE9BOWNBLEdBQVVtaEUsRUFBeUJ0aEUsR0EwRG5Dc2hFLEVBQXdCN2hFLFVBQVV3aUUsZUFBaUIsU0FBVTlsQixHQUN6RCxJQUFJb2xCLEVBQVkxaEUsS0FBS2lvQixXQUNqQm82QyxFQUFZL2xCLEVBQUs3SixXQUNqQjByQixFQUF5QnVELEVBQVVsRCw0QkFDdkMsTzlDckZJLEc4Q3FGSTZELEc5Qy9FTCxHOENnRkNBLEc5Q2pGRCxHOENrRkVBLElBQWlDbEUsR0FTMUNzRCxFQUF3QjdoRSxVQUFVMGlFLFFBQVUsU0FBVTljLEVBQUdweEMsRUFBR0MsRUFBR3MrQixHQUMzRCxJQUFJamEsRUFBYWlhLEVBQVdqYSxXQUN4QjdlLEVBQWE4NEIsRUFBV2IsVUFBVWo0QixXQUNsQzZuRCxFQUFZMWhFLEtBQUtpb0IsV0FFakJxMEIsRUFEYW9sQixFQUFVbHZCLFlBQ0w4dkIsUUFBUTljLEVBQUdweEMsRUFBR0MsRUFBR3FrQixFQUFZN2UsR0FjbkQsTzlDOUdHLEc4Q2lHQ3lpQyxFQUFLN0osYUFDQWl2QixFQUFVbEQsNEJBSU5rRCxFQUFVcEQsYUFBZSxJQUU5QnQrRCxLQUFLaWlFLFdBQVksR0FKakIzbEIsRUFBS2ltQixTOUN6R1QsSThDZ0hDdmlFLEtBQUtvaUUsZUFBZTlsQixLQUNyQkEsRUFBT0EsRUFBS2ttQixrQkFFVGxtQixHQVFYbWxCLEVBQXdCN2hFLFVBQVVrL0QsbUJBQXFCLFNBQVVDLEVBQU9odEIsRUFBTXVLLEdBQzFFLFFBQUl0OEMsS0FBS29pRSxlQUFlOWxCLElBQ2JuOEMsRUFBT1AsVUFBVWsvRCxtQkFBbUJoL0QsS0FBS0UsS0FBTSsrRCxFQUFPaHRCLEVBQU11SyxJQVMzRW1sQixFQUF3QjdoRSxVQUFVaXpDLGFBQWUsU0FBVUYsR0FDdkQsUUFBUzN5QyxLQUFLaW9CLFdBQVd1cUIsYUFRN0JpdkIsRUFBd0I3aEUsVUFBVWt6QyxZQUFjLFNBQVVILEVBQVlsckMsR0FDbEUsSUFBSW9xQyxFQUFhYyxFQUFXSSxpQkFBaUJKLEVBQVcyRCxZQUNwRHhFLEVBQVlhLEVBQVdiLFVBQ3ZCajRCLEVBQWFpNEIsRUFBVWo0QixXQUN2QjRvRCxFQUFpQjN3QixFQUFVMzZCLFdBQzNCdXJELEVBQWE1d0IsRUFBVTU2QixPQUN2QkUsRUFBVzA2QixFQUFVMTZCLFNBQ3JCc2hCLEVBQWFpYSxFQUFXamEsV0FDeEJncEMsRUFBWTFoRSxLQUFLaW9CLFdBQ2pCMDZDLEVBQWFqQixFQUFVbHZCLFlBQ3ZCb3dCLEVBQWlCRCxFQUFXbDhELGNBQzVCd2xCLEVBQVcwMkMsRUFBV0UseUJBQXlCaHBELEdBQy9DMnJDLEVBQUl2NUIsRUFBUzYyQyxrQkFBa0JMLEVBQWdCRSxFQUFXSSxZQUMxRHRSLEVBQWlCeGxDLEVBQVN3N0IsY0FBY2pDLEdBQ3hDM3hDLEVBQVM4K0IsRUFBVzkrQixPQUNwQm10RCxFQUFjbnZCLEVBQVdoK0IsU0FBVSxTQUFlZytCLEVBQVdoK0IsT0FBUWdHLEdBQ3JFbW5ELElBQ0FudEQsR0FBUyxRQUFnQkEsR0FBUSxTQUFlZytCLEVBQVdoK0IsT0FBUWdHLEtBRXZFLElBQUltcEQsRUFBaUJMLEVBQVdNLGtCQUFrQnZxQyxHQUU5Q2pzQixFQUFROEIsS0FBS2c0QixNQUFNb00sRUFBVzltQyxLQUFLLEdBQUttM0QsR0FDeEN0MkQsRUFBUzZCLEtBQUtnNEIsTUFBTW9NLEVBQVc5bUMsS0FBSyxHQUFLbTNELEdBQzdDLEdBQUk1ckQsRUFBVSxDQUNWLElBQUl2TCxFQUFPMEMsS0FBS2c0QixNQUFNaDRCLEtBQUt5ZixLQUFLdmhCLEVBQVFBLEVBQVFDLEVBQVNBLElBQ3pERCxFQUFRWixFQUNSYSxFQUFTYixFQUViLElBQUl5SSxFQUFNbTlDLEVBQWlCaGxELEVBQVMsRUFBSXUyRCxFQUNwQ3p1RCxFQUFNazlDLEVBQWlCL2tELEVBQVUsRUFBSXMyRCxFQUNyQ0UsRUFBZSxDQUNmUixFQUFXLEdBQUtwdUQsRUFDaEJvdUQsRUFBVyxHQUFLbnVELEVBQ2hCbXVELEVBQVcsR0FBS3B1RCxFQUNoQm91RCxFQUFXLEdBQUtudUQsR0FFaEIycUQsRUFBWWp6QyxFQUFTazNDLDBCQUEwQnR2RCxFQUFRMnhDLEdBSXZENGQsRUFBaUIsR0FDckJBLEVBQWU1ZCxHQUFLLEdBQ3BCLElBQUk2ZCxFQUFrQnJqRSxLQUFLaS9ELHVCQUF1QjBELEVBQVk5b0QsRUFBWXVwRCxHQUN0RWxCLEVBQVlsaUUsS0FBS2tpRSxVQUNqQm9CLEVBQWV0akUsS0FBS21pRSxjQUN4Qm5pRSxLQUFLaWlFLFdBQVksRUFDakIsSUFBSyxJQUFJN3RELEVBQUk4cUQsRUFBVW5xRCxLQUFNWCxHQUFLOHFELEVBQVVqcUQsT0FBUWIsRUFDaEQsSUFBSyxJQUFJQyxFQUFJNnFELEVBQVVscUQsS0FBTVgsR0FBSzZxRCxFQUFVaHFELE9BQVFiLEVBQUcsQ0FDbkQsSUFBSWlvQyxFQUFPdDhDLEtBQUtzaUUsUUFBUTljLEVBQUdweEMsRUFBR0MsRUFBR3MrQixHQUNqQyxHQUFJM3lDLEtBQUtvaUUsZUFBZTlsQixHQUFPLENBQzNCLElBQUlpbkIsR0FBTSxRQUFPdmpFLE1BQ2pCLEc5Q2xNUixHOENrTVlzOEMsRUFBSzdKLFdBQWdDLENBQ3JDMndCLEVBQWU1ZCxHQUFHbEosRUFBSzBpQixVQUFVNzFELFlBQWNtekMsRUFDL0MsSUFBSWtuQixFQUFlbG5CLEVBQUtrbkIsYUFBYUQsR0FDaEN2akUsS0FBS2lpRSxZQUNMdUIsSUFBc0QsSUFBdEN4akUsS0FBS2dpRSxjQUFjejZELFFBQVErMEMsS0FDNUN0OEMsS0FBS2lpRSxXQUFZLEdBR3pCLEdBQTRDLElBQXhDM2xCLEVBQUttbkIsU0FBU0YsRUFBSzV3QixFQUFXMmYsTUFFOUIsU0FHUixJQUFJb1IsRUFBaUJ6M0MsRUFBUzAzQywyQkFBMkJybkIsRUFBSzBpQixVQUFXc0UsRUFBY3BCLEdBQ25GMEIsR0FBVSxFQUNWRixJQUNBRSxFQUFVUCxFQUFnQjdkLEVBQUksRUFBR2tlLElBRWhDRSxHQUNEMzNDLEVBQVM0M0MsZ0NBQWdDdm5CLEVBQUswaUIsVUFBV3FFLEVBQWlCQyxFQUFjcEIsR0FJcEcsSUFBSTRCLEVBQWNyUyxFQUFpQmdSLEdBRW5DLFFBQWlCemlFLEtBQUswL0QsZUFBZ0Ivc0IsRUFBVzltQyxLQUFLLEdBQUssRUFBRzhtQyxFQUFXOW1DLEtBQUssR0FBSyxFQUFHLEVBQUltM0QsRUFBZ0IsRUFBSUEsRUFBZ0I1ckQsR0FBVzNLLEVBQVEsR0FBSUMsRUFBUyxHQUM5SixJQUFJcTNELEdBQWtCLFFBQXNCL2pFLEtBQUswL0QsZ0JBQ2pEMS9ELEtBQUs0L0QsYUFBYW40RCxFQUFRczhELEVBQWlCbHlCLEVBQVcvYyxTQUN0RCxJQUFJSixFQUFVMTBCLEtBQUswMEIsUUFDZnBvQixFQUFTb29CLEVBQVFwb0IsUUFDckIsUUFBWXRNLEtBQUt5MUMsc0JBQXVCejFDLEtBQUswL0QsaUJBRTdDLFFBQWlCMS9ELEtBQUt5L0QsY0FBZWh6RCxFQUFRLEVBQUdDLEVBQVMsRUFBR28zRCxFQUFhQSxFQUFhLEdBQUlyM0QsRUFBUSxHQUFJQyxFQUFTLEdBQzNHSixFQUFPRyxPQUFTQSxHQUFTSCxFQUFPSSxRQUFVQSxHQUMxQ0osRUFBT0csTUFBUUEsRUFDZkgsRUFBT0ksT0FBU0EsR0FFVjFNLEtBQUsyL0QsaUJBQ1hqckMsRUFBUTBzQyxVQUFVLEVBQUcsRUFBRzMwRCxFQUFPQyxHQUUvQnMwRCxHQUNBaGhFLEtBQUt5Z0UsY0FBYy9yQyxFQUFTaWUsRUFBWXF1QixJQUU1QyxRQUFPdHNDLEVBQVNpdUMsRUFBV3FCLHFCQUMzQmhrRSxLQUFLNGdFLFVBQVVsc0MsRUFBU2llLEdBQ3hCM3lDLEtBQUtnaUUsY0FBY3RnRSxPQUFTLEVBRTVCLElBRUl1aUUsRUFBT0MsRUFBUUMsRUFGZkMsRUFBSzdrRSxPQUFPa0csS0FBSzI5RCxHQUFnQno0RCxJQUFJQyxRQUN6Q3c1RCxFQUFHemlDLEtBQUssT0FFbUIsSUFBdkJrUSxFQUFXL2MsU0FDVDkwQixLQUFLMi9ELGtCQUNIZ0QsRUFBVzBCLFVBQVUxeEIsRUFBV2IsVUFBVWo0QixhQUk5Q29xRCxFQUFRLEdBQ1JDLEVBQVMsSUFKVEUsRUFBS0EsRUFBR0UsVUFNWixJQUFLLElBQUk5aUUsRUFBSTRpRSxFQUFHMWlFLE9BQVMsRUFBR0YsR0FBSyxJQUFLQSxFQUFHLENBQ3JDLElBQUkraUUsRUFBV0gsRUFBRzVpRSxHQUNkZ2pFLEVBQXVCN0IsRUFBVzhCLGlCQUFpQkYsRUFBVTdyQyxFQUFZN2UsR0FFekU2cUQsRUFEb0J6NEMsRUFBU3c3QixjQUFjOGMsR0FDUjlTLEVBQ25Da1QsRUFBT0gsRUFBcUIsR0FBS0UsRUFBZVosRUFDaERjLEdBQU9KLEVBQXFCLEdBQUtFLEVBQWVaLEVBQ2hEZSxHQUFrQjU0QyxFQUFTNjRDLDBCQUF5QixRQUFXNUIsR0FBZXFCLEdBQzlFUSxHQUFtQjk0QyxFQUFTKzRDLG1CQUFtQkgsSUFDL0NJLElBQVcsUUFBZWpsRSxLQUFLeS9ELGNBQWUsQ0FDN0N1RCxHQUFrQitCLEdBQWlCLEdBQUs3QixFQUFhLElBQ2xEelIsRUFDSHVSLEdBQWtCRSxFQUFhLEdBQUs2QixHQUFpQixJQUNsRHRULElBRUp5VCxHQUFhbEMsRUFBaUJMLEVBQVd3Qyx1QkFBdUJ0ckQsR0FDaEV1ckQsR0FBY2hDLEVBQWVtQixHQUNqQyxJQUFLLElBQUljLE1BQWdCRCxHQUFhLENBQ2xDLElBQ0lwRyxJQURBMWlCLEVBQTREOG9CLEdBQVlDLEtBQ3ZEckcsVUFFakJzRyxHQUFTTCxHQUFTLElBQU1KLEdBQWdCLEdBQUs3RixHQUFVLElBQU0yRixFQUM3RFksR0FBUWgzRCxLQUFLZzRCLE1BQU0rK0IsR0FBU1gsR0FDNUJhLEdBQVNQLEdBQVMsSUFBTUosR0FBZ0IsR0FBSzdGLEdBQVUsSUFBTTRGLEdBQzdEYSxHQUFRbDNELEtBQUtnNEIsTUFBTWkvQixHQUFTWixJQUc1QjF2QyxHQUFJcXdDLElBRkpueEQsRUFBSTdGLEtBQUtnNEIsTUFBTSsrQixLQUdmbndDLEdBQUlzd0MsSUFGSnB4RCxFQUFJOUYsS0FBS2c0QixNQUFNaS9CLEtBR2ZFLEdBQWFsZ0IsSUFBTStlLEVBRXZCLEtBRElmLEVBQWVrQyxJQUErRCxJQUFqRHBwQixFQUFLbW5CLFVBQVMsUUFBT3pqRSxNQUFPMnlDLEVBQVcyZixPQUVwRSxHQUFJMlIsRUFBTyxDQUVQdnZDLEVBQVFVLE9BQ1IrdUMsRUFBYyxDQUFDL3ZELEVBQUdDLEVBQUdELEVBQUk4Z0IsR0FBRzdnQixFQUFHRCxFQUFJOGdCLEdBQUc3Z0IsRUFBSThnQixHQUFHL2dCLEVBQUdDLEVBQUk4Z0IsSUFDcEQsSUFBSyxJQUFJd3dDLEdBQU0sRUFBR2xrRSxHQUFLd2lFLEVBQU12aUUsT0FBUWlrRSxHQUFNbGtFLEtBQU1ra0UsR0FDN0MsR0FBSW5nQixJQUFNK2UsR0FBWUEsRUFBV0wsRUFBT3lCLElBQU0sQ0FDMUMsSUFBSTFGLEdBQU9nRSxFQUFNMEIsSUFDakJqeEMsRUFBUTRGLFlBRVI1RixFQUFROHJDLE9BQU8yRCxFQUFZLEdBQUlBLEVBQVksSUFDM0N6dkMsRUFBUThGLE9BQU8ycEMsRUFBWSxHQUFJQSxFQUFZLElBQzNDenZDLEVBQVE4RixPQUFPMnBDLEVBQVksR0FBSUEsRUFBWSxJQUMzQ3p2QyxFQUFROEYsT0FBTzJwQyxFQUFZLEdBQUlBLEVBQVksSUFFM0N6dkMsRUFBUThyQyxPQUFPUCxHQUFLLEdBQUlBLEdBQUssSUFDN0J2ckMsRUFBUThGLE9BQU95bEMsR0FBSyxHQUFJQSxHQUFLLElBQzdCdnJDLEVBQVE4RixPQUFPeWxDLEdBQUssR0FBSUEsR0FBSyxJQUM3QnZyQyxFQUFROEYsT0FBT3lsQyxHQUFLLEdBQUlBLEdBQUssSUFDN0J2ckMsRUFBUXVyQyxPQUdoQmdFLEVBQU0vaEUsS0FBS2lpRSxHQUNYRCxFQUFPaGlFLEtBQUtxaUUsUUFHWjd2QyxFQUFRMHNDLFVBQVVodEQsRUFBR0MsRUFBRzZnQixHQUFHQyxJQUduQ24xQixLQUFLNGxFLGNBQWN0cEIsRUFBTTNKLEVBQVl2K0IsRUFBR0MsRUFBRzZnQixHQUFHQyxHQUFHK3ZDLEdBQVlRLEdBQVk3ekIsRUFBVy9jLFNBQ2hGbXZDLElBQVVULEdBQ1Y5dUMsRUFBUWlCLFVBRVozMUIsS0FBS2dpRSxjQUFjOS9ELEtBQUtvNkMsR0FDeEJ0OEMsS0FBSzZsRSxnQkFBZ0JsekIsRUFBV3VnQixVQUFXeVAsRUFBWXJtQixJQW1CL0QsT0FoQkF0OEMsS0FBSytoRSxpQkFBbUJhLEVBQ3hCNWlFLEtBQUt3L0QsbUJBQXFCL04sRUFDMUJ6eEQsS0FBSzJoRSxlQUNBM2hFLEtBQUs0aEUsbUJBQW9CLFFBQU81aEUsS0FBSzRoRSxnQkFBaUJzQixHQUMzRGxqRSxLQUFLNGhFLGdCQUFrQnNCLEVBQ3ZCbGpFLEtBQUs2aEUsbUJBQXFCbnBDLEVBQzFCMTRCLEtBQUs4aEUsbUJBQXFCam9ELEVBQzFCN1osS0FBSzhsRSxrQkFBa0JuekIsRUFBWWd3QixFQUFZMTJDLEVBQVV5TSxFQUFZN2UsRUFBWWhHLEVBQVEyeEMsRUFBR2tjLEVBQVVwRCxjQUN0R3QrRCxLQUFLK2xFLG9CQUFvQnB6QixFQUFZZ3dCLEdBQ3JDM2lFLEtBQUs2Z0UsV0FBV25zQyxFQUFTaWUsR0FDckJkLEVBQVdoK0IsUUFDWDZnQixFQUFRaUIsVUFFUm91QyxJQUFvQnozRCxFQUFPeEMsTUFBTWdWLFlBQ2pDeFMsRUFBT3hDLE1BQU1nVixVQUFZaWxELEdBRXRCL2pFLEtBQUt1a0MsV0FhaEJrOUIsRUFBd0I3aEUsVUFBVWdtRSxjQUFnQixTQUFVdHBCLEVBQU0zSixFQUFZditCLEVBQUdDLEVBQUc2Z0IsRUFBR0MsRUFBRzZ3QyxFQUFRTixFQUFZNXdDLEdBQzFHLElBQUltSSxFQUFRajlCLEtBQUtpbUUsYUFBYTNwQixHQUM5QixHQUFLcmYsRUFBTCxDQUdBLElBQUlzbUMsR0FBTSxRQUFPdmpFLE1BQ2JrbUUsRUFBWVIsRUFBYXBwQixFQUFLbW5CLFNBQVNGLEVBQUs1d0IsRUFBVzJmLE1BQVEsRUFDL0Q2VCxFQUFRcnhDLEVBQVVveEMsRUFDbEJFLEVBQWVELElBQVVubUUsS0FBSzAwQixRQUFRVyxZQUN0Qyt3QyxJQUNBcG1FLEtBQUswMEIsUUFBUVUsT0FDYnAxQixLQUFLMDBCLFFBQVFXLFlBQWM4d0MsR0FFL0JubUUsS0FBSzAwQixRQUFRZ0IsVUFBVXVILEVBQU8rb0MsRUFBUUEsRUFBUS9vQyxFQUFNeHdCLE1BQVEsRUFBSXU1RCxFQUFRL29DLEVBQU12d0IsT0FBUyxFQUFJczVELEVBQVE1eEQsRUFBR0MsRUFBRzZnQixFQUFHQyxHQUN4R2l4QyxHQUNBcG1FLEtBQUswMEIsUUFBUWlCLFVBRUMsSUFBZHV3QyxFQUNBdnpCLEVBQVcvdUIsU0FBVSxFQUVoQjhoRCxHQUNMcHBCLEVBQUsrcEIsY0FBYzlDLEtBTTNCOUIsRUFBd0I3aEUsVUFBVTY0QixTQUFXLFdBQ3pDLElBQUkvRCxFQUFVMTBCLEtBQUswMEIsUUFDbkIsT0FBT0EsRUFBVUEsRUFBUXBvQixPQUFTLE1BUXRDbTFELEVBQXdCN2hFLFVBQVVxbUUsYUFBZSxTQUFVM3BCLEdBQ3ZELE9BQU9BLEVBQUs3akIsWUFPaEJncEMsRUFBd0I3aEUsVUFBVW1tRSxvQkFBc0IsU0FBVXB6QixFQUFZZ3dCLEdBQzFFLEdBQUlBLEVBQVc5eUIsaUJBQWtCLENBTTdCLElBQUl5MkIsRUFBcUIsU0FBVTNELEVBQVloNEQsRUFBS2dvQyxHQUNoRCxJQUFJNGUsR0FBZ0IsUUFBT29SLEdBQ3ZCcFIsS0FBaUI1ZSxFQUFXdWdCLFdBQzVCeVAsRUFBVzRELFlBQVk1ekIsRUFBV2IsVUFBVWo0QixXQUFZODRCLEVBQVd1Z0IsVUFBVTNCLEtBRW5GeGlELEtBQUssS0FBTTR6RCxHQUNiaHdCLEVBQVd5QyxvQkFBb0JsekMsS0FDbUMsS0FTMUV1L0QsRUFBd0I3aEUsVUFBVWltRSxnQkFBa0IsU0FBVTNTLEVBQVd5UCxFQUFZcm1CLEdBRWpGLElBQUlpVixHQUFnQixRQUFPb1IsR0FDckJwUixLQUFpQjJCLElBQ25CQSxFQUFVM0IsR0FBaUIsSUFFL0IyQixFQUFVM0IsR0FBZWpWLEVBQUtoTixXQUFZLEdBb0I5Q215QixFQUF3QjdoRSxVQUFVa21FLGtCQUFvQixTQUFVbnpCLEVBQVlnd0IsRUFBWTEyQyxFQUFVeU0sRUFBWTdlLEVBQVloRyxFQUFRMHdELEVBQVVyRyxFQUFTc0ksR0FDakosSUFBSWpWLEdBQWdCLFFBQU9vUixHQUNyQnBSLEtBQWlCNWUsRUFBVytlLGNBQzlCL2UsRUFBVytlLFlBQVlILEdBQWlCLElBRTVDLElBSUlqVixFQUFNNGlCLEVBQVd6TixFQUFnQnI5QyxFQUFHQyxFQUFHbXhDLEVBSnZDa00sRUFBYy9lLEVBQVcrZSxZQUFZSCxHQUNyQ1csRUFBWXZmLEVBQVd1ZixVQUV2QnVVLEVBQVksRUFFaEIsSUFBS2poQixFQUhTdjVCLEVBQVNpbEIsYUFHTHNVLEdBQUsrZSxJQUFZL2UsRUFHL0IsSUFGQTBaLEVBQVlqekMsRUFBU2szQywwQkFBMEJ0dkQsRUFBUTJ4QyxFQUFHMFosR0FDMUR6TixFQUFpQnhsQyxFQUFTdzdCLGNBQWNqQyxHQUNuQ3B4QyxFQUFJOHFELEVBQVVucUQsS0FBTVgsR0FBSzhxRCxFQUFVanFELE9BQVFiLEVBQzVDLElBQUtDLEVBQUk2cUQsRUFBVWxxRCxLQUFNWCxHQUFLNnFELEVBQVVocUQsT0FBUWIsRUFDeENrd0QsRUFBVy9lLEdBQUswWSxLQUNkdUksRTlDOWNoQixJOEMrY2NucUIsRUFBT3FtQixFQUFXTCxRQUFROWMsRUFBR3B4QyxFQUFHQyxFQUFHcWtCLEVBQVk3ZSxJQUN0QzQ0QixhQUNMaWYsRUFBWXBWLEVBQUtoTixXQUFZLEVBQ3hCNGlCLEVBQVUvVyxZQUFZbUIsRUFBS2hOLFdBQzVCNGlCLEVBQVV2WCxRQUFRLENBQ2QyQixFQUNBaVYsRUFDQXRsQyxFQUFTeTZDLG1CQUFtQnBxQixFQUFLMGlCLFdBQ2pDdk4sVUFJYXR1RCxJQUFyQnFqRSxHQUNBQSxFQUFpQmxxQixJQUlyQnFtQixFQUFXZ0UsUUFBUW5oQixFQUFHcHhDLEVBQUdDLEVBQUd3RixHQUs1QzhvRCxFQUFXaUUsZ0JBQWdCSCxFQUFXNXNELElBRW5DNG5ELEVBL2NpQyxDQWdkMUMsSUFLRkEsR0FBd0I3aEUsVUFBVXFvQixTQUNsQyxZQ3JmQSxJQUFJLEdBQXdDLFdBQ3hDLElBQUk5b0IsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0E4QzVDLFNBbEIrQixTQUFVSSxHQUtyQyxTQUFTMG1FLEVBQVUxbEUsR0FDZixPQUFPaEIsRUFBT0wsS0FBS0UsS0FBTW1CLElBQWdCbkIsS0FVN0MsT0FmQSxHQUFVNm1FLEVBQVcxbUUsR0FZckIwbUUsRUFBVWpuRSxVQUFVc3pDLGVBQWlCLFdBQ2pDLE9BQU8sSUFBSSxHQUF3Qmx6QyxPQUVoQzZtRSxFQWhCbUIsQ0FpQjVCQyxJLHFDQzdDRSxHQUF3QyxXQUN4QyxJQUFJM25FLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBcUV4QyxHQUNjLGNBNEtsQixTQS9KcUMsU0FBVUksR0FLM0MsU0FBUzRtRSxFQUFnQjVsRSxHQUNyQixJQUFJYixFQUFRTixLQUNSb0IsRUFBVUQsR0FBNEIsR0FDdEM4d0MsR0FBYyxRQUFPLEdBQUk3d0MsR0ErQzdCLGNBOUNPNndDLEVBQVlub0MsYUFDWm1vQyxFQUFZKzBCLG9CQUNaLzBCLEVBQVlnMUIsNEJBQ1poMUIsRUFBWWkxQix3QkFDbkI1bUUsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTWl5QyxJQUFnQmp5QyxNQUtwQ21uRSxnQkFDb0Joa0UsSUFBdEIvQixFQUFRZ21FLFdBQTBCaG1FLEVBQVFnbUUsVUFLOUM5bUUsRUFBTSttRSxtQkFDdUJsa0UsSUFBekIvQixFQUFRNGxFLGFBQTZCNWxFLEVBQVE0bEUsYUFBZSxJQU1oRTFtRSxFQUFNOG1CLE9BQVMsS0FNZjltQixFQUFNMGhDLG9CQUFpQjcrQixFQUN2QjdDLEVBQU1nb0IsU0FBU2xuQixFQUFRMEksT0FLdkJ4SixFQUFNZ25FLDJCQUMrQm5rRSxJQUFqQy9CLEVBQVE2bEUsc0JBQ0Y3bEUsRUFBUTZsRSxxQkFNbEIzbUUsRUFBTWluRSw2QkFDaUNwa0UsSUFBbkMvQixFQUFROGxFLHdCQUNGOWxFLEVBQVE4bEUsdUJBRVg1bUUsRUFzR1gsT0E1SkEsR0FBVXltRSxFQUFpQjVtRSxHQTJEM0I0bUUsRUFBZ0JubkUsVUFBVTRuRSxhQUFlLFdBQ3JDLE9BQU94bkUsS0FBS21uRSxZQWdCaEJKLEVBQWdCbm5FLFVBQVVtb0IsWUFBYyxTQUFVZ0IsR0FDOUMsT0FBTzVvQixFQUFPUCxVQUFVbW9CLFlBQVlqb0IsS0FBS0UsS0FBTStvQixJQUtuRGcrQyxFQUFnQm5uRSxVQUFVNm5FLGdCQUFrQixXQUN4QyxPQUFPem5FLEtBQUtxbkUsZUFNaEJOLEVBQWdCbm5FLFVBQVU4bkUsZUFBaUIsV0FDdkMsT0FBMkUxbkUsS0FBS3dDLElBQUksS0FReEZ1a0UsRUFBZ0JubkUsVUFBVXlvQixTQUFXLFdBQ2pDLE9BQU9yb0IsS0FBS29uQixRQU9oQjIvQyxFQUFnQm5uRSxVQUFVMmlDLGlCQUFtQixXQUN6QyxPQUFPdmlDLEtBQUtnaUMsZ0JBTWhCK2tDLEVBQWdCbm5FLFVBQVUrbkUsd0JBQTBCLFdBQ2hELE9BQU8zbkUsS0FBS3NuRSx1QkFNaEJQLEVBQWdCbm5FLFVBQVVnb0UsMEJBQTRCLFdBQ2xELE9BQU81bkUsS0FBS3VuRSx5QkFNaEJSLEVBQWdCbm5FLFVBQVUyMkMsZ0JBQWtCLFNBQVU1RCxHQUM3Q0EsRUFBV3NnQixnQkFDWnRnQixFQUFXc2dCLGNBQWdCLElBQUksS0FBSixDQUFVLElBRXZCanpELEtBQUt5OUIsY0FBZThZLGdCQUFnQjVELElBTTFEbzBCLEVBQWdCbm5FLFVBQVVpb0UsZUFBaUIsU0FBVUMsR0FDakQ5bkUsS0FBS29ELElBQUksR0FBdUIwa0UsSUFZcENmLEVBQWdCbm5FLFVBQVUwb0IsU0FBVyxTQUFVb2EsR0FDM0MxaUMsS0FBS29uQixZQUF1QmprQixJQUFkdS9CLEVBQTBCQSxFQUFZLE1BQ3BEMWlDLEtBQUtnaUMsZUFDYSxPQUFkVSxPQUFxQnYvQixHQUFZLFNBQWdCbkQsS0FBS29uQixRQUMxRHBuQixLQUFLd0csV0FFRnVnRSxFQTdKeUIsQ0E4SmxDLEdDM09GLElBQUlnQixHQUFjLENBQ2RDLGVBQWdCLEVBQ2hCQyxXQUFZLEVBQ1o5ckQsT0FBUSxFQUNSK3JELFdBQVksRUFDWkMsT0FBUSxFQUNSQyxXQUFZLEVBQ1pDLFdBQVksRUFDWkMsYUFBYyxFQUNkQyxLQUFNLEVBQ05DLGdCQUFpQixFQUNqQkMsZUFBZ0IsR0FDaEJDLGlCQUFrQixHQUNsQkMsT0FBUSxJQUtEQyxHQUFrQixDQUFDYixHQUFZUSxNQUkvQk0sR0FBb0IsQ0FBQ2QsR0FBWVksUUFJakNHLEdBQXVCLENBQUNmLEdBQVlFLFlBSXBDYyxHQUF1QixDQUFDaEIsR0FBWUcsWUFDL0MsWSxlQzhEQSxTQTFGbUMsV0FDL0IsU0FBU2MsS0F1RlQsT0E5RUFBLEVBQWNwcEUsVUFBVXFwRSxXQUFhLFNBQVVuc0MsRUFBVXpWLEVBQVM4VixLQU1sRTZyQyxFQUFjcHBFLFVBQVVzcEUsYUFBZSxTQUFVcHNDLEtBTWpEa3NDLEVBQWNwcEUsVUFBVTBvQixTQUFXLFNBQVV4ZSxLQUs3Q2svRCxFQUFjcHBFLFVBQVV1cEUsV0FBYSxTQUFVQyxFQUFnQi9oRCxLQUsvRDJoRCxFQUFjcHBFLFVBQVV5cEUsWUFBYyxTQUFVaGlELEVBQVN2ZCxLQUt6RGsvRCxFQUFjcHBFLFVBQVUwcEUsdUJBQXlCLFNBQVVDLEVBQTRCbGlELEtBS3ZGMmhELEVBQWNwcEUsVUFBVTRwRSxlQUFpQixTQUFVQyxFQUFvQnBpRCxLQUt2RTJoRCxFQUFjcHBFLFVBQVU4cEUsb0JBQXNCLFNBQVVDLEVBQXlCdGlELEtBS2pGMmhELEVBQWNwcEUsVUFBVWdxRSxlQUFpQixTQUFVQyxFQUFvQnhpRCxLQUt2RTJoRCxFQUFjcHBFLFVBQVVrcUUsaUJBQW1CLFNBQVVDLEVBQXNCMWlELEtBSzNFMmhELEVBQWNwcEUsVUFBVW9xRSxVQUFZLFNBQVVDLEVBQWU1aUQsS0FLN0QyaEQsRUFBY3BwRSxVQUFVc3FFLFlBQWMsU0FBVUMsRUFBaUI5aUQsS0FLakUyaEQsRUFBY3BwRSxVQUFVd3FFLFNBQVcsU0FBVXR0QyxFQUFVelYsS0FLdkQyaEQsRUFBY3BwRSxVQUFVeXFFLG1CQUFxQixTQUFVNXZDLEVBQVduQixLQUtsRTB2QyxFQUFjcHBFLFVBQVUwcUUsY0FBZ0IsU0FBVUMsRUFBWUMsS0FLOUR4QixFQUFjcHBFLFVBQVU2cUUsYUFBZSxTQUFVQyxFQUFXRixLQUNyRHhCLEVBeEZ1QixHLGVDVDlCLEdBQXdDLFdBQ3hDLElBQUk3cEUsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0E0Z0I1QyxTQW5mbUMsU0FBVUksR0FRekMsU0FBU3dxRSxFQUFjL3JELEVBQVc0K0IsRUFBV3JtQyxFQUFZdWhCLEdBQ3JELElBQUlwNEIsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FvRWpDLE9BL0RBTSxFQUFNc2UsVUFBWUEsRUFNbEJ0ZSxFQUFNazlDLFVBQVlBLEVBS2xCbDlDLEVBQU1vNEIsV0FBYUEsRUFLbkJwNEIsRUFBTXNxRSxhQUFlLEVBTXJCdHFFLEVBQU02VyxXQUFhQSxFQUtuQjdXLEVBQU11cUUsMkJBQTZCLEtBS25DdnFFLEVBQU13cUUsMkJBQTZCLEtBS25DeHFFLEVBQU15cUUsbUJBQXFCLEtBSzNCenFFLEVBQU0wcUUsYUFBZSxHQUtyQjFxRSxFQUFNc1QsWUFBYyxHQUtwQnRULEVBQU0ycUUsZUFBaUIsR0FLdkIzcUUsRUFBTTRxRSx5QkFBMkIsR0FLakM1cUUsRUFBTXF3QyxNQUE4RCxHQUM3RHJ3QyxFQW9hWCxPQWhmQSxHQUFVcXFFLEVBQWV4cUUsR0FtRnpCd3FFLEVBQWMvcUUsVUFBVXVyRSxnQkFBa0IsU0FBVUMsR0FDaEQsSUFBSTF5QyxFQUFhMTRCLEtBQUswNEIsV0FDdEIsT0FBcUIsR0FBZEEsRUFDRDB5QyxFQUNBQSxFQUFVemdFLEtBQUksU0FBVTBnRSxHQUN0QixPQUFPQSxFQUFPM3lDLE1BUzFCaXlDLEVBQWMvcUUsVUFBVTByRSwyQkFBNkIsU0FBVTMxRCxFQUFpQkUsR0FLNUUsSUFKQSxJQUFJaEMsRUFBUzdULEtBQUt1ckUsdUJBQ2QzMkIsRUFBVzUwQyxLQUFLaXJFLGVBQ2hCcjNELEVBQWM1VCxLQUFLNFQsWUFDbkI0M0QsRUFBUTUzRCxFQUFZbFMsT0FDZkYsRUFBSSxFQUFHQyxFQUFLa1UsRUFBZ0JqVSxPQUFRRixFQUFJQyxFQUFJRCxHQUFLcVUsRUFDdEQrK0IsRUFBUyxHQUFLai9CLEVBQWdCblUsR0FDOUJvekMsRUFBUyxHQUFLai9CLEVBQWdCblUsRUFBSSxJQUM5QixRQUFtQnFTLEVBQVErZ0MsS0FDM0JoaEMsRUFBWTQzRCxLQUFXNTJCLEVBQVMsR0FDaENoaEMsRUFBWTQzRCxLQUFXNTJCLEVBQVMsSUFHeEMsT0FBTzQyQixHQVlYYixFQUFjL3FFLFVBQVU2ckUsMEJBQTRCLFNBQVU5MUQsRUFBaUJDLEVBQVEvTixFQUFLZ08sRUFBUTYxRCxFQUFRQyxHQUN4RyxJQUFJLzNELEVBQWM1VCxLQUFLNFQsWUFDbkI0M0QsRUFBUTUzRCxFQUFZbFMsT0FDcEJtUyxFQUFTN1QsS0FBS3VyRSx1QkFDZEksSUFDQS8xRCxHQUFVQyxHQUVkLElBSUlyVSxFQUFHb3FFLEVBQVNDLEVBSlpDLEVBQWFuMkQsRUFBZ0JDLEdBQzdCbTJELEVBQWFwMkQsRUFBZ0JDLEVBQVMsR0FDdENvMkQsRUFBWWhzRSxLQUFLaXJFLGVBQ2pCZ0IsR0FBVSxFQUVkLElBQUt6cUUsRUFBSW9VLEVBQVNDLEVBQVFyVSxFQUFJcUcsRUFBS3JHLEdBQUtxVSxFQUNwQ20yRCxFQUFVLEdBQUtyMkQsRUFBZ0JuVSxHQUMvQndxRSxFQUFVLEdBQUtyMkQsRUFBZ0JuVSxFQUFJLElBQ25DcXFFLEdBQVUsUUFBdUJoNEQsRUFBUW00RCxNQUN6QkosR0FDUkssSUFDQXI0RCxFQUFZNDNELEtBQVdNLEVBQ3ZCbDRELEVBQVk0M0QsS0FBV08sRUFDdkJFLEdBQVUsR0FFZHI0RCxFQUFZNDNELEtBQVdRLEVBQVUsR0FDakNwNEQsRUFBWTQzRCxLQUFXUSxFQUFVLElBRTVCSCxJQUFZSyxHQUFBLGdCQUNqQnQ0RCxFQUFZNDNELEtBQVdRLEVBQVUsR0FDakNwNEQsRUFBWTQzRCxLQUFXUSxFQUFVLEdBQ2pDQyxHQUFVLEdBR1ZBLEdBQVUsRUFFZEgsRUFBYUUsRUFBVSxHQUN2QkQsRUFBYUMsRUFBVSxHQUN2QkosRUFBVUMsRUFPZCxPQUpLSCxHQUFVTyxHQUFZenFFLElBQU1vVSxFQUFTQyxLQUN0Q2pDLEVBQVk0M0QsS0FBV00sRUFDdkJsNEQsRUFBWTQzRCxLQUFXTyxHQUVwQlAsR0FVWGIsRUFBYy9xRSxVQUFVdXNFLHVCQUF5QixTQUFVeDJELEVBQWlCQyxFQUFRa0wsRUFBTWpMLEVBQVF1MkQsR0FDOUYsSUFBSyxJQUFJNXFFLEVBQUksRUFBR0MsRUFBS3FmLEVBQUtwZixPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQzNDLElBQUlxRyxFQUFNaVosRUFBS3RmLEdBQ1g2cUUsRUFBYXJzRSxLQUFLeXJFLDBCQUEwQjkxRCxFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQUFRLEdBQU8sR0FDN0Z1MkQsRUFBWWxxRSxLQUFLbXFFLEdBQ2pCejJELEVBQVMvTixFQUViLE9BQU8rTixHQU9YKzBELEVBQWMvcUUsVUFBVXFwRSxXQUFhLFNBQVVuc0MsRUFBVXpWLEVBQVM4VixHQUM5RG45QixLQUFLc3NFLGNBQWN4dkMsRUFBVXpWLEdBQzdCLElBR0kxUixFQUFpQjAyRCxFQUFZRCxFQUFhRyxFQUMxQzMyRCxFQUpBaFYsRUFBT2s4QixFQUFTL2YsVUFDaEJsSCxFQUFTaW5CLEVBQVNoZCxZQUNsQjBzRCxFQUFleHNFLEtBQUs0VCxZQUFZbFMsT0FHcEMsR0FBSWQsR0FBUW1wQyxHQUFBLGdCQUE0QixDQUNwQ3AwQixFQUE4RSxFQUFXcXNDLDZCQUN6RnVxQixFQUFlLEdBQ2YsSUFBSWh0QixFQUFvRSxFQUFXa3RCLFdBQ25GNzJELEVBQVMsRUFDVCxJQUFLLElBQUlwVSxFQUFJLEVBQUdDLEVBQUs4OUMsRUFBTTc5QyxPQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQzVDLElBQUlrckUsRUFBUyxHQUNiOTJELEVBQVM1VixLQUFLbXNFLHVCQUF1QngyRCxFQUFpQkMsRUFBUTJwQyxFQUFNLzlDLEdBQUlxVSxFQUFRNjJELEdBQ2hGSCxFQUFhcnFFLEtBQUt3cUUsR0FFdEIxc0UsS0FBS2dyRSxhQUFhOW9FLEtBQUssQ0FDbkIsVUFDQXNxRSxFQUNBRCxFQUNBenZDLEVBQ0FLLEVBQ0FtaUIsVUFHQzErQyxHQUFRbXBDLEdBQUEsV0FDYm5wQyxHQUFRbXBDLEdBQUEscUJBQ1JxaUMsRUFBYyxHQUNkejJELEVBQ0kvVSxHQUFRbXBDLEdBQUEsVUFDcUQsRUFBV2lZLDZCQUNsRWxsQixFQUFTamQscUJBQ25CakssRUFBUzVWLEtBQUttc0UsdUJBQXVCeDJELEVBQWlCLEVBQ2lELEVBQVd1c0MsVUFBV3JzQyxFQUFRdTJELEdBQ3JJcHNFLEtBQUtnckUsYUFBYTlvRSxLQUFLLENBQ25CLFVBQ0FzcUUsRUFDQUosRUFDQXR2QyxFQUNBSyxFQUNBaWlCLE1BR0N4K0MsR0FBUW1wQyxHQUFBLGVBQ2JucEMsR0FBUW1wQyxHQUFBLFVBQ1JwMEIsRUFBa0JtbkIsRUFBU2pkLHFCQUMzQndzRCxFQUFhcnNFLEtBQUt5ckUsMEJBQTBCOTFELEVBQWlCLEVBQUdBLEVBQWdCalUsT0FBUW1VLEdBQVEsR0FBTyxHQUN2RzdWLEtBQUtnckUsYUFBYTlvRSxLQUFLLENBQ25CLFVBQ0FzcUUsRUFDQUgsRUFDQXZ2QyxFQUNBSyxFQUNBK2hCLE1BR0N0K0MsR0FBUW1wQyxHQUFBLGVBQ2JwMEIsRUFBa0JtbkIsRUFBU2pkLHNCQUMzQndzRCxFQUFhcnNFLEtBQUtzckUsMkJBQTJCMzFELEVBQWlCRSxJQUM3QzIyRCxHQUNieHNFLEtBQUtnckUsYUFBYTlvRSxLQUFLLENBQ25CLFVBQ0FzcUUsRUFDQUgsRUFDQXZ2QyxFQUNBSyxFQUNBK2hCLE1BSUh0K0MsR0FBUW1wQyxHQUFBLFVBQ2JwMEIsRUFBa0JtbkIsRUFBU2pkLHFCQUMzQjdmLEtBQUs0VCxZQUFZMVIsS0FBS3lULEVBQWdCLEdBQUlBLEVBQWdCLElBQzFEMDJELEVBQWFyc0UsS0FBSzRULFlBQVlsUyxPQUM5QjFCLEtBQUtnckUsYUFBYTlvRSxLQUFLLENBQ25CLFVBQ0FzcUUsRUFDQUgsRUFDQXZ2QyxFQUNBSyxLQUdSbjlCLEtBQUsyc0UsWUFBWXRsRCxJQU9yQnNqRCxFQUFjL3FFLFVBQVUwc0UsY0FBZ0IsU0FBVXh2QyxFQUFVelYsR0FDeERybkIsS0FBSzZxRSwyQkFBNkIsQ0FDOUIsa0JBQ0F4akQsRUFDQSxFQUNBeVYsR0FFSjk4QixLQUFLZ3JFLGFBQWE5b0UsS0FBS2xDLEtBQUs2cUUsNEJBQzVCN3FFLEtBQUs4cUUsMkJBQTZCLENBQzlCLGtCQUNBempELEVBQ0EsRUFDQXlWLEdBRUo5OEIsS0FBS2tyRSx5QkFBeUJocEUsS0FBS2xDLEtBQUs4cUUsNkJBSzVDSCxFQUFjL3FFLFVBQVVndEUsT0FBUyxXQUM3QixNQUFPLENBQ0g1QixhQUFjaHJFLEtBQUtnckUsYUFDbkJFLHlCQUEwQmxyRSxLQUFLa3JFLHlCQUMvQnQzRCxZQUFhNVQsS0FBSzRULGNBTTFCKzJELEVBQWMvcUUsVUFBVWl0RSxnQ0FBa0MsV0FDdEQsSUFJSXJyRSxFQUpBMHBFLEVBQTJCbHJFLEtBQUtrckUseUJBRXBDQSxFQUF5QjVHLFVBR3pCLElBQ0l3SSxFQUNBbHNFLEVBRkFrQyxFQUFJb29FLEVBQXlCeHBFLE9BRzdCa0csR0FBUyxFQUNiLElBQUtwRyxFQUFJLEVBQUdBLEVBQUlzQixJQUFLdEIsR0FFakJaLEdBREFrc0UsRUFBYzVCLEVBQXlCMXBFLElBQytCLEtBQzFELGdCQUNSb0csRUFBUXBHLEVBRUhaLEdBQVEsb0JBQ2Jrc0UsRUFBWSxHQUFLdHJFLEdBQ2pCLFNBQWdCeEIsS0FBS2tyRSx5QkFBMEJ0akUsRUFBT3BHLEdBQ3REb0csR0FBUyxJQVFyQitpRSxFQUFjL3FFLFVBQVV5cUUsbUJBQXFCLFNBQVU1dkMsRUFBV25CLEdBQzlELElBQUlxWCxFQUFRM3dDLEtBQUsyd0MsTUFDakIsR0FBSWxXLEVBQVcsQ0FDWCxJQUFJc3lDLEVBQWlCdHlDLEVBQVVaLFdBQy9COFcsRUFBTWxXLFdBQVksUUFBWXN5QyxHQUFrQyxXQUdoRXA4QixFQUFNbFcsZUFBWXQzQixFQUV0QixHQUFJbTJCLEVBQWEsQ0FDYixJQUFJMHpDLEVBQW1CMXpDLEVBQVlPLFdBQ25DOFcsRUFBTXJYLGFBQWMsUUFBWTB6QyxHQUFzQyxNQUN0RSxJQUFJQyxFQUFxQjN6QyxFQUFZVyxhQUNyQzBXLEVBQU1wWCxhQUNxQnAyQixJQUF2QjhwRSxFQUFtQ0EsRUFBcUIsS0FDNUQsSUFBSUMsRUFBc0I1ekMsRUFBWVEsY0FDdEM2VyxFQUFNalgsU0FBV3d6QyxFQUNYQSxFQUFvQnppRSxRQUNwQixLQUNOLElBQUkwaUUsRUFBNEI3ekMsRUFBWVMsb0JBQzVDNFcsRUFBTWhYLGVBQWlCd3pDLEdBRWpCLEtBQ04sSUFBSUMsRUFBc0I5ekMsRUFBWVUsY0FDdEMyVyxFQUFNblgsY0FDc0JyMkIsSUFBeEJpcUUsRUFDTUEsRUFDQSxLQUNWLElBQUlDLEVBQW1CL3pDLEVBQVkxaUIsV0FDbkMrNUIsRUFBTWpXLGVBQ21CdjNCLElBQXJCa3FFLEVBQWlDQSxFQUFtQixLQUN4RCxJQUFJQyxFQUF3QmgwQyxFQUFZWSxnQkFDeEN5VyxFQUFNbFgsZ0JBQ3dCdDJCLElBQTFCbXFFLEVBQ01BLEVBQ0EsS0FDTjM4QixFQUFNalcsVUFBWTE2QixLQUFLNHFFLGVBQ3ZCNXFFLEtBQUs0cUUsYUFBZWo2QixFQUFNalcsVUFFMUIxNkIsS0FBSytxRSxtQkFBcUIsV0FJOUJwNkIsRUFBTXJYLGlCQUFjbjJCLEVBQ3BCd3RDLEVBQU1wWCxhQUFVcDJCLEVBQ2hCd3RDLEVBQU1qWCxTQUFXLEtBQ2pCaVgsRUFBTWhYLG9CQUFpQngyQixFQUN2Qnd0QyxFQUFNblgsY0FBV3IyQixFQUNqQnd0QyxFQUFNalcsZUFBWXYzQixFQUNsQnd0QyxFQUFNbFgsZ0JBQWF0MkIsR0FPM0J3bkUsRUFBYy9xRSxVQUFVMnRFLFdBQWEsU0FBVTU4QixHQUMzQyxJQUFJbFcsRUFBWWtXLEVBQU1sVyxVQUVsQm11QyxFQUFrQixDQUFDLGtCQUFrQ251QyxHQUt6RCxNQUp5QixpQkFBZEEsR0FFUG11QyxFQUFnQjFtRSxNQUFLLEdBRWxCMG1FLEdBS1grQixFQUFjL3FFLFVBQVU0dEUsWUFBYyxTQUFVNzhCLEdBQzVDM3dDLEtBQUtnckUsYUFBYTlvRSxLQUFLbEMsS0FBS3l0RSxhQUFhOThCLEtBTTdDZzZCLEVBQWMvcUUsVUFBVTZ0RSxhQUFlLFNBQVU5OEIsR0FDN0MsTUFBTyxDQUNILG9CQUNBQSxFQUFNclgsWUFDTnFYLEVBQU1qVyxVQUFZMTZCLEtBQUswNEIsV0FDdkJpWSxFQUFNcFgsUUFDTm9YLEVBQU1uWCxTQUNObVgsRUFBTWxYLFdBQ056NUIsS0FBS21yRSxnQkFBZ0J4NkIsRUFBTWpYLFVBQzNCaVgsRUFBTWhYLGVBQWlCMzVCLEtBQUswNEIsYUFPcENpeUMsRUFBYy9xRSxVQUFVOHRFLGdCQUFrQixTQUFVLzhCLEVBQU80OEIsR0FDdkQsSUFBSTl5QyxFQUFZa1csRUFBTWxXLFVBQ0csaUJBQWRBLEdBQTBCa1csRUFBTWc5QixrQkFBb0JsekMsU0FDekN0M0IsSUFBZHMzQixHQUNBejZCLEtBQUtnckUsYUFBYTlvRSxLQUFLcXJFLEVBQVd6dEUsS0FBS0UsS0FBTTJ3QyxJQUVqREEsRUFBTWc5QixpQkFBbUJsekMsSUFPakNrd0MsRUFBYy9xRSxVQUFVZ3VFLGtCQUFvQixTQUFVajlCLEVBQU82OEIsR0FDekQsSUFBSWwwQyxFQUFjcVgsRUFBTXJYLFlBQ3BCQyxFQUFVb1gsRUFBTXBYLFFBQ2hCRyxFQUFXaVgsRUFBTWpYLFNBQ2pCQyxFQUFpQmdYLEVBQU1oWCxlQUN2QkgsRUFBV21YLEVBQU1uWCxTQUNqQmtCLEVBQVlpVyxFQUFNalcsVUFDbEJqQixFQUFha1gsRUFBTWxYLFlBQ25Ca1gsRUFBTWs5QixvQkFBc0J2MEMsR0FDNUJxWCxFQUFNbTlCLGdCQUFrQnYwQyxHQUN2QkcsR0FBWWlYLEVBQU1vOUIsbUJBQ2QsU0FBT3A5QixFQUFNbzlCLGdCQUFpQnIwQyxJQUNuQ2lYLEVBQU1xOUIsdUJBQXlCcjBDLEdBQy9CZ1gsRUFBTXM5QixpQkFBbUJ6MEMsR0FDekJtWCxFQUFNdTlCLGtCQUFvQnh6QyxHQUMxQmlXLEVBQU13OUIsbUJBQXFCMTBDLFVBQ1B0MkIsSUFBaEJtMkIsR0FDQWswQyxFQUFZMXRFLEtBQUtFLEtBQU0yd0MsR0FFM0JBLEVBQU1rOUIsbUJBQXFCdjBDLEVBQzNCcVgsRUFBTW05QixlQUFpQnYwQyxFQUN2Qm9YLEVBQU1vOUIsZ0JBQWtCcjBDLEVBQ3hCaVgsRUFBTXE5QixzQkFBd0JyMEMsRUFDOUJnWCxFQUFNczlCLGdCQUFrQnowQyxFQUN4Qm1YLEVBQU11OUIsaUJBQW1CeHpDLEVBQ3pCaVcsRUFBTXc5QixrQkFBb0IxMEMsSUFNbENreEMsRUFBYy9xRSxVQUFVK3NFLFlBQWMsU0FBVXRsRCxHQUM1Q3JuQixLQUFLNnFFLDJCQUEyQixHQUFLN3FFLEtBQUtnckUsYUFBYXRwRSxPQUN2RDFCLEtBQUs2cUUsMkJBQTZCLEtBQ2xDN3FFLEtBQUs4cUUsMkJBQTJCLEdBQUs5cUUsS0FBS2tyRSx5QkFBeUJ4cEUsT0FDbkUxQixLQUFLOHFFLDJCQUE2QixLQUNsQyxJQUFJc0QsRUFBeUIsQ0FBQyxnQkFBZ0MvbUQsR0FDOURybkIsS0FBS2dyRSxhQUFhOW9FLEtBQUtrc0UsR0FDdkJwdUUsS0FBS2tyRSx5QkFBeUJocEUsS0FBS2tzRSxJQVN2Q3pELEVBQWMvcUUsVUFBVTJyRSxxQkFBdUIsV0FDM0MsSUFBS3ZyRSxLQUFLK3FFLHFCQUNOL3FFLEtBQUsrcUUsb0JBQXFCLFFBQU0vcUUsS0FBS3c5QyxXQUNqQ3g5QyxLQUFLNHFFLGFBQWUsR0FBRyxDQUN2QixJQUFJbitELEVBQVN6TSxLQUFLbVgsWUFBY25YLEtBQUs0cUUsYUFBZSxHQUFNLEdBQzFELFFBQU81cUUsS0FBSytxRSxtQkFBb0J0K0QsRUFBT3pNLEtBQUsrcUUsb0JBR3BELE9BQU8vcUUsS0FBSytxRSxvQkFFVEosRUFqZnVCLENBa2ZoQyxJQzNnQkYsSUFBSSxHQUF3QyxXQUN4QyxJQUFJeHJFLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBaVE1QyxTQS9Pd0MsU0FBVUksR0FROUMsU0FBU2t1RSxFQUFtQnp2RCxFQUFXNCtCLEVBQVdybUMsRUFBWXVoQixHQUMxRCxJQUFJcDRCLEVBQVFILEVBQU9MLEtBQUtFLEtBQU00ZSxFQUFXNCtCLEVBQVdybUMsRUFBWXVoQixJQUFlMTRCLEtBd0UvRSxPQW5FQU0sRUFBTWd1RSxtQkFBcUIsS0FLM0JodUUsRUFBTTA4QixPQUFTLEtBS2YxOEIsRUFBTWl1RSxzQkFBbUJwckUsRUFLekI3QyxFQUFNa3VFLGNBQVdyckUsRUFLakI3QyxFQUFNbXVFLGNBQVd0ckUsRUFLakI3QyxFQUFNb3VFLGFBQVV2ckUsRUFLaEI3QyxFQUFNODZCLGNBQVdqNEIsRUFLakI3QyxFQUFNcXVFLGNBQVd4ckUsRUFLakI3QyxFQUFNc3VFLGNBQVd6ckUsRUFLakI3QyxFQUFNKzZCLHFCQUFrQmw0QixFQUt4QjdDLEVBQU1nN0IsZUFBWW40QixFQUtsQjdDLEVBQU1pN0IsWUFBU3A0QixFQUtmN0MsRUFBTTg3QixZQUFTajVCLEVBTWY3QyxFQUFNdXVFLDZCQUEwQjFyRSxFQUN6QjdDLEVBNEpYLE9BNU9BLEdBQVUrdEUsRUFBb0JsdUUsR0FzRjlCa3VFLEVBQW1CenVFLFVBQVVvcUUsVUFBWSxTQUFVQyxFQUFlNWlELEdBQzlELEdBQUtybkIsS0FBS2c5QixPQUFWLENBR0FoOUIsS0FBS3NzRSxjQUFjckMsRUFBZTVpRCxHQUNsQyxJQUFJMVIsRUFBa0JzMEQsRUFBY3BxRCxxQkFDaENoSyxFQUFTbzBELEVBQWNucUQsWUFDdkJndkQsRUFBVTl1RSxLQUFLNFQsWUFBWWxTLE9BQzNCOHBFLEVBQVF4ckUsS0FBS3NyRSwyQkFBMkIzMUQsRUFBaUJFLEdBQzdEN1YsS0FBS2dyRSxhQUFhOW9FLEtBQUssQ0FDbkIsY0FDQTRzRSxFQUNBdEQsRUFDQXhyRSxLQUFLZzlCLE9BRUxoOUIsS0FBS3d1RSxTQUFXeHVFLEtBQUt1dUUsaUJBQ3JCdnVFLEtBQUt5dUUsU0FBV3p1RSxLQUFLdXVFLGlCQUNyQmhnRSxLQUFLNnhCLEtBQUtwZ0MsS0FBSzB1RSxRQUFVMXVFLEtBQUt1dUUsa0JBQzlCdnVFLEtBQUtvN0IsU0FDTHA3QixLQUFLMnVFLFNBQ0wzdUUsS0FBSzR1RSxTQUNMNXVFLEtBQUtxN0IsZ0JBQ0xyN0IsS0FBS3M3QixVQUNMLENBQ0t0N0IsS0FBS3U3QixPQUFPLEdBQUt2N0IsS0FBSzA0QixXQUFjMTRCLEtBQUt1dUUsaUJBQ3pDdnVFLEtBQUt1N0IsT0FBTyxHQUFLdjdCLEtBQUswNEIsV0FBYzE0QixLQUFLdXVFLGtCQUU5Q2hnRSxLQUFLNnhCLEtBQUtwZ0MsS0FBS284QixPQUFTcDhCLEtBQUt1dUUsa0JBQzdCdnVFLEtBQUs2dUUsMEJBRVQ3dUUsS0FBS2tyRSx5QkFBeUJocEUsS0FBSyxDQUMvQixjQUNBNHNFLEVBQ0F0RCxFQUNBeHJFLEtBQUtzdUUsbUJBRUx0dUUsS0FBS3d1RSxTQUNMeHVFLEtBQUt5dUUsU0FDTHp1RSxLQUFLMHVFLFFBQ0wxdUUsS0FBS283QixTQUNMcDdCLEtBQUsydUUsU0FDTDN1RSxLQUFLNHVFLFNBQ0w1dUUsS0FBS3E3QixnQkFDTHI3QixLQUFLczdCLFVBQ0x0N0IsS0FBS3U3QixPQUNMdjdCLEtBQUtvOEIsT0FDTHA4QixLQUFLNnVFLDBCQUVUN3VFLEtBQUsyc0UsWUFBWXRsRCxLQU1yQmduRCxFQUFtQnp1RSxVQUFVZ3FFLGVBQWlCLFNBQVVDLEVBQW9CeGlELEdBQ3hFLEdBQUtybkIsS0FBS2c5QixPQUFWLENBR0FoOUIsS0FBS3NzRSxjQUFjekMsRUFBb0J4aUQsR0FDdkMsSUFBSTFSLEVBQWtCazBELEVBQW1CaHFELHFCQUNyQ2hLLEVBQVNnMEQsRUFBbUIvcEQsWUFDNUJndkQsRUFBVTl1RSxLQUFLNFQsWUFBWWxTLE9BQzNCOHBFLEVBQVF4ckUsS0FBS3NyRSwyQkFBMkIzMUQsRUFBaUJFLEdBQzdEN1YsS0FBS2dyRSxhQUFhOW9FLEtBQUssQ0FDbkIsY0FDQTRzRSxFQUNBdEQsRUFDQXhyRSxLQUFLZzlCLE9BRUxoOUIsS0FBS3d1RSxTQUFXeHVFLEtBQUt1dUUsaUJBQ3JCdnVFLEtBQUt5dUUsU0FBV3p1RSxLQUFLdXVFLGlCQUNyQmhnRSxLQUFLNnhCLEtBQUtwZ0MsS0FBSzB1RSxRQUFVMXVFLEtBQUt1dUUsa0JBQzlCdnVFLEtBQUtvN0IsU0FDTHA3QixLQUFLMnVFLFNBQ0wzdUUsS0FBSzR1RSxTQUNMNXVFLEtBQUtxN0IsZ0JBQ0xyN0IsS0FBS3M3QixVQUNMLENBQ0t0N0IsS0FBS3U3QixPQUFPLEdBQUt2N0IsS0FBSzA0QixXQUFjMTRCLEtBQUt1dUUsaUJBQ3pDdnVFLEtBQUt1N0IsT0FBTyxHQUFLdjdCLEtBQUswNEIsV0FBYzE0QixLQUFLdXVFLGtCQUU5Q2hnRSxLQUFLNnhCLEtBQUtwZ0MsS0FBS284QixPQUFTcDhCLEtBQUt1dUUsa0JBQzdCdnVFLEtBQUs2dUUsMEJBRVQ3dUUsS0FBS2tyRSx5QkFBeUJocEUsS0FBSyxDQUMvQixjQUNBNHNFLEVBQ0F0RCxFQUNBeHJFLEtBQUtzdUUsbUJBRUx0dUUsS0FBS3d1RSxTQUNMeHVFLEtBQUt5dUUsU0FDTHp1RSxLQUFLMHVFLFFBQ0wxdUUsS0FBS283QixTQUNMcDdCLEtBQUsydUUsU0FDTDN1RSxLQUFLNHVFLFNBQ0w1dUUsS0FBS3E3QixnQkFDTHI3QixLQUFLczdCLFVBQ0x0N0IsS0FBS3U3QixPQUNMdjdCLEtBQUtvOEIsT0FDTHA4QixLQUFLNnVFLDBCQUVUN3VFLEtBQUsyc0UsWUFBWXRsRCxLQUtyQmduRCxFQUFtQnp1RSxVQUFVZ3RFLE9BQVMsV0FnQmxDLE9BZkE1c0UsS0FBSzZzRSxrQ0FFTDdzRSxLQUFLd3VFLGNBQVdyckUsRUFDaEJuRCxLQUFLeXVFLGNBQVd0ckUsRUFDaEJuRCxLQUFLc3VFLG1CQUFxQixLQUMxQnR1RSxLQUFLZzlCLE9BQVMsS0FDZGg5QixLQUFLdXVFLHNCQUFtQnByRSxFQUN4Qm5ELEtBQUswdUUsYUFBVXZyRSxFQUNmbkQsS0FBS3U3QixZQUFTcDRCLEVBQ2RuRCxLQUFLbzdCLGNBQVdqNEIsRUFDaEJuRCxLQUFLMnVFLGNBQVd4ckUsRUFDaEJuRCxLQUFLNHVFLGNBQVd6ckUsRUFDaEJuRCxLQUFLcTdCLHFCQUFrQmw0QixFQUN2Qm5ELEtBQUtzN0IsZUFBWW40QixFQUNqQm5ELEtBQUtvOEIsWUFBU2o1QixFQUNQaEQsRUFBT1AsVUFBVWd0RSxPQUFPOXNFLEtBQUtFLE9BTXhDcXVFLEVBQW1CenVFLFVBQVUwcUUsY0FBZ0IsU0FBVUMsRUFBWXdFLEdBQy9ELElBQUl6d0QsRUFBU2lzRCxFQUFXbnlDLFlBQ3BCdnNCLEVBQU8wK0QsRUFBV3J4QyxVQUNsQjgxQyxFQUFvQnpFLEVBQVdseUMsdUJBQy9CNEUsRUFBUXN0QyxFQUFXOXhDLFNBQVN6NEIsS0FBSzA0QixZQUNqQ3UyQyxFQUFTMUUsRUFBV3R4QyxZQUN4Qmo1QixLQUFLdXVFLGlCQUFtQmhFLEVBQVczeEMsY0FBYzU0QixLQUFLMDRCLFlBQ3REMTRCLEtBQUt3dUUsU0FBV2x3RCxFQUFPLEdBQ3ZCdGUsS0FBS3l1RSxTQUFXbndELEVBQU8sR0FDdkJ0ZSxLQUFLc3VFLG1CQUFxQlUsRUFDMUJodkUsS0FBS2c5QixPQUFTQyxFQUNkajlCLEtBQUswdUUsUUFBVTdpRSxFQUFLLEdBQ3BCN0wsS0FBS283QixTQUFXbXZDLEVBQVdweUMsYUFDM0JuNEIsS0FBSzJ1RSxTQUFXTSxFQUFPLEdBQ3ZCanZFLEtBQUs0dUUsU0FBV0ssRUFBTyxHQUN2Qmp2RSxLQUFLcTdCLGdCQUFrQmt2QyxFQUFXdnlDLG9CQUNsQ2g0QixLQUFLczdCLFVBQVlpdkMsRUFBV3h5QyxjQUM1Qi8zQixLQUFLdTdCLE9BQVNndkMsRUFBVzd1QyxnQkFDekIxN0IsS0FBS284QixPQUFTdndCLEVBQUssR0FDbkI3TCxLQUFLNnVFLHdCQUEwQkUsR0FFNUJWLEVBN080QixDQThPckMsSUNoUUYsSUFBSSxHQUF3QyxXQUN4QyxJQUFJbHZFLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBNEk1QyxTQTFINkMsU0FBVUksR0FRbkQsU0FBUyt1RSxFQUF3QnR3RCxFQUFXNCtCLEVBQVdybUMsRUFBWXVoQixHQUMvRCxPQUFPdjRCLEVBQU9MLEtBQUtFLEtBQU00ZSxFQUFXNCtCLEVBQVdybUMsRUFBWXVoQixJQUFlMTRCLEtBK0c5RSxPQXZIQSxHQUFVa3ZFLEVBQXlCL3VFLEdBa0JuQyt1RSxFQUF3QnR2RSxVQUFVdXZFLHFCQUF1QixTQUFVeDVELEVBQWlCQyxFQUFRL04sRUFBS2dPLEdBQzdGLElBQUlpNUQsRUFBVTl1RSxLQUFLNFQsWUFBWWxTLE9BQzNCOHBFLEVBQVF4ckUsS0FBS3lyRSwwQkFBMEI5MUQsRUFBaUJDLEVBQVEvTixFQUFLZ08sR0FBUSxHQUFPLEdBQ3BGdTVELEVBQTBCLENBQzFCLG1CQUNBTixFQUNBdEQsR0FJSixPQUZBeHJFLEtBQUtnckUsYUFBYTlvRSxLQUFLa3RFLEdBQ3ZCcHZFLEtBQUtrckUseUJBQXlCaHBFLEtBQUtrdEUsR0FDNUJ2bkUsR0FNWHFuRSxFQUF3QnR2RSxVQUFVNHBFLGVBQWlCLFNBQVVDLEVBQW9CcGlELEdBQzdFLElBQUlzcEIsRUFBUTN3QyxLQUFLMndDLE1BQ2JyWCxFQUFjcVgsRUFBTXJYLFlBQ3BCb0IsRUFBWWlXLEVBQU1qVyxVQUN0QixRQUFvQnYzQixJQUFoQm0yQixRQUEyQ24yQixJQUFkdTNCLEVBQWpDLENBR0ExNkIsS0FBSzR0RSxrQkFBa0JqOUIsRUFBTzN3QyxLQUFLd3RFLGFBQ25DeHRFLEtBQUtzc0UsY0FBYzdDLEVBQW9CcGlELEdBQ3ZDcm5CLEtBQUtrckUseUJBQXlCaHBFLEtBQUssQ0FDL0Isb0JBQ0F5dUMsRUFBTXJYLFlBQ05xWCxFQUFNalcsVUFDTmlXLEVBQU1wWCxRQUNOb1gsRUFBTW5YLFNBQ05tWCxFQUFNbFgsV0FDTmtYLEVBQU1qWCxTQUNOaVgsRUFBTWhYLGdCQUNQbXZDLElBQ0gsSUFBSW56RCxFQUFrQjh6RCxFQUFtQjVwRCxxQkFDckNoSyxFQUFTNHpELEVBQW1CM3BELFlBQ2hDOWYsS0FBS212RSxxQkFBcUJ4NUQsRUFBaUIsRUFBR0EsRUFBZ0JqVSxPQUFRbVUsR0FDdEU3VixLQUFLa3JFLHlCQUF5QmhwRSxLQUFLMm1FLElBQ25DN29FLEtBQUsyc0UsWUFBWXRsRCxLQU1yQjZuRCxFQUF3QnR2RSxVQUFVOHBFLG9CQUFzQixTQUFVQyxFQUF5QnRpRCxHQUN2RixJQUFJc3BCLEVBQVEzd0MsS0FBSzJ3QyxNQUNiclgsRUFBY3FYLEVBQU1yWCxZQUNwQm9CLEVBQVlpVyxFQUFNalcsVUFDdEIsUUFBb0J2M0IsSUFBaEJtMkIsUUFBMkNuMkIsSUFBZHUzQixFQUFqQyxDQUdBMTZCLEtBQUs0dEUsa0JBQWtCajlCLEVBQU8zd0MsS0FBS3d0RSxhQUNuQ3h0RSxLQUFLc3NFLGNBQWMzQyxFQUF5QnRpRCxHQUM1Q3JuQixLQUFLa3JFLHlCQUF5QmhwRSxLQUFLLENBQy9CLG9CQUNBeXVDLEVBQU1yWCxZQUNOcVgsRUFBTWpXLFVBQ05pVyxFQUFNcFgsUUFDTm9YLEVBQU1uWCxTQUNObVgsRUFBTWxYLFdBQ05rWCxFQUFNalgsU0FDTmlYLEVBQU1oWCxnQkFDUG12QyxJQUtILElBSkEsSUFBSWhvRCxFQUFPNm9ELEVBQXdCem5CLFVBQy9CdnNDLEVBQWtCZzBELEVBQXdCOXBELHFCQUMxQ2hLLEVBQVM4ekQsRUFBd0I3cEQsWUFDakNsSyxFQUFTLEVBQ0pwVSxFQUFJLEVBQUdDLEVBQUtxZixFQUFLcGYsT0FBUUYsRUFBSUMsSUFBTUQsRUFDeENvVSxFQUFTNVYsS0FBS212RSxxQkFBcUJ4NUQsRUFBaUJDLEVBQzdCa0wsRUFBS3RmLEdBQUtxVSxHQUVyQzdWLEtBQUtrckUseUJBQXlCaHBFLEtBQUsybUUsSUFDbkM3b0UsS0FBSzJzRSxZQUFZdGxELEtBS3JCNm5ELEVBQXdCdHZFLFVBQVVndEUsT0FBUyxXQUN2QyxJQUFJajhCLEVBQVEzd0MsS0FBSzJ3QyxNQU9qQixPQU53Qnh0QyxNQUFwQnd0QyxFQUFNMCtCLFlBQ04xK0IsRUFBTTArQixZQUFjcnZFLEtBQUs0VCxZQUFZbFMsUUFDckMxQixLQUFLZ3JFLGFBQWE5b0UsS0FBSzJtRSxJQUUzQjdvRSxLQUFLNnNFLGtDQUNMN3NFLEtBQUsyd0MsTUFBUSxLQUNOeHdDLEVBQU9QLFVBQVVndEUsT0FBTzlzRSxLQUFLRSxPQUt4Q2t2RSxFQUF3QnR2RSxVQUFVNHRFLFlBQWMsU0FBVTc4QixHQUM5Qnh0QyxNQUFwQnd0QyxFQUFNMCtCLFlBQ04xK0IsRUFBTTArQixZQUFjcnZFLEtBQUs0VCxZQUFZbFMsU0FDckMxQixLQUFLZ3JFLGFBQWE5b0UsS0FBSzJtRSxJQUN2Qmw0QixFQUFNMCtCLFdBQWFydkUsS0FBSzRULFlBQVlsUyxRQUV4Q2l2QyxFQUFNMCtCLFdBQWEsRUFDbkJsdkUsRUFBT1AsVUFBVTR0RSxZQUFZMXRFLEtBQUtFLEtBQU0yd0MsR0FDeEMzd0MsS0FBS2dyRSxhQUFhOW9FLEtBQUs0bUUsS0FFcEJvRyxFQXhIaUMsQ0F5SDFDLElDM0lGLElBQUksR0FBd0MsV0FDeEMsSUFBSS92RSxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQTJPNUMsU0F2TjBDLFNBQVVJLEdBUWhELFNBQVNtdkUsRUFBcUIxd0QsRUFBVzQrQixFQUFXcm1DLEVBQVl1aEIsR0FDNUQsT0FBT3Y0QixFQUFPTCxLQUFLRSxLQUFNNGUsRUFBVzQrQixFQUFXcm1DLEVBQVl1aEIsSUFBZTE0QixLQTRNOUUsT0FwTkEsR0FBVXN2RSxFQUFzQm52RSxHQWtCaENtdkUsRUFBcUIxdkUsVUFBVTJ2RSxzQkFBd0IsU0FBVTU1RCxFQUFpQkMsRUFBUWtMLEVBQU1qTCxHQUM1RixJQUFJODZCLEVBQVEzd0MsS0FBSzJ3QyxNQUNibmEsT0FBMkJyekIsSUFBcEJ3dEMsRUFBTWxXLFVBQ2J2RCxPQUErQi96QixJQUF0Qnd0QyxFQUFNclgsWUFDZmsyQyxFQUFVMXVELEVBQUtwZixPQUNuQjFCLEtBQUtnckUsYUFBYTlvRSxLQUFLNG1FLElBQ3ZCOW9FLEtBQUtrckUseUJBQXlCaHBFLEtBQUs0bUUsSUFDbkMsSUFBSyxJQUFJdG5FLEVBQUksRUFBR0EsRUFBSWd1RSxJQUFXaHVFLEVBQUcsQ0FDOUIsSUFBSXFHLEVBQU1pWixFQUFLdGYsR0FDWHN0RSxFQUFVOXVFLEtBQUs0VCxZQUFZbFMsT0FDM0I4cEUsRUFBUXhyRSxLQUFLeXJFLDBCQUEwQjkxRCxFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQUFRLEdBQU9xaEIsR0FDcEZrNEMsRUFBMEIsQ0FDMUIsbUJBQ0FOLEVBQ0F0RCxHQUVKeHJFLEtBQUtnckUsYUFBYTlvRSxLQUFLa3RFLEdBQ3ZCcHZFLEtBQUtrckUseUJBQXlCaHBFLEtBQUtrdEUsR0FDL0JsNEMsSUFHQWwzQixLQUFLZ3JFLGFBQWE5b0UsS0FBSzZtRSxJQUN2Qi9vRSxLQUFLa3JFLHlCQUF5QmhwRSxLQUFLNm1FLEtBRXZDbnpELEVBQVMvTixFQVViLE9BUkkydUIsSUFDQXgyQixLQUFLZ3JFLGFBQWE5b0UsS0FBSzBtRSxJQUN2QjVvRSxLQUFLa3JFLHlCQUF5QmhwRSxLQUFLMG1FLEtBRW5DMXhDLElBQ0FsM0IsS0FBS2dyRSxhQUFhOW9FLEtBQUsybUUsSUFDdkI3b0UsS0FBS2tyRSx5QkFBeUJocEUsS0FBSzJtRSxLQUVoQ2p6RCxHQU1YMDVELEVBQXFCMXZFLFVBQVV1cEUsV0FBYSxTQUFVQyxFQUFnQi9oRCxHQUNsRSxJQUFJc3BCLEVBQVEzd0MsS0FBSzJ3QyxNQUNibFcsRUFBWWtXLEVBQU1sVyxVQUNsQm5CLEVBQWNxWCxFQUFNclgsWUFDeEIsUUFBa0JuMkIsSUFBZHMzQixRQUEyQ3QzQixJQUFoQm0yQixFQUEvQixDQUdBdDVCLEtBQUt5dkUsdUJBQ0x6dkUsS0FBS3NzRSxjQUFjbEQsRUFBZ0IvaEQsUUFDWGxrQixJQUFwQnd0QyxFQUFNbFcsV0FDTno2QixLQUFLa3JFLHlCQUF5QmhwRSxLQUFLLENBQy9CLGtCQUNBLFlBR2tCaUIsSUFBdEJ3dEMsRUFBTXJYLGFBQ050NUIsS0FBS2tyRSx5QkFBeUJocEUsS0FBSyxDQUMvQixvQkFDQXl1QyxFQUFNclgsWUFDTnFYLEVBQU1qVyxVQUNOaVcsRUFBTXBYLFFBQ05vWCxFQUFNblgsU0FDTm1YLEVBQU1sWCxXQUNOa1gsRUFBTWpYLFNBQ05pWCxFQUFNaFgsaUJBR2QsSUFBSWhrQixFQUFrQnl6RCxFQUFldnBELHFCQUNqQ2hLLEVBQVN1ekQsRUFBZXRwRCxZQUN4Qmd2RCxFQUFVOXVFLEtBQUs0VCxZQUFZbFMsT0FDL0IxQixLQUFLeXJFLDBCQUEwQjkxRCxFQUFpQixFQUFHQSxFQUFnQmpVLE9BQVFtVSxHQUFRLEdBQU8sR0FDMUYsSUFBSTY1RCxFQUFvQixDQUFDLFVBQTBCWixHQUNuRDl1RSxLQUFLZ3JFLGFBQWE5b0UsS0FBSzRtRSxHQUFzQjRHLEdBQzdDMXZFLEtBQUtrckUseUJBQXlCaHBFLEtBQUs0bUUsR0FBc0I0RyxRQUNqQ3ZzRSxJQUFwQnd0QyxFQUFNbFcsWUFDTno2QixLQUFLZ3JFLGFBQWE5b0UsS0FBSzBtRSxJQUN2QjVvRSxLQUFLa3JFLHlCQUF5QmhwRSxLQUFLMG1FLFVBRWJ6bEUsSUFBdEJ3dEMsRUFBTXJYLGNBQ050NUIsS0FBS2dyRSxhQUFhOW9FLEtBQUsybUUsSUFDdkI3b0UsS0FBS2tyRSx5QkFBeUJocEUsS0FBSzJtRSxLQUV2QzdvRSxLQUFLMnNFLFlBQVl0bEQsS0FNckJpb0QsRUFBcUIxdkUsVUFBVXNxRSxZQUFjLFNBQVVDLEVBQWlCOWlELEdBQ3BFLElBQUlzcEIsRUFBUTN3QyxLQUFLMndDLE1BQ2JsVyxFQUFZa1csRUFBTWxXLFVBQ2xCbkIsRUFBY3FYLEVBQU1yWCxZQUN4QixRQUFrQm4yQixJQUFkczNCLFFBQTJDdDNCLElBQWhCbTJCLEVBQS9CLENBR0F0NUIsS0FBS3l2RSx1QkFDTHp2RSxLQUFLc3NFLGNBQWNuQyxFQUFpQjlpRCxRQUNabGtCLElBQXBCd3RDLEVBQU1sVyxXQUNOejZCLEtBQUtrckUseUJBQXlCaHBFLEtBQUssQ0FDL0Isa0JBQ0EsWUFHa0JpQixJQUF0Qnd0QyxFQUFNclgsYUFDTnQ1QixLQUFLa3JFLHlCQUF5QmhwRSxLQUFLLENBQy9CLG9CQUNBeXVDLEVBQU1yWCxZQUNOcVgsRUFBTWpXLFVBQ05pVyxFQUFNcFgsUUFDTm9YLEVBQU1uWCxTQUNObVgsRUFBTWxYLFdBQ05rWCxFQUFNalgsU0FDTmlYLEVBQU1oWCxpQkFHZCxJQUFJN1ksRUFBT3FwRCxFQUFnQmpvQixVQUN2QnZzQyxFQUFrQncwRCxFQUFnQm5vQiw2QkFDbENuc0MsRUFBU3MwRCxFQUFnQnJxRCxZQUM3QjlmLEtBQUt1dkUsc0JBQXNCNTVELEVBQWlCLEVBQ2YsRUFBUUUsR0FDckM3VixLQUFLMnNFLFlBQVl0bEQsS0FNckJpb0QsRUFBcUIxdkUsVUFBVWtxRSxpQkFBbUIsU0FBVUMsRUFBc0IxaUQsR0FDOUUsSUFBSXNwQixFQUFRM3dDLEtBQUsyd0MsTUFDYmxXLEVBQVlrVyxFQUFNbFcsVUFDbEJuQixFQUFjcVgsRUFBTXJYLFlBQ3hCLFFBQWtCbjJCLElBQWRzM0IsUUFBMkN0M0IsSUFBaEJtMkIsRUFBL0IsQ0FHQXQ1QixLQUFLeXZFLHVCQUNMenZFLEtBQUtzc0UsY0FBY3ZDLEVBQXNCMWlELFFBQ2pCbGtCLElBQXBCd3RDLEVBQU1sVyxXQUNOejZCLEtBQUtrckUseUJBQXlCaHBFLEtBQUssQ0FDL0Isa0JBQ0EsWUFHa0JpQixJQUF0Qnd0QyxFQUFNclgsYUFDTnQ1QixLQUFLa3JFLHlCQUF5QmhwRSxLQUFLLENBQy9CLG9CQUNBeXVDLEVBQU1yWCxZQUNOcVgsRUFBTWpXLFVBQ05pVyxFQUFNcFgsUUFDTm9YLEVBQU1uWCxTQUNObVgsRUFBTWxYLFdBQ05rWCxFQUFNalgsU0FDTmlYLEVBQU1oWCxpQkFPZCxJQUpBLElBQUk0bEIsRUFBUXdxQixFQUFxQjBDLFdBQzdCOTJELEVBQWtCbzBELEVBQXFCL25CLDZCQUN2Q25zQyxFQUFTazBELEVBQXFCanFELFlBQzlCbEssRUFBUyxFQUNKcFUsRUFBSSxFQUFHQyxFQUFLODlDLEVBQU03OUMsT0FBUUYsRUFBSUMsSUFBTUQsRUFDekNvVSxFQUFTNVYsS0FBS3V2RSxzQkFBc0I1NUQsRUFBaUJDLEVBQVEycEMsRUFBTS85QyxHQUFJcVUsR0FFM0U3VixLQUFLMnNFLFlBQVl0bEQsS0FLckJpb0QsRUFBcUIxdkUsVUFBVWd0RSxPQUFTLFdBQ3BDNXNFLEtBQUs2c0Usa0NBQ0w3c0UsS0FBSzJ3QyxNQUFRLEtBS2IsSUFBSS94QixFQUFZNWUsS0FBSzRlLFVBQ3JCLEdBQWtCLElBQWRBLEVBRUEsSUFEQSxJQUFJaEwsRUFBYzVULEtBQUs0VCxZQUNkcFMsRUFBSSxFQUFHQyxFQUFLbVMsRUFBWWxTLE9BQVFGLEVBQUlDLElBQU1ELEVBQy9Db1MsRUFBWXBTLEdBQUtzOUMsR0FBS2xyQyxFQUFZcFMsR0FBSW9kLEdBRzlDLE9BQU96ZSxFQUFPUCxVQUFVZ3RFLE9BQU85c0UsS0FBS0UsT0FLeENzdkUsRUFBcUIxdkUsVUFBVTZ2RSxxQkFBdUIsV0FDbEQsSUFBSTkrQixFQUFRM3dDLEtBQUsyd0MsV0FFQ3h0QyxJQURGd3RDLEVBQU1sVyxXQUVsQno2QixLQUFLMHRFLGdCQUFnQi84QixFQUFPM3dDLEtBQUt1dEUsaUJBRVhwcUUsSUFBdEJ3dEMsRUFBTXJYLGFBQ050NUIsS0FBSzR0RSxrQkFBa0JqOUIsRUFBTzN3QyxLQUFLd3RFLGNBR3BDOEIsRUFyTjhCLENBc052QyxJLGVDOU5LLFNBQVNLLEdBQWN2b0MsRUFBVXp4QixFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQUNsRSxJQUtVclUsRUFBR291RSxFQUFLQyxFQUFLLzNELEVBQUlJLEVBQUk0M0QsRUFBS0MsRUFBS0MsRUFBS0MsRUFMMUNDLEVBQWF0NkQsRUFDYnU2RCxFQUFXdjZELEVBQ1h3NkQsRUFBUyxFQUNUdG1ELEVBQUksRUFDSmpSLEVBQVFqRCxFQUVaLElBQUtwVSxFQUFJb1UsRUFBUXBVLEVBQUlxRyxFQUFLckcsR0FBS3FVLEVBQVEsQ0FDbkMsSUFBSWtDLEVBQUtwQyxFQUFnQm5VLEdBQ3JCMlcsRUFBS3hDLEVBQWdCblUsRUFBSSxRQUNsQjJCLElBQVAyVSxJQUNBazRELEVBQU1qNEQsRUFBS0QsRUFDWG00RCxFQUFNOTNELEVBQUtELEVBQ1gyM0QsRUFBTXRoRSxLQUFLeWYsS0FBS2dpRCxFQUFNQSxFQUFNQyxFQUFNQSxRQUN0QjlzRSxJQUFSMnNFLElBQ0FobUQsR0FBSzhsRCxFQUNFcmhFLEtBQUs4aEUsTUFBTVAsRUFBTUUsRUFBTUQsRUFBTUUsSUFBUUwsRUFBTUMsSUFDdkN6b0MsSUFDSHRkLEVBQUlzbUQsSUFDSkEsRUFBU3RtRCxFQUNUb21ELEVBQWFyM0QsRUFDYnMzRCxFQUFXM3VFLEdBRWZzb0IsRUFBSSxFQUNKalIsRUFBUXJYLEVBQUlxVSxJQUdwQis1RCxFQUFNQyxFQUNOQyxFQUFNRSxFQUNORCxFQUFNRSxHQUVWbjRELEVBQUtDLEVBQ0xHLEVBQUtDLEVBR1QsT0FEQTJSLEdBQUsrbEQsR0FDTU8sRUFBUyxDQUFDdjNELEVBQU9yWCxHQUFLLENBQUMwdUUsRUFBWUMsR0MvQ2xELElBQUksR0FBd0MsV0FDeEMsSUFBSWh4RSxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQTZCakN1d0UsR0FBYSxDQUNwQixLQUFRLEVBQ1IsSUFBTyxFQUNQLE9BQVUsR0FDVixNQUFTLEVBQ1QsTUFBUyxFQUNULElBQU8sRUFDUCxPQUFVLEdBQ1YsUUFBVyxHQUNYLFdBQWMsR0FDZCxZQUFlLEdBQ2YsT0FBVSxHQzdCVkMsR0FBcUIsQ0FDckIsT0FBVUMsR0FDVixRQUFXQyxHQUNYLE1BQVNDLEdBQ1QsV0FBY0MsR0FDZCxRQUFXSCxHQUNYLEtEeUJtQyxTQUFVcndFLEdBUTdDLFNBQVN5d0UsRUFBa0JoeUQsRUFBVzQrQixFQUFXcm1DLEVBQVl1aEIsR0FDekQsSUFBSXA0QixFQUFRSCxFQUFPTCxLQUFLRSxLQUFNNGUsRUFBVzQrQixFQUFXcm1DLEVBQVl1aEIsSUFBZTE0QixLQStFL0UsT0ExRUFNLEVBQU11d0UsUUFBVSxLQUtoQnZ3RSxFQUFNODhCLE1BQVEsR0FLZDk4QixFQUFNd3dFLGFBQWUsRUFLckJ4d0UsRUFBTXl3RSxhQUFlLEVBS3JCendFLEVBQU0wd0UseUJBQXNCN3RFLEVBSzVCN0MsRUFBTTJ3RSxjQUFnQixFQUt0QjN3RSxFQUFNNHdFLGVBQWlCLEtBSXZCNXdFLEVBQU02d0UsV0FBYSxHQUtuQjd3RSxFQUFNOHdFLGlCQUFtQixLQUl6Qjl3RSxFQUFNK3dFLGFBQWUsR0FLckIvd0UsRUFBTWd4RSxXQUE2RCxHQUluRWh4RSxFQUFNaXhFLFdBQWEsR0FLbkJqeEUsRUFBTWt4RSxTQUFXLEdBS2pCbHhFLEVBQU1teEUsU0FBVyxHQUtqQm54RSxFQUFNb3hFLFdBQWEsR0FNbkJweEUsRUFBTXV1RSw2QkFBMEIxckUsRUFDekI3QyxFQTRaWCxPQW5mQSxHQUFVc3dFLEVBQW1CendFLEdBNEY3Qnl3RSxFQUFrQmh4RSxVQUFVZ3RFLE9BQVMsV0FDakMsSUFBSTVCLEVBQWU3cUUsRUFBT1AsVUFBVWd0RSxPQUFPOXNFLEtBQUtFLE1BSWhELE9BSEFnckUsRUFBYXVHLFdBQWF2eEUsS0FBS3V4RSxXQUMvQnZHLEVBQWFtRyxXQUFhbnhFLEtBQUtteEUsV0FDL0JuRyxFQUFhcUcsYUFBZXJ4RSxLQUFLcXhFLGFBQzFCckcsR0FNWDRGLEVBQWtCaHhFLFVBQVV3cUUsU0FBVyxTQUFVdHRDLEVBQVV6VixHQUN2RCxJQUFJc3FELEVBQVkzeEUsS0FBS2t4RSxlQUNqQlUsRUFBYzV4RSxLQUFLb3hFLGlCQUNuQlMsRUFBWTd4RSxLQUFLc3hFLFdBQ3JCLEdBQW1CLEtBQWZ0eEUsS0FBS285QixPQUFpQnkwQyxJQUFlRixHQUFjQyxHQUF2RCxDQUdBLElBQUloK0QsRUFBYzVULEtBQUs0VCxZQUNuQmhNLEVBQVFnTSxFQUFZbFMsT0FDcEJvd0UsRUFBZWgxQyxFQUFTL2YsVUFDeEJwSCxFQUFrQixLQUNsQkUsRUFBU2luQixFQUFTaGQsWUFDdEIsR0FBSSt4RCxFQUFVdnFDLFlBQWNDLEdBQUEsUUFDdkJ1cUMsR0FBZ0IvbkMsR0FBQSxlQUNiK25DLEdBQWdCL25DLEdBQUEscUJBQ2hCK25DLEdBQWdCL25DLEdBQUEsV0FDaEIrbkMsR0FBZ0IvbkMsR0FBQSxnQkErQ25CLENBQ0QsSUFBSWdvQyxFQUFpQkYsRUFBVXBxQyxTQUFXLEtBQU8sR0FDakQsT0FBUXFxQyxHQUNKLEtBQUsvbkMsR0FBQSxRQUNMLEtBQUtBLEdBQUEsY0FDRHAwQixFQUE0RSxFQUFXa0sscUJBQ3ZGLE1BQ0osS0FBS2txQixHQUFBLGNBQ0RwMEIsRUFBNEUsRUFBV3E4RCxrQkFDdkYsTUFDSixLQUFLam9DLEdBQUEsU0FDRHAwQixFQUF3RSxFQUFXbUIsWUFDbkYsTUFDSixLQUFLaXpCLEdBQUEsb0JBQ0RwMEIsRUFBaUYsRUFBV3M4RCxtQkFDNUZwOEQsRUFBUyxFQUNULE1BQ0osS0FBS2swQixHQUFBLFVBQ0RwMEIsRUFBeUUsRUFBV3dzQyx1QkFDL0UwdkIsRUFBVXBxQyxVQUNYc3FDLEVBQWU3dkUsS0FBS3lULEVBQWdCLEdBQUszVixLQUFLbVgsWUFFbER0QixFQUFTLEVBQ1QsTUFDSixLQUFLazBCLEdBQUEsZ0JBQ0QsSUFBSW1vQyxFQUE2RSxFQUFXQyx3QkFFNUYsSUFEQXg4RCxFQUFrQixHQUNUblUsRUFBSSxFQUFHQyxFQUFLeXdFLEVBQWV4d0UsT0FBUUYsRUFBSUMsRUFBSUQsR0FBSyxFQUNoRHF3RSxFQUFVcHFDLFVBQ1hzcUMsRUFBZTd2RSxLQUFLZ3dFLEVBQWUxd0UsRUFBSSxHQUFLeEIsS0FBS21YLFlBRXJEeEIsRUFBZ0J6VCxLQUFLZ3dFLEVBQWUxd0UsR0FBSTB3RSxFQUFlMXdFLEVBQUksSUFFL0QsR0FBK0IsSUFBM0JtVSxFQUFnQmpVLE9BQ2hCLE9BRUptVSxFQUFTLEVBS2pCLElBREloTyxFQUFNN0gsS0FBS3NyRSwyQkFBMkIzMUQsRUFBaUJFLE1BQy9Dak8sRUFDUixPQUVKNUgsS0FBS295RSxtQkFDRFAsRUFBVWhxQyxnQkFBa0JncUMsRUFBVTlwQyxvQkFDdEMvbkMsS0FBS3FxRSxtQkFBbUJ3SCxFQUFVaHFDLGVBQWdCZ3FDLEVBQVU5cEMsa0JBQ3hEOHBDLEVBQVVocUMsaUJBQ1Y3bkMsS0FBSzB0RSxnQkFBZ0IxdEUsS0FBSzJ3QyxNQUFPM3dDLEtBQUt1dEUsWUFDdEN2dEUsS0FBS2tyRSx5QkFBeUJocEUsS0FBS2xDLEtBQUt1dEUsV0FBV3Z0RSxLQUFLMndDLFNBRXhEa2hDLEVBQVU5cEMsbUJBQ1YvbkMsS0FBSzR0RSxrQkFBa0I1dEUsS0FBSzJ3QyxNQUFPM3dDLEtBQUt3dEUsYUFDeEN4dEUsS0FBS2tyRSx5QkFBeUJocEUsS0FBS2xDLEtBQUt5dEUsYUFBYXp0RSxLQUFLMndDLFVBR2xFM3dDLEtBQUtzc0UsY0FBY3h2QyxFQUFVelYsR0FFN0IsSUFBSTJNLEVBQVU2OUMsRUFBVTc5QyxRQUN4QixHQUFJQSxHQUFXLE9BQ1Y2OUMsRUFBVXR6RCxNQUFNLEdBQUssR0FBS3N6RCxFQUFVdHpELE1BQU0sR0FBSyxHQUFJLENBQ3BELElBQUk4ekQsRUFBS1IsRUFBVTc5QyxRQUFRLEdBQ3ZCcytDLEVBQUtULEVBQVU3OUMsUUFBUSxHQUN2QnUrQyxFQUFLVixFQUFVNzlDLFFBQVEsR0FDdkJ3K0MsRUFBS1gsRUFBVTc5QyxRQUFRLEdBQ3ZCNjlDLEVBQVV0ekQsTUFBTSxHQUFLLElBQ3JCK3pELEdBQU1BLEVBQ05FLEdBQU1BLEdBRU5YLEVBQVV0ekQsTUFBTSxHQUFLLElBQ3JCOHpELEdBQU1BLEVBQ05FLEdBQU1BLEdBRVZ2K0MsRUFBVSxDQUFDcStDLEVBQUlDLEVBQUlDLEVBQUlDLEdBSzNCLElBQUlDLEVBQWV6eUUsS0FBSzA0QixXQUN4QjE0QixLQUFLZ3JFLGFBQWE5b0UsS0FBSyxDQUNuQixjQUNBMEYsRUFDQUMsRUFDQSxLQUNBb1csSUFDQUEsSUFDQUEsSUFDQSxFQUNBLEVBQ0EsRUFDQWplLEtBQUtneEUsb0JBQ0xoeEUsS0FBS2l4RSxjQUNMLENBQUMsRUFBRyxHQUNKaHpELElBQ0FqZSxLQUFLNnVFLHdCQUNMNzZDLEdBQVcsS0FDTCxLQUNBQSxFQUFRcnBCLEtBQUksU0FBVWhMLEdBQ3BCLE9BQU9BLEVBQUk4eUUsT0FFakJaLEVBQVVocUMsaUJBQ1ZncUMsRUFBVTlwQyxpQkFDWi9uQyxLQUFLbzlCLE1BQ0xwOUIsS0FBS3d4RSxTQUNMeHhFLEtBQUsweEUsV0FDTDF4RSxLQUFLeXhFLFNBQ0x6eEUsS0FBSzh3RSxhQUNMOXdFLEtBQUsrd0UsYUFDTGdCLElBRUosSUFBSXh6RCxFQUFRLEVBQUlrMEQsRUFDaEJ6eUUsS0FBS2tyRSx5QkFBeUJocEUsS0FBSyxDQUMvQixjQUNBMEYsRUFDQUMsRUFDQSxLQUNBb1csSUFDQUEsSUFDQUEsSUFDQSxFQUNBLEVBQ0EsRUFDQWplLEtBQUtneEUsb0JBQ0xoeEUsS0FBS2l4RSxjQUNMLENBQUMxeUQsRUFBT0EsR0FDUk4sSUFDQWplLEtBQUs2dUUsd0JBQ0w3NkMsSUFDRTY5QyxFQUFVaHFDLGlCQUNWZ3FDLEVBQVU5cEMsaUJBQ1ovbkMsS0FBS285QixNQUNMcDlCLEtBQUt3eEUsU0FDTHh4RSxLQUFLMHhFLFdBQ0wxeEUsS0FBS3l4RSxTQUNMenhFLEtBQUs4d0UsYUFDTDl3RSxLQUFLK3dFLGFBQ0xnQixJQUVKL3hFLEtBQUsyc0UsWUFBWXRsRCxPQXpMZ0MsQ0FDakQsS0FBSyxRQUFXcm5CLEtBQUt1ckUsdUJBQXdCenVDLEVBQVMvaUIsYUFDbEQsT0FFSixJQUFJK0csT0FBTyxFQUVYLEdBREFuTCxFQUFrQm1uQixFQUFTamQscUJBQ3ZCaXlELEdBQWdCL25DLEdBQUEsY0FDaEJqcEIsRUFBTyxDQUFDbkwsRUFBZ0JqVSxhQUV2QixHQUFJb3dFLEdBQWdCL25DLEdBQUEsb0JBQ3JCanBCLEVBQXNFLEVBQVdvaEMsZUFFaEYsR0FBSTR2QixHQUFnQi9uQyxHQUFBLFVBQ3JCanBCLEVBQThELEVBQ3pEb2hDLFVBQ0F6M0MsTUFBTSxFQUFHLFFBRWIsR0FBSXFuRSxHQUFnQi9uQyxHQUFBLGdCQUE0QixDQUNqRCxJQUFJd1YsRUFBb0UsRUFBV2t0QixXQUNuRjNyRCxFQUFPLEdBQ1AsSUFBSyxJQUFJdGYsRUFBSSxFQUFHQyxFQUFLODlDLEVBQU03OUMsT0FBUUYsRUFBSUMsSUFBTUQsRUFDekNzZixFQUFLNWUsS0FBS3E5QyxFQUFNLzlDLEdBQUcsSUFHM0J4QixLQUFLc3NFLGNBQWN4dkMsRUFBVXpWLEdBSTdCLElBSEEsSUFBSTJmLEVBQVk2cUMsRUFBVTdxQyxVQUN0QjByQyxFQUFhLEVBQ2JDLE9BQVUsRUFDTDN5QyxFQUFJLEVBQUc0eUMsRUFBSzl4RCxFQUFLcGYsT0FBUXMrQixFQUFJNHlDLElBQU01eUMsRUFBRyxDQUMzQyxHQUFpQjc4QixNQUFiNmpDLEVBQXdCLENBQ3hCLElBQUk2ckMsRUFBUWxELEdBQWNrQyxFQUFVenFDLFNBQVV6eEIsRUFBaUIrOEQsRUFBWTV4RCxFQUFLa2YsR0FBSW5xQixHQUNwRjY4RCxFQUFhRyxFQUFNLEdBQ25CRixFQUFVRSxFQUFNLFFBR2hCRixFQUFVN3hELEVBQUtrZixHQUVuQixJQUFTeCtCLEVBQUlreEUsRUFBWWx4RSxFQUFJbXhFLEVBQVNueEUsR0FBS3FVLEVBQ3ZDakMsRUFBWTFSLEtBQUt5VCxFQUFnQm5VLEdBQUltVSxFQUFnQm5VLEVBQUksSUFFN0QsSUFBSXFHLEVBQU0rTCxFQUFZbFMsT0FDdEJneEUsRUFBYTV4RCxFQUFLa2YsR0FDbEJoZ0MsS0FBSzh5RSxXQUFXbHJFLEVBQU9DLEdBQ3ZCRCxFQUFRQyxFQUVaN0gsS0FBSzJzRSxZQUFZdGxELE1Ba0p6QnVwRCxFQUFrQmh4RSxVQUFVd3lFLGdCQUFrQixXQUMxQyxJQUFJUixFQUFjNXhFLEtBQUtveEUsaUJBQ25CUyxFQUFZN3hFLEtBQUtzeEUsV0FDakJLLEVBQVkzeEUsS0FBS2t4RSxlQUNqQjZCLEVBQVkveUUsS0FBSzB4RSxXQUNqQkUsSUFDTW1CLEtBQWEveUUsS0FBS3F4RSxlQUNwQnJ4RSxLQUFLcXhFLGFBQWEwQixHQUFhLENBQzNCejVDLFlBQWFzNEMsRUFBWXQ0QyxZQUN6QkMsUUFBU3E0QyxFQUFZcjRDLFFBQ3JCSSxlQUFnQmk0QyxFQUFZajRDLGVBQzVCZSxVQUFXazNDLEVBQVlsM0MsVUFDdkJsQixTQUFVbzRDLEVBQVlwNEMsU0FDdEJDLFdBQVltNEMsRUFBWW40QyxXQUN4QkMsU0FBVWs0QyxFQUFZbDRDLFlBSWxDLElBQUlzNUMsRUFBVWh6RSxLQUFLd3hFLFNBQ2J3QixLQUFXaHpFLEtBQUt1eEUsYUFDbEJ2eEUsS0FBS3V4RSxXQUFXeUIsR0FBVyxDQUN2QjEvQyxLQUFNdStDLEVBQVV2K0MsS0FDaEIwVCxVQUFXNnFDLEVBQVU3cUMsV0FBYSxLQUNsQ0UsYUFBYzJxQyxFQUFVM3FDLGNBQWdCLEtBQ3hDM29CLE1BQU9zekQsRUFBVXR6RCxRQUd6QixJQUFJMDBELEVBQVVqekUsS0FBS3l4RSxTQUNmRSxJQUNNc0IsS0FBV2p6RSxLQUFLbXhFLGFBQ2xCbnhFLEtBQUtteEUsV0FBVzhCLEdBQVcsQ0FDdkJ4NEMsVUFBV2szQyxFQUFVbDNDLGNBVXJDbTJDLEVBQWtCaHhFLFVBQVVrekUsV0FBYSxTQUFVbHJFLEVBQU9DLEdBQ3RELElBQUkrcEUsRUFBYzV4RSxLQUFLb3hFLGlCQUNuQlMsRUFBWTd4RSxLQUFLc3hFLFdBQ2pCeUIsRUFBWS95RSxLQUFLMHhFLFdBQ2pCc0IsRUFBVWh6RSxLQUFLd3hFLFNBQ2Z5QixFQUFVanpFLEtBQUt5eEUsU0FDbkJ6eEUsS0FBS295RSxrQkFDTCxJQUFJMTVDLEVBQWExNEIsS0FBSzA0QixXQUNsQnc2QyxFQUFXNUMsR0FBV3VCLEVBQVUzcUMsY0FDaEN0UyxFQUFVNTBCLEtBQUsrd0UsYUFBZXI0QyxFQUM5Qi9GLEVBQU8zeUIsS0FBS285QixNQUNaeEQsRUFBY2c0QyxFQUNYQSxFQUFZbDNDLFVBQVluc0IsS0FBS29iLElBQUlrb0QsRUFBVXR6RCxNQUFNLElBQU8sRUFDekQsRUFDTnZlLEtBQUtnckUsYUFBYTlvRSxLQUFLLENBQ25CLGNBQ0EwRixFQUNBQyxFQUNBcXJFLEVBQ0FyQixFQUFVcHFDLFNBQ1Z3ckMsRUFDQXBCLEVBQVV6cUMsU0FDVjFPLEVBQ0E5RCxFQUNBbStDLEVBQ0FuNUMsRUFBY2xCLEVBQ2QvRixFQUNBcWdELEVBQ0EsSUFFSmh6RSxLQUFLa3JFLHlCQUF5QmhwRSxLQUFLLENBQy9CLGNBQ0EwRixFQUNBQyxFQUNBcXJFLEVBQ0FyQixFQUFVcHFDLFNBQ1Z3ckMsRUFDQXBCLEVBQVV6cUMsU0FDVixFQUNBeFMsRUFDQW0rQyxFQUNBbjVDLEVBQ0FqSCxFQUNBcWdELEVBQ0EsRUFBSXQ2QyxLQU9aazRDLEVBQWtCaHhFLFVBQVU2cUUsYUFBZSxTQUFVQyxFQUFXcUUsR0FDNUQsSUFBSThDLEVBQVdGLEVBQVdDLEVBQzFCLEdBQUtsSCxFQUdBLENBQ0QsSUFBSXlJLEVBQWdCekksRUFBVWp6QyxVQUN6QjA3QyxJQUtEeEIsRUFBWTN4RSxLQUFLa3hFLGtCQUViUyxFQUE0RCxHQUM1RDN4RSxLQUFLa3hFLGVBQWlCUyxHQUUxQkEsRUFBVWwzQyxXQUFZLFFBQVkwNEMsRUFBY3Q1QyxZQUFjLFFBVDlEODNDLEVBQVksS0FDWjN4RSxLQUFLa3hFLGVBQWlCUyxHQVUxQixJQUFJeUIsRUFBa0IxSSxFQUFVNXlDLFlBQ2hDLEdBQUtzN0MsRUFJQSxFQUNEeEIsRUFBYzV4RSxLQUFLb3hFLG9CQUVmUSxFQUFnRSxHQUNoRTV4RSxLQUFLb3hFLGlCQUFtQlEsR0FFNUIsSUFBSWw0QyxFQUFXMDVDLEVBQWdCdDVDLGNBQzNCSCxFQUFpQnk1QyxFQUFnQnI1QyxvQkFDakNXLEVBQVkwNEMsRUFBZ0J4OEQsV0FDNUI2aUIsRUFBYTI1QyxFQUFnQmw1QyxnQkFDakMwM0MsRUFBWXI0QyxRQUFVNjVDLEVBQWdCbjVDLGNBQWdCLEtBQ3REMjNDLEVBQVlsNEMsU0FBV0EsRUFBV0EsRUFBU2p2QixRQUFVLEtBQ3JEbW5FLEVBQVlqNEMsb0JBQ1d4MkIsSUFBbkJ3MkIsRUFBK0IsS0FBd0JBLEVBQzNEaTRDLEVBQVlwNEMsU0FBVzQ1QyxFQUFnQnA1QyxlQUFpQixLQUN4RDQzQyxFQUFZbDNDLGVBQ012M0IsSUFBZHUzQixFQUEwQixLQUFtQkEsRUFDakRrM0MsRUFBWW40QyxnQkFDT3QyQixJQUFmczJCLEVBQTJCLEtBQW9CQSxFQUNuRG00QyxFQUFZdDRDLGFBQWMsUUFBWTg1QyxFQUFnQnY1QyxZQUFjLFdBdEJwRSszQyxFQUFjLEtBQ2Q1eEUsS0FBS294RSxpQkFBbUJRLEVBdUI1QkMsRUFBWTd4RSxLQUFLc3hFLFdBQ2pCLElBQUloK0MsRUFBT28zQyxFQUFVemlDLFdBQWEsTUFDbEMsUUFBYTNVLEdBQ2IsSUFBSSsvQyxFQUFZM0ksRUFBVWh2QyxnQkFDMUJtMkMsRUFBVXBxQyxTQUFXaWpDLEVBQVV0aUMsY0FDL0J5cEMsRUFBVXYrQyxLQUFPQSxFQUNqQnUrQyxFQUFVenFDLFNBQVdzakMsRUFBVXZpQyxjQUMvQjBwQyxFQUFVdnFDLFVBQVlvakMsRUFBVXhpQyxlQUNoQzJwQyxFQUFVN3FDLFVBQVkwakMsRUFBVXJpQyxlQUNoQ3dwQyxFQUFVM3FDLGFBQ053akMsRUFBVXBpQyxtQkFBcUIsS0FDbkN1cEMsRUFBVWhxQyxlQUFpQjZpQyxFQUFVamlDLG9CQUNyQ29wQyxFQUFVOXBDLGlCQUFtQjJpQyxFQUFVaGlDLHNCQUN2Q21wQyxFQUFVNzlDLFFBQVUwMkMsRUFBVS9oQyxjQUFnQixLQUM5Q2twQyxFQUFVdHpELFdBQXNCcGIsSUFBZGt3RSxFQUEwQixDQUFDLEVBQUcsR0FBS0EsRUFDckQsSUFBSUMsRUFBYzVJLEVBQVVuaUMsYUFDeEJnckMsRUFBYzdJLEVBQVVsaUMsYUFDeEJnckMsRUFBcUI5SSxFQUFVMXlDLG9CQUMvQnk3QyxFQUFlL0ksRUFBVTN5QyxjQUM3Qi8zQixLQUFLbzlCLE1BQVFzdEMsRUFBVW50QyxXQUFhLEdBQ3BDdjlCLEtBQUs4d0Usa0JBQStCM3RFLElBQWhCbXdFLEVBQTRCLEVBQUlBLEVBQ3BEdHpFLEtBQUsrd0Usa0JBQStCNXRFLElBQWhCb3dFLEVBQTRCLEVBQUlBLEVBQ3BEdnpFLEtBQUtneEUseUJBQ3NCN3RFLElBQXZCcXdFLEdBQTJDQSxFQUMvQ3h6RSxLQUFLaXhFLG1CQUFpQzl0RSxJQUFqQnN3RSxFQUE2QixFQUFJQSxFQUN0RHp6RSxLQUFLMHhFLFdBQWFFLEdBQ3VCLGlCQUEzQkEsRUFBWXQ0QyxZQUNoQnM0QyxFQUFZdDRDLGFBQ1osUUFBT3M0QyxFQUFZdDRDLGNBQ3JCczRDLEVBQVlyNEMsUUFDWnE0QyxFQUFZajRDLGVBQ1osSUFDQWk0QyxFQUFZbDNDLFVBQ1prM0MsRUFBWXA0QyxTQUNabzRDLEVBQVluNEMsV0FDWixJQUNBbTRDLEVBQVlsNEMsU0FBU251QixPQUNyQixJQUNGLEdBQ052TCxLQUFLd3hFLFNBQ0RLLEVBQVV2K0MsS0FDTnUrQyxFQUFVdHpELE9BQ1RzekQsRUFBVTdxQyxXQUFhLE1BQ3ZCNnFDLEVBQVUzcUMsY0FBZ0IsS0FDbkNsbkMsS0FBS3l4RSxTQUFXRSxFQUNvQixpQkFBdkJBLEVBQVVsM0MsVUFDYmszQyxFQUFVbDNDLFVBQ1YsS0FBTSxRQUFPazNDLEVBQVVsM0MsV0FDM0IsUUExRk56NkIsS0FBS285QixNQUFRLEdBNEZqQnA5QixLQUFLNnVFLHdCQUEwQkUsR0FFNUI2QixFQXBmMkIsQ0FxZnBDLEtDcmNGLFNBdkVrQyxXQU85QixTQUFTOEMsRUFBYTkwRCxFQUFXNCtCLEVBQVdybUMsRUFBWXVoQixHQUtwRDE0QixLQUFLMnpFLFdBQWEvMEQsRUFLbEI1ZSxLQUFLNHpFLFdBQWFwMkIsRUFLbEJ4OUMsS0FBS2l1RCxZQUFjdjFCLEVBS25CMTRCLEtBQUs2ekUsWUFBYzE4RCxFQUtuQm5YLEtBQUs4ekUsa0JBQW9CLEdBcUM3QixPQWhDQUosRUFBYTl6RSxVQUFVZ3RFLE9BQVMsV0FDNUIsSUFBSW1ILEVBQXNCLEdBQzFCLElBQUssSUFBSUMsS0FBUWgwRSxLQUFLOHpFLGtCQUFtQixDQUNyQ0MsRUFBb0JDLEdBQVFELEVBQW9CQyxJQUFTLEdBQ3pELElBQUlDLEVBQVdqMEUsS0FBSzh6RSxrQkFBa0JFLEdBQ3RDLElBQUssSUFBSUUsS0FBY0QsRUFBVSxDQUM3QixJQUFJRSxFQUFxQkYsRUFBU0MsR0FBWXRILFNBQzlDbUgsRUFBb0JDLEdBQU1FLEdBQWNDLEdBR2hELE9BQU9KLEdBT1hMLEVBQWE5ekUsVUFBVXcwRSxXQUFhLFNBQVU5MkMsRUFBUSsyQyxHQUNsRCxJQUFJQyxPQUF1Qm54RSxJQUFYbTZCLEVBQXVCQSxFQUFPbjBCLFdBQWEsSUFDdkRvckUsRUFBVXYwRSxLQUFLOHpFLGtCQUFrQlEsUUFDckJueEUsSUFBWm94RSxJQUNBQSxFQUFVLEdBQ1Z2MEUsS0FBSzh6RSxrQkFBa0JRLEdBQWFDLEdBRXhDLElBQUlDLEVBQVNELEVBQVFGLEdBTXJCLFlBTGVseEUsSUFBWHF4RSxJQUVBQSxFQUFTLElBQUlDLEVBREtsRSxHQUFtQjhELElBQ1pyMEUsS0FBSzJ6RSxXQUFZM3pFLEtBQUs0ekUsV0FBWTV6RSxLQUFLNnpFLFlBQWE3ekUsS0FBS2l1RCxhQUNsRnNtQixFQUFRRixHQUFlRyxHQUVwQkEsR0FFSmQsRUFyRXNCLEdDYmpDLEdBQ1ksU0FEWixHQUVhLFVBRmIsR0FHVyxRQUhYLEdBSWlCLGFBSmpCLEdBS2EsVUFMYixHQU1VLE8sZUNTSCxTQUFTZ0IsR0FBZS8rRCxFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFROGMsRUFBTWdpRCxFQUFRdnRDLEVBQVU3b0IsRUFBTzRWLEVBQTBCYixFQUFNbHFCLEVBQU9nTyxHQUN2SSxJQUFJVyxFQUFLcEMsRUFBZ0JDLEdBQ3JCdUMsRUFBS3hDLEVBQWdCQyxFQUFTLEdBQzlCa0MsRUFBSyxFQUNMSSxFQUFLLEVBQ0x5cUMsRUFBZ0IsRUFDaEJpeUIsRUFBVyxFQUNmLFNBQVNDLElBQ0wvOEQsRUFBS0MsRUFDTEcsRUFBS0MsRUFFTEosRUFBS3BDLEVBRExDLEdBQVVDLEdBRVZzQyxFQUFLeEMsRUFBZ0JDLEVBQVMsR0FDOUJnL0QsR0FBWWp5QixFQUNaQSxFQUFnQnAwQyxLQUFLeWYsTUFBTWpXLEVBQUtELElBQU9DLEVBQUtELElBQU9LLEVBQUtELElBQU9DLEVBQUtELElBRXhFLEdBQ0kyOEQsVUFDS2ovRCxFQUFTL04sRUFBTWdPLEdBQVUrK0QsRUFBV2p5QixFQUFnQmd5QixHQU83RCxJQU5BLElBQUlHLEdBQWVILEVBQVNDLEdBQVlqeUIsRUFDcENveUIsR0FBUyxRQUFLajlELEVBQUlDLEVBQUkrOEQsR0FDdEJFLEdBQVMsUUFBSzk4RCxFQUFJQyxFQUFJMjhELEdBQ3RCRyxFQUFjci9ELEVBQVNDLEVBQ3ZCcS9ELEVBQWNOLEVBQ2RPLEVBQU9SLEVBQVNwMkQsRUFBUTRWLEVBQXlCYixFQUFNWCxFQUFNdnBCLEdBQzFEd00sRUFBUy9OLEVBQU1nTyxHQUFVKytELEVBQVdqeUIsRUFBZ0J3eUIsR0FDdkROLElBRUpDLEdBQWVLLEVBQU9QLEdBQVlqeUIsRUFDbEMsSUFHSTJoQixFQUhBcHJELEdBQU8sUUFBS3BCLEVBQUlDLEVBQUkrOEQsR0FDcEIzN0QsR0FBTyxRQUFLakIsRUFBSUMsRUFBSTI4RCxHQUd4QixHQUFJMTlELEVBQVUsQ0FDVixJQUFJZytELEVBQU8sQ0FBQ0wsRUFBUUMsRUFBUTk3RCxFQUFNQyxJQUNsQyxTQUFPaThELEVBQU0sRUFBRyxFQUFHLEVBQUdoK0QsRUFBVWcrRCxFQUFNQSxHQUN0QzlRLEVBQVU4USxFQUFLLEdBQUtBLEVBQUssUUFHekI5USxFQUFVeVEsRUFBUzc3RCxFQUV2QixJQW9CSW04RCxFQXBCQXByRCxFQUFLMWIsS0FBSzBiLEdBQ1ZpaEIsRUFBUyxHQUNUb3FDLEVBQWdCTCxFQUFjcC9ELElBQVdELEVBTzdDLEdBTEErc0MsRUFBZ0IsRUFDaEJpeUIsRUFBV00sRUFDWG45RCxFQUFLcEMsRUFITEMsRUFBU3EvRCxHQUlUOThELEVBQUt4QyxFQUFnQkMsRUFBUyxHQUUxQjAvRCxFQUFlLENBQ2ZULElBQ0EsSUFBSVUsRUFBa0JobkUsS0FBS3dmLE1BQU01VixFQUFLRCxFQUFJSCxFQUFLRCxHQUMzQ3dzRCxJQUNBaVIsR0FBbUJBLEVBQWtCLEdBQUt0ckQsRUFBS0EsR0FFbkQsSUFBSTdWLEdBQUs4RSxFQUFPNjdELEdBQVUsRUFDdEIxZ0UsR0FBSzhFLEVBQU82N0QsR0FBVSxFQUUxQixPQURBOXBDLEVBQU8sR0FBSyxDQUFDOTJCLEVBQUdDLEdBQUk4Z0UsRUFBT1IsR0FBVSxFQUFHWSxFQUFpQjVpRCxHQUNsRHVZLEVBR1gsSUFBSyxJQUFJMXBDLEVBQUksRUFBR0MsRUFBS2t4QixFQUFLanhCLE9BQVFGLEVBQUlDLEdBQUssQ0FDdkNvekUsSUFDQSxJQUFJeDJELEVBQVE5UCxLQUFLd2YsTUFBTTVWLEVBQUtELEVBQUlILEVBQUtELEdBSXJDLEdBSEl3c0QsSUFDQWptRCxHQUFTQSxFQUFRLEdBQUs0TCxFQUFLQSxRQUVUOW1CLElBQWxCa3lFLEVBQTZCLENBQzdCLElBQUkxeUQsRUFBUXRFLEVBQVFnM0QsRUFFcEIsR0FEQTF5RCxHQUFTQSxFQUFRc0gsR0FBTSxFQUFJQSxFQUFLdEgsR0FBU3NILEVBQUssRUFBSUEsRUFBSyxFQUNuRDFiLEtBQUtvYixJQUFJaEgsR0FBU3lrQixFQUNsQixPQUFPLEtBR2ZpdUMsRUFBZ0JoM0QsRUFHaEIsSUFGQSxJQUFJbTNELEVBQVNoMEUsRUFDVGkwRSxFQUFhLEVBQ1ZqMEUsRUFBSUMsSUFBTUQsRUFBRyxDQUNoQixJQUNJcUYsRUFBTTBYLEVBQVE0VixFQUF5QmIsRUFBTVgsRUFEckMyeEMsRUFBVTdpRSxFQUFLRCxFQUFJLEVBQUlBLEdBQzJCNEgsR0FDOUQsR0FBSXdNLEVBQVNDLEVBQVNoTyxHQUNsQitzRSxFQUFXanlCLEVBQWdCZ3lCLEVBQVNjLEVBQWE1dUUsRUFBTSxFQUN2RCxNQUVKNHVFLEdBQWM1dUUsRUFFbEIsR0FBSXJGLElBQU1nMEUsRUFBVixDQUdBLElBQUlFLEVBQVFwUixFQUNOM3hDLEVBQUtnakQsVUFBVWwwRSxFQUFLK3pFLEVBQVEvekUsRUFBS0QsR0FDakNteEIsRUFBS2dqRCxVQUFVSCxFQUFRaDBFLEdBQzdCc3pFLEdBQWVILEVBQVNjLEVBQWEsRUFBSWIsR0FBWWp5QixFQUNqRHZ1QyxHQUFJLFFBQUswRCxFQUFJQyxFQUFJKzhELEdBQ2pCemdFLEdBQUksUUFBSzZELEVBQUlDLEVBQUkyOEQsR0FDckI1cEMsRUFBT2hwQyxLQUFLLENBQUNrUyxFQUFHQyxFQUFHb2hFLEVBQWEsRUFBR3AzRCxFQUFPcTNELElBQzFDZixHQUFVYyxHQUVkLE9BQU92cUMsRUM5R0osU0FBUzBxQyxHQUFpQmpnRSxFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQUkzRCxJQUhBLElBQUlpQyxFQUFLbkMsRUFBZ0JDLEdBQ3JCc0MsRUFBS3ZDLEVBQWdCQyxFQUFTLEdBQzlCbFUsRUFBUyxFQUNKRixFQUFJb1UsRUFBU0MsRUFBUXJVLEVBQUlxRyxFQUFLckcsR0FBS3FVLEVBQVEsQ0FDaEQsSUFBSWtDLEVBQUtwQyxFQUFnQm5VLEdBQ3JCMlcsRUFBS3hDLEVBQWdCblUsRUFBSSxHQUM3QkUsR0FBVTZNLEtBQUt5ZixNQUFNalcsRUFBS0QsSUFBT0MsRUFBS0QsSUFBT0ssRUFBS0QsSUFBT0MsRUFBS0QsSUFDOURKLEVBQUtDLEVBQ0xHLEVBQUtDLEVBRVQsT0FBT3pXLEVDdUJYLElBQUl3Z0UsSUFBWSxVQUVab1EsR0FBSyxHQUVMQyxHQUFLLEdBRUxDLEdBQUssR0FFTHFELEdBQUssR0FLVCxTQUFTQyxHQUFnQkMsR0FDckIsT0FBT0EsRUFBdUIsR0FBR0MsYUFFckMsSUFBSUMsR0FBVyxJQUFJM3FFLE9BRW5CLElBQ0lzMEIsT0FBT3MyQyxhQUFhLE1BQVcsSUFBTXQyQyxPQUFPczJDLGFBQWEsTUFDekR0MkMsT0FBT3MyQyxhQUFhLE9BQVcsSUFBTXQyQyxPQUFPczJDLGFBQWEsT0FDekR0MkMsT0FBT3MyQyxhQUFhLE9BQVcsSUFBTXQyQyxPQUFPczJDLGFBQWEsT0FDekR0MkMsT0FBT3MyQyxhQUFhLE9BQVcsSUFBTXQyQyxPQUFPczJDLGFBQWEsT0FDekR0MkMsT0FBT3MyQyxhQUFhLFFBQVcsSUFBTXQyQyxPQUFPczJDLGFBQWEsUUFDekQsS0FRSixTQUFTQyxHQUFvQnhqRCxFQUFNeWpELEdBSS9CLE1BSGUsVUFBVkEsR0FBK0IsUUFBVkEsR0FBcUJILEdBQVNJLEtBQUsxakQsS0FDekR5akQsRUFBa0IsVUFBVkEsRUFBb0IsT0FBUyxTQUVsQzlGLEdBQVc4RixHQWkwQnRCLFNBL3pCOEIsV0FRMUIsU0FBU0UsRUFBU24vRCxFQUFZdWhCLEVBQVk2OUMsRUFBVXZMLEVBQWNoRSxHQUs5RGhuRSxLQUFLdTJFLFNBQVdBLEVBS2hCdjJFLEtBQUswNEIsV0FBYUEsRUFNbEIxNEIsS0FBS21YLFdBQWFBLEVBS2xCblgsS0FBS3cyRSxXQUtMeDJFLEtBQUtnckUsYUFBZUEsRUFBYUEsYUFLakNockUsS0FBSzRULFlBQWNvM0QsRUFBYXAzRCxZQUtoQzVULEtBQUt5MkUsaUJBQW1CLEdBS3hCejJFLEtBQUtxbkUsY0FBZ0JMLEVBS3JCaG5FLEtBQUswMkUsb0JBQXFCLFVBSzFCMTJFLEtBQUtrckUseUJBQTJCRixFQUFhRSx5QkFLN0NsckUsS0FBSzIyRSxrQkFBb0IsS0FLekIzMkUsS0FBSzQyRSxjQUFnQixFQUlyQjUyRSxLQUFLbXhFLFdBQWFuRyxFQUFhbUcsWUFBYyxHQUk3Q254RSxLQUFLcXhFLGFBQWVyRyxFQUFhcUcsY0FBZ0IsR0FJakRyeEUsS0FBS3V4RSxXQUFhdkcsRUFBYXVHLFlBQWMsR0FLN0N2eEUsS0FBSzYyRSxRQUFVLEdBS2Y3MkUsS0FBSzZ3RSxRQUFVLEdBa3VCbkIsT0F6dEJBeUYsRUFBUzEyRSxVQUFVazNFLFlBQWMsU0FBVW5rRCxFQUFNcWdELEVBQVNDLEVBQVNGLEdBQy9ELElBQUk5dEUsRUFBTTB0QixFQUFPcWdELEVBQVVDLEVBQVVGLEVBQ3JDLEdBQUkveUUsS0FBSzZ3RSxRQUFRNXJFLEdBQ2IsT0FBT2pGLEtBQUs2d0UsUUFBUTVyRSxHQUV4QixJQUFJMnNFLEVBQWNtQixFQUFZL3lFLEtBQUtxeEUsYUFBYTBCLEdBQWEsS0FDekRwQixFQUFZc0IsRUFBVWp6RSxLQUFLbXhFLFdBQVc4QixHQUFXLEtBQ2pEcEIsRUFBWTd4RSxLQUFLdXhFLFdBQVd5QixHQUM1QnQ2QyxFQUFhMTRCLEtBQUswNEIsV0FDbEJuYSxFQUFRLENBQ1JzekQsRUFBVXR6RCxNQUFNLEdBQUttYSxFQUNyQm01QyxFQUFVdHpELE1BQU0sR0FBS21hLEdBRXJCMDlDLEVBQVFELEdBQW9CeGpELEVBQU1rL0MsRUFBVTdxQyxXQUFhLE1BQ3pEcE4sRUFBY201QyxHQUFhbkIsRUFBWWwzQyxVQUFZazNDLEVBQVlsM0MsVUFBWSxFQUMzRXJHLEVBQVExQixFQUFLam9CLE1BQU0sTUFDbkI2cEIsRUFBV0YsRUFBTTN5QixPQUNqQjR5QixFQUFTLEdBQ1Q3bkIsR0FBUSxRQUFrQm9sRSxFQUFVditDLEtBQU1lLEVBQU9DLEdBQ2pEMW9CLEdBQWEsUUFBa0JpbUUsRUFBVXYrQyxNQUV6Q3lqRCxFQUFjdHFFLEVBQVFtdEIsRUFDdEJyRSxFQUFzQixHQUV0QkwsR0FBSzZoRCxFQUFjLEdBQUt4NEQsRUFBTSxHQUM5QjRXLEdBTFN2cEIsRUFBYTJvQixFQUtScUYsR0FBZXJiLEVBQU0sR0FFbkNpWCxFQUFRLENBQ1Ivb0IsTUFBT3lvQixFQUFJLEVBQUkzbUIsS0FBSzJMLE1BQU1nYixHQUFLM21CLEtBQUs2eEIsS0FBS2xMLEdBQ3pDeG9CLE9BQVF5b0IsRUFBSSxFQUFJNW1CLEtBQUsyTCxNQUFNaWIsR0FBSzVtQixLQUFLNnhCLEtBQUtqTCxHQUMxQ0ksb0JBQXFCQSxHQUVULEdBQVpoWCxFQUFNLElBQXVCLEdBQVpBLEVBQU0sSUFDdkJnWCxFQUFvQnJ6QixLQUFLLFFBQVNxYyxHQUV0Q2dYLEVBQW9CcnpCLEtBQUssT0FBUTJ2RSxFQUFVditDLE1BQ3ZDeS9DLElBQ0F4OUMsRUFBb0JyekIsS0FBSyxjQUFlMHZFLEVBQVl0NEMsYUFDcEQvRCxFQUFvQnJ6QixLQUFLLFlBQWEwM0IsR0FDdENyRSxFQUFvQnJ6QixLQUFLLFVBQVcwdkUsRUFBWXI0QyxTQUNoRGhFLEVBQW9CcnpCLEtBQUssV0FBWTB2RSxFQUFZcDRDLFVBQ2pEakUsRUFBb0JyekIsS0FBSyxhQUFjMHZFLEVBQVluNEMsYUFFckMsTUFBMEJ1OUMsa0NBQW9DQywwQkFDaEVyM0UsVUFBVSs2QixjQUNsQnBGLEVBQW9CcnpCLEtBQUssY0FBZSxDQUFDMHZFLEVBQVlsNEMsV0FDckRuRSxFQUFvQnJ6QixLQUFLLGlCQUFrQjB2RSxFQUFZajRDLGtCQUczRHM1QyxHQUNBMTlDLEVBQW9CcnpCLEtBQUssWUFBYXl2RSxFQUFVbDNDLFdBRXBEbEYsRUFBb0JyekIsS0FBSyxlQUFnQixVQUN6Q3F6QixFQUFvQnJ6QixLQUFLLFlBQWEsVUFDdEMsSUFFSVYsRUFGQTAxRSxFQUFZLEdBQU1kLEVBQ2xCaGlFLEVBQUlnaUUsRUFBUVcsRUFBY0csRUFBWXQ5QyxFQUUxQyxHQUFJbTVDLEVBQ0EsSUFBS3Z4RSxFQUFJLEVBQUdBLEVBQUkreUIsSUFBWS95QixFQUN4Qit6QixFQUFvQnJ6QixLQUFLLGFBQWMsQ0FDbkNteUIsRUFBTTd5QixHQUNONFMsRUFBSThpRSxFQUFZNWlELEVBQU85eUIsR0FDdkIsSUFBT280QixFQUFjaHVCLEdBQWNwSyxFQUFJb0ssSUFJbkQsR0FBSXFuRSxFQUNBLElBQUt6eEUsRUFBSSxFQUFHQSxFQUFJK3lCLElBQVkveUIsRUFDeEIrekIsRUFBb0JyekIsS0FBSyxXQUFZLENBQ2pDbXlCLEVBQU03eUIsR0FDTjRTLEVBQUk4aUUsRUFBWTVpRCxFQUFPOXlCLEdBQ3ZCLElBQU9vNEIsRUFBY2h1QixHQUFjcEssRUFBSW9LLElBS25ELE9BREE1TCxLQUFLNndFLFFBQVE1ckUsR0FBT3V3QixFQUNiQSxHQVdYOGdELEVBQVMxMkUsVUFBVXUzRSxzQkFBd0IsU0FBVXppRCxFQUFTNDlDLEVBQUlDLEVBQUlDLEVBQUlxRCxFQUFJak4sRUFBaUJDLEdBQzNGbjBDLEVBQVE0RixZQUNSNUYsRUFBUThyQyxPQUFPdnhELE1BQU15bEIsRUFBUzQ5QyxHQUM5QjU5QyxFQUFROEYsT0FBT3ZyQixNQUFNeWxCLEVBQVM2OUMsR0FDOUI3OUMsRUFBUThGLE9BQU92ckIsTUFBTXlsQixFQUFTODlDLEdBQzlCOTlDLEVBQVE4RixPQUFPdnJCLE1BQU15bEIsRUFBU21oRCxHQUM5Qm5oRCxFQUFROEYsT0FBT3ZyQixNQUFNeWxCLEVBQVM0OUMsR0FDMUIxSixJQUNBNW9FLEtBQUt3MkUsV0FBcUM1TixFQUFnQixHQUMxRDVvRSxLQUFLdTJCLE1BQU03QixJQUVYbTBDLElBQ0E3b0UsS0FBS28zRSxnQkFBZ0IxaUQsRUFDRyxHQUN4QkEsRUFBUXdDLFdBdUJoQm8vQyxFQUFTMTJFLFVBQVV5M0UsaUNBQW1DLFNBQVVDLEVBQVlDLEVBQWFoc0IsRUFBU0MsRUFBUy8rQyxFQUFPQyxFQUFRd1UsRUFBU0MsRUFBUzZULEVBQVNDLEVBQVM3ZCxFQUFVbUgsRUFBT2k1RCxFQUFheGpELEVBQVN5akQsRUFBWXB3RCxHQUc3TSxJQWtCSXZJLEVBbEJBMUssRUFBSW0zQyxHQUZScnFDLEdBQVczQyxFQUFNLElBR2JsSyxFQUFJbTNDLEdBRlJycUMsR0FBVzVDLEVBQU0sSUFHYjJXLEVBQUl6b0IsRUFBUXVvQixFQUFVc2lELEVBQWFBLEVBQWF0aUQsRUFBVXZvQixFQUMxRDBvQixFQUFJem9CLEVBQVN1b0IsRUFBVXNpRCxFQUFjQSxFQUFjdGlELEVBQVV2b0IsRUFDN0RnckUsRUFBTzFqRCxFQUFRLEdBQUtrQixFQUFJM1csRUFBTSxHQUFLeVYsRUFBUSxHQUMzQzJqRCxFQUFPM2pELEVBQVEsR0FBS21CLEVBQUk1VyxFQUFNLEdBQUt5VixFQUFRLEdBQzNDNGpELEVBQU94akUsRUFBSTRmLEVBQVEsR0FDbkI2akQsRUFBT3hqRSxFQUFJMmYsRUFBUSxHQTJCdkIsT0ExQkl5akQsR0FBMkIsSUFBYnJnRSxLQUNkazdELEdBQUcsR0FBS3NGLEVBQ1IvQixHQUFHLEdBQUsrQixFQUNSdEYsR0FBRyxHQUFLdUYsRUFDUnRGLEdBQUcsR0FBS3NGLEVBQ1J0RixHQUFHLEdBQUtxRixFQUFPRixFQUNmbEYsR0FBRyxHQUFLRCxHQUFHLEdBQ1hDLEdBQUcsR0FBS3FGLEVBQU9GLEVBQ2Y5QixHQUFHLEdBQUtyRCxHQUFHLElBR0UsSUFBYnA3RCxHQUNBMEgsR0FBWSxTQUFpQixVQUFtQnlzQyxFQUFTQyxFQUFTLEVBQUcsRUFBR3AwQyxHQUFXbTBDLEdBQVVDLElBQzdGLFFBQWUxc0MsRUFBV3d6RCxLQUMxQixRQUFleHpELEVBQVd5ekQsS0FDMUIsUUFBZXp6RCxFQUFXMHpELEtBQzFCLFFBQWUxekQsRUFBVysyRCxLQUMxQixRQUFldG5FLEtBQUt5SCxJQUFJczhELEdBQUcsR0FBSUMsR0FBRyxHQUFJQyxHQUFHLEdBQUlxRCxHQUFHLElBQUt0bkUsS0FBS3lILElBQUlzOEQsR0FBRyxHQUFJQyxHQUFHLEdBQUlDLEdBQUcsR0FBSXFELEdBQUcsSUFBS3RuRSxLQUFLMEgsSUFBSXE4RCxHQUFHLEdBQUlDLEdBQUcsR0FBSUMsR0FBRyxHQUFJcUQsR0FBRyxJQUFLdG5FLEtBQUswSCxJQUFJcThELEdBQUcsR0FBSUMsR0FBRyxHQUFJQyxHQUFHLEdBQUlxRCxHQUFHLElBQUszVCxNQUd2SyxRQUFlM3pELEtBQUt5SCxJQUFJNGhFLEVBQU1BLEVBQU9GLEdBQU9ucEUsS0FBS3lILElBQUk2aEUsRUFBTUEsRUFBT0YsR0FBT3BwRSxLQUFLMEgsSUFBSTJoRSxFQUFNQSxFQUFPRixHQUFPbnBFLEtBQUswSCxJQUFJNGhFLEVBQU1BLEVBQU9GLEdBQU96VixJQUVuSXNWLElBQ0FwakUsRUFBSTdGLEtBQUtnNEIsTUFBTW55QixHQUNmQyxFQUFJOUYsS0FBS2c0QixNQUFNbHlCLElBRVosQ0FDSHlqRSxXQUFZMWpFLEVBQ1oyakUsV0FBWTFqRSxFQUNaMmpFLFdBQVk5aUQsRUFDWitpRCxXQUFZOWlELEVBQ1pILFFBQVNBLEVBQ1RDLFFBQVNBLEVBQ1QrZ0QsYUFBYyxDQUNWamhFLEtBQU1tdEQsR0FBVSxHQUNoQmx0RCxLQUFNa3RELEdBQVUsR0FDaEJqdEQsS0FBTWl0RCxHQUFVLEdBQ2hCaHRELEtBQU1ndEQsR0FBVSxHQUNoQjM4RCxNQUFPOGhCLEdBRVgwOEMsZ0JBQWlCamxELEVBQ2pCUCxNQUFPQSxJQWNmKzNELEVBQVMxMkUsVUFBVXM0RSxvQkFBc0IsU0FBVXhqRCxFQUFTeWpELEVBQWNDLEVBQWNDLEVBQVl2akQsRUFBUzh6QyxFQUFpQkMsR0FDMUgsSUFBSTRPLEtBQWdCN08sSUFBbUJDLEdBQ25DampDLEVBQU15eUMsRUFBV3JDLGFBQ2pCMXBFLEVBQVNvb0IsRUFBUXBvQixPQUNqQmdzRSxFQUFnQnpQLEVBQ2JBLEVBQWtCLEdBQUt3UCxFQUFXOTVELE1BQU0sR0FBTSxFQUMvQyxFQWFOLE9BWmlCcW5CLEVBQUk3d0IsS0FBT3VqRSxHQUFpQmhzRSxFQUFPRyxNQUFRMHJFLEdBQ3hEdnlDLEVBQUkzd0IsS0FBT3FqRSxHQUFpQixHQUM1QjF5QyxFQUFJNXdCLEtBQU9zakUsR0FBaUJoc0UsRUFBT0ksT0FBU3lyRSxHQUM1Q3Z5QyxFQUFJMXdCLEtBQU9vakUsR0FBaUIsSUFFeEJiLEdBQ0F6M0UsS0FBS20zRSxzQkFBc0J6aUQsRUFBUzQ5QyxHQUFJQyxHQUFJQyxHQUFJcUQsR0FDeEIsRUFDQSxJQUU1QixRQUFpQm5oRCxFQUFTMmpELEVBQVd0VSxnQkFBaUJqdkMsRUFBU3NqRCxFQUFjQyxFQUFXcmpELFFBQVNxakQsRUFBV3BqRCxRQUFTb2pELEVBQVdMLFdBQVlLLEVBQVdKLFdBQVlJLEVBQVdQLFdBQVlPLEVBQVdOLFdBQVlNLEVBQVc5NUQsU0FFek4sR0FNWCszRCxFQUFTMTJFLFVBQVUyMkIsTUFBUSxTQUFVN0IsR0FDakMsR0FBSTEwQixLQUFLdzJFLFdBQVksQ0FDakIsSUFBSXZSLEdBQVcsUUFBZWpsRSxLQUFLMDJFLG1CQUFvQixDQUFDLEVBQUcsSUFDdkQ2QixFQUFhLElBQU12NEUsS0FBSzA0QixXQUM1QmhFLEVBQVFVLE9BQ1JWLEVBQVE3VixVQUFVb21ELEVBQVMsR0FBS3NULEVBQVl0VCxFQUFTLEdBQUtzVCxHQUMxRDdqRCxFQUFRdFcsT0FBT3BlLEtBQUs0MkUsZUFFeEJsaUQsRUFBUThCLE9BQ0p4MkIsS0FBS3cyRSxZQUNMOWhELEVBQVFpQixXQVFoQjJnRCxFQUFTMTJFLFVBQVV3M0UsZ0JBQWtCLFNBQVUxaUQsRUFBU280QyxHQUNwRHA0QyxFQUFxQixZQUEyRG80QyxFQUFZLEdBQzVGcDRDLEVBQVFnRyxVQUFtQ295QyxFQUFZLEdBQ3ZEcDRDLEVBQVE2RSxRQUF3Q3V6QyxFQUFZLEdBQzVEcDRDLEVBQVE4RSxTQUEwQ3N6QyxFQUFZLEdBQzlEcDRDLEVBQVErRSxXQUFvQ3F6QyxFQUFZLEdBQ3BEcDRDLEVBQVFpRyxjQUNSakcsRUFBUWlGLGVBQXdDbXpDLEVBQVksR0FDNURwNEMsRUFBUWlHLFlBQTBDbXlDLEVBQVksTUFXdEV3SixFQUFTMTJFLFVBQVU0NEUsNkJBQStCLFNBQVU3bEQsRUFBTXFnRCxFQUFTRCxFQUFXRSxHQUNsRixJQUFJcEIsRUFBWTd4RSxLQUFLdXhFLFdBQVd5QixHQUM1Qng5QyxFQUFReDFCLEtBQUs4MkUsWUFBWW5rRCxFQUFNcWdELEVBQVNDLEVBQVNGLEdBQ2pEbkIsRUFBYzV4RSxLQUFLcXhFLGFBQWEwQixHQUNoQ3I2QyxFQUFhMTRCLEtBQUswNEIsV0FDbEIwOUMsRUFBUUQsR0FBb0J4akQsRUFBTWsvQyxFQUFVN3FDLFdBQWEsTUFDekRrc0MsRUFBVzVDLEdBQVd1QixFQUFVM3FDLGNBQWdCLE1BQ2hEdE4sRUFBY2c0QyxHQUFlQSxFQUFZbDNDLFVBQVlrM0MsRUFBWWwzQyxVQUFZLEVBTWpGLE1BQU8sQ0FDSGxGLE1BQU9BLEVBQ1B0VSxRQUxVazFELEdBREY1Z0QsRUFBTS9vQixNQUFRaXNCLEVBQWEsRUFBSW01QyxFQUFVdHpELE1BQU0sSUFDN0IsR0FBSyxHQUFNNjNELEdBQVN4OEMsRUFNOUN6WSxRQUxXK3hELEVBQVcxOUMsRUFBTTlvQixPQUFVZ3NCLEVBQ3RDLEdBQUssR0FBTXc2QyxHQUFZdDVDLElBcUIvQjA4QyxFQUFTMTJFLFVBQVU2NEUsU0FBVyxTQUFVL2pELEVBQVN5akQsRUFBY3I1RCxFQUFXa3NELEVBQWN3TSxFQUFha0IsRUFBcUJDLEVBQWVDLEdBRXJJLElBQUlDLEVBQ0E3NEUsS0FBSzIyRSxvQkFBcUIsU0FBTzczRCxFQUFXOWUsS0FBSzAyRSxvQkFDakRtQyxFQUFtQjc0RSxLQUFLMjJFLG1CQUduQjMyRSxLQUFLMjJFLG9CQUNOMzJFLEtBQUsyMkUsa0JBQW9CLElBRTdCa0MsR0FBbUIsU0FBWTc0RSxLQUFLNFQsWUFBYSxFQUFHNVQsS0FBSzRULFlBQVlsUyxPQUFRLEVBQUdvZCxFQUFXOWUsS0FBSzIyRSxvQkFDaEcsUUFBc0IzMkUsS0FBSzAyRSxtQkFBb0I1M0QsSUF5Qm5ELElBdkJBLElBR0lnNkQsRUFDQTUzRCxFQUFTQyxFQUFTNDNELEVBQU9DLEVBQU9DLEVBQVFDLEVBQVFqOEMsRUFBT3RLLEVBQU1xZ0QsRUFBU0QsRUFBV0UsRUFpQjNCNXJELEVBQ3REalQsRUFBR0MsRUFBRzhrRSxFQXRCTjMzRSxFQUFJLEVBQ0pDLEVBQUt1cEUsRUFBYXRwRSxPQUNsQnJDLEVBQUksRUFHSis1RSxFQUFjLEVBQ2RDLEVBQWdCLEVBQ2hCQyxFQUFzQixLQUN0QkMsRUFBd0IsS0FDeEJDLEVBQWtCeDVFLEtBQUt5MkUsaUJBQ3ZCZ0QsRUFBZXo1RSxLQUFLNDJFLGNBQ3BCOEMsRUFBNEJuckUsS0FBS2c0QixNQUFnRCxLQUExQ2g0QixLQUFLd2YsT0FBT2pQLEVBQVUsR0FBSUEsRUFBVSxLQUFjLEtBQ3pGNnhCLEVBQXVELENBQ3ZEamMsUUFBU0EsRUFDVGdFLFdBQVkxNEIsS0FBSzA0QixXQUNqQnZoQixXQUFZblgsS0FBS21YLFdBQ2pCQyxTQUFVcWlFLEdBSVZFLEVBQVkzNUUsS0FBS2dyRSxjQUFnQkEsR0FBZ0JockUsS0FBS3UyRSxTQUFXLEVBQUksSUFHbEUvMEUsRUFBSUMsR0FBSSxDQUNYLElBQUlxckUsRUFBYzlCLEVBQWF4cEUsR0FFL0IsT0FEOERzckUsRUFBWSxJQUV0RSxLQUFLLGtCQUNEemxELEVBQWlFeWxELEVBQVksR0FDN0VxTSxFQUFrQnJNLEVBQVksR0FDekJ6bEQsRUFBUUMsbUJBR2Nua0IsSUFBbEJ3MUUsSUFDSixRQUFXQSxFQUFlUSxFQUFnQnAvRCxlQUl6Q3ZZLEVBSEZBLEVBQTJCc3JFLEVBQVksR0FBTSxFQUo3Q3RyRSxFQUEyQnNyRSxFQUFZLEdBUzNDLE1BQ0osS0FBSyxjQUNHc00sRUFBY08sSUFDZDM1RSxLQUFLdTJCLE1BQU03QixHQUNYMGtELEVBQWMsR0FFZEMsRUFBZ0JNLElBQ2hCamxELEVBQVF3QyxTQUNSbWlELEVBQWdCLEdBRWZELEdBQWdCQyxJQUNqQjNrRCxFQUFRNEYsWUFDUnkrQyxFQUFROTZELElBQ1IrNkQsRUFBUS82RCxPQUVWemMsRUFDRixNQUNKLEtBQUssVUFFRCxJQUFJc1csRUFBSytnRSxFQURUeDVFLEVBQTJCeXRFLEVBQVksSUFFbkM1MEQsRUFBSzJnRSxFQUFpQng1RSxFQUFJLEdBRzFCaVYsRUFGS3VrRSxFQUFpQng1RSxFQUFJLEdBRWhCeVksRUFDVnZELEVBRktza0UsRUFBaUJ4NUUsRUFBSSxHQUVoQjZZLEVBQ1YxTyxFQUFJK0UsS0FBS3lmLEtBQUsxWixFQUFLQSxFQUFLQyxFQUFLQSxHQUNqQ21nQixFQUFROHJDLE9BQU8xb0QsRUFBS3RPLEVBQUcwTyxHQUN2QndjLEVBQVE2RixJQUFJemlCLEVBQUlJLEVBQUkxTyxFQUFHLEVBQUcsRUFBSStFLEtBQUswYixJQUFJLEtBQ3JDem9CLEVBQ0YsTUFDSixLQUFLLGNBQ0RrekIsRUFBUWtHLGNBQ05wNUIsRUFDRixNQUNKLEtBQUssVUFDRG5DLEVBQTJCeXRFLEVBQVksR0FDdkNnTSxFQUFLaE0sRUFBWSxHQUNqQixJQUFJaHdDLEVBQTBFZ3dDLEVBQVksR0FDdEYzdkMsRUFBVzJ2QyxFQUFZLEdBQ3ZCN3hELEVBQTJCLEdBQXRCNnhELEVBQVlwckUsT0FBY29yRSxFQUFZLFFBQUszcEUsRUFDcER3dEMsRUFBTTdULFNBQVdBLEVBQ2pCNlQsRUFBTXRwQixRQUFVQSxFQUNWN2xCLEtBQUtnNEUsSUFDUEEsRUFBZ0JoNEUsR0FBSyxJQUV6QixJQUFJd3BELEVBQVN3dUIsRUFBZ0JoNEUsR0FDekJ5WixFQUNBQSxFQUFHNDlELEVBQWtCeDVFLEVBQUd5NUUsRUFBSSxFQUFHOXRCLElBRy9CQSxFQUFPLEdBQUs2dEIsRUFBaUJ4NUUsR0FDN0IyckQsRUFBTyxHQUFLNnRCLEVBQWlCeDVFLEVBQUksR0FDakMyckQsRUFBT3RwRCxPQUFTLEdBRXBCeTdCLEVBQVM2dEIsRUFBUXJhLEtBQ2ZudkMsRUFDRixNQUNKLEtBQUssY0FDRG5DLEVBQTJCeXRFLEVBQVksR0FDdkNnTSxFQUE0QmhNLEVBQVksR0FDeEM3dkMsRUFBNEU2dkMsRUFBWSxHQUV4RjVyRCxFQUFpQzRyRCxFQUFZLEdBQzdDM3JELEVBQWlDMnJELEVBQVksR0FDN0MsSUFBSXBnRSxFQUFnQ29nRSxFQUFZLEdBQzVDaDRDLEVBQWlDZzRDLEVBQVksR0FDN0M5M0MsRUFBaUM4M0MsRUFBWSxHQUM3QzczQyxFQUFpQzYzQyxFQUFZLEdBQzdDMzJDLEdBQXlDMjJDLEVBQVksSUFDckQxMUQsR0FBa0MwMUQsRUFBWSxJQUM5Q3Z1RCxHQUFxRHV1RCxFQUFZLElBQ2pFcmdFLEdBQStCcWdFLEVBQVksSUFDM0M4TSxHQUF1RjlNLEVBQVksSUFDdkcsSUFBSzd2QyxHQUFTNnZDLEVBQVlwckUsUUFBVSxHQUFJLENBRXBDaXhCLEVBQThCbTZDLEVBQVksSUFDMUNrRyxFQUFpQ2xHLEVBQVksSUFDN0NpRyxFQUFtQ2pHLEVBQVksSUFDL0NtRyxFQUFpQ25HLEVBQVksSUFDN0MsSUFBSStNLEdBQWtCNzVFLEtBQUt3NEUsNkJBQTZCN2xELEVBQU1xZ0QsRUFBU0QsRUFBV0UsR0FDbEZoMkMsRUFBUTQ4QyxHQUFnQnJrRCxNQUN4QnMzQyxFQUFZLEdBQUs3dkMsRUFDakIsSUFBSXEyQyxHQUFxQ3hHLEVBQVksSUFDckQ1ckQsR0FBVzI0RCxHQUFnQjM0RCxRQUFVb3lELElBQWV0ekUsS0FBSzA0QixXQUN6RG8wQyxFQUFZLEdBQUs1ckQsRUFDakIsSUFBSXF5RCxHQUFxQ3pHLEVBQVksSUFDckQzckQsR0FBVzA0RCxHQUFnQjE0RCxRQUFVb3lELElBQWV2ekUsS0FBSzA0QixXQUN6RG8wQyxFQUFZLEdBQUszckQsRUFDakJ6VSxFQUFTdXdCLEVBQU12d0IsT0FDZm9nRSxFQUFZLEdBQUtwZ0UsRUFDakJELEdBQVF3d0IsRUFBTXh3QixNQUNkcWdFLEVBQVksSUFBTXJnRSxHQUV0QixJQUFJc2xFLFFBQWlCLEVBQ2pCakYsRUFBWXByRSxPQUFTLEtBQ3JCcXdFLEdBQXdDakYsRUFBWSxLQUV4RCxJQUFJOTRDLFFBQVUsRUFBUTZULFFBQWlCLEVBQVFFLFFBQW1CLEVBQzlEK2tDLEVBQVlwckUsT0FBUyxJQUNyQnN5QixHQUF3Qzg0QyxFQUFZLElBQ3BEamxDLEdBQXlDaWxDLEVBQVksSUFDckQva0MsR0FBMkMra0MsRUFBWSxNQUd2RDk0QyxHQUFVLEtBQ1Y2VCxJQUFpQixFQUNqQkUsSUFBbUIsR0FFbkI1UixJQUFrQnVqRCxFQUVsQnRpRSxJQUFZcWlFLEVBRU50akQsSUFBbUJ1akQsSUFFekJ0aUUsSUFBWXFpRSxHQUdoQixJQURBLElBQUlLLEdBQWEsRUFDVno2RSxFQUFJeTVFLEVBQUl6NUUsR0FBSyxFQUNoQixLQUFJMHlFLElBQ0FBLEdBQWUrSCxNQUFnQnJ0RSxHQUFRek0sS0FBSzA0QixZQURoRCxDQUlBLElBRUlrdkIsR0FBTyxDQUNQbHpCLEVBQ0F5akQsRUFDQWw3QyxFQUxBbzdDLEdBQWFyNEUsS0FBS3EzRSxpQ0FBaUNwNkMsRUFBTXh3QixNQUFPd3dCLEVBQU12d0IsT0FBUW1zRSxFQUFpQng1RSxHQUFJdzVFLEVBQWlCeDVFLEVBQUksR0FBSW9OLEdBQU9DLEVBQVF3VSxFQUFTQyxFQUFTNlQsRUFBU0MsRUFBUzdkLEdBQVVtSCxHQUFPaTVELEVBQWF4akQsR0FBUzZULElBQWtCRSxHQUFrQjFnQixHQU8xUHlOLEVBQ0ErUyxHQUM4QixFQUN4QixLQUNORSxHQUM4QixFQUN4QixNQUVOZ3lDLFFBQVksRUFDWkMsUUFBb0IsRUFDeEIsR0FBSXBCLEdBQXFCZ0IsR0FBd0IsQ0FDN0MsSUFBS0EsR0FBdUJ2NkUsR0FBSSxDQUU1QnU2RSxHQUF1QnY2RSxHQUFLdW9ELEdBRTVCLFNBS0osR0FIQW15QixHQUFZSCxHQUF1QnY2RSxVQUM1QnU2RSxHQUF1QnY2RSxHQUM5QjI2RSxHQUFvQmxFLEdBQWdCaUUsSUFDaENuQixFQUFrQm40QyxTQUFTdTVDLElBQzNCLFNBR0pwQixHQUNBQSxFQUFrQm40QyxTQUFTNDNDLEdBQVdyQyxnQkFHdEMrRCxLQUVJbkIsR0FDQUEsRUFBa0JsNEMsT0FBT3M1QyxJQUc3Qmg2RSxLQUFLazRFLG9CQUFvQmpwRSxNQUFNalAsS0FBTSs1RSxLQUVyQ25CLEdBQ0FBLEVBQWtCbDRDLE9BQU8yM0MsR0FBV3JDLGNBRXhDaDJFLEtBQUtrNEUsb0JBQW9CanBFLE1BQU1qUCxLQUFNNG5ELE9BRXZDcG1ELEVBQ0YsTUFDSixLQUFLLGNBQ0QsSUFBSW9HLEdBQStCa2xFLEVBQVksR0FDM0NqbEUsR0FBNkJpbEUsRUFBWSxHQUN6Q29HLEdBQWtDcEcsRUFBWSxHQUM5Q3JsQyxHQUFrQ3FsQyxFQUFZLEdBQ2xEbUcsRUFBaUNuRyxFQUFZLEdBQzdDLElBQUkxbEMsR0FBa0MwbEMsRUFBWSxHQUM5Q21OLEdBQTJDbk4sRUFBWSxHQUN2RGw0QyxHQUFpQ2s0QyxFQUFZLEdBQ2pEaUcsRUFBbUNqRyxFQUFZLEdBQy9DLElBQUlsekMsR0FBcUNrekMsRUFBWSxJQUNyRG42QyxFQUE4Qm02QyxFQUFZLElBQzFDa0csRUFBaUNsRyxFQUFZLElBQzdDLElBQUlvTixHQUFrQixDQUNLcE4sRUFBWSxJQUNaQSxFQUFZLEtBRW5DK0UsR0FBWTd4RSxLQUFLdXhFLFdBQVd5QixHQUM1QjEvQyxHQUFPdStDLEdBQVV2K0MsS0FDakIrL0MsR0FBWSxDQUNaeEIsR0FBVXR6RCxNQUFNLEdBQUswN0QsR0FDckJwSSxHQUFVdHpELE1BQU0sR0FBSzA3RCxJQUVyQkUsUUFBZSxFQUNmN21ELE1BQVF0ekIsS0FBSzYyRSxRQUNic0QsR0FBZW42RSxLQUFLNjJFLFFBQVF2akQsS0FHNUI2bUQsR0FBZSxHQUNmbjZFLEtBQUs2MkUsUUFBUXZqRCxJQUFRNm1ELElBRXpCLElBQUlDLEdBQWF4RSxHQUFpQmlELEVBQWtCanhFLEdBQU9DLEdBQUssR0FDNUR3eUUsR0FBYTlyRSxLQUFLb2IsSUFBSTBwRCxHQUFVLEtBQ2hDLFFBQXlCLy9DLEdBQU1YLEVBQU13bkQsSUFDekMsR0FBSTF5QyxJQUFZNHlDLElBQWNELEdBQVksQ0FDdEMsSUFBSXB6QyxHQUFZaG5DLEtBQUt1eEUsV0FBV3lCLEdBQVNoc0MsVUFFckNzekMsR0FBUTVGLEdBQWVtRSxFQUFrQmp4RSxHQUFPQyxHQUFLLEVBQUc4cUIsR0FEOUN5bkQsR0FBYUMsSUFBYy9KLEdBQVd0cEMsSUFDc0JJLEdBQVU3NEIsS0FBS29iLElBQUkwcEQsR0FBVSxJQUFLLEtBQTBCLy9DLEdBQU02bUQsR0FBY1QsRUFBNEIsRUFBSTE1RSxLQUFLNDJFLGVBQy9MMkQsRUFBVyxHQUFJRCxHQUFPLENBRWxCLElBQUl2RSxHQUF5QixHQUN6QmgzQyxRQUFJLEVBQVF5N0MsUUFBSyxFQUFROUUsUUFBUSxFQUFRbGdELFFBQVEsRUFBUWlsRCxRQUFPLEVBQ3BFLEdBQUkxSCxFQUNBLElBQUtoMEMsR0FBSSxFQUFHeTdDLEdBQUtGLEdBQU01NEUsT0FBUXE5QixHQUFJeTdDLEtBQU16N0MsR0FBRyxDQUV4QzIyQyxJQURBK0UsR0FBT0gsR0FBTXY3QyxLQUN1QixHQUNwQ3ZKLEdBQVF4MUIsS0FBSzgyRSxZQUFZcEIsR0FBTzFDLEVBQVMsR0FBSUQsR0FDN0M3eEQsRUFDMkJ1NUQsR0FBSyxJQUN2QnBILEdBQVUsR0FBSyxHQUFLejVDLEdBQWNBLElBQzNDelksRUFDSSt4RCxHQUFXMTlDLEdBQU05b0IsT0FDTyxHQUFsQixHQUFNd21FLElBQWdCdDVDLEdBQWN5NUMsR0FBVSxHQUM1Q0EsR0FBVSxHQUNkeitDLEdBQ1IsSUFBSXlqRCxHQUFhcjRFLEtBQUtxM0UsaUNBQWlDN2hELEdBQU0vb0IsTUFBTytvQixHQUFNOW9CLE9BQVErdEUsR0FBSyxHQUFJQSxHQUFLLEdBQUlqbEQsR0FBTS9vQixNQUFPK29CLEdBQU05b0IsT0FBUXdVLEVBQVNDLEVBQVMsRUFBRyxFQUFHczVELEdBQUssR0FBSVAsSUFBaUIsRUFBTyxNQUFnQixFQUFPN3lELEdBQy9NLEdBQUl1eEQsR0FDQUEsRUFBa0JuNEMsU0FBUzQzQyxHQUFXckMsY0FDdEMsTUFBTXVFLEVBRVZ4RSxHQUF1Qjd6RSxLQUFLLENBQ3hCd3lCLEVBQ0F5akQsRUFDQTNpRCxHQUNBNmlELEdBQ0EsRUFDQSxLQUNBLE9BSVosR0FBSXBGLEVBQ0EsSUFBS2wwQyxHQUFJLEVBQUd5N0MsR0FBS0YsR0FBTTU0RSxPQUFRcTlCLEdBQUl5N0MsS0FBTXo3QyxHQUFHLENBT3hDLEdBTEEyMkMsSUFEQStFLEdBQU9ILEdBQU12N0MsS0FDdUIsR0FDcEN2SixHQUFReDFCLEtBQUs4MkUsWUFBWXBCLEdBQU8xQyxFQUFTQyxFQUFTLElBQ2xEL3hELEVBQWlDdTVELEdBQUssR0FDdEN0NUQsRUFBVSt4RCxHQUFXMTlDLEdBQU05b0IsT0FBU2tvQixHQUNoQ3lqRCxHQUFhcjRFLEtBQUtxM0UsaUNBQWlDN2hELEdBQU0vb0IsTUFBTytvQixHQUFNOW9CLE9BQVErdEUsR0FBSyxHQUFJQSxHQUFLLEdBQUlqbEQsR0FBTS9vQixNQUFPK29CLEdBQU05b0IsT0FBUXdVLEVBQVNDLEVBQVMsRUFBRyxFQUFHczVELEdBQUssR0FBSVAsSUFBaUIsRUFBTyxNQUFnQixFQUFPN3lELEdBQzNNdXhELEdBQ0FBLEVBQWtCbjRDLFNBQVM0M0MsR0FBV3JDLGNBQ3RDLE1BQU11RSxFQUVWeEUsR0FBdUI3ekUsS0FBSyxDQUN4Qnd5QixFQUNBeWpELEVBQ0EzaUQsR0FDQTZpRCxHQUNBLEVBQ0EsS0FDQSxPQUlSTyxHQUNBQSxFQUFrQngvQyxLQUFLMjhDLEdBQXVCcHJFLElBQUltckUsS0FFdEQsSUFBSyxJQUFJblEsR0FBTSxFQUFHK1UsR0FBTzNFLEdBQXVCcjBFLE9BQVFpa0UsR0FBTStVLEtBQVEvVSxHQUNsRTNsRSxLQUFLazRFLG9CQUFvQmpwRSxNQUFNalAsS0FBTSsxRSxHQUF1QnBRLFFBSXRFbmtFLEVBQ0YsTUFDSixLQUFLLGdCQUNELFFBQTRCMkIsSUFBeEJ1MUUsRUFBbUMsQ0FFbkMsSUFBSXh0QyxHQUFTd3RDLEVBRGJyeEQsRUFBaUV5bEQsRUFBWSxHQUNuQ3FNLEdBQzFDLEdBQUlqdUMsR0FDQSxPQUFPQSxLQUdiMXBDLEVBQ0YsTUFDSixLQUFLLFFBQ0dtNEUsRUFDQVAsSUFHQXA1RSxLQUFLdTJCLE1BQU03QixLQUVibHpCLEVBQ0YsTUFDSixLQUFLLG1CQVlELElBWEFuQyxFQUEyQnl0RSxFQUFZLEdBQ3ZDZ00sRUFBNEJoTSxFQUFZLEdBQ3hDMTRELEVBQUl5a0UsRUFBaUJ4NUUsR0FHckI2NUUsR0FGQTdrRSxFQUFJd2tFLEVBQWlCeDVFLEVBQUksSUFFWCxHQUFPLEdBRHJCNDVFLEVBQVU3a0UsRUFBSSxHQUFPLEtBRU4ya0UsR0FBU0csSUFBV0YsSUFDL0J0a0QsRUFBUThyQyxPQUFPcHNELEVBQUdDLEdBQ2xCMGtFLEVBQVFFLEVBQ1JELEVBQVFFLEdBRVA3NUUsR0FBSyxFQUFHQSxFQUFJeTVFLEVBQUl6NUUsR0FBSyxFQUd0QjQ1RSxHQUZBN2tFLEVBQUl5a0UsRUFBaUJ4NUUsSUFFUCxHQUFPLEVBQ3JCNjVFLEdBRkE3a0UsRUFBSXdrRSxFQUFpQng1RSxFQUFJLElBRVgsR0FBTyxFQUNqQkEsR0FBS3k1RSxFQUFLLEdBQUtHLElBQVdGLEdBQVNHLElBQVdGLElBQzlDdGtELEVBQVE4RixPQUFPcG1CLEVBQUdDLEdBQ2xCMGtFLEVBQVFFLEVBQ1JELEVBQVFFLEtBR2QxM0UsRUFDRixNQUNKLEtBQUssa0JBQ0Q4M0UsRUFBc0J4TSxFQUN0QjlzRSxLQUFLdzJFLFdBQWExSixFQUFZLEdBQzFCc00sSUFDQXA1RSxLQUFLdTJCLE1BQU03QixHQUNYMGtELEVBQWMsRUFDVkMsSUFDQTNrRCxFQUFRd0MsU0FDUm1pRCxFQUFnQixJQUd4QjNrRCxFQUFRK0YsVUFBbUVxeUMsRUFBWSxLQUNyRnRyRSxFQUNGLE1BQ0osS0FBSyxvQkFDRCszRSxFQUF3QnpNLEVBQ3BCdU0sSUFDQTNrRCxFQUFRd0MsU0FDUm1pRCxFQUFnQixHQUVwQnI1RSxLQUFLbzNFLGdCQUFnQjFpRCxFQUFpQyxLQUNwRGx6QixFQUNGLE1BQ0osS0FBSyxVQUNHbTRFLEVBQ0FOLElBR0Eza0QsRUFBUXdDLFdBRVYxMUIsRUFDRixNQUNKLFVBQ01BLEdBSVY0M0UsR0FDQXA1RSxLQUFLdTJCLE1BQU03QixHQUVYMmtELEdBQ0Eza0QsRUFBUXdDLFVBWWhCby9DLEVBQVMxMkUsVUFBVSs2RSxRQUFVLFNBQVVqbUQsRUFBU3lqRCxFQUFjcjVELEVBQVcyNkQsRUFBY2pDLEVBQWFvQixHQUNoRzU0RSxLQUFLNDJFLGNBQWdCNkMsRUFDckJ6NUUsS0FBS3k0RSxTQUFTL2pELEVBQVN5akQsRUFBY3I1RCxFQUFXOWUsS0FBS2dyRSxhQUFjd00sT0FBYXIwRSxPQUFXQSxFQUFXeTFFLElBWTFHdEMsRUFBUzEyRSxVQUFVZzdFLG9CQUFzQixTQUFVbG1ELEVBQVM1VixFQUFXMjZELEVBQWNmLEVBQXFCQyxHQUV0RyxPQURBMzRFLEtBQUs0MkUsY0FBZ0I2QyxFQUNkejVFLEtBQUt5NEUsU0FBUy9qRCxFQUFTLEVBQUc1VixFQUFXOWUsS0FBS2tyRSwwQkFBMEIsRUFBTXdOLEVBQXFCQyxJQUVuR3JDLEVBN3pCa0IsR0NuRTdCLElBQUl1RSxHQUFRLENBQ1JDLEdBQ0FBLEdBQ0FBLEdBQ0FBLEdBQ0FBLEdBQ0FBLElBRUFDLEdBQStCLFdBYS9CLFNBQVNBLEVBQWN2OUIsRUFBV3JtQyxFQUFZdWhCLEVBQVk2OUMsRUFBVXlFLEVBQWlCQyxHQUtqRmo3RSxLQUFLNHpFLFdBQWFwMkIsRUFLbEJ4OUMsS0FBS2s3RSxVQUFZM0UsRUFLakJ2MkUsS0FBS2l1RCxZQUFjdjFCLEVBS25CMTRCLEtBQUs2ekUsWUFBYzE4RCxFQUtuQm5YLEtBQUtxbkUsY0FBZ0I0VCxFQUtyQmo3RSxLQUFLbTdFLG1CQUFxQixHQUsxQm43RSxLQUFLbzdFLHFCQUF1QixLQUs1QnA3RSxLQUFLcTdFLHdCQUF5QixVQUM5QnI3RSxLQUFLczdFLGlCQUFpQk4sR0F1TTFCLE9Bak1BRCxFQUFjbjdFLFVBQVVxZ0UsS0FBTyxTQUFVdnJDLEVBQVM1VixHQUM5QyxJQUFJeThELEVBQWlCdjdFLEtBQUt3N0UsY0FBYzE4RCxHQUN4QzRWLEVBQVE0RixZQUNSNUYsRUFBUThyQyxPQUFPK2EsRUFBZSxHQUFJQSxFQUFlLElBQ2pEN21ELEVBQVE4RixPQUFPK2dELEVBQWUsR0FBSUEsRUFBZSxJQUNqRDdtRCxFQUFROEYsT0FBTytnRCxFQUFlLEdBQUlBLEVBQWUsSUFDakQ3bUQsRUFBUThGLE9BQU8rZ0QsRUFBZSxHQUFJQSxFQUFlLElBQ2pEN21ELEVBQVF1ckMsUUFPWjhhLEVBQWNuN0UsVUFBVTA3RSxpQkFBbUIsU0FBVU4sR0FDakQsSUFBSyxJQUFJMTlDLEtBQVUwOUMsRUFBaUIsQ0FDaEMsSUFBSVMsRUFBWXo3RSxLQUFLbTdFLG1CQUFtQjc5QyxRQUN0Qm42QixJQUFkczRFLElBQ0FBLEVBQVksR0FDWno3RSxLQUFLbTdFLG1CQUFtQjc5QyxHQUFVbStDLEdBRXRDLElBQUlDLEVBQXNCVixFQUFnQjE5QyxHQUN0QzBwQyxFQUFlLENBQUNobkUsS0FBS3FuRSxlQUFpQixFQUFHcm5FLEtBQUtxbkUsZUFBaUIsR0FDbkUsSUFBSyxJQUFJZ04sS0FBZXFILEVBQXFCLENBQ3pDLElBQUkxUSxFQUFlMFEsRUFBb0JySCxHQUN2Q29ILEVBQVVwSCxHQUFlLElBQUksR0FBU3IwRSxLQUFLNnpFLFlBQWE3ekUsS0FBS2l1RCxZQUFhanVELEtBQUtrN0UsVUFBV2xRLEVBQWNoRSxNQVFwSCtULEVBQWNuN0UsVUFBVSs3RSxhQUFlLFNBQVVGLEdBQzdDLElBQUssSUFBSW4rQyxLQUFVdDlCLEtBQUttN0UsbUJBRXBCLElBREEsSUFBSVMsRUFBYTU3RSxLQUFLbTdFLG1CQUFtQjc5QyxHQUNoQzk3QixFQUFJLEVBQUdDLEVBQUtnNkUsRUFBVS81RSxPQUFRRixFQUFJQyxJQUFNRCxFQUM3QyxHQUFJaTZFLEVBQVVqNkUsS0FBTW82RSxFQUNoQixPQUFPLEVBSW5CLE9BQU8sR0FZWGIsRUFBY243RSxVQUFVdTBDLDJCQUE2QixTQUFVMS9CLEVBQVkwQyxFQUFZQyxFQUFVK1AsRUFBY2hSLEVBQVUwbEUsR0FFckgsSUFBSUMsRUFBNkIsR0FEakMzMEQsRUFBZTVZLEtBQUtnNEIsTUFBTXBmLElBQ1csRUFDakNySSxHQUFZLFFBQWlCOWUsS0FBS3E3RSx1QkFBd0JsMEQsRUFBZSxHQUFLQSxFQUFlLEdBQUssRUFBSWhRLEdBQWEsRUFBSUEsR0FBYUMsR0FBVzNDLEVBQVcsSUFBS0EsRUFBVyxJQUMxSzBzRCxHQUFjbmhFLEtBQUtvN0UscUJBQ25CamEsSUFDQW5oRSxLQUFLbzdFLHNCQUF1QixRQUFzQlUsRUFBYUEsSUFFbkUsSUFZSUMsRUFaQXJuRCxFQUFVMTBCLEtBQUtvN0UscUJBQ2YxbUQsRUFBUXBvQixPQUFPRyxRQUFVcXZFLEdBQ3pCcG5ELEVBQVFwb0IsT0FBT0ksU0FBV292RSxHQUMxQnBuRCxFQUFRcG9CLE9BQU9HLE1BQVFxdkUsRUFDdkJwbkQsRUFBUXBvQixPQUFPSSxPQUFTb3ZFLEdBRWxCM2EsR0FDTnpzQyxFQUFRMHNDLFVBQVUsRUFBRyxFQUFHMGEsRUFBYUEsUUFNZDM0RSxJQUF2Qm5ELEtBQUtxbkUsZ0JBQ0wwVSxHQUFZLFdBQ1osUUFBaUJBLEVBQVd0bkUsSUFDNUIsUUFBT3NuRSxFQUFXNWtFLEdBQWNuWCxLQUFLcW5FLGNBQWdCbGdELEdBQWU0MEQsSUFFeEUsSUFDSTFILEVBREEySCxFQWlJTCxTQUE0QnR1RCxHQUMvQixRQUEyQ3ZxQixJQUF2Qzg0RSxHQUEyQnZ1RCxHQUMzQixPQUFPdXVELEdBQTJCdnVELEdBS3RDLElBSEEsSUFBSTdoQixFQUFnQixFQUFUNmhCLEVBQWEsRUFDcEJ3dUQsRUFBZ0J4dUQsRUFBU0EsRUFDekJ5dUQsRUFBWSxJQUFJejhFLE1BQU13OEUsRUFBZ0IsR0FDakMxNkUsRUFBSSxFQUFHQSxHQUFLa3NCLElBQVVsc0IsRUFDM0IsSUFBSyxJQUFJMEIsRUFBSSxFQUFHQSxHQUFLd3FCLElBQVV4cUIsRUFBRyxDQUM5QixJQUFJOHhDLEVBQWF4ekMsRUFBSUEsRUFBSTBCLEVBQUlBLEVBQzdCLEdBQUk4eEMsRUFBYWtuQyxFQUNiLE1BRUosSUFBSXZrQixFQUFXd2tCLEVBQVVubkMsR0FDcEIyaUIsSUFDREEsRUFBVyxHQUNYd2tCLEVBQVVubkMsR0FBYzJpQixHQUU1QkEsRUFBU3oxRCxLQUE0QyxJQUFyQ3dyQixFQUFTbHNCLEdBQUtxSyxHQUFRNmhCLEVBQVN4cUIsSUFBVSxHQUNyRDFCLEVBQUksR0FDSm0yRCxFQUFTejFELEtBQTRDLElBQXJDd3JCLEVBQVNsc0IsR0FBS3FLLEdBQVE2aEIsRUFBU3hxQixJQUFVLEdBRXpEQSxFQUFJLElBQ0p5MEQsRUFBU3oxRCxLQUE0QyxJQUFyQ3dyQixFQUFTbHNCLEdBQUtxSyxHQUFRNmhCLEVBQVN4cUIsSUFBVSxHQUNyRDFCLEVBQUksR0FDSm0yRCxFQUFTejFELEtBQTRDLElBQXJDd3JCLEVBQVNsc0IsR0FBS3FLLEdBQVE2aEIsRUFBU3hxQixJQUFVLElBTXpFLElBREEsSUFBSWs1RSxFQUFhLEdBQ0QzNkUsR0FBUEQsRUFBSSxFQUFRMjZFLEVBQVV6NkUsUUFBUUYsRUFBSUMsSUFBTUQsRUFDekMyNkUsRUFBVTM2RSxJQUNWNDZFLEVBQVdsNkUsS0FBSytNLE1BQU1tdEUsRUFBWUQsRUFBVTM2RSxJQUlwRCxPQURBeTZFLEdBQTJCdnVELEdBQVUwdUQsRUFDOUJBLEVBdEtXQyxDQUFtQmwxRCxHQU9qQyxTQUFTbTFELEVBQWdCajFELEVBQVN5VixHQUc5QixJQUZBLElBQUl5L0MsRUFBWTduRCxFQUFRMnNDLGFBQWEsRUFBRyxFQUFHeWEsRUFBYUEsR0FDbkQvekUsS0FDSTQ5RCxFQUFNLEVBQUdsa0UsRUFBS3U2RSxFQUFRdDZFLE9BQVFpa0UsRUFBTWxrRSxFQUFJa2tFLElBQzdDLEdBQUk0VyxFQUFVUCxFQUFRclcsSUFBUSxFQUFHLENBQzdCLElBQUtrVyxHQUNBeEgsSUFBZ0J5RyxJQUNiekcsSUFBZ0J5RyxLQUNzQixJQUExQ2UsRUFBb0J0MEUsUUFBUThmLEdBQWlCLENBQzdDLElBQUltMUQsR0FBT1IsRUFBUXJXLEdBQU8sR0FBSyxFQUMzQnZ4RCxFQUFJK1MsRUFBZ0JxMUQsRUFBTVYsRUFDMUJ6bkUsRUFBSThTLEdBQWlCcTFELEVBQU1WLEVBQWUsR0FDMUNXLEVBQVd0bUUsRUFBU2tSLEVBQVN5VixFQUFVMW9CLEVBQUlBLEVBQUlDLEVBQUlBLEdBQ3ZELEdBQUlvb0UsRUFDQSxPQUFPQSxFQUdmL25ELEVBQVEwc0MsVUFBVSxFQUFHLEVBQUcwYSxFQUFhQSxHQUNyQyxPQU1aLElBRUl0NkUsRUFBRzBCLEVBQUd1NEUsRUFBV2lCLEVBQVV4eEMsRUFGM0JrNUIsRUFBSzdrRSxPQUFPa0csS0FBS3pGLEtBQUttN0Usb0JBQW9CeHdFLElBQUlDLFFBR2xELElBRkF3NUQsRUFBR3ppQyxLQUFLLE9BRUhuZ0MsRUFBSTRpRSxFQUFHMWlFLE9BQVMsRUFBR0YsR0FBSyxJQUFLQSxFQUFHLENBQ2pDLElBQUk4eUUsRUFBWWxRLEVBQUc1aUUsR0FBRzJILFdBRXRCLElBREFzeUUsRUFBWXo3RSxLQUFLbTdFLG1CQUFtQjdHLEdBQy9CcHhFLEVBQUkyM0UsR0FBTW41RSxPQUFTLEVBQUd3QixHQUFLLElBQUtBLEVBR2pDLFFBQWlCQyxLQURqQnU1RSxFQUFXakIsRUFEWHBILEVBQWN3RyxHQUFNMzNFLE9BR2hCZ29DLEVBQVN3eEMsRUFBUzlCLG9CQUFvQmxtRCxFQUFTNVYsRUFBVzFILEVBQVVrbEUsRUFBaUJQLElBRWpGLE9BQU83d0MsSUFXM0I2dkMsRUFBY243RSxVQUFVNDdFLGNBQWdCLFNBQVUxOEQsR0FDOUMsSUFBSTArQixFQUFZeDlDLEtBQUs0ekUsV0FDckIsSUFBS3AyQixFQUNELE9BQU8sS0FFWCxJQUFJem9DLEVBQU95b0MsRUFBVSxHQUNqQnhvQyxFQUFPd29DLEVBQVUsR0FDakJ2b0MsRUFBT3VvQyxFQUFVLEdBQ2pCdG9DLEVBQU9zb0MsRUFBVSxHQUNqQis5QixFQUFpQixDQUFDeG1FLEVBQU1DLEVBQU1ELEVBQU1HLEVBQU1ELEVBQU1DLEVBQU1ELEVBQU1ELEdBRWhFLE9BREEsU0FBWXVtRSxFQUFnQixFQUFHLEVBQUcsRUFBR3o4RCxFQUFXeThELEdBQ3pDQSxHQUtYUixFQUFjbjdFLFVBQVUrVyxRQUFVLFdBQzlCLE9BQU8sUUFBUTNXLEtBQUttN0UscUJBWXhCSixFQUFjbjdFLFVBQVUrNkUsUUFBVSxTQUFVam1ELEVBQVN5akQsRUFBY3I1RCxFQUFXMjZELEVBQWNqQyxFQUFhbUYsRUFBa0IvRCxHQUV2SCxJQUFJeFUsRUFBSzdrRSxPQUFPa0csS0FBS3pGLEtBQUttN0Usb0JBQW9CeHdFLElBQUlDLFFBQ2xEdzVELEVBQUd6aUMsS0FBSyxPQUdKM2hDLEtBQUs0ekUsYUFDTGwvQyxFQUFRVSxPQUNScDFCLEtBQUtpZ0UsS0FBS3ZyQyxFQUFTNVYsSUFFdkIsSUFDSXRkLEVBQUdDLEVBQUl5QixFQUFHNmQsRUFBSXd6RCxFQUFTQyxFQUR2Qm9JLEVBQWVELEdBQXNDOUIsR0FLekQsSUFISWpDLEdBQ0F4VSxFQUFHRSxVQUVGOWlFLEVBQUksRUFBR0MsRUFBSzJpRSxFQUFHMWlFLE9BQVFGLEVBQUlDLElBQU1ELEVBQUcsQ0FDckMsSUFBSTh5RSxFQUFZbFEsRUFBRzVpRSxHQUFHMkgsV0FFdEIsSUFEQW9yRSxFQUFVdjBFLEtBQUttN0UsbUJBQW1CN0csR0FDN0JweEUsRUFBSSxFQUFHNmQsRUFBSzY3RCxFQUFhbDdFLE9BQVF3QixFQUFJNmQsSUFBTTdkLE9BRzdCQyxLQURmcXhFLEVBQVNELEVBRFNxSSxFQUFhMTVFLE1BRzNCc3hFLEVBQU9tRyxRQUFRam1ELEVBQVN5akQsRUFBY3I1RCxFQUFXMjZELEVBQWNqQyxFQUFhb0IsR0FJcEY1NEUsS0FBSzR6RSxZQUNMbC9DLEVBQVFpQixXQUdUb2xELEVBN1B1QixHQXFROUJrQixHQUE2QixHQStDakMsWUNyVUEsSUFBSSxHQUF3QyxXQUN4QyxJQUFJOThFLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBKzZCNUMsU0FoNUI2QyxTQUFVSSxHQVduRCxTQUFTMDhFLEVBQXdCbm9ELEVBQVNnRSxFQUFZN2tCLEVBQVFpTCxFQUFXMjZELEVBQWNxRCxFQUFzQkMsR0FDekcsSUFBSXo4RSxFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQTJLakMsT0F0S0FNLEVBQU0wOEUsU0FBV3RvRCxFQUtqQnAwQixFQUFNMnRELFlBQWN2MUIsRUFLcEJwNEIsRUFBTThjLFFBQVV2SixFQUtoQnZULEVBQU04aUMsV0FBYXRrQixFQUtuQnhlLEVBQU1zMkUsY0FBZ0I2QyxFQUt0Qm41RSxFQUFNMjhFLGtCQUFvQkgsRUFLMUJ4OEUsRUFBTTQ4RSxlQUFpQkgsRUFLdkJ6OEUsRUFBTTY4RSxrQkFBb0IsS0FLMUI3OEUsRUFBTTg4RSxvQkFBc0IsS0FLNUI5OEUsRUFBTSs4RSxrQkFBb0IsS0FLMUIvOEUsRUFBTWc5RSxXQUFhLEtBS25CaDlFLEVBQU1pOUUsYUFBZSxLQUtyQmo5RSxFQUFNMDhCLE9BQVMsS0FLZjE4QixFQUFNazlFLGNBQWdCLEVBS3RCbDlFLEVBQU1tOUUsY0FBZ0IsRUFLdEJuOUUsRUFBTW85RSxhQUFlLEVBS3JCcDlFLEVBQU1xOUUsY0FBZ0IsRUFLdEJyOUUsRUFBTXM5RSxjQUFnQixFQUt0QnQ5RSxFQUFNdTlFLGNBQWdCLEVBS3RCdjlFLEVBQU13OUUsc0JBQXVCLEVBSzdCeDlFLEVBQU15OUUsZUFBaUIsRUFLdkJ6OUUsRUFBTTA5RSxZQUFjLENBQUMsRUFBRyxHQUt4QjE5RSxFQUFNMjlFLFlBQWMsRUFLcEIzOUUsRUFBTTg4QixNQUFRLEdBS2Q5OEIsRUFBTXd3RSxhQUFlLEVBS3JCeHdFLEVBQU15d0UsYUFBZSxFQUtyQnp3RSxFQUFNMHdFLHFCQUFzQixFQUs1QjF3RSxFQUFNMndFLGNBQWdCLEVBS3RCM3dFLEVBQU00OUUsV0FBYSxDQUFDLEVBQUcsR0FLdkI1OUUsRUFBTTR3RSxlQUFpQixLQUt2QjV3RSxFQUFNOHdFLGlCQUFtQixLQUt6Qjl3RSxFQUFNZ3hFLFdBQWEsS0FLbkJoeEUsRUFBTXEyRSxrQkFBb0IsR0FLMUJyMkUsRUFBTTY5RSxvQkFBcUIsVUFDcEI3OUUsRUF1dEJYLE9BNzRCQSxHQUFVdThFLEVBQXlCMThFLEdBK0xuQzA4RSxFQUF3Qmo5RSxVQUFVdytFLFlBQWMsU0FBVXpvRSxFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQUNwRixHQUFLN1YsS0FBS2c5QixPQUFWLENBR0EsSUFBSTY3QyxHQUFtQixTQUFZbGpFLEVBQWlCQyxFQUFRL04sRUFBSyxFQUFHN0gsS0FBS29qQyxXQUFZcGpDLEtBQUsyMkUsbUJBQ3RGamlELEVBQVUxMEIsS0FBS2c5RSxTQUNmcUIsRUFBaUJyK0UsS0FBS20rRSxtQkFDdEJoWSxFQUFRenhDLEVBQVFXLFlBQ00sR0FBdEJyMUIsS0FBSzI5RSxnQkFDTGpwRCxFQUFRVyxZQUFjOHdDLEVBQVFubUUsS0FBSzI5RSxlQUV2QyxJQUFJdm1FLEVBQVdwWCxLQUFLKzlFLGVBQ2hCLzlFLEtBQUs4OUUsdUJBQ0wxbUUsR0FBWXBYLEtBQUs0MkUsZUFFckIsSUFBSyxJQUFJcDFFLEVBQUksRUFBR0MsRUFBS28zRSxFQUFpQm4zRSxPQUFRRixFQUFJQyxFQUFJRCxHQUFLLEVBQUcsQ0FDMUQsSUFBSTRTLEVBQUl5a0UsRUFBaUJyM0UsR0FBS3hCLEtBQUt3OUUsY0FDL0JucEUsRUFBSXdrRSxFQUFpQnIzRSxFQUFJLEdBQUt4QixLQUFLeTlFLGNBQ3ZDLEdBQWlCLElBQWJybUUsR0FDdUIsR0FBdkJwWCxLQUFLZytFLFlBQVksSUFDTSxHQUF2QmgrRSxLQUFLZytFLFlBQVksR0FBUyxDQUMxQixJQUFJenlCLEVBQVVuM0MsRUFBSXBVLEtBQUt3OUUsY0FDbkJoeUIsRUFBVW4zQyxFQUFJclUsS0FBS3k5RSxlQUN2QixRQUFpQlksRUFBZ0I5eUIsRUFBU0MsRUFBUyxFQUFHLEVBQUdwMEMsR0FBV20wQyxHQUFVQyxHQUM5RTkyQixFQUFRWSxhQUFhcm1CLE1BQU15bEIsRUFBUzJwRCxHQUNwQzNwRCxFQUFRN1YsVUFBVTBzQyxFQUFTQyxHQUMzQjkyQixFQUFRblcsTUFBTXZlLEtBQUtnK0UsWUFBWSxHQUFJaCtFLEtBQUtnK0UsWUFBWSxJQUNwRHRwRCxFQUFRZ0IsVUFBVTExQixLQUFLZzlCLE9BQVFoOUIsS0FBSzQ5RSxjQUFlNTlFLEtBQUs2OUUsY0FBZTc5RSxLQUFLaStFLFlBQWFqK0UsS0FBSzA5RSxjQUFlMTlFLEtBQUt3OUUsZUFBZ0J4OUUsS0FBS3k5RSxjQUFlejlFLEtBQUtpK0UsWUFBYWorRSxLQUFLMDlFLGNBQzdLaHBELEVBQVFZLGFBQWEsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLFFBR3BDWixFQUFRZ0IsVUFBVTExQixLQUFLZzlCLE9BQVFoOUIsS0FBSzQ5RSxjQUFlNTlFLEtBQUs2OUUsY0FBZTc5RSxLQUFLaStFLFlBQWFqK0UsS0FBSzA5RSxhQUFjdHBFLEVBQUdDLEVBQUdyVSxLQUFLaStFLFlBQWFqK0UsS0FBSzA5RSxjQUd2SCxHQUF0QjE5RSxLQUFLMjlFLGdCQUNManBELEVBQVFXLFlBQWM4d0MsS0FVOUIwVyxFQUF3Qmo5RSxVQUFVMCtFLFVBQVksU0FBVTNvRSxFQUFpQkMsRUFBUS9OLEVBQUtnTyxHQUNsRixHQUFLN1YsS0FBS3N4RSxZQUE2QixLQUFmdHhFLEtBQUtvOUIsTUFBN0IsQ0FHSXA5QixLQUFLa3hFLGdCQUNMbHhFLEtBQUt1K0UscUJBQXFCditFLEtBQUtreEUsZ0JBRS9CbHhFLEtBQUtveEUsa0JBQ0xweEUsS0FBS3crRSx1QkFBdUJ4K0UsS0FBS294RSxrQkFFckNweEUsS0FBS3krRSxxQkFBcUJ6K0UsS0FBS3N4RSxZQUMvQixJQUFJdUgsR0FBbUIsU0FBWWxqRSxFQUFpQkMsRUFBUS9OLEVBQUtnTyxFQUFRN1YsS0FBS29qQyxXQUFZcGpDLEtBQUsyMkUsbUJBQzNGamlELEVBQVUxMEIsS0FBS2c5RSxTQUNmNWxFLEVBQVdwWCxLQUFLaXhFLGNBSXBCLElBSElqeEUsS0FBS2d4RSxzQkFDTDU1RCxHQUFZcFgsS0FBSzQyRSxlQUVkaGhFLEVBQVMvTixFQUFLK04sR0FBVUMsRUFBUSxDQUNuQyxJQUFJekIsRUFBSXlrRSxFQUFpQmpqRSxHQUFVNVYsS0FBSzh3RSxhQUNwQ3o4RCxFQUFJd2tFLEVBQWlCampFLEVBQVMsR0FBSzVWLEtBQUsrd0UsYUFDNUMsR0FBaUIsSUFBYjM1RCxHQUNzQixHQUF0QnBYLEtBQUtrK0UsV0FBVyxJQUNNLEdBQXRCbCtFLEtBQUtrK0UsV0FBVyxHQUFTLENBQ3pCLElBQUlHLEdBQWlCLFFBQWlCcitFLEtBQUttK0UsbUJBQW9CL3BFLEVBQUdDLEVBQUcsRUFBRyxFQUFHK0MsR0FBV2hELEdBQUlDLEdBQzFGcWdCLEVBQVFZLGFBQWFybUIsTUFBTXlsQixFQUFTMnBELEdBQ3BDM3BELEVBQVE3VixVQUFVekssRUFBR0MsR0FDckJxZ0IsRUFBUW5XLE1BQU12ZSxLQUFLaytFLFdBQVcsR0FBSWwrRSxLQUFLaytFLFdBQVcsSUFDOUNsK0UsS0FBS294RSxrQkFDTDE4QyxFQUFRZ3FELFdBQVcxK0UsS0FBS285QixNQUFPLEVBQUcsR0FFbENwOUIsS0FBS2t4RSxnQkFDTHg4QyxFQUFRaXFELFNBQVMzK0UsS0FBS285QixNQUFPLEVBQUcsR0FFcEMxSSxFQUFRWSxhQUFhLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxRQUdoQ3QxQixLQUFLb3hFLGtCQUNMMThDLEVBQVFncUQsV0FBVzErRSxLQUFLbzlCLE1BQU9ocEIsRUFBR0MsR0FFbENyVSxLQUFLa3hFLGdCQUNMeDhDLEVBQVFpcUQsU0FBUzMrRSxLQUFLbzlCLE1BQU9ocEIsRUFBR0MsTUFjaER3b0UsRUFBd0JqOUUsVUFBVWcvRSxjQUFnQixTQUFVanBFLEVBQWlCQyxFQUFRL04sRUFBS2dPLEVBQVFncEUsR0FDOUYsSUFBSW5xRCxFQUFVMTBCLEtBQUtnOUUsU0FDZm5FLEdBQW1CLFNBQVlsakUsRUFBaUJDLEVBQVEvTixFQUFLZ08sRUFBUTdWLEtBQUtvakMsV0FBWXBqQyxLQUFLMjJFLG1CQUMvRmppRCxFQUFROHJDLE9BQU9xWSxFQUFpQixHQUFJQSxFQUFpQixJQUNyRCxJQUFJbjNFLEVBQVNtM0UsRUFBaUJuM0UsT0FDMUJtOUUsSUFDQW45RSxHQUFVLEdBRWQsSUFBSyxJQUFJRixFQUFJLEVBQUdBLEVBQUlFLEVBQVFGLEdBQUssRUFDN0JrekIsRUFBUThGLE9BQU9xK0MsRUFBaUJyM0UsR0FBSXEzRSxFQUFpQnIzRSxFQUFJLElBSzdELE9BSElxOUUsR0FDQW5xRCxFQUFRa0csWUFFTC95QixHQVVYZzFFLEVBQXdCajlFLFVBQVVrL0UsV0FBYSxTQUFVbnBFLEVBQWlCQyxFQUFRa0wsRUFBTWpMLEdBQ3BGLElBQUssSUFBSXJVLEVBQUksRUFBR0MsRUFBS3FmLEVBQUtwZixPQUFRRixFQUFJQyxJQUFNRCxFQUN4Q29VLEVBQVM1VixLQUFLNCtFLGNBQWNqcEUsRUFBaUJDLEVBQVFrTCxFQUFLdGYsR0FBSXFVLEdBQVEsR0FFMUUsT0FBT0QsR0FTWGluRSxFQUF3Qmo5RSxVQUFVdXBFLFdBQWEsU0FBVXJzQyxHQUNyRCxJQUFLLFFBQVc5OEIsS0FBS29kLFFBQVMwZixFQUFTL2lCLGFBQXZDLENBR0EsR0FBSS9aLEtBQUtzOUUsWUFBY3Q5RSxLQUFLdTlFLGFBQWMsQ0FDbEN2OUUsS0FBS3M5RSxZQUNMdDlFLEtBQUt1K0UscUJBQXFCditFLEtBQUtzOUUsWUFFL0J0OUUsS0FBS3U5RSxjQUNMdjlFLEtBQUt3K0UsdUJBQXVCeCtFLEtBQUt1OUUsY0FFckMsSUFBSTFFLEdBQW1CLFNBQWdCLzdDLEVBQVU5OEIsS0FBS29qQyxXQUFZcGpDLEtBQUsyMkUsbUJBQ25FcmlFLEVBQUt1a0UsRUFBaUIsR0FBS0EsRUFBaUIsR0FDNUN0a0UsRUFBS3NrRSxFQUFpQixHQUFLQSxFQUFpQixHQUM1Q25yRCxFQUFTbmYsS0FBS3lmLEtBQUsxWixFQUFLQSxFQUFLQyxFQUFLQSxHQUNsQ21nQixFQUFVMTBCLEtBQUtnOUUsU0FDbkJ0b0QsRUFBUTRGLFlBQ1I1RixFQUFRNkYsSUFBSXMrQyxFQUFpQixHQUFJQSxFQUFpQixHQUFJbnJELEVBQVEsRUFBRyxFQUFJbmYsS0FBSzBiLElBQ3RFanFCLEtBQUtzOUUsWUFDTDVvRCxFQUFROEIsT0FFUngyQixLQUFLdTlFLGNBQ0w3b0QsRUFBUXdDLFNBR0csS0FBZmwzQixLQUFLbzlCLE9BQ0xwOUIsS0FBS3MrRSxVQUFVeGhELEVBQVNobUIsWUFBYSxFQUFHLEVBQUcsS0FVbkQrbEUsRUFBd0JqOUUsVUFBVTBvQixTQUFXLFNBQVV4ZSxHQUNuRDlKLEtBQUtxcUUsbUJBQW1CdmdFLEVBQU0ydEIsVUFBVzN0QixFQUFNZ3VCLGFBQy9DOTNCLEtBQUtzcUUsY0FBY3hnRSxFQUFNMnVCLFlBQ3pCejRCLEtBQUt5cUUsYUFBYTNnRSxFQUFNeXpCLFlBSzVCcy9DLEVBQXdCajlFLFVBQVUwMUIsYUFBZSxTQUFVeFcsR0FDdkQ5ZSxLQUFLb2pDLFdBQWF0a0IsR0FTdEIrOUQsRUFBd0JqOUUsVUFBVXNwRSxhQUFlLFNBQVVwc0MsR0FFdkQsT0FEV0EsRUFBUy9mLFdBRWhCLEtBQUtndEIsR0FBQSxRQUNEL3BDLEtBQUtncUUsVUFDZ0QsR0FDckQsTUFDSixLQUFLamdDLEdBQUEsY0FDRC9wQyxLQUFLd3BFLGVBQ3FELEdBQzFELE1BQ0osS0FBS3ovQixHQUFBLFVBQ0QvcEMsS0FBS2txRSxZQUNrRCxHQUN2RCxNQUNKLEtBQUtuZ0MsR0FBQSxjQUNEL3BDLEtBQUs0cEUsZUFDcUQsR0FDMUQsTUFDSixLQUFLNy9CLEdBQUEsb0JBQ0QvcEMsS0FBSzBwRSxvQkFDMEQsR0FDL0QsTUFDSixLQUFLMy9CLEdBQUEsZ0JBQ0QvcEMsS0FBSzhwRSxpQkFDdUQsR0FDNUQsTUFDSixLQUFLLy9CLEdBQUEsc0JBQ0QvcEMsS0FBS3NwRSx1QkFDNkQsR0FDbEUsTUFDSixLQUFLdi9CLEdBQUEsU0FDRC9wQyxLQUFLbXBFLFdBQ2lELEtBZWxFMFQsRUFBd0JqOUUsVUFBVXlwRSxZQUFjLFNBQVVoaUQsRUFBU3ZkLEdBQy9ELElBQUlnekIsRUFBV2h6QixFQUFNNnpCLHFCQUFON3pCLENBQTRCdWQsR0FDdEN5VixJQUFhLFFBQVc5OEIsS0FBS29kLFFBQVMwZixFQUFTL2lCLGVBR3BEL1osS0FBS3NvQixTQUFTeGUsR0FDZDlKLEtBQUtrcEUsYUFBYXBzQyxLQVF0QisvQyxFQUF3Qmo5RSxVQUFVMHBFLHVCQUF5QixTQUFVeHNDLEdBRWpFLElBREEsSUFBSWlpRCxFQUFhamlELEVBQVNraUQscUJBQ2pCeDlFLEVBQUksRUFBR0MsRUFBS3M5RSxFQUFXcjlFLE9BQVFGLEVBQUlDLElBQU1ELEVBQzlDeEIsS0FBS2twRSxhQUFhNlYsRUFBV3Y5RSxLQVNyQ3E3RSxFQUF3Qmo5RSxVQUFVb3FFLFVBQVksU0FBVWx0QyxHQUNoRDk4QixLQUFLaTlFLG9CQUNMbmdELEVBQWlFQSxFQUFTamYsb0JBQW9CN2QsS0FBS2k5RSxrQkFBbUJqOUUsS0FBS2s5RSxpQkFFL0gsSUFBSXZuRSxFQUFrQm1uQixFQUFTamQscUJBQzNCaEssRUFBU2luQixFQUFTaGQsWUFDbEI5ZixLQUFLZzlCLFFBQ0xoOUIsS0FBS28rRSxZQUFZem9FLEVBQWlCLEVBQUdBLEVBQWdCalUsT0FBUW1VLEdBRTlDLEtBQWY3VixLQUFLbzlCLE9BQ0xwOUIsS0FBS3MrRSxVQUFVM29FLEVBQWlCLEVBQUdBLEVBQWdCalUsT0FBUW1VLElBU25FZ25FLEVBQXdCajlFLFVBQVVncUUsZUFBaUIsU0FBVTlzQyxHQUNyRDk4QixLQUFLaTlFLG9CQUNMbmdELEVBQXNFQSxFQUFTamYsb0JBQW9CN2QsS0FBS2k5RSxrQkFBbUJqOUUsS0FBS2s5RSxpQkFFcEksSUFBSXZuRSxFQUFrQm1uQixFQUFTamQscUJBQzNCaEssRUFBU2luQixFQUFTaGQsWUFDbEI5ZixLQUFLZzlCLFFBQ0xoOUIsS0FBS28rRSxZQUFZem9FLEVBQWlCLEVBQUdBLEVBQWdCalUsT0FBUW1VLEdBRTlDLEtBQWY3VixLQUFLbzlCLE9BQ0xwOUIsS0FBS3MrRSxVQUFVM29FLEVBQWlCLEVBQUdBLEVBQWdCalUsT0FBUW1VLElBU25FZ25FLEVBQXdCajlFLFVBQVU0cEUsZUFBaUIsU0FBVTFzQyxHQUl6RCxHQUhJOThCLEtBQUtpOUUsb0JBQ0xuZ0QsRUFBc0VBLEVBQVNqZixvQkFBb0I3ZCxLQUFLaTlFLGtCQUFtQmo5RSxLQUFLazlFLGtCQUUvSCxRQUFXbDlFLEtBQUtvZCxRQUFTMGYsRUFBUy9pQixhQUF2QyxDQUdBLEdBQUkvWixLQUFLdTlFLGFBQWMsQ0FDbkJ2OUUsS0FBS3crRSx1QkFBdUJ4K0UsS0FBS3U5RSxjQUNqQyxJQUFJN29ELEVBQVUxMEIsS0FBS2c5RSxTQUNmcm5FLEVBQWtCbW5CLEVBQVNqZCxxQkFDL0I2VSxFQUFRNEYsWUFDUnQ2QixLQUFLNCtFLGNBQWNqcEUsRUFBaUIsRUFBR0EsRUFBZ0JqVSxPQUFRbzdCLEVBQVNoZCxhQUFhLEdBQ3JGNFUsRUFBUXdDLFNBRVosR0FBbUIsS0FBZmwzQixLQUFLbzlCLE1BQWMsQ0FDbkIsSUFBSTZoRCxFQUFlbmlELEVBQVNrMUMsa0JBQzVCaHlFLEtBQUtzK0UsVUFBVVcsRUFBYyxFQUFHLEVBQUcsTUFTM0NwQyxFQUF3Qmo5RSxVQUFVOHBFLG9CQUFzQixTQUFVNXNDLEdBQzFEOThCLEtBQUtpOUUsb0JBQ0xuZ0QsRUFBMkVBLEVBQVNqZixvQkFBb0I3ZCxLQUFLaTlFLGtCQUFtQmo5RSxLQUFLazlFLGlCQUV6SSxJQUFJZ0MsRUFBaUJwaUQsRUFBUy9pQixZQUM5QixJQUFLLFFBQVcvWixLQUFLb2QsUUFBUzhoRSxHQUE5QixDQUdBLEdBQUlsL0UsS0FBS3U5RSxhQUFjLENBQ25CdjlFLEtBQUt3K0UsdUJBQXVCeCtFLEtBQUt1OUUsY0FDakMsSUFBSTdvRCxFQUFVMTBCLEtBQUtnOUUsU0FDZnJuRSxFQUFrQm1uQixFQUFTamQscUJBQzNCakssRUFBUyxFQUNUa0wsRUFBcUNnYyxFQUFTb2xCLFVBQzlDcnNDLEVBQVNpbkIsRUFBU2hkLFlBQ3RCNFUsRUFBUTRGLFlBQ1IsSUFBSyxJQUFJOTRCLEVBQUksRUFBR0MsRUFBS3FmLEVBQUtwZixPQUFRRixFQUFJQyxJQUFNRCxFQUN4Q29VLEVBQVM1VixLQUFLNCtFLGNBQWNqcEUsRUFBaUJDLEVBQVFrTCxFQUFLdGYsR0FBSXFVLEdBQVEsR0FFMUU2ZSxFQUFRd0MsU0FFWixHQUFtQixLQUFmbDNCLEtBQUtvOUIsTUFBYyxDQUNuQixJQUFJK2hELEVBQWdCcmlELEVBQVNtMUMsbUJBQzdCanlFLEtBQUtzK0UsVUFBVWEsRUFBZSxFQUFHQSxFQUFjejlFLE9BQVEsTUFTL0RtN0UsRUFBd0JqOUUsVUFBVXNxRSxZQUFjLFNBQVVwdEMsR0FJdEQsR0FISTk4QixLQUFLaTlFLG9CQUNMbmdELEVBQW1FQSxFQUFTamYsb0JBQW9CN2QsS0FBS2k5RSxrQkFBbUJqOUUsS0FBS2s5RSxrQkFFNUgsUUFBV2w5RSxLQUFLb2QsUUFBUzBmLEVBQVMvaUIsYUFBdkMsQ0FHQSxHQUFJL1osS0FBS3U5RSxjQUFnQnY5RSxLQUFLczlFLFdBQVksQ0FDbEN0OUUsS0FBS3M5RSxZQUNMdDlFLEtBQUt1K0UscUJBQXFCditFLEtBQUtzOUUsWUFFL0J0OUUsS0FBS3U5RSxjQUNMdjlFLEtBQUt3K0UsdUJBQXVCeCtFLEtBQUt1OUUsY0FFckMsSUFBSTdvRCxFQUFVMTBCLEtBQUtnOUUsU0FDbkJ0b0QsRUFBUTRGLFlBQ1J0NkIsS0FBSzgrRSxXQUFXaGlELEVBQVNrbEIsNkJBQThCLEVBQ3pCbGxCLEVBQVNvbEIsVUFBWXBsQixFQUFTaGQsYUFDeEQ5ZixLQUFLczlFLFlBQ0w1b0QsRUFBUThCLE9BRVJ4MkIsS0FBS3U5RSxjQUNMN29ELEVBQVF3QyxTQUdoQixHQUFtQixLQUFmbDNCLEtBQUtvOUIsTUFBYyxDQUNuQixJQUFJZ2lELEVBQW9CdGlELEVBQVNxbEIsdUJBQ2pDbmlELEtBQUtzK0UsVUFBVWMsRUFBbUIsRUFBRyxFQUFHLE1BUWhEdkMsRUFBd0JqOUUsVUFBVWtxRSxpQkFBbUIsU0FBVWh0QyxHQUkzRCxHQUhJOThCLEtBQUtpOUUsb0JBQ0xuZ0QsRUFBd0VBLEVBQVNqZixvQkFBb0I3ZCxLQUFLaTlFLGtCQUFtQmo5RSxLQUFLazlFLGtCQUVqSSxRQUFXbDlFLEtBQUtvZCxRQUFTMGYsRUFBUy9pQixhQUF2QyxDQUdBLEdBQUkvWixLQUFLdTlFLGNBQWdCdjlFLEtBQUtzOUUsV0FBWSxDQUNsQ3Q5RSxLQUFLczlFLFlBQ0x0OUUsS0FBS3UrRSxxQkFBcUJ2K0UsS0FBS3M5RSxZQUUvQnQ5RSxLQUFLdTlFLGNBQ0x2OUUsS0FBS3crRSx1QkFBdUJ4K0UsS0FBS3U5RSxjQUVyQyxJQUFJN29ELEVBQVUxMEIsS0FBS2c5RSxTQUNmcm5FLEVBQWtCbW5CLEVBQVNrbEIsNkJBQzNCcHNDLEVBQVMsRUFDVDJwQyxFQUFRemlCLEVBQVMydkMsV0FDakI1MkQsRUFBU2luQixFQUFTaGQsWUFDdEI0VSxFQUFRNEYsWUFDUixJQUFLLElBQUk5NEIsRUFBSSxFQUFHQyxFQUFLODlDLEVBQU03OUMsT0FBUUYsRUFBSUMsSUFBTUQsRUFBRyxDQUM1QyxJQUFJc2YsRUFBT3krQixFQUFNLzlDLEdBQ2pCb1UsRUFBUzVWLEtBQUs4K0UsV0FBV25wRSxFQUFpQkMsRUFBUWtMLEVBQU1qTCxHQUV4RDdWLEtBQUtzOUUsWUFDTDVvRCxFQUFROEIsT0FFUngyQixLQUFLdTlFLGNBQ0w3b0QsRUFBUXdDLFNBR2hCLEdBQW1CLEtBQWZsM0IsS0FBS285QixNQUFjLENBQ25CLElBQUlpaUQsRUFBcUJ2aUQsRUFBU3ExQyx3QkFDbENueUUsS0FBS3MrRSxVQUFVZSxFQUFvQixFQUFHQSxFQUFtQjM5RSxPQUFRLE1BT3pFbTdFLEVBQXdCajlFLFVBQVUyK0UscUJBQXVCLFNBQVU1TSxHQUMvRCxJQUFJajlDLEVBQVUxMEIsS0FBS2c5RSxTQUNmc0MsRUFBbUJ0L0UsS0FBS205RSxrQkFDdkJtQyxFQU9HQSxFQUFpQjdrRCxXQUFhazNDLEVBQVVsM0MsWUFDeEM2a0QsRUFBaUI3a0QsVUFBWWszQyxFQUFVbDNDLFVBQ3ZDL0YsRUFBUStGLFVBQVlrM0MsRUFBVWwzQyxZQVJsQy9GLEVBQVErRixVQUFZazNDLEVBQVVsM0MsVUFDOUJ6NkIsS0FBS205RSxrQkFBb0IsQ0FDckIxaUQsVUFBV2szQyxFQUFVbDNDLGFBY2pDb2lELEVBQXdCajlFLFVBQVU0K0UsdUJBQXlCLFNBQVU1TSxHQUNqRSxJQUFJbDlDLEVBQVUxMEIsS0FBS2c5RSxTQUNmdUMsRUFBcUJ2L0UsS0FBS285RSxvQkFDekJtQyxHQXFCR0EsRUFBbUJobUQsU0FBV3E0QyxFQUFZcjRDLFVBQzFDZ21ELEVBQW1CaG1ELFFBQVVxNEMsRUFBWXI0QyxRQUN6QzdFLEVBQVE2RSxRQUFVcTRDLEVBQVlyNEMsU0FFOUI3RSxFQUFRaUcsZUFDSCxTQUFPNGtELEVBQW1CN2xELFNBQVVrNEMsRUFBWWw0QyxXQUNqRGhGLEVBQVFpRyxZQUFhNGtELEVBQW1CN2xELFNBQVdrNEMsRUFBWWw0QyxVQUUvRDZsRCxFQUFtQjVsRCxnQkFBa0JpNEMsRUFBWWo0QyxpQkFDakQ0bEQsRUFBbUI1bEQsZUFBaUJpNEMsRUFBWWo0QyxlQUNoRGpGLEVBQVFpRixlQUFpQmk0QyxFQUFZajRDLGlCQUd6QzRsRCxFQUFtQi9sRCxVQUFZbzRDLEVBQVlwNEMsV0FDM0MrbEQsRUFBbUIvbEQsU0FBV280QyxFQUFZcDRDLFNBQzFDOUUsRUFBUThFLFNBQVdvNEMsRUFBWXA0QyxVQUUvQitsRCxFQUFtQjdrRCxXQUFhazNDLEVBQVlsM0MsWUFDNUM2a0QsRUFBbUI3a0QsVUFBWWszQyxFQUFZbDNDLFVBQzNDaEcsRUFBUWdHLFVBQVlrM0MsRUFBWWwzQyxXQUVoQzZrRCxFQUFtQjlsRCxZQUFjbTRDLEVBQVluNEMsYUFDN0M4bEQsRUFBbUI5bEQsV0FBYW00QyxFQUFZbjRDLFdBQzVDL0UsRUFBUStFLFdBQWFtNEMsRUFBWW40QyxZQUVqQzhsRCxFQUFtQmptRCxhQUFlczRDLEVBQVl0NEMsY0FDOUNpbUQsRUFBbUJqbUQsWUFBY3M0QyxFQUFZdDRDLFlBQzdDNUUsRUFBUTRFLFlBQWNzNEMsRUFBWXQ0QyxlQS9DdEM1RSxFQUFRNkUsUUFBVXE0QyxFQUFZcjRDLFFBQzFCN0UsRUFBUWlHLGNBQ1JqRyxFQUFRaUcsWUFBWWkzQyxFQUFZbDRDLFVBQ2hDaEYsRUFBUWlGLGVBQWlCaTRDLEVBQVlqNEMsZ0JBRXpDakYsRUFBUThFLFNBQVdvNEMsRUFBWXA0QyxTQUMvQjlFLEVBQVFnRyxVQUFZazNDLEVBQVlsM0MsVUFDaENoRyxFQUFRK0UsV0FBYW00QyxFQUFZbjRDLFdBQ2pDL0UsRUFBUTRFLFlBQWNzNEMsRUFBWXQ0QyxZQUNsQ3Q1QixLQUFLbzlFLG9CQUFzQixDQUN2QjdqRCxRQUFTcTRDLEVBQVlyNEMsUUFDckJHLFNBQVVrNEMsRUFBWWw0QyxTQUN0QkMsZUFBZ0JpNEMsRUFBWWo0QyxlQUM1QkgsU0FBVW80QyxFQUFZcDRDLFNBQ3RCa0IsVUFBV2szQyxFQUFZbDNDLFVBQ3ZCakIsV0FBWW00QyxFQUFZbjRDLFdBQ3hCSCxZQUFhczRDLEVBQVl0NEMsZUF1Q3JDdWpELEVBQXdCajlFLFVBQVU2K0UscUJBQXVCLFNBQVU1TSxHQUMvRCxJQUFJbjlDLEVBQVUxMEIsS0FBS2c5RSxTQUNmd0MsRUFBbUJ4L0UsS0FBS3E5RSxrQkFDeEJyMkMsRUFBWTZxQyxFQUFVN3FDLFVBQ3BCNnFDLEVBQVU3cUMsVUFDVixLQUNEdzRDLEdBV0dBLEVBQWlCbHNELE1BQVF1K0MsRUFBVXYrQyxPQUNuQ2tzRCxFQUFpQmxzRCxLQUFPdStDLEVBQVV2K0MsS0FDbENvQixFQUFRcEIsS0FBT3UrQyxFQUFVditDLE1BRXpCa3NELEVBQWlCeDRDLFdBQWFBLElBQzlCdzRDLEVBQWlCeDRDLFVBQTJDLEVBQzVEdFMsRUFBUXNTLFVBQTJDLEdBRW5EdzRDLEVBQWlCdDRDLGNBQWdCMnFDLEVBQVUzcUMsZUFDM0NzNEMsRUFBaUJ0NEMsYUFBa0QycUMsRUFBc0IsYUFDekZuOUMsRUFBUXdTLGFBQWtEMnFDLEVBQXNCLGdCQXBCcEZuOUMsRUFBUXBCLEtBQU91K0MsRUFBVXYrQyxLQUN6Qm9CLEVBQVFzUyxVQUEyQyxFQUNuRHRTLEVBQVF3UyxhQUFrRDJxQyxFQUFzQixhQUNoRjd4RSxLQUFLcTlFLGtCQUFvQixDQUNyQi9wRCxLQUFNdStDLEVBQVV2K0MsS0FDaEIwVCxVQUFXQSxFQUNYRSxhQUFjMnFDLEVBQVUzcUMsZ0JBeUJwQzIxQyxFQUF3Qmo5RSxVQUFVeXFFLG1CQUFxQixTQUFVNXZDLEVBQVduQixHQUN4RSxHQUFLbUIsRUFHQSxDQUNELElBQUlzeUMsRUFBaUJ0eUMsRUFBVVosV0FDL0I3NUIsS0FBS3M5RSxXQUFhLENBQ2Q3aUQsV0FBVyxRQUFZc3lDLEdBQWtDLFlBTDdEL3NFLEtBQUtzOUUsV0FBYSxLQVF0QixHQUFLaGtELEVBR0EsQ0FDRCxJQUFJMHpDLEVBQW1CMXpDLEVBQVlPLFdBQy9Cb3pDLEVBQXFCM3pDLEVBQVlXLGFBQ2pDaXpDLEVBQXNCNXpDLEVBQVlRLGNBQ2xDcXpDLEVBQTRCN3pDLEVBQVlTLG9CQUN4Q3F6QyxFQUFzQjl6QyxFQUFZVSxjQUNsQ3F6QyxFQUFtQi96QyxFQUFZMWlCLFdBQy9CMDJELEVBQXdCaDBDLEVBQVlZLGdCQUN4Q2w2QixLQUFLdTlFLGFBQWUsQ0FDaEJoa0QsYUFBZ0NwMkIsSUFBdkI4cEUsRUFDSEEsRUFDQSxLQUNOdnpDLFNBQVV3ekMsR0FBNEMsS0FDdER2ekMsZUFBZ0J3ekMsR0FFVixLQUNOM3pDLGNBQWtDcjJCLElBQXhCaXFFLEVBQ0pBLEVBQ0EsS0FDTjF5QyxVQUFXMTZCLEtBQUtpdUQsa0JBQ1U5cUQsSUFBckJrcUUsRUFDS0EsRUFDQSxNQUNWNXpDLGdCQUFzQ3QyQixJQUExQm1xRSxFQUNOQSxFQUNBLEtBQ05oMEMsYUFBYSxRQUFZMHpDLEdBQXNDLFlBNUJuRWh0RSxLQUFLdTlFLGFBQWUsTUFzQzVCVixFQUF3Qmo5RSxVQUFVMHFFLGNBQWdCLFNBQVVDLEdBQ3hELEdBQUtBLEVBR0EsQ0FDRCxJQUFJcHdDLEVBQVlvd0MsRUFBV3J4QyxVQUMzQixHQUFLaUIsRUFHQSxDQUNELElBQUlzbEQsRUFBY2xWLEVBQVdueUMsWUFFekJzbkQsRUFBYW5WLEVBQVc5eEMsU0FBUyxHQUNqQ2tuRCxFQUFjcFYsRUFBV3R4QyxZQUN6QjJtRCxFQUFhclYsRUFBVzd1QyxnQkFDNUIxN0IsS0FBS3c5RSxjQUFnQmlDLEVBQVksR0FDakN6L0UsS0FBS3k5RSxjQUFnQmdDLEVBQVksR0FDakN6L0UsS0FBSzA5RSxhQUFldmpELEVBQVUsR0FDOUJuNkIsS0FBS2c5QixPQUFTMGlELEVBQ2QxL0UsS0FBSzI5RSxjQUFnQnBULEVBQVdweUMsYUFDaENuNEIsS0FBSzQ5RSxjQUFnQitCLEVBQVksR0FDakMzL0UsS0FBSzY5RSxjQUFnQjhCLEVBQVksR0FDakMzL0UsS0FBSzg5RSxxQkFBdUJ2VCxFQUFXdnlDLG9CQUN2Q2g0QixLQUFLKzlFLGVBQWlCeFQsRUFBV3h5QyxjQUNqQy8zQixLQUFLZytFLFlBQWMsQ0FDZmgrRSxLQUFLaXVELFlBQWMyeEIsRUFBVyxHQUM5QjUvRSxLQUFLaXVELFlBQWMyeEIsRUFBVyxJQUVsQzUvRSxLQUFLaStFLFlBQWM5akQsRUFBVSxRQXJCN0JuNkIsS0FBS2c5QixPQUFTLFVBTGxCaDlCLEtBQUtnOUIsT0FBUyxNQW9DdEI2L0MsRUFBd0JqOUUsVUFBVTZxRSxhQUFlLFNBQVVDLEdBQ3ZELEdBQUtBLEVBR0EsQ0FDRCxJQUFJeUksRUFBZ0J6SSxFQUFVanpDLFVBQzlCLEdBQUswN0MsRUFHQSxDQUNELElBQUkwTSxFQUFxQjFNLEVBQWN0NUMsV0FDdkM3NUIsS0FBS2t4RSxlQUFpQixDQUNsQnoyQyxXQUFXLFFBQVlvbEQsR0FBMEMsWUFMckU3L0UsS0FBS2t4RSxlQUFpQixLQVExQixJQUFJa0MsRUFBa0IxSSxFQUFVNXlDLFlBQ2hDLEdBQUtzN0MsRUFHQSxDQUNELElBQUkwTSxFQUF1QjFNLEVBQWdCdjVDLFdBQ3ZDa21ELEVBQXlCM00sRUFBZ0JuNUMsYUFDekMrbEQsRUFBMEI1TSxFQUFnQnQ1QyxjQUMxQ21tRCxFQUFnQzdNLEVBQWdCcjVDLG9CQUNoRG1tRCxFQUEwQjlNLEVBQWdCcDVDLGNBQzFDbW1ELEVBQXVCL00sRUFBZ0J4OEQsV0FDdkN3cEUsRUFBNEJoTixFQUFnQmw1QyxnQkFDaERsNkIsS0FBS294RSxpQkFBbUIsQ0FDcEI3M0MsYUFBb0NwMkIsSUFBM0I0OEUsRUFDSEEsRUFDQSxLQUNOcm1ELFNBQVVzbUQsR0FFSixLQUNOcm1ELGVBQWdCc21ELEdBRVYsS0FDTnptRCxjQUFzQ3IyQixJQUE1Qis4RSxFQUNKQSxFQUNBLEtBQ054bEQsZUFBb0N2M0IsSUFBekJnOUUsRUFDTEEsRUFDQSxLQUNOMW1ELGdCQUEwQ3QyQixJQUE5Qmk5RSxFQUNOQSxFQUNBLEtBQ045bUQsYUFBYSxRQUFZd21ELEdBQThDLFlBN0IzRTkvRSxLQUFLb3hFLGlCQUFtQixLQWdDNUIsSUFBSWlQLEVBQVczVixFQUFVemlDLFVBQ3JCcXJDLEVBQWM1SSxFQUFVbmlDLGFBQ3hCZ3JDLEVBQWM3SSxFQUFVbGlDLGFBQ3hCZ3JDLEVBQXFCOUksRUFBVTF5QyxvQkFDL0J5N0MsRUFBZS9JLEVBQVUzeUMsY0FDekJzN0MsRUFBWTNJLEVBQVVodkMsZ0JBQ3RCNGtELEVBQVc1VixFQUFVbnRDLFVBQ3JCZ2pELEVBQWdCN1YsRUFBVXJpQyxlQUMxQm00QyxFQUFtQjlWLEVBQVVwaUMsa0JBQ2pDdG9DLEtBQUtzeEUsV0FBYSxDQUNkaCtDLFVBQW1CbndCLElBQWJrOUUsRUFBeUJBLEVBQVcsS0FDMUNyNUMsZUFBNkI3akMsSUFBbEJvOUUsRUFBOEJBLEVBQWdCLEtBQ3pEcjVDLGtCQUFtQy9qQyxJQUFyQnE5RSxFQUNSQSxFQUNBLE1BRVZ4Z0YsS0FBS285QixXQUFxQmo2QixJQUFibTlFLEVBQXlCQSxFQUFXLEdBQ2pEdGdGLEtBQUs4d0Usa0JBQ2UzdEUsSUFBaEJtd0UsRUFBNEJ0ekUsS0FBS2l1RCxZQUFjcWxCLEVBQWMsRUFDakV0ekUsS0FBSyt3RSxrQkFDZTV0RSxJQUFoQm93RSxFQUE0QnZ6RSxLQUFLaXVELFlBQWNzbEIsRUFBYyxFQUNqRXZ6RSxLQUFLZ3hFLHlCQUNzQjd0RSxJQUF2QnF3RSxHQUFtQ0EsRUFDdkN4ekUsS0FBS2l4RSxtQkFBaUM5dEUsSUFBakJzd0UsRUFBNkJBLEVBQWUsRUFDakV6ekUsS0FBS2srRSxXQUFhLENBQ2RsK0UsS0FBS2l1RCxZQUFjb2xCLEVBQVUsR0FDN0JyekUsS0FBS2l1RCxZQUFjb2xCLEVBQVUsU0F6RWpDcnpFLEtBQUtvOUIsTUFBUSxJQTZFZHkvQyxFQTk0QmlDLENBKzRCMUMsSUM3NkJGLEdBS2MsV0FMZCxHQVVZLFNDVlosR0FLaUIsY0FMakIsR0FVa0IsZUFWbEIsR0FlYyxXQWZkLEdBb0JlLFksZUMzQlgsR0FBd0MsV0FDeEMsSUFBSTE5RSxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQW9HNUMsU0E5RStCLFNBQVVJLEdBUXJDLFNBQVNzZ0YsRUFBVTVzRSxFQUFRc0QsRUFBWXVoQixFQUFZaVksR0FDL0MsSUFBSXJ3QyxFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQXFCakMsT0FoQkFNLEVBQU11VCxPQUFTQSxFQUtmdlQsRUFBTTJ0RCxZQUFjdjFCLEVBS3BCcDRCLEVBQU02VyxXQUFhQSxFQUtuQjdXLEVBQU1xd0MsTUFBUUEsRUFDUHJ3QyxFQThDWCxPQTNFQSxHQUFVbWdGLEVBQVd0Z0YsR0FrQ3JCc2dGLEVBQVU3Z0YsVUFBVTRHLFFBQVUsV0FDMUJ4RyxLQUFLNEMsY0FBYzYvQixFQUFBLFdBS3ZCZytDLEVBQVU3Z0YsVUFBVW1hLFVBQVksV0FDNUIsT0FBTy9aLEtBQUs2VCxRQU1oQjRzRSxFQUFVN2dGLFVBQVU2NEIsU0FBVyxXQUMzQixPQUFPLFdBS1hnb0QsRUFBVTdnRixVQUFVZzVCLGNBQWdCLFdBQ2hDLE9BQU81NEIsS0FBS2l1RCxhQUtoQnd5QixFQUFVN2dGLFVBQVU2bkQsY0FBZ0IsV0FDaEMsT0FBOEJ6bkQsS0FBZSxZQUtqRHlnRixFQUFVN2dGLFVBQVU2eUMsU0FBVyxXQUMzQixPQUFPenlDLEtBQUsyd0MsT0FNaEI4dkMsRUFBVTdnRixVQUFVdzVCLEtBQU8sWUFDdkIsV0FFR3FuRCxFQTVFbUIsQ0E2RTVCLE1DbkdGLElBQUksR0FBd0MsV0FDeEMsSUFBSXRoRixFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQXNKckMsU0FBUzJnRixHQUFZempELEVBQU8wakQsRUFBYUMsR0FDNUMsSUFBSUMsRUFBc0MsRUFDMUMsR0FBSUEsRUFBSWwwQyxLQUFPLE1BQWMsQ0FDekIsSUFBSWtDLEVBQVVneUMsRUFBSTErRCxTQUNkMitELEdBQWMsRUF1QmxCLE9BbkJBanlDLEVBQ0tILE1BQUssV0FDRm95QyxHQUNBSCxPQUdISSxPQUFNLFNBQVV2K0QsR0FDYnMrRCxJQUdtQixrQkFBZnQrRCxFQUFNaGlCLE1BQ1ksd0JBQWxCZ2lCLEVBQU1qaUIsUUFDTm9nRixJQUdBQyxRQWxCRyxXQUNYRSxHQUFjLEdBdUJ0QixJQUFJcnRCLEVBQWUsRUFDZixRQUFXb3RCLEVBQUtwK0MsRUFBQSxPQUFnQmsrQyxJQUNoQyxRQUFXRSxFQUFLcCtDLEVBQUEsUUFBaUJtK0MsSUFFckMsT0FBTyxXQUNIbnRCLEVBQWF0eEQsUUFBUSxRQWpKSyxTQUFVaEMsR0FVeEMsU0FBUzZnRixFQUFhbnRFLEVBQVFzRCxFQUFZdWhCLEVBQVlpVSxFQUFLNEMsRUFBYTB4QyxHQUNwRSxJQUFJM2dGLEVBQVFILEVBQU9MLEtBQUtFLEtBQU02VCxFQUFRc0QsRUFBWXVoQixFQUFZTSxHQUFBLFNBQW9CaDVCLEtBNkJsRixPQXhCQU0sRUFBTTRnRixLQUFPdjBDLEVBS2Jyc0MsRUFBTTA4QixPQUFTLElBQUk5YSxNQUNDLE9BQWhCcXRCLElBQ0FqdkMsRUFBTTA4QixPQUFPdVMsWUFBY0EsR0FNL0JqdkMsRUFBTTZnRixVQUFZLEtBS2xCN2dGLEVBQU1xd0MsTUFBUTNYLEdBQUEsT0FLZDE0QixFQUFNOGdGLG1CQUFxQkgsRUFDcEIzZ0YsRUF2Q1gsR0FBVTBnRixFQUFjN2dGLEdBNkN4QjZnRixFQUFhcGhGLFVBQVU2NEIsU0FBVyxXQUM5QixPQUFPejRCLEtBQUtnOUIsUUFPaEJna0QsRUFBYXBoRixVQUFVeWhGLGtCQUFvQixXQUN2Q3JoRixLQUFLMndDLE1BQVEzWCxHQUFBLFFBQ2JoNUIsS0FBS3NoRixpQkFDTHRoRixLQUFLd0csV0FPVHc2RSxFQUFhcGhGLFVBQVUyaEYsaUJBQW1CLGdCQUNkcCtFLElBQXBCbkQsS0FBS21YLGFBQ0xuWCxLQUFLbVgsWUFBYSxRQUFVblgsS0FBSzZULFFBQVU3VCxLQUFLZzlCLE9BQU90d0IsUUFFM0QxTSxLQUFLMndDLE1BQVEzWCxHQUFBLFNBQ2JoNUIsS0FBS3NoRixpQkFDTHRoRixLQUFLd0csV0FRVHc2RSxFQUFhcGhGLFVBQVV3NUIsS0FBTyxXQUN0QnA1QixLQUFLMndDLE9BQVMzWCxHQUFBLFFBQW1CaDVCLEtBQUsyd0MsT0FBUzNYLEdBQUEsVUFDL0NoNUIsS0FBSzJ3QyxNQUFRM1gsR0FBQSxVQUNiaDVCLEtBQUt3RyxVQUNMeEcsS0FBS29oRixtQkFBbUJwaEYsS0FBTUEsS0FBS2toRixNQUNuQ2xoRixLQUFLbWhGLFVBQVlULEdBQVkxZ0YsS0FBS2c5QixPQUFRaDlCLEtBQUt1aEYsaUJBQWlCeHlFLEtBQUsvTyxNQUFPQSxLQUFLcWhGLGtCQUFrQnR5RSxLQUFLL08sU0FNaEhnaEYsRUFBYXBoRixVQUFVaStCLFNBQVcsU0FBVVosR0FDeENqOUIsS0FBS2c5QixPQUFTQyxHQU9sQitqRCxFQUFhcGhGLFVBQVUwaEYsZUFBaUIsV0FDaEN0aEYsS0FBS21oRixZQUNMbmhGLEtBQUttaEYsWUFDTG5oRixLQUFLbWhGLFVBQVksT0FwR0ksQ0F3Ry9CLElDNUlGLElBQUksR0FBd0MsV0FDeEMsSUFBSWhpRixFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQXVCeEN5aEYsR0FBcUIsS0FDckJDLEdBQTJCLFNBQVV0aEYsR0FVckMsU0FBU3NoRixFQUFVeGtELEVBQU8wUCxFQUFLOWdDLEVBQU0wakMsRUFBYSt2QixFQUFZcDJELEdBQzFELElBQUk1SSxFQUFRSCxFQUFPTCxLQUFLRSxPQUFTQSxLQWdEakMsT0EzQ0FNLEVBQU1ndUUsbUJBQXFCLEtBSzNCaHVFLEVBQU0wOEIsT0FBVUMsR0FBUSxJQUFJL2EsTUFDUixPQUFoQnF0QixJQUNpQ2p2QyxFQUFZLE9BQUVpdkMsWUFBY0EsR0FNakVqdkMsRUFBTSsxQixRQUFVLEdBS2hCLzFCLEVBQU0yNkIsT0FBUy94QixFQUtmNUksRUFBTTZnRixVQUFZLEtBS2xCN2dGLEVBQU1vaEYsWUFBY3BpQixFQUtwQmgvRCxFQUFNODJCLE1BQVF2ckIsRUFLZHZMLEVBQU00Z0YsS0FBT3YwQyxFQUlicnNDLEVBQU1xaEYsU0FDQ3JoRixFQTRLWCxPQXRPQSxHQUFVbWhGLEVBQVd0aEYsR0FnRXJCc2hGLEVBQVU3aEYsVUFBVWdpRixXQUFhLFdBQzdCLFFBQXNCeitFLElBQWxCbkQsS0FBSzJoRixVQUEwQjNoRixLQUFLMGhGLGNBQWdCMW9ELEdBQUEsU0FBbUIsQ0FDbEV3b0QsS0FDREEsSUFBcUIsUUFBc0IsRUFBRyxJQUVsREEsR0FBbUI5ckQsVUFBVTExQixLQUFLZzlCLE9BQVEsRUFBRyxHQUM3QyxJQUNJd2tELEdBQW1CbmdCLGFBQWEsRUFBRyxFQUFHLEVBQUcsR0FDekNyaEUsS0FBSzJoRixVQUFXLEVBRXBCLE1BQU8zaUQsR0FDSHdpRCxHQUFxQixLQUNyQnhoRixLQUFLMmhGLFVBQVcsR0FHeEIsT0FBeUIsSUFBbEIzaEYsS0FBSzJoRixVQUtoQkYsRUFBVTdoRixVQUFVaWlGLHFCQUF1QixXQUN2QzdoRixLQUFLNEMsY0FBYzYvQixFQUFBLFdBS3ZCZy9DLEVBQVU3aEYsVUFBVXloRixrQkFBb0IsV0FDcENyaEYsS0FBSzBoRixZQUFjMW9ELEdBQUEsUUFDbkJoNUIsS0FBS3NoRixpQkFDTHRoRixLQUFLNmhGLHdCQUtUSixFQUFVN2hGLFVBQVUyaEYsaUJBQW1CLFdBQ25DdmhGLEtBQUswaEYsWUFBYzFvRCxHQUFBLFNBQ2ZoNUIsS0FBS28zQixPQUNMcDNCLEtBQUtnOUIsT0FBT3Z3QixNQUFRek0sS0FBS28zQixNQUFNLEdBQy9CcDNCLEtBQUtnOUIsT0FBT3R3QixPQUFTMU0sS0FBS28zQixNQUFNLElBR2hDcDNCLEtBQUtvM0IsTUFBUSxDQUFDcDNCLEtBQUtnOUIsT0FBT3Z3QixNQUFPek0sS0FBS2c5QixPQUFPdHdCLFFBRWpEMU0sS0FBS3NoRixpQkFDTHRoRixLQUFLNmhGLHdCQU1USixFQUFVN2hGLFVBQVU2NEIsU0FBVyxTQUFVQyxHQUVyQyxPQURBMTRCLEtBQUs4aEYsY0FBY3BwRCxHQUNaMTRCLEtBQUtxMkIsUUFBUXFDLEdBQWMxNEIsS0FBS3EyQixRQUFRcUMsR0FBYzE0QixLQUFLZzlCLFFBTXRFeWtELEVBQVU3aEYsVUFBVWc1QixjQUFnQixTQUFVRixHQUUxQyxPQURBMTRCLEtBQUs4aEYsY0FBY3BwRCxHQUNaMTRCLEtBQUtxMkIsUUFBUXFDLEdBQWNBLEVBQWEsR0FLbkQrb0QsRUFBVTdoRixVQUFVbTVCLGNBQWdCLFdBQ2hDLE9BQU8vNEIsS0FBSzBoRixhQUtoQkQsRUFBVTdoRixVQUFVeTRCLHFCQUF1QixXQUN2QyxJQUFLcjRCLEtBQUtzdUUsbUJBQ04sR0FBSXR1RSxLQUFLNGhGLGFBQWMsQ0FDbkIsSUFBSW4xRSxFQUFRek0sS0FBS28zQixNQUFNLEdBQ25CMXFCLEVBQVMxTSxLQUFLbzNCLE1BQU0sR0FDcEIxQyxHQUFVLFFBQXNCam9CLEVBQU9DLEdBQzNDZ29CLEVBQVFxdEQsU0FBUyxFQUFHLEVBQUd0MUUsRUFBT0MsR0FDOUIxTSxLQUFLc3VFLG1CQUFxQjU1QyxFQUFRcG9CLFlBR2xDdE0sS0FBS3N1RSxtQkFBcUJ0dUUsS0FBS2c5QixPQUd2QyxPQUFPaDlCLEtBQUtzdUUsb0JBTWhCbVQsRUFBVTdoRixVQUFVczVCLFFBQVUsV0FDMUIsT0FBT2w1QixLQUFLbzNCLE9BS2hCcXFELEVBQVU3aEYsVUFBVW9pRixPQUFTLFdBQ3pCLE9BQU9oaUYsS0FBS2toRixNQUtoQk8sRUFBVTdoRixVQUFVdzVCLEtBQU8sV0FDdkIsR0FBSXA1QixLQUFLMGhGLGFBQWUxb0QsR0FBQSxPQUFpQixDQUNyQ2g1QixLQUFLMGhGLFlBQWMxb0QsR0FBQSxVQUNuQixJQUNxQ2g1QixLQUFXLE9BQUUyc0MsSUFBTTNzQyxLQUFLa2hGLEtBRTdELE1BQU9saUQsR0FDSGgvQixLQUFLcWhGLG9CQUVUcmhGLEtBQUttaEYsVUFBWVQsR0FBWTFnRixLQUFLZzlCLE9BQVFoOUIsS0FBS3VoRixpQkFBaUJ4eUUsS0FBSy9PLE1BQU9BLEtBQUtxaEYsa0JBQWtCdHlFLEtBQUsvTyxTQU9oSHloRixFQUFVN2hGLFVBQVVraUYsY0FBZ0IsU0FBVXBwRCxHQUMxQyxHQUFLMTRCLEtBQUtpN0IsU0FBVWo3QixLQUFLcTJCLFFBQVFxQyxHQUFqQyxDQUdBLElBQUlwc0IsRUFBUzFDLFNBQVNDLGNBQWMsVUFDcEM3SixLQUFLcTJCLFFBQVFxQyxHQUFjcHNCLEVBQzNCQSxFQUFPRyxNQUFROEIsS0FBSzZ4QixLQUFLcGdDLEtBQUtnOUIsT0FBT3Z3QixNQUFRaXNCLEdBQzdDcHNCLEVBQU9JLE9BQVM2QixLQUFLNnhCLEtBQUtwZ0MsS0FBS2c5QixPQUFPdHdCLE9BQVNnc0IsR0FDL0MsSUFBSXVwRCxFQUFNMzFFLEVBQU9LLFdBQVcsTUFPNUIsR0FOQXMxRSxFQUFJMWpFLE1BQU1tYSxFQUFZQSxHQUN0QnVwRCxFQUFJdnNELFVBQVUxMUIsS0FBS2c5QixPQUFRLEVBQUcsR0FDOUJpbEQsRUFBSUMseUJBQTJCLFdBSU0sYUFBakNELEVBQUlDLDBCQUEyQ2xpRixLQUFLNGhGLGFBQ3BESyxFQUFJeG5ELFdBQVksUUFBU3o2QixLQUFLaTdCLFFBQzlCZ25ELEVBQUlGLFNBQVMsRUFBRyxFQUFHejFFLEVBQU9HLE1BQU9ILEVBQU9JLFFBQ3hDdTFFLEVBQUlDLHlCQUEyQixpQkFDL0JELEVBQUl2c0QsVUFBVTExQixLQUFLZzlCLE9BQVEsRUFBRyxPQUU3QixDQU9ELElBTkEsSUFBSW1sRCxFQUFVRixFQUFJNWdCLGFBQWEsRUFBRyxFQUFHLzBELEVBQU9HLE1BQU9ILEVBQU9JLFFBQ3REM0UsRUFBT282RSxFQUFRcDZFLEtBQ2Z5QixFQUFJeEosS0FBS2k3QixPQUFPLEdBQUssSUFDckJ4eEIsRUFBSXpKLEtBQUtpN0IsT0FBTyxHQUFLLElBQ3JCMzdCLEVBQUlVLEtBQUtpN0IsT0FBTyxHQUFLLElBQ3JCN3pCLEVBQUlwSCxLQUFLaTdCLE9BQU8sR0FDWHo1QixFQUFJLEVBQUdDLEVBQUtzRyxFQUFLckcsT0FBUUYsRUFBSUMsRUFBSUQsR0FBSyxFQUMzQ3VHLEVBQUt2RyxJQUFNZ0ksRUFDWHpCLEVBQUt2RyxFQUFJLElBQU1pSSxFQUNmMUIsRUFBS3ZHLEVBQUksSUFBTWxDLEVBQ2Z5SSxFQUFLdkcsRUFBSSxJQUFNNEYsRUFFbkI2NkUsRUFBSUcsYUFBYUQsRUFBUyxFQUFHLE1BUXJDVixFQUFVN2hGLFVBQVUwaEYsZUFBaUIsV0FDN0J0aEYsS0FBS21oRixZQUNMbmhGLEtBQUttaEYsWUFDTG5oRixLQUFLbWhGLFVBQVksT0FHbEJNLEVBdk9tQixDQXdPNUIsTUNuUUUsR0FBd0MsV0FDeEMsSUFBSXRpRixFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQTRZNUMsU0E1VTBCLFNBQVVJLEdBS2hDLFNBQVNraUYsRUFBS2xoRixHQUNWLElBQUliLEVBQVFOLEtBQ1JvQixFQUFVRCxHQUFlLEdBSXpCMnpCLE9BQThCM3hCLElBQXBCL0IsRUFBUTB6QixRQUF3QjF6QixFQUFRMHpCLFFBQVUsRUFJNUQxZCxPQUFnQ2pVLElBQXJCL0IsRUFBUWdXLFNBQXlCaFcsRUFBUWdXLFNBQVcsRUFJL0RtSCxPQUEwQnBiLElBQWxCL0IsRUFBUW1kLE1BQXNCbmQsRUFBUW1kLE1BQVEsRUFJdEQ0WCxPQUE0Q2h6QixJQUEzQi9CLEVBQVErMEIsZ0JBQStCLzBCLEVBQVErMEIsZ0JBQ3BFNzFCLEVBQVFILEVBQU9MLEtBQUtFLEtBQU0sQ0FDdEI4MEIsUUFBU0EsRUFDVDFkLFNBQVVBLEVBQ1ZtSCxNQUFPQSxFQUNQNlgsa0JBQXVDanpCLElBQXpCL0IsRUFBUWcxQixhQUE2QmgxQixFQUFRZzFCLGFBQWUsQ0FBQyxFQUFHLEdBQzlFRCxlQUFnQkEsS0FDZG4yQixNQUtBbTNCLGFBQTZCaDBCLElBQW5CL0IsRUFBUWtkLE9BQXVCbGQsRUFBUWtkLE9BQVMsQ0FBQyxHQUFLLElBS3RFaGUsRUFBTWdpRixrQkFBb0IsS0FLMUJoaUYsRUFBTWlpRixtQkFDdUJwL0UsSUFBekIvQixFQUFRb2hGLGFBQ0ZwaEYsRUFBUW9oRixhQUNSQyxHQUtWbmlGLEVBQU1vaUYsbUJBQ3VCdi9FLElBQXpCL0IsRUFBUXVoRixhQUNGdmhGLEVBQVF1aEYsYUFDUkMsR0FLVnRpRixFQUFNdWlGLG1CQUN1QjEvRSxJQUF6Qi9CLEVBQVEwaEYsYUFDRjFoRixFQUFRMGhGLGFBQ1JGLEdBS1Z0aUYsRUFBTXlpRixrQkFDc0I1L0UsSUFBeEIvQixFQUFRbXVDLFlBQTRCbnVDLEVBQVFtdUMsWUFBYyxLQUk5RCxJQUFJdFMsT0FBd0I5NUIsSUFBaEIvQixFQUFReS9FLElBQW9Cei9FLEVBQVF5L0UsSUFBTSxLQUlsRG1DLE9BQThCNy9FLElBQXBCL0IsRUFBUTRoRixRQUF3QjVoRixFQUFRNGhGLFFBQVUsS0FJNURyMkMsRUFBTXZyQyxFQUFRdXJDLEtBQ2xCLGNBQWlCeHBDLElBQVJ3cEMsR0FBcUIxUCxHQUFRLElBQ3RDLFFBQVFBLEdBQVVBLEdBQVMrbEQsRUFBVSxRQUN4QjcvRSxJQUFSd3BDLEdBQW9DLElBQWZBLEVBQUlqckMsU0FBaUJ1N0IsSUFDM0MwUCxFQUFzQyxFQUFRQSxNQUFPLFFBQU8xUCxLQUVoRSxZQUFlOTVCLElBQVJ3cEMsR0FBcUJBLEVBQUlqckMsT0FBUyxFQUFHLEdBSTVDLElBQUk0OUQsT0FBNkJuOEQsSUFBaEIvQixFQUFRdXJDLElBQW9CM1QsR0FBQSxPQUFrQkEsR0FBQSxTQW1DL0QsT0E5QkExNEIsRUFBTTI2QixZQUEyQjkzQixJQUFsQi9CLEVBQVE4SCxPQUFzQixRQUFROUgsRUFBUThILE9BQVMsS0FLdEU1SSxFQUFNMmlGLFdEdUdQLFNBQWFobUQsRUFBTzBQLEVBQUs5Z0MsRUFBTTBqQyxFQUFhK3ZCLEVBQVlwMkQsR0FDM0QsSUFBSTZtQyxFQUFZLE1BQW1CcEQsRUFBSzRDLEVBQWFybUMsR0FLckQsT0FKSzZtQyxJQUNEQSxFQUFZLElBQUkweEMsR0FBVXhrRCxFQUFPMFAsRUFBSzlnQyxFQUFNMGpDLEVBQWErdkIsRUFBWXAyRCxHQUNyRSxNQUFtQnlqQyxFQUFLNEMsRUFBYXJtQyxFQUFPNm1DLElBRXpDQSxFQzdHZ0J2dEMsQ0FBYXk2QixFQUNWLEVBQU8rbEQsRUFBUzFpRixFQUFNeWlGLGFBQWN6akIsRUFBWWgvRCxFQUFNMjZCLFFBSzVFMzZCLEVBQU00aUYsYUFBNkIvL0UsSUFBbkIvQixFQUFRd1UsT0FBdUJ4VSxFQUFRd1UsT0FBUyxDQUFDLEVBQUcsR0FLcEV0VixFQUFNNmlGLG1CQUN1QmhnRixJQUF6Qi9CLEVBQVFnaUYsYUFDRmhpRixFQUFRZ2lGLGFBQ1JYLEdBS1ZuaUYsRUFBTW0yQixRQUFVLEtBS2hCbjJCLEVBQU04MkIsV0FBeUJqMEIsSUFBakIvQixFQUFReUssS0FBcUJ6SyxFQUFReUssS0FBTyxLQUNuRHZMLEVBMk1YLE9BelVBLEdBQVUraEYsRUFBTWxpRixHQXFJaEJraUYsRUFBS3ppRixVQUFVc1UsTUFBUSxXQUNuQixJQUFJcUssRUFBUXZlLEtBQUt3M0IsV0FDakIsT0FBTyxJQUFJNnFELEVBQUssQ0FDWi9qRSxPQUFRdGUsS0FBS20zQixRQUFRMXNCLFFBQ3JCKzNFLGFBQWN4aUYsS0FBS3VpRixjQUNuQkksYUFBYzNpRixLQUFLMGlGLGNBQ25CSSxhQUFjOWlGLEtBQUs2aUYsY0FDbkJ0ekMsWUFBYXZ2QyxLQUFLK2lGLGFBQ2xCNzVFLE1BQU9sSixLQUFLaTdCLFFBQVVqN0IsS0FBS2k3QixPQUFPeHdCLE1BQzVCekssS0FBS2k3QixPQUFPeHdCLFFBQ1p6SyxLQUFLaTdCLGFBQVU5M0IsRUFDckJ3cEMsSUFBSzNzQyxLQUFLZ2lGLFNBQ1Zwc0UsT0FBUTVWLEtBQUtrakYsUUFBUXo0RSxRQUNyQjI0RSxhQUFjcGpGLEtBQUttakYsY0FDbkJ0M0UsS0FBcUIsT0FBZjdMLEtBQUtvM0IsTUFBaUJwM0IsS0FBS28zQixNQUFNM3NCLGFBQVV0SCxFQUNqRDJ4QixRQUFTOTBCLEtBQUttNEIsYUFDZDVaLE1BQU83ZSxNQUFNa0gsUUFBUTJYLEdBQVNBLEVBQU05VCxRQUFVOFQsRUFDOUNuSCxTQUFVcFgsS0FBSyszQixjQUNmNUIsZUFBZ0JuMkIsS0FBS2c0Qix1QkFTN0JxcUQsRUFBS3ppRixVQUFVdzRCLFVBQVksV0FDdkIsR0FBSXA0QixLQUFLc2lGLGtCQUNMLE9BQU90aUYsS0FBS3NpRixrQkFFaEIsSUFBSWhrRSxFQUFTdGUsS0FBS20zQixRQUNkdHJCLEVBQU83TCxLQUFLazVCLFVBQ2hCLEdBQUlsNUIsS0FBSzBpRixlQUFpQkUsSUFDdEI1aUYsS0FBSzZpRixlQUFpQkQsR0FBMEIsQ0FDaEQsSUFBSy8yRSxFQUNELE9BQU8sS0FFWHlTLEVBQVN0ZSxLQUFLbTNCLFFBQVExc0IsUUFDbEJ6SyxLQUFLMGlGLGVBQWlCRSxLQUN0QnRrRSxFQUFPLElBQU16UyxFQUFLLElBRWxCN0wsS0FBSzZpRixlQUFpQkQsS0FDdEJ0a0UsRUFBTyxJQUFNelMsRUFBSyxJQUcxQixHQUFJN0wsS0FBS3VpRixlQUFpQkUsR0FBcUIsQ0FDM0MsSUFBSzUyRSxFQUNELE9BQU8sS0FFUHlTLElBQVd0ZSxLQUFLbTNCLFVBQ2hCN1ksRUFBU3RlLEtBQUttM0IsUUFBUTFzQixTQUV0QnpLLEtBQUt1aUYsZUFBaUJFLElBQ3RCemlGLEtBQUt1aUYsZUFBaUJFLEtBQ3RCbmtFLEVBQU8sSUFBTUEsRUFBTyxHQUFLelMsRUFBSyxJQUU5QjdMLEtBQUt1aUYsZUFBaUJFLElBQ3RCemlGLEtBQUt1aUYsZUFBaUJFLEtBQ3RCbmtFLEVBQU8sSUFBTUEsRUFBTyxHQUFLelMsRUFBSyxJQUl0QyxPQURBN0wsS0FBS3NpRixrQkFBb0Joa0UsRUFDbEJ0ZSxLQUFLc2lGLG1CQVNoQkQsRUFBS3ppRixVQUFVeWpGLFVBQVksU0FBVS9rRSxHQUNqQ3RlLEtBQUttM0IsUUFBVTdZLEVBQ2Z0ZSxLQUFLc2lGLGtCQUFvQixNQU83QkQsRUFBS3ppRixVQUFVaTZCLFNBQVcsV0FDdEIsT0FBTzc1QixLQUFLaTdCLFFBUWhCb25ELEVBQUt6aUYsVUFBVTY0QixTQUFXLFNBQVVDLEdBQ2hDLE9BQU8xNEIsS0FBS2lqRixXQUFXeHFELFNBQVNDLElBUXBDMnBELEVBQUt6aUYsVUFBVWc1QixjQUFnQixTQUFVRixHQUNyQyxPQUFPMTRCLEtBQUtpakYsV0FBV3JxRCxjQUFjRixJQUt6QzJwRCxFQUFLemlGLFVBQVVpNUIsYUFBZSxXQUMxQixPQUFPNzRCLEtBQUtpakYsV0FBVy9wRCxXQUszQm1wRCxFQUFLemlGLFVBQVVrNUIseUJBQTJCLFdBQ3RDLE9BQU85NEIsS0FBSzY0QixnQkFLaEJ3cEQsRUFBS3ppRixVQUFVbTVCLGNBQWdCLFdBQzNCLE9BQU8vNEIsS0FBS2lqRixXQUFXbHFELGlCQUszQnNwRCxFQUFLemlGLFVBQVV5NEIscUJBQXVCLFdBQ2xDLE9BQU9yNEIsS0FBS2lqRixXQUFXNXFELHdCQU8zQmdxRCxFQUFLemlGLFVBQVVxNUIsVUFBWSxXQUN2QixHQUFJajVCLEtBQUt5MkIsUUFDTCxPQUFPejJCLEtBQUt5MkIsUUFFaEIsSUFBSTdnQixFQUFTNVYsS0FBS2tqRixRQUNkOXNELEVBQWVwMkIsS0FBS2k0QixrQkFDeEIsR0FBSWo0QixLQUFLbWpGLGVBQWlCVixHQUFxQixDQUMzQyxJQUFJNTJFLEVBQU83TCxLQUFLazVCLFVBQ1pvcUQsRUFBZ0J0akYsS0FBS2lqRixXQUFXL3BELFVBQ3BDLElBQUtydEIsSUFBU3kzRSxFQUNWLE9BQU8sS0FFWDF0RSxFQUFTQSxFQUFPbkwsUUFDWnpLLEtBQUttakYsZUFBaUJWLElBQ3RCemlGLEtBQUttakYsZUFBaUJWLEtBQ3RCN3NFLEVBQU8sR0FBSzB0RSxFQUFjLEdBQUt6M0UsRUFBSyxHQUFLK0osRUFBTyxJQUVoRDVWLEtBQUttakYsZUFBaUJWLElBQ3RCemlGLEtBQUttakYsZUFBaUJWLEtBQ3RCN3NFLEVBQU8sR0FBSzB0RSxFQUFjLEdBQUt6M0UsRUFBSyxHQUFLK0osRUFBTyxJQU14RCxPQUhBQSxFQUFPLElBQU13Z0IsRUFBYSxHQUMxQnhnQixFQUFPLElBQU13Z0IsRUFBYSxHQUMxQnAyQixLQUFLeTJCLFFBQVU3Z0IsRUFDUjVWLEtBQUt5MkIsU0FPaEI0ckQsRUFBS3ppRixVQUFVb2lGLE9BQVMsV0FDcEIsT0FBT2hpRixLQUFLaWpGLFdBQVdqQixVQU8zQkssRUFBS3ppRixVQUFVczVCLFFBQVUsV0FDckIsT0FBUWw1QixLQUFLbzNCLE1BQW9DcDNCLEtBQUtvM0IsTUFBakNwM0IsS0FBS2lqRixXQUFXL3BELFdBS3pDbXBELEVBQUt6aUYsVUFBVXU1QixrQkFBb0IsU0FBVXh5QixHQUN6QzNHLEtBQUtpakYsV0FBVzd6RSxpQkFBaUJxekIsRUFBQSxTQUFrQjk3QixJQVN2RDA3RSxFQUFLemlGLFVBQVV3NUIsS0FBTyxXQUNsQnA1QixLQUFLaWpGLFdBQVc3cEQsUUFLcEJpcEQsRUFBS3ppRixVQUFVeTVCLG9CQUFzQixTQUFVMXlCLEdBQzNDM0csS0FBS2lqRixXQUFXLzdFLG9CQUFvQnU3QixFQUFBLFNBQWtCOTdCLElBRW5EMDdFLEVBMVVjLENBMlV2QixNQ3ZYRixJQU9Ja0IsR0FBcUIsQ0FDckIsTUFxTkosU0FBNkJDLEVBQWMxbUQsRUFBVWh6QixFQUFPdWQsRUFBU284RCxHQUNqRSxJQUdJN0osRUFIQXJQLEVBQWF6Z0UsRUFBTTJ1QixXQUNuQml5QyxFQUFZNWdFLEVBQU15ekIsVUFRdEIsR0FMSWttRCxJQUNBRCxFQUFlQyxFQUNmN0osRUFDSXJQLEdBQWNHLEdBQWFBLEVBQVVudEMsVUFBWSxRQUFLcDZCLEdBRTFEb25FLEVBQVksQ0FDWixHQUFJQSxFQUFXeHhDLGlCQUFtQkMsR0FBQSxTQUM5QixPQUVKLElBQUkwcUQsRUFBY0YsRUFBYXBQLFdBQVd0cUUsRUFBTTB6QixZQUFhczlDLElBQzdENEksRUFBWXBaLGNBQWNDLEVBQVlxUCxHQUN0QzhKLEVBQVkxWixVQUFVbHRDLEVBQVV6VixHQUVwQyxHQUFJcWpELEdBQWFBLEVBQVVudEMsVUFBVyxDQUNsQyxJQUFJb21ELEVBQWFILEVBQWFwUCxXQUFXdHFFLEVBQU0wekIsWUFBYXM5QyxJQUM1RDZJLEVBQVdsWixhQUFhQyxFQUFXa1AsR0FDbkMrSixFQUFXdlosU0FBU3R0QyxFQUFVelYsS0F6T2xDLFdBb0pKLFNBQWtDbThELEVBQWMxbUQsRUFBVWh6QixFQUFPdWQsRUFBU284RCxHQUN0RSxJQUFJbnFELEVBQWN4dkIsRUFBTWd1QixZQUN4QixHQUFJd0IsRUFBYSxDQUNiLElBQUlzcUQsRUFBbUJKLEVBQWFwUCxXQUFXdHFFLEVBQU0wekIsWUFBYXM5QyxJQUNsRThJLEVBQWlCdlosbUJBQW1CLEtBQU0vd0MsR0FDMUNzcUQsRUFBaUJwYSxlQUFlMXNDLEVBQVV6VixHQUU5QyxJQUFJcWpELEVBQVk1Z0UsRUFBTXl6QixVQUN0QixHQUFJbXRDLEdBQWFBLEVBQVVudEMsVUFBVyxDQUNsQyxJQUFJb21ELEdBQWNGLEdBQTZCRCxHQUFjcFAsV0FBV3RxRSxFQUFNMHpCLFlBQWFzOUMsSUFDM0Y2SSxFQUFXbFosYUFBYUMsR0FDeEJpWixFQUFXdlosU0FBU3R0QyxFQUFVelYsS0E5SmxDLFFBaVJKLFNBQStCbThELEVBQWMxbUQsRUFBVWh6QixFQUFPdWQsRUFBU284RCxHQUNuRSxJQUFJaHBELEVBQVkzd0IsRUFBTTJ0QixVQUNsQjZCLEVBQWN4dkIsRUFBTWd1QixZQUN4QixHQUFJMkMsR0FBYW5CLEVBQWEsQ0FDMUIsSUFBSXVxRCxFQUFnQkwsRUFBYXBQLFdBQVd0cUUsRUFBTTB6QixZQUFhczlDLElBQy9EK0ksRUFBY3haLG1CQUFtQjV2QyxFQUFXbkIsR0FDNUN1cUQsRUFBYzNaLFlBQVlwdEMsRUFBVXpWLEdBRXhDLElBQUlxakQsRUFBWTVnRSxFQUFNeXpCLFVBQ3RCLEdBQUltdEMsR0FBYUEsRUFBVW50QyxVQUFXLENBQ2xDLElBQUlvbUQsR0FBY0YsR0FBNkJELEdBQWNwUCxXQUFXdHFFLEVBQU0wekIsWUFBYXM5QyxJQUMzRjZJLEVBQVdsWixhQUFhQyxHQUN4QmlaLEVBQVd2WixTQUFTdHRDLEVBQVV6VixLQTVSbEMsV0FpUEosU0FBa0NtOEQsRUFBYzFtRCxFQUFVaHpCLEVBQU91ZCxFQUFTbzhELEdBQ3RFLElBR0k3SixFQUhBclAsRUFBYXpnRSxFQUFNMnVCLFdBQ25CaXlDLEVBQVk1Z0UsRUFBTXl6QixVQVF0QixHQUxJa21ELElBQ0FELEVBQWVDLEVBQ2Y3SixFQUNJclAsR0FBY0csR0FBYUEsRUFBVW50QyxVQUFZLFFBQUtwNkIsR0FFMURvbkUsRUFBWSxDQUNaLEdBQUlBLEVBQVd4eEMsaUJBQW1CQyxHQUFBLFNBQzlCLE9BRUosSUFBSTBxRCxFQUFjRixFQUFhcFAsV0FBV3RxRSxFQUFNMHpCLFlBQWFzOUMsSUFDN0Q0SSxFQUFZcFosY0FBY0MsRUFBWXFQLEdBQ3RDOEosRUFBWTlaLGVBQWU5c0MsRUFBVXpWLEdBRXpDLEdBQUlxakQsR0FBYUEsRUFBVW50QyxVQUFXLENBQ2xDLElBQUlvbUQsR0FBY0YsR0FBNkJELEdBQWNwUCxXQUFXdHFFLEVBQU0wekIsWUFBYXM5QyxJQUMzRjZJLEVBQVdsWixhQUFhQyxFQUFXa1AsR0FDbkMrSixFQUFXdlosU0FBU3R0QyxFQUFVelYsS0FyUWxDLGdCQXNLSixTQUF1Q204RCxFQUFjMW1ELEVBQVVoekIsRUFBT3VkLEVBQVNvOEQsR0FDM0UsSUFBSW5xRCxFQUFjeHZCLEVBQU1ndUIsWUFDeEIsR0FBSXdCLEVBQWEsQ0FDYixJQUFJc3FELEVBQW1CSixFQUFhcFAsV0FBV3RxRSxFQUFNMHpCLFlBQWFzOUMsSUFDbEU4SSxFQUFpQnZaLG1CQUFtQixLQUFNL3dDLEdBQzFDc3FELEVBQWlCbGEsb0JBQW9CNXNDLEVBQVV6VixHQUVuRCxJQUFJcWpELEVBQVk1Z0UsRUFBTXl6QixVQUN0QixHQUFJbXRDLEdBQWFBLEVBQVVudEMsVUFBVyxDQUNsQyxJQUFJb21ELEdBQWNGLEdBQTZCRCxHQUFjcFAsV0FBV3RxRSxFQUFNMHpCLFlBQWFzOUMsSUFDM0Y2SSxFQUFXbFosYUFBYUMsR0FDeEJpWixFQUFXdlosU0FBU3R0QyxFQUFVelYsS0FoTGxDLGFBMExKLFNBQW9DbThELEVBQWMxbUQsRUFBVWh6QixFQUFPdWQsRUFBU284RCxHQUN4RSxJQUFJaHBELEVBQVkzd0IsRUFBTTJ0QixVQUNsQjZCLEVBQWN4dkIsRUFBTWd1QixZQUN4QixHQUFJd0IsR0FBZW1CLEVBQVcsQ0FDMUIsSUFBSW9wRCxFQUFnQkwsRUFBYXBQLFdBQVd0cUUsRUFBTTB6QixZQUFhczlDLElBQy9EK0ksRUFBY3haLG1CQUFtQjV2QyxFQUFXbkIsR0FDNUN1cUQsRUFBYy9aLGlCQUFpQmh0QyxFQUFVelYsR0FFN0MsSUFBSXFqRCxFQUFZNWdFLEVBQU15ekIsVUFDdEIsR0FBSW10QyxHQUFhQSxFQUFVbnRDLFVBQVcsQ0FDbEMsSUFBSW9tRCxHQUFjRixHQUE2QkQsR0FBY3BQLFdBQVd0cUUsRUFBTTB6QixZQUFhczlDLElBQzNGNkksRUFBV2xaLGFBQWFDLEdBQ3hCaVosRUFBV3ZaLFNBQVN0dEMsRUFBVXpWLEtBck1sQyxtQkFnSUosU0FBMEN5OEQsRUFBYWhuRCxFQUFVaHpCLEVBQU91ZCxFQUFTbzhELEdBQzdFLElBQ0lqaUYsRUFBR0MsRUFESHM5RSxFQUFhamlELEVBQVNraUQscUJBRTFCLElBQUt4OUUsRUFBSSxFQUFHQyxFQUFLczlFLEVBQVdyOUUsT0FBUUYsRUFBSUMsSUFBTUQsR0FFMUN1aUYsRUFEdUJSLEdBQW1CeEUsRUFBV3Y5RSxHQUFHdWIsWUFDdkMrbUUsRUFBYS9FLEVBQVd2OUUsR0FBSXNJLEVBQU91ZCxFQUFTbzhELElBcElqRSxPQWtDSixTQUE4QkQsRUFBYzFtRCxFQUFVaHpCLEVBQU91ZCxFQUFTbzhELEdBQ2xFLElBQUlocEQsRUFBWTN3QixFQUFNMnRCLFVBQ2xCNkIsRUFBY3h2QixFQUFNZ3VCLFlBQ3hCLEdBQUkyQyxHQUFhbkIsRUFBYSxDQUMxQixJQUFJMHFELEVBQWVSLEVBQWFwUCxXQUFXdHFFLEVBQU0wekIsWUFBYXM5QyxJQUM5RGtKLEVBQWEzWixtQkFBbUI1dkMsRUFBV25CLEdBQzNDMHFELEVBQWE3YSxXQUFXcnNDLEVBQVV6VixHQUV0QyxJQUFJcWpELEVBQVk1Z0UsRUFBTXl6QixVQUN0QixHQUFJbXRDLEdBQWFBLEVBQVVudEMsVUFBVyxDQUNsQyxJQUFJb21ELEdBQWNGLEdBQTZCRCxHQUFjcFAsV0FBV3RxRSxFQUFNMHpCLFlBQWFzOUMsSUFDM0Y2SSxFQUFXbFosYUFBYUMsR0FDeEJpWixFQUFXdlosU0FBU3R0QyxFQUFVelYsTUF2Qy9CLFNBQVM0OEQsR0FBYUMsRUFBVUMsR0FDbkMsT0FBTzc1RSxVQUFTLFFBQU80NUUsR0FBVyxJQUFNNTVFLFVBQVMsUUFBTzY1RSxHQUFXLElBZ0JoRSxTQUFTQyxHQUFhanRFLEVBQVl1aEIsR0FDckMsTUF4Q3FCLEdBd0NRdmhCLEVBQWN1aEIsRUFrQ3hDLFNBQVMyckQsR0FBY1AsRUFBYXo4RCxFQUFTdmQsRUFBTzRULEVBQWtCL1csRUFBVWdYLEVBQWU4bEUsR0FDbEcsSUFBSXJ5QixHQUFVLEVBQ1ZtWixFQUFhemdFLEVBQU0ydUIsV0FDdkIsR0FBSTh4QyxFQUFZLENBQ1osSUFBSWpMLEVBQWFpTCxFQUFXeHhDLGdCQUN4QnVtQyxHQUFjdG1DLEdBQUEsVUFBcUJzbUMsR0FBY3RtQyxHQUFBLFFBQ2pEdXhDLEVBQVdseEMsb0JBQW9CMXlCLElBRzNCMjRELEdBQWN0bUMsR0FBQSxRQUNkdXhDLEVBQVdueEMsT0FFZmttQyxFQUFhaUwsRUFBV3h4QyxnQkFDeEJ3eEMsRUFBV3B4QyxrQkFBa0J4eUIsR0FDN0J5cUQsR0FBVSxHQUlsQixPQVVKLFNBQStCMHlCLEVBQWF6OEQsRUFBU3ZkLEVBQU80VCxFQUFrQkMsRUFBZThsRSxHQUN6RixJQUFJM21ELEVBQVdoekIsRUFBTTZ6QixxQkFBTjd6QixDQUE0QnVkLEdBQzNDLEdBQUt5VixFQUFMLENBR0EsSUFBSTNjLEVBQXFCMmMsRUFBU2pmLG9CQUFvQkgsRUFBa0JDLEdBQ3pEN1QsRUFBTTJ6QixjQUVqQjZtRCxHQUFlUixFQUFhM2pFLEVBQW9CclcsRUFBT3VkLElBSXZEMDhELEVBRHVCUixHQUFtQnBqRSxFQUFtQnBELFlBQzVDK21FLEVBQWEzakUsRUFBb0JyVyxFQUFPdWQsRUFBU284RCxJQXZCdEVjLENBQXNCVCxFQUFhejhELEVBQVN2ZCxFQUFPNFQsRUFBa0JDLEVBQWU4bEUsR0FDN0VyeUIsRUErQlgsU0FBU2t6QixHQUFlUixFQUFhaG5ELEVBQVVoekIsRUFBT3VkLEdBQ2xELEdBQUl5VixFQUFTL2YsV0FBYWd0QixHQUFBLHNCQU9iKzVDLEVBQVkxUCxXQUFXdHFFLEVBQU0wekIsWUFBYXM5QyxJQUNoRDdSLFdBQ29ELEVBQVk1aEQsRUFBU3ZkLEVBQU0yekIsb0JBUGxGLElBREEsSUFBSXNoRCxFQUE0RSxFQUFXeUYsZ0JBQ2xGaGpGLEVBQUksRUFBR0MsRUFBS3M5RSxFQUFXcjlFLE9BQVFGLEVBQUlDLElBQU1ELEVBQzlDOGlGLEdBQWVSLEVBQWEvRSxFQUFXdjlFLEdBQUlzSSxFQUFPdWQsR0NuSjlELElBQUksR0FBd0MsV0FDeEMsSUFBSWxvQixFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQTJoQjVDLFNBM2YrQyxTQUFVSSxHQUtyRCxTQUFTc2tGLEVBQTBCQyxHQUMvQixJQUFJcGtGLEVBQVFILEVBQU9MLEtBQUtFLEtBQU0wa0YsSUFBZ0Ixa0YsS0EwRTlDLE9BeEVBTSxFQUFNcWtGLDZCQUErQnJrRixFQUFNc2tGLHdCQUF3QjcxRSxLQUFLek8sR0FJeEVBLEVBQU11a0Ysd0JBS052a0YsRUFBTXdrRixRQUFTLEVBSWZ4a0YsRUFBTXlrRix1QkFBeUIsS0FJL0J6a0YsRUFBTTBrRixrQkFBb0IsS0FLMUIxa0YsRUFBTTJrRixtQkFBcUIsRUFLM0Iza0YsRUFBTTRrRixvQkFBc0JqbkUsSUFLNUIzZCxFQUFNc2hFLGlCQUFrQixVQUt4QnRoRSxFQUFNNmtGLGtCQUtON2tGLEVBQU04a0YsZ0JBQWtCLEtBS3hCOWtGLEVBQU0ra0Ysb0JBQXNCLEtBSzVCL2tGLEVBQU1nbEYscUJBQXVCLEtBSzdCaGxGLEVBQU1pbEYsYUFBZSxLQUtyQmpsRixFQUFNa2xGLG9CQUFxQixFQUkzQmxsRixFQUFNdStELHVCQUF5QixLQUsvQnYrRCxFQUFNbWxGLFVBQVcsRUFDVm5sRixFQXlhWCxPQXhmQSxHQUFVbWtGLEVBQTJCdGtGLEdBdUZyQ3NrRixFQUEwQjdrRixVQUFVZ2dFLGFBQWUsU0FBVW40RCxFQUFRcVgsRUFBV2dXLEdBQ3hFQSxFQUFVLElBQ1ZydEIsRUFBUyxNQUVidEgsRUFBT1AsVUFBVWdnRSxhQUFhOS9ELEtBQUtFLEtBQU15SCxFQUFRcVgsRUFBV2dXLElBT2hFMnZELEVBQTBCN2tGLFVBQVU4bEYsYUFBZSxTQUFVQyxFQUFlaHpDLEVBQVlpbUMsR0FDcEYsSUFBSS9rRSxFQUFTOCtCLEVBQVc5K0IsT0FDcEJpK0IsRUFBWWEsRUFBV2IsVUFDdkI1NkIsRUFBUzQ2QixFQUFVNTZCLE9BQ25CQyxFQUFhMjZCLEVBQVUzNkIsV0FDdkIwQyxFQUFhaTRCLEVBQVVqNEIsV0FDdkJ6QyxFQUFXMDZCLEVBQVUxNkIsU0FDckIwQyxFQUFtQkQsRUFBV0UsWUFDOUI2ckUsRUFBZTVsRixLQUFLaW9CLFdBQVd1cUIsWUFDL0I5WixFQUFhaWEsRUFBV2phLFdBQ3hCMDVCLEVBQVl6ZixFQUFXeWYsVUFDdkJvbEIsSUFBZ0JwbEIsRXRFdkliLElzRXVJOENBLEV0RXRJNUMsSXNFdUlMMTlCLEVBQVUxMEIsS0FBSzAwQixRQUNmam9CLEVBQVE4QixLQUFLZzRCLE1BQU1vTSxFQUFXOW1DLEtBQUssR0FBSzZzQixHQUN4Q2hzQixFQUFTNkIsS0FBS2c0QixNQUFNb00sRUFBVzltQyxLQUFLLEdBQUs2c0IsR0FDekN1c0IsRUFBYTJnQyxFQUFhL3dDLFlBQWNoN0IsRUFBV0csV0FDbkRDLEVBQWFnckMsR0FBYSxRQUFTbnJDLEdBQW9CLEtBQ3ZEK3JFLEVBQVc1Z0MsRUFDVDEyQyxLQUFLNnhCLE1BQU12c0IsRUFBTyxHQUFLaUcsRUFBaUIsSUFBTUcsR0FBYyxFQUM1RCxFQUNGNnJFLEVBQVE3Z0MsRUFDTjEyQyxLQUFLMkwsT0FBT3JHLEVBQU8sR0FBS2lHLEVBQWlCLElBQU1HLEdBQy9DLEVBQ04sRUFBRyxDQUNDLElBQUk2RSxFQUFZOWUsS0FBSzhnRSxtQkFBbUI1cEQsRUFBUUMsRUFBWUMsRUFBVXNoQixFQUFZanNCLEVBQU9DLEVBQVFvNUUsRUFBUTdyRSxHQUN6RzByRSxFQUFjaEwsUUFBUWptRCxFQUFTLEVBQUc1VixFQUFXMUgsRUFBVW9nRSxPQUFhcjBFLEVBQVd5MUUsV0FDeEVrTixFQUFRRCxJQU12QnBCLEVBQTBCN2tGLFVBQVUyMkMsZ0JBQWtCLFNBQVU1RCxHQUN4RDN5QyxLQUFLNitELHdCQUNMNytELEtBQUswbEYsYUFBYTFsRixLQUFLNitELHVCQUF3QmxzQixFQUFZQSxFQUFXc2dCLGdCQVM5RXd4QixFQUEwQjdrRixVQUFVa3pDLFlBQWMsU0FBVUgsRUFBWWxyQyxHQUNwRSxJQUFJaXhCLEVBQWFpYSxFQUFXamEsV0FDeEJtWixFQUFhYyxFQUFXSSxpQkFBaUJKLEVBQVcyRCxhQUV4RCxRQUFVdDJDLEtBQUswL0QsZUFBZ0IsRUFBSWhuQyxFQUFZLEVBQUlBLElBQ25ELFFBQVkxNEIsS0FBS3kxQyxzQkFBdUJ6MUMsS0FBSzAvRCxnQkFDN0MsSUFBSXFFLEdBQWtCLFFBQWtCL2pFLEtBQUswL0QsZ0JBQzdDMS9ELEtBQUs0L0QsYUFBYW40RCxFQUFRczhELEVBQWlCbHlCLEVBQVcvYyxTQUN0RCxJQUFJSixFQUFVMTBCLEtBQUswMEIsUUFDZnBvQixFQUFTb29CLEVBQVFwb0IsT0FDakJ3M0UsRUFBYzlqRixLQUFLdWxGLGFBQ25CMW1CLEVBQXlCNytELEtBQUs2K0QsdUJBQ2xDLEtBQU1pbEIsR0FBZUEsRUFBWW50RSxjQUMzQmtvRCxHQUEwQkEsRUFBdUJsb0QsV0FJbkQsT0FISzNXLEtBQUsyL0QsaUJBQW1CcnpELEVBQU9HLE1BQVEsSUFDeENILEVBQU9HLE1BQVEsR0FFWnpNLEtBQUt1a0MsVUFHaEIsSUFBSTkzQixFQUFROEIsS0FBS2c0QixNQUFNb00sRUFBVzltQyxLQUFLLEdBQUs2c0IsR0FDeENoc0IsRUFBUzZCLEtBQUtnNEIsTUFBTW9NLEVBQVc5bUMsS0FBSyxHQUFLNnNCLEdBQ3pDcHNCLEVBQU9HLE9BQVNBLEdBQVNILEVBQU9JLFFBQVVBLEdBQzFDSixFQUFPRyxNQUFRQSxFQUNmSCxFQUFPSSxPQUFTQSxFQUNaSixFQUFPeEMsTUFBTWdWLFlBQWNpbEQsSUFDM0J6M0QsRUFBT3hDLE1BQU1nVixVQUFZaWxELElBR3ZCL2pFLEtBQUsyL0QsaUJBQ1hqckMsRUFBUTBzQyxVQUFVLEVBQUcsRUFBRzMwRCxFQUFPQyxHQUVuQzFNLEtBQUs0Z0UsVUFBVWxzQyxFQUFTaWUsR0FDeEIsSUFBSWIsRUFBWWEsRUFBV2IsVUFDdkJqNEIsRUFBYWk0QixFQUFVajRCLFdBRXZCa3NFLEdBQVUsRUFDZCxHQUFJbDBDLEVBQVdoK0IsUUFBVTdULEtBQUt5bEYsU0FBVSxDQUNwQyxJQUFJemtCLEdBQWMsU0FBZW52QixFQUFXaCtCLE9BQVFnRyxJQUNwRGtzRSxJQUNLLFFBQWUva0IsRUFBYXJ1QixFQUFXOStCLFVBQ3BDLFFBQWlCbXRELEVBQWFydUIsRUFBVzkrQixVQUU3QzdULEtBQUt5Z0UsY0FBYy9yQyxFQUFTaWUsRUFBWXF1QixHQUdoRGhoRSxLQUFLMGxGLGFBQWE1QixFQUFhbnhDLEdBQzNCb3pDLEdBQ0FyeEQsRUFBUWlCLFVBRVozMUIsS0FBSzZnRSxXQUFXbnNDLEVBQVNpZSxHQUN6QixJQUFJN2QsRUFBVStjLEVBQVcvYyxRQUNyQnlQLEVBQVl2a0MsS0FBS3VrQyxVQVFyQixPQVBJelAsSUFBWXcrQixXQUFXL3VCLEVBQVV6NkIsTUFBTWdyQixXQUN2Q3lQLEVBQVV6NkIsTUFBTWdyQixRQUFzQixJQUFaQSxFQUFnQixHQUFLOEssT0FBTzlLLElBRXREOTBCLEtBQUttbEYsb0JBQXNCcnpDLEVBQVUxNkIsV0FDckNwWCxLQUFLbWxGLGtCQUFvQnJ6QyxFQUFVMTZCLFNBQ25DcFgsS0FBSytrRix1QkFBeUIsTUFFM0Iva0YsS0FBS3VrQyxXQU9oQmtnRCxFQUEwQjdrRixVQUFVbW9CLFlBQWMsU0FBVWdCLEdBQ3hELE9BQU8sSUFBSTRpQixRQUtYLFNBQVU2QixHQUNOLElBQUt4dEMsS0FBSytrRix5QkFBMkIva0YsS0FBSzZrRix3QkFBeUIsQ0FDL0QsSUFBSWg1RSxFQUFPLENBQUM3TCxLQUFLMDBCLFFBQVFwb0IsT0FBT0csTUFBT3pNLEtBQUswMEIsUUFBUXBvQixPQUFPSSxTQUMzRCxRQUFNMU0sS0FBSzAvRCxlQUFnQjd6RCxHQUMzQixJQUFJcUwsRUFBU2xYLEtBQUtvbEYsZ0JBQ2RqdUUsRUFBYW5YLEtBQUtrbEYsb0JBQ2xCOXRFLEVBQVdwWCxLQUFLbWxGLGtCQUNoQnRyRSxFQUFhN1osS0FBS3FsRixvQkFDbEJ4eEUsRUFBUzdULEtBQUs0aEUsZ0JBQ2RqNkMsRUFBUTNuQixLQUFLaW9CLFdBQ2JrRixFQUFhLEdBQ2IxZ0IsRUFBUVosRUFBSyxHQUFLLEVBQ2xCYSxFQUFTYixFQUFLLEdBQUssRUFDdkJzaEIsRUFBV2pyQixLQUFLbEMsS0FBSzhnRSxtQkFBbUI1cEQsRUFBUUMsRUFBWUMsRUFBVSxHQUFLM0ssRUFBT0MsRUFBUSxHQUFHakMsU0FDN0YsSUFBSXZFLEVBQVN5aEIsRUFBTTZxQixZQUNmMTRCLEVBQW1CRCxFQUFXRSxZQUNsQyxHQUFJN1QsRUFBTzJ1QyxZQUNQaDdCLEVBQVdHLGNBQ1YsUUFBZUYsRUFBa0JqRyxHQUFTLENBSzNDLElBSkEsSUFBSW1GLEVBQVNuRixFQUFPLEdBQ2hCb0csR0FBYSxRQUFTSCxHQUN0QmdzRSxFQUFRLEVBQ1JueEQsT0FBVSxFQUNQM2IsRUFBU2MsRUFBaUIsSUFFN0I2YSxFQUFVMWEsSUFEUjZyRSxFQUVGMzRELEVBQVdqckIsS0FBS2xDLEtBQUs4Z0UsbUJBQW1CNXBELEVBQVFDLEVBQVlDLEVBQVUsR0FBSzNLLEVBQU9DLEVBQVFpb0IsR0FBU2xxQixTQUNuR3VPLEdBQVVpQixFQUlkLElBRkE2ckUsRUFBUSxFQUNSOXNFLEVBQVNuRixFQUFPLEdBQ1RtRixFQUFTYyxFQUFpQixJQUU3QjZhLEVBQVUxYSxJQURSNnJFLEVBRUYzNEQsRUFBV2pyQixLQUFLbEMsS0FBSzhnRSxtQkFBbUI1cEQsRUFBUUMsRUFBWUMsRUFBVSxHQUFLM0ssRUFBT0MsRUFBUWlvQixHQUFTbHFCLFNBQ25HdU8sR0FBVWlCLEVBR2xCamEsS0FBSytrRix1QkNyUWQsU0FBcUNsNUUsRUFBTXNoQixFQUFZM0YsRUFBVTBXLEVBQWVycUIsRUFBUXNELEVBQVlDLEdBQ3ZHLElBQUkzSyxFQUFRWixFQUFLLEdBQUssRUFDbEJhLEVBQVNiLEVBQUssR0FBSyxFQUNuQjZvQixHQUFVLFFBQXNCam9CLEVBQU9DLEdBQzNDZ29CLEVBQVFzeEQsdUJBQXdCLEVBT2hDLElBTkEsSUFBSTE1RSxFQUFTb29CLEVBQVFwb0IsT0FDakI2d0IsRUFBVyxJQUFJLEdBQXdCekksRUFBUyxHQUFLN2dCLEVBQVEsS0FBTXVELEdBQ25FNnVFLEVBQWV6K0QsRUFBUzlsQixPQUV4QndrRixFQUFjMzNFLEtBQUsyTCxNQUFNLFNBQXdCK3JFLEdBQ2pERSxFQUFtQixHQUNkM2tGLEVBQUksRUFBR0EsR0FBS3lrRixJQUFnQnprRixFQUFHLENBQ3BDLElBQUk2bEIsRUFBVUcsRUFBU2htQixFQUFJLEdBQ3ZCNGtGLEVBQXVCLytELEVBQVFrYixvQkFBc0JyRSxFQUN6RCxHQUFLQSxFQUFMLENBR0EsSUFBSWxZLEVBQVNvZ0UsRUFBcUIvK0QsRUFBU2xRLEdBQzNDLEdBQUs2TyxFQUFMLENBR0t0bUIsTUFBTWtILFFBQVFvZixLQUNmQSxFQUFTLENBQUNBLElBSWQsSUFGQSxJQUNJOWMsRUFBUSxLQUFPLFVBRFAxSCxFQUFJMGtGLEdBQ29CLzhFLFNBQVMsS0FBS3NCLE9BQU8sR0FDaER2SCxFQUFJLEVBQUc2ZCxFQUFLaUYsRUFBT3RrQixPQUFRd0IsRUFBSTZkLElBQU03ZCxFQUFHLENBQzdDLElBQUltakYsRUFBZ0JyZ0UsRUFBTzlpQixHQUN2QjRHLEVBQVF1OEUsRUFBY255RSxRQUN0QnNpQixFQUFPMXNCLEVBQU0ydEIsVUFDYmpCLEdBQ0FBLEVBQUswRSxTQUFTaHlCLEdBRWxCLElBQUlndUIsRUFBU3B0QixFQUFNZ3VCLFlBQ2ZaLEdBQ0FBLEVBQU9nRSxTQUFTaHlCLEdBRXBCWSxFQUFNaTBCLGFBQVE1NkIsR0FDZCxJQUFJODVCLEVBQVFvcEQsRUFBYzV0RCxXQUMxQixHQUFJd0UsRUFBTyxDQUNQLElBQUkrbEQsRUFBVS9sRCxFQUFNcEUsZUFDcEIsSUFBS21xRCxFQUNELFNBRUosSUFBSXNELEVBQVcxOEUsU0FBU0MsY0FBYyxVQUN0Q3k4RSxFQUFTNzVFLE1BQVF1MkUsRUFBUSxHQUN6QnNELEVBQVM1NUUsT0FBU3MyRSxFQUFRLEdBQzFCLElBQUl1RCxFQUFhRCxFQUFTMzVFLFdBQVcsS0FBTSxDQUFFdzVELE9BQU8sSUFDcERvZ0IsRUFBVzlyRCxVQUFZdnhCLEVBQ3ZCLElBQUkyM0UsRUFBTTBGLEVBQVdqNkUsT0FDckJpNkUsRUFBV3hFLFNBQVMsRUFBRyxFQUFHbEIsRUFBSXAwRSxNQUFPbzBFLEVBQUluMEUsUUFDekMsSUFBSTg1RSxFQUFVeEQsRUFBVUEsRUFBUSxHQUFLbkMsRUFBSXAwRSxNQUNyQ2c2RSxFQUFXekQsRUFBVUEsRUFBUSxHQUFLbkMsRUFBSW4wRSxRQUN4QixRQUFzQjg1RSxFQUFTQyxHQUNyQy93RCxVQUFVbXJELEVBQUssRUFBRyxHQUM5Qi8yRSxFQUFNK3pCLFNBQVMsSUFBSSxHQUFLLENBQ3BCZ2pELElBQUtBLEVBQ0xtQyxRQUFTQSxFQUNUMWtFLE9BQVEyZSxFQUFNN0UsWUFDZHVxRCxhQUFjQyxHQUNkRSxhQUFjRixHQUNkaHRFLE9BQVFxbkIsRUFBTWhFLFlBQ2RwdEIsS0FBTW94QixFQUFNL0QsVUFDWnBFLFFBQVNtSSxFQUFNOUUsYUFDZjVaLE1BQU8wZSxFQUFNekYsV0FDYnBnQixTQUFVNmxCLEVBQU1sRixjQUNoQjVCLGVBQWdCOEcsRUFBTWpGLHVCQUc5QixJQUFJc0YsRUFBUzF5QixPQUFPZCxFQUFNMHpCLGNBQ3RCa3BELEVBQWlCUCxFQUFpQjdvRCxNQUVsQ29wRCxFQUFpQixHQUNqQlAsRUFBaUI3b0QsR0FBVW9wRCxFQUMzQkEsRUFBZTM4QyxHQUFBLFdBQXdCLEdBQ3ZDMjhDLEVBQWUzOEMsR0FBQSxVQUF1QixHQUN0QzI4QyxFQUFlMzhDLEdBQUEsZUFBNEIsR0FDM0MyOEMsRUFBZTM4QyxHQUFBLFNBQXNCLElBRXpDLElBQUlqTixFQUFXaHpCLEVBQU02ekIscUJBQU43ekIsQ0FBNEJ1ZCxHQUN2Q3lWLElBQVksUUFBV2pwQixFQUFRaXBCLEVBQVMvaUIsY0FDeEMyc0UsRUFBZTVwRCxFQUFTL2YsVUFBVXlSLFFBQVEsUUFBUyxLQUFLdHNCLEtBQUs0NkIsRUFBVWh6QixNQU9uRixJQUhBLElBQUk2OEUsRUFBYXBuRixPQUFPa0csS0FBSzBnRixHQUN4Qng3RSxJQUFJQyxRQUNKKzJCLEtBQUssT0FDTWxnQyxHQUFQRCxFQUFJLEVBQVFtbEYsRUFBV2psRixRQUFRRixFQUFJQyxJQUFNRCxFQUFHLENBQ2pELElBQUlrbEYsRUFBaUJQLEVBQWlCUSxFQUFXbmxGLElBQ2pELElBQUssSUFBSVosS0FBUThsRixFQUNiLEtBQUlFLEVBQWVGLEVBQWU5bEYsR0FDbEMsSUFBU3NDLEVBQUksRUFBRzZkLEVBQUs2bEUsRUFBYWxsRixPQUFRd0IsRUFBSTZkLEVBQUk3ZCxHQUFLLEVBQUcsQ0FDdERpNkIsRUFBUzdVLFNBQVNzK0QsRUFBYTFqRixFQUFJLElBQ25DLElBQUssSUFBSWtlLEVBQUksRUFBR3lsRSxFQUFLMTVELEVBQVd6ckIsT0FBUTBmLEVBQUl5bEUsSUFBTXpsRSxFQUM5QytiLEVBQVM3SCxhQUFhbkksRUFBVy9MLElBQ2pDK2IsRUFBUytyQyxhQUFhMGQsRUFBYTFqRixNQUtuRCxPQUFPd3hCLEVBQVEyc0MsYUFBYSxFQUFHLEVBQUcvMEQsRUFBT0csTUFBT0gsRUFBT0ksUURnS2JvNkUsQ0FBNEJqN0UsRUFBTXNoQixFQUFZbnRCLEtBQUtnbEYsa0JBQW1CcjlELEVBQU00YSxtQkFBb0IxdUIsRUFBUXNELEVBQVlDLEdBRXRKbzJCLEVDdkpMLFNBQW1CemtCLEVBQU92QixFQUFVKzBELEdBQ3ZDLElBQUl3SyxFQUFpQixHQUNyQixHQUFJeEssRUFBVyxDQUNYLElBQUl2N0UsRUFDQSxHQURTdU4sS0FBS2c0QixNQUFNeGQsRUFBTSxHQUFLLEdBQUt4YSxLQUFLZzRCLE1BQU14ZCxFQUFNLEdBQUssR0FBS3d6RCxFQUFVOXZFLE9BRXpFakQsRUFBSSt5RSxFQUFVeDBFLEtBQUsvRyxHQUNuQnlJLEVBQUk4eUUsRUFBVXgwRSxLQUFLL0csRUFBUSxHQUUzQlEsRUFESSs2RSxFQUFVeDBFLEtBQUsvRyxFQUFRLEdBQ25CLEtBQU95SSxFQUFJLElBQU1ELEdBQ3pCMDhFLEVBQWMzM0UsS0FBSzJMLE1BQU0sU0FBd0JzTixFQUFTOWxCLFFBQzFERixHQUFLQSxFQUFJMGtGLEdBQWdCLEdBQ3pCYSxFQUFlN2tGLEtBQUtzbEIsRUFBU2htQixFQUFJMGtGLEVBQWMsSUFHdkQsT0FBT2EsRUR5SVNDLENBQVVqK0QsRUFBTy9vQixLQUFLZ2xGLGtCQUFtQmhsRixLQUFLK2tGLDBCQUN4RGgyRSxLQUFLL08sUUFXWHlrRixFQUEwQjdrRixVQUFVdTBDLDJCQUE2QixTQUFVMS9CLEVBQVlrK0IsRUFBWXhyQixFQUFjaFIsRUFBVXcrQixHQUN2SCxJQUFJcjBDLEVBQVFOLEtBQ1osR0FBS0EsS0FBS3VsRixhQUFWLENBR0EsSUFzQ0lyNkMsRUF0Q0EvekIsRUFBYXc3QixFQUFXYixVQUFVMzZCLFdBQ2xDQyxFQUFXdTdCLEVBQVdiLFVBQVUxNkIsU0FDaEN1USxFQUFRM25CLEtBQUtpb0IsV0FFYlQsRUFBVyxHQU9YODBELEVBQWtCLFNBQVVqMUQsRUFBU3lWLEVBQVVrWSxHQUMvQyxJQUFJL3ZDLEdBQU0sUUFBT29pQixHQUNiMWIsRUFBUTZiLEVBQVN2aUIsR0FDckIsR0FBSzBHLEdBYUEsSUFBYyxJQUFWQSxHQUFrQnFwQyxFQUFhcnBDLEVBQU1xcEMsV0FBWSxDQUN0RCxHQUFtQixJQUFmQSxFQUdBLE9BRkF4dEIsRUFBU3ZpQixJQUFPLEVBQ2hCMHZDLEVBQVFoeUMsT0FBT2d5QyxFQUFRanNCLFlBQVkvYyxHQUFRLEdBQ3BDd0ssRUFBU2tSLEVBQVNNLEVBQU9tVixHQUVwQ254QixFQUFNbXhCLFNBQVdBLEVBQ2pCbnhCLEVBQU1xcEMsV0FBYUEsT0FwQlgsQ0FDUixHQUFtQixJQUFmQSxFQUVBLE9BREF4dEIsRUFBU3ZpQixJQUFPLEVBQ1RrUixFQUFTa1IsRUFBU00sRUFBT21WLEdBRXBDNlgsRUFBUXp5QyxLQUFNc2xCLEVBQVN2aUIsR0FBTyxDQUMxQm9pQixRQUFTQSxFQUNUTSxNQUFPQSxFQUNQbVYsU0FBVUEsRUFDVmtZLFdBQVlBLEVBQ1o3K0IsU0FBVUEsTUFlbEI4d0UsRUFBaUIsQ0FBQ2puRixLQUFLdWxGLGNBUzNCLE9BUkl2bEYsS0FBSzYrRCx3QkFDTG9vQixFQUFlL2tGLEtBQUtsQyxLQUFLNitELHdCQUU3Qm9vQixFQUFlajBDLE1BQUssU0FBVTJ5QyxHQUMxQixPQUFRejZDLEVBQVN5NkMsRUFBY3h4QywyQkFBMkIxL0IsRUFBWTBDLEVBQVlDLEVBQVUrUCxFQUFjbTFELEVBQWlCcUosSUFBa0JybEYsRUFBTXUrRCx1QkFDN0lsc0IsRUFBV3NnQixjQUFjdGhELE1BQU1oSCxLQUFJLFNBQVVwSSxHQUFRLE9BQU9BLEVBQUtnRCxTQUNqRSxTQUVIMmxDLElBS1h1NUMsRUFBMEI3a0YsVUFBVWd6RCxtQkFBcUIsV0FDckQsSUFBSWpyQyxFQUFRM25CLEtBQUtpb0IsV0FDYk4sRUFBTW9wQixjQUFnQi93QyxLQUFLdWxGLGNBQzNCNTlELEVBQU1uaEIsV0FRZGkrRSxFQUEwQjdrRixVQUFVZ2xGLHdCQUEwQixTQUFVM3pFLEdBQ3BFalIsS0FBS28vRCwyQkFPVHFsQixFQUEwQjdrRixVQUFVaXpDLGFBQWUsU0FBVUYsR0FDekQsSUFBSSt4QyxFQUFjMWtGLEtBQUtpb0IsV0FDbkIyOUQsRUFBZWxCLEVBQVlseUMsWUFDL0IsSUFBS296QyxFQUNELE9BQU8sRUFFWCxJQUFJc0IsRUFBWXYwQyxFQUFXeWYsVXRFdlhwQixHc0V3WEgrMEIsRUFBY3gwQyxFQUFXeWYsVXRFdlhwQixHc0V3WEw2VSxFQUF1QnlkLEVBQVkvYywwQkFDbkNULEVBQXlCd2QsRUFBWTljLDRCQUN6QyxJQUFNNW5FLEtBQUs4a0YsU0FBVzdkLEdBQXdCaWdCLElBQ3hDaGdCLEdBQTBCaWdCLEVBRTVCLE9BREFubkYsS0FBSzZrRix5QkFBMEIsR0FDeEIsRUFFWDdrRixLQUFLNmtGLHlCQUEwQixFQUMvQixJQUFJdUMsRUFBbUJ6MEMsRUFBVzkrQixPQUM5QmkrQixFQUFZYSxFQUFXYixVQUN2Qmo0QixFQUFhaTRCLEVBQVVqNEIsV0FDdkIxQyxFQUFhMjZCLEVBQVUzNkIsV0FDdkJ1aEIsRUFBYWlhLEVBQVdqYSxXQUN4QjJ1RCxFQUFzQjNDLEVBQVlqK0UsY0FDbEM2Z0YsRUFBMEI1QyxFQUFZamQsa0JBQ3RDOGYsRUFBeUI3QyxFQUFZaGQsc0JBQ1Z2a0UsSUFBM0Jva0YsSUFDQUEsRUFBeUIsSUFFN0IsSUFBSXJ3RSxFQUFTNDZCLEVBQVU1NkIsT0FBT3pNLFFBQzFCb0osR0FBUyxRQUFPdXpFLEVBQWtCRSxFQUEwQm53RSxHQUM1RHF3RSxFQUFjLENBQUMzekUsRUFBT3BKLFNBQ3RCcVAsRUFBbUJELEVBQVdFLFlBQ2xDLEdBQUk2ckUsRUFBYS93QyxZQUNiaDdCLEVBQVdHLGNBQ1YsUUFBZUYsRUFBa0I2NEIsRUFBVzkrQixRQUFTLENBTXRELElBQUlvRyxHQUFhLFFBQVNILEdBQ3RCa3NELEVBQVN6M0QsS0FBSzBILEtBQUksUUFBU3BDLEdBQVUsRUFBR29HLEdBQzVDcEcsRUFBTyxHQUFLaUcsRUFBaUIsR0FBS2tzRCxFQUNsQ255RCxFQUFPLEdBQUtpRyxFQUFpQixHQUFLa3NELEVBQ2xDLEVBQWdCOXVELEVBQVEyQyxHQUN4QixJQUFJNHRFLEdBQWEsUUFBWUQsRUFBWSxHQUFJM3RFLEdBRXpDNHRFLEVBQVcsR0FBSzN0RSxFQUFpQixJQUNqQzJ0RSxFQUFXLEdBQUszdEUsRUFBaUIsR0FDakMwdEUsRUFBWXRsRixLQUFLLENBQ2J1bEYsRUFBVyxHQUFLeHRFLEVBQ2hCd3RFLEVBQVcsR0FDWEEsRUFBVyxHQUFLeHRFLEVBQ2hCd3RFLEVBQVcsS0FHVkEsRUFBVyxHQUFLM3RFLEVBQWlCLElBQ3RDMnRFLEVBQVcsR0FBSzN0RSxFQUFpQixJQUNqQzB0RSxFQUFZdGxGLEtBQUssQ0FDYnVsRixFQUFXLEdBQUt4dEUsRUFDaEJ3dEUsRUFBVyxHQUNYQSxFQUFXLEdBQUt4dEUsRUFDaEJ3dEUsRUFBVyxLQUl2QixJQUFLem5GLEtBQUs4a0YsUUFDTjlrRixLQUFLa2xGLHFCQUF1Qi90RSxHQUM1Qm5YLEtBQUtpbEYsbUJBQXFCb0MsR0FDMUJybkYsS0FBS3NsRixzQkFBd0JpQyxJQUM3QixRQUFldm5GLEtBQUs0aEUsZ0JBQWlCL3RELEdBRXJDLE9BREE3VCxLQUFLd2xGLG9CQUFxQixHQUNuQixFQUVYeGxGLEtBQUt1bEYsYUFBZSxLQUNwQnZsRixLQUFLOGtGLFFBQVMsRUFDZCxJQUNJNEMsRUFEQTVELEVBQWMsSUFBSSxHQUFtQixHQUFtQjNzRSxFQUFZdWhCLEdBQWE3a0IsRUFBUXNELEVBQVl1aEIsR0FFckcxNEIsS0FBS2lvQixXQUFXdS9DLGlCQUNoQmtnQixFQUF3QixJQUFJLEdBQW1CLEdBQW1CdndFLEVBQVl1aEIsR0FBYTdrQixFQUFRc0QsRUFBWXVoQixJQUVuSCxJQUNJaXZELEVBREF2M0QsR0FBaUIsV0FFckIsR0FBSUEsRUFBZ0IsQ0FDaEIsSUFBSyxJQUFJNXVCLEVBQUksRUFBR0MsRUFBSytsRixFQUFZOWxGLE9BQVFGLEVBQUlDLElBQU1ELEVBQy9Db2tGLEVBQWFnQyxjQUFhLFNBQWFKLEVBQVlobUYsR0FBSXFZLEdBQWExQyxFQUFZaVosR0FFcEZ1M0QsR0FBZ0IsU0FBNEJ2M0QsRUFBZ0J2VyxRQUc1RCxJQUFTclksRUFBSSxFQUFHQyxFQUFLK2xGLEVBQVk5bEYsT0FBUUYsRUFBSUMsSUFBTUQsRUFDL0Nva0YsRUFBYWdDLGFBQWFKLEVBQVlobUYsR0FBSTJWLEVBQVkwQyxHQUc5RCxJQUFJNkQsRURuYUwsU0FBNkJ2RyxFQUFZdWhCLEdBQzVDLElBQUk5WixFQUFZd2xFLEdBQWFqdEUsRUFBWXVoQixHQUN6QyxPQUFPOVosRUFBWUEsRUNpYVEsQ0FBMEJ6SCxFQUFZdWhCLEdBQ3pEbkIsRUFLSixTQUFVbFEsR0FDTixJQUFJckIsRUFDQWtZLEVBQWdCN1csRUFBUWtiLG9CQUFzQm1pRCxFQUFZbmlELG1CQUk5RCxHQUhJckUsSUFDQWxZLEVBQVNrWSxFQUFjN1csRUFBU2xRLElBRWhDNk8sRUFBUSxDQUNSLElBQUk2aEUsRUFBUTduRixLQUFLcWtGLGNBQWNoOUQsRUFBUzNKLEVBQWtCc0ksRUFBUTg5RCxFQUFhNkQsRUFBZUQsR0FDOUYxbkYsS0FBSzhrRixPQUFTOWtGLEtBQUs4a0YsUUFBVStDLElBRW5DOTRFLEtBQUsvTyxNQUNIOG5GLEdBQWEsU0FBYWowRSxFQUFRZ0csR0FFbEMyTixFQUFXbytELEVBQWFtQyxvQkFBb0JELEdBSWhELElBSElQLEdBQ0EvL0QsRUFBU21hLEtBQUs0bEQsR0FFVC9sRixFQUFJLEVBQUdDLEVBQUsrbEIsRUFBUzlsQixPQUFRRixFQUFJQyxJQUFNRCxFQUM1QysxQixFQUFPL1AsRUFBU2htQixJQUVwQnhCLEtBQUtnbEYsa0JBQW9CeDlELEVBQ3pCLElBQUl3Z0UsRUFBMEJsRSxFQUFZbFgsU0FDdEMrWSxFQUFnQixJQUFJLEdBQWM5eEUsRUFBUXNELEVBQVl1aEIsRUFBWWt0RCxFQUFhcUMsY0FBZUQsRUFBeUJ0RCxFQUFZamQsbUJBYXZJLE9BWklpZ0IsSUFDQTFuRixLQUFLNitELHVCQUF5QixJQUFJLEdBQWNockQsRUFBUXNELEVBQVl1aEIsRUFBWWt0RCxFQUFhcUMsY0FBZVAsRUFBc0I5YSxTQUFVOFgsRUFBWWpkLG9CQUU1SnpuRSxLQUFLa2xGLG9CQUFzQi90RSxFQUMzQm5YLEtBQUtpbEYsa0JBQW9Cb0MsRUFDekJybkYsS0FBS3NsRixxQkFBdUJpQyxFQUM1QnZuRixLQUFLNGhFLGdCQUFrQi90RCxFQUN2QjdULEtBQUtvbEYsZ0JBQWtCbHVFLEVBQ3ZCbFgsS0FBS3FsRixvQkFBc0J4ckUsRUFDM0I3WixLQUFLdWxGLGFBQWVJLEVBQ3BCM2xGLEtBQUsra0YsdUJBQXlCLEtBQzlCL2tGLEtBQUt3bEYsb0JBQXFCLEdBQ25CLEdBV1hmLEVBQTBCN2tGLFVBQVV5a0YsY0FBZ0IsU0FBVWg5RCxFQUFTM0osRUFBa0JzSSxFQUFRdzlELEVBQWM3bEUsRUFBZThsRSxHQUMxSCxJQUFLejlELEVBQ0QsT0FBTyxFQUVYLElBQUlvckMsR0FBVSxFQUNkLEdBQUkxeEQsTUFBTWtILFFBQVFvZixHQUNkLElBQUssSUFBSXhrQixFQUFJLEVBQUdDLEVBQUt1a0IsRUFBT3RrQixPQUFRRixFQUFJQyxJQUFNRCxFQUMxQzR2RCxFQUNJaXpCLEdBQWNiLEVBQWNuOEQsRUFBU3JCLEVBQU94a0IsR0FBSWtjLEVBQWtCMWQsS0FBSzJrRiw2QkFBOEJobkUsRUFBZThsRSxJQUE4QnJ5QixPQUkxSkEsRUFBVWl6QixHQUFjYixFQUFjbjhELEVBQVNyQixFQUFRdEksRUFBa0IxZCxLQUFLMmtGLDZCQUE4QmhuRSxFQUFlOGxFLEdBRS9ILE9BQU9yeUIsR0FFSnF6QixFQXpmbUMsQ0EwZjVDLElFMWhCRixJQUFJLEdBQXdDLFdBQ3hDLElBQUl0bEYsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0E2QzVDLFNBakJpQyxTQUFVSSxHQUt2QyxTQUFTK25GLEVBQVkvbUYsR0FDakIsT0FBT2hCLEVBQU9MLEtBQUtFLEtBQU1tQixJQUFnQm5CLEtBUzdDLE9BZEEsR0FBVWtvRixFQUFhL25GLEdBV3ZCK25GLEVBQVl0b0YsVUFBVXN6QyxlQUFpQixXQUNuQyxPQUFPLElBQUksR0FBMEJsekMsT0FFbENrb0YsRUFmcUIsQ0FnQjlCQyxJQzRKRixHQWxMMkIsV0FJdkIsU0FBU0MsRUFBTUMsR0FJWHJvRixLQUFLc29GLE9BQVMsSUFBSSxLQUFKLENBQVdELEdBT3pCcm9GLEtBQUt1b0YsT0FBUyxHQWlLbEIsT0ExSkFILEVBQU14b0YsVUFBVThnQyxPQUFTLFNBQVU3c0IsRUFBUXRPLEdBRXZDLElBQUloRCxFQUFPLENBQ1B3UyxLQUFNbEIsRUFBTyxHQUNibUIsS0FBTW5CLEVBQU8sR0FDYm9CLEtBQU1wQixFQUFPLEdBQ2JxQixLQUFNckIsRUFBTyxHQUNidE8sTUFBT0EsR0FFWHZGLEtBQUtzb0YsT0FBTzVuRCxPQUFPbitCLEdBQ25CdkMsS0FBS3VvRixRQUFPLFFBQU9oakYsSUFBVWhELEdBT2pDNmxGLEVBQU14b0YsVUFBVXc1QixLQUFPLFNBQVVvdkQsRUFBU3hpRixHQUV0QyxJQURBLElBQUl5aUYsRUFBUSxJQUFJL29GLE1BQU1zRyxFQUFPdEUsUUFDcEJGLEVBQUksRUFBR2tZLEVBQUkxVCxFQUFPdEUsT0FBUUYsRUFBSWtZLEVBQUdsWSxJQUFLLENBQzNDLElBQUlxUyxFQUFTMjBFLEVBQVFobkYsR0FDakIrRCxFQUFRUyxFQUFPeEUsR0FFZmUsRUFBTyxDQUNQd1MsS0FBTWxCLEVBQU8sR0FDYm1CLEtBQU1uQixFQUFPLEdBQ2JvQixLQUFNcEIsRUFBTyxHQUNicUIsS0FBTXJCLEVBQU8sR0FDYnRPLE1BQU9BLEdBRVhrakYsRUFBTWpuRixHQUFLZSxFQUNYdkMsS0FBS3VvRixRQUFPLFFBQU9oakYsSUFBVWhELEVBRWpDdkMsS0FBS3NvRixPQUFPbHZELEtBQUtxdkQsSUFPckJMLEVBQU14b0YsVUFBVW1ELE9BQVMsU0FBVXdDLEdBQy9CLElBQUlnK0QsR0FBTSxRQUFPaCtELEdBR2JoRCxFQUFPdkMsS0FBS3VvRixPQUFPaGxCLEdBRXZCLGNBRE92akUsS0FBS3VvRixPQUFPaGxCLEdBQ2lCLE9BQTdCdmpFLEtBQUtzb0YsT0FBT3ZsRixPQUFPUixJQU85QjZsRixFQUFNeG9GLFVBQVU4M0QsT0FBUyxTQUFVN2pELEVBQVF0TyxHQUN2QyxJQUFJaEQsRUFBT3ZDLEtBQUt1b0YsUUFBTyxRQUFPaGpGLElBQzFCbWpGLEVBQU8sQ0FBQ25tRixFQUFLd1MsS0FBTXhTLEVBQUt5UyxLQUFNelMsRUFBSzBTLEtBQU0xUyxFQUFLMlMsT0FDN0MsUUFBT3d6RSxFQUFNNzBFLEtBQ2Q3VCxLQUFLK0MsT0FBT3dDLEdBQ1p2RixLQUFLMGdDLE9BQU83c0IsRUFBUXRPLEtBTzVCNmlGLEVBQU14b0YsVUFBVStvRixPQUFTLFdBRXJCLE9BRFkzb0YsS0FBS3NvRixPQUFPMzJFLE1BQ1hoSCxLQUFJLFNBQVVwSSxHQUN2QixPQUFPQSxFQUFLZ0QsVUFRcEI2aUYsRUFBTXhvRixVQUFVZ3BGLFlBQWMsU0FBVS8wRSxHQUVwQyxJQUFJNjBFLEVBQU8sQ0FDUDN6RSxLQUFNbEIsRUFBTyxHQUNibUIsS0FBTW5CLEVBQU8sR0FDYm9CLEtBQU1wQixFQUFPLEdBQ2JxQixLQUFNckIsRUFBTyxJQUdqQixPQURZN1QsS0FBS3NvRixPQUFPL25ELE9BQU9tb0QsR0FDbEIvOUUsS0FBSSxTQUFVcEksR0FDdkIsT0FBT0EsRUFBS2dELFVBVXBCNmlGLEVBQU14b0YsVUFBVXVDLFFBQVUsU0FBVWdVLEdBQ2hDLE9BQU9uVyxLQUFLNm9GLFNBQVM3b0YsS0FBSzJvRixTQUFVeHlFLElBUXhDaXlFLEVBQU14b0YsVUFBVWtwRixnQkFBa0IsU0FBVWoxRSxFQUFRc0MsR0FDaEQsT0FBT25XLEtBQUs2b0YsU0FBUzdvRixLQUFLNG9GLFlBQVkvMEUsR0FBU3NDLElBUW5EaXlFLEVBQU14b0YsVUFBVWlwRixTQUFXLFNBQVU3aUYsRUFBUW1RLEdBRXpDLElBREEsSUFBSSswQixFQUNLMXBDLEVBQUksRUFBR2tZLEVBQUkxVCxFQUFPdEUsT0FBUUYsRUFBSWtZLEVBQUdsWSxJQUV0QyxHQURBMHBDLEVBQVMvMEIsRUFBU25RLEVBQU94RSxJQUVyQixPQUFPMHBDLEVBR2YsT0FBT0EsR0FLWGs5QyxFQUFNeG9GLFVBQVUrVyxRQUFVLFdBQ3RCLE9BQU8sUUFBUTNXLEtBQUt1b0YsU0FLeEJILEVBQU14b0YsVUFBVWlDLE1BQVEsV0FDcEI3QixLQUFLc29GLE9BQU96bUYsUUFDWjdCLEtBQUt1b0YsT0FBUyxJQU1sQkgsRUFBTXhvRixVQUFVbWEsVUFBWSxTQUFVOUYsR0FDbEMsSUFBSWxNLEVBQU8vSCxLQUFLc29GLE9BQU9ybkQsU0FDdkIsT0FBTyxRQUFlbDVCLEVBQUtnTixLQUFNaE4sRUFBS2lOLEtBQU1qTixFQUFLa04sS0FBTWxOLEVBQUttTixLQUFNakIsSUFLdEVtMEUsRUFBTXhvRixVQUFVNitCLE9BQVMsU0FBVXNxRCxHQUUvQixJQUFLLElBQUl2bkYsS0FEVHhCLEtBQUtzb0YsT0FBT2x2RCxLQUFLMnZELEVBQU1ULE9BQU8zMkUsT0FDaEJvM0UsRUFBTVIsT0FDaEJ2b0YsS0FBS3VvRixPQUFPL21GLEdBQUt1bkYsRUFBTVIsT0FBTy9tRixJQUcvQjRtRixFQWhMZSxHQ3RCMUIsSUFBSSxHQUF3QyxXQUN4QyxJQUFJanBGLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBbUw1QyxTQUFTaXBGLEdBQWtCQyxHQUN2QixPQUFLQSxFQUdEdnBGLE1BQU1rSCxRQUFRcWlGLEdBQ1AsU0FBVXQyQyxHQUNiLE9BQU9zMkMsR0FHZ0IsbUJBQXBCQSxFQUNBQSxFQUVKLFNBQVV0MkMsR0FDYixNQUFPLENBQUNzMkMsSUFYRCxLQWNmLFNBN0k0QixTQUFVOW9GLEdBS2xDLFNBQVMrb0YsRUFBTzluRixHQUNaLElBQUlkLEVBQVFILEVBQU9MLEtBQUtFLE9BQVNBLEtBb0NqQyxPQS9CQU0sRUFBTWlrRCxhQUFjLFNBQWNuakQsRUFBUXlZLFlBSzFDdlosRUFBTTZvRixjQUFnQkgsR0FBa0I1bkYsRUFBUWcwRCxjQUtoRDkwRCxFQUFNOG9GLDhCQUNrQ2ptRixJQUFwQy9CLEVBQVFpb0YseUJBQ0Zqb0YsRUFBUWlvRix3QkFPbEIvb0YsRUFBTTh3RCxTQUFVLEVBS2hCOXdELEVBQU1pd0MsWUFDZ0JwdEMsSUFBbEIvQixFQUFRdXZDLE1BQXNCdnZDLEVBQVF1dkMsTUFBUSxFQUtsRHJ3QyxFQUFNZ3BGLFlBQTJCbm1GLElBQWxCL0IsRUFBUXdZLE9BQXNCeFksRUFBUXdZLE1BQzlDdFosRUE0RVgsT0FySEEsR0FBVTRvRixFQUFRL29GLEdBK0NsQitvRixFQUFPdHBGLFVBQVV1MUQsZ0JBQWtCLFdBQy9CLE9BQU9uMUQsS0FBS21wRixlQUtoQkQsRUFBT3RwRixVQUFVeTFELDJCQUE2QixXQUMxQyxPQUFPcjFELEtBQUtvcEYsMEJBT2hCRixFQUFPdHBGLFVBQVVpb0QsY0FBZ0IsV0FDN0IsT0FBTzduRCxLQUFLdWtELGFBTWhCMmtDLEVBQU90cEYsVUFBVXFxRCxlQUFpQixXQUM5QixPQUFPLFdBT1hpL0IsRUFBT3RwRixVQUFVNnlDLFNBQVcsV0FDeEIsT0FBT3p5QyxLQUFLdXdDLFFBS2hCMjRDLEVBQU90cEYsVUFBVWkxQyxTQUFXLFdBQ3hCLE9BQU83MEMsS0FBS3NwRixRQUtoQkosRUFBT3RwRixVQUFVb2tFLGtCQUFvQixhQU9yQ2tsQixFQUFPdHBGLFVBQVUycEYsUUFBVSxXQUN2QnZwRixLQUFLd0csV0FTVDBpRixFQUFPdHBGLFVBQVU0cEYsZ0JBQWtCLFNBQVVwMEIsR0FDekNwMUQsS0FBS21wRixjQUFnQkgsR0FBa0I1ekIsR0FDdkNwMUQsS0FBS3dHLFdBTVQwaUYsRUFBT3RwRixVQUFVMmlFLFNBQVcsU0FBVTV4QixHQUNsQzN3QyxLQUFLdXdDLE9BQVNJLEVBQ2Qzd0MsS0FBS3dHLFdBRUYwaUYsRUF0SGdCLENBdUh6QixNQ3ZLRixHQU1nQixhQU5oQixHQXlCbUIsZ0JDckJaLFNBQVMsR0FBSXIxRSxFQUFRc0QsR0FDeEIsTUFBTyxDQUFDLEVBQUMsS0FBVyxJQUFXckQsSUFBVUEsTUNMN0MsU0FDa0IsY0MwR1gsU0FBUzIxRSxHQUFJeDlDLEVBQUt5OUMsR0FXckIsT0FBTyxTQUFVNzFFLEVBQVFzRCxFQUFZMEMsRUFBWTh2RSxFQUFTQyxHQUN0RCxJQUFJMWpGLEVBQTBELE1BeEUvRCxTQUF5QitsQyxFQUFLeTlDLEVBQVE3MUUsRUFBUXNELEVBQVkwQyxFQUFZOHZFLEVBQVNDLEdBQ2xGLElBQUlILEVBQU0sSUFBSUksZUFDZEosRUFBSUssS0FBSyxNQUFzQixtQkFBUjc5QyxFQUFxQkEsRUFBSXA0QixFQUFRc0QsRUFBWTBDLEdBQWNveUIsR0FBSyxHQUNuRnk5QyxFQUFPM3NFLFdBQWFndEUsS0FDcEJOLEVBQUlPLGFBQWUsZUFFdkJQLEVBQUlRLGdCQWpEYyxNQXNEbEJSLEVBQUkzOEMsT0FBUyxTQUFVNzdCLEdBRW5CLElBQUt3NEUsRUFBSVMsUUFBV1QsRUFBSVMsUUFBVSxLQUFPVCxFQUFJUyxPQUFTLElBQU0sQ0FDeEQsSUFBSXRwRixFQUFPOG9GLEVBQU8zc0UsVUFFZDdXLE9BQVMsRUQ3RGYsUUM4RE10RixHRDdETixRQzZEaUNBLEVBQzNCc0YsRUFBU3VqRixFQUFJVSxhRDdEcEIsT0MrRFl2cEYsR0FDTHNGLEVBQVN1akYsRUFBSVcsZUFFVGxrRixHQUFTLElBQUlta0YsV0FBWUMsZ0JBQWdCYixFQUFJVSxhQUFjLG9CQUcxRHZwRixHQUFRbXBGLEtBQ2I3akYsRUFBcUN1akYsRUFBWSxVQUVqRHZqRixFQUNBeWpGLEVBRUNELEVBQU9hLGFBQWFya0YsRUFBUSxDQUN6QjJOLE9BQVFBLEVBQ1IyMkUsa0JBQW1CM3dFLElBQ2xCNnZFLEVBQU9lLGVBQWV2a0YsSUFHM0IwakYsU0FJSkEsS0FNUkgsRUFBSTU4QyxRQUFVKzhDLEVBQ2RILEVBQUlpQixPQXdCQUMsQ0FBZ0IxK0MsRUFBS3k5QyxFQUFRNzFFLEVBQVFzRCxFQUFZMEMsR0FNakQsU0FBVTJOLEVBQVVvakUsUUFDQXpuRixJQUFad21GLEdBQ0FBLEVBQVFuaUUsR0FFWnRoQixFQUFPMmtGLFlBQVlyakUsS0FFRW9pRSxHQUFvQixPQ3ZJckQsSUFBSSxHQUF3QyxXQUN4QyxJQUFJenFGLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBNkN4QytxRixHQUFtQyxTQUFVM3FGLEdBTzdDLFNBQVMycUYsRUFBa0JscUYsRUFBTW1xRixFQUFhQyxHQUMxQyxJQUFJMXFGLEVBQVFILEVBQU9MLEtBQUtFLEtBQU1ZLElBQVNaLEtBYXZDLE9BUEFNLEVBQU0rbUIsUUFBVTBqRSxFQU1oQnpxRixFQUFNa25CLFNBQVd3akUsRUFDVjFxRixFQUVYLE9BdEJBLEdBQVV3cUYsRUFBbUIzcUYsR0FzQnRCMnFGLEVBdkIyQixDQXdCcENwMUMsRUFBQSxJQSszQkYsU0EzeEJrQyxTQUFVdjFDLEdBS3hDLFNBQVM4cUYsRUFBYTlwRixHQUNsQixJQUFJYixFQUFRTixLQUNSb0IsRUFBVUQsR0FBZSxJQUM3QmIsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTSxDQUN0Qm8xRCxhQUFjaDBELEVBQVFnMEQsYUFDdEJ2N0MsZ0JBQVkxVyxFQUNad3RDLE1BQU8sRUFDUC8yQixXQUF5QnpXLElBQWxCL0IsRUFBUXdZLE9BQXNCeFksRUFBUXdZLFNBQzNDNVosTUFLQWtyRixRQUFVLEtBS2hCNXFGLEVBQU02cUYsUUFBVS9wRixFQUFRc29GLE9BS3hCcHBGLEVBQU00NkUsZUFBaUMvM0UsSUFBckIvQixFQUFRbTFFLFVBQWdDbjFFLEVBQVFtMUUsU0FLbEVqMkUsRUFBTThxRixLQUFPaHFGLEVBQVE2cUMsU0FDRTlvQyxJQUFuQi9CLEVBQVFpcUYsT0FDUi9xRixFQUFNNHFGLFFBQVU5cEYsRUFBUWlxRixZQUVKbG9GLElBQWY3QyxFQUFNOHFGLFFBQ1gsT0FBTzlxRixFQUFNNnFGLFFBQVMsR0FFdEI3cUYsRUFBTTRxRixRQUFVekIsR0FBSW5wRixFQUFNOHFGLEtBQzZCOXFGLEVBQWEsVUFNeEVBLEVBQU1nckYsZUFDbUJub0YsSUFBckIvQixFQUFRbXFGLFNBQXlCbnFGLEVBQVFtcUYsU0FBVyxHQUN4RCxJQXNDSUMsRUFBWWhrRSxFQXRDWmlrRSxPQUE4Q3RvRixJQUE1Qi9CLEVBQVFxcUYsaUJBQWdDcnFGLEVBQVFxcUYsZ0JBdUR0RSxPQWxEQW5yRixFQUFNb3JGLGVBQWlCRCxFQUFrQixJQUFJLEdBQVUsS0FLdkRuckYsRUFBTXFyRixvQkFBc0IsSUFBSSxHQUtoQ3JyRixFQUFNc3JGLHNCQUF3QixHQU05QnRyRixFQUFNdXJGLFNBQVcsR0FNakJ2ckYsRUFBTXdyRixVQUFZLEdBS2xCeHJGLEVBQU15ckYsbUJBQXFCLEdBSzNCenJGLEVBQU0wckYsb0JBQXNCLEtBRXhCdHNGLE1BQU1rSCxRQUFReEYsRUFBUW9tQixVQUN0QkEsRUFBV3BtQixFQUFRb21CLFNBRWRwbUIsRUFBUW9tQixXQUViQSxHQURBZ2tFLEVBQWFwcUYsRUFBUW9tQixVQUNDbGxCLFlBRXJCbXBGLFFBQWtDdG9GLElBQWZxb0YsSUFDcEJBLEVBQWEsSUFBSXZxRixFQUFBLEVBQVd1bUIsU0FFZnJrQixJQUFicWtCLEdBQ0FsbkIsRUFBTTJyRixvQkFBb0J6a0UsUUFFWHJrQixJQUFmcW9GLEdBQ0FsckYsRUFBTTRyRix3QkFBd0JWLEdBRTNCbHJGLEVBaXJCWCxPQXh4QkEsR0FBVTJxRixFQUFjOXFGLEdBcUh4QjhxRixFQUFhcnJGLFVBQVV1c0YsV0FBYSxTQUFVOWtFLEdBQzFDcm5CLEtBQUtvc0YsbUJBQW1CL2tFLEdBQ3hCcm5CLEtBQUt3RyxXQU9UeWtGLEVBQWFyckYsVUFBVXdzRixtQkFBcUIsU0FBVS9rRSxHQUNsRCxJQUFJZ2xFLEdBQWEsUUFBT2hsRSxHQUN4QixHQUFLcm5CLEtBQUtzc0YsWUFBWUQsRUFBWWhsRSxHQUFsQyxDQU1Bcm5CLEtBQUt1c0YsbUJBQW1CRixFQUFZaGxFLEdBQ3BDLElBQUl5VixFQUFXelYsRUFBUUMsY0FDdkIsR0FBSXdWLEVBQVUsQ0FDVixJQUFJanBCLEVBQVNpcEIsRUFBUy9pQixZQUNsQi9aLEtBQUswckYsZ0JBQ0wxckYsS0FBSzByRixlQUFlaHJELE9BQU83c0IsRUFBUXdULFFBSXZDcm5CLEtBQUs0ckYsc0JBQXNCUyxHQUFjaGxFLEVBRTdDcm5CLEtBQUs0QyxjQUFjLElBQUlrb0YsR0FBa0IwQixHQUE0Qm5sRSxTQWhCN0RybkIsS0FBS2dzRixxQkFDTGhzRixLQUFLZ3NGLG9CQUFvQmpwRixPQUFPc2tCLElBc0I1QzRqRSxFQUFhcnJGLFVBQVUyc0YsbUJBQXFCLFNBQVVGLEVBQVlobEUsR0FDOURybkIsS0FBSytyRixtQkFBbUJNLEdBQWMsRUFDbEMsUUFBT2hsRSxFQUFTb2IsRUFBQSxTQUFrQnppQyxLQUFLeXNGLHFCQUFzQnpzRixPQUM3RCxRQUFPcW5CLEVBQVN3dUIsRUFBQSxpQkFBZ0M3MUMsS0FBS3lzRixxQkFBc0J6c0YsUUFVbkZpckYsRUFBYXJyRixVQUFVMHNGLFlBQWMsU0FBVUQsRUFBWWhsRSxHQUN2RCxJQUFJcWxFLEdBQVEsRUFDUmxuRSxFQUFLNkIsRUFBUWliLFFBYWpCLFlBWlduL0IsSUFBUHFpQixJQUNNQSxFQUFHcmMsYUFBY25KLEtBQUs2ckYsU0FJeEJhLEdBQVEsRUFIUjFzRixLQUFLNnJGLFNBQVNybUUsRUFBR3JjLFlBQWNrZSxHQU1uQ3FsRSxLQUNBLFNBQVNMLEtBQWNyc0YsS0FBSzhyRixXQUFZLElBQ3hDOXJGLEtBQUs4ckYsVUFBVU8sR0FBY2hsRSxHQUUxQnFsRSxHQU9YekIsRUFBYXJyRixVQUFVaXJGLFlBQWMsU0FBVXJqRSxHQUMzQ3huQixLQUFLaXNGLG9CQUFvQnprRSxHQUN6QnhuQixLQUFLd0csV0FPVHlrRixFQUFhcnJGLFVBQVVxc0Ysb0JBQXNCLFNBQVV6a0UsR0FJbkQsSUFIQSxJQUFJZ2hFLEVBQVUsR0FDVm1FLEVBQWMsR0FDZEMsRUFBbUIsR0FDZHByRixFQUFJLEVBQUdxckYsRUFBV3JsRSxFQUFTOWxCLE9BQVFGLEVBQUlxckYsRUFBVXJyRixJQUFLLENBQzNELElBQUk2bEIsRUFBVUcsRUFBU2htQixHQUNuQjZxRixHQUFhLFFBQU9obEUsR0FDcEJybkIsS0FBS3NzRixZQUFZRCxFQUFZaGxFLElBQzdCc2xFLEVBQVl6cUYsS0FBS21sQixHQUdoQjdsQixFQUFJLEVBQWIsSUFBSyxJQUFXc3JGLEVBQVdILEVBQVlqckYsT0FBUUYsRUFBSXNyRixFQUFVdHJGLElBQUssQ0FDMUQ2bEIsRUFBVXNsRSxFQUFZbnJGLEdBQ3RCNnFGLEdBQWEsUUFBT2hsRSxHQUN4QnJuQixLQUFLdXNGLG1CQUFtQkYsRUFBWWhsRSxHQUNwQyxJQUFJeVYsRUFBV3pWLEVBQVFDLGNBQ3ZCLEdBQUl3VixFQUFVLENBQ1YsSUFBSWpwQixFQUFTaXBCLEVBQVMvaUIsWUFDdEJ5dUUsRUFBUXRtRixLQUFLMlIsR0FDYis0RSxFQUFpQjFxRixLQUFLbWxCLFFBR3RCcm5CLEtBQUs0ckYsc0JBQXNCUyxHQUFjaGxFLEVBRzdDcm5CLEtBQUswckYsZ0JBQ0wxckYsS0FBSzByRixlQUFldHlELEtBQUtvdkQsRUFBU29FLEdBRTdCcHJGLEVBQUksRUFBYixJQUFLLElBQVd1ckYsRUFBV0osRUFBWWpyRixPQUFRRixFQUFJdXJGLEVBQVV2ckYsSUFDekR4QixLQUFLNEMsY0FBYyxJQUFJa29GLEdBQWtCMEIsR0FBNEJHLEVBQVluckYsTUFPekZ5cEYsRUFBYXJyRixVQUFVc3NGLHdCQUEwQixTQUFVVixHQUN2RCxJQUFJd0IsR0FBc0IsRUFDMUJodEYsS0FBS29QLGlCQUFpQm85RSxJQUl0QixTQUFVdDdFLEdBQ0Q4N0UsSUFDREEsR0FBc0IsRUFDdEJ4QixFQUFXdHBGLEtBQUtnUCxFQUFJbVcsU0FDcEIybEUsR0FBc0IsTUFHOUJodEYsS0FBS29QLGlCQUFpQm85RSxJQUl0QixTQUFVdDdFLEdBQ0Q4N0UsSUFDREEsR0FBc0IsRUFDdEJ4QixFQUFXem9GLE9BQU9tTyxFQUFJbVcsU0FDdEIybEUsR0FBc0IsTUFHOUJ4QixFQUFXcDhFLGlCQUFpQjZuQyxFQUFBLE1BSTVCLFNBQVUvbEMsR0FDRDg3RSxJQUNEQSxHQUFzQixFQUN0Qmh0RixLQUFLbXNGLFdBQ3FEajdFLEVBQVcsU0FDckU4N0UsR0FBc0IsSUFFNUJqK0UsS0FBSy9PLE9BQ1B3ckYsRUFBV3A4RSxpQkFBaUI2bkMsRUFBQSxTQUk1QixTQUFVL2xDLEdBQ0Q4N0UsSUFDREEsR0FBc0IsRUFDdEJodEYsS0FBS2l0RixjQUNxRC83RSxFQUFXLFNBQ3JFODdFLEdBQXNCLElBRTVCaitFLEtBQUsvTyxPQUNQQSxLQUFLZ3NGLG9CQUFzQlIsR0FPL0JQLEVBQWFyckYsVUFBVWlDLE1BQVEsU0FBVXFyRixHQUNyQyxHQUFJQSxFQUFVLENBQ1YsSUFBSyxJQUFJQyxLQUFhbnRGLEtBQUsrckYsbUJBQ1ovckYsS0FBSytyRixtQkFBbUJvQixHQUM5QmhyRixRQUFRLE1BRVpuQyxLQUFLZ3NGLHNCQUNOaHNGLEtBQUsrckYsbUJBQXFCLEdBQzFCL3JGLEtBQUs2ckYsU0FBVyxHQUNoQjdyRixLQUFLOHJGLFVBQVksU0FJckIsR0FBSTlyRixLQUFLMHJGLGVBRUwsSUFBSyxJQUFJbG1FLEtBRFR4bEIsS0FBSzByRixlQUFldnBGLFFBQVFuQyxLQUFLb3RGLHNCQUFzQnIrRSxLQUFLL08sT0FDN0NBLEtBQUs0ckYsc0JBQ2hCNXJGLEtBQUtvdEYsc0JBQXNCcHRGLEtBQUs0ckYsc0JBQXNCcG1FLElBSTlEeGxCLEtBQUtnc0YscUJBQ0xoc0YsS0FBS2dzRixvQkFBb0JucUYsUUFFekI3QixLQUFLMHJGLGdCQUNMMXJGLEtBQUswckYsZUFBZTdwRixRQUV4QjdCLEtBQUs0ckYsc0JBQXdCLEdBQzdCLElBQUl5QixFQUFhLElBQUl2QyxHSi9jbEIsU0lnZEg5cUYsS0FBSzRDLGNBQWN5cUYsR0FDbkJydEYsS0FBS3dHLFdBY1R5a0YsRUFBYXJyRixVQUFVMHRGLGVBQWlCLFNBQVVuM0UsR0FDOUMsR0FBSW5XLEtBQUswckYsZUFDTCxPQUFPMXJGLEtBQUswckYsZUFBZXZwRixRQUFRZ1UsR0FFOUJuVyxLQUFLZ3NGLHFCQUNWaHNGLEtBQUtnc0Ysb0JBQW9CN3BGLFFBQVFnVSxJQWV6QzgwRSxFQUFhcnJGLFVBQVUydEYsaUNBQW1DLFNBQVU5NEUsRUFBWTBCLEdBQzVFLElBQUl0QyxFQUFTLENBQUNZLEVBQVcsR0FBSUEsRUFBVyxHQUFJQSxFQUFXLEdBQUlBLEVBQVcsSUFDdEUsT0FBT3pVLEtBQUt3dEYsdUJBQXVCMzVFLEdBQVEsU0FBVXdULEdBRWpELE9BRGVBLEVBQVFDLGNBQ1ZwSixxQkFBcUJ6SixHQUN2QjBCLEVBQVNrUixRQUdoQixNQXVCWjRqRSxFQUFhcnJGLFVBQVU0dEYsdUJBQXlCLFNBQVUzNUUsRUFBUXNDLEdBQzlELEdBQUluVyxLQUFLMHJGLGVBQ0wsT0FBTzFyRixLQUFLMHJGLGVBQWU1QyxnQkFBZ0JqMUUsRUFBUXNDLEdBRTlDblcsS0FBS2dzRixxQkFDVmhzRixLQUFLZ3NGLG9CQUFvQjdwRixRQUFRZ1UsSUFrQnpDODBFLEVBQWFyckYsVUFBVTZ0RixpQ0FBbUMsU0FBVTU1RSxFQUFRc0MsR0FDeEUsT0FBT25XLEtBQUt3dEYsdUJBQXVCMzVFLEdBS25DLFNBQVV3VCxHQUVOLEdBRGVBLEVBQVFDLGNBQ1Z0SyxpQkFBaUJuSixHQUFTLENBQ25DLElBQUlxM0IsRUFBUy8wQixFQUFTa1IsR0FDdEIsR0FBSTZqQixFQUNBLE9BQU9BLE9BWXZCKy9DLEVBQWFyckYsVUFBVTh0RixzQkFBd0IsV0FDM0MsT0FBTzF0RixLQUFLZ3NGLHFCQU9oQmYsRUFBYXJyRixVQUFVbW9CLFlBQWMsV0FDakMsSUFBSVAsRUFVSixPQVRJeG5CLEtBQUtnc0Ysb0JBQ0x4a0UsRUFBV3huQixLQUFLZ3NGLG9CQUFvQjFwRixXQUUvQnRDLEtBQUswckYsaUJBQ1Zsa0UsRUFBV3huQixLQUFLMHJGLGVBQWUvQyxVQUMxQixRQUFRM29GLEtBQUs0ckYseUJBQ2QsU0FBT3BrRSxHQUFVLFFBQVV4bkIsS0FBSzRyRix5QkFHK0IsR0FRM0VYLEVBQWFyckYsVUFBVSt0Rix3QkFBMEIsU0FBVWw1RSxHQUN2RCxJQUFJK1MsRUFBVyxHQUlmLE9BSEF4bkIsS0FBS3V0RixpQ0FBaUM5NEUsR0FBWSxTQUFVNFMsR0FDeERHLEVBQVN0bEIsS0FBS21sQixNQUVYRyxHQWNYeWpFLEVBQWFyckYsVUFBVW1vRixvQkFBc0IsU0FBVWwwRSxHQUNuRCxPQUFJN1QsS0FBSzByRixlQUNFMXJGLEtBQUswckYsZUFBZTlDLFlBQVkvMEUsR0FFbEM3VCxLQUFLZ3NGLG9CQUNIaHNGLEtBQUtnc0Ysb0JBQW9CMXBGLFdBR3pCLElBZWYyb0YsRUFBYXJyRixVQUFVZ3VGLDhCQUFnQyxTQUFVbjVFLEVBQVlvNUUsR0FRekUsSUFBSXo1RSxFQUFJSyxFQUFXLEdBQ2ZKLEVBQUlJLEVBQVcsR0FDZnE1RSxFQUFpQixLQUNqQnB4RSxFQUFlLENBQUN1QixJQUFLQSxLQUNyQnRCLEVBQXFCN0ksSUFDckJELEVBQVMsRUFBQyxLQUFXLElBQVdDLElBQVVBLEtBQzFDbVQsRUFBUzRtRSxHQUEwQixLQXdCdkMsT0F2QkE3dEYsS0FBSzByRixlQUFlNUMsZ0JBQWdCajFFLEdBSXBDLFNBQVV3VCxHQUNOLEdBQUlKLEVBQU9JLEdBQVUsQ0FDakIsSUFBSXlWLEVBQVd6VixFQUFRQyxjQUNuQnltRSxFQUE2QnB4RSxFQUVqQyxJQURBQSxFQUFxQm1nQixFQUFTcmdCLGVBQWVySSxFQUFHQyxFQUFHcUksRUFBY0MsSUFDeENveEUsRUFBNEIsQ0FDakRELEVBQWlCem1FLEVBS2pCLElBQUkybUUsRUFBY3ovRSxLQUFLeWYsS0FBS3JSLEdBQzVCOUksRUFBTyxHQUFLTyxFQUFJNDVFLEVBQ2hCbjZFLEVBQU8sR0FBS1EsRUFBSTI1RSxFQUNoQm42RSxFQUFPLEdBQUtPLEVBQUk0NUUsRUFDaEJuNkUsRUFBTyxHQUFLUSxFQUFJMjVFLE9BSXJCRixHQVlYN0MsRUFBYXJyRixVQUFVbWEsVUFBWSxTQUFVOUYsR0FDekMsT0FBT2pVLEtBQUswckYsZUFBZTN4RSxVQUFVOUYsSUFXekNnM0UsRUFBYXJyRixVQUFVcXVGLGVBQWlCLFNBQVV6b0UsR0FDOUMsSUFBSTZCLEVBQVVybkIsS0FBSzZyRixTQUFTcm1FLEVBQUdyYyxZQUMvQixZQUFtQmhHLElBQVpra0IsRUFBd0JBLEVBQVUsTUFRN0M0akUsRUFBYXJyRixVQUFVc3VGLGdCQUFrQixTQUFVM3FCLEdBQy9DLElBQUlsOEMsRUFBVXJuQixLQUFLOHJGLFVBQVV2b0IsR0FDN0IsWUFBbUJwZ0UsSUFBWmtrQixFQUF3QkEsRUFBVSxNQVE3QzRqRSxFQUFhcnJGLFVBQVV1dUYsVUFBWSxXQUMvQixPQUFPbnVGLEtBQUttckYsU0FLaEJGLEVBQWFyckYsVUFBVXFvRixZQUFjLFdBQ2pDLE9BQU9qb0YsS0FBS2s3RSxXQVFoQitQLEVBQWFyckYsVUFBVXd1RixPQUFTLFdBQzVCLE9BQU9wdUYsS0FBS29yRixNQU1oQkgsRUFBYXJyRixVQUFVNnNGLHFCQUF1QixTQUFVeDdFLEdBQ3BELElBQUlvVyxFQUFvRXBXLEVBQVksT0FDaEZvN0UsR0FBYSxRQUFPaGxFLEdBQ3BCeVYsRUFBV3pWLEVBQVFDLGNBQ3ZCLEdBQUt3VixFQVFBLENBQ0QsSUFBSWpwQixFQUFTaXBCLEVBQVMvaUIsWUFDbEJzeUUsS0FBY3JzRixLQUFLNHJGLDhCQUNaNXJGLEtBQUs0ckYsc0JBQXNCUyxHQUM5QnJzRixLQUFLMHJGLGdCQUNMMXJGLEtBQUswckYsZUFBZWhyRCxPQUFPN3NCLEVBQVF3VCxJQUluQ3JuQixLQUFLMHJGLGdCQUNMMXJGLEtBQUswckYsZUFBZWgwQixPQUFPN2pELEVBQVF3VCxRQWpCckNnbEUsS0FBY3JzRixLQUFLNHJGLHdCQUNqQjVyRixLQUFLMHJGLGdCQUNMMXJGLEtBQUswckYsZUFBZTNvRixPQUFPc2tCLEdBRS9Ccm5CLEtBQUs0ckYsc0JBQXNCUyxHQUFjaGxFLEdBaUJqRCxJQUFJN0IsRUFBSzZCLEVBQVFpYixRQUNqQixRQUFXbi9CLElBQVBxaUIsRUFBa0IsQ0FDbEIsSUFBSTZvRSxFQUFNN29FLEVBQUdyYyxXQUNUbkosS0FBSzZyRixTQUFTd0MsS0FBU2huRSxJQUN2QnJuQixLQUFLc3VGLG1CQUFtQmpuRSxHQUN4QnJuQixLQUFLNnJGLFNBQVN3QyxHQUFPaG5FLFFBSXpCcm5CLEtBQUtzdUYsbUJBQW1Cam5FLEdBQ3hCcm5CLEtBQUs4ckYsVUFBVU8sR0FBY2hsRSxFQUVqQ3JuQixLQUFLd0csVUFDTHhHLEtBQUs0QyxjQUFjLElBQUlrb0YsR0oxeEJaLGdCSTB4QjZEempFLEtBUTVFNGpFLEVBQWFyckYsVUFBVTJ1RixXQUFhLFNBQVVsbkUsR0FDMUMsSUFBSTdCLEVBQUs2QixFQUFRaWIsUUFDakIsWUFBV24vQixJQUFQcWlCLEVBQ09BLEtBQU14bEIsS0FBSzZyRixVQUdYLFFBQU94a0UsS0FBWXJuQixLQUFLOHJGLFdBTXZDYixFQUFhcnJGLFVBQVUrVyxRQUFVLFdBQzdCLE9BQU8zVyxLQUFLMHJGLGVBQWUvMEUsWUFBYSxRQUFRM1csS0FBSzRyRix3QkFPekRYLEVBQWFyckYsVUFBVWdvRixhQUFlLFNBQVUvekUsRUFBUXNELEVBQVkwQyxHQUNoRSxJQUFJMjBFLEVBQXFCeHVGLEtBQUsyckYsb0JBQzFCOEMsRUFBZ0J6dUYsS0FBS3NyRixVQUFVejNFLEVBQVFzRCxHQUMzQ25YLEtBQUtveEQsU0FBVSxFQXVCZixJQXRCQSxJQUFJczlCLEVBQVUsU0FBVWx0RixFQUFHQyxHQUN2QixJQUFJa3RGLEVBQWVGLEVBQWNqdEYsR0FDYmd0RixFQUFtQjFGLGdCQUFnQjZGLEdBS3ZELFNBQVVua0UsR0FDTixPQUFPLFFBQWVBLEVBQU8zVyxPQUFRODZFLFFBR3JDQyxFQUFPaHNGLGNBQWMsSUFBSWtvRixHSmx6QmxCLHNCSW16QlA4RCxFQUFPMUQsUUFBUXByRixLQUFLOHVGLEVBQVFELEVBQWN4M0UsRUFBWTBDLEVBQVksU0FBVTJOLEdBQ3hFeG5CLEtBQUs0QyxjQUFjLElBQUlrb0YsR0o5eUJ0Qix1Qkk4eUJ5RTNuRixFQUFXcWtCLEtBQ3ZGelksS0FBSzYvRSxHQUFTLFdBQ1o1dUYsS0FBSzRDLGNBQWMsSUFBSWtvRixHSjF5QnBCLHVCSTJ5QkwvN0UsS0FBSzYvRSxJQUNQSixFQUFtQjl0RCxPQUFPaXVELEVBQWMsQ0FBRTk2RSxPQUFRODZFLEVBQWFsa0YsVUFDL0Rta0YsRUFBT3g5QixRQUFVdzlCLEVBQU8xRCxVQUFZLE9BR3hDMEQsRUFBUzV1RixLQUNKd0IsRUFBSSxFQUFHQyxFQUFLZ3RGLEVBQWMvc0YsT0FBUUYsRUFBSUMsSUFBTUQsRUFDakRrdEYsRUFBUWx0RixJQUdoQnlwRixFQUFhcnJGLFVBQVUycEYsUUFBVSxXQUM3QnZwRixLQUFLNkIsT0FBTSxHQUNYN0IsS0FBSzJyRixvQkFBb0I5cEYsUUFDekIxQixFQUFPUCxVQUFVMnBGLFFBQVF6cEYsS0FBS0UsT0FPbENpckYsRUFBYXJyRixVQUFVaXZGLG1CQUFxQixTQUFVaDdFLEdBQ2xELElBQ0l2TSxFQURBa25GLEVBQXFCeHVGLEtBQUsyckYsb0JBRTlCNkMsRUFBbUIxRixnQkFBZ0JqMUUsR0FBUSxTQUFVMlcsR0FDakQsSUFBSSxRQUFPQSxFQUFPM1csT0FBUUEsR0FFdEIsT0FEQXZNLEVBQU1rakIsR0FDQyxLQUdYbGpCLEdBQ0FrbkYsRUFBbUJ6ckYsT0FBT3VFLElBVWxDMmpGLEVBQWFyckYsVUFBVXF0RixjQUFnQixTQUFVNWxFLEdBQzdDLElBQUlnbEUsR0FBYSxRQUFPaGxFLEdBQ3BCZ2xFLEtBQWNyc0YsS0FBSzRyRiw2QkFDWjVyRixLQUFLNHJGLHNCQUFzQlMsR0FHOUJyc0YsS0FBSzByRixnQkFDTDFyRixLQUFLMHJGLGVBQWUzb0YsT0FBT3NrQixHQUduQ3JuQixLQUFLb3RGLHNCQUFzQi9sRSxHQUMzQnJuQixLQUFLd0csV0FPVHlrRixFQUFhcnJGLFVBQVV3dEYsc0JBQXdCLFNBQVUvbEUsR0FDckQsSUFBSWdsRSxHQUFhLFFBQU9obEUsR0FDeEJybkIsS0FBSytyRixtQkFBbUJNLEdBQVlscUYsUUFBUSxhQUNyQ25DLEtBQUsrckYsbUJBQW1CTSxHQUMvQixJQUFJN21FLEVBQUs2QixFQUFRaWIsYUFDTm4vQixJQUFQcWlCLFVBQ094bEIsS0FBSzZyRixTQUFTcm1FLEVBQUdyYyxtQkFFckJuSixLQUFLOHJGLFVBQVVPLEdBQ3RCcnNGLEtBQUs0QyxjQUFjLElBQUlrb0YsR0FBa0IwQixHQUErQm5sRSxLQVM1RTRqRSxFQUFhcnJGLFVBQVUwdUYsbUJBQXFCLFNBQVVqbkUsR0FDbEQsSUFBSXluRSxHQUFVLEVBQ2QsSUFBSyxJQUFJdHBFLEtBQU14bEIsS0FBSzZyRixTQUNoQixHQUFJN3JGLEtBQUs2ckYsU0FBU3JtRSxLQUFRNkIsRUFBUyxRQUN4QnJuQixLQUFLNnJGLFNBQVNybUUsR0FDckJzcEUsR0FBVSxFQUNWLE1BR1IsT0FBT0EsR0FRWDdELEVBQWFyckYsVUFBVW12RixVQUFZLFNBQVUxRCxHQUN6Q3JyRixLQUFLa3JGLFFBQVVHLEdBT25CSixFQUFhcnJGLFVBQVVvdkYsT0FBUyxTQUFVL2lELElBQ3RDLE9BQU9qc0MsS0FBS21yRixRQUFTLEdBQ3JCbnJGLEtBQUsrdUYsVUFBVXRGLEdBQUl4OUMsRUFBS2pzQyxLQUFLbXJGLFdBRTFCRixFQXp4QnNCLENBMHhCL0IsSUN0OEJGLElBQUksR0FBd0MsV0FDeEMsSUFBSTlyRixFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQThTNUMsU0EzTjBCLFNBQVVJLEdBT2hDLFNBQVM4dUYsRUFBS2p3QixFQUFXcnVCLEVBQU94dkMsR0FDNUIsSUFBSWIsRUFBUUgsRUFBT0wsS0FBS0UsT0FBU0EsS0FDN0JvQixFQUFVRCxHQUE0QixHQTJDMUMsT0F2Q0FiLEVBQU0wK0QsVUFBWUEsRUFLbEIxK0QsRUFBTXF3QyxNQUFRQSxFQU9kcndDLEVBQU00dUYsWUFBYyxLQU9wQjV1RixFQUFNaThDLE1BQU8sRUFPYmo4QyxFQUFNMkUsSUFBTSxHQUtaM0UsRUFBTTZ1RixpQkFDcUJoc0YsSUFBdkIvQixFQUFRc2tFLFdBQTJCLElBQU10a0UsRUFBUXNrRSxXQU1yRHBsRSxFQUFNOHVGLGtCQUFvQixHQUNuQjl1RixFQXFLWCxPQXhOQSxHQUFVMnVGLEVBQU05dUYsR0F3RGhCOHVGLEVBQUtydkYsVUFBVTRHLFFBQVUsV0FDckJ4RyxLQUFLNEMsY0FBYzYvQixFQUFBLFdBS3ZCd3NELEVBQUtydkYsVUFBVXl2RixRQUFVLGFBSXpCSixFQUFLcnZGLFVBQVUwdkMsT0FBUyxXQUNwQixPQUFPdHZDLEtBQUtpRixJQUFNLElBQU1qRixLQUFLZy9ELFdBUWpDaXdCLEVBQUtydkYsVUFBVTRpRSxlQUFpQixXQUM1QixJQUFLeGlFLEtBQUtrdkYsWUFFTixPQUFPbHZGLEtBRVgsSUFBSXM4QyxFQUFPdDhDLEtBQUtrdkYsWUFLaEIsRUFBRyxDQUNDLEdqRmpLQSxHaUZpS0k1eUMsRUFBSzdKLFdBSUwsT0FEQXp5QyxLQUFLbXZGLFlBQWMsRUFDWjd5QyxFQUVYQSxFQUFPQSxFQUFLNHlDLGtCQUNQNXlDLEdBRVQsT0FBT3Q4QyxNQU1YaXZGLEVBQUtydkYsVUFBVTB2RixvQkFBc0IsV0FDakMsR0FBS3R2RixLQUFLa3ZGLFlBQVYsQ0FHQSxJQUFJNXlDLEVBQU90OEMsS0FBS2t2RixZQUNabHNGLEVBQTJCLEtBQy9CLEVBQUcsQ0FDQyxHakZ2TEEsR2lGdUxJczVDLEVBQUs3SixXQUFnQyxDQUlyQzZKLEVBQUs0eUMsWUFBYyxLQUNuQixNakY3TEgsR2lGK0xRNXlDLEVBQUs3SixXQUdWenZDLEVBQU9zNUMsRWpGbk1iLEdpRnFNV0EsRUFBSzdKLFdBR1Z6dkMsRUFBS2tzRixZQUFjNXlDLEVBQUs0eUMsWUFHeEJsc0YsRUFBT3M1QyxFQUVYQSxFQUFPdDVDLEVBQUtrc0Ysa0JBQ1A1eUMsS0FPYjJ5QyxFQUFLcnZGLFVBQVUydkYsYUFBZSxXQUMxQixPQUFPdnZGLEtBQUtnL0QsV0FLaEJpd0IsRUFBS3J2RixVQUFVNnlDLFNBQVcsV0FDdEIsT0FBT3p5QyxLQUFLMndDLE9BVWhCcytDLEVBQUtydkYsVUFBVTJpRSxTQUFXLFNBQVU1eEIsR0FDaEMsR2pGaE9HLElpRmdPQzN3QyxLQUFLMndDLE9BQTZCM3dDLEtBQUsyd0MsTUFBUUEsRUFDL0MsTUFBTSxJQUFJbHdDLE1BQU0sZ0NBRXBCVCxLQUFLMndDLE1BQVFBLEVBQ2Izd0MsS0FBS3dHLFdBU1R5b0YsRUFBS3J2RixVQUFVdzVCLEtBQU8sWUFDbEIsV0FRSjYxRCxFQUFLcnZGLFVBQVU2akUsU0FBVyxTQUFVaitDLEVBQUk4c0MsR0FDcEMsSUFBS3R5RCxLQUFLbXZGLFlBQ04sT0FBTyxFQUVYLElBQUl0MkUsRUFBUTdZLEtBQUtvdkYsa0JBQWtCNXBFLEdBQ25DLEdBQUszTSxHQUlBLElBQWUsSUFBWEEsRUFDTCxPQUFPLE9BSlBBLEVBQVF5NUMsRUFDUnR5RCxLQUFLb3ZGLGtCQUFrQjVwRSxHQUFNM00sRUFLakMsSUFBSThKLEVBQVEydkMsRUFBT3o1QyxFQUFRLElBQU8sR0FDbEMsT0FBSThKLEdBQVMzaUIsS0FBS212RixZQUNQLEdBRUosU0FBT3hzRSxFQUFRM2lCLEtBQUttdkYsY0FTL0JGLEVBQUtydkYsVUFBVTRqRSxhQUFlLFNBQVVoK0MsR0FDcEMsUUFBS3hsQixLQUFLbXZGLGNBRzZCLElBQWhDbnZGLEtBQUtvdkYsa0JBQWtCNXBFLElBTWxDeXBFLEVBQUtydkYsVUFBVXltRSxjQUFnQixTQUFVN2dELEdBQ2pDeGxCLEtBQUttdkYsY0FDTG52RixLQUFLb3ZGLGtCQUFrQjVwRSxJQUFPLElBRy9CeXBFLEVBek5jLENBME52QixNQzdTRixJQUFJLEdBQXdDLFdBQ3hDLElBQUk5dkYsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0JJLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQyxPQUFPSyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUMzRU4sRUFBR0MsSUFFNUIsT0FBTyxTQUFVRCxFQUFHQyxHQUVoQixTQUFTUyxJQUFPQyxLQUFLQyxZQUFjWixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUVPLFVBQWtCLE9BQU5OLEVBQWFDLE9BQU9XLE9BQU9aLElBQU1TLEVBQUdILFVBQVlOLEVBQUVNLFVBQVcsSUFBSUcsSUFWM0MsR0E4STVDLFNBMUgrQixTQUFVSSxHQVVyQyxTQUFTcXZGLEVBQVV4d0IsRUFBV3J1QixFQUFPaEUsRUFBSzRDLEVBQWFrZ0QsRUFBa0J0dUYsR0FDckUsSUFBSWIsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTWcvRCxFQUFXcnVCLEVBQU94dkMsSUFBZ0JuQixLQWdDaEUsT0EzQkFNLEVBQU15aUYsYUFBZXh6QyxFQU9yQmp2QyxFQUFNNGdGLEtBQU92MEMsRUFDYnJzQyxFQUFNMkUsSUFBTTBuQyxFQUtacnNDLEVBQU0wOEIsT0FBUyxJQUFJOWEsTUFDQyxPQUFoQnF0QixJQUNBanZDLEVBQU0wOEIsT0FBT3VTLFlBQWNBLEdBTS9CanZDLEVBQU02Z0YsVUFBWSxLQUtsQjdnRixFQUFNb3ZGLGtCQUFvQkQsRUFDbkJudkYsRUFtRVgsT0E3R0EsR0FBVWt2RixFQUFXcnZGLEdBaURyQnF2RixFQUFVNXZGLFVBQVU2NEIsU0FBVyxXQUMzQixPQUFPejRCLEtBQUtnOUIsUUFPaEJ3eUQsRUFBVTV2RixVQUFVeWhGLGtCQUFvQixXQTBENUMsSUFDUVksRUExREFqaUYsS0FBSzJ3QyxNbEZqRUYsRWtGa0VIM3dDLEtBQUtzaEYsaUJBQ0x0aEYsS0FBS2c5QixTQXdETGlsRCxHQUFNLFFBQXNCLEVBQUcsSUFDL0J4bkQsVUFBWSxnQkFDaEJ3bkQsRUFBSUYsU0FBUyxFQUFHLEVBQUcsRUFBRyxHQUNmRSxFQUFJMzFFLFFBMURQdE0sS0FBS3dHLFdBT1RncEYsRUFBVTV2RixVQUFVMmhGLGlCQUFtQixXQUNuQyxJQUFJdGtELEVBQXlDajlCLEtBQVcsT0FDcERpOUIsRUFBTTB5RCxjQUFnQjF5RCxFQUFNMnlELGNBQzVCNXZGLEtBQUsyd0MsTWxGbkZMLEVrRnNGQTN3QyxLQUFLMndDLE1sRmhGTixFa0ZrRkgzd0MsS0FBS3NoRixpQkFDTHRoRixLQUFLd0csV0FNVGdwRixFQUFVNXZGLFVBQVV3NUIsS0FBTyxXbEYxRnBCLEdrRjJGQ3A1QixLQUFLMndDLFFBQ0wzd0MsS0FBSzJ3QyxNbEZuR1AsRWtGb0dFM3dDLEtBQUtnOUIsT0FBUyxJQUFJOWEsTUFDUSxPQUF0QmxpQixLQUFLK2lGLGVBQ0wvaUYsS0FBS2c5QixPQUFPdVMsWUFBY3Z2QyxLQUFLK2lGLGVsRnRHckMsR2tGeUdFL2lGLEtBQUsyd0MsUUFDTDN3QyxLQUFLMndDLE1sRnpHSixFa0YwR0Qzd0MsS0FBS3dHLFVBQ0x4RyxLQUFLMHZGLGtCQUFrQjF2RixLQUFNQSxLQUFLa2hGLE1BQ2xDbGhGLEtBQUttaEYsVUFBWVQsR0FBWTFnRixLQUFLZzlCLE9BQVFoOUIsS0FBS3VoRixpQkFBaUJ4eUUsS0FBSy9PLE1BQU9BLEtBQUtxaEYsa0JBQWtCdHlFLEtBQUsvTyxTQVFoSHd2RixFQUFVNXZGLFVBQVUwaEYsZUFBaUIsV0FDN0J0aEYsS0FBS21oRixZQUNMbmhGLEtBQUttaEYsWUFDTG5oRixLQUFLbWhGLFVBQVksT0FHbEJxTyxFQTlHbUIsQ0ErRzVCLElDeU9GLEdBMVVtQyxXQVMvQixTQUFTSyxFQUFjN3dFLEVBQVk4d0UsRUFBWUMsRUFBY0MsRUFBaUJDLEVBQWdCQyxHQUsxRmx3RixLQUFLbXdGLFlBQWNueEUsRUFLbkJoZixLQUFLb3dGLFlBQWNOLEVBRW5CLElBQUlPLEVBQW9CLEdBQ3BCQyxHQUFlLFNBQWF0d0YsS0FBS293RixZQUFhcHdGLEtBQUttd0YsYUFNdkRud0YsS0FBS3V3RixjQUFnQixTQUFVeHhELEdBQzNCLElBQUk5NUIsRUFBTTg1QixFQUFFLEdBQUssSUFBTUEsRUFBRSxHQUl6QixPQUhLc3hELEVBQWtCcHJGLEtBQ25Cb3JGLEVBQWtCcHJGLEdBQU9xckYsRUFBYXZ4RCxJQUVuQ3N4RCxFQUFrQnByRixJQU03QmpGLEtBQUt3d0YsaUJBQW1CUixFQUt4Qmh3RixLQUFLeXdGLHVCQUF5QlIsRUFBaUJBLEVBSy9DandGLEtBQUswd0YsV0FBYSxHQU1sQjF3RixLQUFLMndGLGlCQUFrQixFQUt2QjN3RixLQUFLNHdGLGtCQUNENXdGLEtBQUttd0YsWUFBWW4yRSxjQUNYZzJFLEtBQ0Fod0YsS0FBS213RixZQUFZcDJFLGNBQ25CLFFBQVNpMkUsS0FBb0IsUUFBU2h3RixLQUFLbXdGLFlBQVlwMkUsYUFLL0QvWixLQUFLNndGLGtCQUFvQjd3RixLQUFLbXdGLFlBQVlwMkUsYUFDcEMsUUFBUy9aLEtBQUttd0YsWUFBWXAyRSxhQUMxQixLQUtOL1osS0FBSzh3RixrQkFBb0I5d0YsS0FBS293RixZQUFZcjJFLGFBQ3BDLFFBQVMvWixLQUFLb3dGLFlBQVlyMkUsYUFDMUIsS0FDTixJQUFJZzNFLEdBQXFCLFFBQVdoQixHQUNoQ2lCLEdBQXNCLFFBQVlqQixHQUNsQ2tCLEdBQXlCLFFBQWVsQixHQUN4Q21CLEdBQXdCLFFBQWNuQixHQUN0Q29CLEVBQWdCbnhGLEtBQUt1d0YsY0FBY1EsR0FDbkNLLEVBQWlCcHhGLEtBQUt1d0YsY0FBY1MsR0FDcENLLEVBQW9CcnhGLEtBQUt1d0YsY0FBY1UsR0FDdkNLLEVBQW1CdHhGLEtBQUt1d0YsY0FBY1csR0FXdENLLEVBaEhVLElBaUhUckIsRUFDSzNoRixLQUFLMEgsSUFBSSxFQUFHMUgsS0FBSzZ4QixNQUFLLFNBQUssUUFBUTJ2RCxJQUNoQ0csRUFDR0EsRUFDQSxJQUNBLFFBQ04sR0FFVixHQURBbHdGLEtBQUt3eEYsU0FBU1QsRUFBb0JDLEVBQXFCQyxFQUF3QkMsRUFBdUJDLEVBQWVDLEVBQWdCQyxFQUFtQkMsRUFBa0JDLEdBQ3RLdnhGLEtBQUsyd0YsZ0JBQWlCLENBQ3RCLElBQUljLEVBQWMzOUUsSUFDbEI5VCxLQUFLMHdGLFdBQVd2dUYsU0FBUSxTQUFVdXZGLEVBQVVsd0YsRUFBR1MsR0FDM0N3dkYsRUFBY2xqRixLQUFLeUgsSUFBSXk3RSxFQUFhQyxFQUFTeHJGLE9BQU8sR0FBRyxHQUFJd3JGLEVBQVN4ckYsT0FBTyxHQUFHLEdBQUl3ckYsRUFBU3hyRixPQUFPLEdBQUcsT0FJekdsRyxLQUFLMHdGLFdBQVd2dUYsUUFBUSxTQUFVdXZGLEdBQzlCLEdBQUluakYsS0FBSzBILElBQUl5N0UsRUFBU3hyRixPQUFPLEdBQUcsR0FBSXdyRixFQUFTeHJGLE9BQU8sR0FBRyxHQUFJd3JGLEVBQVN4ckYsT0FBTyxHQUFHLElBQzFFdXJGLEVBQ0F6eEYsS0FBSzZ3RixrQkFBb0IsRUFBRyxDQUM1QixJQUFJYyxFQUFjLENBQ2QsQ0FBQ0QsRUFBU3hyRixPQUFPLEdBQUcsR0FBSXdyRixFQUFTeHJGLE9BQU8sR0FBRyxJQUMzQyxDQUFDd3JGLEVBQVN4ckYsT0FBTyxHQUFHLEdBQUl3ckYsRUFBU3hyRixPQUFPLEdBQUcsSUFDM0MsQ0FBQ3dyRixFQUFTeHJGLE9BQU8sR0FBRyxHQUFJd3JGLEVBQVN4ckYsT0FBTyxHQUFHLEtBRTNDeXJGLEVBQVksR0FBRyxHQUFLRixFQUFjenhGLEtBQUs2d0Ysa0JBQW9CLElBQzNEYyxFQUFZLEdBQUcsSUFBTTN4RixLQUFLNndGLG1CQUUxQmMsRUFBWSxHQUFHLEdBQUtGLEVBQWN6eEYsS0FBSzZ3RixrQkFBb0IsSUFDM0RjLEVBQVksR0FBRyxJQUFNM3hGLEtBQUs2d0YsbUJBRTFCYyxFQUFZLEdBQUcsR0FBS0YsRUFBY3p4RixLQUFLNndGLGtCQUFvQixJQUMzRGMsRUFBWSxHQUFHLElBQU0zeEYsS0FBSzZ3RixtQkFLOUIsSUFBSTk3RSxFQUFPeEcsS0FBS3lILElBQUkyN0UsRUFBWSxHQUFHLEdBQUlBLEVBQVksR0FBRyxHQUFJQSxFQUFZLEdBQUcsSUFDOURwakYsS0FBSzBILElBQUkwN0UsRUFBWSxHQUFHLEdBQUlBLEVBQVksR0FBRyxHQUFJQSxFQUFZLEdBQUcsSUFDOUQ1OEUsRUFBTy9VLEtBQUs2d0Ysa0JBQW9CLElBQ3ZDYSxFQUFTeHJGLE9BQVN5ckYsS0FHNUI1aUYsS0FBSy9PLE9BRVhxd0YsRUFBb0IsR0EwTHhCLE9BOUtBUixFQUFjandGLFVBQVVneUYsYUFBZSxTQUFVeHFGLEVBQUc5SCxFQUFHeS9CLEVBQUc4eUQsRUFBTUMsRUFBTUMsR0FDbEUveEYsS0FBSzB3RixXQUFXeHVGLEtBQUssQ0FDakJnRSxPQUFRLENBQUMyckYsRUFBTUMsRUFBTUMsR0FDckJ0cUYsT0FBUSxDQUFDTCxFQUFHOUgsRUFBR3kvQixNQW1CdkI4d0QsRUFBY2p3RixVQUFVNHhGLFNBQVcsU0FBVXBxRixFQUFHOUgsRUFBR3kvQixFQUFHMS9CLEVBQUd3eUYsRUFBTUMsRUFBTUMsRUFBTUMsRUFBTVQsR0FDN0UsSUFBSVUsR0FBbUIsUUFBZSxDQUFDSixFQUFNQyxFQUFNQyxFQUFNQyxJQUNyREUsRUFBa0JseUYsS0FBSzZ3RixtQkFDckIsUUFBU29CLEdBQW9CanlGLEtBQUs2d0Ysa0JBQ2xDLEtBQ0ZzQixFQUEwQ255RixLQUFzQixrQkFHaEVveUYsRUFBU3B5RixLQUFLbXdGLFlBQVluMkUsWUFDMUJrNEUsRUFBa0IsSUFDbEJBLEVBQWtCLEVBQ2xCRyxHQUFtQixFQUN2QixHQUFJZCxFQUFpQixFQUFHLENBQ3BCLEdBQUl2eEYsS0FBS293RixZQUFZdmtFLFlBQWM3ckIsS0FBSzh3RixrQkFBbUIsQ0FDdkQsSUFBSXdCLEdBQW1CLFFBQWUsQ0FBQ2xyRixFQUFHOUgsRUFBR3kvQixFQUFHMS9CLElBRWhEZ3pGLEdBRHNCLFFBQVNDLEdBQW9CdHlGLEtBQUs4d0Ysa0JBck0vQyxLQXVNbUN1QixHQUUzQ0QsR0FBVXB5RixLQUFLbXdGLFlBQVl0a0UsWUFBY3FtRSxJQUMxQ0csRUFDSUgsRUEzTUssS0EyTW1DRyxHQUdwRCxNQUFLQSxHQUFvQnJ5RixLQUFLd3dGLGtCQUN0QitCLFNBQVNOLEVBQWlCLEtBQzFCTSxTQUFTTixFQUFpQixLQUMxQk0sU0FBU04sRUFBaUIsS0FDMUJNLFNBQVNOLEVBQWlCLE9BQ3JCLFFBQVdBLEVBQWtCanlGLEtBQUt3d0Ysa0JBTC9DLENBV0EsSUFBSWdDLEVBQWMsRUFDbEIsS0FBS0gsR0FDSUUsU0FBU1YsRUFBSyxLQUNkVSxTQUFTVixFQUFLLEtBQ2RVLFNBQVNULEVBQUssS0FDZFMsU0FBU1QsRUFBSyxLQUNkUyxTQUFTUixFQUFLLEtBQ2RRLFNBQVNSLEVBQUssS0FDZFEsU0FBU1AsRUFBSyxLQUNkTyxTQUFTUCxFQUFLLEtBQ2YsR0FBSVQsRUFBaUIsRUFDakJjLEdBQW1CLE9BVW5CLEdBQW1CLElBTG5CRyxHQUNNRCxTQUFTVixFQUFLLEtBQVFVLFNBQVNWLEVBQUssSUFBVSxFQUFKLElBQ3RDVSxTQUFTVCxFQUFLLEtBQVFTLFNBQVNULEVBQUssSUFBVSxFQUFKLElBQzFDUyxTQUFTUixFQUFLLEtBQVFRLFNBQVNSLEVBQUssSUFBVSxFQUFKLElBQzFDUSxTQUFTUCxFQUFLLEtBQVFPLFNBQVNQLEVBQUssSUFBVSxFQUFKLEtBRWpDLEdBQWZRLEdBQ2UsR0FBZkEsR0FDZSxHQUFmQSxFQUNBLE9BS2hCLEdBQUlqQixFQUFpQixFQUFHLENBQ3BCLElBQUtjLEVBQWtCLENBQ25CLElBQUluN0UsRUFBUyxFQUFFOVAsRUFBRSxHQUFLMjNCLEVBQUUsSUFBTSxHQUFJMzNCLEVBQUUsR0FBSzIzQixFQUFFLElBQU0sR0FDN0MwekQsRUFBWXp5RixLQUFLdXdGLGNBQWNyNUUsR0FDL0I1QyxPQUFLLEVBS0xBLEVBSkE4OUUsSUFDdUIsUUFBT1AsRUFBSyxHQUFJTSxJQUNuQyxRQUFPSixFQUFLLEdBQUlJLElBQ2hCLEdBQ21CLFFBQU9NLEVBQVUsR0FBSU4sSUFHdENOLEVBQUssR0FBS0UsRUFBSyxJQUFNLEVBQUlVLEVBQVUsR0FFN0MsSUFBSWwrRSxHQUFNczlFLEVBQUssR0FBS0UsRUFBSyxJQUFNLEVBQUlVLEVBQVUsR0FFN0NKLEVBRDRCLzlFLEVBQUtBLEVBQUtDLEVBQUtBLEVBQ0F2VSxLQUFLeXdGLHVCQUVwRCxHQUFJNEIsRUFBa0IsQ0FDbEIsR0FBSTlqRixLQUFLb2IsSUFBSXZpQixFQUFFLEdBQUsyM0IsRUFBRSxLQUFPeHdCLEtBQUtvYixJQUFJdmlCLEVBQUUsR0FBSzIzQixFQUFFLElBQUssQ0FFaEQsSUFBSTJ6RCxFQUFLLEVBQUVwekYsRUFBRSxHQUFLeS9CLEVBQUUsSUFBTSxHQUFJei9CLEVBQUUsR0FBS3kvQixFQUFFLElBQU0sR0FDekM0ekQsRUFBUTN5RixLQUFLdXdGLGNBQWNtQyxHQUMzQkUsRUFBSyxFQUFFdnpGLEVBQUUsR0FBSytILEVBQUUsSUFBTSxHQUFJL0gsRUFBRSxHQUFLK0gsRUFBRSxJQUFNLEdBQ3pDeXJGLEVBQVE3eUYsS0FBS3V3RixjQUFjcUMsR0FDL0I1eUYsS0FBS3d4RixTQUFTcHFGLEVBQUc5SCxFQUFHb3pGLEVBQUlFLEVBQUlmLEVBQU1DLEVBQU1hLEVBQU9FLEVBQU90QixFQUFpQixHQUN2RXZ4RixLQUFLd3hGLFNBQVNvQixFQUFJRixFQUFJM3pELEVBQUcxL0IsRUFBR3d6RixFQUFPRixFQUFPWixFQUFNQyxFQUFNVCxFQUFpQixPQUV0RSxDQUVELElBQUl1QixFQUFLLEVBQUUxckYsRUFBRSxHQUFLOUgsRUFBRSxJQUFNLEdBQUk4SCxFQUFFLEdBQUs5SCxFQUFFLElBQU0sR0FDekN5ekYsRUFBUS95RixLQUFLdXdGLGNBQWN1QyxHQUMzQkUsRUFBSyxFQUFFajBELEVBQUUsR0FBSzEvQixFQUFFLElBQU0sR0FBSTAvQixFQUFFLEdBQUsxL0IsRUFBRSxJQUFNLEdBQ3pDNHpGLEVBQVFqekYsS0FBS3V3RixjQUFjeUMsR0FDL0JoekYsS0FBS3d4RixTQUFTcHFGLEVBQUcwckYsRUFBSUUsRUFBSTN6RixFQUFHd3lGLEVBQU1rQixFQUFPRSxFQUFPakIsRUFBTVQsRUFBaUIsR0FDdkV2eEYsS0FBS3d4RixTQUFTc0IsRUFBSXh6RixFQUFHeS9CLEVBQUdpMEQsRUFBSUQsRUFBT2pCLEVBQU1DLEVBQU1rQixFQUFPMUIsRUFBaUIsR0FFM0UsUUFHUixHQUFJYSxFQUFRLENBQ1IsSUFBS3B5RixLQUFLNHdGLGtCQUNOLE9BRUo1d0YsS0FBSzJ3RixpQkFBa0IsRUFNQSxJQUFSLEdBQWQ2QixJQUNEeHlGLEtBQUs0eEYsYUFBYXhxRixFQUFHMjNCLEVBQUcxL0IsRUFBR3d5RixFQUFNRSxFQUFNQyxHQUVoQixJQUFSLEdBQWRRLElBQ0R4eUYsS0FBSzR4RixhQUFheHFGLEVBQUcyM0IsRUFBR3ovQixFQUFHdXlGLEVBQU1FLEVBQU1ELEdBRXZDVSxJQUUyQixJQUFSLEdBQWRBLElBQ0R4eUYsS0FBSzR4RixhQUFhdHlGLEVBQUdELEVBQUcrSCxFQUFHMHFGLEVBQU1FLEVBQU1ILEdBRWhCLElBQVIsRUFBZFcsSUFDRHh5RixLQUFLNHhGLGFBQWF0eUYsRUFBR0QsRUFBRzAvQixFQUFHK3lELEVBQU1FLEVBQU1ELE1BU25EbEMsRUFBY2p3RixVQUFVc3pGLHNCQUF3QixXQUM1QyxJQUFJci9FLEdBQVMsVUFPYixPQU5BN1QsS0FBSzB3RixXQUFXdnVGLFNBQVEsU0FBVXV2RixFQUFVbHdGLEVBQUdTLEdBQzNDLElBQUkwcUMsRUFBTStrRCxFQUFTeHJGLFFBQ25CLFFBQWlCMk4sRUFBUTg0QixFQUFJLEtBQzdCLFFBQWlCOTRCLEVBQVE4NEIsRUFBSSxLQUM3QixRQUFpQjk0QixFQUFRODRCLEVBQUksT0FFMUI5NEIsR0FLWGc4RSxFQUFjandGLFVBQVV1ekYsYUFBZSxXQUNuQyxPQUFPbnpGLEtBQUswd0YsWUFFVGIsRUF4VXVCLEdDM0IzQixJQ0VIdUQsR0RHT0MsR0FBMkIsQ0FDbENyTix1QkFBdUIsRUFDdkJzTix5QkFBeUIsR0NNN0IsU0FBU0MsR0FBaUJ0UixFQUFLdVIsRUFBSUMsRUFBSUMsRUFBSUMsR0FDdkMxUixFQUFJM25ELFlBQ0oybkQsRUFBSXpoQixPQUFPLEVBQUcsR0FDZHloQixFQUFJem5ELE9BQU9nNUQsRUFBSUMsR0FDZnhSLEVBQUl6bkQsT0FBT2s1RCxFQUFJQyxHQUNmMVIsRUFBSXJuRCxZQUNKcW5ELEVBQUk3c0QsT0FDSjZzRCxFQUFJaGlCLE9BQ0pnaUIsRUFBSUYsU0FBUyxFQUFHLEVBQUd4ekUsS0FBSzBILElBQUl1OUUsRUFBSUUsR0FBTSxFQUFHbmxGLEtBQUswSCxJQUFJdzlFLEVBQUlFLElBQ3REMVIsRUFBSXRzRCxVQVVSLFNBQVNpK0QsR0FBOEI3ckYsRUFBTTZOLEdBRXpDLE9BQVFySCxLQUFLb2IsSUFBSTVoQixFQUFjLEVBQVQ2TixHQUFjLEtBQU8sR0FDdkNySCxLQUFLb2IsSUFBSTVoQixFQUFjLEVBQVQ2TixFQUFhLEdBQUssUUFBYyxFQXVDL0MsU0FBU2krRSxHQUEwQjcwRSxFQUFZOHdFLEVBQVluc0MsRUFBY0UsR0FDNUUsSUFBSUgsR0FBZSxTQUFVQyxFQUFjbXNDLEVBQVk5d0UsR0FFbkQ0a0MsR0FBbUIsU0FBbUJrc0MsRUFBWWpzQyxFQUFrQkYsR0FDcEVtd0MsRUFBc0JoRSxFQUFXbmtFLHdCQUNUeG9CLElBQXhCMndGLElBQ0Fsd0MsR0FBb0Jrd0MsR0FFeEIsSUFBSUMsRUFBc0IvMEUsRUFBVzJNLHdCQUNUeG9CLElBQXhCNHdGLElBQ0Fud0MsR0FBb0Jtd0MsR0FLeEIsSUFBSUMsRUFBZWgxRSxFQUFXakYsWUFDOUIsSUFBS2k2RSxJQUFnQixRQUFtQkEsRUFBY3R3QyxHQUFlLENBQ2pFLElBQUl1d0MsR0FBcUIsU0FBbUJqMUUsRUFBWTRrQyxFQUFrQkYsR0FDdEVFLEVBQ0EydUMsU0FBUzBCLElBQXVCQSxFQUFxQixJQUNyRHJ3QyxHQUFvQnF3QyxHQUc1QixPQUFPcndDLEVDeEdYLElBQUksR0FBd0MsV0FDeEMsSUFBSXprRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQXdRNUMsU0F0T2dDLFNBQVVJLEdBaUJ0QyxTQUFTK3pGLEVBQVdsMUUsRUFBWW0xRSxFQUFnQnJFLEVBQVlzRSxFQUFnQnAxQixFQUFXcTFCLEVBQWtCMzdELEVBQVlzdEMsRUFBUXN1QixFQUFpQkMsRUFBb0JDLEVBQWlCQyxHQUMvSyxJQUFJbjBGLEVBQVFILEVBQU9MLEtBQUtFLEtBQU1nL0QsRXRGN0M1QixJc0Y2QzBEaC9ELEtBSzVETSxFQUFNbzBGLGtCQUFtQ3Z4RixJQUFwQnF4RixHQUFnQ0EsRUFLckRsMEYsRUFBTXEwRixnQkFBa0JGLEVBS3hCbjBGLEVBQU0ydEQsWUFBY3YxQixFQUtwQnA0QixFQUFNczBGLFFBQVU1dUIsRUFLaEIxbEUsRUFBTSsxQixRQUFVLEtBS2hCLzFCLEVBQU11MEYsZ0JBQWtCVixFQUt4Qjd6RixFQUFNdzBGLGdCQUFrQlYsRUFLeEI5ekYsRUFBTXkwRixrQkFBb0JWLEdBQXNDcjFCLEVBS2hFMStELEVBQU0wMEYsYUFBZSxHQUtyQjEwRixFQUFNMjBGLHFCQUF1QixLQUs3QjMwRixFQUFNNDBGLFNBQVcsRUFDakIsSUFBSW5GLEVBQWVxRSxFQUFlcHZCLG1CQUFtQjFrRSxFQUFNeTBGLG1CQUN2REksRUFBa0I3MEYsRUFBTXcwRixnQkFBZ0IvNkUsWUFDeENpMkUsRUFBa0IxdkYsRUFBTXUwRixnQkFBZ0I5NkUsWUFDeENxN0UsRUFBc0JELEdBQ3BCLFFBQWdCcEYsRUFBY29GLEdBQzlCcEYsRUFDTixHQUFxQyxLQUFqQyxRQUFRcUYsR0FJUixPQURBOTBGLEVBQU1xd0MsTXRGdEdQLEVzRnVHUXJ3QyxFQUVYLElBQUkrMEYsRUFBbUJyMkUsRUFBV2pGLFlBQzlCczdFLElBS0lyRixFQUpDQSxHQUlpQixRQUFnQkEsRUFBaUJxRixHQUhqQ0EsR0FNMUIsSUFBSXh4QyxFQUFtQnV3QyxFQUFlM3NDLGNBQWNubkQsRUFBTXkwRixrQkFBa0IsSUFDeEVueEMsRURaTCxTQUF5QzVrQyxFQUFZOHdFLEVBQVlDLEVBQWNsc0MsR0FDbEYsSUFBSUYsR0FBZSxRQUFVb3NDLEdBQ3pCbnNDLEVBQW1CaXdDLEdBQTBCNzBFLEVBQVk4d0UsRUFBWW5zQyxFQUFjRSxHQU92RixRQU5LMHVDLFNBQVMzdUMsSUFBcUJBLEdBQW9CLEtBQ25ELFFBQWNtc0MsR0FBYyxTQUFVLzRFLEdBRWxDLE9BREE0c0MsRUFBbUJpd0MsR0FBMEI3MEUsRUFBWTh3RSxFQUFZOTRFLEVBQVE2c0MsR0FDdEUwdUMsU0FBUzN1QyxJQUFxQkEsRUFBbUIsS0FHekRBLEVDR29CMHhDLENBQWdDdDJFLEVBQVk4d0UsRUFBWXNGLEVBQXFCdnhDLEdBQ3BHLElBQUswdUMsU0FBUzN1QyxJQUFxQkEsR0FBb0IsRUFJbkQsT0FEQXRqRCxFQUFNcXdDLE10RnZIUCxFc0Z3SFFyd0MsRUFFWCxJQUFJaTFGLE9BQWdEcHlGLElBQXZCb3hGLEVBQW1DQSxFQ2pJM0MsR0R1SXJCLEdBREFqMEYsRUFBTWsxRixlQUFpQixJQUFJLEdBQWN4MkUsRUFBWTh3RSxFQUFZc0YsRUFBcUJwRixFQUFpQnBzQyxFQUFtQjJ4QyxFQUF3QjF4QyxHQUMvRixJQUEvQ3ZqRCxFQUFNazFGLGVBQWVyQyxlQUFlenhGLE9BR3BDLE9BREFwQixFQUFNcXdDLE10RmxJUCxFc0ZtSVFyd0MsRUFFWEEsRUFBTTQwRixTQUFXZixFQUFlcnhCLGtCQUFrQmxmLEdBQ2xELElBQUlvd0MsRUFBZTF6RixFQUFNazFGLGVBQWV0Qyx3QkFVeEMsR0FUSWxELElBQ0loeEUsRUFBV2hGLFlBQ1hnNkUsRUFBYSxJQUFLLFFBQU1BLEVBQWEsR0FBSWhFLEVBQWdCLEdBQUlBLEVBQWdCLElBQzdFZ0UsRUFBYSxJQUFLLFFBQU1BLEVBQWEsR0FBSWhFLEVBQWdCLEdBQUlBLEVBQWdCLEtBRzdFZ0UsR0FBZSxRQUFnQkEsRUFBY2hFLEtBR2hELFFBQVFnRSxHQUdSLENBRUQsSUFEQSxJQUFJeUIsRUFBY3RCLEVBQWVoeEIsMEJBQTBCNndCLEVBQWMxekYsRUFBTTQwRixVQUN0RVEsRUFBT0QsRUFBWTFnRixLQUFNMmdGLEdBQVFELEVBQVl4Z0YsS0FBTXlnRixJQUN4RCxJQUFLLElBQUlDLEVBQU9GLEVBQVl6Z0YsS0FBTTJnRixHQUFRRixFQUFZdmdGLEtBQU15Z0YsSUFBUSxDQUNoRSxJQUFJcjVDLEVBQU9nNEMsRUFBZ0JoMEYsRUFBTTQwRixTQUFVUSxFQUFNQyxFQUFNajlELEdBQ25ENGpCLEdBQ0FoOEMsRUFBTTAwRixhQUFhOXlGLEtBQUtvNkMsR0FJRixJQUE5Qmg4QyxFQUFNMDBGLGFBQWF0ekYsU0FDbkJwQixFQUFNcXdDLE10RjlKWCxRc0ZpSkNyd0MsRUFBTXF3QyxNdEZqSlAsRXNGaUtILE9BQU9yd0MsRUFzRlgsT0FuT0EsR0FBVTR6RixFQUFZL3pGLEdBbUp0Qit6RixFQUFXdDBGLFVBQVU2NEIsU0FBVyxXQUM1QixPQUFPejRCLEtBQUtxMkIsU0FLaEI2OUQsRUFBV3QwRixVQUFVZzJGLFdBQWEsV0FDOUIsSUFBSUMsRUFBVSxHQVVkLEdBVEE3MUYsS0FBS2cxRixhQUFhN3lGLFFBQVEsU0FBVW02QyxFQUFNOTZDLEVBQUdTLEdBQ3JDcTZDLEd0RnRMSixHc0ZzTFlBLEVBQUs3SixZQUNib2pELEVBQVEzekYsS0FBSyxDQUNUMlIsT0FBUTdULEtBQUs2MEYsZ0JBQWdCN3ZCLG1CQUFtQjFvQixFQUFLMGlCLFdBQ3JEL2hDLE1BQU9xZixFQUFLN2pCLGNBR3RCMXBCLEtBQUsvTyxPQUNQQSxLQUFLZzFGLGFBQWF0ekYsT0FBUyxFQUNKLElBQW5CbTBGLEVBQVFuMEYsT0FDUjFCLEtBQUsyd0MsTXRGMUxOLE1zRjRMRSxDQUNELElBQUk2VSxFQUFJeGxELEtBQUsrMEYsa0JBQWtCLEdBQzNCbHBGLEVBQU83TCxLQUFLODBGLGdCQUFnQmdCLFlBQVl0d0MsR0FDeEMvNEMsRUFBd0IsaUJBQVRaLEVBQW9CQSxFQUFPQSxFQUFLLEdBQy9DYSxFQUF5QixpQkFBVGIsRUFBb0JBLEVBQU9BLEVBQUssR0FDaERnNEMsRUFBbUI3akQsS0FBSzgwRixnQkFBZ0JydEMsY0FBY2pDLEdBQ3RENUIsRUFBbUI1akQsS0FBSzYwRixnQkFBZ0JwdEMsY0FBY3puRCxLQUFLazFGLFVBQzNEbkYsRUFBZS92RixLQUFLODBGLGdCQUFnQjl2QixtQkFBbUJobEUsS0FBSyswRixtQkFDaEUvMEYsS0FBS3EyQixRRDdEVixTQUFnQjVwQixFQUFPQyxFQUFRZ3NCLEVBQVlrckIsRUFBa0Jvd0MsRUFBY253QyxFQUFrQmtzQyxFQUFjZ0csRUFBZUYsRUFBUzd2QixFQUFRd3VCLEVBQWlCQyxHQUMvSixJQUFJLy9ELEdBQVUsUUFBc0JubUIsS0FBS2c0QixNQUFNN04sRUFBYWpzQixHQUFROEIsS0FBS2c0QixNQUFNN04sRUFBYWhzQixJQUU1RixJQURBLFFBQU9nb0IsRUFBUysvRCxHQUNPLElBQW5Cb0IsRUFBUW4wRixPQUNSLE9BQU9nekIsRUFBUXBvQixPQUduQixTQUFTMHBGLEVBQVd6d0YsR0FDaEIsT0FBT2dKLEtBQUtnNEIsTUFBTWhoQyxFQUFRbXpCLEdBQWNBLEVBRjVDaEUsRUFBUW5XLE1BQU1tYSxFQUFZQSxHQUkxQmhFLEVBQVF3dEQseUJBQTJCLFVBQ25DLElBQUkrVCxHQUFtQixVQUN2QkosRUFBUTF6RixTQUFRLFNBQVV3cUMsRUFBS25yQyxFQUFHUyxJQUM5QixRQUFPZzBGLEVBQWtCdHBELEVBQUk5NEIsV0FFakMsSUFBSXFpRixHQUFxQixRQUFTRCxHQUM5QkUsR0FBc0IsUUFBVUYsR0FDaENHLEdBQWdCLFFBQXNCN25GLEtBQUtnNEIsTUFBTzdOLEVBQWF3OUQsRUFBc0J0eUMsR0FBbUJyMUMsS0FBS2c0QixNQUFPN04sRUFBYXk5RCxFQUF1QnZ5QyxLQUM1SixRQUFPd3lDLEVBQWUzQixHQUN0QixJQUFJNEIsRUFBYzM5RCxFQUFha3JCLEVBQy9CaXlDLEVBQVExekYsU0FBUSxTQUFVd3FDLEVBQUtuckMsRUFBR1MsR0FDOUIsSUFBSXEwRixFQUFPM3BELEVBQUk5NEIsT0FBTyxHQUFLb2lGLEVBQWlCLEdBQ3hDTSxJQUFTNXBELEVBQUk5NEIsT0FBTyxHQUFLb2lGLEVBQWlCLElBQzFDTyxHQUFXLFFBQVM3cEQsRUFBSTk0QixRQUN4QjRpRixHQUFZLFFBQVU5cEQsRUFBSTk0QixRQUUxQjg0QixFQUFJMVAsTUFBTXh3QixNQUFRLEdBQUtrZ0MsRUFBSTFQLE1BQU12d0IsT0FBUyxHQUMxQzBwRixFQUFjMWdFLFVBQVVpWCxFQUFJMVAsTUFBTytvQyxFQUFRQSxFQUFRcjVCLEVBQUkxUCxNQUFNeHdCLE1BQVEsRUFBSXU1RCxFQUFRcjVCLEVBQUkxUCxNQUFNdndCLE9BQVMsRUFBSXM1RCxFQUFRc3dCLEVBQU9ELEVBQWFFLEVBQU9GLEVBQWFHLEVBQVdILEVBQWFJLEVBQVlKLE1BR3BNLElBQUlLLEdBQWdCLFFBQVczRyxHQThHL0IsT0E3R0FnRyxFQUFjNUMsZUFBZWh4RixTQUFRLFNBQVV1dkYsRUFBVWx3RixFQUFHUyxHQXFCeEQsSUFBSWlFLEVBQVN3ckYsRUFBU3hyRixPQUNsQnVCLEVBQVNpcUYsRUFBU2pxRixPQUNsQm9RLEVBQUszUixFQUFPLEdBQUcsR0FBSStSLEVBQUsvUixFQUFPLEdBQUcsR0FDbEM0UixFQUFLNVIsRUFBTyxHQUFHLEdBQUlnUyxFQUFLaFMsRUFBTyxHQUFHLEdBQ2xDNlIsRUFBSzdSLEVBQU8sR0FBRyxHQUFJaVMsRUFBS2pTLEVBQU8sR0FBRyxHQUVsQ3l3RixFQUFLWCxHQUFZdnVGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxHQUNwRCt5QyxFQUFLWixJQUFhdnVGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxHQUNyRDJ2QyxFQUFLd0MsR0FBWXZ1RixFQUFPLEdBQUcsR0FBS2l2RixFQUFjLElBQU03eUMsR0FDcEQ0dkMsRUFBS3VDLElBQWF2dUYsRUFBTyxHQUFHLEdBQUtpdkYsRUFBYyxJQUFNN3lDLEdBQ3JENnZDLEVBQUtzQyxHQUFZdnVGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxHQUNwRDh2QyxFQUFLcUMsSUFBYXZ1RixFQUFPLEdBQUcsR0FBS2l2RixFQUFjLElBQU03eUMsR0FJckRnekMsRUFBd0JoL0UsRUFDeEJpL0UsRUFBd0I3K0UsRUFDNUJKLEVBQUssRUFDTEksRUFBSyxFQUtMLElBQUk4K0UsRUFBa0IsQ0FDbEIsQ0FMSmovRSxHQUFNKytFLEVBQ04zK0UsR0FBTTQrRSxFQUlPLEVBQUcsRUFBR3RELEVBQUttRCxHQUNwQixDQUpKNStFLEdBQU04K0UsRUFDTjErRSxHQUFNMitFLEVBR08sRUFBRyxFQUFHcEQsRUFBS2lELEdBQ3BCLENBQUMsRUFBRyxFQUFHNytFLEVBQUlJLEVBQUl1N0UsRUFBS21ELEdBQ3BCLENBQUMsRUFBRyxFQUFHNytFLEVBQUlJLEVBQUl3N0UsRUFBS2lELElBRXBCSSxHQUFjLFFBQWtCRCxHQUNwQyxHQUFLQyxFQUFMLENBS0EsR0FGQXRpRSxFQUFRVSxPQUNSVixFQUFRNEYsWUFyTGhCLFdBQ0ksUUFBaUNuM0IsSUFBN0Jpd0YsR0FBd0MsQ0FDeEMsSUFBSW5SLEVBQU1yNEUsU0FBU0MsY0FBYyxVQUFVOEMsV0FBVyxNQUN0RHMxRSxFQUFJQyx5QkFBMkIsVUFDL0JELEVBQUl4bkQsVUFBWSx3QkFDaEI4NEQsR0FBaUJ0UixFQUFLLEVBQUcsRUFBRyxFQUFHLEdBQy9Cc1IsR0FBaUJ0UixFQUFLLEVBQUcsRUFBRyxFQUFHLEdBQy9CLElBQUlsNkUsRUFBT2s2RSxFQUFJNWdCLGFBQWEsRUFBRyxFQUFHLEVBQUcsR0FBR3Q1RCxLQUN4Q3FyRixHQUNJUSxHQUE4QjdyRixFQUFNLElBQ2hDNnJGLEdBQThCN3JGLEVBQU0sSUFDcEM2ckYsR0FBOEI3ckYsRUFBTSxHQUVoRCxPQUFPcXJGLEdBeUtDNkQsSUFDQXhDLElBQXVCcEIsR0FBMEIsQ0FFakQzK0QsRUFBUThyQyxPQUFPZ3pCLEVBQUlDLEdBS25CLElBSEEsSUFDSXlELEVBQUtQLEVBQUtuRCxFQUNWMkQsRUFBS1AsRUFBS25ELEVBQ0wyRCxFQUFPLEVBQUdBLEVBSFAsRUFHcUJBLElBRTdCMWlFLEVBQVE4RixPQUFPZzVELEVBQUt3QyxHQUFhb0IsRUFBTyxHQUFLRixFQUxyQyxHQUttRHpELEVBQUt1QyxFQUFZb0IsRUFBT0QsRUFBTSxJQUU3RUUsR0FBUkQsR0FDQTFpRSxFQUFROEYsT0FBT2c1RCxFQUFLd0MsR0FBYW9CLEVBQU8sR0FBS0YsRUFSekMsR0FRdUR6RCxFQUFLdUMsR0FBYW9CLEVBQU8sR0FBS0QsRUFBTSxJQUl2R3ppRSxFQUFROEYsT0FBT2s1RCxFQUFJQyxRQUduQmovRCxFQUFROHJDLE9BQU9nekIsRUFBSUMsR0FDbkIvK0QsRUFBUThGLE9BQU9tOEQsRUFBSUMsR0FDbkJsaUUsRUFBUThGLE9BQU9rNUQsRUFBSUMsR0FFdkJqL0QsRUFBUXVyQyxPQUNSdnJDLEVBQVE1VixVQUFVazRFLEVBQVksR0FBSUEsRUFBWSxHQUFJQSxFQUFZLEdBQUlBLEVBQVksR0FBSUwsRUFBSUMsR0FDdEZsaUUsRUFBUTdWLFVBQVVvM0UsRUFBaUIsR0FBS1ksRUFBdUJaLEVBQWlCLEdBQUthLEdBQ3JGcGlFLEVBQVFuVyxNQUFNcWxDLEVBQW1CbHJCLEdBQWFrckIsRUFBbUJsckIsR0FDakVoRSxFQUFRZ0IsVUFBVTBnRSxFQUFjOXBGLE9BQVEsRUFBRyxHQUMzQ29vQixFQUFRaUIsY0FFUjYrRCxJQUNBOS9ELEVBQVFVLE9BQ1JWLEVBQVF3dEQseUJBQTJCLGNBQ25DeHRELEVBQVE0RSxZQUFjLFFBQ3RCNUUsRUFBUWdHLFVBQVksRUFDcEJxN0QsRUFBYzVDLGVBQWVoeEYsU0FBUSxTQUFVdXZGLEVBQVVsd0YsRUFBR1MsR0FDeEQsSUFBSXdGLEVBQVNpcUYsRUFBU2pxRixPQUNsQmt2RixHQUFNbHZGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxFQUN6Qyt5QyxJQUFPbnZGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxFQUMxQzJ2QyxHQUFNL3JGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxFQUN6QzR2QyxJQUFPaHNGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxFQUMxQzZ2QyxHQUFNanNGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxFQUN6Qzh2QyxJQUFPbHNGLEVBQU8sR0FBRyxHQUFLaXZGLEVBQWMsSUFBTTd5QyxFQUM5Q252QixFQUFRNEYsWUFDUjVGLEVBQVE4ckMsT0FBT2d6QixFQUFJQyxHQUNuQi8rRCxFQUFROEYsT0FBT204RCxFQUFJQyxHQUNuQmxpRSxFQUFROEYsT0FBT2s1RCxFQUFJQyxHQUNuQmovRCxFQUFRa0csWUFDUmxHLEVBQVF3QyxZQUVaeEMsRUFBUWlCLFdBRUxqQixFQUFRcG9CLE9DL0VRaXJCLENBQWtCOXFCLEVBQU9DLEVBQVExTSxLQUFLaXVELFlBQWFySyxFQUFrQjVqRCxLQUFLNjBGLGdCQUFnQjk2RSxZQUFhOHBDLEVBQWtCa3NDLEVBQWMvdkYsS0FBS3cxRixlQUFnQkssRUFBUzcxRixLQUFLNDBGLFFBQVM1MEYsS0FBSzAwRixhQUFjMTBGLEtBQUsyMEYsaUJBQzFOMzBGLEtBQUsyd0MsTXRGMU1MLEVzRjRNSjN3QyxLQUFLd0csV0FLVDB0RixFQUFXdDBGLFVBQVV3NUIsS0FBTyxXQUN4QixHdEZwTkUsR3NGb05FcDVCLEtBQUsyd0MsTUFBeUIsQ0FDOUIzd0MsS0FBSzJ3QyxNdEZwTkosRXNGcU5EM3dDLEtBQUt3RyxVQUNMLElBQUk4d0YsRUFBZSxFQUNuQnQzRixLQUFLaTFGLHFCQUF1QixHQUM1QmoxRixLQUFLZzFGLGFBQWE3eUYsUUFBUSxTQUFVbTZDLEVBQU05NkMsRUFBR1MsR0FDekMsSUFBSTB1QyxFQUFRMkwsRUFBSzdKLFdBQ2pCLEd0RjNOTixHc0YyTlU5QixHdEYxTlAsR3NGME5rQ0EsRUFBNEIsQ0FDdkQybUQsSUFDQSxJQUFJQyxHQUFvQixRQUFPajdDLEVBQU03WixFQUFBLFVBQWtCLFNBQVV6RCxHQUM3RCxJQUFJMlIsRUFBUTJMLEVBQUs3SixXdEY1TjdCLEdzRjZOZ0I5QixHdEZ4TmpCLEdzRnlOaUJBLEd0RnhOakIsR3NGeU5pQkEsS0FDQSxRQUFjNG1ELEdBRU8sS0FEckJELElBRUl0M0YsS0FBS3czRixtQkFDTHgzRixLQUFLNDFGLGlCQUdkNTFGLE1BQ0hBLEtBQUtpMUYscUJBQXFCL3lGLEtBQUtxMUYsS0FFckN4b0YsS0FBSy9PLE9BQ1BBLEtBQUtnMUYsYUFBYTd5RixTQUFRLFNBQVVtNkMsRUFBTTk2QyxFQUFHUyxHdEY3Ty9DLEdzRjhPa0JxNkMsRUFBSzdKLFlBRWI2SixFQUFLbGpCLFVBR1EsSUFBakJrK0QsR0FDQXJxRCxXQUFXanRDLEtBQUs0MUYsV0FBVzdtRixLQUFLL08sTUFBTyxLQU9uRGswRixFQUFXdDBGLFVBQVU0M0YsaUJBQW1CLFdBQ3BDeDNGLEtBQUtpMUYscUJBQXFCOXlGLFFBQVEsTUFDbENuQyxLQUFLaTFGLHFCQUF1QixNQUV6QmYsRUFwT29CLENBcU83QixJRWpCRixHQWxPOEIsV0FJMUIsU0FBU3VELEVBQVNDLEdBTWQxM0YsS0FBSzIzRixtQkFDcUJ4MEYsSUFBdEJ1MEYsRUFBa0NBLEVBQW9CLEtBSzFEMTNGLEtBQUs0M0YsT0FBUyxFQUtkNTNGLEtBQUs2M0YsU0FBVyxHQUtoQjczRixLQUFLODNGLFFBQVUsS0FLZjkzRixLQUFLKzNGLFFBQVUsS0FpTW5CLE9BNUxBTixFQUFTNzNGLFVBQVVpd0MsZUFBaUIsV0FDaEMsT0FBTzd2QyxLQUFLMjNGLGNBQWdCLEdBQUszM0YsS0FBSzg2QyxXQUFhOTZDLEtBQUsyM0YsZUFLNURGLEVBQVM3M0YsVUFBVWlDLE1BQVEsV0FDdkI3QixLQUFLNDNGLE9BQVMsRUFDZDUzRixLQUFLNjNGLFNBQVcsR0FDaEI3M0YsS0FBSzgzRixRQUFVLEtBQ2Y5M0YsS0FBSyszRixRQUFVLE1BTW5CTixFQUFTNzNGLFVBQVVvNEYsWUFBYyxTQUFVL3lGLEdBQ3ZDLE9BQU9qRixLQUFLNjNGLFNBQVNoNEYsZUFBZW9GLElBUXhDd3lGLEVBQVM3M0YsVUFBVXVDLFFBQVUsU0FBVUMsR0FFbkMsSUFEQSxJQUFJNjFGLEVBQVFqNEYsS0FBSzgzRixRQUNWRyxHQUNINzFGLEVBQUU2MUYsRUFBTUMsT0FBUUQsRUFBTUUsS0FBTW40RixNQUM1Qmk0RixFQUFRQSxFQUFNRyxPQVF0QlgsRUFBUzczRixVQUFVNEMsSUFBTSxTQUFVeUMsRUFBSzlELEdBQ3BDLElBQUk4MkYsRUFBUWo0RixLQUFLNjNGLFNBQVM1eUYsR0FFMUIsT0FEQSxZQUFpQjlCLElBQVY4MEYsRUFBcUIsSUFDeEJBLElBQVVqNEYsS0FBSyszRixVQUdWRSxJQUFVajRGLEtBQUs4M0YsU0FDcEI5M0YsS0FBSzgzRixRQUFnQzkzRixLQUFLODNGLFFBQWEsTUFDdkQ5M0YsS0FBSzgzRixRQUFRTyxNQUFRLE9BR3JCSixFQUFNRyxNQUFNQyxNQUFRSixFQUFNSSxNQUMxQkosRUFBTUksTUFBTUQsTUFBUUgsRUFBTUcsT0FFOUJILEVBQU1HLE1BQVEsS0FDZEgsRUFBTUksTUFBUXI0RixLQUFLKzNGLFFBQ25CLzNGLEtBQUsrM0YsUUFBUUssTUFBUUgsRUFDckJqNEYsS0FBSyszRixRQUFVRSxHQWJKQSxFQUFNQyxRQXFCckJULEVBQVM3M0YsVUFBVW1ELE9BQVMsU0FBVWtDLEdBQ2xDLElBQUlnekYsRUFBUWo0RixLQUFLNjNGLFNBQVM1eUYsR0FvQjFCLE9BbkJBLFlBQWlCOUIsSUFBVjgwRixFQUFxQixJQUN4QkEsSUFBVWo0RixLQUFLKzNGLFNBQ2YvM0YsS0FBSyszRixRQUFnQ0UsRUFBVyxNQUM1Q2o0RixLQUFLKzNGLFVBQ0wvM0YsS0FBSyszRixRQUFRSyxNQUFRLE9BR3BCSCxJQUFVajRGLEtBQUs4M0YsU0FDcEI5M0YsS0FBSzgzRixRQUFnQ0csRUFBVyxNQUM1Q2o0RixLQUFLODNGLFVBQ0w5M0YsS0FBSzgzRixRQUFRTyxNQUFRLFFBSXpCSixFQUFNRyxNQUFNQyxNQUFRSixFQUFNSSxNQUMxQkosRUFBTUksTUFBTUQsTUFBUUgsRUFBTUcsY0FFdkJwNEYsS0FBSzYzRixTQUFTNXlGLEtBQ25CakYsS0FBSzQzRixPQUNBSyxFQUFNQyxRQUtqQlQsRUFBUzczRixVQUFVazdDLFNBQVcsV0FDMUIsT0FBTzk2QyxLQUFLNDNGLFFBS2hCSCxFQUFTNzNGLFVBQVU0RixRQUFVLFdBQ3pCLElBRUl5eUYsRUFGQXh5RixFQUFPLElBQUkvRixNQUFNTSxLQUFLNDNGLFFBQ3RCcDJGLEVBQUksRUFFUixJQUFLeTJGLEVBQVFqNEYsS0FBSyszRixRQUFTRSxFQUFPQSxFQUFRQSxFQUFNSSxNQUM1QzV5RixFQUFLakUsS0FBT3kyRixFQUFNRSxLQUV0QixPQUFPMXlGLEdBS1hneUYsRUFBUzczRixVQUFVOHFCLFVBQVksV0FDM0IsSUFFSXV0RSxFQUZBanlGLEVBQVMsSUFBSXRHLE1BQU1NLEtBQUs0M0YsUUFDeEJwMkYsRUFBSSxFQUVSLElBQUt5MkYsRUFBUWo0RixLQUFLKzNGLFFBQVNFLEVBQU9BLEVBQVFBLEVBQU1JLE1BQzVDcnlGLEVBQU94RSxLQUFPeTJGLEVBQU1DLE9BRXhCLE9BQU9seUYsR0FLWHl4RixFQUFTNzNGLFVBQVUwNEYsU0FBVyxXQUMxQixPQUFPdDRGLEtBQUs4M0YsUUFBUUksUUFLeEJULEVBQVM3M0YsVUFBVTI0RixZQUFjLFdBQzdCLE9BQU92NEYsS0FBSzgzRixRQUFRSyxNQU14QlYsRUFBUzczRixVQUFVNDRGLGFBQWUsV0FDOUIsT0FBT3g0RixLQUFLKzNGLFFBQVFJLE1BS3hCVixFQUFTNzNGLFVBQVVtQyxJQUFNLFdBQ3JCLElBQUlrMkYsRUFBUWo0RixLQUFLODNGLFFBVWpCLGNBVE85M0YsS0FBSzYzRixTQUFTSSxFQUFNRSxNQUN2QkYsRUFBTUcsUUFDTkgsRUFBTUcsTUFBTUMsTUFBUSxNQUV4QnI0RixLQUFLODNGLFFBQWdDRyxFQUFXLE1BQzNDajRGLEtBQUs4M0YsVUFDTjkzRixLQUFLKzNGLFFBQVUsUUFFakIvM0YsS0FBSzQzRixPQUNBSyxFQUFNQyxRQU1qQlQsRUFBUzczRixVQUFVNHVCLFFBQVUsU0FBVXZwQixFQUFLTSxHQUN4Q3ZGLEtBQUt3QyxJQUFJeUMsR0FDVGpGLEtBQUs2M0YsU0FBUzV5RixHQUFLaXpGLE9BQVMzeUYsR0FNaENreUYsRUFBUzczRixVQUFVd0QsSUFBTSxTQUFVNkIsRUFBS00sSUFDcEMsU0FBU04sS0FBT2pGLEtBQUs2M0YsVUFBVyxJQUNoQyxJQUFJSSxFQUFRLENBQ1JFLEtBQU1sekYsRUFDTm16RixNQUFPLEtBQ1BDLE1BQU9yNEYsS0FBSyszRixRQUNaRyxPQUFRM3lGLEdBRVB2RixLQUFLKzNGLFFBSU4vM0YsS0FBSyszRixRQUFRSyxNQUFRSCxFQUhyQmo0RixLQUFLODNGLFFBQVVHLEVBS25CajRGLEtBQUsrM0YsUUFBVUUsRUFDZmo0RixLQUFLNjNGLFNBQVM1eUYsR0FBT2d6RixJQUNuQmo0RixLQUFLNDNGLFFBT1hILEVBQVM3M0YsVUFBVW95QixRQUFVLFNBQVVubUIsR0FDbkM3TCxLQUFLMjNGLGNBQWdCOXJGLEdBRWxCNHJGLEVBaE9rQixHQ0p0QixTQUFTLEdBQWVqeUMsRUFBR3B4QyxFQUFHQyxFQUFHb2tGLEdBQ3BDLFlBQXNCdDFGLElBQWxCczFGLEdBQ0FBLEVBQWMsR0FBS2p6QyxFQUNuQml6QyxFQUFjLEdBQUtya0YsRUFDbkJxa0YsRUFBYyxHQUFLcGtGLEVBQ1pva0YsR0FHQSxDQUFDanpDLEVBQUdweEMsRUFBR0MsR0FTZixTQUFTcWtGLEdBQVVsekMsRUFBR3B4QyxFQUFHQyxHQUM1QixPQUFPbXhDLEVBQUksSUFBTXB4QyxFQUFJLElBQU1DLEVBT3hCLFNBQVMsR0FBTzJxRCxHQUNuQixPQUFPMDVCLEdBQVUxNUIsRUFBVSxHQUFJQSxFQUFVLEdBQUlBLEVBQVUsSUMxQzNELElBQUksR0FBd0MsV0FDeEMsSUFBSTcvRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQXdENUMsU0F0QytCLFNBQVVJLEdBRXJDLFNBQVN3NEYsSUFDTCxPQUFrQixPQUFYeDRGLEdBQW1CQSxFQUFPOE8sTUFBTWpQLEtBQU1rUCxZQUFjbFAsS0FpQy9ELE9BbkNBLEdBQVUyNEYsRUFBV3g0RixHQU9yQnc0RixFQUFVLzRGLFVBQVUybUUsWUFBYyxTQUFVclQsR0FDeEMsS0FBT2x6RCxLQUFLNnZDLG9CQUNHN3ZDLEtBQUtzNEYsV0FDUGhwRCxXQUFZNGpCLElBSWpCbHpELEtBQUsrQixNQUFNc3RGLFdBT3ZCc0osRUFBVS80RixVQUFVZzVGLG1CQUFxQixXQUNyQyxHQUF3QixJQUFwQjU0RixLQUFLODZDLFdBQVQsQ0FHQSxJQUVJMEssR0RHWXZnRCxFQ0xOakYsS0FBS3c0RixlRE1adnpGLEVBQUl5RixNQUFNLEtBQUtDLElBQUlDLFNDSkosR0FDbEI1SyxLQUFLbUMsUUFBUSxTQUFVbTZDLEdBQ2ZBLEVBQUswaUIsVUFBVSxLQUFPeFosSUFDdEJ4bEQsS0FBSytDLE9BQU8sR0FBT3U1QyxFQUFLMGlCLFlBQ3hCMWlCLEVBQUsreUMsWUFFWHRnRixLQUFLL08sT0RIUixJQUFpQmlGLEdDS2IwekYsRUFwQ21CLENBcUM1QixJLGVDeENFRSxHQUFlLENBQUMsRUFBRyxFQUFHLEdBK2UxQixTQTFjOEIsV0FJMUIsU0FBU0MsRUFBUzEzRixHQWVkLElBQUk0akQsRUFDSixHQVhBaGxELEtBQUtvd0MsYUFBOEJqdEMsSUFBcEIvQixFQUFRZ3ZDLFFBQXdCaHZDLEVBQVFndkMsUUFBVSxFQUtqRXB3QyxLQUFLd21ELGFBQWVwbEQsRUFBUWlrRCxhQUM1QixRQUFPLFNBQVNybEQsS0FBS3dtRCxjQUFjLFNBQVVwL0MsRUFBRzlILEdBQzVDLE9BQU9BLEVBQUk4SCxLQUNaLEdBQU8sS0FHTGhHLEVBQVEyM0YsUUFDVCxJQUFLLElBQUl2M0YsRUFBSSxFQUFHQyxFQUFLekIsS0FBS3dtRCxhQUFhOWtELE9BQVMsRUFBR0YsRUFBSUMsSUFBTUQsRUFDekQsR0FBS3dqRCxHQUlELEdBQUlobEQsS0FBS3dtRCxhQUFhaGxELEdBQUt4QixLQUFLd21ELGFBQWFobEQsRUFBSSxLQUFPd2pELEVBQVksQ0FDaEVBLE9BQWE3aEQsRUFDYixZQUxKNmhELEVBQWFobEQsS0FBS3dtRCxhQUFhaGxELEdBQUt4QixLQUFLd21ELGFBQWFobEQsRUFBSSxHQWN0RXhCLEtBQUt1bUQsWUFBY3ZCLEVBS25CaGxELEtBQUtxd0MsUUFBVXJ3QyxLQUFLd21ELGFBQWE5a0QsT0FBUyxFQUsxQzFCLEtBQUt5MkIsYUFBNkJ0ekIsSUFBbkIvQixFQUFRNnRFLE9BQXVCN3RFLEVBQVE2dEUsT0FBUyxLQUsvRGp2RSxLQUFLZzVGLFNBQVcsVUFDUTcxRixJQUFwQi9CLEVBQVEyM0YsVUFDUi80RixLQUFLZzVGLFNBQVc1M0YsRUFBUTIzRixTQUN4QixPQUFPLzRGLEtBQUtnNUYsU0FBU3QzRixRQUFVMUIsS0FBS3dtRCxhQUFhOWtELE9BQVEsS0FFN0QsSUFBSW1TLEVBQVN6UyxFQUFReVMsWUFDTjFRLElBQVgwUSxHQUF5QjdULEtBQUt5MkIsU0FBWXoyQixLQUFLZzVGLFdBQy9DaDVGLEtBQUt5MkIsU0FBVSxRQUFXNWlCLEtBRTlCLFFBQVM3VCxLQUFLeTJCLFNBQVd6MkIsS0FBS2c1RixVQUFjaDVGLEtBQUt5MkIsVUFBWXoyQixLQUFLZzVGLFNBQVcsSUFLN0VoNUYsS0FBS2k1RixXQUFhLFVBQ1E5MUYsSUFBdEIvQixFQUFRODNGLFlBQ1JsNUYsS0FBS2k1RixXQUFhNzNGLEVBQVE4M0YsV0FDMUIsT0FBT2w1RixLQUFLaTVGLFdBQVd2M0YsUUFBVTFCLEtBQUt3bUQsYUFBYTlrRCxPQUFRLEtBTS9EMUIsS0FBS201RixlQUNvQmgyRixJQUFyQi9CLEVBQVFnNEYsU0FDRmg0RixFQUFRZzRGLFNBQ1BwNUYsS0FBS2k1RixXQUVGLEt4RnhIUyxLd0Z5SHZCLFFBQVNqNUYsS0FBS201RixXQUFhbjVGLEtBQUtpNUYsWUFDM0JqNUYsS0FBS201RixZQUFjbjVGLEtBQUtpNUYsV0FBYSxJQUsxQ2o1RixLQUFLb2QsYUFBcUJqYSxJQUFYMFEsRUFBdUJBLEVBQVMsS0FLL0M3VCxLQUFLcTVGLGdCQUFrQixLQUt2QnI1RixLQUFLczVGLFNBQVcsQ0FBQyxFQUFHLFFBQ0VuMkYsSUFBbEIvQixFQUFRbTRGLE1BQ1J2NUYsS0FBS3E1RixnQkFBa0JqNEYsRUFBUW00RixNQUFNNXVGLEtBQUksU0FBVWtCLEVBQU0yNUMsR0FDckQsSUFBSTBaLEVBQVksSUFBSSxHQUFVM3dELEtBQUt5SCxJQUFJLEVBQUduSyxFQUFLLElBQUswQyxLQUFLMEgsSUFBSXBLLEVBQUssR0FBSyxHQUFJLEdBQUkwQyxLQUFLeUgsSUFBSSxFQUFHbkssRUFBSyxJQUFLMEMsS0FBSzBILElBQUlwSyxFQUFLLEdBQUssR0FBSSxJQUM1SCxHQUFJZ0ksRUFBUSxDQUNSLElBQUkybEYsRUFBc0J4NUYsS0FBS21qRSwwQkFBMEJ0dkQsRUFBUTJ4QyxHQUNqRTBaLEVBQVVucUQsS0FBT3hHLEtBQUswSCxJQUFJdWpGLEVBQW9CemtGLEtBQU1tcUQsRUFBVW5xRCxNQUM5RG1xRCxFQUFVanFELEtBQU8xRyxLQUFLeUgsSUFBSXdqRixFQUFvQnZrRixLQUFNaXFELEVBQVVqcUQsTUFDOURpcUQsRUFBVWxxRCxLQUFPekcsS0FBSzBILElBQUl1akYsRUFBb0J4a0YsS0FBTWtxRCxFQUFVbHFELE1BQzlEa3FELEVBQVVocUQsS0FBTzNHLEtBQUt5SCxJQUFJd2pGLEVBQW9CdGtGLEtBQU1ncUQsRUFBVWhxRCxNQUVsRSxPQUFPZ3FELElBQ1JsL0QsTUFFRTZULEdBQ0w3VCxLQUFLeTVGLHFCQUFxQjVsRixHQXdWbEMsT0E3VUFpbEYsRUFBU2w1RixVQUFVODVGLGlCQUFtQixTQUFVN2xGLEVBQVFrK0IsRUFBTTU3QixHQUUxRCxJQURBLElBQUkrb0QsRUFBWWwvRCxLQUFLbWpFLDBCQUEwQnR2RCxFQUFRaytCLEdBQzlDdndDLEVBQUkwOUQsRUFBVW5xRCxLQUFNdFQsRUFBS3k5RCxFQUFVanFELEtBQU16VCxHQUFLQyxJQUFNRCxFQUN6RCxJQUFLLElBQUkwQixFQUFJZzhELEVBQVVscUQsS0FBTStMLEVBQUttK0MsRUFBVWhxRCxLQUFNaFMsR0FBSzZkLElBQU03ZCxFQUN6RGlULEVBQVMsQ0FBQzQ3QixFQUFNdndDLEVBQUcwQixLQVcvQjQxRixFQUFTbDVGLFVBQVVpa0UsZ0NBQWtDLFNBQVU3RSxFQUFXN29ELEVBQVV3akYsRUFBZTFsRixHQUMvRixJQUFlRyxFQUFHQyxFQUNkdWxGLEVBQWtCLEtBQ2xCcDBDLEVBQUl3WixFQUFVLEdBQUssRUFRdkIsSUFQeUIsSUFBckJoL0QsS0FBS3VtRCxhQUNMbnlDLEVBQUk0cUQsRUFBVSxHQUNkM3FELEVBQUkycUQsRUFBVSxJQUdkNDZCLEVBQWtCNTVGLEtBQUtnbEUsbUJBQW1CaEcsRUFBVy9xRCxHQUVsRHV4QyxHQUFLeGxELEtBQUtvd0MsU0FBUyxDQVN0QixHQUFJajZCLEVBQVNxdkMsRUFSWSxJQUFyQnhsRCxLQUFLdW1ELFlBR09seEMsR0FGWmpCLEVBQUk3RixLQUFLMkwsTUFBTTlGLEVBQUksR0FFb0JBLEVBRHZDQyxFQUFJOUYsS0FBSzJMLE1BQU03RixFQUFJLEdBQzBCQSxFQUFHc2xGLEdBR3BDMzVGLEtBQUttakUsMEJBQTBCeTJCLEVBQWlCcDBDLEVBQUdtMEMsSUFHL0QsT0FBTyxJQUVUbjBDLEVBRU4sT0FBTyxHQU9Yc3pDLEVBQVNsNUYsVUFBVW1hLFVBQVksV0FDM0IsT0FBTy9aLEtBQUtvZCxTQU9oQjA3RSxFQUFTbDVGLFVBQVV1eEMsV0FBYSxXQUM1QixPQUFPbnhDLEtBQUtxd0MsU0FPaEJ5b0QsRUFBU2w1RixVQUFVc3hDLFdBQWEsV0FDNUIsT0FBT2x4QyxLQUFLb3dDLFNBUWhCMG9ELEVBQVNsNUYsVUFBVXE1QixVQUFZLFNBQVV1c0IsR0FDckMsT0FBSXhsRCxLQUFLeTJCLFFBQ0V6MkIsS0FBS3kyQixRQUdMejJCLEtBQUtnNUYsU0FBU3h6QyxJQVM3QnN6QyxFQUFTbDVGLFVBQVU2bkQsY0FBZ0IsU0FBVWpDLEdBQ3pDLE9BQU94bEQsS0FBS3dtRCxhQUFhaEIsSUFPN0JzekMsRUFBU2w1RixVQUFVcXFELGVBQWlCLFdBQ2hDLE9BQU9qcUQsS0FBS3dtRCxjQVFoQnN5QyxFQUFTbDVGLFVBQVUrakUsMkJBQTZCLFNBQVUzRSxFQUFXMjZCLEVBQWUxbEYsR0FDaEYsR0FBSStxRCxFQUFVLEdBQUtoL0QsS0FBS3F3QyxRQUFTLENBQzdCLEdBQXlCLElBQXJCcndDLEtBQUt1bUQsWUFBbUIsQ0FDeEIsSUFBSXh4QyxFQUFzQixFQUFmaXFELEVBQVUsR0FDakJocUQsRUFBc0IsRUFBZmdxRCxFQUFVLEdBQ3JCLE9BQU8zcEQsR0FBd0JOLEVBQU1BLEVBQU8sRUFBR0MsRUFBTUEsRUFBTyxFQUFHMmtGLEdBRW5FLElBQUlDLEVBQWtCNTVGLEtBQUtnbEUsbUJBQW1CaEcsRUFBVy9xRCxHQUN6RCxPQUFPalUsS0FBS21qRSwwQkFBMEJ5MkIsRUFBaUI1NkIsRUFBVSxHQUFLLEVBQUcyNkIsR0FFN0UsT0FBTyxNQVNYYixFQUFTbDVGLFVBQVVpNkYsbUJBQXFCLFNBQVVyMEMsRUFBRzBaLEVBQVdqckQsR0FDNUQsSUFBSWc3RCxFQUFTanZFLEtBQUtpNUIsVUFBVXVzQixHQUN4QnJ1QyxFQUFhblgsS0FBS3luRCxjQUFjakMsR0FDaEM0ekMsR0FBVyxTQUFPcDVGLEtBQUs4MUYsWUFBWXR3QyxHQUFJeGxELEtBQUtzNUYsVUFDNUN2a0YsRUFBT2s2RCxFQUFPLEdBQUsvUCxFQUFVbnFELEtBQU9xa0YsRUFBUyxHQUFLamlGLEVBQ2xEbEMsRUFBT2c2RCxFQUFPLElBQU0vUCxFQUFVanFELEtBQU8sR0FBS21rRixFQUFTLEdBQUtqaUYsRUFDeERuQyxFQUFPaTZELEVBQU8sR0FBSy9QLEVBQVVscUQsS0FBT29rRixFQUFTLEdBQUtqaUYsRUFDbERqQyxFQUFPKzVELEVBQU8sSUFBTS9QLEVBQVVocUQsS0FBTyxHQUFLa2tGLEVBQVMsR0FBS2ppRixFQUM1RCxPQUFPLFFBQWVwQyxFQUFNQyxFQUFNQyxFQUFNQyxFQUFNakIsSUFTbEQ2a0YsRUFBU2w1RixVQUFVdWpFLDBCQUE0QixTQUFVdHZELEVBQVEyeEMsRUFBR20wQyxHQUNoRSxJQUFJMzZCLEVBQVk2NUIsR0FDaEI3NEYsS0FBSzg1Rix1QkFBdUJqbUYsRUFBTyxHQUFJQSxFQUFPLEdBQUkyeEMsR0FBRyxFQUFPd1osR0FDNUQsSUFBSWpxRCxFQUFPaXFELEVBQVUsR0FDakJocUQsRUFBT2dxRCxFQUFVLEdBRXJCLE9BREFoL0QsS0FBSzg1Rix1QkFBdUJqbUYsRUFBTyxHQUFJQSxFQUFPLEdBQUkyeEMsR0FBRyxFQUFNd1osR0FDcEQzcEQsR0FBd0JOLEVBQU1pcUQsRUFBVSxHQUFJaHFELEVBQU1ncUQsRUFBVSxHQUFJMjZCLElBTTNFYixFQUFTbDVGLFVBQVU4bUUsbUJBQXFCLFNBQVUxSCxHQUM5QyxJQUFJaVEsRUFBU2p2RSxLQUFLaTVCLFVBQVUrbEMsRUFBVSxJQUNsQzduRCxFQUFhblgsS0FBS3luRCxjQUFjdVgsRUFBVSxJQUMxQ282QixHQUFXLFNBQU9wNUYsS0FBSzgxRixZQUFZOTJCLEVBQVUsSUFBS2gvRCxLQUFLczVGLFVBQzNELE1BQU8sQ0FDSHJxQixFQUFPLElBQU1qUSxFQUFVLEdBQUssSUFBT282QixFQUFTLEdBQUtqaUYsRUFDakQ4M0QsRUFBTyxJQUFNalEsRUFBVSxHQUFLLElBQU9vNkIsRUFBUyxHQUFLamlGLElBV3pEMmhGLEVBQVNsNUYsVUFBVW9sRSxtQkFBcUIsU0FBVWhHLEVBQVcvcUQsR0FDekQsSUFBSWc3RCxFQUFTanZFLEtBQUtpNUIsVUFBVStsQyxFQUFVLElBQ2xDN25ELEVBQWFuWCxLQUFLeW5ELGNBQWN1WCxFQUFVLElBQzFDbzZCLEdBQVcsU0FBT3A1RixLQUFLODFGLFlBQVk5MkIsRUFBVSxJQUFLaC9ELEtBQUtzNUYsVUFDdkR2a0YsRUFBT2s2RCxFQUFPLEdBQUtqUSxFQUFVLEdBQUtvNkIsRUFBUyxHQUFLamlGLEVBQ2hEbkMsRUFBT2k2RCxFQUFPLElBQU1qUSxFQUFVLEdBQUssR0FBS282QixFQUFTLEdBQUtqaUYsRUFDdERsQyxFQUFPRixFQUFPcWtGLEVBQVMsR0FBS2ppRixFQUM1QmpDLEVBQU9GLEVBQU9va0YsRUFBUyxHQUFLamlGLEVBQ2hDLE9BQU8sUUFBZXBDLEVBQU1DLEVBQU1DLEVBQU1DLEVBQU1qQixJQWFsRDZrRixFQUFTbDVGLFVBQVVtNkYsa0NBQW9DLFNBQVV0bEYsRUFBWTBDLEVBQVlzaEYsR0FDckYsT0FBT3o0RixLQUFLZzZGLGdDQUFnQ3ZsRixFQUFXLEdBQUlBLEVBQVcsR0FBSTBDLEdBQVksRUFBT3NoRixJQWVqR0ssRUFBU2w1RixVQUFVbzZGLGdDQUFrQyxTQUFVNWxGLEVBQUdDLEVBQUc4QyxFQUFZOGlGLEVBQTJCeEIsR0FDeEcsSUFBSWp6QyxFQUFJeGxELEtBQUs4aUUsa0JBQWtCM3JELEdBQzNCb0gsRUFBUXBILEVBQWFuWCxLQUFLeW5ELGNBQWNqQyxHQUN4Q3lwQixFQUFTanZFLEtBQUtpNUIsVUFBVXVzQixHQUN4QjR6QyxHQUFXLFNBQU9wNUYsS0FBSzgxRixZQUFZdHdDLEdBQUl4bEQsS0FBS3M1RixVQUM1Q1ksRUFBVUQsRUFBNEIsR0FBTSxFQUM1Q0UsRUFBVUYsRUFBNEIsR0FBTSxFQUM1Q0csRUFBYzdyRixLQUFLMkwsT0FBTzlGLEVBQUk2NkQsRUFBTyxJQUFNOTNELEVBQWEraUYsR0FDeERHLEVBQWM5ckYsS0FBSzJMLE9BQU8rMEQsRUFBTyxHQUFLNTZELEdBQUs4QyxFQUFhZ2pGLEdBQ3hERyxFQUFjLzdFLEVBQVE2N0UsRUFBZWhCLEVBQVMsR0FDOUNtQixFQUFjaDhFLEVBQVE4N0UsRUFBZWpCLEVBQVMsR0FTbEQsT0FSSWEsR0FDQUssRUFBYS9yRixLQUFLNnhCLEtBQUtrNkQsR0FBYyxFQUNyQ0MsRUFBYWhzRixLQUFLNnhCLEtBQUttNkQsR0FBYyxJQUdyQ0QsRUFBYS9yRixLQUFLMkwsTUFBTW9nRixHQUN4QkMsRUFBYWhzRixLQUFLMkwsTUFBTXFnRixJQUVyQixHQUF3Qi8wQyxFQUFHODBDLEVBQVlDLEVBQVk5QixJQWlCOURLLEVBQVNsNUYsVUFBVWs2Rix1QkFBeUIsU0FBVTFsRixFQUFHQyxFQUFHbXhDLEVBQUd5MEMsRUFBMkJ4QixHQUN0RixJQUFJeHBCLEVBQVNqdkUsS0FBS2k1QixVQUFVdXNCLEdBQ3hCcnVDLEVBQWFuWCxLQUFLeW5ELGNBQWNqQyxHQUNoQzR6QyxHQUFXLFNBQU9wNUYsS0FBSzgxRixZQUFZdHdDLEdBQUl4bEQsS0FBS3M1RixVQUM1Q1ksRUFBVUQsRUFBNEIsR0FBTSxFQUM1Q0UsRUFBVUYsRUFBNEIsR0FBTSxFQUM1Q0csRUFBYzdyRixLQUFLMkwsT0FBTzlGLEVBQUk2NkQsRUFBTyxJQUFNOTNELEVBQWEraUYsR0FDeERHLEVBQWM5ckYsS0FBSzJMLE9BQU8rMEQsRUFBTyxHQUFLNTZELEdBQUs4QyxFQUFhZ2pGLEdBQ3hERyxFQUFhRixFQUFjaEIsRUFBUyxHQUNwQ21CLEVBQWFGLEVBQWNqQixFQUFTLEdBU3hDLE9BUklhLEdBQ0FLLEVBQWEvckYsS0FBSzZ4QixLQUFLazZELEdBQWMsRUFDckNDLEVBQWFoc0YsS0FBSzZ4QixLQUFLbTZELEdBQWMsSUFHckNELEVBQWEvckYsS0FBSzJMLE1BQU1vZ0YsR0FDeEJDLEVBQWFoc0YsS0FBSzJMLE1BQU1xZ0YsSUFFckIsR0FBd0IvMEMsRUFBRzgwQyxFQUFZQyxFQUFZOUIsSUFVOURLLEVBQVNsNUYsVUFBVWtsRSx5QkFBMkIsU0FBVXJ3RCxFQUFZK3dDLEVBQUdpekMsR0FDbkUsT0FBT3o0RixLQUFLODVGLHVCQUF1QnJsRixFQUFXLEdBQUlBLEVBQVcsR0FBSSt3QyxHQUFHLEVBQU9pekMsSUFNL0VLLEVBQVNsNUYsVUFBVTQ2Rix1QkFBeUIsU0FBVXg3QixHQUNsRCxPQUFPaC9ELEtBQUt3bUQsYUFBYXdZLEVBQVUsS0FVdkM4NUIsRUFBU2w1RixVQUFVazJGLFlBQWMsU0FBVXR3QyxHQUN2QyxPQUFJeGxELEtBQUttNUYsVUFDRW41RixLQUFLbTVGLFVBR0xuNUYsS0FBS2k1RixXQUFXenpDLElBTy9Cc3pDLEVBQVNsNUYsVUFBVTY2RixpQkFBbUIsU0FBVWoxQyxHQUM1QyxPQUFLeGxELEtBQUtxNUYsZ0JBTUNyNUYsS0FBS3E1RixnQkFBZ0I3ekMsR0FMckJ4bEQsS0FBS29kLFFBQ05wZCxLQUFLbWpFLDBCQUEwQm5qRSxLQUFLb2QsUUFBU29vQyxHQUM3QyxNQWNkc3pDLEVBQVNsNUYsVUFBVWtqRSxrQkFBb0IsU0FBVTNyRCxFQUFZZzJDLEdBQ3pELElBQUkzSCxHQUFJLFNBQWtCeGxELEtBQUt3bUQsYUFBY3J2QyxFQUFZZzJDLEdBQWlCLEdBQzFFLE9BQU8sUUFBTTNILEVBQUd4bEQsS0FBS293QyxRQUFTcHdDLEtBQUtxd0MsVUFNdkN5b0QsRUFBU2w1RixVQUFVNjVGLHFCQUF1QixTQUFVNWxGLEdBR2hELElBRkEsSUFBSW5TLEVBQVMxQixLQUFLd21ELGFBQWE5a0QsT0FDM0JnNUYsRUFBaUIsSUFBSWg3RixNQUFNZ0MsR0FDdEI4akQsRUFBSXhsRCxLQUFLb3dDLFFBQVNvVixFQUFJOWpELElBQVU4akQsRUFDckNrMUMsRUFBZWwxQyxHQUFLeGxELEtBQUttakUsMEJBQTBCdHZELEVBQVEyeEMsR0FFL0R4bEQsS0FBS3E1RixnQkFBa0JxQixHQUVwQjVCLEVBeGNrQixHQ3JDdEIsU0FBUzZCLEdBQWlCOWdGLEdBQzdCLElBQUlvUyxFQUFXcFMsRUFBV2tTLHFCQUsxQixPQUpLRSxJQUNEQSxFQTBHRCxTQUE2QnBTLEVBQVkrZ0YsRUFBYUMsRUFBY0MsR0FFdkUsT0ExRUcsU0FBeUJqbkYsRUFBUSttRixFQUFhQyxFQUFjQyxHQUMvRCxJQUFJOWpGLEVBQWlEK2pGLEdBQUEsV0FDakQxMUMsRUFBYzIxQyxHQUFzQm5uRixFQXdFVCttRixVQXhFOEJDLEdBQzdELE9BQU8sSUFBSSxHQUFTLENBQ2hCaG5GLE9BQVFBLEVBQ1JvN0QsUUFBUSxRQUFVcDdELEVBQVFtRCxHQUMxQnF1QyxZQUFhQSxFQUNiK3pDLFNBQVV5QixJQW1FUEksQ0FETUMsR0FBcUJyaEYsR0EzR25Cc2hGLFdBQW9CdGhGLEdBQy9CQSxFQUFXbVMsbUJBQW1CQyxJQUUzQkEsRUErRVgsU0FBUyt1RSxHQUFzQm5uRixFQUFRK21GLEVBQWFDLEVBQWNPLEdBVTlELElBVEEsSUFBSS9xRCxPQUEwQmx0QyxJQUFoQnkzRixFQUE0QkEsRXpGOUZoQixHeUYrRnRCbHVGLEdBQVMsUUFBVW1ILEdBQ25CcEgsR0FBUSxRQUFTb0gsR0FDakJ1bEYsR0FBVyxjQUF3QmoyRixJQUFqQjAzRixFQUE2QkEsRXpGNUZ4QixLeUY2RnZCM3FELEVBQWdCa3JELEVBQW9CLEVBQ2xDQSxFQUNBN3NGLEtBQUswSCxJQUFJeEosRUFBUTJzRixFQUFTLEdBQUkxc0YsRUFBUzBzRixFQUFTLElBQ2xEMTNGLEVBQVMydUMsRUFBVSxFQUNuQmdWLEVBQWMsSUFBSTNsRCxNQUFNZ0MsR0FDbkI4akQsRUFBSSxFQUFHQSxFQUFJOWpELElBQVU4akQsRUFDMUJILEVBQVlHLEdBQUt0VixFQUFnQjNoQyxLQUFLQyxJQUFJLEVBQUdnM0MsR0FFakQsT0FBT0gsRUFxQkosU0FBUzYxQyxHQUFxQnJoRixHQUVqQyxJQUFJaEcsR0FESmdHLEdBQWEsU0FBY0EsSUFDSEUsWUFDeEIsSUFBS2xHLEVBQVEsQ0FDVCxJQUFJd25GLEVBQVEsSUFBTSxNQUFnQm44RSxHQUFBLFdBQWtCckYsRUFBVzhSLG1CQUMvRDlYLEdBQVMsU0FBZ0J3bkYsR0FBT0EsRUFBTUEsRUFBTUEsR0FFaEQsT0FBT3huRixFQzdJWCxJQUFJLEdBQXdDLFdBQ3hDLElBQUkxVSxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQWlEeEN1N0YsR0FBNEIsU0FBVW43RixHQUt0QyxTQUFTbTdGLEVBQVdsNkYsR0FDaEIsSUFBSWQsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTSxDQUMxQm8xRCxhQUFjaDBELEVBQVFnMEQsYUFDdEJpMEIsd0JBQXlCam9GLEVBQVFpb0Ysd0JBQ2pDeHZFLFdBQVl6WSxFQUFReVksV0FDcEI4MkIsTUFBT3Z2QyxFQUFRdXZDLE1BQ2YvMkIsTUFBT3hZLEVBQVF3WSxTQUNiNVosS0FLTk0sRUFBTWk3RixhQUE2QnA0RixJQUFuQi9CLEVBQVFvNkYsUUFBdUJwNkYsRUFBUW82RixPQUt2RGw3RixFQUFNbTdGLHFCQUN5QnQ0RixJQUEzQi9CLEVBQVE0aEUsZUFBK0I1aEUsRUFBUTRoRSxlQUFpQixFQUtwRTFpRSxFQUFNMnJCLGNBQWdDOW9CLElBQXJCL0IsRUFBUTZxQixTQUF5QjdxQixFQUFRNnFCLFNBQVcsS0FDckUsSUFDSUEsRUFBVzdxQixFQUFRNnFCLFNBZ0N2QixPQS9CSUEsSUFDQSxTQUFPQSxFQUFTNnBFLFlBQVk3cEUsRUFBU2lsQixjQUgxQixDQUFDLElBQUssTUFTckI1d0MsRUFBTW83RixVQUFZLElBQUksR0FBVXQ2RixFQUFRaUksV0FBYSxHQUtyRC9JLEVBQU1xN0YsUUFBVSxDQUFDLEVBQUcsR0FLcEJyN0YsRUFBTTYzRixLQUFPLzJGLEVBQVE2RCxLQUFPLEdBSzVCM0UsRUFBTXM3RixZQUFjLENBQUVsMkIsV0FBWXRrRSxFQUFRc2tFLFlBUTFDcGxFLEVBQU15aUUsV0FBYTNoRSxFQUFRMmhFLFdBQWEzaEUsRUFBUTJoRSxXQUFhLEVBQ3REemlFLEVBZ05YLE9BN1FBLEdBQVVnN0YsRUFBWW43RixHQWtFdEJtN0YsRUFBVzE3RixVQUFVaXdDLGVBQWlCLFdBQ2xDLE9BQU83dkMsS0FBSzA3RixVQUFVN3JELGtCQU0xQnlyRCxFQUFXMTdGLFVBQVUybUUsWUFBYyxTQUFVMXNELEVBQVlxNUMsR0FDckQsSUFBSXdvQyxFQUFZMTdGLEtBQUs2N0YsMEJBQTBCaGlGLEdBQzNDNmhGLEdBQ0FBLEVBQVVuMUIsWUFBWXJULElBWTlCb29DLEVBQVcxN0YsVUFBVXUvRCxrQkFBb0IsU0FBVXRsRCxFQUFZMnJDLEVBQUcwWixFQUFXL29ELEdBQ3pFLElBQUl1bEYsRUFBWTE3RixLQUFLNjdGLDBCQUEwQmhpRixHQUMvQyxJQUFLNmhGLEVBQ0QsT0FBTyxFQUlYLElBRkEsSUFDSXAvQyxFQUFNK29CLEVBQWN5MkIsRUFEcEJsNEIsR0FBVSxFQUVMeHZELEVBQUk4cUQsRUFBVW5xRCxLQUFNWCxHQUFLOHFELEVBQVVqcUQsT0FBUWIsRUFDaEQsSUFBSyxJQUFJQyxFQUFJNnFELEVBQVVscUQsS0FBTVgsR0FBSzZxRCxFQUFVaHFELE9BQVFiLEVBQ2hEZ3hELEVBQWVxekIsR0FBVWx6QyxFQUFHcHhDLEVBQUdDLEdBQy9CeW5GLEdBQVMsRUFDTEosRUFBVTFELFlBQVkzeUIsS0FFdEJ5MkIsRTdGOUlSLEs2RjZJUXgvQyxFQUFxRG8vQyxFQUFVbDVGLElBQUk2aUUsSUFDckQ1eUIsY0FFVnFwRCxHQUE0QixJQUFuQjNsRixFQUFTbW1DLElBR3JCdy9DLElBQ0RsNEIsR0FBVSxHQUl0QixPQUFPQSxHQU1YMDNCLEVBQVcxN0YsVUFBVXVsRSx1QkFBeUIsU0FBVXRyRCxHQUNwRCxPQUFPLEdBT1h5aEYsRUFBVzE3RixVQUFVMHZDLE9BQVMsV0FDMUIsT0FBT3R2QyxLQUFLbTRGLE1BT2hCbUQsRUFBVzE3RixVQUFVbThGLE9BQVMsU0FBVTkyRixHQUNoQ2pGLEtBQUttNEYsT0FBU2x6RixJQUNkakYsS0FBS200RixLQUFPbHpGLEVBQ1pqRixLQUFLd0csWUFPYjgwRixFQUFXMTdGLFVBQVV5a0UsVUFBWSxTQUFVeHFELEdBQ3ZDLE9BQU83WixLQUFLdTdGLFNBS2hCRCxFQUFXMTdGLFVBQVVxcUQsZUFBaUIsV0FDbEMsT0FBT2pxRCxLQUFLaXNCLFNBQVNnK0Isa0JBV3pCcXhDLEVBQVcxN0YsVUFBVTBpRSxRQUFVLFNBQVU5YyxFQUFHcHhDLEVBQUdDLEVBQUdxa0IsRUFBWTdlLEdBQzFELE9BQU8sV0FPWHloRixFQUFXMTdGLFVBQVVvOEYsWUFBYyxXQUMvQixPQUFPaDhGLEtBQUtpc0IsVUFNaEJxdkUsRUFBVzE3RixVQUFVaWpFLHlCQUEyQixTQUFVaHBELEdBQ3RELE9BQUs3WixLQUFLaXNCLFNBSUNqc0IsS0FBS2lzQixTQUhMLEdBQXlCcFMsSUFXeEN5aEYsRUFBVzE3RixVQUFVaThGLDBCQUE0QixTQUFVaGlGLEdBR3ZELE9BRkEsUUFBTyxTQUFXN1osS0FBSzZuRCxnQkFBaUJodUMsR0FBYSxJQUU5QzdaLEtBQUswN0YsV0FTaEJKLEVBQVcxN0YsVUFBVXFqRSxrQkFBb0IsU0FBVXZxQyxHQUMvQyxPQUFPMTRCLEtBQUt5N0YsaUJBUWhCSCxFQUFXMTdGLFVBQVU2a0UsaUJBQW1CLFNBQVVqZixFQUFHOXNCLEVBQVk3ZSxHQUM3RCxJQUFJb1MsRUFBV2pzQixLQUFLNmlFLHlCQUF5QmhwRCxHQUN6Q21wRCxFQUFpQmhqRSxLQUFLaWpFLGtCQUFrQnZxQyxHQUN4QzBnRSxHQUFXLFNBQU9udEUsRUFBUzZwRSxZQUFZdHdDLEdBQUl4bEQsS0FBSzI3RixTQUNwRCxPQUFzQixHQUFsQjM0QixFQUNPbzJCLEdBR0EsU0FBVUEsRUFBVXAyQixFQUFnQmhqRSxLQUFLMjdGLFVBWXhETCxFQUFXMTdGLFVBQVVxOEYsK0JBQWlDLFNBQVVqOUIsRUFBVzN2QyxHQUN2RSxJQUFJeFYsT0FBZ0MxVyxJQUFuQmtzQixFQUErQkEsRUFBaUJydkIsS0FBSzZuRCxnQkFDbEU1N0IsRUFBV2pzQixLQUFLNmlFLHlCQUF5QmhwRCxHQUk3QyxPQUhJN1osS0FBSzYwQyxZQUFjaDdCLEVBQVdnUyxhQUM5Qm16QyxFRC9QTCxTQUFlL3lDLEVBQVUreUMsRUFBV25sRCxHQUN2QyxJQUFJMnJDLEVBQUl3WixFQUFVLEdBQ2Q5bkQsRUFBUytVLEVBQVN5NkMsbUJBQW1CMUgsR0FDckNsbEQsRUFBbUJvaEYsR0FBcUJyaEYsR0FDNUMsSUFBSyxRQUFtQkMsRUFBa0I1QyxHQU90QyxPQUFPOG5ELEVBTlAsSUFBSS9rRCxHQUFhLFFBQVNILEdBQ3RCMjVCLEVBQWFsbEMsS0FBSzZ4QixNQUFNdG1CLEVBQWlCLEdBQUs1QyxFQUFPLElBQU0rQyxHQUUvRCxPQURBL0MsRUFBTyxJQUFNK0MsRUFBYXc1QixFQUNuQnhuQixFQUFTNjRDLHlCQUF5QjV0RCxFQUFRc3VDLEdDdVBqQyxDQUFNdjVCLEVBQVUreUMsRUFBV25sRCxJSjVONUMsU0FBMEJtbEQsRUFBVy95QyxHQUN4QyxJQUFJdTVCLEVBQUl3WixFQUFVLEdBQ2Q1cUQsRUFBSTRxRCxFQUFVLEdBQ2QzcUQsRUFBSTJxRCxFQUFVLEdBQ2xCLEdBQUkveUMsRUFBU2lsQixhQUFlc1UsR0FBS0EsRUFBSXY1QixFQUFTa2xCLGFBQzFDLE9BQU8sRUFFWCxJQUFJK3RCLEVBQVlqekMsRUFBU3d1RSxpQkFBaUJqMUMsR0FDMUMsT0FBSzBaLEdBSU1BLEVBQVV4cUQsV0FBV04sRUFBR0MsR0lrTnhCNm5GLENBQWlCbDlCLEVBQVcveUMsR0FBWSt5QyxFQUFZLE1BTS9EczhCLEVBQVcxN0YsVUFBVWlDLE1BQVEsV0FDekI3QixLQUFLMDdGLFVBQVU3NUYsU0FFbkJ5NUYsRUFBVzE3RixVQUFVMnBGLFFBQVUsV0FDM0J2cEYsS0FBSzZCLFFBQ0wxQixFQUFPUCxVQUFVMnBGLFFBQVF6cEYsS0FBS0UsT0FPbENzN0YsRUFBVzE3RixVQUFVZ25FLGdCQUFrQixTQUFVSCxFQUFXNXNELEdBQ3hELElBQUk2aEYsRUFBWTE3RixLQUFLNjdGLDBCQUEwQmhpRixHQUMzQzRzRCxFQUFZaTFCLEVBQVUvRCxnQkFDdEIrRCxFQUFVL0QsY0FBZ0JseEIsSUFXbEM2MEIsRUFBVzE3RixVQUFVK21FLFFBQVUsU0FBVW5oQixFQUFHcHhDLEVBQUdDLEVBQUd3RixLQUMzQ3loRixFQTlRb0IsQ0ErUTdCLElBTUVhLEdBQWlDLFNBQVVoOEYsR0FNM0MsU0FBU2c4RixFQUFnQnY3RixFQUFNMDdDLEdBQzNCLElBQUloOEMsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTVksSUFBU1osS0FPdkMsT0FEQU0sRUFBTWc4QyxLQUFPQSxFQUNOaDhDLEVBRVgsT0FmQSxHQUFVNjdGLEVBQWlCaDhGLEdBZXBCZzhGLEVBaEJ5QixDQWlCbEN6bUQsRUFBQSxJQUVGLFlDOVVPLFNBQVMwbUQsR0FBbUJDLEVBQVVwd0UsR0FDekMsSUFBSXF3RSxFQUFTLFNBQ1RDLEVBQVMsU0FDVEMsRUFBUyxTQUNUQyxFQUFhLFVBQ2pCLE9BQU8sU0FPR3o5QixFQUFXdG1DLEVBQVk3ZSxHQUM3QixPQUFLbWxELEVBSU1xOUIsRUFDRjd0RSxRQUFROHRFLEVBQVF0OUIsRUFBVSxHQUFHNzFELFlBQzdCcWxCLFFBQVErdEUsRUFBUXY5QixFQUFVLEdBQUc3MUQsWUFDN0JxbEIsUUFBUWd1RSxFQUFReDlCLEVBQVUsR0FBRzcxRCxZQUM3QnFsQixRQUFRaXVFLEdBQVksV0FDckIsSUFBSWozQyxFQUFJd1osRUFBVSxHQUNkNlQsRUFBUTVtRCxFQUFTd3VFLGlCQUFpQmoxQyxHQUd0QyxPQUZBLE9BQU9xdEIsRUFBTyxLQUNOQSxFQUFNaDhELFlBQWNtb0QsRUFBVSxHQUFLLEdBQ2xDNzFELG1CQVpiLEdDekJaLElBQUksR0FBd0MsV0FDeEMsSUFBSWhLLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBb081QyxTQXJMNkIsU0FBVUksR0FLbkMsU0FBU3U4RixFQUFRdDdGLEdBQ2IsSUFBSWQsRUFBUUgsRUFBT0wsS0FBS0UsS0FBTSxDQUMxQm8xRCxhQUFjaDBELEVBQVFnMEQsYUFDdEIvckQsVUFBV2pJLEVBQVFpSSxVQUNuQm15RixPQUFRcDZGLEVBQVFvNkYsT0FDaEIzaEYsV0FBWXpZLEVBQVF5WSxXQUNwQjgyQixNQUFPdnZDLEVBQVF1dkMsTUFDZjFrQixTQUFVN3FCLEVBQVE2cUIsU0FDbEIrMkMsZUFBZ0I1aEUsRUFBUTRoRSxlQUN4QnBwRCxNQUFPeFksRUFBUXdZLE1BQ2Y4ckQsV0FBWXRrRSxFQUFRc2tFLFdBQ3BCemdFLElBQUs3RCxFQUFRNkQsSUFDYm9rRix3QkFBeUJqb0YsRUFBUWlvRix3QkFDakN0bUIsV0FBWTNoRSxFQUFRMmhFLGNBQ2xCL2lFLEtBK0JOLE9BMUJBTSxFQUFNcThGLHlCQUNGcjhGLEVBQU1zOEYsa0JBQW9CRixFQUFROThGLFVBQVVnOUYsZ0JBS2hEdDhGLEVBQU1tdkYsaUJBQW1CcnVGLEVBQVFxdUYsaUJBQzdCcnVGLEVBQVF3N0Ysa0JBQ1J0OEYsRUFBTXM4RixnQkFBa0J4N0YsRUFBUXc3RixpQkFNcEN0OEYsRUFBTXU4RixLQUFPLEtBQ1R6N0YsRUFBUXk3RixLQUNSdjhGLEVBQU13OEYsUUFBUTE3RixFQUFReTdGLE1BRWpCejdGLEVBQVE2cUMsS0FDYjNyQyxFQUFNMHVGLE9BQU81dEYsRUFBUTZxQyxLQU16QjNyQyxFQUFNeThGLGlCQUFtQixHQUNsQno4RixFQWlJWCxPQWxMQSxHQUFVbzhGLEVBQVN2OEYsR0F3RG5CdThGLEVBQVE5OEYsVUFBVW85RixvQkFBc0IsV0FDcEMsT0FBT2g5RixLQUFLeXZGLGtCQU9oQmlOLEVBQVE5OEYsVUFBVXE5RixtQkFBcUIsV0FDbkMsT0FBTzE5RixPQUFPMjlGLGVBQWVsOUYsTUFBTTQ4RixrQkFBb0I1OEYsS0FBSzQ4RixnQkFDdEQ1OEYsS0FBSzQ4RixnQkFBZ0I3dEYsS0FBSy9PLE1BQzFCQSxLQUFLNDhGLGlCQVNmRixFQUFROThGLFVBQVV1OUYsUUFBVSxXQUN4QixPQUFPbjlGLEtBQUs2OEYsTUFPaEJILEVBQVE5OEYsVUFBVW84QyxpQkFBbUIsU0FBVS9xQyxHQUMzQyxJQUdJclEsRUFIQTA3QyxFQUFvRHJyQyxFQUFZLE9BQ2hFc3lELEdBQU0sUUFBT2puQixHQUNiK2xCLEVBQVkvbEIsRUFBSzdKLFcvRi9IaEIsRytGaUlENHZCLEdBQ0FyaUUsS0FBSys4RixpQkFBaUJ4NUIsSUFBTyxFQUM3QjNpRSxFQy9ITyxpQkRpSUYyaUUsS0FBT3ZqRSxLQUFLKzhGLDBCQUNWLzhGLEtBQUsrOEYsaUJBQWlCeDVCLEdBQzdCM2lFLEUvRmpJRCxHK0ZrSUt5aEUsRUN2SEcsZ0JoR2hCUCxHK0Z5SVVBLEVDL0hMLG1CRGlJU2wvRCxHQUVOQSxNQUFSdkMsR0FDQVosS0FBSzRDLGNBQWMsSUFBSXU1RixHQUFnQnY3RixFQUFNMDdDLEtBUXJEb2dELEVBQVE5OEYsVUFBVXc5RixvQkFBc0IsU0FBVTNOLEdBQzlDenZGLEtBQUswN0YsVUFBVTc1RixRQUNmN0IsS0FBS3l2RixpQkFBbUJBLEVBQ3hCenZGLEtBQUt3RyxXQVFUazJGLEVBQVE5OEYsVUFBVXk5RixtQkFBcUIsU0FBVVQsRUFBaUIzM0YsR0FDOURqRixLQUFLNDhGLGdCQUFrQkEsRUFDdkI1OEYsS0FBSzA3RixVQUFVOUMsMEJBQ0ksSUFBUjN6RixFQUNQakYsS0FBSys3RixPQUFPOTJGLEdBR1pqRixLQUFLd0csV0FRYmsyRixFQUFROThGLFVBQVVvdkYsT0FBUyxTQUFVL2lELEdBQ2pDLElBQUk0d0QsRUQ1RkwsU0FBbUI1d0QsR0FDdEIsSUFBSTR3RCxFQUFPLEdBQ1BseEYsRUFBUSxzQkFBc0JqQyxLQUFLdWlDLEdBQ3ZDLEdBQUl0Z0MsRUFBTyxDQUVQLElBQUkyeEYsRUFBZ0IzeEYsRUFBTSxHQUFHdXVELFdBQVcsR0FDcENxakMsRUFBZTV4RixFQUFNLEdBQUd1dUQsV0FBVyxHQUNuQ0QsT0FBVyxFQUNmLElBQUtBLEVBQVdxakMsRUFBZXJqQyxHQUFZc2pDLElBQWdCdGpDLEVBQ3ZENGlDLEVBQUszNkYsS0FBSytwQyxFQUFJemQsUUFBUTdpQixFQUFNLEdBQUlpMEIsT0FBT3MyQyxhQUFhamMsS0FFeEQsT0FBTzRpQyxFQUdYLEdBREFseEYsRUFBUSxrQkFBa0JqQyxLQUFLdWlDLEdBQ3BCLENBR1AsSUFEQSxJQUFJdXhELEVBQVNsekYsU0FBU3FCLEVBQU0sR0FBSSxJQUN2Qm5LLEVBQUk4SSxTQUFTcUIsRUFBTSxHQUFJLElBQUtuSyxHQUFLZzhGLEVBQVFoOEYsSUFDOUNxN0YsRUFBSzM2RixLQUFLK3BDLEVBQUl6ZCxRQUFRN2lCLEVBQU0sR0FBSW5LLEVBQUUySCxhQUV0QyxPQUFPMHpGLEVBR1gsT0FEQUEsRUFBSzM2RixLQUFLK3BDLEdBQ0g0d0QsRUNxRVFZLENBQVV4eEQsR0FDckJqc0MsS0FBSzY4RixLQUFPQSxFQUNaNzhGLEtBQUs4OEYsUUFBUUQsSUFPakJILEVBQVE5OEYsVUFBVWs5RixRQUFVLFNBQVVELEdBQ2xDNzhGLEtBQUs2OEYsS0FBT0EsRUFDWixJQUFJNTNGLEVBQU00M0YsRUFBS3R4RixLQUFLLE1BQ2hCdkwsS0FBSzI4Rix5QkFDTDM4RixLQUFLcTlGLG1CRHhKVixTQUE2QkssRUFBV3p4RSxHQUczQyxJQUZBLElBQUlwbEIsRUFBTTYyRixFQUFVaDhGLE9BQ2hCaThGLEVBQW1CLElBQUlqK0YsTUFBTW1ILEdBQ3hCckYsRUFBSSxFQUFHQSxFQUFJcUYsSUFBT3JGLEVBQ3ZCbThGLEVBQWlCbjhGLEdBQUs0NkYsR0FBbUJzQixFQUFVbDhGLEdBQUl5cUIsR0FFM0QsT0FNRyxTQUFvQzB4RSxHQUN2QyxPQUFnQyxJQUE1QkEsRUFBaUJqOEYsT0FDVmk4RixFQUFpQixHQUVyQixTQU9HMytCLEVBQVd0bUMsRUFBWTdlLEdBQzdCLEdBQUttbEQsRUFHQSxDQUNELElBQUk3cEMsRUxuQlQsU0FBYzZwQyxHQUNqQixPQUFRQSxFQUFVLElBQU1BLEVBQVUsSUFBTUEsRUFBVSxHS2tCbEMsQ0FBY0EsR0FDbEJoK0QsR0FBUSxRQUFPbTBCLEVBQUd3b0UsRUFBaUJqOEYsUUFDdkMsT0FBT2k4RixFQUFpQjM4RixHQUFPZytELEVBQVd0bUMsRUFBWTdlLEtBeEJ2RCtqRixDQUEyQkQsR0NrSkZFLENBQW9CaEIsRUFBTTc4RixLQUFLaXNCLFVBQVdobkIsR0FHbEVqRixLQUFLKzdGLE9BQU85MkYsSUFTcEJ5M0YsRUFBUTk4RixVQUFVZzlGLGdCQUFrQixTQUFVNTlCLEVBQVd0bUMsRUFBWTdlLEtBU3JFNmlGLEVBQVE5OEYsVUFBVSttRSxRQUFVLFNBQVVuaEIsRUFBR3B4QyxFQUFHQyxHQUN4QyxJQUFJZ3hELEVBQWVxekIsR0FBVWx6QyxFQUFHcHhDLEVBQUdDLEdBQy9CclUsS0FBSzA3RixVQUFVMUQsWUFBWTN5QixJQUMzQnJsRSxLQUFLMDdGLFVBQVVsNUYsSUFBSTZpRSxJQUdwQnEzQixFQW5MaUIsQ0FvTDFCLElFbk9GLElBQUksR0FBd0MsV0FDeEMsSUFBSXY5RixFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQkksT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQzNFTixFQUFHQyxJQUU1QixPQUFPLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNTLElBQU9DLEtBQUtDLFlBQWNaLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRU8sVUFBa0IsT0FBTk4sRUFBYUMsT0FBT1csT0FBT1osSUFBTVMsRUFBR0gsVUFBWU4sRUFBRU0sVUFBVyxJQUFJRyxJQVYzQyxHQXdhNUMsU0FBUys5RixHQUF3QkMsRUFBV3B4RCxHQUNVb3hELEVBQVV0bEUsV0FBWWtVLElBQU1BLEVBRWxGLFNBNVYrQixTQUFVeHNDLEdBS3JDLFNBQVM2OUYsRUFBVTU4RixHQUNmLElBQUlkLEVBQVFILEVBQU9MLEtBQUtFLEtBQU0sQ0FDMUJvMUQsYUFBY2gwRCxFQUFRZzBELGFBQ3RCL3JELFVBQVdqSSxFQUFRaUksVUFDbkJteUYsT0FBUXA2RixFQUFRbzZGLE9BQ2hCM2hGLFdBQVl6WSxFQUFReVksV0FDcEI4MkIsTUFBT3Z2QyxFQUFRdXZDLE1BQ2Yxa0IsU0FBVTdxQixFQUFRNnFCLFNBQ2xCd2pFLGlCQUFrQnJ1RixFQUFRcXVGLGlCQUNwQnJ1RixFQUFRcXVGLGlCQUNScU8sR0FDTjk2QixlQUFnQjVoRSxFQUFRNGhFLGVBQ3hCNDVCLGdCQUFpQng3RixFQUFRdzdGLGdCQUN6QjN3RCxJQUFLN3FDLEVBQVE2cUMsSUFDYjR3RCxLQUFNejdGLEVBQVF5N0YsS0FDZGpqRixNQUFPeFksRUFBUXdZLE1BQ2Y4ckQsV0FBWXRrRSxFQUFRc2tFLFdBQ3BCemdFLElBQUs3RCxFQUFRNkQsSUFDYm9rRix3QkFBeUJqb0YsRUFBUWlvRix3QkFDakN0bUIsV0FBWTNoRSxFQUFRMmhFLGNBQ2xCL2lFLEtBdUNOLE9BbENBTSxFQUFNaXZDLGlCQUNzQnBzQyxJQUF4Qi9CLEVBQVFtdUMsWUFBNEJudUMsRUFBUW11QyxZQUFjLEtBSzlEanZDLEVBQU0yOUYsZUFDb0I5NkYsSUFBdEIvQixFQUFRNjhGLFVBQTBCNzhGLEVBQVE2OEYsVUFBWSxHQUsxRDM5RixFQUFNNDlGLHVCQUF5QixHQUsvQjU5RixFQUFNNjlGLHNCQUF3QixHQUs5Qjc5RixFQUFNODlGLDRCQUE4Qmg5RixFQUFRaTlGLDJCQUs1Qy85RixFQUFNcTBGLGlCQUN5QixJQUEzQnZ6RixFQUFRazlGLGVBQTJCakwsUUFBMkJsd0YsRUFLbEU3QyxFQUFNaStGLDBCQUEyQixFQUMxQmorRixFQW1SWCxPQWxWQSxHQUFVMDlGLEVBQVc3OUYsR0FvRXJCNjlGLEVBQVVwK0YsVUFBVWl3QyxlQUFpQixXQUlqQyxHQUFJN3ZDLEtBQUswN0YsVUFBVTdyRCxpQkFDZixPQUFPLEVBR1AsSUFBSyxJQUFJNXFDLEtBQU9qRixLQUFLaytGLHVCQUNqQixHQUFJbCtGLEtBQUtrK0YsdUJBQXVCajVGLEdBQUs0cUMsaUJBQ2pDLE9BQU8sRUFJbkIsT0FBTyxHQU1YbXVELEVBQVVwK0YsVUFBVTJtRSxZQUFjLFNBQVUxc0QsRUFBWXE1QyxHQUtwRCxJQUFJc3JDLEVBQWdCeCtGLEtBQUs2N0YsMEJBQTBCaGlGLEdBRW5ELElBQUssSUFBSTJMLEtBRFR4bEIsS0FBSzA3RixVQUFVbjFCLFlBQVl2bUUsS0FBSzA3RixXQUFhOEMsRUFBZ0J0ckMsRUFBWSxJQUMxRGx6RCxLQUFLaytGLHVCQUF3QixDQUN4QyxJQUFJeEMsRUFBWTE3RixLQUFLaytGLHVCQUF1QjE0RSxHQUM1Q2syRSxFQUFVbjFCLFlBQVltMUIsR0FBYThDLEVBQWdCdHJDLEVBQVksTUFNdkU4cUMsRUFBVXArRixVQUFVb2tFLGtCQUFvQixXQUNwQyxPQUFPaGtFLEtBQUsyMEYsaUJBTWhCcUosRUFBVXArRixVQUFVdWxFLHVCQUF5QixTQUFVdHJELEdBQ25ELE9BQ0k3WixLQUFLNm5ELGlCQUNMaHVDLEtBQ0MsU0FBVzdaLEtBQUs2bkQsZ0JBQWlCaHVDLEdBQzNCLEVBR0E3WixLQUFLeStGLGFBTXBCVCxFQUFVcCtGLFVBQVU2K0YsVUFBWSxXQUM1QixPQUFPLEdBT1hULEVBQVVwK0YsVUFBVTB2QyxPQUFTLFdBQ3pCLE9BQVFudkMsRUFBT1AsVUFBVTB2QyxPQUFPeHZDLEtBQUtFLE9BQ2hDQSxLQUFLMjBGLGdCQUFrQixLQUFPK0osS0FBS0MsVUFBVTMrRixLQUFLMjBGLGlCQUFtQixLQU05RXFKLEVBQVVwK0YsVUFBVXlrRSxVQUFZLFNBQVV4cUQsR0FDdEMsUUFDSTdaLEtBQUs2bkQsaUJBQ0xodUMsS0FDQyxTQUFXN1osS0FBSzZuRCxnQkFBaUJodUMsS0FJM0IxWixFQUFPUCxVQUFVeWtFLFVBQVV2a0UsS0FBS0UsS0FBTTZaLElBT3JEbWtGLEVBQVVwK0YsVUFBVWlqRSx5QkFBMkIsU0FBVWhwRCxHQUlyRCxJQUFJK2tGLEVBQVc1K0YsS0FBSzZuRCxnQkFDcEIsSUFBSTduRCxLQUFLaXNCLFVBQWMyeUUsS0FBWSxTQUFXQSxFQUFVL2tGLEdBR25ELENBQ0QsSUFBSWdsRixHQUFVLFFBQU9obEYsR0FJckIsT0FITWdsRixLQUFXNytGLEtBQUttK0Ysd0JBQ2xCbitGLEtBQUttK0Ysc0JBQXNCVSxHQUFXLEdBQXlCaGxGLElBRTVEN1osS0FBS20rRixzQkFBc0JVLEdBUGxDLE9BQU83K0YsS0FBS2lzQixVQWNwQit4RSxFQUFVcCtGLFVBQVVpOEYsMEJBQTRCLFNBQVVoaUYsR0FJdEQsSUFBSStrRixFQUFXNStGLEtBQUs2bkQsZ0JBQ3BCLElBQUsrMkMsSUFBWSxTQUFXQSxFQUFVL2tGLEdBQ2xDLE9BQU83WixLQUFLMDdGLFVBR1osSUFBSW1ELEdBQVUsUUFBT2hsRixHQUlyQixPQUhNZ2xGLEtBQVc3K0YsS0FBS2srRix5QkFDbEJsK0YsS0FBS2srRix1QkFBdUJXLEdBQVcsSUFBSSxHQUFVNytGLEtBQUswN0YsVUFBVS9ELGdCQUVqRTMzRixLQUFLaytGLHVCQUF1QlcsSUFhM0NiLEVBQVVwK0YsVUFBVWsvRixZQUFjLFNBQVV0NUMsRUFBR3B4QyxFQUFHQyxFQUFHcWtCLEVBQVk3ZSxFQUFZNVUsR0FDekUsSUFBSSs1RCxFQUFZLENBQUN4WixFQUFHcHhDLEVBQUdDLEdBQ25CMHFGLEVBQWUvK0YsS0FBS2k4RiwrQkFBK0JqOUIsRUFBV25sRCxHQUM5RG1sRixFQUFVRCxFQUNSLytGLEtBQUs0OEYsZ0JBQWdCbUMsRUFBY3JtRSxFQUFZN2UsUUFDL0MxVyxFQUNGbTVDLEVBQU8sSUFBSXQ4QyxLQUFLaStGLFVBQVVqL0IsT0FBdUI3N0QsSUFBWjY3RixFakd4UnZDLEVBUUMsT2lHZ1I0Rzc3RixJQUFaNjdGLEVBQXdCQSxFQUFVLEdBQUloL0YsS0FBS3V2QyxZQUFhdnZDLEtBQUt5dkYsaUJBQWtCenZGLEtBQUs0N0YsYUFHdkwsT0FGQXQvQyxFQUFLcjNDLElBQU1BLEVBQ1hxM0MsRUFBS2x0QyxpQkFBaUJxekIsRUFBQSxTQUFrQnppQyxLQUFLZzhDLGlCQUFpQmp0QyxLQUFLL08sT0FDNURzOEMsR0FVWDBoRCxFQUFVcCtGLFVBQVUwaUUsUUFBVSxTQUFVOWMsRUFBR3B4QyxFQUFHQyxFQUFHcWtCLEVBQVk3ZSxHQUN6RCxJQUFJZ1csRUFBbUI3dkIsS0FBSzZuRCxnQkFDNUIsR0FDS2g0QixHQUNBaFcsS0FDRCxTQUFXZ1csRUFBa0JoVyxHQUc1QixDQUNELElBQUl6USxFQUFRcEosS0FBSzY3RiwwQkFBMEJoaUYsR0FDdkNtbEQsRUFBWSxDQUFDeFosRUFBR3B4QyxFQUFHQyxHQUNuQmlvQyxPQUFPLEVBQ1Arb0IsRUFBZSxHQUFPckcsR0FDdEI1MUQsRUFBTTR1RixZQUFZM3lCLEtBQ2xCL29CLEVBQU9sekMsRUFBTTVHLElBQUk2aUUsSUFFckIsSUFBSXBnRSxFQUFNakYsS0FBS3N2QyxTQUNmLEdBQUlnTixHQUFRQSxFQUFLcjNDLEtBQU9BLEVBQ3BCLE9BQU9xM0MsRUFHUCxJQUFJNjNDLEVBQWlCbjBGLEtBQUs2aUUseUJBQXlCaHpDLEdBQy9DdWtFLEVBQWlCcDBGLEtBQUs2aUUseUJBQXlCaHBELEdBQy9DdzZFLEVBQW1CcjBGLEtBQUtpOEYsK0JBQStCajlCLEVBQVdubEQsR0FDbEVvbEYsRUFBVSxJQUFJLEdBQVdwdkUsRUFBa0Jza0UsRUFBZ0J0NkUsRUFBWXU2RSxFQUFnQnAxQixFQUFXcTFCLEVBQWtCcjBGLEtBQUtpakUsa0JBQWtCdnFDLEdBQWExNEIsS0FBS3krRixZQUFhLFNBQVVqNUMsRUFBR3B4QyxFQUFHQyxFQUFHcWtCLEdBQzdMLE9BQU8xNEIsS0FBS2svRixnQkFBZ0IxNUMsRUFBR3B4QyxFQUFHQyxFQUFHcWtCLEVBQVk3SSxJQUNuRDlnQixLQUFLL08sTUFBT0EsS0FBS28rRiw0QkFBNkJwK0YsS0FBS3UrRix5QkFBMEJ2K0YsS0FBSzIwRixpQkFVcEYsT0FUQXNLLEVBQVFoNkYsSUFBTUEsRUFDVnEzQyxHQUNBMmlELEVBQVEvUCxZQUFjNXlDLEVBQ3RCMmlELEVBQVEzUCxzQkFDUmxtRixFQUFNb2xCLFFBQVE2MkMsRUFBYzQ1QixJQUc1QjcxRixFQUFNaEcsSUFBSWlpRSxFQUFjNDVCLEdBRXJCQSxFQTlCWCxPQUFPai9GLEtBQUtrL0YsZ0JBQWdCMTVDLEVBQUdweEMsRUFBR0MsRUFBR3FrQixFQUFZN0ksR0FBb0JoVyxJQTJDN0Vta0YsRUFBVXArRixVQUFVcy9GLGdCQUFrQixTQUFVMTVDLEVBQUdweEMsRUFBR0MsRUFBR3FrQixFQUFZN2UsR0FDakUsSUFBSXlpQyxFQUFPLEtBQ1Arb0IsRUFBZXF6QixHQUFVbHpDLEVBQUdweEMsRUFBR0MsR0FDL0JwUCxFQUFNakYsS0FBS3N2QyxTQUNmLEdBQUt0dkMsS0FBSzA3RixVQUFVMUQsWUFBWTN5QixJQU01QixJQURBL29CLEVBQU90OEMsS0FBSzA3RixVQUFVbDVGLElBQUk2aUUsSUFDakJwZ0UsS0FBT0EsRUFBSyxDQUlqQixJQUFJaXFGLEVBQWM1eUMsRUFDbEJBLEVBQU90OEMsS0FBSzgrRixZQUFZdDVDLEVBQUdweEMsRUFBR0MsRUFBR3FrQixFQUFZN2UsRUFBWTVVLEdqR3JXL0QsR2lHdVdVaXFGLEVBQVl6OEMsV0FFWjZKLEVBQUs0eUMsWUFBY0EsRUFBWUEsWUFHL0I1eUMsRUFBSzR5QyxZQUFjQSxFQUV2QjV5QyxFQUFLZ3pDLHNCQUNMdHZGLEtBQUswN0YsVUFBVWx0RSxRQUFRNjJDLEVBQWMvb0IsU0FwQnpDQSxFQUFPdDhDLEtBQUs4K0YsWUFBWXQ1QyxFQUFHcHhDLEVBQUdDLEVBQUdxa0IsRUFBWTdlLEVBQVk1VSxHQUN6RGpGLEtBQUswN0YsVUFBVXQ0RixJQUFJaWlFLEVBQWMvb0IsR0FzQnJDLE9BQU9BLEdBT1gwaEQsRUFBVXArRixVQUFVdS9GLDJCQUE2QixTQUFVNW5FLEdBQ3ZELEdBQ0l2M0IsS0FBS3UrRiwwQkFBNEJobkUsRUFEckMsQ0FLQSxJQUFLLElBQUkvUixLQURUeGxCLEtBQUt1K0YseUJBQTJCaG5FLEVBQ2pCdjNCLEtBQUtrK0YsdUJBQ2hCbCtGLEtBQUtrK0YsdUJBQXVCMTRFLEdBQUkzakIsUUFFcEM3QixLQUFLd0csWUFjVHczRixFQUFVcCtGLFVBQVV3L0YseUJBQTJCLFNBQVV2bEYsRUFBWXdsRixHQUU3RCxJQUFJQyxHQUFPLFNBQWN6bEYsR0FDekIsR0FBSXlsRixFQUFNLENBQ04sSUFBSVQsR0FBVSxRQUFPUyxHQUNmVCxLQUFXNytGLEtBQUttK0Ysd0JBQ2xCbitGLEtBQUttK0Ysc0JBQXNCVSxHQUFXUSxLQUsvQ3JCLEVBblZtQixDQW9WNUIsSUNoYUYsSUFBSSxHQUF3QyxXQUN4QyxJQUFJNytGLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBcUg1QyxTQXpDeUIsU0FBVUksR0FLL0IsU0FBU3FiLEVBQUlyYSxHQUNULElBQ0lDLEVBQVVELEdBQWUsR0FDekIwWSxPQUFvQzFXLElBQXZCL0IsRUFBUXlZLFdBQTJCelksRUFBUXlZLFdBQWEsWUFDckVvUyxPQUFnQzlvQixJQUFyQi9CLEVBQVE2cUIsU0FDakI3cUIsRUFBUTZxQixTTlZmLFNBQW1COXFCLEdBQ3RCLElBQUlvK0YsRUFBYXArRixHQUFlLEdBQzVCMFMsRUFBUzByRixFQUFXMXJGLFNBQVUsU0FBYyxhQUFha0csWUFDekR5bEYsRUFBYyxDQUNkM3JGLE9BQVFBLEVBQ1J1OEIsUUFBU212RCxFQUFXbnZELFFBQ3BCZ3BELFNBQVVtRyxFQUFXbkcsU0FDckIvekMsWUFBYTIxQyxHQUFzQm5uRixFQUFRMHJGLEVBQVdsdkQsUUFBU2t2RCxFQUFXbkcsU0FBVW1HLEVBQVdydkQsZ0JBRW5HLE9BQU8sSUFBSSxHQUFTc3ZELEdNRVZDLENBQVUsQ0FDUjVyRixPQUFRcW5GLEdBQXFCcmhGLEdBQzdCcTJCLGNBQWU5dUMsRUFBUTh1QyxjQUN2QkcsUUFBU2p2QyxFQUFRaXZDLFFBQ2pCRCxRQUFTaHZDLEVBQVFndkMsUUFDakJncEQsU0FBVWg0RixFQUFRZzRGLFdBcUIxQixPQW5CUWo1RixFQUFPTCxLQUFLRSxLQUFNLENBQ3RCbzFELGFBQWNoMEQsRUFBUWcwRCxhQUN0Qi9yRCxVQUFXakksRUFBUWlJLFVBQ25Ca21DLFlBQWFudUMsRUFBUW11QyxZQUNyQit1RCxlQUFnQmw5RixFQUFRazlGLGVBQ3hCOUMsT0FBUXA2RixFQUFRbzZGLE9BQ2hCM2hGLFdBQVlBLEVBQ1p3a0YsMkJBQTRCajlGLEVBQVFpOUYsMkJBQ3BDcHlFLFNBQVVBLEVBQ1Z3akUsaUJBQWtCcnVGLEVBQVFxdUYsaUJBQzFCenNCLGVBQWdCNWhFLEVBQVE0aEUsZUFDeEI0NUIsZ0JBQWlCeDdGLEVBQVF3N0YsZ0JBQ3pCM3dELElBQUs3cUMsRUFBUTZxQyxJQUNiNHdELEtBQU16N0YsRUFBUXk3RixLQUNkampGLFdBQXlCelcsSUFBbEIvQixFQUFRd1ksT0FBc0J4WSxFQUFRd1ksTUFDN0M4ckQsV0FBWXRrRSxFQUFRc2tFLFdBQ3BCMmpCLHdCQUF5QmpvRixFQUFRaW9GLHdCQUNqQ3RtQixXQUFZM2hFLEVBQVEyaEUsY0FDbEIvaUUsS0FHVixPQXRDQSxHQUFVd2IsRUFBS3JiLEdBc0NScWIsRUF2Q2EsQ0F3Q3RCLElDcEhGLElBQUksR0FBd0MsV0FDeEMsSUFBSXJjLEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCSSxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0MsT0FBT0ssVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDM0VOLEVBQUdDLElBRTVCLE9BQU8sU0FBVUQsRUFBR0MsR0FFaEIsU0FBU1MsSUFBT0MsS0FBS0MsWUFBY1osRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPVyxPQUFPWixJQUFNUyxFQUFHSCxVQUFZTixFQUFFTSxVQUFXLElBQUlHLElBVjNDLEdBMEY1QyxTQXJDeUIsU0FBVUksR0FLL0IsU0FBU3UvRixFQUFJditGLEdBQ1QsSUFFSWkwRCxFQURBaDBELEVBQVVELEdBQWUsR0FHekJpMEQsT0FEeUJqeUQsSUFBekIvQixFQUFRZzBELGFBQ09oMEQsRUFBUWcwRCxhQUdSLENBN0NGLDRHQStDakIsSUFBSTdsQixPQUFzQ3BzQyxJQUF4Qi9CLEVBQVFtdUMsWUFBNEJudUMsRUFBUW11QyxZQUFjLFlBQ3hFdEQsT0FBc0I5b0MsSUFBaEIvQixFQUFRNnFDLElBQ1o3cUMsRUFBUTZxQyxJQUNSLHVEQWVOLE9BZFE5ckMsRUFBT0wsS0FBS0UsS0FBTSxDQUN0Qm8xRCxhQUFjQSxFQUNkaTBCLHlCQUF5QixFQUN6QmhnRixVQUFXakksRUFBUWlJLFVBQ25Ca21DLFlBQWFBLEVBQ2IrdUQsZUFBZ0JsOUYsRUFBUWs5RixlQUN4Qmp1RCxhQUE2Qmx0QyxJQUFwQi9CLEVBQVFpdkMsUUFBd0JqdkMsRUFBUWl2QyxRQUFVLEdBQzNEbXJELFlBQTJCcjRGLElBQW5CL0IsRUFBUW82RixRQUF1QnA2RixFQUFRbzZGLE9BQy9DNkMsMkJBQTRCajlGLEVBQVFpOUYsMkJBQ3BDNU8saUJBQWtCcnVGLEVBQVFxdUYsaUJBQzFCL3BCLFdBQVl0a0UsRUFBUXNrRSxXQUNwQno1QixJQUFLQSxFQUNMcnlCLE1BQU94WSxFQUFRd1ksU0FDYjVaLEtBR1YsT0FsQ0EsR0FBVTAvRixFQUFLdi9GLEdBa0NSdS9GLEVBbkNhLENBb0N0QixJLDBCQ2hGRixTQUFTN2xFLEdBQVU5NEIsR0FDakIsT0FBTyxRQUFhLENBQ2xCeW9DLFFBQVN6b0MsRUFBUTQrRixRQUFRQyxhQUN6Qm4yRCxVQUFXMW9DLEVBQVE0K0YsUUFBUUUsaUJBQzFCLENBQUM1NkYsRUFBS00sSUFBVUEsSUFHckIsTUFBTXU2RixHQUFTLElBQUlDLGdCQUFnQng5RSxPQUFPb25CLFNBQVNwSixRQUM3Q3kvRCxHQUFjRixHQUFPdDlGLElBQUksV0FDekJ5OUYsR0FBYzE5RSxPQUFPaFYsU0FBV2dWLFFBQVd1OUUsR0FBT0ksSUFBSSxVQUN0RHo0RixHQUFTbUMsU0FBUzRqRCxlQUFlLE9BRXZDLFNBQVMyeUMsR0FBY24wRCxFQUFjbzBELEdBQ25DLE9BQU9OLEdBQU90OUYsSUFBSXdwQyxLQUFVaTBELEdBQWFHLEVBQWMsSUFHekQ3Z0csT0FBTzZxQixPQUFPM2lCLEdBQU9xQyxNQUFPLENBQzFCMkMsTUFBTzB6RixHQUFhLFFBQVMsU0FDN0J6ekYsT0FBUXl6RixHQUFhLFNBQVUsV0FHakMsTUFBTXBnRCxHQUFVaWdELEdBQ1p0QixLQUFLMkIsTUFBTUwsSUFDWHRnRyxNQUFNNGdHLEtBQ04xMkYsU0FBUzIyRixpQkFBc0MsWUFDL0NsRSxJLFFBaENrQnQ3RixFQWdDTixPQUNWNG9DLFVBakNnQjVvQyxFQWlDTXM3RixFQWhDbkIsQ0FDTHp4RixPQUFPN0osRUFBUTQrRixRQUFRbndFLEtBQ3ZCNWtCLE9BQU83SixFQUFRNCtGLFFBQVFhLE9BK0JyQnQzRixNQUFPMndCLEdBQVN3aUUsR0FDaEI3N0YsS0FBNkMsUUFBekMsRUFBRTY3RixFQUFTb0UsUUFBUUMsY0FBYyxnQkFBUSxlQUFFbHNDLFlBQy9DNXFCLEtBQTZDLFFBQXpDLEVBQUV5eUQsRUFBU29FLFFBQVFDLGNBQWMsZ0JBQVEsZUFBRUMsV0FBVSxRQUl6RCxZQUFFQyxHQUFXLGFBQUVDLElDbENkLFNBQXdCcDVGLEVBQXFCczRDLEdBQ2xELE1BQU03b0MsRUFBUzZvQyxFQUFRcitDLE9BQ25CcStDLEVBQVEsR0FBR3BXLFNBQ1gsQ0FBaUIsSUFBaEJwN0IsS0FBS3V5RixTQUFnQyxHQUFoQnZ5RixLQUFLdXlGLFVBRXpCbjJGLEVBQU0sSUFBSSxHQUFJLENBQ2xCbEQsU0FDQWdnQixPQUFRLENBQ04sSUFBSXduRSxHQUFVLENBQ1ovb0YsT0FBUSxJQUFJLE1BR2hCd2MsS0FBTSxJQUFJLEdBQUssQ0FDYnhMLFFBQVEsU0FBV0EsR0FDbkI2NkIsS0FBTWdPLEVBQVFyK0MsT0FBUyxHQUFLLE1BSTFCay9GLEVBQWMsSUFBSUcsR0FBWSxDQUNsQzc2RixPQUFRLElBQUksR0FBYSxDQUN2QnNoQixTQUFVdTRCLEVBQVFwMUMsS0FBSTVDLEdBQVEsSUFBSSxLQUFPQSxPQUUzQytCLE1BQU91ZCxJQUFXLEVBQUEyNUUsR0FBQSxHQUFZMzVFLEtBRzFCdzVFLEVBQWUsSUFBSTk2RSxHQUFBLEVBQU8sQ0FDOUJRLFVBQVcsTUFDWHpjLE1BQU91ZCxJQUFXLEVBQUEyNUUsR0FBQSxHQUFZMzVFLEdBQVMsS0FNekMsT0FIQTFjLEVBQUkwbEQsU0FBU3V3QyxHQUNiajJGLEVBQUl5bEQsZUFBZXl3QyxHQUVaLENBQUVELGNBQWFDLGdCRENjSSxDQUFjeDVGLEdBQVFzNEMsSUFDdERwMUMsR0FBTWsyRixHQUFhNThFLFNBQ25CdkIsR0FBTy9YLEdBQUkyNkIsVUFFakJ1N0QsR0FBYW42RixHQUFHLFVBQVV1SyxJQUN4QixNQUFPaXdGLEdBQVdqd0YsRUFBTTJVLFNBRXhCM1UsRUFBTTJVLFNBQVN6akIsU0FBUzYrRixJQUN0QkEsRUFBT3gyRCxTQUFTNy9CLE9BR2xCc0csRUFBTTRVLFdBQVcxakIsU0FBUzYrRixJQUN4QkEsRUFBT3YyRCxTQUFTOS9CLE9BR2R1MkYsSUFBWUEsRUFBUTcyRCxTQUN0QjNuQixHQUFLa0IsUUFBUSxDQUNYMU0sT0FBUWdxRixFQUFRMStGLElBQUksWUFBWXFhLGlCQUNoQ21HLFNBQVUsU0FLWGk5RSxHQVFIMTlFLE9BQU9uVCxpQkFBaUIsV0FBVzZCLElBQ2YsVUFBZEEsRUFBTWhNLEtBQW1CZ00sRUFBTW1CLFVBQ2pDMHRGLEdBQU9xQixPQUFPLFVBQ2Q1K0UsT0FBT29uQixTQUFTcEosT0FBUyxJQUFJdS9ELFNBVmpDLDhCQUF5QnB4RCxNQUFLLEVBQUcweUQsbUJBQy9CLE1BQU1DLEVBQWN6M0YsU0FBUzRqRCxlQUFlLFlBRTVDNnpDLEVBQVl2M0YsTUFBTW84QixRQUFVLEdBQzVCazdELEVBQWFDLEVBQWdDVCxHQUFhQyxPQUN6RDlmLE1BQU05dUQsUUFBUXpQLFEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpblByb2dyZXNzID0ge307XG52YXIgZGF0YVdlYnBhY2tQcmVmaXggPSBcIm1hcC1tYXJrZXJzOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9XG5cdDtcblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwidmFyIGNyZWF0ZVN0eWxlc2hlZXQgPSAoY2h1bmtJZCwgZnVsbGhyZWYsIHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHR2YXIgbGlua1RhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGxpbmtUYWcucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cdGxpbmtUYWcudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0dmFyIG9uTGlua0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG5cdFx0Ly8gYXZvaWQgbWVtIGxlYWtzLlxuXHRcdGxpbmtUYWcub25lcnJvciA9IGxpbmtUYWcub25sb2FkID0gbnVsbDtcblx0XHRpZiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnKSB7XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHR2YXIgcmVhbEhyZWYgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmhyZWYgfHwgZnVsbGhyZWY7XG5cdFx0XHR2YXIgZXJyID0gbmV3IEVycm9yKFwiTG9hZGluZyBDU1MgY2h1bmsgXCIgKyBjaHVua0lkICsgXCIgZmFpbGVkLlxcbihcIiArIHJlYWxIcmVmICsgXCIpXCIpO1xuXHRcdFx0ZXJyLmNvZGUgPSBcIkNTU19DSFVOS19MT0FEX0ZBSUxFRFwiO1xuXHRcdFx0ZXJyLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRlcnIucmVxdWVzdCA9IHJlYWxIcmVmO1xuXHRcdFx0bGlua1RhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmtUYWcpXG5cdFx0XHRyZWplY3QoZXJyKTtcblx0XHR9XG5cdH1cblx0bGlua1RhZy5vbmVycm9yID0gbGlua1RhZy5vbmxvYWQgPSBvbkxpbmtDb21wbGV0ZTtcblx0bGlua1RhZy5ocmVmID0gZnVsbGhyZWY7XG5cblx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rVGFnKTtcblx0cmV0dXJuIGxpbmtUYWc7XG59O1xudmFyIGZpbmRTdHlsZXNoZWV0ID0gKGhyZWYsIGZ1bGxocmVmKSA9PiB7XG5cdHZhciBleGlzdGluZ0xpbmtUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaW5rXCIpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgZXhpc3RpbmdMaW5rVGFncy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0YWcgPSBleGlzdGluZ0xpbmtUYWdzW2ldO1xuXHRcdHZhciBkYXRhSHJlZiA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIikgfHwgdGFnLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cdFx0aWYodGFnLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIgJiYgKGRhdGFIcmVmID09PSBocmVmIHx8IGRhdGFIcmVmID09PSBmdWxsaHJlZikpIHJldHVybiB0YWc7XG5cdH1cblx0dmFyIGV4aXN0aW5nU3R5bGVUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHlsZVwiKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGV4aXN0aW5nU3R5bGVUYWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHRhZyA9IGV4aXN0aW5nU3R5bGVUYWdzW2ldO1xuXHRcdHZhciBkYXRhSHJlZiA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIik7XG5cdFx0aWYoZGF0YUhyZWYgPT09IGhyZWYgfHwgZGF0YUhyZWYgPT09IGZ1bGxocmVmKSByZXR1cm4gdGFnO1xuXHR9XG59O1xudmFyIGxvYWRTdHlsZXNoZWV0ID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHR2YXIgaHJlZiA9IF9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YoY2h1bmtJZCk7XG5cdFx0dmFyIGZ1bGxocmVmID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgaHJlZjtcblx0XHRpZihmaW5kU3R5bGVzaGVldChocmVmLCBmdWxsaHJlZikpIHJldHVybiByZXNvbHZlKCk7XG5cdFx0Y3JlYXRlU3R5bGVzaGVldChjaHVua0lkLCBmdWxsaHJlZiwgcmVzb2x2ZSwgcmVqZWN0KTtcblx0fSk7XG59XG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIENTUyBjaHVua3NcbnZhciBpbnN0YWxsZWRDc3NDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5mLm1pbmlDc3MgPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0dmFyIGNzc0NodW5rcyA9IHtcIjMwMVwiOjF9O1xuXHRpZihpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0pIHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ3NzQ2h1bmtzW2NodW5rSWRdKTtcblx0ZWxzZSBpZihpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0gIT09IDAgJiYgY3NzQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF0gPSBsb2FkU3R5bGVzaGVldChjaHVua0lkKS50aGVuKCgpID0+IHtcblx0XHRcdGluc3RhbGxlZENzc0NodW5rc1tjaHVua0lkXSA9IDA7XG5cdFx0fSwgKGUpID0+IHtcblx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRDc3NDaHVua3NbY2h1bmtJZF07XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH0pKTtcblx0fVxufTtcblxuLy8gbm8gaG1yIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9Bc3NlcnRpb25FcnJvclxuICovXG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi91dGlsLmpzJztcbi8qKlxuICogRXJyb3Igb2JqZWN0IHRocm93biB3aGVuIGFuIGFzc2VydGlvbiBmYWlsZWQuIFRoaXMgaXMgYW4gRUNNQS0yNjIgRXJyb3IsXG4gKiBleHRlbmRlZCB3aXRoIGEgYGNvZGVgIHByb3BlcnR5LlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yLlxuICovXG52YXIgQXNzZXJ0aW9uRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzc2VydGlvbkVycm9yLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlIEVycm9yIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3IoY29kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcGF0aCA9IFZFUlNJT04gPT09ICdsYXRlc3QnID8gVkVSU0lPTiA6ICd2JyArIFZFUlNJT04uc3BsaXQoJy0nKVswXTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQXNzZXJ0aW9uIGZhaWxlZC4gU2VlIGh0dHBzOi8vb3BlbmxheWVycy5vcmcvZW4vJyArXG4gICAgICAgICAgICBwYXRoICtcbiAgICAgICAgICAgICcvZG9jL2Vycm9ycy8jJyArXG4gICAgICAgICAgICBjb2RlICtcbiAgICAgICAgICAgICcgZm9yIGRldGFpbHMuJztcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXJyb3IgY29kZS4gVGhlIG1lYW5pbmcgb2YgdGhlIGNvZGUgY2FuIGJlIGZvdW5kIG9uXG4gICAgICAgICAqIGh0dHBzOi8vb3BlbmxheWVycy5vcmcvZW4vbGF0ZXN0L2RvYy9lcnJvcnMvIChyZXBsYWNlIGBsYXRlc3RgIHdpdGhcbiAgICAgICAgICogdGhlIHZlcnNpb24gZm91bmQgaW4gdGhlIE9wZW5MYXllcnMgc2NyaXB0J3MgaGVhZGVyIGNvbW1lbnQgaWYgYSB2ZXJzaW9uXG4gICAgICAgICAqIG90aGVyIHRoYW4gdGhlIGxhdGVzdCBpcyB1c2VkKS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7XG4gICAgICAgIC8vIFJlLWFzc2lnbiBtZXNzYWdlLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1JpY2gtSGFycmlzL2J1YmxlL2lzc3Vlcy80MFxuICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQXNzZXJ0aW9uRXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnQgZGVmYXVsdCBBc3NlcnRpb25FcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzc2VydGlvbkVycm9yLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvQ29sbGVjdGlvblxuICovXG5pbXBvcnQgQXNzZXJ0aW9uRXJyb3IgZnJvbSAnLi9Bc3NlcnRpb25FcnJvci5qcyc7XG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuL09iamVjdC5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnRzL0V2ZW50LmpzJztcbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQcm9wZXJ0eSA9IHtcbiAgICBMRU5HVEg6ICdsZW5ndGgnLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXNcbiAqIHR5cGUuXG4gKi9cbnZhciBDb2xsZWN0aW9uRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbGxlY3Rpb25FdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIFR5cGUuXG4gICAgICogQHBhcmFtIHsqPX0gb3B0X2VsZW1lbnQgRWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9pbmRleCBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uRXZlbnQodHlwZSwgb3B0X2VsZW1lbnQsIG9wdF9pbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVsZW1lbnQgdGhhdCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50ID0gb3B0X2VsZW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kZXggPSBvcHRfaW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENvbGxlY3Rpb25FdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IENvbGxlY3Rpb25FdmVudCB9O1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1bmlxdWU9ZmFsc2VdIERpc2FsbG93IHRoZSBzYW1lIGl0ZW0gZnJvbSBiZWluZyBhZGRlZCB0b1xuICogdGhlIGNvbGxlY3Rpb24gdHdpY2UuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQW4gZXhwYW5kZWQgdmVyc2lvbiBvZiBzdGFuZGFyZCBKUyBBcnJheSwgYWRkaW5nIGNvbnZlbmllbmNlIG1ldGhvZHMgZm9yXG4gKiBtYW5pcHVsYXRpb24uIEFkZCBhbmQgcmVtb3ZlIGNoYW5nZXMgdG8gdGhlIENvbGxlY3Rpb24gdHJpZ2dlciBhIENvbGxlY3Rpb25cbiAqIGV2ZW50LiBOb3RlIHRoYXQgdGhpcyBkb2VzIG5vdCBjb3ZlciBjaGFuZ2VzIHRvIHRoZSBvYmplY3RzIF93aXRoaW5fIHRoZVxuICogQ29sbGVjdGlvbjsgdGhleSB0cmlnZ2VyIGV2ZW50cyBvbiB0aGUgYXBwcm9wcmlhdGUgb2JqZWN0LCBub3Qgb24gdGhlXG4gKiBDb2xsZWN0aW9uIGFzIGEgd2hvbGUuXG4gKlxuICogQGZpcmVzIENvbGxlY3Rpb25FdmVudFxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAYXBpXG4gKi9cbnZhciBDb2xsZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb2xsZWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8VD49fSBvcHRfYXJyYXkgQXJyYXkuXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgQ29sbGVjdGlvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb24ob3B0X2FycmF5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51bmlxdWVfID0gISFvcHRpb25zLnVuaXF1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8VD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hcnJheV8gPSBvcHRfYXJyYXkgPyBvcHRfYXJyYXkgOiBbXTtcbiAgICAgICAgaWYgKF90aGlzLnVuaXF1ZV8pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IF90aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXNzZXJ0VW5pcXVlXyhfdGhpcy5hcnJheV9baV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5nZXRMZW5ndGgoKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBlbGVtZW50cyB0byB0aGUgY29sbGVjdGlvbi4gIFRoaXMgcHVzaGVzIGVhY2ggaXRlbSBpbiB0aGUgcHJvdmlkZWQgYXJyYXlcbiAgICAgKiB0byB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIgQXJyYXkuXG4gICAgICogQHJldHVybiB7Q29sbGVjdGlvbjxUPn0gVGhpcyBjb2xsZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goYXJyW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgb3ZlciBlYWNoIGVsZW1lbnQsIGNhbGxpbmcgdGhlIHByb3ZpZGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCBBcnJheTxUPik6ICp9IGYgVGhlIGZ1bmN0aW9uIHRvIGNhbGxcbiAgICAgKiAgICAgZm9yIGV2ZXJ5IGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gdGFrZXMgMyBhcmd1bWVudHMgKHRoZSBlbGVtZW50LCB0aGVcbiAgICAgKiAgICAgaW5kZXggYW5kIHRoZSBhcnJheSkuIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuYXJyYXlfO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBmKGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBBcnJheSBvYmplY3QuIFdhcm5pbmc6IGlmIHRoZSBhcnJheVxuICAgICAqIGlzIG11dGF0ZWQsIG5vIGV2ZW50cyB3aWxsIGJlIGRpc3BhdGNoZWQgYnkgdGhlIGNvbGxlY3Rpb24sIGFuZCB0aGVcbiAgICAgKiBjb2xsZWN0aW9uJ3MgXCJsZW5ndGhcIiBwcm9wZXJ0eSB3b24ndCBiZSBpbiBzeW5jIHdpdGggdGhlIGFjdHVhbCBsZW5ndGhcbiAgICAgKiBvZiB0aGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7IUFycmF5PFQ+fSBBcnJheS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZW5ndGggb2YgdGhlIGFycmF5LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmdldExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFByb3BlcnR5LkxFTkdUSCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYW4gZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5pbnNlcnRBdCA9IGZ1bmN0aW9uIChpbmRleCwgZWxlbSkge1xuICAgICAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcnJheV8uc3BsaWNlKGluZGV4LCAwLCBlbGVtKTtcbiAgICAgICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb24gYW5kIHJldHVybiBpdC5cbiAgICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQodGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IHRoZSBwcm92aWRlZCBlbGVtZW50IGF0IHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgbGVuZ3RoIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgICAgICAgdGhpcy5hc3NlcnRVbmlxdWVfKGVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgdGhpcy5pbnNlcnRBdChuLCBlbGVtKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gZWxlbWVudCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBlbGVtZW50IG9yIHVuZGVmaW5lZCBpZiBub25lIGZvdW5kLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgYXJyID0gdGhpcy5hcnJheV87XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSBlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXggYW5kIHJldHVybiBpdC5cbiAgICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gZG9lcyBub3QgY29udGFpbiB0aGlzIGluZGV4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVmFsdWUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZUF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgICAgICB0aGlzLmFycmF5Xy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDb2xsZWN0aW9uRXZlbnQoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIHByZXYsIGluZGV4KSk7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnNldEF0ID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbikge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJldiA9IHRoaXMuYXJyYXlfW2luZGV4XTtcbiAgICAgICAgICAgIHRoaXMuYXJyYXlfW2luZGV4XSA9IGVsZW07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldiwgaW5kZXgpKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IG47IGogPCBpbmRleDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChqLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnNlcnRBdChpbmRleCwgZWxlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudXBkYXRlTGVuZ3RoXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuTEVOR1RILCB0aGlzLmFycmF5Xy5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9leGNlcHQgT3B0aW9uYWwgaW5kZXggdG8gaWdub3JlLlxuICAgICAqL1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmFzc2VydFVuaXF1ZV8gPSBmdW5jdGlvbiAoZWxlbSwgb3B0X2V4Y2VwdCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hcnJheV9baV0gPT09IGVsZW0gJiYgaSAhPT0gb3B0X2V4Y2VwdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcig1OCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb2xsZWN0aW9uO1xufShCYXNlT2JqZWN0KSk7XG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGVjdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvQ29sbGVjdGlvbkV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhbiBpdGVtIGlzIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvQ29sbGVjdGlvbi5Db2xsZWN0aW9uRXZlbnQjYWRkXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEFERDogJ2FkZCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9Db2xsZWN0aW9uLkNvbGxlY3Rpb25FdmVudCNyZW1vdmVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUkVNT1ZFOiAncmVtb3ZlJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xsZWN0aW9uRXZlbnRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9EaXNwb3NhYmxlXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogT2JqZWN0cyB0aGF0IG5lZWQgdG8gY2xlYW4gdXAgYWZ0ZXIgdGhlbXNlbHZlcy5cbiAqL1xudmFyIERpc3Bvc2FibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlzcG9zYWJsZSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvYmplY3QgaGFzIGFscmVhZHkgYmVlbiBkaXNwb3NlZC5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUludGVybmFsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dGVuc2lvbiBwb2ludCBmb3IgZGlzcG9zYWJsZSBvYmplY3RzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBEaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIERpc3Bvc2FibGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGlzcG9zYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3Bvc2FibGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlU3RhdGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgSURMRTogMCxcbiAgICBMT0FESU5HOiAxLFxuICAgIExPQURFRDogMixcbiAgICBFUlJPUjogMyxcbiAgICBFTVBUWTogNCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVN0YXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRUeXBlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBBIHRydWUgc2luZ2xlIGNsaWNrIHdpdGggbm8gZHJhZ2dpbmcgYW5kIG5vIGRvdWJsZSBjbGljay4gTm90ZSB0aGF0IHRoaXNcbiAgICAgKiBldmVudCBpcyBkZWxheWVkIGJ5IDI1MCBtcyB0byBlbnN1cmUgdGhhdCBpdCBpcyBub3QgYSBkb3VibGUgY2xpY2suXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3NpbmdsZWNsaWNrXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNJTkdMRUNMSUNLOiAnc2luZ2xlY2xpY2snLFxuICAgIC8qKlxuICAgICAqIEEgY2xpY2sgd2l0aCBubyBkcmFnZ2luZy4gQSBkb3VibGUgY2xpY2sgd2lsbCBmaXJlIHR3byBvZiB0aGlzLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNjbGlja1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDTElDSzogRXZlbnRUeXBlLkNMSUNLLFxuICAgIC8qKlxuICAgICAqIEEgdHJ1ZSBkb3VibGUgY2xpY2ssIHdpdGggbm8gZHJhZ2dpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I2RibGNsaWNrXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIERCTENMSUNLOiBFdmVudFR5cGUuREJMQ0xJQ0ssXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBwb2ludGVyIGlzIGRyYWdnZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3BvaW50ZXJkcmFnXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBPSU5URVJEUkFHOiAncG9pbnRlcmRyYWcnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBtb3ZlZC4gTm90ZSB0aGF0IG9uIHRvdWNoIGRldmljZXMgdGhpcyBpc1xuICAgICAqIHRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgaXMgcGFubmVkLCBzbyBpcyBub3QgdGhlIHNhbWUgYXMgbW91c2Vtb3ZlLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNwb2ludGVybW92ZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQT0lOVEVSTU9WRTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICAgIFBPSU5URVJPVkVSOiAncG9pbnRlcm92ZXInLFxuICAgIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICAgIFBPSU5URVJMRUFWRTogJ3BvaW50ZXJsZWF2ZScsXG4gICAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEJyb3dzZXJFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcEV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgYSBtYXAgZnJhbWUgaXMgcmVuZGVyZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNwb3N0cmVuZGVyXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBPU1RSRU5ERVI6ICdwb3N0cmVuZGVyJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgbWFwIHN0YXJ0cyBtb3ZpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNtb3Zlc3RhcnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTU9WRVNUQVJUOiAnbW92ZXN0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIG1hcCBpcyBtb3ZlZC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEV2ZW50fk1hcEV2ZW50I21vdmVlbmRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTU9WRUVORDogJ21vdmVlbmQnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcEV2ZW50VHlwZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL09iamVjdFxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuL09ic2VydmFibGUuanMnO1xuaW1wb3J0IHsgYXNzaWduLCBpc0VtcHR5IH0gZnJvbSAnLi9vYmouanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi91dGlsLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpcyB0eXBlLlxuICovXG52YXIgT2JqZWN0RXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9iamVjdEV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHByb3BlcnR5IG5hbWUuXG4gICAgICogQHBhcmFtIHsqfSBvbGRWYWx1ZSBUaGUgb2xkIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPYmplY3RFdmVudCh0eXBlLCBrZXksIG9sZFZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgd2hvc2UgdmFsdWUgaXMgY2hhbmdpbmcuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmtleSA9IGtleTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbGQgdmFsdWUuIFRvIGdldCB0aGUgbmV3IHZhbHVlIHVzZSBgZS50YXJnZXQuZ2V0KGUua2V5KWAgd2hlcmVcbiAgICAgICAgICogYGVgIGlzIHRoZSBldmVudCBvYmplY3QuXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbGRWYWx1ZSA9IG9sZFZhbHVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3RFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCB7IE9iamVjdEV2ZW50IH07XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIE1vc3Qgbm9uLXRyaXZpYWwgY2xhc3NlcyBpbmhlcml0IGZyb20gdGhpcy5cbiAqXG4gKiBUaGlzIGV4dGVuZHMge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlfSB3aXRoIG9ic2VydmFibGVcbiAqIHByb3BlcnRpZXMsIHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgb2JzZXJ2YWJsZSBhcyB3ZWxsIGFzIHRoZSBvYmplY3QgYXMgYVxuICogd2hvbGUuXG4gKlxuICogQ2xhc3NlcyB0aGF0IGluaGVyaXQgZnJvbSB0aGlzIGhhdmUgcHJlLWRlZmluZWQgcHJvcGVydGllcywgdG8gd2hpY2ggeW91IGNhblxuICogYWRkIHlvdXIgb3ducy4gVGhlIHByZS1kZWZpbmVkIHByb3BlcnRpZXMgYXJlIGxpc3RlZCBpbiB0aGlzIGRvY3VtZW50YXRpb24gYXNcbiAqICdPYnNlcnZhYmxlIFByb3BlcnRpZXMnLCBhbmQgaGF2ZSB0aGVpciBvd24gYWNjZXNzb3JzOyBmb3IgZXhhbXBsZSxcbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaGFzIGEgYHRhcmdldGAgcHJvcGVydHksIGFjY2Vzc2VkIHdpdGhcbiAqIGBnZXRUYXJnZXQoKWAgYW5kIGNoYW5nZWQgd2l0aCBgc2V0VGFyZ2V0KClgLiBOb3QgYWxsIHByb3BlcnRpZXMgYXJlIGhvd2V2ZXJcbiAqIHNldHRhYmxlLiBUaGVyZSBhcmUgYWxzbyBnZW5lcmFsLXB1cnBvc2UgYWNjZXNzb3JzIGBnZXQoKWAgYW5kIGBzZXQoKWAuIEZvclxuICogZXhhbXBsZSwgYGdldCgndGFyZ2V0JylgIGlzIGVxdWl2YWxlbnQgdG8gYGdldFRhcmdldCgpYC5cbiAqXG4gKiBUaGUgYHNldGAgYWNjZXNzb3JzIHRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQsIGFuZCB5b3UgY2FuIG1vbml0b3IgdGhpcyBieVxuICogcmVnaXN0ZXJpbmcgYSBsaXN0ZW5lci4gRm9yIGV4YW1wbGUsIHtAbGluayBtb2R1bGU6b2wvVmlld35WaWV3fSBoYXMgYVxuICogYGNlbnRlcmAgcHJvcGVydHksIHNvIGB2aWV3Lm9uKCdjaGFuZ2U6Y2VudGVyJywgZnVuY3Rpb24oZXZ0KSB7Li4ufSk7YCB3b3VsZFxuICogY2FsbCB0aGUgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIHZhbHVlIG9mIHRoZSBjZW50ZXIgcHJvcGVydHkgY2hhbmdlcy4gV2l0aGluXG4gKiB0aGUgZnVuY3Rpb24sIGBldnQudGFyZ2V0YCB3b3VsZCBiZSB0aGUgdmlldywgc28gYGV2dC50YXJnZXQuZ2V0Q2VudGVyKClgXG4gKiB3b3VsZCByZXR1cm4gdGhlIG5ldyBjZW50ZXIuXG4gKlxuICogWW91IGNhbiBhZGQgeW91ciBvd24gb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzIHdpdGhcbiAqIGBvYmplY3Quc2V0KCdwcm9wJywgJ3ZhbHVlJylgLCBhbmQgcmV0cmlldmUgdGhhdCB3aXRoIGBvYmplY3QuZ2V0KCdwcm9wJylgLlxuICogWW91IGNhbiBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhhdCBwcm9wZXJ0eSB2YWx1ZSB3aXRoXG4gKiBgb2JqZWN0Lm9uKCdjaGFuZ2U6cHJvcCcsIGxpc3RlbmVyKWAuIFlvdSBjYW4gZ2V0IGEgbGlzdCBvZiBhbGxcbiAqIHByb3BlcnRpZXMgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0I2dldFByb3BlcnRpZXN9LlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzIGFyZSBzZXBhcmF0ZSBmcm9tIHN0YW5kYXJkIEpTIHByb3BlcnRpZXMuXG4gKiBZb3UgY2FuLCBmb3IgZXhhbXBsZSwgZ2l2ZSB5b3VyIG1hcCBvYmplY3QgYSB0aXRsZSB3aXRoXG4gKiBgbWFwLnRpdGxlPSdOZXcgdGl0bGUnYCBhbmQgd2l0aCBgbWFwLnNldCgndGl0bGUnLCAnQW5vdGhlciB0aXRsZScpYC4gVGhlXG4gKiBmaXJzdCB3aWxsIGJlIGEgYGhhc093blByb3BlcnR5YDsgdGhlIHNlY29uZCB3aWxsIGFwcGVhciBpblxuICogYGdldFByb3BlcnRpZXMoKWAuIE9ubHkgdGhlIHNlY29uZCBpcyBvYnNlcnZhYmxlLlxuICpcbiAqIFByb3BlcnRpZXMgY2FuIGJlIGRlbGV0ZWQgYnkgdXNpbmcgdGhlIHVuc2V0IG1ldGhvZC4gRS5nLlxuICogb2JqZWN0LnVuc2V0KCdmb28nKS5cbiAqXG4gKiBAZmlyZXMgT2JqZWN0RXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIEJhc2VPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VPYmplY3QsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPj19IG9wdF92YWx1ZXMgQW4gb2JqZWN0IHdpdGgga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VPYmplY3Qob3B0X3ZhbHVlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBDYWxsIHtAbGluayBtb2R1bGU6b2wvdXRpbH5nZXRVaWR9IHRvIGVuc3VyZSB0aGF0IHRoZSBvcmRlciBvZiBvYmplY3RzJyBpZHMgaXNcbiAgICAgICAgLy8gdGhlIHNhbWUgYXMgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgd2VyZSBjcmVhdGVkLiAgVGhpcyBhbHNvIGhlbHBzIHRvXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgYWRkZWQgaW4gdGhlIHNhbWUgb3JkZXIsIHdoaWNoXG4gICAgICAgIC8vIGhlbHBzIG1hbnkgSmF2YVNjcmlwdCBlbmdpbmVzIGdlbmVyYXRlIGZhc3RlciBjb2RlLlxuICAgICAgICBnZXRVaWQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsdWVzXyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRfdmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMob3B0X3ZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcmV0dXJuIHsqfSBWYWx1ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc18gJiYgdGhpcy52YWx1ZXNfLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGlzdCBvZiBvYmplY3QgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gTGlzdCBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUuZ2V0S2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnZhbHVlc18gJiYgT2JqZWN0LmtleXModGhpcy52YWx1ZXNfKSkgfHwgW107XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gb2JqZWN0IG9mIGFsbCBwcm9wZXJ0eSBuYW1lcyBhbmQgdmFsdWVzLlxuICAgICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsICo+fSBPYmplY3QuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLmdldFByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy52YWx1ZXNfICYmIGFzc2lnbih7fSwgdGhpcy52YWx1ZXNfKSkgfHwge307XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgb2JqZWN0IGhhcyBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLmhhc1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMudmFsdWVzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAgICogQHBhcmFtIHsqfSBvbGRWYWx1ZSBPbGQgdmFsdWUuXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGtleSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdmFyIGV2ZW50VHlwZTtcbiAgICAgICAgZXZlbnRUeXBlID0gZ2V0Q2hhbmdlRXZlbnRUeXBlKGtleSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgT2JqZWN0RXZlbnQoZXZlbnRUeXBlLCBrZXksIG9sZFZhbHVlKSk7XG4gICAgICAgIGV2ZW50VHlwZSA9IE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgYSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3NpbGVudCBVcGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlT2JqZWN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgb3B0X3NpbGVudCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXNfIHx8ICh0aGlzLnZhbHVlc18gPSB7fSk7XG4gICAgICAgIGlmIChvcHRfc2lsZW50KSB7XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gdmFsdWVzW2tleV07XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KGtleSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGEgY29sbGVjdGlvbiBvZiBrZXktdmFsdWUgcGFpcnMuICBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIGFueSBleGlzdGluZ1xuICAgICAqIHByb3BlcnRpZXMgYW5kIGFkZHMgbmV3IG9uZXMgKGl0IGRvZXMgbm90IHJlbW92ZSBhbnkgZXhpc3RpbmcgcHJvcGVydGllcykuXG4gICAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2lsZW50IFVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW4gZXZlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLnNldFByb3BlcnRpZXMgPSBmdW5jdGlvbiAodmFsdWVzLCBvcHRfc2lsZW50KSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWVzW2tleV0sIG9wdF9zaWxlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhbnkgcHJvcGVydGllcyBmcm9tIGFub3RoZXIgb2JqZWN0IHdpdGhvdXQgdHJpZ2dlcmluZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtCYXNlT2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEJhc2VPYmplY3QucHJvdG90eXBlLmFwcGx5UHJvcGVydGllcyA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UudmFsdWVzXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbih0aGlzLnZhbHVlc18gfHwgKHRoaXMudmFsdWVzXyA9IHt9KSwgc291cmNlLnZhbHVlc18pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5zZXRzIGEgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2lsZW50IFVuc2V0IHdpdGhvdXQgdHJpZ2dlcmluZyBhbiBldmVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZU9iamVjdC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoa2V5LCBvcHRfc2lsZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc18gJiYga2V5IGluIHRoaXMudmFsdWVzXykge1xuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSh0aGlzLnZhbHVlc18pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNfID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghb3B0X3NpbGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KGtleSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZU9iamVjdDtcbn0oT2JzZXJ2YWJsZSkpO1xuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xudmFyIGNoYW5nZUV2ZW50VHlwZUNhY2hlID0ge307XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENoYW5nZSBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hhbmdlRXZlbnRUeXBlKGtleSkge1xuICAgIHJldHVybiBjaGFuZ2VFdmVudFR5cGVDYWNoZS5oYXNPd25Qcm9wZXJ0eShrZXkpXG4gICAgICAgID8gY2hhbmdlRXZlbnRUeXBlQ2FjaGVba2V5XVxuICAgICAgICA6IChjaGFuZ2VFdmVudFR5cGVDYWNoZVtrZXldID0gJ2NoYW5nZTonICsga2V5KTtcbn1cbmV4cG9ydCBkZWZhdWx0IEJhc2VPYmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL09iamVjdEV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHByb3BlcnR5IGlzIGNoYW5nZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9PYmplY3QuT2JqZWN0RXZlbnQjcHJvcGVydHljaGFuZ2VcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUFJPUEVSVFlDSEFOR0U6ICdwcm9wZXJ0eWNoYW5nZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0RXZlbnRUeXBlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvT2JzZXJ2YWJsZVxuICovXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IGxpc3RlbiwgbGlzdGVuT25jZSwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQW4gZXZlbnQgdGFyZ2V0IHByb3ZpZGluZyBjb252ZW5pZW50IG1ldGhvZHMgZm9yIGxpc3RlbmVyIHJlZ2lzdHJhdGlvblxuICogYW5kIHVucmVnaXN0cmF0aW9uLiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgYWx3YXlzIGF2YWlsYWJsZSB0aHJvdWdoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL09ic2VydmFibGV+T2JzZXJ2YWJsZSNjaGFuZ2VkfS5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdFxuICogQGFwaVxuICovXG52YXIgT2JzZXJ2YWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJldmlzaW9uXyA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSByZXZpc2lvbiBjb3VudGVyIGFuZCBkaXNwYXRjaGVzIGEgJ2NoYW5nZScgZXZlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICsrdGhpcy5yZXZpc2lvbl87XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmVyc2lvbiBudW1iZXIgZm9yIHRoaXMgb2JqZWN0LiAgRWFjaCB0aW1lIHRoZSBvYmplY3QgaXMgbW9kaWZpZWQsXG4gICAgICogaXRzIHZlcnNpb24gbnVtYmVyIHdpbGwgYmUgaW5jcmVtZW50ZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXZpc2lvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZ2V0UmV2aXNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmlzaW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pOiA/fSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci4gSWZcbiAgICAgKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gICAgICogICAgIHdpbGwgYmUgYW4gYXJyYXkgb2Yga2V5cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0eXBlLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBrZXlzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAga2V5c1tpXSA9IGxpc3Rlbih0aGlzLCB0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0ZW4odGhpcywgLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gb25jZSBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pOiA/fSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci4gSWZcbiAgICAgKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gICAgICogICAgIHdpbGwgYmUgYW4gYXJyYXkgb2Yga2V5cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHR5cGUubGVuZ3RoO1xuICAgICAgICAgICAga2V5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAga2V5W2ldID0gbGlzdGVuT25jZSh0aGlzLCB0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBsaXN0ZW5PbmNlKHRoaXMsIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQHR5cGUge09iamVjdH0gKi8gKGxpc3RlbmVyKS5vbF9rZXkgPSBrZXk7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmxpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pOiA/fSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnVuID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBrZXkgPSAvKiogQHR5cGUge09iamVjdH0gKi8gKGxpc3RlbmVyKS5vbF9rZXk7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIHVuQnlLZXkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0eXBlLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZVtpXSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KEV2ZW50VGFyZ2V0KSk7XG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdXNpbmcgdGhlIGtleSByZXR1cm5lZCBieSBgb24oKWAgb3IgYG9uY2UoKWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBrZXkgVGhlIGtleSByZXR1cm5lZCBieSBgb24oKWBcbiAqICAgICBvciBgb25jZSgpYCAob3IgYW4gYXJyYXkgb2Yga2V5cykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bkJ5S2V5KGtleSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0ga2V5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkoa2V5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSgvKiogQHR5cGUge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX0gKi8gKGtleSkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9hcnJheVxuICovXG4vKipcbiAqIFBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgcHJvdmlkZWQgc29ydGVkIGxpc3QgYW5kIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGlmIGZvdW5kLiBJZiBpdCBjYW4ndCBiZSBmb3VuZCBpdCdsbCByZXR1cm4gLTEuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9iaW5hcnktc2VhcmNoXG4gKlxuICogQHBhcmFtIHtBcnJheTwqPn0gaGF5c3RhY2sgSXRlbXMgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0geyp9IG5lZWRsZSBUaGUgaXRlbSB0byBsb29rIGZvci5cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBvcHRfY29tcGFyYXRvciBDb21wYXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmQsIC0xIGlmIG5vdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaChoYXlzdGFjaywgbmVlZGxlLCBvcHRfY29tcGFyYXRvcikge1xuICAgIHZhciBtaWQsIGNtcDtcbiAgICB2YXIgY29tcGFyYXRvciA9IG9wdF9jb21wYXJhdG9yIHx8IG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb247XG4gICAgdmFyIGxvdyA9IDA7XG4gICAgdmFyIGhpZ2ggPSBoYXlzdGFjay5sZW5ndGg7XG4gICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgLyogTm90ZSB0aGF0IFwiKGxvdyArIGhpZ2gpID4+PiAxXCIgbWF5IG92ZXJmbG93LCBhbmQgcmVzdWx0cyBpbiBhIHR5cGVjYXN0XG4gICAgICAgICAqIHRvIGRvdWJsZSAod2hpY2ggZ2l2ZXMgdGhlIHdyb25nIHJlc3VsdHMpLiAqL1xuICAgICAgICBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuICAgICAgICBjbXAgPSArY29tcGFyYXRvcihoYXlzdGFja1ttaWRdLCBuZWVkbGUpO1xuICAgICAgICBpZiAoY21wIDwgMC4wKSB7XG4gICAgICAgICAgICAvKiBUb28gbG93LiAqL1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qIEtleSBmb3VuZCBvciB0b28gaGlnaCAqL1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgICAgIGZvdW5kID0gIWNtcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBLZXkgbm90IGZvdW5kLiAqL1xuICAgIHJldHVybiBmb3VuZCA/IGxvdyA6IH5sb3c7XG59XG4vKipcbiAqIENvbXBhcmUgZnVuY3Rpb24gZm9yIGFycmF5IHNvcnQgdGhhdCBpcyBzYWZlIGZvciBudW1iZXJzLlxuICogQHBhcmFtIHsqfSBhIFRoZSBmaXJzdCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcGFyYW0geyp9IGIgVGhlIHNlY29uZCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbmVnYXRpdmUgbnVtYmVyLCB6ZXJvLCBvciBhIHBvc2l0aXZlIG51bWJlciBhcyB0aGUgZmlyc3RcbiAqICAgICBhcmd1bWVudCBpcyBsZXNzIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIHNlY29uZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclNhZmVDb21wYXJlRnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbn1cbi8qKlxuICogV2hldGhlciB0aGUgYXJyYXkgY29udGFpbnMgdGhlIGdpdmVuIG9iamVjdC5cbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdCBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHsqfSBvYmogVGhlIG9iamVjdCBmb3Igd2hpY2ggdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaXMgaW4gdGhlIGFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5jbHVkZXMoYXJyLCBvYmopIHtcbiAgICByZXR1cm4gYXJyLmluZGV4T2Yob2JqKSA+PSAwO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGFyciBBcnJheS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgVGFyZ2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiAwIG1lYW5zIHJldHVybiB0aGUgbmVhcmVzdCwgPiAwXG4gKiAgICBtZWFucyByZXR1cm4gdGhlIGxhcmdlc3QgbmVhcmVzdCwgPCAwIG1lYW5zIHJldHVybiB0aGVcbiAqICAgIHNtYWxsZXN0IG5lYXJlc3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyRmluZE5lYXJlc3QoYXJyLCB0YXJnZXQsIGRpcmVjdGlvbikge1xuICAgIHZhciBuID0gYXJyLmxlbmd0aDtcbiAgICBpZiAoYXJyWzBdIDw9IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFyZ2V0IDw9IGFycltuIC0gMV0pIHtcbiAgICAgICAgcmV0dXJuIG4gLSAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyW2ldIDw9IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFycltpXSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyW2kgLSAxXSAtIHRhcmdldCA8IHRhcmdldCAtIGFycltpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4gLSAxO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIEFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luIEJlZ2luIGluZGV4LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXZlcnNlU3ViQXJyYXkoYXJyLCBiZWdpbiwgZW5kKSB7XG4gICAgd2hpbGUgKGJlZ2luIDwgZW5kKSB7XG4gICAgICAgIHZhciB0bXAgPSBhcnJbYmVnaW5dO1xuICAgICAgICBhcnJbYmVnaW5dID0gYXJyW2VuZF07XG4gICAgICAgIGFycltlbmRdID0gdG1wO1xuICAgICAgICArK2JlZ2luO1xuICAgICAgICAtLWVuZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7IUFycmF5PFZBTFVFPnxWQUxVRX0gZGF0YSBUaGUgZWxlbWVudHMgb3IgYXJyYXlzIG9mIGVsZW1lbnRzIHRvIGFkZCB0byBhcnIuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChhcnIsIGRhdGEpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gICAgdmFyIGxlbmd0aCA9IGV4dGVuc2lvbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBleHRlbnNpb25baV07XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge1ZBTFVFfSBvYmogVGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnIsIG9iaikge1xuICAgIHZhciBpID0gYXJyLmluZGV4T2Yob2JqKTtcbiAgICB2YXIgZm91bmQgPSBpID4gLTE7XG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxWQUxVRT59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtmdW5jdGlvbihWQUxVRSwgbnVtYmVyLCA/KSA6IGJvb2xlYW59IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbXBhcmUuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqIEByZXR1cm4ge1ZBTFVFfG51bGx9IFRoZSBlbGVtZW50IGZvdW5kIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKGFyciwgZnVuYykge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoID4+PiAwO1xuICAgIHZhciB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gYXJyW2ldO1xuICAgICAgICBpZiAoZnVuYyh2YWx1ZSwgaSwgYXJyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnIxIFRoZSBmaXJzdCBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyMiBUaGUgc2Vjb25kIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB0d28gYXJyYXlzIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhcnIxLCBhcnIyKSB7XG4gICAgdmFyIGxlbjEgPSBhcnIxLmxlbmd0aDtcbiAgICBpZiAobGVuMSAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjE7IGkrKykge1xuICAgICAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBTb3J0IHRoZSBwYXNzZWQgYXJyYXkgc3VjaCB0aGF0IHRoZSByZWxhdGl2ZSBvcmRlciBvZiBlcXVhbCBlbGVtZW50cyBpcyBwcmV2ZXJ2ZWQuXG4gKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU29ydGluZ19hbGdvcml0aG0jU3RhYmlsaXR5IGZvciBkZXRhaWxzLlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byBzb3J0IChtb2RpZmllcyBvcmlnaW5hbCkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbigqLCAqKTogbnVtYmVyfSBjb21wYXJlRm5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFibGVTb3J0KGFyciwgY29tcGFyZUZuYykge1xuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIHZhciB0bXAgPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG1wW2ldID0geyBpbmRleDogaSwgdmFsdWU6IGFycltpXSB9O1xuICAgIH1cbiAgICB0bXAuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gY29tcGFyZUZuYyhhLnZhbHVlLCBiLnZhbHVlKSB8fCBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IHRtcFtpXS52YWx1ZTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXR1cm4gaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBmdW5jKSB7XG4gICAgdmFyIGluZGV4O1xuICAgIHZhciBmb3VuZCA9ICFhcnIuZXZlcnkoZnVuY3Rpb24gKGVsLCBpZHgpIHtcbiAgICAgICAgaW5kZXggPSBpZHg7XG4gICAgICAgIHJldHVybiAhZnVuYyhlbCwgaWR4LCBhcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZCA/IGluZGV4IDogLTE7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBvcHRfZnVuYyBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3N0cmljdCBTdHJpY3RseSBzb3J0ZWQgKGRlZmF1bHQgZmFsc2UpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJuIGluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTb3J0ZWQoYXJyLCBvcHRfZnVuYywgb3B0X3N0cmljdCkge1xuICAgIHZhciBjb21wYXJlID0gb3B0X2Z1bmMgfHwgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbjtcbiAgICByZXR1cm4gYXJyLmV2ZXJ5KGZ1bmN0aW9uIChjdXJyZW50VmFsLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXMgPSBjb21wYXJlKGFycltpbmRleCAtIDFdLCBjdXJyZW50VmFsKTtcbiAgICAgICAgcmV0dXJuICEocmVzID4gMCB8fCAob3B0X3N0cmljdCAmJiByZXMgPT09IDApKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9hc3NlcnRzXG4gKi9cbmltcG9ydCBBc3NlcnRpb25FcnJvciBmcm9tICcuL0Fzc2VydGlvbkVycm9yLmpzJztcbi8qKlxuICogQHBhcmFtIHsqfSBhc3NlcnRpb24gQXNzZXJ0aW9uIHdlIGV4cGVjdGVkIHRvIGJlIHRydXRoeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlcnJvckNvZGUgRXJyb3IgY29kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChhc3NlcnRpb24sIGVycm9yQ29kZSkge1xuICAgIGlmICghYXNzZXJ0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihlcnJvckNvZGUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2VydHMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbG9yXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4vbWF0aC5qcyc7XG4vKipcbiAqIEEgY29sb3IgcmVwcmVzZW50ZWQgYXMgYSBzaG9ydCBhcnJheSBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdLlxuICogcmVkLCBncmVlbiwgYW5kIGJsdWUgc2hvdWxkIGJlIGludGVnZXJzIGluIHRoZSByYW5nZSAwLi4yNTUgaW5jbHVzaXZlLlxuICogYWxwaGEgc2hvdWxkIGJlIGEgZmxvYXQgaW4gdGhlIHJhbmdlIDAuLjEgaW5jbHVzaXZlLiBJZiBubyBhbHBoYSB2YWx1ZSBpc1xuICogZ2l2ZW4gdGhlbiBgMWAgd2lsbCBiZSB1c2VkLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IENvbG9yXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogVGhpcyBSZWdFeHAgbWF0Y2hlcyAjIGZvbGxvd2VkIGJ5IDMsIDQsIDYsIG9yIDggaGV4IGRpZ2l0cy5cbiAqIEBjb25zdFxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBIRVhfQ09MT1JfUkVfID0gL14jKFthLWYwLTldezN9fFthLWYwLTldezR9KD86W2EtZjAtOV17Mn0pezAsMn0pJC9pO1xuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIG1hdGNoaW5nIHBvdGVudGlhbCBuYW1lZCBjb2xvciBzdHlsZSBzdHJpbmdzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xudmFyIE5BTUVEX0NPTE9SX1JFXyA9IC9eKFthLXpdKikkfF5oc2xhP1xcKC4qXFwpJC9pO1xuLyoqXG4gKiBSZXR1cm4gdGhlIGNvbG9yIGFzIGFuIHJnYmEgc3RyaW5nLlxuICogQHBhcmFtIHtDb2xvcnxzdHJpbmd9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBSZ2JhIHN0cmluZy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzU3RyaW5nKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybiBuYW1lZCBjb2xvciBhcyBhbiByZ2JhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBOYW1lZCBjb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gUmdiIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZnJvbU5hbWVkKGNvbG9yKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWwuc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICBpZiAoZWwuc3R5bGUuY29sb3IgIT09ICcnKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmdiID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCkuY29sb3I7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICovXG5leHBvcnQgdmFyIGZyb21TdHJpbmcgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdlIG1haW50YWluIGEgc21hbGwgY2FjaGUgb2YgcGFyc2VkIHN0cmluZ3MuICBUbyBwcm92aWRlIGNoZWFwIExSVS1saWtlXG4gICAgLy8gc2VtYW50aWNzLCB3aGVuZXZlciB0aGUgY2FjaGUgZ3Jvd3MgdG9vIGxhcmdlIHdlIHNpbXBseSBkZWxldGUgYW5cbiAgICAvLyBhcmJpdHJhcnkgMjUlIG9mIHRoZSBlbnRyaWVzLlxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdmFyIE1BWF9DQUNIRV9TSVpFID0gMTAyNDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQ29sb3I+fVxuICAgICAqL1xuICAgIHZhciBjYWNoZSA9IHt9O1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdmFyIGNhY2hlU2l6ZSA9IDA7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gICAgICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHZhciBjb2xvcjtcbiAgICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHMpKSB7XG4gICAgICAgICAgICBjb2xvciA9IGNhY2hlW3NdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNhY2hlU2l6ZSA+PSBNQVhfQ0FDSEVfU0laRSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChpKysgJiAzKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAtLWNhY2hlU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbG9yID0gZnJvbVN0cmluZ0ludGVybmFsXyhzKTtcbiAgICAgICAgICAgIGNhY2hlW3NdID0gY29sb3I7XG4gICAgICAgICAgICArK2NhY2hlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfSk7XG59KSgpO1xuLyoqXG4gKiBSZXR1cm4gdGhlIGNvbG9yIGFzIGFuIGFycmF5LiBUaGlzIGZ1bmN0aW9uIG1haW50YWlucyBhIGNhY2hlIG9mIGNhbGN1bGF0ZWRcbiAqIGFycmF5cyB3aGljaCBtZWFucyB0aGUgcmVzdWx0IHNob3VsZCBub3QgYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0ge0NvbG9yfHN0cmluZ30gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc0FycmF5KGNvbG9yKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmcm9tU3RyaW5nKGNvbG9yKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKi9cbmZ1bmN0aW9uIGZyb21TdHJpbmdJbnRlcm5hbF8ocykge1xuICAgIHZhciByLCBnLCBiLCBhLCBjb2xvcjtcbiAgICBpZiAoTkFNRURfQ09MT1JfUkVfLmV4ZWMocykpIHtcbiAgICAgICAgcyA9IGZyb21OYW1lZChzKTtcbiAgICB9XG4gICAgaWYgKEhFWF9DT0xPUl9SRV8uZXhlYyhzKSkge1xuICAgICAgICAvLyBoZXhcbiAgICAgICAgdmFyIG4gPSBzLmxlbmd0aCAtIDE7IC8vIG51bWJlciBvZiBoZXggZGlnaXRzXG4gICAgICAgIHZhciBkID0gLy8gbnVtYmVyIG9mIGRpZ2l0cyBwZXIgY2hhbm5lbFxuICAgICAgICAgdm9pZCAwOyAvLyBudW1iZXIgb2YgZGlnaXRzIHBlciBjaGFubmVsXG4gICAgICAgIGlmIChuIDw9IDQpIHtcbiAgICAgICAgICAgIGQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZCA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc0FscGhhID0gbiA9PT0gNCB8fCBuID09PSA4O1xuICAgICAgICByID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDAgKiBkLCBkKSwgMTYpO1xuICAgICAgICBnID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDEgKiBkLCBkKSwgMTYpO1xuICAgICAgICBiID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDIgKiBkLCBkKSwgMTYpO1xuICAgICAgICBpZiAoaGFzQWxwaGEpIHtcbiAgICAgICAgICAgIGEgPSBwYXJzZUludChzLnN1YnN0cigxICsgMyAqIGQsIGQpLCAxNik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhID0gMjU1O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkID09IDEpIHtcbiAgICAgICAgICAgIHIgPSAociA8PCA0KSArIHI7XG4gICAgICAgICAgICBnID0gKGcgPDwgNCkgKyBnO1xuICAgICAgICAgICAgYiA9IChiIDw8IDQpICsgYjtcbiAgICAgICAgICAgIGlmIChoYXNBbHBoYSkge1xuICAgICAgICAgICAgICAgIGEgPSAoYSA8PCA0KSArIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29sb3IgPSBbciwgZywgYiwgYSAvIDI1NV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHMuaW5kZXhPZigncmdiYSgnKSA9PSAwKSB7XG4gICAgICAgIC8vIHJnYmEoKVxuICAgICAgICBjb2xvciA9IHMuc2xpY2UoNSwgLTEpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgICAgIG5vcm1hbGl6ZShjb2xvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHMuaW5kZXhPZigncmdiKCcpID09IDApIHtcbiAgICAgICAgLy8gcmdiKClcbiAgICAgICAgY29sb3IgPSBzLnNsaWNlKDQsIC0xKS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xuICAgICAgICBjb2xvci5wdXNoKDEpO1xuICAgICAgICBub3JtYWxpemUoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzZXJ0KGZhbHNlLCAxNCk7IC8vIEludmFsaWQgY29sb3JcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xufVxuLyoqXG4gKiBUT0RPIHRoaXMgZnVuY3Rpb24gaXMgb25seSB1c2VkIGluIHRoZSB0ZXN0LCB3ZSBwcm9iYWJseSBzaG91bGRuJ3QgZXhwb3J0IGl0XG4gKiBAcGFyYW0ge0NvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yfSBDbGFtcGVkIGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKGNvbG9yKSB7XG4gICAgY29sb3JbMF0gPSBjbGFtcCgoY29sb3JbMF0gKyAwLjUpIHwgMCwgMCwgMjU1KTtcbiAgICBjb2xvclsxXSA9IGNsYW1wKChjb2xvclsxXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICAgIGNvbG9yWzJdID0gY2xhbXAoKGNvbG9yWzJdICsgMC41KSB8IDAsIDAsIDI1NSk7XG4gICAgY29sb3JbM10gPSBjbGFtcChjb2xvclszXSwgMCwgMSk7XG4gICAgcmV0dXJuIGNvbG9yO1xufVxuLyoqXG4gKiBAcGFyYW0ge0NvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmcoY29sb3IpIHtcbiAgICB2YXIgciA9IGNvbG9yWzBdO1xuICAgIGlmIChyICE9IChyIHwgMCkpIHtcbiAgICAgICAgciA9IChyICsgMC41KSB8IDA7XG4gICAgfVxuICAgIHZhciBnID0gY29sb3JbMV07XG4gICAgaWYgKGcgIT0gKGcgfCAwKSkge1xuICAgICAgICBnID0gKGcgKyAwLjUpIHwgMDtcbiAgICB9XG4gICAgdmFyIGIgPSBjb2xvclsyXTtcbiAgICBpZiAoYiAhPSAoYiB8IDApKSB7XG4gICAgICAgIGIgPSAoYiArIDAuNSkgfCAwO1xuICAgIH1cbiAgICB2YXIgYSA9IGNvbG9yWzNdID09PSB1bmRlZmluZWQgPyAxIDogY29sb3JbM107XG4gICAgcmV0dXJuICdyZ2JhKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnLCcgKyBhICsgJyknO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBzdHJpbmcgaXMgYWN0dWFsbHkgYSB2YWxpZCBjb2xvclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdDb2xvcihzKSB7XG4gICAgaWYgKE5BTUVEX0NPTE9SX1JFXy50ZXN0KHMpKSB7XG4gICAgICAgIHMgPSBmcm9tTmFtZWQocyk7XG4gICAgfVxuICAgIHJldHVybiAoSEVYX0NPTE9SX1JFXy50ZXN0KHMpIHx8IHMuaW5kZXhPZigncmdiYSgnKSA9PT0gMCB8fCBzLmluZGV4T2YoJ3JnYignKSA9PT0gMCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvY29sb3JsaWtlXG4gKi9cbmltcG9ydCB7IHRvU3RyaW5nIH0gZnJvbSAnLi9jb2xvci5qcyc7XG4vKipcbiAqIEEgdHlwZSBhY2NlcHRlZCBieSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuZmlsbFN0eWxlXG4gKiBvciBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuc3Ryb2tlU3R5bGUuXG4gKiBSZXByZXNlbnRzIGEgY29sb3IsIHBhdHRlcm4sIG9yIGdyYWRpZW50LiBUaGUgb3JpZ2luIGZvciBwYXR0ZXJucyBhbmRcbiAqIGdyYWRpZW50cyBhcyBmaWxsIHN0eWxlIGlzIGFuIGluY3JlbWVudCBvZiA1MTIgY3NzIHBpeGVscyBmcm9tIG1hcCBjb29yZGluYXRlXG4gKiBgWzAsIDBdYC4gRm9yIHNlYW1sZXNzIHJlcGVhdCBwYXR0ZXJucywgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcGF0dGVybiBpbWFnZVxuICogbXVzdCBiZSBhIGZhY3RvciBvZiB0d28gKDIsIDQsIDgsIC4uLiwgNTEyKS5cbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfENhbnZhc1BhdHRlcm58Q2FudmFzR3JhZGllbnR9IENvbG9yTGlrZVxuICogQGFwaVxuICovXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb2xvci5qc1wiKS5Db2xvcnxDb2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3JMaWtlfSBUaGUgY29sb3IgYXMgYW4ge0BsaW5rIG9sL2NvbG9ybGlrZX5Db2xvckxpa2V9LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNDb2xvckxpa2UoY29sb3IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvcmxpa2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nzc1xuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvbnRQYXJhbWV0ZXJzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3R5bGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2YXJpYW50XG4gKiBAcHJvcGVydHkge3N0cmluZ30gd2VpZ2h0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2l6ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxpbmVIZWlnaHRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmYW1pbHlcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gZmFtaWxpZXNcbiAqL1xuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciBoaWRkZW4gZmVhdHVyZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfSElEREVOID0gJ29sLWhpZGRlbic7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHNlbGVjdGFibGUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1NFTEVDVEFCTEUgPSAnb2wtc2VsZWN0YWJsZSc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHVuc2VsZWN0YWJsZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfVU5TRUxFQ1RBQkxFID0gJ29sLXVuc2VsZWN0YWJsZSc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIHVuc3VwcG9ydGVkIGZlYXR1cmUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX1VOU1VQUE9SVEVEID0gJ29sLXVuc3VwcG9ydGVkJztcbi8qKlxuICogVGhlIENTUyBjbGFzcyBmb3IgY29udHJvbHMuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIENMQVNTX0NPTlRST0wgPSAnb2wtY29udHJvbCc7XG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdGhhdCBhcmUgY29sbGFwc2VkLCBpLmUuXG4gKiB0byB0aG9zZSBlbGVtZW50cyB3aGljaCB1c3VhbGx5IGNhbiBiZSBleHBhbmRlZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgQ0xBU1NfQ09MTEFQU0VEID0gJ29sLWNvbGxhcHNlZCc7XG4vKipcbiAqIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDEzNTY5Ny9yZWdleC10by1wYXJzZS1hbnktY3NzLWZvbnRcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbnZhciBmb250UmVnRXggPSBuZXcgUmVnRXhwKFtcbiAgICAnXlxcXFxzKig/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oaXRhbGljfG9ibGlxdWUpKT8pJyxcbiAgICAnKD89KD86KD86Wy1hLXpdK1xcXFxzKil7MCwyfShzbWFsbC1jYXBzKSk/KScsXG4gICAgJyg/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oYm9sZCg/OmVyKT98bGlnaHRlcnxbMS05XTAwICkpPyknLFxuICAgICcoPzooPzpub3JtYWx8XFxcXDF8XFxcXDJ8XFxcXDMpXFxcXHMqKXswLDN9KCg/Onh4Py0pPycsXG4gICAgJyg/OnNtYWxsfGxhcmdlKXxtZWRpdW18c21hbGxlcnxsYXJnZXJ8W1xcXFwuXFxcXGRdKyg/OlxcXFwlfGlufFtjZW1dbXxleHxwW2N0eF0pKScsXG4gICAgJyg/OlxcXFxzKlxcXFwvXFxcXHMqKG5vcm1hbHxbXFxcXC5cXFxcZF0rKD86XFxcXCV8aW58W2NlbV1tfGV4fHBbY3R4XSk/KSknLFxuICAgICc/XFxcXHMqKFstLFxcXFxcIlxcXFxcXCdcXFxcc2Etel0rPylcXFxccyokJyxcbl0uam9pbignJyksICdpJyk7XG52YXIgZm9udFJlZ0V4TWF0Y2hJbmRleCA9IFtcbiAgICAnc3R5bGUnLFxuICAgICd2YXJpYW50JyxcbiAgICAnd2VpZ2h0JyxcbiAgICAnc2l6ZScsXG4gICAgJ2xpbmVIZWlnaHQnLFxuICAgICdmYW1pbHknLFxuXTtcbi8qKlxuICogR2V0IHRoZSBsaXN0IG9mIGZvbnQgZmFtaWxpZXMgZnJvbSBhIGZvbnQgc3BlYy4gIE5vdGUgdGhhdCB0aGlzIGRvZXNuJ3Qgd29ya1xuICogZm9yIGZvbnQgZmFtaWxpZXMgdGhhdCBoYXZlIGNvbW1hcyBpbiB0aGVtLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTcGVjIFRoZSBDU1MgZm9udCBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge0ZvbnRQYXJhbWV0ZXJzfSBUaGUgZm9udCBwYXJhbWV0ZXJzIChvciBudWxsIGlmIHRoZSBpbnB1dCBzcGVjIGlzIGludmFsaWQpLlxuICovXG5leHBvcnQgdmFyIGdldEZvbnRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgdmFyIG1hdGNoID0gZm9udFNwZWMubWF0Y2goZm9udFJlZ0V4KTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgc3R5bGUgPSAvKiogQHR5cGUge0ZvbnRQYXJhbWV0ZXJzfSAqLyAoe1xuICAgICAgICBsaW5lSGVpZ2h0OiAnbm9ybWFsJyxcbiAgICAgICAgc2l6ZTogJzEuMmVtJyxcbiAgICAgICAgc3R5bGU6ICdub3JtYWwnLFxuICAgICAgICB3ZWlnaHQ6ICdub3JtYWwnLFxuICAgICAgICB2YXJpYW50OiAnbm9ybWFsJyxcbiAgICB9KTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmb250UmVnRXhNYXRjaEluZGV4Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hbaSArIDFdO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3R5bGVbZm9udFJlZ0V4TWF0Y2hJbmRleFtpXV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHlsZS5mYW1pbGllcyA9IHN0eWxlLmZhbWlseS5zcGxpdCgvLFxccz8vKTtcbiAgICByZXR1cm4gc3R5bGU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLmpzLm1hcCIsImltcG9ydCB7IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIH0gZnJvbSAnLi9oYXMuanMnO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2RvbVxuICovXG4vL0ZJWE1FIE1vdmUgdGhpcyBmdW5jdGlvbiB0byB0aGUgY2FudmFzIG1vZHVsZVxuLyoqXG4gKiBDcmVhdGUgYW4gaHRtbCBjYW52YXMgZWxlbWVudCBhbmQgcmV0dXJucyBpdHMgMmQgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3dpZHRoIENhbnZhcyB3aWR0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2hlaWdodCBDYW52YXMgaGVpZ2h0LlxuICogQHBhcmFtIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD49fSBvcHRfY2FudmFzUG9vbCBDYW52YXMgcG9vbCB0byB0YWtlIGV4aXN0aW5nIGNhbnZhcyBmcm9tLlxuICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBUaGUgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhbnZhc0NvbnRleHQyRChvcHRfd2lkdGgsIG9wdF9oZWlnaHQsIG9wdF9jYW52YXNQb29sKSB7XG4gICAgdmFyIGNhbnZhcyA9IG9wdF9jYW52YXNQb29sICYmIG9wdF9jYW52YXNQb29sLmxlbmd0aFxuICAgICAgICA/IG9wdF9jYW52YXNQb29sLnNoaWZ0KClcbiAgICAgICAgOiBXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBU1xuICAgICAgICAgICAgPyBuZXcgT2Zmc2NyZWVuQ2FudmFzKG9wdF93aWR0aCB8fCAzMDAsIG9wdF9oZWlnaHQgfHwgMzAwKVxuICAgICAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBpZiAob3B0X3dpZHRoKSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IG9wdF93aWR0aDtcbiAgICB9XG4gICAgaWYgKG9wdF9oZWlnaHQpIHtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IG9wdF9oZWlnaHQ7XG4gICAgfVxuICAgIC8vRklYTUUgQWxsb3cgT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIGFzIHJldHVybiB0eXBlXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqLyAoY2FudmFzLmdldENvbnRleHQoJzJkJykpO1xufVxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgd2lkdGggZm9yIHRoZSBnaXZlbiBlbGVtZW50IGluY2x1ZGluZyBtYXJnaW4sXG4gKiBwYWRkaW5nIGFuZCBib3JkZXIuXG4gKiBFcXVpdmFsZW50IHRvIGpRdWVyeSdzIGAkKGVsKS5vdXRlcldpZHRoKHRydWUpYC5cbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB3aWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dGVyV2lkdGgoZWxlbWVudCkge1xuICAgIHZhciB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICB3aWR0aCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0LCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5SaWdodCwgMTApO1xuICAgIHJldHVybiB3aWR0aDtcbn1cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGNvbXB1dGVkIGhlaWdodCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgaW5jbHVkaW5nIG1hcmdpbixcbiAqIHBhZGRpbmcgYW5kIGJvcmRlci5cbiAqIEVxdWl2YWxlbnQgdG8galF1ZXJ5J3MgYCQoZWwpLm91dGVySGVpZ2h0KHRydWUpYC5cbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBoZWlnaHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRlckhlaWdodChlbGVtZW50KSB7XG4gICAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgaGVpZ2h0ICs9IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCwgMTApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tLCAxMCk7XG4gICAgcmV0dXJuIGhlaWdodDtcbn1cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBuZXdOb2RlIE5vZGUgdG8gcmVwbGFjZSBvbGQgbm9kZVxuICogQHBhcmFtIHtOb2RlfSBvbGROb2RlIFRoZSBub2RlIHRvIGJlIHJlcGxhY2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlTm9kZShuZXdOb2RlLCBvbGROb2RlKSB7XG4gICAgdmFyIHBhcmVudCA9IG9sZE5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge05vZGV9IFRoZSBub2RlIHRoYXQgd2FzIHJlbW92ZWQgb3IgbnVsbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlICYmIG5vZGUucGFyZW50Tm9kZSA/IG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKSA6IG51bGw7XG59XG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB0byByZW1vdmUgdGhlIGNoaWxkcmVuIGZyb20uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbihub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUubGFzdENoaWxkKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICAgIH1cbn1cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCBub2RlIHNvIHRoZXkgbWF0Y2ggdGhlXG4gKiBwcm92aWRlZCBsaXN0IG9mIGNoaWxkcmVuLiAgVGhpcyBmdW5jdGlvbiBhaW1zIHRvIGVmZmljaWVudGx5XG4gKiByZW1vdmUsIGFkZCwgYW5kIHJlb3JkZXIgY2hpbGQgbm9kZXMgd2hpbGUgbWFpbnRhaW5pbmcgYSBzaW1wbGVcbiAqIGltcGxlbWVudGF0aW9uIChpdCBpcyBub3QgZ3VhcmFudGVlZCB0byBtaW5pbWl6ZSBET00gb3BlcmF0aW9ucykuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIHBhcmVudCBub2RlIHdob3NlIGNoaWxkcmVuIG5lZWQgcmV3b3JraW5nLlxuICogQHBhcmFtIHtBcnJheTxOb2RlPn0gY2hpbGRyZW4gVGhlIGRlc2lyZWQgY2hpbGRyZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlQ2hpbGRyZW4obm9kZSwgY2hpbGRyZW4pIHtcbiAgICB2YXIgb2xkQ2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IHRydWU7ICsraSkge1xuICAgICAgICB2YXIgb2xkQ2hpbGQgPSBvbGRDaGlsZHJlbltpXTtcbiAgICAgICAgdmFyIG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIC8vIGNoZWNrIGlmIG91ciB3b3JrIGlzIGRvbmVcbiAgICAgICAgaWYgKCFvbGRDaGlsZCAmJiAhbmV3Q2hpbGQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGNoaWxkcmVuIG1hdGNoXG4gICAgICAgIGlmIChvbGRDaGlsZCA9PT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGEgbmV3IGNoaWxkIG5lZWRzIHRvIGJlIGFkZGVkXG4gICAgICAgIGlmICghb2xkQ2hpbGQpIHtcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgYW4gb2xkIGNoaWxkIG5lZWRzIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgaWYgKCFuZXdDaGlsZCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChvbGRDaGlsZCk7XG4gICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW9yZGVyXG4gICAgICAgIG5vZGUuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCBvbGRDaGlsZCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9lYXNpbmdcbiAqL1xuLyoqXG4gKiBTdGFydCBzbG93IGFuZCBzcGVlZCB1cC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbih0KSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHQsIDMpO1xufVxuLyoqXG4gKiBTdGFydCBmYXN0IGFuZCBzbG93IGRvd24uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0KHQpIHtcbiAgICByZXR1cm4gMSAtIGVhc2VJbigxIC0gdCk7XG59XG4vKipcbiAqIFN0YXJ0IHNsb3csIHNwZWVkIHVwLCBhbmQgdGhlbiBzbG93IGRvd24gYWdhaW4uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbkFuZE91dCh0KSB7XG4gICAgcmV0dXJuIDMgKiB0ICogdCAtIDIgKiB0ICogdCAqIHQ7XG59XG4vKipcbiAqIE1haW50YWluIGEgY29uc3RhbnQgc3BlZWQgb3ZlciB0aW1lLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyKHQpIHtcbiAgICByZXR1cm4gdDtcbn1cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCBhdCB0aGUgdmVyeSBlbmQgc2xvdyBkb3duIGFnYWluLiAgVGhpcyBoYXMgdGhlXG4gKiBzYW1lIGdlbmVyYWwgYmVoYXZpb3IgYXMge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9LCBidXQgdGhlIGZpbmFsXG4gKiBzbG93ZG93biBpcyBkZWxheWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBBbmREb3duKHQpIHtcbiAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICByZXR1cm4gaW5BbmRPdXQoMiAqIHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDEgLSBpbkFuZE91dCgyICogKHQgLSAwLjUpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lYXNpbmcuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50c1xuICovXG5pbXBvcnQgeyBjbGVhciB9IGZyb20gJy4vb2JqLmpzJztcbi8qKlxuICogS2V5IHRvIHVzZSB3aXRoIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX5PYnNlcnZhYmxlI3VuQnlLZXl9LlxuICogQHR5cGVkZWYge09iamVjdH0gRXZlbnRzS2V5XG4gKiBAcHJvcGVydHkge0xpc3RlbmVyRnVuY3Rpb259IGxpc3RlbmVyXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGVcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBMaXN0ZW5lciBmdW5jdGlvbi4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhbiBldmVudCBvYmplY3QgYXMgYXJndW1lbnQuXG4gKiBXaGVuIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAsIGV2ZW50IHByb3BhZ2F0aW9uIHdpbGwgc3RvcC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpKTogKHZvaWR8Ym9vbGVhbil9IExpc3RlbmVyRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMaXN0ZW5lck9iamVjdFxuICogQHByb3BlcnR5IHtMaXN0ZW5lckZ1bmN0aW9ufSBoYW5kbGVFdmVudFxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtMaXN0ZW5lckZ1bmN0aW9ufExpc3RlbmVyT2JqZWN0fSBMaXN0ZW5lclxuICovXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVmZmljaWVudGx5IGJpbmRzIGEgYGxpc3RlbmVyYCB0byBhIGB0aGlzYCBvYmplY3QsIGFuZCByZXR1cm5zXG4gKiBhIGtleSBmb3IgdXNlIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9ldmVudHN+dW5saXN0ZW5CeUtleX0uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgRXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF90aGlzIE9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBgdGhpc2Aga2V5d29yZCBpbiB0aGVcbiAqICAgICBsaXN0ZW5lci4gRGVmYXVsdCBpcyB0aGUgYHRhcmdldGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfb25jZSBJZiB0cnVlLCBhZGQgdGhlIGxpc3RlbmVyIGFzIG9uZS1vZmYgbGlzdGVuZXIuXG4gKiBAcmV0dXJuIHtFdmVudHNLZXl9IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBvcHRfdGhpcywgb3B0X29uY2UpIHtcbiAgICBpZiAob3B0X3RoaXMgJiYgb3B0X3RoaXMgIT09IHRhcmdldCkge1xuICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmJpbmQob3B0X3RoaXMpO1xuICAgIH1cbiAgICBpZiAob3B0X29uY2UpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsTGlzdGVuZXJfMSA9IGxpc3RlbmVyO1xuICAgICAgICBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXJfMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgZXZlbnRzS2V5ID0ge1xuICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgIH07XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgIHJldHVybiBldmVudHNLZXk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIG9uZS1vZmYgZXZlbnQgbGlzdGVuZXIgb24gYW4gZXZlbnQgdGFyZ2V0LiBJbnNwaXJlZCBieVxuICogaHR0cHM6Ly9nb29nbGUuZ2l0aHViLmlvL2Nsb3N1cmUtbGlicmFyeS9hcGkvc291cmNlL2Nsb3N1cmUvZ29vZy9ldmVudHMvZXZlbnRzLmpzLnNyYy5odG1sXG4gKlxuICogVGhpcyBmdW5jdGlvbiBlZmZpY2llbnRseSBiaW5kcyBhIGBsaXN0ZW5lcmAgYXMgc2VsZi11bnJlZ2lzdGVyaW5nIGxpc3RlbmVyXG4gKiB0byBhIGB0aGlzYCBvYmplY3QsIGFuZCByZXR1cm5zIGEga2V5IGZvciB1c2Ugd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHN+dW5saXN0ZW5CeUtleX0gaW4gY2FzZSB0aGUgbGlzdGVuZXIgbmVlZHMgdG8gYmVcbiAqIHVucmVnaXN0ZXJlZCBiZWZvcmUgaXQgaXMgY2FsbGVkLlxuICpcbiAqIFdoZW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHN+bGlzdGVufSBpcyBjYWxsZWQgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgYWZ0ZXIgdGhpc1xuICogZnVuY3Rpb24sIHRoZSBzZWxmLXVucmVnaXN0ZXJpbmcgbGlzdGVuZXIgd2lsbCBiZSB0dXJuZWQgaW50byBhIHBlcm1hbmVudFxuICogbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgRXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF90aGlzIE9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBgdGhpc2Aga2V5d29yZCBpbiB0aGVcbiAqICAgICBsaXN0ZW5lci4gRGVmYXVsdCBpcyB0aGUgYHRhcmdldGAuXG4gKiBAcmV0dXJuIHtFdmVudHNLZXl9IEtleSBmb3IgdW5saXN0ZW5CeUtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbk9uY2UodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0X3RoaXMpIHtcbiAgICByZXR1cm4gbGlzdGVuKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdF90aGlzLCB0cnVlKTtcbn1cbi8qKlxuICogVW5yZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzIG9uIGFuIGV2ZW50IHRhcmdldC4gSW5zcGlyZWQgYnlcbiAqIGh0dHBzOi8vZ29vZ2xlLmdpdGh1Yi5pby9jbG9zdXJlLWxpYnJhcnkvYXBpL3NvdXJjZS9jbG9zdXJlL2dvb2cvZXZlbnRzL2V2ZW50cy5qcy5zcmMuaHRtbFxuICpcbiAqIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBpcyB0aGUga2V5IHJldHVybmVkIGZyb21cbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzfmxpc3Rlbn0gb3Ige0BsaW5rIG1vZHVsZTpvbC9ldmVudHN+bGlzdGVuT25jZX0uXG4gKlxuICogQHBhcmFtIHtFdmVudHNLZXl9IGtleSBUaGUga2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5saXN0ZW5CeUtleShrZXkpIHtcbiAgICBpZiAoa2V5ICYmIGtleS50YXJnZXQpIHtcbiAgICAgICAga2V5LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGtleS50eXBlLCBrZXkubGlzdGVuZXIpO1xuICAgICAgICBjbGVhcihrZXkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0V2ZW50XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU3RyaXBwZWQgZG93biBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVzNDIERPTSBMZXZlbCAyIEV2ZW50IGludGVyZmFjZS5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItRXZlbnRzL2V2ZW50cy5odG1sI0V2ZW50cy1pbnRlcmZhY2UuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IHByb3ZpZGVzIGB0eXBlYCBhbmQgYHRhcmdldGAgcHJvcGVydGllcywgYW5kXG4gKiBgc3RvcFByb3BhZ2F0aW9uYCBhbmQgYHByZXZlbnREZWZhdWx0YCBtZXRob2RzLiBJdCBpcyBtZWFudCBhcyBiYXNlIGNsYXNzXG4gKiBmb3IgaGlnaGVyIGxldmVsIGV2ZW50cyBkZWZpbmVkIGluIHRoZSBsaWJyYXJ5LCBhbmQgd29ya3Mgd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvVGFyZ2V0flRhcmdldH0uXG4gKi9cbnZhciBCYXNlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlRXZlbnQodHlwZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBldmVudCB0eXBlLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV2ZW50IHRhcmdldC5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VFdmVudDtcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7RXZlbnR8aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fSBldnQgRXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihldnQpIHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG4vKipcbiAqIEBwYXJhbSB7RXZlbnR8aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fSBldnQgRXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuZXhwb3J0IGRlZmF1bHQgQmFzZUV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50cy9FdmVudFR5cGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQGNvbnN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGNoYW5nZSBldmVudC4gVHJpZ2dlcmVkIHdoZW4gdGhlIHJldmlzaW9uIGNvdW50ZXIgaXMgaW5jcmVhc2VkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvZXZlbnRzL0V2ZW50fkJhc2VFdmVudCNjaGFuZ2VcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ0hBTkdFOiAnY2hhbmdlJyxcbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGVycm9yIGV2ZW50LiBUcmlnZ2VyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+QmFzZUV2ZW50I2Vycm9yXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEVSUk9SOiAnZXJyb3InLFxuICAgIEJMVVI6ICdibHVyJyxcbiAgICBDTEVBUjogJ2NsZWFyJyxcbiAgICBDT05URVhUTUVOVTogJ2NvbnRleHRtZW51JyxcbiAgICBDTElDSzogJ2NsaWNrJyxcbiAgICBEQkxDTElDSzogJ2RibGNsaWNrJyxcbiAgICBEUkFHRU5URVI6ICdkcmFnZW50ZXInLFxuICAgIERSQUdPVkVSOiAnZHJhZ292ZXInLFxuICAgIERST1A6ICdkcm9wJyxcbiAgICBGT0NVUzogJ2ZvY3VzJyxcbiAgICBLRVlET1dOOiAna2V5ZG93bicsXG4gICAgS0VZUFJFU1M6ICdrZXlwcmVzcycsXG4gICAgTE9BRDogJ2xvYWQnLFxuICAgIFJFU0laRTogJ3Jlc2l6ZScsXG4gICAgVE9VQ0hNT1ZFOiAndG91Y2htb3ZlJyxcbiAgICBXSEVFTDogJ3doZWVsJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFR5cGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvVGFyZ2V0XG4gKi9cbmltcG9ydCBEaXNwb3NhYmxlIGZyb20gJy4uL0Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vRXZlbnQuanMnO1xuaW1wb3J0IHsgVk9JRCB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBjbGVhciB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtFdmVudFRhcmdldHxUYXJnZXR9IEV2ZW50VGFyZ2V0TGlrZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgc2ltcGxpZmllZCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVzNDIERPTSBMZXZlbCAyIEV2ZW50VGFyZ2V0IGludGVyZmFjZS5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMC9SRUMtRE9NLUxldmVsLTItRXZlbnRzLTIwMDAxMTEzL2V2ZW50cy5odG1sI0V2ZW50cy1FdmVudFRhcmdldC5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIGltcG9ydGFudCBzaW1wbGlmaWNhdGlvbnMgY29tcGFyZWQgdG8gdGhlIHNwZWNpZmljYXRpb246XG4gKlxuICogMS4gVGhlIGhhbmRsaW5nIG9mIGB1c2VDYXB0dXJlYCBpbiBgYWRkRXZlbnRMaXN0ZW5lcmAgYW5kXG4gKiAgICBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAuIFRoZXJlIGlzIG5vIHJlYWwgY2FwdHVyZSBtb2RlbC5cbiAqIDIuIFRoZSBoYW5kbGluZyBvZiBgc3RvcFByb3BhZ2F0aW9uYCBhbmQgYHByZXZlbnREZWZhdWx0YCBvbiBgZGlzcGF0Y2hFdmVudGAuXG4gKiAgICBUaGVyZSBpcyBubyBldmVudCB0YXJnZXQgaGllcmFyY2h5LiBXaGVuIGEgbGlzdGVuZXIgY2FsbHNcbiAqICAgIGBzdG9wUHJvcGFnYXRpb25gIG9yIGBwcmV2ZW50RGVmYXVsdGAgb24gYW4gZXZlbnQgb2JqZWN0LCBpdCBtZWFucyB0aGF0IG5vXG4gKiAgICBtb3JlIGxpc3RlbmVycyBhZnRlciB0aGlzIG9uZSB3aWxsIGJlIGNhbGxlZC4gU2FtZSBhcyB3aGVuIHRoZSBsaXN0ZW5lclxuICogICAgcmV0dXJucyBmYWxzZS5cbiAqL1xudmFyIFRhcmdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGFyZ2V0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Kj19IG9wdF90YXJnZXQgRGVmYXVsdCBldmVudCB0YXJnZXQgZm9yIGRpc3BhdGNoZWQgZXZlbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRhcmdldChvcHRfdGFyZ2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV2ZW50VGFyZ2V0XyA9IG9wdF90YXJnZXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBlbmRpbmdSZW1vdmFsc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXNwYXRjaGluZ18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcj4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGlzdGVuZXJzXyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdHlwZSB8fCAhbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNfIHx8ICh0aGlzLmxpc3RlbmVyc18gPSB7fSk7XG4gICAgICAgIHZhciBsaXN0ZW5lcnNGb3JUeXBlID0gbGlzdGVuZXJzW3R5cGVdIHx8IChsaXN0ZW5lcnNbdHlwZV0gPSBbXSk7XG4gICAgICAgIGlmIChsaXN0ZW5lcnNGb3JUeXBlLmluZGV4T2YobGlzdGVuZXIpID09PSAtMSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzRm9yVHlwZS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBhbmQgY2FsbHMgYWxsIGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xuICAgICAqIG9mIHRoaXMgdHlwZS4gVGhlIGV2ZW50IHBhcmFtZXRlciBjYW4gZWl0aGVyIGJlIGEgc3RyaW5nIG9yIGFuXG4gICAgICogT2JqZWN0IHdpdGggYSBgdHlwZWAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdHxzdHJpbmd9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gYGZhbHNlYCBpZiBhbnlvbmUgY2FsbGVkIHByZXZlbnREZWZhdWx0IG9uIHRoZVxuICAgICAqICAgICBldmVudCBvYmplY3Qgb3IgaWYgYW55IG9mIHRoZSBsaXN0ZW5lcnMgcmV0dXJuZWQgZmFsc2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRhcmdldC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdHxFdmVudH0gKi9cbiAgICAgICAgdmFyIGV2dCA9IHR5cGVvZiBldmVudCA9PT0gJ3N0cmluZycgPyBuZXcgRXZlbnQoZXZlbnQpIDogZXZlbnQ7XG4gICAgICAgIHZhciB0eXBlID0gZXZ0LnR5cGU7XG4gICAgICAgIGlmICghZXZ0LnRhcmdldCkge1xuICAgICAgICAgICAgZXZ0LnRhcmdldCA9IHRoaXMuZXZlbnRUYXJnZXRfIHx8IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzXyAmJiB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgICAgIHZhciBwcm9wYWdhdGU7XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHZhciBkaXNwYXRjaGluZyA9IHRoaXMuZGlzcGF0Y2hpbmdfIHx8ICh0aGlzLmRpc3BhdGNoaW5nXyA9IHt9KTtcbiAgICAgICAgICAgIHZhciBwZW5kaW5nUmVtb3ZhbHMgPSB0aGlzLnBlbmRpbmdSZW1vdmFsc18gfHwgKHRoaXMucGVuZGluZ1JlbW92YWxzXyA9IHt9KTtcbiAgICAgICAgICAgIGlmICghKHR5cGUgaW4gZGlzcGF0Y2hpbmcpKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hpbmdbdHlwZV0gPSAwO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdSZW1vdmFsc1t0eXBlXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK2Rpc3BhdGNoaW5nW3R5cGVdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ2hhbmRsZUV2ZW50JyBpbiBsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXJPYmplY3R9ICovIChsaXN0ZW5lcnNbaV0pLmhhbmRsZUV2ZW50KGV2dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lckZ1bmN0aW9ufSAqLyAobGlzdGVuZXJzW2ldKS5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm9wYWdhdGUgPT09IGZhbHNlIHx8IGV2dC5wcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC0tZGlzcGF0Y2hpbmdbdHlwZV07XG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2hpbmdbdHlwZV0gPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcHIgPSBwZW5kaW5nUmVtb3ZhbHNbdHlwZV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdSZW1vdmFsc1t0eXBlXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocHItLSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgVk9JRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwYXRjaGluZ1t0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9wYWdhdGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIFRhcmdldC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc18gJiYgY2xlYXIodGhpcy5saXN0ZW5lcnNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlzdGVuZXJzIGZvciBhIHNwZWNpZmllZCBldmVudCB0eXBlLiBMaXN0ZW5lcnMgYXJlIHJldHVybmVkIGluIHRoZVxuICAgICAqIG9yZGVyIHRoYXQgdGhleSB3aWxsIGJlIGNhbGxlZCBpbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyPnx1bmRlZmluZWR9IExpc3RlbmVycy5cbiAgICAgKi9cbiAgICBUYXJnZXQucHJvdG90eXBlLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5saXN0ZW5lcnNfICYmIHRoaXMubGlzdGVuZXJzX1t0eXBlXSkgfHwgdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfdHlwZSBUeXBlLiBJZiBub3QgcHJvdmlkZWQsXG4gICAgICogICAgIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkIGlmIHRoaXMgZXZlbnQgdGFyZ2V0IGhhcyBhbnkgbGlzdGVuZXJzLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyBsaXN0ZW5lcnMuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5oYXNMaXN0ZW5lciA9IGZ1bmN0aW9uIChvcHRfdHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzXykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRfdHlwZVxuICAgICAgICAgICAgPyBvcHRfdHlwZSBpbiB0aGlzLmxpc3RlbmVyc19cbiAgICAgICAgICAgIDogT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnNfKS5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAgICovXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlbW92YWxzXyAmJiB0eXBlIGluIHRoaXMucGVuZGluZ1JlbW92YWxzXykge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGxpc3RlbmVyIGEgbm8tb3AsIGFuZCByZW1vdmUgbGF0ZXIgaW4gI2Rpc3BhdGNoRXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbaW5kZXhdID0gVk9JRDtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnBlbmRpbmdSZW1vdmFsc19bdHlwZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUYXJnZXQ7XG59KERpc3Bvc2FibGUpKTtcbmV4cG9ydCBkZWZhdWx0IFRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRhcmdldC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL2NvbmRpdGlvblxuICovXG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IEZBTFNFLCBUUlVFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IE1BQywgV0VCS0lUIH0gZnJvbSAnLi4vaGFzLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGB7Ym9vbGVhbn1gLiBJZiB0aGUgY29uZGl0aW9uIGlzIG1ldCwgdHJ1ZSBzaG91bGQgYmUgcmV0dXJuZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6ID8sIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gQ29uZGl0aW9uXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIGNvbmRpdGlvbiBmdW5jdGlvbiB0aGF0IHBhc3NlcyB3aGVuIGFsbCBwcm92aWRlZCBjb25kaXRpb25zIHBhc3MuXG4gKiBAcGFyYW0gey4uLkNvbmRpdGlvbn0gdmFyX2FyZ3MgQ29uZGl0aW9ucyB0byBjaGVjay5cbiAqIEByZXR1cm4ge0NvbmRpdGlvbn0gQ29uZGl0aW9uIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWxsKHZhcl9hcmdzKSB7XG4gICAgdmFyIGNvbmRpdGlvbnMgPSBhcmd1bWVudHM7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQWxsIGNvbmRpdGlvbnMgcGFzc2VkLlxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBhc3MgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb25kaXRpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHBhc3MgPSBwYXNzICYmIGNvbmRpdGlvbnNbaV0oZXZlbnQpO1xuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhc3M7XG4gICAgfTtcbn1cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBvbmx5IHRoZSBhbHQta2V5IGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlIChlLmcuIHdoZW5cbiAqIGFkZGl0aW9uYWxseSB0aGUgc2hpZnQta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgYWx0IGtleSBpcyBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGFsdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiAob3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAgICAgIShvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIGFsdC1rZXkgYW5kIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZVxuICogKGUuZy4gd2hlbiBhZGRpdGlvbmFsbHkgdGhlIHBsYXRmb3JtLW1vZGlmaWVyLWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIGFsdCBhbmQgc2hpZnQga2V5cyBhcmUgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBhbHRTaGlmdEtleXNPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKG9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy4gVGhpcyBjb25kaXRpb24gcmVxdWlyZXMgYSBtYXAgdGFyZ2V0XG4gKiBlbGVtZW50IHdpdGggYSBgdGFiaW5kZXhgIGF0dHJpYnV0ZSwgZS5nLiBgPGRpdiBpZD1cIm1hcFwiIHRhYmluZGV4PVwiMVwiPmAuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgbWFwIGhhcyB0aGUgZm9jdXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgZm9jdXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQudGFyZ2V0LmdldFRhcmdldEVsZW1lbnQoKS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIG1hcCBoYXMgdGhlIGZvY3VzIG9yIG5vICd0YWJpbmRleCcgYXR0cmlidXRlIHNldC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBtYXAgY29udGFpbmVyIGhhcyB0aGUgZm9jdXMgb3Igbm8gJ3RhYmluZGV4JyBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCB2YXIgZm9jdXNXaXRoVGFiaW5kZXggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQubWFwLmdldFRhcmdldEVsZW1lbnQoKS5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JylcbiAgICAgICAgPyBmb2N1cyhldmVudClcbiAgICAgICAgOiB0cnVlO1xufTtcbi8qKlxuICogUmV0dXJuIGFsd2F5cyB0cnVlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgYWx3YXlzID0gVFJVRTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBgY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFzIGFuIFwiYWN0aW9uXCItcHJvZHVjaW5nIG1vdXNlIGJ1dHRvbi5cbiAqXG4gKiBCeSBkZWZpbml0aW9uLCB0aGlzIGluY2x1ZGVzIGxlZnQtY2xpY2sgb24gd2luZG93cy9saW51eCwgYW5kIGxlZnQtY2xpY2tcbiAqIHdpdGhvdXQgdGhlIGN0cmwga2V5IG9uIE1hY3MuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IHZhciBtb3VzZUFjdGlvbkJ1dHRvbiA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gb3JpZ2luYWxFdmVudC5idXR0b24gPT0gMCAmJiAhKFdFQktJVCAmJiBNQUMgJiYgb3JpZ2luYWxFdmVudC5jdHJsS2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBhbHdheXMgZmFsc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gRmFsc2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgbmV2ZXIgPSBGQUxTRTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYnJvd3NlciBldmVudCBpcyBhIGBwb2ludGVybW92ZWAgZXZlbnQsIGBmYWxzZWBcbiAqIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBicm93c2VyIGV2ZW50IGlzIGEgYHBvaW50ZXJtb3ZlYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBwb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gJ3BvaW50ZXJtb3ZlJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBzaW5nbGVjbGlja2AgZXZlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgc2luZ2xlQ2xpY2sgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuU0lOR0xFQ0xJQ0s7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIGRvdWJsZUNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBubyBtb2RpZmllciBrZXkgKGFsdC0sIHNoaWZ0LSBvciBwbGF0Zm9ybS1tb2RpZmllci1rZXkpIGlzXG4gKiBwcmVzc2VkLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGVyZSBubyBtb2RpZmllciBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIG5vTW9kaWZpZXJLZXlzID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKCFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgICAgICFvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KTtcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5ICh0aGUgbWV0YS1rZXkgb24gTWFjLFxuICogY3RybC1rZXkgb3RoZXJ3aXNlKSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseVxuICogdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIHBsYXRmb3JtIG1vZGlmaWVyIGtleSBpcyBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBsYXRmb3JtTW9kaWZpZXJLZXlPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICByZXR1cm4gKCFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICAgICAoTUFDID8gb3JpZ2luYWxFdmVudC5tZXRhS2V5IDogb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuXG4gKiBhZGRpdGlvbmFsbHkgdGhlIGFsdC1rZXkgaXMgcHJlc3NlZCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IHRoZSBzaGlmdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBzaGlmdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgIHJldHVybiAoIW9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgb3JpZ2luYWxFdmVudC5zaGlmdEtleSk7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBub3QgZWRpdGFibGUsIGkuZS4gbm90IGEgYDxpbnB1dD5gLSxcbiAqIGA8c2VsZWN0PmAtIG9yIGA8dGV4dGFyZWE+YC1lbGVtZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIG9ubHkgaWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIG5vdCBlZGl0YWJsZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciB0YXJnZXROb3RFZGl0YWJsZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB2YXIgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgdmFyIHRhZ05hbWUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChvcmlnaW5hbEV2ZW50LnRhcmdldCkudGFnTmFtZTtcbiAgICByZXR1cm4gdGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiB0YWdOYW1lICE9PSAnU0VMRUNUJyAmJiB0YWdOYW1lICE9PSAnVEVYVEFSRUEnO1xufTtcbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgbW91c2UgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIG1vdXNlIGRldmljZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBtb3VzZU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdmVudCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpXG4gICAgICAgIC5vcmlnaW5hbEV2ZW50O1xuICAgIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09ICdtb3VzZSc7XG59O1xuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSB0b3VjaGFibGUgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHRvdWNoYWJsZSBkZXZpY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgdG91Y2hPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciBwb2ludGVyRXZ0ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKG1hcEJyb3dzZXJFdmVudClcbiAgICAgICAgLm9yaWdpbmFsRXZlbnQ7XG4gICAgYXNzZXJ0KHBvaW50ZXJFdnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgICByZXR1cm4gcG9pbnRlckV2dC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHBlbk9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAobWFwQnJvd3NlckV2ZW50KVxuICAgICAgICAub3JpZ2luYWxFdmVudDtcbiAgICBhc3NlcnQocG9pbnRlckV2dCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgIC8vIHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyN3aWRsLVBvaW50ZXJFdmVudC1wb2ludGVyVHlwZVxuICAgIHJldHVybiBwb2ludGVyRXZ0LnBvaW50ZXJUeXBlID09PSAncGVuJztcbn07XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHByaW1hcnkgcG9pbnRlciBpblxuICogY29udGFjdCB3aXRoIHRoZSBzdXJmYWNlIG9yIGlmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkLlxuICogU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI2J1dHRvbi1zdGF0ZXMuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgcHJpbWFyeSBwb2ludGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHByaW1hcnlBY3Rpb24gPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgdmFyIHBvaW50ZXJFdmVudCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChtYXBCcm93c2VyRXZlbnQpXG4gICAgICAgIC5vcmlnaW5hbEV2ZW50O1xuICAgIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LmlzUHJpbWFyeSAmJiBwb2ludGVyRXZlbnQuYnV0dG9uID09PSAwO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmRpdGlvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZXh0ZW50XG4gKi9cbmltcG9ydCBDb3JuZXIgZnJvbSAnLi9leHRlbnQvQ29ybmVyLmpzJztcbmltcG9ydCBSZWxhdGlvbnNoaXAgZnJvbSAnLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGFuIGV4dGVudDogYFttaW54LCBtaW55LCBtYXh4LCBtYXh5XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gRXh0ZW50XG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQnVpbGQgYW4gZXh0ZW50IHRoYXQgaW5jbHVkZXMgYWxsIGdpdmVuIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0V4dGVudH0gQm91bmRpbmcgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmRpbmdFeHRlbnQoY29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBleHRlbnQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geHMgWHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHlzIFlzLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZnVuY3Rpb24gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgb3B0X2V4dGVudCkge1xuICAgIHZhciBtaW5YID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeHMpO1xuICAgIHZhciBtaW5ZID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeXMpO1xuICAgIHZhciBtYXhYID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeHMpO1xuICAgIHZhciBtYXhZID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeXMpO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogUmV0dXJuIGV4dGVudCBpbmNyZWFzZWQgYnkgdGhlIHByb3ZpZGVkIHZhbHVlLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGFtb3VudCBieSB3aGljaCB0aGUgZXh0ZW50IHNob3VsZCBiZSBidWZmZXJlZC5cbiAqIEBwYXJhbSB7RXh0ZW50PX0gb3B0X2V4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcihleHRlbnQsIHZhbHVlLCBvcHRfZXh0ZW50KSB7XG4gICAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICAgICAgb3B0X2V4dGVudFswXSA9IGV4dGVudFswXSAtIHZhbHVlO1xuICAgICAgICBvcHRfZXh0ZW50WzFdID0gZXh0ZW50WzFdIC0gdmFsdWU7XG4gICAgICAgIG9wdF9leHRlbnRbMl0gPSBleHRlbnRbMl0gKyB2YWx1ZTtcbiAgICAgICAgb3B0X2V4dGVudFszXSA9IGV4dGVudFszXSArIHZhbHVlO1xuICAgICAgICByZXR1cm4gb3B0X2V4dGVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBleHRlbnRbMF0gLSB2YWx1ZSxcbiAgICAgICAgICAgIGV4dGVudFsxXSAtIHZhbHVlLFxuICAgICAgICAgICAgZXh0ZW50WzJdICsgdmFsdWUsXG4gICAgICAgICAgICBleHRlbnRbM10gKyB2YWx1ZSxcbiAgICAgICAgXTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBhbiBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBUaGUgY2xvbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShleHRlbnQsIG9wdF9leHRlbnQpIHtcbiAgICBpZiAob3B0X2V4dGVudCkge1xuICAgICAgICBvcHRfZXh0ZW50WzBdID0gZXh0ZW50WzBdO1xuICAgICAgICBvcHRfZXh0ZW50WzFdID0gZXh0ZW50WzFdO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gZXh0ZW50WzJdO1xuICAgICAgICBvcHRfZXh0ZW50WzNdID0gZXh0ZW50WzNdO1xuICAgICAgICByZXR1cm4gb3B0X2V4dGVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBleHRlbnQuc2xpY2UoKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IENsb3Nlc3Qgc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWShleHRlbnQsIHgsIHkpIHtcbiAgICB2YXIgZHgsIGR5O1xuICAgIGlmICh4IDwgZXh0ZW50WzBdKSB7XG4gICAgICAgIGR4ID0gZXh0ZW50WzBdIC0geDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXh0ZW50WzJdIDwgeCkge1xuICAgICAgICBkeCA9IHggLSBleHRlbnRbMl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkeCA9IDA7XG4gICAgfVxuICAgIGlmICh5IDwgZXh0ZW50WzFdKSB7XG4gICAgICAgIGR5ID0gZXh0ZW50WzFdIC0geTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXh0ZW50WzNdIDwgeSkge1xuICAgICAgICBkeSA9IHkgLSBleHRlbnRbM107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkeSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHBhc3NlZCBjb29yZGluYXRlIGlzIGNvbnRhaW5lZCBvciBvbiB0aGUgZWRnZSBvZiB0aGUgZXh0ZW50LlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIGluIHRoZSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0Nvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zWFkoZXh0ZW50LCBjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgb25lIGV4dGVudCBjb250YWlucyBhbm90aGVyLlxuICpcbiAqIEFuIGV4dGVudCBpcyBkZWVtZWQgY29udGFpbmVkIGlmIGl0IGxpZXMgY29tcGxldGVseSB3aXRoaW4gdGhlIG90aGVyIGV4dGVudCxcbiAqIGluY2x1ZGluZyBpZiB0aGV5IHNoYXJlIG9uZSBvciBtb3JlIGVkZ2VzLlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc2Vjb25kIGV4dGVudCBpcyBjb250YWluZWQgYnkgb3Igb24gdGhlIGVkZ2Ugb2YgdGhlXG4gKiAgICAgZmlyc3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0V4dGVudChleHRlbnQxLCBleHRlbnQyKSB7XG4gICAgcmV0dXJuIChleHRlbnQxWzBdIDw9IGV4dGVudDJbMF0gJiZcbiAgICAgICAgZXh0ZW50MlsyXSA8PSBleHRlbnQxWzJdICYmXG4gICAgICAgIGV4dGVudDFbMV0gPD0gZXh0ZW50MlsxXSAmJlxuICAgICAgICBleHRlbnQyWzNdIDw9IGV4dGVudDFbM10pO1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIG9yIG9uIHRoZSBlZGdlIG9mIHRoZSBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0geSBZIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgeCwgeSB2YWx1ZXMgYXJlIGNvbnRhaW5lZCBpbiB0aGUgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNYWShleHRlbnQsIHgsIHkpIHtcbiAgICByZXR1cm4gZXh0ZW50WzBdIDw9IHggJiYgeCA8PSBleHRlbnRbMl0gJiYgZXh0ZW50WzFdIDw9IHkgJiYgeSA8PSBleHRlbnRbM107XG59XG4vKipcbiAqIEdldCB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gYSBjb29yZGluYXRlIGFuZCBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzXCIpLmRlZmF1bHR9IFRoZSByZWxhdGlvbnNoaXAgKGJpdHdpc2UgY29tcGFyZSB3aXRoXG4gKiAgICAgaW1wb3J0KFwiLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzXCIpLlJlbGF0aW9uc2hpcCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlUmVsYXRpb25zaGlwKGV4dGVudCwgY29vcmRpbmF0ZSkge1xuICAgIHZhciBtaW5YID0gZXh0ZW50WzBdO1xuICAgIHZhciBtaW5ZID0gZXh0ZW50WzFdO1xuICAgIHZhciBtYXhYID0gZXh0ZW50WzJdO1xuICAgIHZhciBtYXhZID0gZXh0ZW50WzNdO1xuICAgIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV07XG4gICAgdmFyIHJlbGF0aW9uc2hpcCA9IFJlbGF0aW9uc2hpcC5VTktOT1dOO1xuICAgIGlmICh4IDwgbWluWCkge1xuICAgICAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuTEVGVDtcbiAgICB9XG4gICAgZWxzZSBpZiAoeCA+IG1heFgpIHtcbiAgICAgICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwIHwgUmVsYXRpb25zaGlwLlJJR0hUO1xuICAgIH1cbiAgICBpZiAoeSA8IG1pblkpIHtcbiAgICAgICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwIHwgUmVsYXRpb25zaGlwLkJFTE9XO1xuICAgIH1cbiAgICBlbHNlIGlmICh5ID4gbWF4WSkge1xuICAgICAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuQUJPVkU7XG4gICAgfVxuICAgIGlmIChyZWxhdGlvbnNoaXAgPT09IFJlbGF0aW9uc2hpcC5VTktOT1dOKSB7XG4gICAgICAgIHJlbGF0aW9uc2hpcCA9IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkc7XG4gICAgfVxuICAgIHJldHVybiByZWxhdGlvbnNoaXA7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBlbXB0eSBleHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEVtcHR5IGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5KCkge1xuICAgIHJldHVybiBbSW5maW5pdHksIEluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eV07XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBleHRlbnQgb3IgdXBkYXRlIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KSB7XG4gICAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICAgICAgb3B0X2V4dGVudFswXSA9IG1pblg7XG4gICAgICAgIG9wdF9leHRlbnRbMV0gPSBtaW5ZO1xuICAgICAgICBvcHRfZXh0ZW50WzJdID0gbWF4WDtcbiAgICAgICAgb3B0X2V4dGVudFszXSA9IG1heFk7XG4gICAgICAgIHJldHVybiBvcHRfZXh0ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBlbXB0eSBleHRlbnQgb3IgbWFrZSB0aGUgcHJvdmlkZWQgb25lIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVFbXB0eShvcHRfZXh0ZW50KSB7XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKEluZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHksIG9wdF9leHRlbnQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlKGNvb3JkaW5hdGUsIG9wdF9leHRlbnQpIHtcbiAgICB2YXIgeCA9IGNvb3JkaW5hdGVbMF07XG4gICAgdmFyIHkgPSBjb29yZGluYXRlWzFdO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZSh4LCB5LCB4LCB5LCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIG9wdF9leHRlbnQpIHtcbiAgICB2YXIgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShvcHRfZXh0ZW50KTtcbiAgICByZXR1cm4gZXh0ZW5kQ29vcmRpbmF0ZXMoZXh0ZW50LCBjb29yZGluYXRlcyk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRW1wdHkob3B0X2V4dGVudCk7XG4gICAgcmV0dXJuIGV4dGVuZEZsYXRDb29yZGluYXRlcyhleHRlbnQsIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gcmluZ3MgUmluZ3MuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21SaW5ncyhyaW5ncywgb3B0X2V4dGVudCkge1xuICAgIHZhciBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZUVtcHR5KG9wdF9leHRlbnQpO1xuICAgIHJldHVybiBleHRlbmRSaW5ncyhleHRlbnQsIHJpbmdzKTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHR3byBleHRlbnRzIGFyZSBlcXVpdmFsZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gZXh0ZW50cyBhcmUgZXF1aXZhbGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhleHRlbnQxLCBleHRlbnQyKSB7XG4gICAgcmV0dXJuIChleHRlbnQxWzBdID09IGV4dGVudDJbMF0gJiZcbiAgICAgICAgZXh0ZW50MVsyXSA9PSBleHRlbnQyWzJdICYmXG4gICAgICAgIGV4dGVudDFbMV0gPT0gZXh0ZW50MlsxXSAmJlxuICAgICAgICBleHRlbnQxWzNdID09IGV4dGVudDJbM10pO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdHdvIGV4dGVudHMgYXJlIGFwcHJveGltYXRlbHkgZXF1aXZhbGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZSBpbiBleHRlbnQgY29vcmRpbmF0ZSB1bml0cy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gZXh0ZW50cyBkaWZmZXIgYnkgbGVzcyB0aGFuIHRoZSB0b2xlcmFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHByb3hpbWF0ZWx5RXF1YWxzKGV4dGVudDEsIGV4dGVudDIsIHRvbGVyYW5jZSkge1xuICAgIHJldHVybiAoTWF0aC5hYnMoZXh0ZW50MVswXSAtIGV4dGVudDJbMF0pIDwgdG9sZXJhbmNlICYmXG4gICAgICAgIE1hdGguYWJzKGV4dGVudDFbMl0gLSBleHRlbnQyWzJdKSA8IHRvbGVyYW5jZSAmJlxuICAgICAgICBNYXRoLmFicyhleHRlbnQxWzFdIC0gZXh0ZW50MlsxXSkgPCB0b2xlcmFuY2UgJiZcbiAgICAgICAgTWF0aC5hYnMoZXh0ZW50MVszXSAtIGV4dGVudDJbM10pIDwgdG9sZXJhbmNlKTtcbn1cbi8qKlxuICogTW9kaWZ5IGFuIGV4dGVudCB0byBpbmNsdWRlIGFub3RoZXIgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgVGhlIGV4dGVudCB0byBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIFRoZSBleHRlbnQgdGhhdCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBmaXJzdC5cbiAqIEByZXR1cm4ge0V4dGVudH0gQSByZWZlcmVuY2UgdG8gdGhlIGZpcnN0IChleHRlbmRlZCkgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICBpZiAoZXh0ZW50MlswXSA8IGV4dGVudDFbMF0pIHtcbiAgICAgICAgZXh0ZW50MVswXSA9IGV4dGVudDJbMF07XG4gICAgfVxuICAgIGlmIChleHRlbnQyWzJdID4gZXh0ZW50MVsyXSkge1xuICAgICAgICBleHRlbnQxWzJdID0gZXh0ZW50MlsyXTtcbiAgICB9XG4gICAgaWYgKGV4dGVudDJbMV0gPCBleHRlbnQxWzFdKSB7XG4gICAgICAgIGV4dGVudDFbMV0gPSBleHRlbnQyWzFdO1xuICAgIH1cbiAgICBpZiAoZXh0ZW50MlszXSA+IGV4dGVudDFbM10pIHtcbiAgICAgICAgZXh0ZW50MVszXSA9IGV4dGVudDJbM107XG4gICAgfVxuICAgIHJldHVybiBleHRlbnQxO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gICAgaWYgKGNvb3JkaW5hdGVbMF0gPCBleHRlbnRbMF0pIHtcbiAgICAgICAgZXh0ZW50WzBdID0gY29vcmRpbmF0ZVswXTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVbMF0gPiBleHRlbnRbMl0pIHtcbiAgICAgICAgZXh0ZW50WzJdID0gY29vcmRpbmF0ZVswXTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVbMV0gPCBleHRlbnRbMV0pIHtcbiAgICAgICAgZXh0ZW50WzFdID0gY29vcmRpbmF0ZVsxXTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVbMV0gPiBleHRlbnRbM10pIHtcbiAgICAgICAgZXh0ZW50WzNdID0gY29vcmRpbmF0ZVsxXTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRDb29yZGluYXRlcyhleHRlbnQsIGNvb3JkaW5hdGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgY29vcmRpbmF0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW50O1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZEZsYXRDb29yZGluYXRlcyhleHRlbnQsIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgZXh0ZW5kWFkoZXh0ZW50LCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDtcbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IHJpbmdzIFJpbmdzLlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRSaW5ncyhleHRlbnQsIHJpbmdzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmluZ3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBleHRlbmRDb29yZGluYXRlcyhleHRlbnQsIHJpbmdzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDtcbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFhZKGV4dGVudCwgeCwgeSkge1xuICAgIGV4dGVudFswXSA9IE1hdGgubWluKGV4dGVudFswXSwgeCk7XG4gICAgZXh0ZW50WzFdID0gTWF0aC5taW4oZXh0ZW50WzFdLCB5KTtcbiAgICBleHRlbnRbMl0gPSBNYXRoLm1heChleHRlbnRbMl0sIHgpO1xuICAgIGV4dGVudFszXSA9IE1hdGgubWF4KGV4dGVudFszXSwgeSk7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYGNhbGxiYWNrYCBmb3IgZWFjaCBjb3JuZXIgb2YgdGhlIGV4dGVudC4gSWYgdGhlXG4gKiBjYWxsYmFjayByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRoYXQgdmFsdWVcbiAqIGltbWVkaWF0ZWx5LiBPdGhlcndpc2UgdGhlIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFN9IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHJldHVybiB7U3xib29sZWFufSBWYWx1ZS5cbiAqIEB0ZW1wbGF0ZSBTXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoQ29ybmVyKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdmFsO1xuICAgIHZhbCA9IGNhbGxiYWNrKGdldEJvdHRvbUxlZnQoZXh0ZW50KSk7XG4gICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICB2YWwgPSBjYWxsYmFjayhnZXRCb3R0b21SaWdodChleHRlbnQpKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHZhbCA9IGNhbGxiYWNrKGdldFRvcFJpZ2h0KGV4dGVudCkpO1xuICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgdmFsID0gY2FsbGJhY2soZ2V0VG9wTGVmdChleHRlbnQpKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogR2V0IHRoZSBzaXplIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShleHRlbnQpIHtcbiAgICB2YXIgYXJlYSA9IDA7XG4gICAgaWYgKCFpc0VtcHR5KGV4dGVudCkpIHtcbiAgICAgICAgYXJlYSA9IGdldFdpZHRoKGV4dGVudCkgKiBnZXRIZWlnaHQoZXh0ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGFyZWE7XG59XG4vKipcbiAqIEdldCB0aGUgYm90dG9tIGxlZnQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBCb3R0b20gbGVmdCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm90dG9tTGVmdChleHRlbnQpIHtcbiAgICByZXR1cm4gW2V4dGVudFswXSwgZXh0ZW50WzFdXTtcbn1cbi8qKlxuICogR2V0IHRoZSBib3R0b20gcmlnaHQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBCb3R0b20gcmlnaHQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdHRvbVJpZ2h0KGV4dGVudCkge1xuICAgIHJldHVybiBbZXh0ZW50WzJdLCBleHRlbnRbMV1dO1xufVxuLyoqXG4gKiBHZXQgdGhlIGNlbnRlciBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENlbnRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENlbnRlcihleHRlbnQpIHtcbiAgICByZXR1cm4gWyhleHRlbnRbMF0gKyBleHRlbnRbMl0pIC8gMiwgKGV4dGVudFsxXSArIGV4dGVudFszXSkgLyAyXTtcbn1cbi8qKlxuICogR2V0IGEgY29ybmVyIGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50L0Nvcm5lci5qc1wiKS5kZWZhdWx0fSBjb3JuZXIgQ29ybmVyLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvcm5lciBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ybmVyKGV4dGVudCwgY29ybmVyKSB7XG4gICAgdmFyIGNvb3JkaW5hdGU7XG4gICAgaWYgKGNvcm5lciA9PT0gQ29ybmVyLkJPVFRPTV9MRUZUKSB7XG4gICAgICAgIGNvb3JkaW5hdGUgPSBnZXRCb3R0b21MZWZ0KGV4dGVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvcm5lciA9PT0gQ29ybmVyLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICBjb29yZGluYXRlID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29ybmVyID09PSBDb3JuZXIuVE9QX0xFRlQpIHtcbiAgICAgICAgY29vcmRpbmF0ZSA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29ybmVyID09PSBDb3JuZXIuVE9QX1JJR0hUKSB7XG4gICAgICAgIGNvb3JkaW5hdGUgPSBnZXRUb3BSaWdodChleHRlbnQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzZXJ0KGZhbHNlLCAxMyk7IC8vIEludmFsaWQgY29ybmVyXG4gICAgfVxuICAgIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7bnVtYmVyfSBFbmxhcmdlZCBhcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5sYXJnZWRBcmVhKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgICB2YXIgbWluWCA9IE1hdGgubWluKGV4dGVudDFbMF0sIGV4dGVudDJbMF0pO1xuICAgIHZhciBtaW5ZID0gTWF0aC5taW4oZXh0ZW50MVsxXSwgZXh0ZW50MlsxXSk7XG4gICAgdmFyIG1heFggPSBNYXRoLm1heChleHRlbnQxWzJdLCBleHRlbnQyWzJdKTtcbiAgICB2YXIgbWF4WSA9IE1hdGgubWF4KGV4dGVudDFbM10sIGV4dGVudDJbM10pO1xuICAgIHJldHVybiAobWF4WCAtIG1pblgpICogKG1heFkgLSBtaW5ZKTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge0V4dGVudD19IG9wdF9leHRlbnQgRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JWaWV3QW5kU2l6ZShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGR4ID0gKHJlc29sdXRpb24gKiBzaXplWzBdKSAvIDI7XG4gICAgdmFyIGR5ID0gKHJlc29sdXRpb24gKiBzaXplWzFdKSAvIDI7XG4gICAgdmFyIGNvc1JvdGF0aW9uID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgIHZhciBzaW5Sb3RhdGlvbiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICB2YXIgeENvcyA9IGR4ICogY29zUm90YXRpb247XG4gICAgdmFyIHhTaW4gPSBkeCAqIHNpblJvdGF0aW9uO1xuICAgIHZhciB5Q29zID0gZHkgKiBjb3NSb3RhdGlvbjtcbiAgICB2YXIgeVNpbiA9IGR5ICogc2luUm90YXRpb247XG4gICAgdmFyIHggPSBjZW50ZXJbMF07XG4gICAgdmFyIHkgPSBjZW50ZXJbMV07XG4gICAgdmFyIHgwID0geCAtIHhDb3MgKyB5U2luO1xuICAgIHZhciB4MSA9IHggLSB4Q29zIC0geVNpbjtcbiAgICB2YXIgeDIgPSB4ICsgeENvcyAtIHlTaW47XG4gICAgdmFyIHgzID0geCArIHhDb3MgKyB5U2luO1xuICAgIHZhciB5MCA9IHkgLSB4U2luIC0geUNvcztcbiAgICB2YXIgeTEgPSB5IC0geFNpbiArIHlDb3M7XG4gICAgdmFyIHkyID0geSArIHhTaW4gKyB5Q29zO1xuICAgIHZhciB5MyA9IHkgKyB4U2luIC0geUNvcztcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoTWF0aC5taW4oeDAsIHgxLCB4MiwgeDMpLCBNYXRoLm1pbih5MCwgeTEsIHkyLCB5MyksIE1hdGgubWF4KHgwLCB4MSwgeDIsIHgzKSwgTWF0aC5tYXgoeTAsIHkxLCB5MiwgeTMpLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhlaWdodC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhlaWdodChleHRlbnQpIHtcbiAgICByZXR1cm4gZXh0ZW50WzNdIC0gZXh0ZW50WzFdO1xufVxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7bnVtYmVyfSBJbnRlcnNlY3Rpb24gYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbkFyZWEoZXh0ZW50MSwgZXh0ZW50Mikge1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50Mik7XG4gICAgcmV0dXJuIGdldEFyZWEoaW50ZXJzZWN0aW9uKTtcbn1cbi8qKlxuICogR2V0IHRoZSBpbnRlcnNlY3Rpb24gb2YgdHdvIGV4dGVudHMuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IE9wdGlvbmFsIGV4dGVudCB0byBwb3B1bGF0ZSB3aXRoIGludGVyc2VjdGlvbi5cbiAqIEByZXR1cm4ge0V4dGVudH0gSW50ZXJzZWN0aW5nIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihleHRlbnQxLCBleHRlbnQyLCBvcHRfZXh0ZW50KSB7XG4gICAgdmFyIGludGVyc2VjdGlvbiA9IG9wdF9leHRlbnQgPyBvcHRfZXh0ZW50IDogY3JlYXRlRW1wdHkoKTtcbiAgICBpZiAoaW50ZXJzZWN0cyhleHRlbnQxLCBleHRlbnQyKSkge1xuICAgICAgICBpZiAoZXh0ZW50MVswXSA+IGV4dGVudDJbMF0pIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblswXSA9IGV4dGVudDFbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMF0gPSBleHRlbnQyWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlbnQxWzFdID4gZXh0ZW50MlsxXSkge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzFdID0gZXh0ZW50MVsxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblsxXSA9IGV4dGVudDJbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dGVudDFbMl0gPCBleHRlbnQyWzJdKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bMl0gPSBleHRlbnQxWzJdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uWzJdID0gZXh0ZW50MlsyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZW50MVszXSA8IGV4dGVudDJbM10pIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblszXSA9IGV4dGVudDFbM107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25bM10gPSBleHRlbnQyWzNdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjcmVhdGVPclVwZGF0ZUVtcHR5KGludGVyc2VjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBpbnRlcnNlY3Rpb247XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBNYXJnaW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXJnaW4oZXh0ZW50KSB7XG4gICAgcmV0dXJuIGdldFdpZHRoKGV4dGVudCkgKyBnZXRIZWlnaHQoZXh0ZW50KTtcbn1cbi8qKlxuICogR2V0IHRoZSBzaXplICh3aWR0aCwgaGVpZ2h0KSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gVGhlIGV4dGVudCBzaXplLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShleHRlbnQpIHtcbiAgICByZXR1cm4gW2V4dGVudFsyXSAtIGV4dGVudFswXSwgZXh0ZW50WzNdIC0gZXh0ZW50WzFdXTtcbn1cbi8qKlxuICogR2V0IHRoZSB0b3AgbGVmdCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRvcCBsZWZ0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BMZWZ0KGV4dGVudCkge1xuICAgIHJldHVybiBbZXh0ZW50WzBdLCBleHRlbnRbM11dO1xufVxuLyoqXG4gKiBHZXQgdGhlIHRvcCByaWdodCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRvcCByaWdodCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wUmlnaHQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIFtleHRlbnRbMl0sIGV4dGVudFszXV07XG59XG4vKipcbiAqIEdldCB0aGUgd2lkdGggb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFdpZHRoLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkdGgoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGV4dGVudFsyXSAtIGV4dGVudFswXTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIG9uZSBleHRlbnQgaW50ZXJzZWN0cyBhbm90aGVyLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdHdvIGV4dGVudHMgaW50ZXJzZWN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0cyhleHRlbnQxLCBleHRlbnQyKSB7XG4gICAgcmV0dXJuIChleHRlbnQxWzBdIDw9IGV4dGVudDJbMl0gJiZcbiAgICAgICAgZXh0ZW50MVsyXSA+PSBleHRlbnQyWzBdICYmXG4gICAgICAgIGV4dGVudDFbMV0gPD0gZXh0ZW50MlszXSAmJlxuICAgICAgICBleHRlbnQxWzNdID49IGV4dGVudDJbMV0pO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYW4gZXh0ZW50IGlzIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGV4dGVudFsyXSA8IGV4dGVudFswXSB8fCBleHRlbnRbM10gPCBleHRlbnRbMV07XG59XG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnQ9fSBvcHRfZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuT3JVcGRhdGUoZXh0ZW50LCBvcHRfZXh0ZW50KSB7XG4gICAgaWYgKG9wdF9leHRlbnQpIHtcbiAgICAgICAgb3B0X2V4dGVudFswXSA9IGV4dGVudFswXTtcbiAgICAgICAgb3B0X2V4dGVudFsxXSA9IGV4dGVudFsxXTtcbiAgICAgICAgb3B0X2V4dGVudFsyXSA9IGV4dGVudFsyXTtcbiAgICAgICAgb3B0X2V4dGVudFszXSA9IGV4dGVudFszXTtcbiAgICAgICAgcmV0dXJuIG9wdF9leHRlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZXh0ZW50O1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUZyb21DZW50ZXIoZXh0ZW50LCB2YWx1ZSkge1xuICAgIHZhciBkZWx0YVggPSAoKGV4dGVudFsyXSAtIGV4dGVudFswXSkgLyAyKSAqICh2YWx1ZSAtIDEpO1xuICAgIHZhciBkZWx0YVkgPSAoKGV4dGVudFszXSAtIGV4dGVudFsxXSkgLyAyKSAqICh2YWx1ZSAtIDEpO1xuICAgIGV4dGVudFswXSAtPSBkZWx0YVg7XG4gICAgZXh0ZW50WzJdICs9IGRlbHRhWDtcbiAgICBleHRlbnRbMV0gLT0gZGVsdGFZO1xuICAgIGV4dGVudFszXSArPSBkZWx0YVk7XG59XG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgc2VnbWVudCBiZXR3ZWVuIHR3byBjb29yZGluYXRlcyBpbnRlcnNlY3RzIChjcm9zc2VzLFxuICogdG91Y2hlcywgb3IgaXMgY29udGFpbmVkIGJ5KSB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gc3RhcnQgU2VnbWVudCBzdGFydCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZW5kIFNlZ21lbnQgZW5kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc2VnbWVudCBpbnRlcnNlY3RzIHRoZSBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzU2VnbWVudChleHRlbnQsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgaW50ZXJzZWN0cyA9IGZhbHNlO1xuICAgIHZhciBzdGFydFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBzdGFydCk7XG4gICAgdmFyIGVuZFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBlbmQpO1xuICAgIGlmIChzdGFydFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORyB8fFxuICAgICAgICBlbmRSZWwgPT09IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkcpIHtcbiAgICAgICAgaW50ZXJzZWN0cyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgbWluWCA9IGV4dGVudFswXTtcbiAgICAgICAgdmFyIG1pblkgPSBleHRlbnRbMV07XG4gICAgICAgIHZhciBtYXhYID0gZXh0ZW50WzJdO1xuICAgICAgICB2YXIgbWF4WSA9IGV4dGVudFszXTtcbiAgICAgICAgdmFyIHN0YXJ0WCA9IHN0YXJ0WzBdO1xuICAgICAgICB2YXIgc3RhcnRZID0gc3RhcnRbMV07XG4gICAgICAgIHZhciBlbmRYID0gZW5kWzBdO1xuICAgICAgICB2YXIgZW5kWSA9IGVuZFsxXTtcbiAgICAgICAgdmFyIHNsb3BlID0gKGVuZFkgLSBzdGFydFkpIC8gKGVuZFggLSBzdGFydFgpO1xuICAgICAgICB2YXIgeCA9IHZvaWQgMCwgeSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5BQk9WRSkgJiYgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5BQk9WRSkpIHtcbiAgICAgICAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgdG9wXG4gICAgICAgICAgICB4ID0gZW5kWCAtIChlbmRZIC0gbWF4WSkgLyBzbG9wZTtcbiAgICAgICAgICAgIGludGVyc2VjdHMgPSB4ID49IG1pblggJiYgeCA8PSBtYXhYO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyAmJlxuICAgICAgICAgICAgISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLlJJR0hUKSAmJlxuICAgICAgICAgICAgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5SSUdIVCkpIHtcbiAgICAgICAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgcmlnaHRcbiAgICAgICAgICAgIHkgPSBlbmRZIC0gKGVuZFggLSBtYXhYKSAqIHNsb3BlO1xuICAgICAgICAgICAgaW50ZXJzZWN0cyA9IHkgPj0gbWluWSAmJiB5IDw9IG1heFk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzICYmXG4gICAgICAgICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuQkVMT1cpICYmXG4gICAgICAgICAgICAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLkJFTE9XKSkge1xuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyBib3R0b21cbiAgICAgICAgICAgIHggPSBlbmRYIC0gKGVuZFkgLSBtaW5ZKSAvIHNsb3BlO1xuICAgICAgICAgICAgaW50ZXJzZWN0cyA9IHggPj0gbWluWCAmJiB4IDw9IG1heFg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzICYmXG4gICAgICAgICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuTEVGVCkgJiZcbiAgICAgICAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuTEVGVCkpIHtcbiAgICAgICAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgbGVmdFxuICAgICAgICAgICAgeSA9IGVuZFkgLSAoZW5kWCAtIG1pblgpICogc2xvcGU7XG4gICAgICAgICAgICBpbnRlcnNlY3RzID0geSA+PSBtaW5ZICYmIHkgPD0gbWF4WTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW50ZXJzZWN0cztcbn1cbi8qKlxuICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIENhbGxlZCB3aXRoIGBbbWluWCwgbWluWSwgbWF4WCwgbWF4WV1gIGV4dGVudCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7RXh0ZW50PX0gb3B0X2V4dGVudCBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9zdG9wcyBOdW1iZXIgb2Ygc3RvcHMgcGVyIHNpZGUgdXNlZCBmb3IgdGhlIHRyYW5zZm9ybS5cbiAqIEJ5IGRlZmF1bHQgb25seSB0aGUgY29ybmVycyBhcmUgdXNlZC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlUcmFuc2Zvcm0oZXh0ZW50LCB0cmFuc2Zvcm1Gbiwgb3B0X2V4dGVudCwgb3B0X3N0b3BzKSB7XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gW107XG4gICAgaWYgKG9wdF9zdG9wcyA+IDEpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gZXh0ZW50WzJdIC0gZXh0ZW50WzBdO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZXh0ZW50WzNdIC0gZXh0ZW50WzFdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdF9zdG9wczsgKytpKSB7XG4gICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKGV4dGVudFswXSArICh3aWR0aCAqIGkpIC8gb3B0X3N0b3BzLCBleHRlbnRbMV0sIGV4dGVudFsyXSwgZXh0ZW50WzFdICsgKGhlaWdodCAqIGkpIC8gb3B0X3N0b3BzLCBleHRlbnRbMl0gLSAod2lkdGggKiBpKSAvIG9wdF9zdG9wcywgZXh0ZW50WzNdLCBleHRlbnRbMF0sIGV4dGVudFszXSAtIChoZWlnaHQgKiBpKSAvIG9wdF9zdG9wcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvb3JkaW5hdGVzID0gW1xuICAgICAgICAgICAgZXh0ZW50WzBdLFxuICAgICAgICAgICAgZXh0ZW50WzFdLFxuICAgICAgICAgICAgZXh0ZW50WzJdLFxuICAgICAgICAgICAgZXh0ZW50WzFdLFxuICAgICAgICAgICAgZXh0ZW50WzJdLFxuICAgICAgICAgICAgZXh0ZW50WzNdLFxuICAgICAgICAgICAgZXh0ZW50WzBdLFxuICAgICAgICAgICAgZXh0ZW50WzNdLFxuICAgICAgICBdO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1Gbihjb29yZGluYXRlcywgY29vcmRpbmF0ZXMsIDIpO1xuICAgIHZhciB4cyA9IFtdO1xuICAgIHZhciB5cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgICAgIHhzLnB1c2goY29vcmRpbmF0ZXNbaV0pO1xuICAgICAgICB5cy5wdXNoKGNvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgfVxuICAgIHJldHVybiBfYm91bmRpbmdFeHRlbnRYWXMoeHMsIHlzLCBvcHRfZXh0ZW50KTtcbn1cbi8qKlxuICogTW9kaWZpZXMgdGhlIHByb3ZpZGVkIGV4dGVudCBpbi1wbGFjZSB0byBiZSB3aXRoaW4gdGhlIHJlYWwgd29ybGRcbiAqIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uXG4gKiBAcmV0dXJuIHtFeHRlbnR9IFRoZSBleHRlbnQgd2l0aGluIHRoZSByZWFsIHdvcmxkIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBYKGV4dGVudCwgcHJvamVjdGlvbikge1xuICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICB2YXIgY2VudGVyID0gZ2V0Q2VudGVyKGV4dGVudCk7XG4gICAgaWYgKHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgICAgICAoY2VudGVyWzBdIDwgcHJvamVjdGlvbkV4dGVudFswXSB8fCBjZW50ZXJbMF0gPj0gcHJvamVjdGlvbkV4dGVudFsyXSkpIHtcbiAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgdmFyIHdvcmxkc0F3YXkgPSBNYXRoLmZsb29yKChjZW50ZXJbMF0gLSBwcm9qZWN0aW9uRXh0ZW50WzBdKSAvIHdvcmxkV2lkdGgpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gd29ybGRzQXdheSAqIHdvcmxkV2lkdGg7XG4gICAgICAgIGV4dGVudFswXSAtPSBvZmZzZXQ7XG4gICAgICAgIGV4dGVudFsyXSAtPSBvZmZzZXQ7XG4gICAgfVxuICAgIHJldHVybiBleHRlbnQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V4dGVudC9Db3JuZXJcbiAqL1xuLyoqXG4gKiBFeHRlbnQgY29ybmVyLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnLFxuICAgIEJPVFRPTV9SSUdIVDogJ2JvdHRvbS1yaWdodCcsXG4gICAgVE9QX0xFRlQ6ICd0b3AtbGVmdCcsXG4gICAgVE9QX1JJR0hUOiAndG9wLXJpZ2h0Jyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JuZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V4dGVudC9SZWxhdGlvbnNoaXBcbiAqL1xuLyoqXG4gKiBSZWxhdGlvbnNoaXAgdG8gYW4gZXh0ZW50LlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVOS05PV046IDAsXG4gICAgSU5URVJTRUNUSU5HOiAxLFxuICAgIEFCT1ZFOiAyLFxuICAgIFJJR0hUOiA0LFxuICAgIEJFTE9XOiA4LFxuICAgIExFRlQ6IDE2LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbGF0aW9uc2hpcC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZnVuY3Rpb25zXG4gKi9cbmltcG9ydCB7IGVxdWFscyBhcyBhcnJheUVxdWFscyB9IGZyb20gJy4vYXJyYXkuanMnO1xuLyoqXG4gKiBBbHdheXMgcmV0dXJucyB0cnVlLlxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUUlVFKCkge1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBBbHdheXMgcmV0dXJucyBmYWxzZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBmYWxzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZBTFNFKCkge1xuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQSByZXVzYWJsZSBmdW5jdGlvbiwgdXNlZCBlLmcuIGFzIGEgZGVmYXVsdCBmb3IgY2FsbGJhY2tzLlxuICpcbiAqIEByZXR1cm4ge3ZvaWR9IE5vdGhpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBWT0lEKCkgeyB9XG4vKipcbiAqIFdyYXAgYSBmdW5jdGlvbiBpbiBhbm90aGVyIGZ1bmN0aW9uIHRoYXQgcmVtZW1iZXJzIHRoZSBsYXN0IHJldHVybi4gIElmIHRoZVxuICogcmV0dXJuZWQgZnVuY3Rpb24gaXMgY2FsbGVkIHR3aWNlIGluIGEgcm93IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIGFuZCB0aGUgc2FtZVxuICogdGhpcyBvYmplY3QsIGl0IHdpbGwgcmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSBmaXJzdCBjYWxsIGluIHRoZSBzZWNvbmQgY2FsbC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLmFueSk6IFJldHVyblR5cGV9IGZuIFRoZSBmdW5jdGlvbiB0byBtZW1vaXplLlxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4uYW55KTogUmV0dXJuVHlwZX0gVGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQHRlbXBsYXRlIFJldHVyblR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemVPbmUoZm4pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtSZXR1cm5UeXBlfSAqL1xuICAgIHZhciBsYXN0UmVzdWx0O1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8YW55Pn0gKi9cbiAgICB2YXIgbGFzdEFyZ3M7XG4gICAgdmFyIGxhc3RUaGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0QXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICghY2FsbGVkIHx8IHRoaXMgIT09IGxhc3RUaGlzIHx8ICFhcnJheUVxdWFscyhuZXh0QXJncywgbGFzdEFyZ3MpKSB7XG4gICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICAgICAgbGFzdEFyZ3MgPSBuZXh0QXJncztcbiAgICAgICAgICAgIGxhc3RSZXN1bHQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mdW5jdGlvbnMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vR2VvbWV0cnlMYXlvdXRcbiAqL1xuLyoqXG4gKiBUaGUgY29vcmRpbmF0ZSBsYXlvdXQgZm9yIGdlb21ldHJpZXMsIGluZGljYXRpbmcgd2hldGhlciBhIDNyZCBvciA0dGggeiAoJ1onKVxuICogb3IgbWVhc3VyZSAoJ00nKSBjb29yZGluYXRlIGlzIGF2YWlsYWJsZS4gU3VwcG9ydGVkIHZhbHVlcyBhcmUgYCdYWSdgLFxuICogYCdYWVonYCwgYCdYWU0nYCwgYCdYWVpNJ2AuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgWFk6ICdYWScsXG4gICAgWFlaOiAnWFlaJyxcbiAgICBYWU06ICdYWU0nLFxuICAgIFhZWk06ICdYWVpNJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW9tZXRyeUxheW91dC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9HZW9tZXRyeVR5cGVcbiAqL1xuLyoqXG4gKiBUaGUgZ2VvbWV0cnkgdHlwZS4gT25lIG9mIGAnUG9pbnQnYCwgYCdMaW5lU3RyaW5nJ2AsIGAnTGluZWFyUmluZydgLFxuICogYCdQb2x5Z29uJ2AsIGAnTXVsdGlQb2ludCdgLCBgJ011bHRpTGluZVN0cmluZydgLCBgJ011bHRpUG9seWdvbidgLFxuICogYCdHZW9tZXRyeUNvbGxlY3Rpb24nYCwgYCdDaXJjbGUnYC5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQT0lOVDogJ1BvaW50JyxcbiAgICBMSU5FX1NUUklORzogJ0xpbmVTdHJpbmcnLFxuICAgIExJTkVBUl9SSU5HOiAnTGluZWFyUmluZycsXG4gICAgUE9MWUdPTjogJ1BvbHlnb24nLFxuICAgIE1VTFRJX1BPSU5UOiAnTXVsdGlQb2ludCcsXG4gICAgTVVMVElfTElORV9TVFJJTkc6ICdNdWx0aUxpbmVTdHJpbmcnLFxuICAgIE1VTFRJX1BPTFlHT046ICdNdWx0aVBvbHlnb24nLFxuICAgIEdFT01FVFJZX0NPTExFQ1RJT046ICdHZW9tZXRyeUNvbGxlY3Rpb24nLFxuICAgIENJUkNMRTogJ0NpcmNsZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VvbWV0cnlUeXBlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9Qb2ludFxuICovXG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7IGNvbnRhaW5zWFksIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZGVmbGF0ZUNvb3JkaW5hdGUgfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQgeyBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZER4IH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvaW50IGdlb21ldHJ5LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFBvaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb2ludCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHQ9fSBvcHRfbGF5b3V0IExheW91dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2ludChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZXRDb29yZGluYXRlcyhjb29yZGluYXRlcywgb3B0X2xheW91dCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4geyFQb2ludH0gQ2xvbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50ID0gbmV3IFBvaW50KHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCksIHRoaXMubGF5b3V0KTtcbiAgICAgICAgcG9pbnQuYXBwbHlQcm9wZXJ0aWVzKHRoaXMpO1xuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgZmxhdENvb3JkaW5hdGVzWzBdLCBmbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy5zdHJpZGU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgICAgICAgIHJldHVybiBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29vcmRpbmF0ZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmZsYXRDb29yZGluYXRlcyA/IFtdIDogdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29tcHV0ZUV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIGV4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeSB0eXBlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5QT0lOVDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zWFkoZXh0ZW50LCB0aGlzLmZsYXRDb29yZGluYXRlc1swXSwgdGhpcy5mbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshQXJyYXk8Kj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0PX0gb3B0X2xheW91dCBMYXlvdXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMCk7XG4gICAgICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZGVmbGF0ZUNvb3JkaW5hdGUodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIGNvb3JkaW5hdGVzLCB0aGlzLnN0cmlkZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgcmV0dXJuIFBvaW50O1xufShTaW1wbGVHZW9tZXRyeSkpO1xuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vR2VvbWV0cnlcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIH0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZUVtcHR5LCBnZXRIZWlnaHQsIHJldHVybk9yVXBkYXRlLCB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXQgYXMgZ2V0UHJvamVjdGlvbiwgZ2V0VHJhbnNmb3JtIH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBtZW1vaXplT25lIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICovXG52YXIgdG1wVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHZlY3RvciBnZW9tZXRyaWVzLlxuICpcbiAqIFRvIGdldCBub3RpZmllZCBvZiBjaGFuZ2VzIHRvIHRoZSBnZW9tZXRyeSwgcmVnaXN0ZXIgYSBsaXN0ZW5lciBmb3IgdGhlXG4gKiBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IG9uIHlvdXIgZ2VvbWV0cnkgaW5zdGFuY2UuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbnZhciBHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudF8gPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudFJldmlzaW9uXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlSZXZpc2lvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSB0cmFuc2Zvcm1lZCBhbmQgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgICogQGFic3RyYWN0XG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXZpc2lvbiBUaGUgZ2VvbWV0cnkgcmV2aXNpb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFtvcHRfdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAgICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAocmV2aXNpb24sIHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmICghb3B0X3RyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgICAgIGNsb25lLmFwcGx5VHJhbnNmb3JtKG9wdF90cmFuc2Zvcm0pO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdHJhbnNmb3JtZWQgYW5kIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0X3RyYW5zZm9ybV0gT3B0aW9uYWwgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5zaW1wbGlmeVRyYW5zZm9ybWVkID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UsIG9wdF90cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsKHRoaXMuZ2V0UmV2aXNpb24oKSwgc3F1YXJlZFRvbGVyYW5jZSwgb3B0X3RyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7IUdlb21ldHJ5fSBDbG9uZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvc2VzdFBvaW50WFkgPSBmdW5jdGlvbiAoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5jb250YWluc1hZID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIGNvb3JkID0gdGhpcy5nZXRDbG9zZXN0UG9pbnQoW3gsIHldKTtcbiAgICAgICAgcmV0dXJuIGNvb3JkWzBdID09PSB4ICYmIGNvb3JkWzFdID09PSB5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjbG9zZXN0IHBvaW50IG9mIHRoZSBnZW9tZXRyeSB0byB0aGUgcGFzc2VkIHBvaW50IGFzXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGUgY29vcmRpbmF0ZX0uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2Nsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldENsb3Nlc3RQb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgb3B0X2Nsb3Nlc3RQb2ludCkge1xuICAgICAgICB2YXIgY2xvc2VzdFBvaW50ID0gb3B0X2Nsb3Nlc3RQb2ludCA/IG9wdF9jbG9zZXN0UG9pbnQgOiBbTmFOLCBOYU5dO1xuICAgICAgICB0aGlzLmNsb3Nlc3RQb2ludFhZKHBvaW50WzBdLCBwb2ludFsxXSwgY2xvc2VzdFBvaW50LCBJbmZpbml0eSk7XG4gICAgICAgIHJldHVybiBjbG9zZXN0UG9pbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBnZW9tZXRyeSBpbmNsdWRlcyB0aGUgc3BlY2lmaWVkIGNvb3JkaW5hdGUuIElmIHRoZVxuICAgICAqIGNvb3JkaW5hdGUgaXMgb24gdGhlIGJvdW5kYXJ5IG9mIHRoZSBnZW9tZXRyeSwgcmV0dXJucyBmYWxzZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5pbnRlcnNlY3RzQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5zWFkoY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmNvbXB1dGVFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBleHRlbnQgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAob3B0X2V4dGVudCkge1xuICAgICAgICBpZiAodGhpcy5leHRlbnRSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50ID0gdGhpcy5jb21wdXRlRXh0ZW50KHRoaXMuZXh0ZW50Xyk7XG4gICAgICAgICAgICBpZiAoaXNOYU4oZXh0ZW50WzBdKSB8fCBpc05hTihleHRlbnRbMV0pKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlT3JVcGRhdGVFbXB0eShleHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5leHRlbnRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybk9yVXBkYXRlKHRoaXMuZXh0ZW50Xywgb3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhlIGdlb21ldHJ5IGFyb3VuZCBhIGdpdmVuIGNvb3JkaW5hdGUuIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIGFuZ2xlIGluIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlLCBhbmNob3IpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBnZW9tZXRyeSAod2l0aCBhbiBvcHRpb25hbCBvcmlnaW4pLiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3ggVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9zeSBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uIChkZWZhdWx0cyB0byBzeCkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfYW5jaG9yIFRoZSBzY2FsZSBvcmlnaW4gKGRlZmF1bHRzIHRvIHRoZSBjZW50ZXJcbiAgICAgKiAgICAgb2YgdGhlIGdlb21ldHJ5IGV4dGVudCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uIChzeCwgb3B0X3N5LCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeS4gIEZvciBsaW5lc3RyaW5ncywgdGhpcyB1c2VzXG4gICAgICogdGhlIFtEb3VnbGFzIFBldWNrZXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbWVyLURvdWdsYXMtUGV1Y2tlcl9hbGdvcml0aG0pXG4gICAgICogYWxnb3JpdGhtLiAgRm9yIHBvbHlnb25zLCBhIHF1YW50aXphdGlvbi1iYXNlZFxuICAgICAqIHNpbXBsaWZpY2F0aW9uIGlzIHVzZWQgdG8gcHJlc2VydmUgdG9wb2xvZ3kuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUaGUgdG9sZXJhbmNlIGRpc3RhbmNlIGZvciBzaW1wbGlmaWNhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gQSBuZXcsIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgb3JpZ2luYWwgZ2VvbWV0cnkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5zaW1wbGlmeSA9IGZ1bmN0aW9uICh0b2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHRvbGVyYW5jZSAqIHRvbGVyYW5jZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeSB1c2luZyB0aGUgRG91Z2xhcyBQZXVja2VyXG4gICAgICogYWxnb3JpdGhtLlxuICAgICAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SYW1lci1Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkgPSBmdW5jdGlvbiAoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdHlwZSBvZiB0aGlzIGdlb21ldHJ5LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnlUeXBlLmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5IHR5cGUuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBUaGUgZ2VvbWV0cnkgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAgICogSWYgeW91IGRvIG5vdCB3YW50IHRoZSBnZW9tZXRyeSBtb2RpZmllZCBpbiBwbGFjZSwgZmlyc3QgYGNsb25lKClgIGl0IGFuZFxuICAgICAqIHRoZW4gdXNlIHRoaXMgZnVuY3Rpb24gb24gdGhlIGNsb25lLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIENhbGxlZCB3aXRoIGEgZmxhdCBhcnJheSBvZiBnZW9tZXRyeSBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm0gPSBmdW5jdGlvbiAodHJhbnNmb3JtRm4pIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZSB0aGUgZ2VvbWV0cnkuICBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeSBjb29yZGluYXRlcyBpbiBwbGFjZS4gIElmXG4gICAgICogaW5zdGVhZCB5b3Ugd2FudCBhIG5ldyBnZW9tZXRyeSwgZmlyc3QgYGNsb25lKClgIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWCBEZWx0YSBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVgsIGRlbHRhWSkge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGVhY2ggY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkgZnJvbSBvbmUgY29vcmRpbmF0ZSByZWZlcmVuY2VcbiAgICAgKiBzeXN0ZW0gdG8gYW5vdGhlci4gVGhlIGdlb21ldHJ5IGlzIG1vZGlmaWVkIGluIHBsYWNlLlxuICAgICAqIEZvciBleGFtcGxlLCBhIGxpbmUgd2lsbCBiZSB0cmFuc2Zvcm1lZCB0byBhIGxpbmUgYW5kIGEgY2lyY2xlIHRvIGEgY2lyY2xlLlxuICAgICAqIElmIHlvdSBkbyBub3Qgd2FudCB0aGUgZ2VvbWV0cnkgbW9kaWZpZWQgaW4gcGxhY2UsIGZpcnN0IGBjbG9uZSgpYCBpdCBhbmRcbiAgICAgKiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gc291cmNlIFRoZSBjdXJyZW50IHByb2plY3Rpb24uICBDYW4gYmUgYVxuICAgICAqICAgICBzdHJpbmcgaWRlbnRpZmllciBvciBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIFRoZSBkZXNpcmVkIHByb2plY3Rpb24uICBDYW4gYmUgYVxuICAgICAqICAgICBzdHJpbmcgaWRlbnRpZmllciBvciBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gVGhpcyBnZW9tZXRyeS4gIE5vdGUgdGhhdCBvcmlnaW5hbCBnZW9tZXRyeSBpc1xuICAgICAqICAgICBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIChzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovXG4gICAgICAgIHZhciBzb3VyY2VQcm9qID0gZ2V0UHJvamVjdGlvbihzb3VyY2UpO1xuICAgICAgICB2YXIgdHJhbnNmb3JtRm4gPSBzb3VyY2VQcm9qLmdldFVuaXRzKCkgPT0gVW5pdHMuVElMRV9QSVhFTFNcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGluQ29vcmRpbmF0ZXMsIG91dENvb3JkaW5hdGVzLCBzdHJpZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGl4ZWxFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0ZWRFeHRlbnQgPSBzb3VyY2VQcm9qLmdldFdvcmxkRXh0ZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZ2V0SGVpZ2h0KHByb2plY3RlZEV4dGVudCkgLyBnZXRIZWlnaHQocGl4ZWxFeHRlbnQpO1xuICAgICAgICAgICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0odG1wVHJhbnNmb3JtLCBwcm9qZWN0ZWRFeHRlbnRbMF0sIHByb2plY3RlZEV4dGVudFszXSwgc2NhbGUsIC1zY2FsZSwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtMkQoaW5Db29yZGluYXRlcywgMCwgaW5Db29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgdG1wVHJhbnNmb3JtLCBvdXRDb29yZGluYXRlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRyYW5zZm9ybShzb3VyY2VQcm9qLCBkZXN0aW5hdGlvbikoaW5Db29yZGluYXRlcywgb3V0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IGdldFRyYW5zZm9ybShzb3VyY2VQcm9qLCBkZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtRm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeTtcbn0oQmFzZU9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgR2VvbWV0cnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW9tZXRyeS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vU2ltcGxlR2VvbWV0cnlcbiAqL1xuaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4vR2VvbWV0cnkuanMnO1xuaW1wb3J0IEdlb21ldHJ5TGF5b3V0IGZyb20gJy4vR2VvbWV0cnlMYXlvdXQuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcywgZ2V0Q2VudGVyIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IHJvdGF0ZSwgc2NhbGUsIHRyYW5zZm9ybTJELCB0cmFuc2xhdGUgfSBmcm9tICcuL2ZsYXQvdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzOyBkbyBub3QgaW5zdGFudGlhdGVcbiAqIGluIGFwcHMsIGFzIGNhbm5vdCBiZSByZW5kZXJlZC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xudmFyIFNpbXBsZUdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVHZW9tZXRyeSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RyaWRlID0gMjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuY29tcHV0ZUV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSwgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PCo+fSBDb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBmaXJzdCBjb29yZGluYXRlIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEZpcnN0IGNvb3JkaW5hdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRGaXJzdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgwLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRGbGF0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbGFzdCBjb29yZGluYXRlIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IExhc3QgcG9pbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRMYXN0Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCAtIHRoaXMuc3RyaWRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUge0BsaW5rIG1vZHVsZTpvbC9nZW9tL0dlb21ldHJ5TGF5b3V0IGxheW91dH0gb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdH0gTGF5b3V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0TGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeSB1c2luZyB0aGUgRG91Z2xhcyBQZXVja2VyIGFsZ29yaXRobS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJuIHtTaW1wbGVHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5ID0gZnVuY3Rpb24gKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICAgICAgaWYgKHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24gIT09IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlID0gMDtcbiAgICAgICAgICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgc3F1YXJlZFRvbGVyYW5jZSBpcyBuZWdhdGl2ZSBvciBpZiB3ZSBrbm93IHRoYXQgc2ltcGxpZmljYXRpb24gd2lsbCBub3RcbiAgICAgICAgLy8gaGF2ZSBhbnkgZWZmZWN0IHRoZW4ganVzdCByZXR1cm4gdGhpcy5cbiAgICAgICAgaWYgKHNxdWFyZWRUb2xlcmFuY2UgPCAwIHx8XG4gICAgICAgICAgICAodGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlICE9PSAwICYmXG4gICAgICAgICAgICAgICAgc3F1YXJlZFRvbGVyYW5jZSA8PSB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2ltcGxpZmllZEdlb21ldHJ5ID0gdGhpcy5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbChzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgICAgdmFyIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBzaW1wbGlmaWVkR2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGlmIChzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA8IHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHNpbXBsaWZpZWRHZW9tZXRyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNpbXBsaWZpY2F0aW9uIGRpZCBub3QgYWN0dWFsbHkgcmVtb3ZlIGFueSBjb29yZGluYXRlcy4gIFdlIG5vdyBrbm93XG4gICAgICAgICAgICAvLyB0aGF0IGFueSBjYWxscyB0byBnZXRTaW1wbGlmaWVkR2VvbWV0cnkgd2l0aCBhIHNxdWFyZWRUb2xlcmFuY2UgbGVzc1xuICAgICAgICAgICAgLy8gdGhhbiBvciBlcXVhbCB0byB0aGUgY3VycmVudCBzcXVhcmVkVG9sZXJhbmNlIHdpbGwgYWxzbyBub3QgaGF2ZSBhbnlcbiAgICAgICAgICAgIC8vIGVmZmVjdC4gIFRoaXMgYWxsb3dzIHVzIHRvIHNob3J0IGNpcmN1aXQgc2ltcGxpZmljYXRpb24gKHNhdmluZyBDUFVcbiAgICAgICAgICAgIC8vIGN5Y2xlcykgYW5kIHByZXZlbnRzIHRoZSBjYWNoZSBvZiBzaW1wbGlmaWVkIGdlb21ldHJpZXMgZnJvbSBmaWxsaW5nXG4gICAgICAgICAgICAvLyB1cCB3aXRoIHVzZWxlc3MgaWRlbnRpY2FsIGNvcGllcyBvZiB0aGlzIGdlb21ldHJ5IChzYXZpbmcgbWVtb3J5KS5cbiAgICAgICAgICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IHNxdWFyZWRUb2xlcmFuY2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7U2ltcGxlR2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBTdHJpZGUuXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmdldFN0cmlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaWRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IGxheW91dCBMYXlvdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuc2V0RmxhdENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGxheW91dCwgZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgIHRoaXMuc3RyaWRlID0gZ2V0U3RyaWRlRm9yTGF5b3V0KGxheW91dCk7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gbGF5b3V0O1xuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IGZsYXRDb29yZGluYXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7IUFycmF5PCo+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBsYXlvdXQgTGF5b3V0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuZXN0aW5nIE5lc3RpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS5zZXRMYXlvdXQgPSBmdW5jdGlvbiAobGF5b3V0LCBjb29yZGluYXRlcywgbmVzdGluZykge1xuICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICAgICAgdmFyIHN0cmlkZTtcbiAgICAgICAgaWYgKGxheW91dCkge1xuICAgICAgICAgICAgc3RyaWRlID0gZ2V0U3RyaWRlRm9yTGF5b3V0KGxheW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5lc3Rpbmc7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXlvdXQgPSBHZW9tZXRyeUxheW91dC5YWTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpZGUgPSAyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7QXJyYXl9ICovIChjb29yZGluYXRlc1swXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyaWRlID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgbGF5b3V0ID0gZ2V0TGF5b3V0Rm9yU3RyaWRlKHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXlvdXQgPSBsYXlvdXQ7XG4gICAgICAgIHRoaXMuc3RyaWRlID0gc3RyaWRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBUaGUgZ2VvbWV0cnkgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAgICogSWYgeW91IGRvIG5vdCB3YW50IHRoZSBnZW9tZXRyeSBtb2RpZmllZCBpbiBwbGFjZSwgZmlyc3QgYGNsb25lKClgIGl0IGFuZFxuICAgICAqIHRoZW4gdXNlIHRoaXMgZnVuY3Rpb24gb24gdGhlIGNsb25lLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIENhbGxlZCB3aXRoIGEgZmxhdCBhcnJheSBvZiBnZW9tZXRyeSBjb29yZGluYXRlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLmFwcGx5VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybUZuKSB7XG4gICAgICAgIGlmICh0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgdHJhbnNmb3JtRm4odGhpcy5mbGF0Q29vcmRpbmF0ZXMsIHRoaXMuZmxhdENvb3JkaW5hdGVzLCB0aGlzLnN0cmlkZSk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoZSBnZW9tZXRyeSBhcm91bmQgYSBnaXZlbiBjb29yZGluYXRlLiBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeVxuICAgICAqIGNvb3JkaW5hdGVzIGluIHBsYWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBSb3RhdGlvbiBhbmdsZSBpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgVGhlIHJvdGF0aW9uIGNlbnRlci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2ltcGxlR2VvbWV0cnkucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIChhbmdsZSwgYW5jaG9yKSB7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIHJvdGF0ZShmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgYW5nbGUsIGFuY2hvciwgZmxhdENvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgZ2VvbWV0cnkgKHdpdGggYW4gb3B0aW9uYWwgb3JpZ2luKS4gIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN4IFRoZSBzY2FsaW5nIGZhY3RvciBpbiB0aGUgeC1kaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfc3kgVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbiAoZGVmYXVsdHMgdG8gc3gpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBUaGUgc2NhbGUgb3JpZ2luIChkZWZhdWx0cyB0byB0aGUgY2VudGVyXG4gICAgICogICAgIG9mIHRoZSBnZW9tZXRyeSBleHRlbnQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTaW1wbGVHZW9tZXRyeS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoc3gsIG9wdF9zeSwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgc3kgPSBvcHRfc3k7XG4gICAgICAgIGlmIChzeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzeSA9IHN4O1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbmNob3IgPSBvcHRfYW5jaG9yO1xuICAgICAgICBpZiAoIWFuY2hvcikge1xuICAgICAgICAgICAgYW5jaG9yID0gZ2V0Q2VudGVyKHRoaXMuZ2V0RXh0ZW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIHNjYWxlKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBzeCwgc3ksIGFuY2hvciwgZmxhdENvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGUgdGhlIGdlb21ldHJ5LiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnkgY29vcmRpbmF0ZXMgaW4gcGxhY2UuICBJZlxuICAgICAqIGluc3RlYWQgeW91IHdhbnQgYSBuZXcgZ2VvbWV0cnksIGZpcnN0IGBjbG9uZSgpYCB0aGlzIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFZIERlbHRhIFkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNpbXBsZUdlb21ldHJ5LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGlmIChmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSB0aGlzLmdldFN0cmlkZSgpO1xuICAgICAgICAgICAgdHJhbnNsYXRlKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBkZWx0YVgsIGRlbHRhWSwgZmxhdENvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSBsYXlvdXQgTGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXRMYXlvdXRGb3JTdHJpZGUoc3RyaWRlKSB7XG4gICAgdmFyIGxheW91dDtcbiAgICBpZiAoc3RyaWRlID09IDIpIHtcbiAgICAgICAgbGF5b3V0ID0gR2VvbWV0cnlMYXlvdXQuWFk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0cmlkZSA9PSAzKSB7XG4gICAgICAgIGxheW91dCA9IEdlb21ldHJ5TGF5b3V0LlhZWjtcbiAgICB9XG4gICAgZWxzZSBpZiAoc3RyaWRlID09IDQpIHtcbiAgICAgICAgbGF5b3V0ID0gR2VvbWV0cnlMYXlvdXQuWFlaTTtcbiAgICB9XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0fSAqLyAobGF5b3V0KTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5TGF5b3V0LmpzXCIpLmRlZmF1bHR9IGxheW91dCBMYXlvdXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFN0cmlkZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmlkZUZvckxheW91dChsYXlvdXQpIHtcbiAgICB2YXIgc3RyaWRlO1xuICAgIGlmIChsYXlvdXQgPT0gR2VvbWV0cnlMYXlvdXQuWFkpIHtcbiAgICAgICAgc3RyaWRlID0gMjtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5b3V0ID09IEdlb21ldHJ5TGF5b3V0LlhZWiB8fCBsYXlvdXQgPT0gR2VvbWV0cnlMYXlvdXQuWFlNKSB7XG4gICAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheW91dCA9PSBHZW9tZXRyeUxheW91dC5YWVpNKSB7XG4gICAgICAgIHN0cmlkZSA9IDQ7XG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHN0cmlkZSk7XG59XG4vKipcbiAqIEBwYXJhbSB7U2ltcGxlR2VvbWV0cnl9IHNpbXBsZUdlb21ldHJ5IFNpbXBsZSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9kZXN0IERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgZmxhdCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUdlb20yRChzaW1wbGVHZW9tZXRyeSwgdHJhbnNmb3JtLCBvcHRfZGVzdCkge1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBzaW1wbGVHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBpZiAoIWZsYXRDb29yZGluYXRlcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBzdHJpZGUgPSBzaW1wbGVHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTJEKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCB0cmFuc2Zvcm0sIG9wdF9kZXN0KTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBTaW1wbGVHZW9tZXRyeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbXBsZUdlb21ldHJ5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvZGVmbGF0ZVxuICovXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVDb29yZGluYXRlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlLCBzdHJpZGUpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZGluYXRlLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCsrXSA9IGNvb3JkaW5hdGVbaV07XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZXMsIHN0cmlkZSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSBjb29yZGluYXRlc1tpXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdHJpZGU7ICsraikge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCsrXSA9IGNvb3JkaW5hdGVbal07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gY29vcmRpbmF0ZXNzIENvb3JkaW5hdGVzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2VuZHMgRW5kcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEVuZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZXNzLCBzdHJpZGUsIG9wdF9lbmRzKSB7XG4gICAgdmFyIGVuZHMgPSBvcHRfZW5kcyA/IG9wdF9lbmRzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGNvb3JkaW5hdGVzcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIHZhciBlbmQgPSBkZWZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGVzc1tqXSwgc3RyaWRlKTtcbiAgICAgICAgZW5kc1tpKytdID0gZW5kO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIGVuZHMubGVuZ3RoID0gaTtcbiAgICByZXR1cm4gZW5kcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IGNvb3JkaW5hdGVzc3MgQ29vcmRpbmF0ZXNzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pj19IG9wdF9lbmRzcyBFbmRzcy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PG51bWJlcj4+fSBFbmRzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGVzc3MsIHN0cmlkZSwgb3B0X2VuZHNzKSB7XG4gICAgdmFyIGVuZHNzID0gb3B0X2VuZHNzID8gb3B0X2VuZHNzIDogW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGNvb3JkaW5hdGVzc3MubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICB2YXIgZW5kcyA9IGRlZmxhdGVDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlc3NzW2pdLCBzdHJpZGUsIGVuZHNzW2ldKTtcbiAgICAgICAgZW5kc3NbaSsrXSA9IGVuZHM7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgZW5kc3MubGVuZ3RoID0gaTtcbiAgICByZXR1cm4gZW5kc3M7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZsYXRlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvdHJhbnNmb3JtXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9kZXN0IERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm0yRChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHRyYW5zZm9ybSwgb3B0X2Rlc3QpIHtcbiAgICB2YXIgZGVzdCA9IG9wdF9kZXN0ID8gb3B0X2Rlc3QgOiBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICh2YXIgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHggPSBmbGF0Q29vcmRpbmF0ZXNbal07XG4gICAgICAgIHZhciB5ID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXTtcbiAgICAgICAgZGVzdFtpKytdID0gdHJhbnNmb3JtWzBdICogeCArIHRyYW5zZm9ybVsyXSAqIHkgKyB0cmFuc2Zvcm1bNF07XG4gICAgICAgIGRlc3RbaSsrXSA9IHRyYW5zZm9ybVsxXSAqIHggKyB0cmFuc2Zvcm1bM10gKiB5ICsgdHJhbnNmb3JtWzVdO1xuICAgIH1cbiAgICBpZiAob3B0X2Rlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgICAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIEFuZ2xlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgUm90YXRpb24gYW5jaG9yIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2Rlc3QgRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGFuZ2xlLCBhbmNob3IsIG9wdF9kZXN0KSB7XG4gICAgdmFyIGRlc3QgPSBvcHRfZGVzdCA/IG9wdF9kZXN0IDogW107XG4gICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIHZhciBhbmNob3JYID0gYW5jaG9yWzBdO1xuICAgIHZhciBhbmNob3JZID0gYW5jaG9yWzFdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gZmxhdENvb3JkaW5hdGVzW2pdIC0gYW5jaG9yWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gLSBhbmNob3JZO1xuICAgICAgICBkZXN0W2krK10gPSBhbmNob3JYICsgZGVsdGFYICogY29zIC0gZGVsdGFZICogc2luO1xuICAgICAgICBkZXN0W2krK10gPSBhbmNob3JZICsgZGVsdGFYICogc2luICsgZGVsdGFZICogY29zO1xuICAgICAgICBmb3IgKHZhciBrID0gaiArIDI7IGsgPCBqICsgc3RyaWRlOyArK2spIHtcbiAgICAgICAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1trXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0X2Rlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgICAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufVxuLyoqXG4gKiBTY2FsZSB0aGUgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciBpbiB0aGUgeC1kaXJlY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYW5jaG9yIFNjYWxlIGFuY2hvciBwb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9kZXN0IERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHN4LCBzeSwgYW5jaG9yLCBvcHRfZGVzdCkge1xuICAgIHZhciBkZXN0ID0gb3B0X2Rlc3QgPyBvcHRfZGVzdCA6IFtdO1xuICAgIHZhciBhbmNob3JYID0gYW5jaG9yWzBdO1xuICAgIHZhciBhbmNob3JZID0gYW5jaG9yWzFdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gZmxhdENvb3JkaW5hdGVzW2pdIC0gYW5jaG9yWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gLSBhbmNob3JZO1xuICAgICAgICBkZXN0W2krK10gPSBhbmNob3JYICsgc3ggKiBkZWx0YVg7XG4gICAgICAgIGRlc3RbaSsrXSA9IGFuY2hvclkgKyBzeSAqIGRlbHRhWTtcbiAgICAgICAgZm9yICh2YXIgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICAgICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdF9kZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICAgICAgZGVzdC5sZW5ndGggPSBpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9kZXN0IERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBkZWx0YVgsIGRlbHRhWSwgb3B0X2Rlc3QpIHtcbiAgICB2YXIgZGVzdCA9IG9wdF9kZXN0ID8gb3B0X2Rlc3QgOiBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICh2YXIgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2pdICsgZGVsdGFYO1xuICAgICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNbaiArIDFdICsgZGVsdGFZO1xuICAgICAgICBmb3IgKHZhciBrID0gaiArIDI7IGsgPCBqICsgc3RyaWRlOyArK2spIHtcbiAgICAgICAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1trXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0X2Rlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgICAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9oYXNcbiAqL1xudmFyIHVhID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQgIT09ICd1bmRlZmluZWQnXG4gICAgPyBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKClcbiAgICA6ICcnO1xuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggRmlyZWZveCBhcyBicm93c2VyLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgRklSRUZPWCA9IHVhLmluZGV4T2YoJ2ZpcmVmb3gnKSAhPT0gLTE7XG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBTYWZhcmkgYXMgYnJvd3Nlci5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIFNBRkFSSSA9IHVhLmluZGV4T2YoJ3NhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdjaHJvbScpID09IC0xO1xuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBXZWJLaXQgZW5naW5lLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgV0VCS0lUID0gdWEuaW5kZXhPZignd2Via2l0JykgIT09IC0xICYmIHVhLmluZGV4T2YoJ2VkZ2UnKSA9PSAtMTtcbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgTWFjIGFzIHBsYXRmb3JtLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgTUFDID0gdWEuaW5kZXhPZignbWFjaW50b3NoJykgIT09IC0xO1xuLyoqXG4gKiBUaGUgcmF0aW8gYmV0d2VlbiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHNcbiAqIChkaXBzKSBvbiB0aGUgZGV2aWNlIChgd2luZG93LmRldmljZVBpeGVsUmF0aW9gKS5cbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHZhciBERVZJQ0VfUElYRUxfUkFUSU8gPSB0eXBlb2YgZGV2aWNlUGl4ZWxSYXRpbyAhPT0gJ3VuZGVmaW5lZCcgPyBkZXZpY2VQaXhlbFJhdGlvIDogMTtcbi8qKlxuICogVGhlIGV4ZWN1dGlvbiBjb250ZXh0IGlzIGEgd29ya2VyIHdpdGggT2Zmc2NyZWVuQ2FudmFzIGF2YWlsYWJsZS5cbiAqIEBjb25zdFxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgPSB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIE9mZnNjcmVlbkNhbnZhcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGU7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuLyoqXG4gKiBJbWFnZS5wcm90b3R5cGUuZGVjb2RlKCkgaXMgc3VwcG9ydGVkLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgSU1BR0VfREVDT0RFID0gdHlwZW9mIEltYWdlICE9PSAndW5kZWZpbmVkJyAmJiBJbWFnZS5wcm90b3R5cGUuZGVjb2RlO1xuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhc3NpdmUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignXycsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignXycsIG51bGwsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gcGFzc2l2ZSBub3Qgc3VwcG9ydGVkXG4gICAgfVxuICAgIHJldHVybiBwYXNzaXZlO1xufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhcy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb25Qcm9wZXJ0eSBmcm9tICcuL1Byb3BlcnR5LmpzJztcbmltcG9ydCB7IGVhc2VPdXQsIGxpbmVhciB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggY29uZmlnIG9wdGlvbnMgZm9yIGludGVyYWN0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEludGVyYWN0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gaGFuZGxlRXZlbnRcbiAqIE1ldGhvZCBjYWxsZWQgYnkgdGhlIG1hcCB0byBub3RpZnkgdGhlIGludGVyYWN0aW9uIHRoYXQgYSBicm93c2VyIGV2ZW50IHdhc1xuICogZGlzcGF0Y2hlZCB0byB0aGUgbWFwLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBwcm9wYWdhdGlvbiBvZlxuICogdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zIGNoYWluIHdpbGwgYmVcbiAqIHByZXZlbnRlZCAodGhpcyBpbmNsdWRlcyBmdW5jdGlvbnMgd2l0aCBubyBleHBsaWNpdCByZXR1cm4pLiBUaGUgaW50ZXJhY3Rpb25zXG4gKiBhcmUgdHJhdmVyc2VkIGluIHJldmVyc2Ugb3JkZXIgb2YgdGhlIGludGVyYWN0aW9ucyBjb2xsZWN0aW9uIG9mIHRoZSBtYXAuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogVXNlciBhY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSBzdGF0ZSBvZiB0aGUgbWFwLiBTb21lIGFyZSBzaW1pbGFyIHRvIGNvbnRyb2xzLFxuICogYnV0IGFyZSBub3QgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQuXG4gKiBGb3IgZXhhbXBsZSwge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfSBpc1xuICogZnVuY3Rpb25hbGx5IHRoZSBzYW1lIGFzIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LCBidXQgdHJpZ2dlcmVkXG4gKiBieSBhIGtleWJvYXJkIGV2ZW50IG5vdCBhIGJ1dHRvbiBlbGVtZW50IGV2ZW50LlxuICogQWx0aG91Z2ggaW50ZXJhY3Rpb25zIGRvIG5vdCBoYXZlIGEgRE9NIGVsZW1lbnQsIHNvbWUgb2YgdGhlbSBkbyByZW5kZXJcbiAqIHZlY3RvcnMgYW5kIHNvIGFyZSB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gKiBAYXBpXG4gKi9cbnZhciBJbnRlcmFjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJhY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtJbnRlcmFjdGlvbk9wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIGlmIChvcHRfb3B0aW9ucyAmJiBvcHRfb3B0aW9ucy5oYW5kbGVFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlRXZlbnQgPSBvcHRfb3B0aW9ucy5oYW5kbGVFdmVudDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwXyA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldEFjdGl2ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUgaW50ZXJhY3Rpb24gaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLmdldEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHRoaXMuZ2V0KEludGVyYWN0aW9uUHJvcGVydHkuQUNUSVZFKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnRlcmFjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbi5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSBvciBkZWFjdGl2YXRlIHRoZSBpbnRlcmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFjdGl2ZSBBY3RpdmUuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldEFjdGl2ZSA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5zZXQoSW50ZXJhY3Rpb25Qcm9wZXJ0eS5BQ1RJVkUsIGFjdGl2ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGludGVyYWN0aW9uIGZyb20gaXRzIGN1cnJlbnQgbWFwIGFuZCBhdHRhY2ggaXQgdG8gdGhlIG5ldyBtYXAuXG4gICAgICogU3ViY2xhc3NlcyBtYXkgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGdldCBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvXG4gICAgICogdGhlIG1hcCBoZXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb24ucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgdGhpcy5tYXBfID0gbWFwO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9kdXJhdGlvbiBEdXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhbih2aWV3LCBkZWx0YSwgb3B0X2R1cmF0aW9uKSB7XG4gICAgdmFyIGN1cnJlbnRDZW50ZXIgPSB2aWV3LmdldENlbnRlckludGVybmFsKCk7XG4gICAgaWYgKGN1cnJlbnRDZW50ZXIpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IFtjdXJyZW50Q2VudGVyWzBdICsgZGVsdGFbMF0sIGN1cnJlbnRDZW50ZXJbMV0gKyBkZWx0YVsxXV07XG4gICAgICAgIHZpZXcuYW5pbWF0ZUludGVybmFsKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRfZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9kdXJhdGlvbiA6IDI1MCxcbiAgICAgICAgICAgIGVhc2luZzogbGluZWFyLFxuICAgICAgICAgICAgY2VudGVyOiB2aWV3LmdldENvbnN0cmFpbmVkQ2VudGVyKGNlbnRlciksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9IHZpZXcgVmlldy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YSBmcm9tIHByZXZpb3VzIHpvb20gbGV2ZWwuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgQW5jaG9yIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2R1cmF0aW9uIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIG9wdF9hbmNob3IsIG9wdF9kdXJhdGlvbikge1xuICAgIHZhciBjdXJyZW50Wm9vbSA9IHZpZXcuZ2V0Wm9vbSgpO1xuICAgIGlmIChjdXJyZW50Wm9vbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5ld1pvb20gPSB2aWV3LmdldENvbnN0cmFpbmVkWm9vbShjdXJyZW50Wm9vbSArIGRlbHRhKTtcbiAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHZpZXcuZ2V0UmVzb2x1dGlvbkZvclpvb20obmV3Wm9vbSk7XG4gICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgIGFuY2hvcjogb3B0X2FuY2hvcixcbiAgICAgICAgZHVyYXRpb246IG9wdF9kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X2R1cmF0aW9uIDogMjUwLFxuICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBJbnRlcmFjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUG9pbnRlclxuICovXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IGdldFZhbHVlcyB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVEb3duRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcImRvd25cIiBldmVudHMuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCB0aGVuIGEgZHJhZ1xuICogc2VxdWVuY2UgaXMgc3RhcnRlZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtoYW5kbGVEcmFnRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcImRyYWdcIiBldmVudHMuIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIFwibW92ZVwiIGV2ZW50c1xuICogZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVFdmVudF1cbiAqIE1ldGhvZCBjYWxsZWQgYnkgdGhlIG1hcCB0byBub3RpZnkgdGhlIGludGVyYWN0aW9uIHRoYXQgYSBicm93c2VyIGV2ZW50IHdhc1xuICogZGlzcGF0Y2hlZCB0byB0aGUgbWFwLiBUaGUgZnVuY3Rpb24gbWF5IHJldHVybiBgZmFsc2VgIHRvIHByZXZlbnQgdGhlXG4gKiBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zIGluIHRoZSBtYXAncyBpbnRlcmFjdGlvbnNcbiAqIGNoYWluLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW2hhbmRsZU1vdmVFdmVudF1cbiAqIEZ1bmN0aW9uIGhhbmRsaW5nIFwibW92ZVwiIGV2ZW50cy4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgb24gXCJtb3ZlXCIgZXZlbnRzLlxuICogVGhpcyBmdW5jdGlvbnMgaXMgYWxzbyBjYWxsZWQgZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZSwgc28gZHVyaW5nIGEgZHJhZ1xuICogc2VxdWVuY2UgYm90aCB0aGUgYGhhbmRsZURyYWdFdmVudGAgZnVuY3Rpb24gYW5kIHRoaXMgZnVuY3Rpb24gYXJlIGNhbGxlZC5cbiAqIElmIGBoYW5kbGVEb3duRXZlbnRgIGlzIGRlZmluZWQgYW5kIGl0IHJldHVybnMgdHJ1ZSB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90XG4gKiBiZSBjYWxsZWQgZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVVcEV2ZW50XVxuICogIEZ1bmN0aW9uIGhhbmRsaW5nIFwidXBcIiBldmVudHMuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAgdGhlbiB0aGVcbiAqIGN1cnJlbnQgZHJhZyBzZXF1ZW5jZSBpcyBzdG9wcGVkLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihib29sZWFuKTpib29sZWFufSBbc3RvcERvd25dXG4gKiBTaG91bGQgdGhlIGRvd24gZXZlbnQgYmUgcHJvcGFnYXRlZCB0byBvdGhlciBpbnRlcmFjdGlvbnMsIG9yIHNob3VsZCBiZVxuICogc3RvcHBlZD9cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIHRoYXQgY2FsbHMgdXNlci1kZWZpbmVkIGZ1bmN0aW9ucyBvbiBgZG93bmAsIGBtb3ZlYCBhbmQgYHVwYFxuICogZXZlbnRzLiBUaGlzIGNsYXNzIGFsc28gbWFuYWdlcyBcImRyYWcgc2VxdWVuY2VzXCIuXG4gKlxuICogV2hlbiB0aGUgYGhhbmRsZURvd25FdmVudGAgdXNlciBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBhIGRyYWcgc2VxdWVuY2UgaXNcbiAqIHN0YXJ0ZWQuIER1cmluZyBhIGRyYWcgc2VxdWVuY2UgdGhlIGBoYW5kbGVEcmFnRXZlbnRgIHVzZXIgZnVuY3Rpb24gaXNcbiAqIGNhbGxlZCBvbiBgbW92ZWAgZXZlbnRzLiBUaGUgZHJhZyBzZXF1ZW5jZSBlbmRzIHdoZW4gdGhlIGBoYW5kbGVVcEV2ZW50YFxuICogdXNlciBmdW5jdGlvbiBpcyBjYWxsZWQgYW5kIHJldHVybnMgYGZhbHNlYC5cbiAqIEBhcGlcbiAqL1xudmFyIFBvaW50ZXJJbnRlcmFjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUG9pbnRlckludGVyYWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnRlckludGVyYWN0aW9uKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuSW50ZXJhY3Rpb25PcHRpb25zfSAqLyAob3B0aW9ucykpIHx8IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zLmhhbmRsZURvd25FdmVudCkge1xuICAgICAgICAgICAgX3RoaXMuaGFuZGxlRG93bkV2ZW50ID0gb3B0aW9ucy5oYW5kbGVEb3duRXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFuZGxlRHJhZ0V2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVEcmFnRXZlbnQgPSBvcHRpb25zLmhhbmRsZURyYWdFdmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5oYW5kbGVNb3ZlRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZU1vdmVFdmVudCA9IG9wdGlvbnMuaGFuZGxlTW92ZUV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmhhbmRsZVVwRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZVVwRXZlbnQgPSBvcHRpb25zLmhhbmRsZVVwRXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgICAgICAgIF90aGlzLnN0b3BEb3duID0gb3B0aW9ucy5zdG9wRG93bjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgUG9pbnRlckV2ZW50Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYWNrZWRQb2ludGVyc18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxQb2ludGVyRXZlbnQ+fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRQb2ludGVycyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbnVtYmVyIG9mIHBvaW50ZXJzIGludm9sdmVkIGluIHRoZSBpbnRlcmFjdGlvbixcbiAgICAgKiBlLmcuIGAyYCB3aGVuIHR3byBmaW5nZXJzIGFyZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBwb2ludGVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5nZXRQb2ludGVyQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBQb2ludGVySW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHsgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gYW5kIG1heSBjYWxsIGludG9cbiAgICAgKiBvdGhlciBmdW5jdGlvbnMsIGlmIGV2ZW50IHNlcXVlbmNlcyBsaWtlIGUuZy4gJ2RyYWcnIG9yICdkb3duLXVwJyBldGMuIGFyZVxuICAgICAqIGRldGVjdGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFja2VkUG9pbnRlcnNfKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIGlmICh0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UpIHtcbiAgICAgICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJEUkFHKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEcmFnRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IHBhZ2Ugc2Nyb2xsaW5nIGR1cmluZyBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCkge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVkVXAgPSB0aGlzLmhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UgPVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkVXAgJiYgdGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlZCA9IHRoaXMuaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlID0gaGFuZGxlZDtcbiAgICAgICAgICAgICAgICBzdG9wRXZlbnQgPSB0aGlzLnN0b3BEb3duKGhhbmRsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW92ZUV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBtb3ZlIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuaGFuZGxlTW92ZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUG9pbnRlckludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIFwiZG93blwiIGV2ZW50cyBzaG91bGQgYmUgcHJvcGFnYXRlZFxuICAgICAqIHRvIG90aGVyIGludGVyYWN0aW9ucyBvciBzaG91bGQgYmUgc3RvcHBlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhbmRsZWQgV2FzIHRoZSBldmVudCBoYW5kbGVkIGJ5IHRoZSBpbnRlcmFjdGlvbj9cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBTaG91bGQgdGhlIGBkb3duYCBldmVudCBiZSBzdG9wcGVkP1xuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUuc3RvcERvd24gPSBmdW5jdGlvbiAoaGFuZGxlZCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBvaW50ZXJJbnRlcmFjdGlvbi5wcm90b3R5cGUudXBkYXRlVHJhY2tlZFBvaW50ZXJzXyA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKGlzUG9pbnRlckRyYWdnaW5nRXZlbnQobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgdmFyIGV2ZW50XzEgPSBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIHZhciBpZCA9IGV2ZW50XzEucG9pbnRlcklkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy50cmFja2VkUG9pbnRlcnNfW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrZWRQb2ludGVyc19baWRdID0gZXZlbnRfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlkIGluIHRoaXMudHJhY2tlZFBvaW50ZXJzXykge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBvbmx5IHdoZW4gdGhlcmUgd2FzIGEgcG9pbnRlcmRvd24gZXZlbnQgZm9yIHRoaXMgcG9pbnRlclxuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tlZFBvaW50ZXJzX1tpZF0gPSBldmVudF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50YXJnZXRQb2ludGVycyA9IGdldFZhbHVlcyh0aGlzLnRyYWNrZWRQb2ludGVyc18pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnRlckludGVyYWN0aW9uO1xufShJbnRlcmFjdGlvbikpO1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFBvaW50ZXJFdmVudD59IHBvaW50ZXJFdmVudHMgTGlzdCBvZiBldmVudHMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gQ2VudHJvaWQgcGl4ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjZW50cm9pZChwb2ludGVyRXZlbnRzKSB7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50ZXJFdmVudHMubGVuZ3RoO1xuICAgIHZhciBjbGllbnRYID0gMDtcbiAgICB2YXIgY2xpZW50WSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjbGllbnRYICs9IHBvaW50ZXJFdmVudHNbaV0uY2xpZW50WDtcbiAgICAgICAgY2xpZW50WSArPSBwb2ludGVyRXZlbnRzW2ldLmNsaWVudFk7XG4gICAgfVxuICAgIHJldHVybiBbY2xpZW50WCAvIGxlbmd0aCwgY2xpZW50WSAvIGxlbmd0aF07XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGV2ZW50IGlzIGEgcG9pbnRlcmRvd24sIHBvaW50ZXJkcmFnXG4gKiAgICAgb3IgcG9pbnRlcnVwIGV2ZW50LlxuICovXG5mdW5jdGlvbiBpc1BvaW50ZXJEcmFnZ2luZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHZhciB0eXBlID0gbWFwQnJvd3NlckV2ZW50LnR5cGU7XG4gICAgcmV0dXJuICh0eXBlID09PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJET1dOIHx8XG4gICAgICAgIHR5cGUgPT09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcgfHxcbiAgICAgICAgdHlwZSA9PT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVApO1xufVxuZXhwb3J0IGRlZmF1bHQgUG9pbnRlckludGVyYWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnRlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQUNUSVZFOiAnYWN0aXZlJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm9wZXJ0eS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1NlbGVjdFxuICovXG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7IFRSVUUgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgY3JlYXRlRWRpdGluZ1N0eWxlIH0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuaW1wb3J0IHsgZXh0ZW5kLCBpbmNsdWRlcyB9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgbmV2ZXIsIHNoaWZ0S2V5T25seSwgc2luZ2xlQ2xpY2sgfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIFNlbGVjdEV2ZW50VHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBmZWF0dXJlKHMpIGhhcyBiZWVuIChkZSlzZWxlY3RlZC5cbiAgICAgKiBAZXZlbnQgU2VsZWN0RXZlbnQjc2VsZWN0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNFTEVDVDogJ3NlbGVjdCcsXG59O1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBvclxuICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRmVhdHVyZX0gYW5kIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfSBhbmQgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGZlYXR1cmUgbWF5IGJlXG4gKiBzZWxlY3RlZCBvciBgZmFsc2VgIG90aGVyd2lzZS5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBGaWx0ZXJGdW5jdGlvblxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFthZGRDb25kaXRpb25dIEEgZnVuY3Rpb25cbiAqIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIEJ5IGRlZmF1bHQsIHRoaXMgaXMge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufm5ldmVyfS4gVXNlIHRoaXMgaWYgeW91XG4gKiB3YW50IHRvIHVzZSBkaWZmZXJlbnQgZXZlbnRzIGZvciBhZGQgYW5kIHJlbW92ZSBpbnN0ZWFkIG9mIGB0b2dnbGVgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBUaGlzIGlzIHRoZSBldmVudFxuICogZm9yIHRoZSBzZWxlY3RlZCBmZWF0dXJlcyBhcyBhIHdob2xlLiBCeSBkZWZhdWx0LCB0aGlzIGlzXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+c2luZ2xlQ2xpY2t9LiBDbGlja2luZyBvbiBhIGZlYXR1cmUgc2VsZWN0cyB0aGF0XG4gKiBmZWF0dXJlIGFuZCByZW1vdmVzIGFueSB0aGF0IHdlcmUgaW4gdGhlIHNlbGVjdGlvbi4gQ2xpY2tpbmcgb3V0c2lkZSBhbnlcbiAqIGZlYXR1cmUgcmVtb3ZlcyBhbGwgZnJvbSB0aGUgc2VsZWN0aW9uLlxuICogU2VlIGB0b2dnbGVgLCBgYWRkYCwgYHJlbW92ZWAgb3B0aW9ucyBmb3IgYWRkaW5nL3JlbW92aW5nIGV4dHJhIGZlYXR1cmVzIHRvL1xuICogZnJvbSB0aGUgc2VsZWN0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0PnxmdW5jdGlvbihpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gW2xheWVyc11cbiAqIEEgbGlzdCBvZiBsYXllcnMgZnJvbSB3aGljaCBmZWF0dXJlcyBzaG91bGQgYmUgc2VsZWN0ZWQuIEFsdGVybmF0aXZlbHksIGFcbiAqIGZpbHRlciBmdW5jdGlvbiBjYW4gYmUgcHJvdmlkZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBsYXllclxuICogaW4gdGhlIG1hcCBhbmQgc2hvdWxkIHJldHVybiBgdHJ1ZWAgZm9yIGxheWVycyB0aGF0IHlvdSB3YW50IHRvIGJlXG4gKiBzZWxlY3RhYmxlLiBJZiB0aGUgb3B0aW9uIGlzIGFic2VudCwgYWxsIHZpc2libGUgbGF5ZXJzIHdpbGwgYmUgY29uc2lkZXJlZFxuICogc2VsZWN0YWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx9IFtzdHlsZV1cbiAqIFN0eWxlIGZvciB0aGUgc2VsZWN0ZWQgZmVhdHVyZXMuIEJ5IGRlZmF1bHQgdGhlIGRlZmF1bHQgZWRpdCBzdHlsZSBpcyB1c2VkXG4gKiAoc2VlIHtAbGluayBtb2R1bGU6b2wvc3R5bGV9KS4gU2V0IHRvIGBudWxsYCBpZiB0aGlzIGludGVyYWN0aW9uIHNob3VsZCBub3QgYXBwbHlcbiAqIGFueSBzdHlsZSBjaGFuZ2VzIGZvciBzZWxlY3RlZCBmZWF0dXJlcy5cbiAqIElmIHNldCB0byBhIGZhbHNleSB2YWx1ZSwgdGhlIHNlbGVjdGVkIGZlYXR1cmUncyBzdHlsZSB3aWxsIG5vdCBjaGFuZ2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbcmVtb3ZlQ29uZGl0aW9uXSBBIGZ1bmN0aW9uXG4gKiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5uZXZlcn0uIFVzZSB0aGlzIGlmIHlvdVxuICogd2FudCB0byB1c2UgZGlmZmVyZW50IGV2ZW50cyBmb3IgYWRkIGFuZCByZW1vdmUgaW5zdGVhZCBvZiBgdG9nZ2xlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFt0b2dnbGVDb25kaXRpb25dIEEgZnVuY3Rpb25cbiAqIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gVGhpcyBpcyBpbiBhZGRpdGlvblxuICogdG8gdGhlIGBjb25kaXRpb25gIGV2ZW50LiBCeSBkZWZhdWx0LFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufnNoaWZ0S2V5T25seX0sIGkuZS4gcHJlc3NpbmcgYHNoaWZ0YCBhc1xuICogd2VsbCBhcyB0aGUgYGNvbmRpdGlvbmAgZXZlbnQsIGFkZHMgdGhhdCBmZWF0dXJlIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpZlxuICogaXQgaXMgbm90IGN1cnJlbnRseSBzZWxlY3RlZCwgYW5kIHJlbW92ZXMgaXQgaWYgaXQgaXMuIFNlZSBgYWRkYCBhbmQgYHJlbW92ZWBcbiAqIGlmIHlvdSB3YW50IHRvIHVzZSBkaWZmZXJlbnQgZXZlbnRzIGluc3RlYWQgb2YgYSB0b2dnbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttdWx0aT1mYWxzZV0gQSBib29sZWFuIHRoYXQgZGV0ZXJtaW5lcyBpZiB0aGUgZGVmYXVsdFxuICogYmVoYXZpb3VyIHNob3VsZCBzZWxlY3Qgb25seSBzaW5nbGUgZmVhdHVyZXMgb3IgYWxsIChvdmVybGFwcGluZykgZmVhdHVyZXMgYXRcbiAqIHRoZSBjbGlja2VkIG1hcCBwb3NpdGlvbi4gVGhlIGRlZmF1bHQgb2YgYGZhbHNlYCBtZWFucyBzaW5nbGUgc2VsZWN0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gW2ZlYXR1cmVzXVxuICogQ29sbGVjdGlvbiB3aGVyZSB0aGUgaW50ZXJhY3Rpb24gd2lsbCBwbGFjZSBzZWxlY3RlZCBmZWF0dXJlcy4gT3B0aW9uYWwuIElmXG4gKiBub3Qgc2V0IHRoZSBpbnRlcmFjdGlvbiB3aWxsIGNyZWF0ZSBhIGNvbGxlY3Rpb24uIEluIGFueSBjYXNlIHRoZSBjb2xsZWN0aW9uXG4gKiB1c2VkIGJ5IHRoZSBpbnRlcmFjdGlvbiBpcyByZXR1cm5lZCBieVxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9TZWxlY3R+U2VsZWN0I2dldEZlYXR1cmVzfS5cbiAqIEBwcm9wZXJ0eSB7RmlsdGVyRnVuY3Rpb259IFtmaWx0ZXJdIEEgZnVuY3Rpb25cbiAqIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBhbmQgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ9IGFuZCByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZmVhdHVyZSBtYXkgYmVcbiAqIHNlbGVjdGVkIG9yIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoaXRUb2xlcmFuY2U9MF0gSGl0LWRldGVjdGlvbiB0b2xlcmFuY2UuIFBpeGVscyBpbnNpZGVcbiAqIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvbiB3aWxsIGJlIGNoZWNrZWQgZm9yIGZlYXR1cmVzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vU2VsZWN0flNlbGVjdH0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2ZcbiAqIHRoaXMgdHlwZS5cbiAqL1xudmFyIFNlbGVjdEV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTZWxlY3RFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1NlbGVjdEV2ZW50VHlwZX0gdHlwZSBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IHNlbGVjdGVkIFNlbGVjdGVkIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZGVzZWxlY3RlZCBEZXNlbGVjdGVkIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBBc3NvY2lhdGVkXG4gICAgICogICAgIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZWxlY3RFdmVudCh0eXBlLCBzZWxlY3RlZCwgZGVzZWxlY3RlZCwgbWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RlZCBmZWF0dXJlcyBhcnJheS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNlbGVjdGVkIGZlYXR1cmVzIGFycmF5LlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVzZWxlY3RlZCA9IGRlc2VsZWN0ZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc3NvY2lhdGVkIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fS5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBCcm93c2VyRXZlbnQgPSBtYXBCcm93c2VyRXZlbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNlbGVjdEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgU2VsZWN0RXZlbnQgfTtcbi8qKlxuICogT3JpZ2luYWwgZmVhdHVyZSBzdHlsZXMgdG8gcmVzZXQgdG8gd2hlbiBmZWF0dXJlcyBhcmUgbm8gbG9uZ2VyIHNlbGVjdGVkLlxuICogQHR5cGUge09iamVjdC48bnVtYmVyLCBpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5LjxpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0PnxpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9uPn1cbiAqL1xudmFyIG9yaWdpbmFsRmVhdHVyZVN0eWxlcyA9IHt9O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBJbnRlcmFjdGlvbiBmb3Igc2VsZWN0aW5nIHZlY3RvciBmZWF0dXJlcy4gQnkgZGVmYXVsdCwgc2VsZWN0ZWQgZmVhdHVyZXMgYXJlXG4gKiBzdHlsZWQgZGlmZmVyZW50bHksIHNvIHRoaXMgaW50ZXJhY3Rpb24gY2FuIGJlIHVzZWQgZm9yIHZpc3VhbCBoaWdobGlnaHRpbmcsXG4gKiBhcyB3ZWxsIGFzIHNlbGVjdGluZyBmZWF0dXJlcyBmb3Igb3RoZXIgYWN0aW9ucywgc3VjaCBhcyBtb2RpZmljYXRpb24gb3JcbiAqIG91dHB1dC4gVGhlcmUgYXJlIHRocmVlIHdheXMgb2YgY29udHJvbGxpbmcgd2hpY2ggZmVhdHVyZXMgYXJlIHNlbGVjdGVkOlxuICogdXNpbmcgdGhlIGJyb3dzZXIgZXZlbnQgYXMgZGVmaW5lZCBieSB0aGUgYGNvbmRpdGlvbmAgYW5kIG9wdGlvbmFsbHkgdGhlXG4gKiBgdG9nZ2xlYCwgYGFkZGAvYHJlbW92ZWAsIGFuZCBgbXVsdGlgIG9wdGlvbnM7IGEgYGxheWVyc2AgZmlsdGVyOyBhbmQgYVxuICogZnVydGhlciBmZWF0dXJlIGZpbHRlciB1c2luZyB0aGUgYGZpbHRlcmAgb3B0aW9uLlxuICpcbiAqIFNlbGVjdGVkIGZlYXR1cmVzIGFyZSBhZGRlZCB0byBhbiBpbnRlcm5hbCB1bm1hbmFnZWQgbGF5ZXIuXG4gKlxuICogQGZpcmVzIFNlbGVjdEV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBTZWxlY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNlbGVjdCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlbGVjdChvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZEFkZEZlYXR1cmVfID0gX3RoaXMuYWRkRmVhdHVyZV8uYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRSZW1vdmVGZWF0dXJlXyA9IF90aGlzLnJlbW92ZUZlYXR1cmVfLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBzaW5nbGVDbGljaztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFkZENvbmRpdGlvbl8gPSBvcHRpb25zLmFkZENvbmRpdGlvbiA/IG9wdGlvbnMuYWRkQ29uZGl0aW9uIDogbmV2ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW1vdmVDb25kaXRpb25fID0gb3B0aW9ucy5yZW1vdmVDb25kaXRpb25cbiAgICAgICAgICAgID8gb3B0aW9ucy5yZW1vdmVDb25kaXRpb25cbiAgICAgICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50b2dnbGVDb25kaXRpb25fID0gb3B0aW9ucy50b2dnbGVDb25kaXRpb25cbiAgICAgICAgICAgID8gb3B0aW9ucy50b2dnbGVDb25kaXRpb25cbiAgICAgICAgICAgIDogc2hpZnRLZXlPbmx5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tdWx0aV8gPSBvcHRpb25zLm11bHRpID8gb3B0aW9ucy5tdWx0aSA6IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0ZpbHRlckZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyXyA9IG9wdGlvbnMuZmlsdGVyID8gb3B0aW9ucy5maWx0ZXIgOiBUUlVFO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpdFRvbGVyYW5jZV8gPSBvcHRpb25zLmhpdFRvbGVyYW5jZSA/IG9wdGlvbnMuaGl0VG9sZXJhbmNlIDogMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5LjxpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0PnxpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufG51bGx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5zdHlsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHlsZSA6IGdldERlZmF1bHRTdHlsZUZ1bmN0aW9uKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZXNfID0gb3B0aW9ucy5mZWF0dXJlcyB8fCBuZXcgQ29sbGVjdGlvbigpO1xuICAgICAgICAvKiogQHR5cGUge2Z1bmN0aW9uKGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSAqL1xuICAgICAgICB2YXIgbGF5ZXJGaWx0ZXI7XG4gICAgICAgIGlmIChvcHRpb25zLmxheWVycykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmxheWVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyID0gb3B0aW9ucy5sYXllcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJzXzEgPSBvcHRpb25zLmxheWVycztcbiAgICAgICAgICAgICAgICBsYXllckZpbHRlciA9IGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5jbHVkZXMobGF5ZXJzXzEsIGxheWVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGF5ZXJGaWx0ZXIgPSBUUlVFO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXllckZpbHRlcl8gPSBsYXllckZpbHRlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFzc29jaWF0aW9uIGJldHdlZW4gc2VsZWN0ZWQgZmVhdHVyZSAoa2V5KVxuICAgICAgICAgKiBhbmQgbGF5ZXIgKHZhbHVlKVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8gPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2VsZWN0LnByb3RvdHlwZS5hZGRGZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl8gPSBmdW5jdGlvbiAoZmVhdHVyZSwgbGF5ZXIpIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlTGF5ZXJBc3NvY2lhdGlvbl9bZ2V0VWlkKGZlYXR1cmUpXSA9IGxheWVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzZWxlY3RlZCBmZWF0dXJlcy5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gRmVhdHVyZXMgY29sbGVjdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2VsZWN0LnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgSGl0LWRldGVjdGlvbiB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybnMge251bWJlcn0gSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNlbGVjdC5wcm90b3R5cGUuZ2V0SGl0VG9sZXJhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaXRUb2xlcmFuY2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXNzb2NpYXRlZCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3Rvcn5WZWN0b3IgdmVjdG9ybGF5ZXJ9IG9mXG4gICAgICogdGhlIChsYXN0KSBzZWxlY3RlZCBmZWF0dXJlLiBOb3RlIHRoYXQgdGhpcyB3aWxsIG5vdCB3b3JrIHdpdGggYW55XG4gICAgICogcHJvZ3JhbW1hdGljIG1ldGhvZCBsaWtlIHB1c2hpbmcgZmVhdHVyZXMgdG9cbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1NlbGVjdH5TZWxlY3QjZ2V0RmVhdHVyZXMgY29sbGVjdGlvbn0uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmVcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoJy4uL2xheWVyL1ZlY3Rvci5qcycpLmRlZmF1bHR9IExheWVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmdldExheWVyID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KCcuLi9sYXllci9WZWN0b3IuanMnKS5kZWZhdWx0fSAqLyAodGhpc1xuICAgICAgICAgICAgLmZlYXR1cmVMYXllckFzc29jaWF0aW9uX1tnZXRVaWQoZmVhdHVyZSldKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhpdC1kZXRlY3Rpb24gdG9sZXJhbmNlLiBQaXhlbHMgaW5zaWRlIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvblxuICAgICAqIHdpbGwgYmUgY2hlY2tlZCBmb3IgZmVhdHVyZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU2VsZWN0LnByb3RvdHlwZS5zZXRIaXRUb2xlcmFuY2UgPSBmdW5jdGlvbiAoaGl0VG9sZXJhbmNlKSB7XG4gICAgICAgIHRoaXMuaGl0VG9sZXJhbmNlXyA9IGhpdFRvbGVyYW5jZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgaW50ZXJhY3Rpb24gZnJvbSBpdHMgY3VycmVudCBtYXAsIGlmIGFueSwgIGFuZCBhdHRhY2ggaXQgdG8gYSBuZXdcbiAgICAgKiBtYXAsIGlmIGFueS4gUGFzcyBgbnVsbGAgdG8ganVzdCByZW1vdmUgdGhlIGludGVyYWN0aW9uIGZyb20gdGhlIGN1cnJlbnQgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNlbGVjdC5wcm90b3R5cGUuc2V0TWFwID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICB2YXIgY3VycmVudE1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIGlmIChjdXJyZW50TWFwICYmIHRoaXMuc3R5bGVfKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzXy5mb3JFYWNoKHRoaXMucmVzdG9yZVByZXZpb3VzU3R5bGVfLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcywgbWFwKTtcbiAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc18uYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgdGhpcy5ib3VuZEFkZEZlYXR1cmVfKTtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNfLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIHRoaXMuYm91bmRSZW1vdmVGZWF0dXJlXyk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzXy5mb3JFYWNoKHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNfLnJlbW92ZUV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIHRoaXMuYm91bmRBZGRGZWF0dXJlXyk7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzXy5yZW1vdmVFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCB0aGlzLmJvdW5kUmVtb3ZlRmVhdHVyZV8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldnQgRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmFkZEZlYXR1cmVfID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IGV2dC5lbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5zdHlsZV8pIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTZWxlY3RlZFN0eWxlXyhmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IEV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2VsZWN0LnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlXyA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGZlYXR1cmUgPSBldnQuZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVfKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3RvcmVQcmV2aW91c1N0eWxlXyhmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx9IFNlbGVjdCBzdHlsZS5cbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmdldFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmFwcGx5U2VsZWN0ZWRTdHlsZV8gPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICB2YXIga2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICBpZiAoIShrZXkgaW4gb3JpZ2luYWxGZWF0dXJlU3R5bGVzKSkge1xuICAgICAgICAgICAgb3JpZ2luYWxGZWF0dXJlU3R5bGVzW2tleV0gPSBmZWF0dXJlLmdldFN0eWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmVhdHVyZS5zZXRTdHlsZSh0aGlzLnN0eWxlXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLnJlc3RvcmVQcmV2aW91c1N0eWxlXyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbnMgPSB0aGlzLmdldE1hcCgpLmdldEludGVyYWN0aW9ucygpLmdldEFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSBpbnRlcmFjdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uc1tpXTtcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbiAhPT0gdGhpcyAmJlxuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uIGluc3RhbmNlb2YgU2VsZWN0ICYmXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb24uZ2V0U3R5bGUoKSAmJlxuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uLmdldEZlYXR1cmVzKCkuZ2V0QXJyYXkoKS5sYXN0SW5kZXhPZihmZWF0dXJlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLnNldFN0eWxlKGludGVyYWN0aW9uLmdldFN0eWxlKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICBmZWF0dXJlLnNldFN0eWxlKG9yaWdpbmFsRmVhdHVyZVN0eWxlc1trZXldKTtcbiAgICAgICAgZGVsZXRlIG9yaWdpbmFsRmVhdHVyZVN0eWxlc1trZXldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVMYXllckFzc29jaWF0aW9uXyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZlYXR1cmVMYXllckFzc29jaWF0aW9uX1tnZXRVaWQoZmVhdHVyZSldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGFuZCBtYXkgY2hhbmdlIHRoZVxuICAgICAqIHNlbGVjdGVkIHN0YXRlIG9mIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQHRoaXMge1NlbGVjdH1cbiAgICAgKi9cbiAgICBTZWxlY3QucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWRkID0gdGhpcy5hZGRDb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIHZhciByZW1vdmUgPSB0aGlzLnJlbW92ZUNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgdmFyIHRvZ2dsZSA9IHRoaXMudG9nZ2xlQ29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICB2YXIgc2V0ID0gIWFkZCAmJiAhcmVtb3ZlICYmICF0b2dnbGU7XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSB0aGlzLmdldEZlYXR1cmVzKCk7XG4gICAgICAgIHZhciBkZXNlbGVjdGVkID0gW107XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IFtdO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZmVhdHVyZShzKSB3aXRoIHRoZSBmZWF0dXJlKHMpIGF0IHRoZVxuICAgICAgICAgICAgLy8gcGl4ZWwsIG9yIGNsZWFyIHRoZSBzZWxlY3RlZCBmZWF0dXJlKHMpIGlmIHRoZXJlIGlzIG5vIGZlYXR1cmUgYXRcbiAgICAgICAgICAgIC8vIHRoZSBwaXhlbC5cbiAgICAgICAgICAgIGNsZWFyKHRoaXMuZmVhdHVyZUxheWVyQXNzb2NpYXRpb25fKTtcbiAgICAgICAgICAgIG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwobWFwQnJvd3NlckV2ZW50LnBpeGVsLCBcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IENvbnRpbnVlIHRvIGl0ZXJhdGUgb3ZlciB0aGUgZmVhdHVyZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChmZWF0dXJlLCBsYXllcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbHRlcl8oZmVhdHVyZSwgbGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmVhdHVyZUxheWVyQXNzb2NpYXRpb25fKGZlYXR1cmUsIGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLm11bHRpXztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIHtcbiAgICAgICAgICAgICAgICBsYXllckZpbHRlcjogdGhpcy5sYXllckZpbHRlcl8sXG4gICAgICAgICAgICAgICAgaGl0VG9sZXJhbmNlOiB0aGlzLmhpdFRvbGVyYW5jZV8sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBmZWF0dXJlcy5nZXRMZW5ndGgoKSAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZlYXR1cmUgPSBmZWF0dXJlcy5pdGVtKGkpO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHNlbGVjdGVkLmluZGV4T2YoZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmVhdHVyZSBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5yZW1vdmUoZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlc2VsZWN0ZWQucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZXMuZXh0ZW5kKHNlbGVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1vZGlmeSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGZlYXR1cmUocykuXG4gICAgICAgICAgICBtYXAuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKG1hcEJyb3dzZXJFdmVudC5waXhlbCwgXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICAgICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBDb250aW51ZSB0byBpdGVyYXRlIG92ZXIgdGhlIGZlYXR1cmVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiAoZmVhdHVyZSwgbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJfKGZlYXR1cmUsIGxheWVyKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGFkZCB8fCB0b2dnbGUpICYmICFpbmNsdWRlcyhmZWF0dXJlcy5nZXRBcnJheSgpLCBmZWF0dXJlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmVhdHVyZUxheWVyQXNzb2NpYXRpb25fKGZlYXR1cmUsIGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgocmVtb3ZlIHx8IHRvZ2dsZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzKGZlYXR1cmVzLmdldEFycmF5KCksIGZlYXR1cmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNlbGVjdGVkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZlYXR1cmVMYXllckFzc29jaWF0aW9uXyhmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMubXVsdGlfO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwge1xuICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyOiB0aGlzLmxheWVyRmlsdGVyXyxcbiAgICAgICAgICAgICAgICBoaXRUb2xlcmFuY2U6IHRoaXMuaGl0VG9sZXJhbmNlXyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRlc2VsZWN0ZWQubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlcy5yZW1vdmUoZGVzZWxlY3RlZFtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmZWF0dXJlcy5leHRlbmQoc2VsZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPiAwIHx8IGRlc2VsZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBTZWxlY3RFdmVudChTZWxlY3RFdmVudFR5cGUuU0VMRUNULCBzZWxlY3RlZCwgZGVzZWxlY3RlZCwgbWFwQnJvd3NlckV2ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU2VsZWN0O1xufShJbnRlcmFjdGlvbikpO1xuLyoqXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufSBTdHlsZXMuXG4gKi9cbmZ1bmN0aW9uIGdldERlZmF1bHRTdHlsZUZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHlsZXMgPSBjcmVhdGVFZGl0aW5nU3R5bGUoKTtcbiAgICBleHRlbmQoc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXSwgc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10pO1xuICAgIGV4dGVuZChzdHlsZXNbR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT05dLCBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIGlmICghZmVhdHVyZS5nZXRHZW9tZXRyeSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3R5bGVzW2ZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRUeXBlKCldO1xuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBTZWxlY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZWxlY3QuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL21hdGhcbiAqL1xuLyoqXG4gKiBUYWtlcyBhIG51bWJlciBhbmQgY2xhbXBzIGl0IHRvIHdpdGhpbiB0aGUgcHJvdmlkZWQgYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbXVtIHZhbHVlIHRvIHJldHVybi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIG1heGltdW0gdmFsdWUgdG8gcmV0dXJuLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5wdXQgbnVtYmVyIGlmIGl0IGlzIHdpdGhpbiBib3VuZHMsIG9yIHRoZSBuZWFyZXN0XG4gKiAgICAgbnVtYmVyIHdpdGhpbiB0aGUgYm91bmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGEgZ2l2ZW4gbnVtYmVyLiBUaGUgbWV0aG9kIHdpbGwgdXNlIHRoZVxuICogbmF0aXZlIGBNYXRoLmNvc2hgIGZ1bmN0aW9uIGlmIGl0IGlzIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHRoZSBoeXBlcmJvbGljXG4gKiBjb3NpbmUgd2lsbCBiZSBjYWxjdWxhdGVkIHZpYSB0aGUgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBNb3ppbGxhXG4gKiBkZXZlbG9wZXIgbmV0d29yay5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHJldHVybiB7bnVtYmVyfSBIeXBlcmJvbGljIGNvc2luZSBvZiB4LlxuICovXG5leHBvcnQgdmFyIGNvc2ggPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdyYXBwZWQgaW4gYSBpaWZlLCB0byBzYXZlIHRoZSBvdmVyaGVhZCBvZiBjaGVja2luZyBmb3IgdGhlIG5hdGl2ZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIG9uIGV2ZXJ5IGludm9jYXRpb24uXG4gICAgdmFyIGNvc2g7XG4gICAgaWYgKCdjb3NoJyBpbiBNYXRoKSB7XG4gICAgICAgIC8vIFRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyB0aGUgbmF0aXZlIE1hdGguY29zaCBmdW5jdGlvbiwgdXNlIGl04oCmXG4gICAgICAgIGNvc2ggPSBNYXRoLmNvc2g7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyDigKYgZWxzZSwgdXNlIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgTUROOlxuICAgICAgICBjb3NoID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHZhciB5ID0gLyoqIEB0eXBlIHtNYXRofSAqLyAoTWF0aCkuZXhwKHgpO1xuICAgICAgICAgICAgcmV0dXJuICh5ICsgMSAvIHkpIC8gMjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNvc2g7XG59KSgpO1xuLyoqXG4gKiBSZXR1cm4gdGhlIGJhc2UgMiBsb2dhcml0aG0gb2YgYSBnaXZlbiBudW1iZXIuIFRoZSBtZXRob2Qgd2lsbCB1c2UgdGhlXG4gKiBuYXRpdmUgYE1hdGgubG9nMmAgZnVuY3Rpb24gaWYgaXQgaXMgYXZhaWxhYmxlLCBvdGhlcndpc2UgdGhlIGJhc2UgMlxuICogbG9nYXJpdGhtIHdpbGwgYmUgY2FsY3VsYXRlZCB2aWEgdGhlIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVcbiAqIE1vemlsbGEgZGV2ZWxvcGVyIG5ldHdvcmsuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEByZXR1cm4ge251bWJlcn0gQmFzZSAyIGxvZ2FyaXRobSBvZiB4LlxuICovXG5leHBvcnQgdmFyIGxvZzIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFdyYXBwZWQgaW4gYSBpaWZlLCB0byBzYXZlIHRoZSBvdmVyaGVhZCBvZiBjaGVja2luZyBmb3IgdGhlIG5hdGl2ZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIG9uIGV2ZXJ5IGludm9jYXRpb24uXG4gICAgdmFyIGxvZzI7XG4gICAgaWYgKCdsb2cyJyBpbiBNYXRoKSB7XG4gICAgICAgIC8vIFRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyB0aGUgbmF0aXZlIE1hdGgubG9nMiBmdW5jdGlvbiwgdXNlIGl04oCmXG4gICAgICAgIGxvZzIgPSBNYXRoLmxvZzI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyDigKYgZWxzZSwgdXNlIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgTUROOlxuICAgICAgICBsb2cyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyh4KSAqIE1hdGguTE9HMkU7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBsb2cyO1xufSkoKTtcbi8qKlxuICogUmV0dXJucyB0aGUgc3F1YXJlIG9mIHRoZSBjbG9zZXN0IGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50ICh4LCB5KSBhbmQgdGhlXG4gKiBsaW5lIHNlZ21lbnQgKHgxLCB5MSkgdG8gKHgyLCB5MikuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSBYMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSBZMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MiBYMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MiBZMi5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRTZWdtZW50RGlzdGFuY2UoeCwgeSwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICB2YXIgZHggPSB4MiAtIHgxO1xuICAgIHZhciBkeSA9IHkyIC0geTE7XG4gICAgaWYgKGR4ICE9PSAwIHx8IGR5ICE9PSAwKSB7XG4gICAgICAgIHZhciB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgICAgIHkxID0geTI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA+IDApIHtcbiAgICAgICAgICAgIHgxICs9IGR4ICogdDtcbiAgICAgICAgICAgIHkxICs9IGR5ICogdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKHgsIHksIHgxLCB5MSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNxdWFyZSBvZiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9pbnRzICh4MSwgeTEpIGFuZCAoeDIsIHkyKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSBYMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSBZMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MiBYMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MiBZMi5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5Mikge1xuICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG4vKipcbiAqIFNvbHZlcyBzeXN0ZW0gb2YgbGluZWFyIGVxdWF0aW9ucyB1c2luZyBHYXVzc2lhbiBlbGltaW5hdGlvbiBtZXRob2QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gbWF0IEF1Z21lbnRlZCBtYXRyaXggKG4geCBuICsgMSBjb2x1bW4pXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiByb3ctbWFqb3Igb3JkZXIuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUaGUgcmVzdWx0aW5nIHZlY3Rvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNvbHZlTGluZWFyU3lzdGVtKG1hdCkge1xuICAgIHZhciBuID0gbWF0Lmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAvLyBGaW5kIG1heCBpbiB0aGUgaS10aCBjb2x1bW4gKGlnbm9yaW5nIGkgLSAxIGZpcnN0IHJvd3MpXG4gICAgICAgIHZhciBtYXhSb3cgPSBpO1xuICAgICAgICB2YXIgbWF4RWwgPSBNYXRoLmFicyhtYXRbaV1baV0pO1xuICAgICAgICBmb3IgKHZhciByID0gaSArIDE7IHIgPCBuOyByKyspIHtcbiAgICAgICAgICAgIHZhciBhYnNWYWx1ZSA9IE1hdGguYWJzKG1hdFtyXVtpXSk7XG4gICAgICAgICAgICBpZiAoYWJzVmFsdWUgPiBtYXhFbCkge1xuICAgICAgICAgICAgICAgIG1heEVsID0gYWJzVmFsdWU7XG4gICAgICAgICAgICAgICAgbWF4Um93ID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4RWwgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBtYXRyaXggaXMgc2luZ3VsYXJcbiAgICAgICAgfVxuICAgICAgICAvLyBTd2FwIG1heCByb3cgd2l0aCBpLXRoIChjdXJyZW50KSByb3dcbiAgICAgICAgdmFyIHRtcCA9IG1hdFttYXhSb3ddO1xuICAgICAgICBtYXRbbWF4Um93XSA9IG1hdFtpXTtcbiAgICAgICAgbWF0W2ldID0gdG1wO1xuICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgaS10aCByb3cgdG8gbWFrZSBhbGwgdGhlIHJlbWFpbmluZyByb3dzIDAgaW4gdGhlIGktdGggY29sdW1uXG4gICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IG47IGorKykge1xuICAgICAgICAgICAgdmFyIGNvZWYgPSAtbWF0W2pdW2ldIC8gbWF0W2ldW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IGk7IGsgPCBuICsgMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gaykge1xuICAgICAgICAgICAgICAgICAgICBtYXRbal1ba10gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0W2pdW2tdICs9IGNvZWYgKiBtYXRbaV1ba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNvbHZlIEF4PWIgZm9yIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4IEEgKG1hdClcbiAgICB2YXIgeCA9IG5ldyBBcnJheShuKTtcbiAgICBmb3IgKHZhciBsID0gbiAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICAgIHhbbF0gPSBtYXRbbF1bbl0gLyBtYXRbbF1bbF07XG4gICAgICAgIGZvciAodmFyIG0gPSBsIC0gMTsgbSA+PSAwOyBtLS0pIHtcbiAgICAgICAgICAgIG1hdFttXVtuXSAtPSBtYXRbbV1bbF0gKiB4W2xdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4O1xufVxuLyoqXG4gKiBDb252ZXJ0cyByYWRpYW5zIHRvIHRvIGRlZ3JlZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5SYWRpYW5zIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIGluIGRlZ3JlZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZXMoYW5nbGVJblJhZGlhbnMpIHtcbiAgICByZXR1cm4gKGFuZ2xlSW5SYWRpYW5zICogMTgwKSAvIE1hdGguUEk7XG59XG4vKipcbiAqIENvbnZlcnRzIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJbkRlZ3JlZXMgQW5nbGUgaW4gZGVncmVlcy5cbiAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFucyhhbmdsZUluRGVncmVlcykge1xuICAgIHJldHVybiAoYW5nbGVJbkRlZ3JlZXMgKiBNYXRoLlBJKSAvIDE4MDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbW9kdWxvIG9mIGEgLyBiLCBkZXBlbmRpbmcgb24gdGhlIHNpZ24gb2YgYi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYSBEaXZpZGVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIERpdmlzb3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1vZHVsby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZHVsbyhhLCBiKSB7XG4gICAgdmFyIHIgPSBhICUgYjtcbiAgICByZXR1cm4gciAqIGIgPCAwID8gciArIGIgOiByO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgeCBiZXR3ZWVuIGEgYW5kIGIuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGEgTnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFZhbHVlIHRvIGJlIGludGVycG9sYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW50ZXJwb2xhdGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChhLCBiLCB4KSB7XG4gICAgcmV0dXJuIGEgKyB4ICogKGIgLSBhKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGguanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL29ialxuICovXG4vKipcbiAqIFBvbHlmaWxsIGZvciBPYmplY3QuYXNzaWduKCkuICBBc3NpZ25zIGVudW1lcmFibGUgYW5kIG93biBwcm9wZXJ0aWVzIGZyb21cbiAqIG9uZSBvciBtb3JlIHNvdXJjZSBvYmplY3RzIHRvIGEgdGFyZ2V0IG9iamVjdC5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduLlxuICpcbiAqIEBwYXJhbSB7IU9iamVjdH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IHZhcl9zb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0KHMpLlxuICogQHJldHVybiB7IU9iamVjdH0gVGhlIG1vZGlmaWVkIHRhcmdldCBvYmplY3QuXG4gKi9cbmV4cG9ydCB2YXIgYXNzaWduID0gdHlwZW9mIE9iamVjdC5hc3NpZ24gPT09ICdmdW5jdGlvbidcbiAgICA/IE9iamVjdC5hc3NpZ25cbiAgICA6IGZ1bmN0aW9uICh0YXJnZXQsIHZhcl9zb3VyY2VzKSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGlpID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuLyoqXG4gKiBSZW1vdmVzIGFsbCBwcm9wZXJ0aWVzIGZyb20gYW4gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsZWFyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIob2JqZWN0KSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xuICAgIH1cbn1cbi8qKlxuICogUG9seWZpbGwgZm9yIE9iamVjdC52YWx1ZXMoKS4gIEdldCBhbiBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMgZnJvbSBhbiBvYmplY3QuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L3ZhbHVlc1xuICpcbiAqIEBwYXJhbSB7IU9iamVjdDxLLFY+fSBvYmplY3QgVGhlIG9iamVjdCBmcm9tIHdoaWNoIHRvIGdldCB0aGUgdmFsdWVzLlxuICogQHJldHVybiB7IUFycmF5PFY+fSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICogQHRlbXBsYXRlIEssVlxuICovXG5leHBvcnQgdmFyIGdldFZhbHVlcyA9IHR5cGVvZiBPYmplY3QudmFsdWVzID09PSAnZnVuY3Rpb24nXG4gICAgPyBPYmplY3QudmFsdWVzXG4gICAgOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChvYmplY3RbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4vKipcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaGFzIGFueSBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG9iamVjdCBpcyBlbXB0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkob2JqZWN0KSB7XG4gICAgdmFyIHByb3BlcnR5O1xuICAgIGZvciAocHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFwcm9wZXJ0eTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9iai5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9Qcm9qZWN0aW9uXG4gKi9cbmltcG9ydCB7IE1FVEVSU19QRVJfVU5JVCB9IGZyb20gJy4vVW5pdHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29kZSBUaGUgU1JTIGlkZW50aWZpZXIgY29kZSwgZS5nLiBgRVBTRzo0MzI2YC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5kZWZhdWx0fHN0cmluZ30gW3VuaXRzXSBVbml0cy4gUmVxdWlyZWQgdW5sZXNzIGFcbiAqIHByb2o0IHByb2plY3Rpb24gaXMgZGVmaW5lZCBmb3IgYGNvZGVgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgdmFsaWRpdHkgZXh0ZW50IGZvciB0aGUgU1JTLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtheGlzT3JpZW50YXRpb249J2VudSddIFRoZSBheGlzIG9yaWVudGF0aW9uIGFzIHNwZWNpZmllZCBpbiBQcm9qNC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2dsb2JhbD1mYWxzZV0gV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyB2YWxpZCBmb3IgdGhlIHdob2xlIGdsb2JlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttZXRlcnNQZXJVbml0XSBUaGUgbWV0ZXJzIHBlciB1bml0IGZvciB0aGUgU1JTLlxuICogSWYgbm90IHByb3ZpZGVkLCB0aGUgYHVuaXRzYCBhcmUgdXNlZCB0byBnZXQgdGhlIG1ldGVycyBwZXIgdW5pdCBmcm9tIHRoZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovVW5pdHN+TUVURVJTX1BFUl9VTklUfVxuICogbG9va3VwIHRhYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbd29ybGRFeHRlbnRdIFRoZSB3b3JsZCBleHRlbnQgZm9yIHRoZSBTUlMuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ9IFtnZXRQb2ludFJlc29sdXRpb25dXG4gKiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgcmVzb2x1dGlvbiBhdCBhIHBvaW50LiBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYVxuICogYHtudW1iZXJ9YCB2aWV3IHJlc29sdXRpb24gYW5kIGFuIGB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfWAgYXMgYXJndW1lbnRzLCBhbmQgcmV0dXJuc1xuICogdGhlIGB7bnVtYmVyfWAgcmVzb2x1dGlvbiBpbiBwcm9qZWN0aW9uIHVuaXRzIGF0IHRoZSBwYXNzZWQgY29vcmRpbmF0ZS4gSWYgdGhpcyBpcyBgdW5kZWZpbmVkYCxcbiAqIHRoZSBkZWZhdWx0IHtAbGluayBtb2R1bGU6b2wvcHJvaiNnZXRQb2ludFJlc29sdXRpb259IGZ1bmN0aW9uIHdpbGwgYmUgdXNlZC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIGRlZmluaXRpb24gY2xhc3MuIE9uZSBvZiB0aGVzZSBpcyBjcmVhdGVkIGZvciBlYWNoIHByb2plY3Rpb25cbiAqIHN1cHBvcnRlZCBpbiB0aGUgYXBwbGljYXRpb24gYW5kIHN0b3JlZCBpbiB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qfSBuYW1lc3BhY2UuXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBpbiBhcHBsaWNhdGlvbnMsIGJ1dCB0aGlzIGlzIG5vdCByZXF1aXJlZCwgYXMgQVBJIHBhcmFtc1xuICogYW5kIG9wdGlvbnMgdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvan5Qcm9qZWN0aW9uTGlrZX0gd2hpY2ggbWVhbnMgdGhlIHNpbXBsZSBzdHJpbmdcbiAqIGNvZGUgd2lsbCBzdWZmaWNlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvan5nZXR9IHRvIHJldHJpZXZlIHRoZSBvYmplY3QgZm9yIGEgcGFydGljdWxhclxuICogcHJvamVjdGlvbi5cbiAqXG4gKiBUaGUgbGlicmFyeSBpbmNsdWRlcyBkZWZpbml0aW9ucyBmb3IgYEVQU0c6NDMyNmAgYW5kIGBFUFNHOjM4NTdgLCB0b2dldGhlclxuICogd2l0aCB0aGUgZm9sbG93aW5nIGFsaWFzZXM6XG4gKiAqIGBFUFNHOjQzMjZgOiBDUlM6ODQsIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuNjo0MzI2LFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0LCB1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQsXG4gKiAgICAgaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYsXG4gKiAgICAgdXJuOngtb2djOmRlZjpjcnM6RVBTRzo0MzI2XG4gKiAqIGBFUFNHOjM4NTdgOiBFUFNHOjEwMjEwMCwgRVBTRzoxMDIxMTMsIEVQU0c6OTAwOTEzLFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuMTg6MzozODU3LFxuICogICAgIGh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCMzODU3XG4gKlxuICogSWYgeW91IHVzZSBbcHJvajRqc10oaHR0cHM6Ly9naXRodWIuY29tL3Byb2o0anMvcHJvajRqcyksIGFsaWFzZXMgY2FuXG4gKiBiZSBhZGRlZCB1c2luZyBgcHJvajQuZGVmcygpYC4gQWZ0ZXIgYWxsIHJlcXVpcmVkIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgYXJlXG4gKiBhZGRlZCwgY2FsbCB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qL3Byb2o0fnJlZ2lzdGVyfSBmdW5jdGlvbi5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBQcm9qZWN0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvamVjdGlvbihvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2RlXyA9IG9wdGlvbnMuY29kZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXRzIG9mIHByb2plY3RlZCBjb29yZGluYXRlcy4gV2hlbiBzZXQgdG8gYFRJTEVfUElYRUxTYCwgYVxuICAgICAgICAgKiBgdGhpcy5leHRlbnRfYCBhbmQgYHRoaXMud29ybGRFeHRlbnRfYCBtdXN0IGJlIGNvbmZpZ3VyZWQgcHJvcGVybHkgZm9yIGVhY2hcbiAgICAgICAgICogdGlsZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vVW5pdHMuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pdHNfID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1VuaXRzLmpzXCIpLmRlZmF1bHR9ICovIChvcHRpb25zLnVuaXRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkaXR5IGV4dGVudCBvZiB0aGUgcHJvamVjdGlvbiBpbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMuIEZvciBwcm9qZWN0aW9uc1xuICAgICAgICAgKiB3aXRoIGBUSUxFX1BJWEVMU2AgdW5pdHMsIHRoaXMgaXMgdGhlIGV4dGVudCBvZiB0aGUgdGlsZSBpblxuICAgICAgICAgKiB0aWxlIHBpeGVsIHNwYWNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmV4dGVudCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnQgb2YgdGhlIHdvcmxkIGluIEVQU0c6NDMyNi4gRm9yIHByb2plY3Rpb25zIHdpdGhcbiAgICAgICAgICogYFRJTEVfUElYRUxTYCB1bml0cywgdGhpcyBpcyB0aGUgZXh0ZW50IG9mIHRoZSB0aWxlIGluXG4gICAgICAgICAqIHByb2plY3RlZCBjb29yZGluYXRlIHNwYWNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRFeHRlbnRfID1cbiAgICAgICAgICAgIG9wdGlvbnMud29ybGRFeHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud29ybGRFeHRlbnQgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXhpc09yaWVudGF0aW9uXyA9XG4gICAgICAgICAgICBvcHRpb25zLmF4aXNPcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5heGlzT3JpZW50YXRpb24gOiAnZW51JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWxfID0gb3B0aW9ucy5nbG9iYWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZ2xvYmFsIDogZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuV3JhcFhfID0gISEodGhpcy5nbG9iYWxfICYmIHRoaXMuZXh0ZW50Xyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfID0gb3B0aW9ucy5nZXRQb2ludFJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFRpbGVHcmlkXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0ZXJzUGVyVW5pdF8gPSBvcHRpb25zLm1ldGVyc1BlclVuaXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBwcm9qZWN0aW9uIGlzIHN1aXRhYmxlIGZvciB3cmFwcGluZyB0aGUgeC1heGlzXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuY2FuV3JhcFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbldyYXBYXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29kZSBmb3IgdGhpcyBwcm9qZWN0aW9uLCBlLmcuICdFUFNHOjQzMjYnLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQ29kZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbGlkaXR5IGV4dGVudCBmb3IgdGhpcyBwcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1bml0cyBvZiB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5kZWZhdWx0fSBVbml0cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0VW5pdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaXRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW1vdW50IG9mIG1ldGVycyBwZXIgdW5pdCBvZiB0aGlzIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBpc1xuICAgICAqIG5vdCBjb25maWd1cmVkIHdpdGggYG1ldGVyc1BlclVuaXRgIG9yIGEgdW5pdHMgaWRlbnRpZmllciwgdGhlIHJldHVybiBpc1xuICAgICAqIGB1bmRlZmluZWRgLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IE1ldGVycy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuZ2V0TWV0ZXJzUGVyVW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0ZXJzUGVyVW5pdF8gfHwgTUVURVJTX1BFUl9VTklUW3RoaXMudW5pdHNfXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5nZXRXb3JsZEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRFeHRlbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBheGlzIG9yaWVudGF0aW9uIG9mIHRoaXMgcHJvamVjdGlvbi5cbiAgICAgKiBFeGFtcGxlIHZhbHVlcyBhcmU6XG4gICAgICogZW51IC0gdGhlIGRlZmF1bHQgZWFzdGluZywgbm9ydGhpbmcsIGVsZXZhdGlvbi5cbiAgICAgKiBuZXUgLSBub3J0aGluZywgZWFzdGluZywgdXAgLSB1c2VmdWwgZm9yIFwibGF0L2xvbmdcIiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzLFxuICAgICAqICAgICBvciBzb3V0aCBvcmllbnRhdGVkIHRyYW5zdmVyc2UgbWVyY2F0b3IuXG4gICAgICogd251IC0gd2VzdGluZywgbm9ydGhpbmcsIHVwIC0gc29tZSBwbGFuZXRhcnkgY29vcmRpbmF0ZSBzeXN0ZW1zIGhhdmVcbiAgICAgKiAgICAgXCJ3ZXN0IHBvc2l0aXZlXCIgY29vcmRpbmF0ZSBzeXN0ZW1zXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBeGlzIG9yaWVudGF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5nZXRBeGlzT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF4aXNPcmllbnRhdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHByb2plY3Rpb24gYSBnbG9iYWwgcHJvamVjdGlvbiB3aGljaCBzcGFucyB0aGUgd2hvbGUgd29ybGQ/XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmlzR2xvYmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGlmIHRoZSBwcm9qZWN0aW9uIGlzIGEgZ2xvYmFsIHByb2plY3Rpb24gd2hpY2ggc3BhbnMgdGhlIHdob2xlIHdvcmxkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBnbG9iYWwgV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldEdsb2JhbCA9IGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxfID0gZ2xvYmFsO1xuICAgICAgICB0aGlzLmNhbldyYXBYXyA9ICEhKGdsb2JhbCAmJiB0aGlzLmV4dGVudF8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmdldERlZmF1bHRUaWxlR3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFRpbGVHcmlkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldERlZmF1bHRUaWxlR3JpZCA9IGZ1bmN0aW9uICh0aWxlR3JpZCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRUaWxlR3JpZF8gPSB0aWxlR3JpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmFsaWRpdHkgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uLnByb3RvdHlwZS5zZXRFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudDtcbiAgICAgICAgdGhpcy5jYW5XcmFwWF8gPSAhISh0aGlzLmdsb2JhbF8gJiYgZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSB3b3JsZEV4dGVudCBXb3JsZCBleHRlbnRcbiAgICAgKiAgICAgW21pbmxvbiwgbWlubGF0LCBtYXhsb24sIG1heGxhdF0uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLnNldFdvcmxkRXh0ZW50ID0gZnVuY3Rpb24gKHdvcmxkRXh0ZW50KSB7XG4gICAgICAgIHRoaXMud29ybGRFeHRlbnRfID0gd29ybGRFeHRlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGdldFBvaW50UmVzb2x1dGlvbiBmdW5jdGlvbiAoc2VlIHtAbGluayBtb2R1bGU6b2wvcHJvan5nZXRQb2ludFJlc29sdXRpb259XG4gICAgICogZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ9IGZ1bmMgRnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUHJvamVjdGlvbi5wcm90b3R5cGUuc2V0R2V0UG9pbnRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgdGhpcy5nZXRQb2ludFJlc29sdXRpb25GdW5jXyA9IGZ1bmM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1c3RvbSBwb2ludCByZXNvbHV0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIHByb2plY3Rpb24gKGlmIHNldCkuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcnx1bmRlZmluZWR9IFRoZSBjdXN0b20gcG9pbnRcbiAgICAgKiByZXNvbHV0aW9uIGZ1bmN0aW9uIChpZiBzZXQpLlxuICAgICAqL1xuICAgIFByb2plY3Rpb24ucHJvdG90eXBlLmdldFBvaW50UmVzb2x1dGlvbkZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfO1xuICAgIH07XG4gICAgcmV0dXJuIFByb2plY3Rpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUHJvamVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb2plY3Rpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL2Vwc2czODU3XG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMgZnJvbSAnLi9Vbml0cy5qcyc7XG5pbXBvcnQgeyBjb3NoIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIFJhZGl1cyBvZiBXR1M4NCBzcGhlcmVcbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgUkFESVVTID0gNjM3ODEzNztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIEhBTEZfU0laRSA9IE1hdGguUEkgKiBSQURJVVM7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gKi9cbmV4cG9ydCB2YXIgRVhURU5UID0gWy1IQUxGX1NJWkUsIC1IQUxGX1NJWkUsIEhBTEZfU0laRSwgSEFMRl9TSVpFXTtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IHZhciBXT1JMRF9FWFRFTlQgPSBbLTE4MCwgLTg1LCAxODAsIDg1XTtcbi8qKlxuICogTWF4aW11bSBzYWZlIHZhbHVlIGluIHkgZGlyZWN0aW9uXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgTUFYX1NBRkVfWSA9IFJBRElVUyAqIE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyAyKSk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb2plY3Rpb24gb2JqZWN0IGZvciB3ZWIvc3BoZXJpY2FsIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICovXG52YXIgRVBTRzM4NTdQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFUFNHMzg1N1Byb2plY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFUFNHMzg1N1Byb2plY3Rpb24oY29kZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgIHVuaXRzOiBVbml0cy5NRVRFUlMsXG4gICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgICAgICAgIHdvcmxkRXh0ZW50OiBXT1JMRF9FWFRFTlQsXG4gICAgICAgICAgICBnZXRQb2ludFJlc29sdXRpb246IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBwb2ludCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHV0aW9uIC8gY29zaChwb2ludFsxXSAvIFJBRElVUyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRVBTRzM4NTdQcm9qZWN0aW9uO1xufShQcm9qZWN0aW9uKSk7XG4vKipcbiAqIFByb2plY3Rpb25zIGVxdWFsIHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCB2YXIgUFJPSkVDVElPTlMgPSBbXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzozODU3JyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzoxMDIxMDAnKSxcbiAgICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdFUFNHOjEwMjExMycpLFxuICAgIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6OTAwOTEzJyksXG4gICAgbmV3IEVQU0czODU3UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzM4NTcnKSxcbl07XG4vKipcbiAqIFRyYW5zZm9ybWF0aW9uIGZyb20gRVBTRzo0MzI2IHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X291dHB1dCBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9kaW1lbnNpb24gRGltZW5zaW9uIChkZWZhdWx0IGlzIGAyYCkuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRVBTRzQzMjYoaW5wdXQsIG9wdF9vdXRwdXQsIG9wdF9kaW1lbnNpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIHZhciBkaW1lbnNpb24gPSBvcHRfZGltZW5zaW9uID4gMSA/IG9wdF9kaW1lbnNpb24gOiAyO1xuICAgIHZhciBvdXRwdXQgPSBvcHRfb3V0cHV0O1xuICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoZGltZW5zaW9uID4gMikge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgdmFsdWVzIGJleW9uZCBzZWNvbmQgZGltZW5zaW9uXG4gICAgICAgICAgICBvdXRwdXQgPSBpbnB1dC5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgICAgIG91dHB1dFtpXSA9IChIQUxGX1NJWkUgKiBpbnB1dFtpXSkgLyAxODA7XG4gICAgICAgIHZhciB5ID0gUkFESVVTICogTWF0aC5sb2coTWF0aC50YW4oKE1hdGguUEkgKiAoK2lucHV0W2kgKyAxXSArIDkwKSkgLyAzNjApKTtcbiAgICAgICAgaWYgKHkgPiBNQVhfU0FGRV9ZKSB7XG4gICAgICAgICAgICB5ID0gTUFYX1NBRkVfWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5IDwgLU1BWF9TQUZFX1kpIHtcbiAgICAgICAgICAgIHkgPSAtTUFYX1NBRkVfWTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXRbaSArIDFdID0geTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtYXRpb24gZnJvbSBFUFNHOjM4NTcgdG8gRVBTRzo0MzI2LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfb3V0cHV0IE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2RpbWVuc2lvbiBEaW1lbnNpb24gKGRlZmF1bHQgaXMgYDJgKS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRVBTRzQzMjYoaW5wdXQsIG9wdF9vdXRwdXQsIG9wdF9kaW1lbnNpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIHZhciBkaW1lbnNpb24gPSBvcHRfZGltZW5zaW9uID4gMSA/IG9wdF9kaW1lbnNpb24gOiAyO1xuICAgIHZhciBvdXRwdXQgPSBvcHRfb3V0cHV0O1xuICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoZGltZW5zaW9uID4gMikge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgdmFsdWVzIGJleW9uZCBzZWNvbmQgZGltZW5zaW9uXG4gICAgICAgICAgICBvdXRwdXQgPSBpbnB1dC5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgICAgIG91dHB1dFtpXSA9ICgxODAgKiBpbnB1dFtpXSkgLyBIQUxGX1NJWkU7XG4gICAgICAgIG91dHB1dFtpICsgMV0gPVxuICAgICAgICAgICAgKDM2MCAqIE1hdGguYXRhbihNYXRoLmV4cChpbnB1dFtpICsgMV0gLyBSQURJVVMpKSkgLyBNYXRoLlBJIC0gOTA7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcHNnMzg1Ny5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovZXBzZzQzMjZcbiAqL1xuaW1wb3J0IFByb2plY3Rpb24gZnJvbSAnLi9Qcm9qZWN0aW9uLmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuL1VuaXRzLmpzJztcbi8qKlxuICogU2VtaS1tYWpvciByYWRpdXMgb2YgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgUkFESVVTID0gNjM3ODEzNztcbi8qKlxuICogRXh0ZW50IG9mIHRoZSBFUFNHOjQzMjYgcHJvamVjdGlvbiB3aGljaCBpcyB0aGUgd2hvbGUgd29ybGQuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IHZhciBFWFRFTlQgPSBbLTE4MCwgLTkwLCAxODAsIDkwXTtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIE1FVEVSU19QRVJfVU5JVCA9IChNYXRoLlBJICogUkFESVVTKSAvIDE4MDtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJvamVjdGlvbiBvYmplY3QgZm9yIFdHUzg0IGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMgKEVQU0c6NDMyNikuXG4gKlxuICogTm90ZSB0aGF0IE9wZW5MYXllcnMgZG9lcyBub3Qgc3RyaWN0bHkgY29tcGx5IHdpdGggdGhlIEVQU0cgZGVmaW5pdGlvbi5cbiAqIFRoZSBFUFNHIHJlZ2lzdHJ5IGRlZmluZXMgNDMyNiBhcyBhIENSUyBmb3IgTGF0aXR1ZGUsTG9uZ2l0dWRlICh5LHgpLlxuICogT3BlbkxheWVycyB0cmVhdHMgRVBTRzo0MzI2IGFzIGEgcHNldWRvLXByb2plY3Rpb24sIHdpdGggeCx5IGNvb3JkaW5hdGVzLlxuICovXG52YXIgRVBTRzQzMjZQcm9qZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFUFNHNDMyNlByb2plY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9heGlzT3JpZW50YXRpb24gQXhpcyBvcmllbnRhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFUFNHNDMyNlByb2plY3Rpb24oY29kZSwgb3B0X2F4aXNPcmllbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgIHVuaXRzOiBVbml0cy5ERUdSRUVTLFxuICAgICAgICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICAgICAgICBheGlzT3JpZW50YXRpb246IG9wdF9heGlzT3JpZW50YXRpb24sXG4gICAgICAgICAgICBnbG9iYWw6IHRydWUsXG4gICAgICAgICAgICBtZXRlcnNQZXJVbml0OiBNRVRFUlNfUEVSX1VOSVQsXG4gICAgICAgICAgICB3b3JsZEV4dGVudDogRVhURU5ULFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRVBTRzQzMjZQcm9qZWN0aW9uO1xufShQcm9qZWN0aW9uKSk7XG4vKipcbiAqIFByb2plY3Rpb25zIGVxdWFsIHRvIEVQU0c6NDMyNi5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCB2YXIgUFJPSkVDVElPTlMgPSBbXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignQ1JTOjg0JyksXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignRVBTRzo0MzI2JywgJ25ldScpLFxuICAgIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ3VybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0JyksXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbigndXJuOm9nYzpkZWY6Y3JzOk9HQzoyOjg0JyksXG4gICAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYnLCAnbmV1JyksXG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXBzZzQzMjYuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovcHJvamVjdGlvbnNcbiAqL1xuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICovXG52YXIgY2FjaGUgPSB7fTtcbi8qKlxuICogQ2xlYXIgdGhlIHByb2plY3Rpb25zIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgY2FjaGUgPSB7fTtcbn1cbi8qKlxuICogR2V0IGEgY2FjaGVkIHByb2plY3Rpb24gYnkgY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIFRoZSBjb2RlIGZvciB0aGUgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBUaGUgcHJvamVjdGlvbiAoaWYgY2FjaGVkKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChjb2RlKSB7XG4gICAgcmV0dXJuIChjYWNoZVtjb2RlXSB8fFxuICAgICAgICBjYWNoZVtjb2RlLnJlcGxhY2UoL3VybjooeC0pP29nYzpkZWY6Y3JzOkVQU0c6KC4qOik/KFxcdyspJC8sICdFUFNHOiQzJyldIHx8XG4gICAgICAgIG51bGwpO1xufVxuLyoqXG4gKiBBZGQgYSBwcm9qZWN0aW9uIHRvIHRoZSBjYWNoZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIFRoZSBwcm9qZWN0aW9uIGNvZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFRoZSBwcm9qZWN0aW9uIHRvIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGNvZGUsIHByb2plY3Rpb24pIHtcbiAgICBjYWNoZVtjb2RlXSA9IHByb2plY3Rpb247XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9qZWN0aW9ucy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai90cmFuc2Zvcm1zXG4gKi9cbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9uPj59XG4gKi9cbnZhciB0cmFuc2Zvcm1zID0ge307XG4vKipcbiAqIENsZWFyIHRoZSB0cmFuc2Zvcm0gY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICB0cmFuc2Zvcm1zID0ge307XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIGNvbnZlcnNpb24gZnVuY3Rpb24gdG8gY29udmVydCBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2VcbiAqIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlIFNvdXJjZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSB0cmFuc2Zvcm1GbiBUcmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoc291cmNlLCBkZXN0aW5hdGlvbiwgdHJhbnNmb3JtRm4pIHtcbiAgICB2YXIgc291cmNlQ29kZSA9IHNvdXJjZS5nZXRDb2RlKCk7XG4gICAgdmFyIGRlc3RpbmF0aW9uQ29kZSA9IGRlc3RpbmF0aW9uLmdldENvZGUoKTtcbiAgICBpZiAoIShzb3VyY2VDb2RlIGluIHRyYW5zZm9ybXMpKSB7XG4gICAgICAgIHRyYW5zZm9ybXNbc291cmNlQ29kZV0gPSB7fTtcbiAgICB9XG4gICAgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXVtkZXN0aW5hdGlvbkNvZGVdID0gdHJhbnNmb3JtRm47XG59XG4vKipcbiAqIFVucmVnaXN0ZXJzIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9uIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlXG4gKiBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjbGVhbiB1cFxuICogY2FjaGVkIHRyYW5zZm9ybXMgZHVyaW5nIHRlc3RpbmcuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRoZSB1bnJlZ2lzdGVyZWQgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICB2YXIgc291cmNlQ29kZSA9IHNvdXJjZS5nZXRDb2RlKCk7XG4gICAgdmFyIGRlc3RpbmF0aW9uQ29kZSA9IGRlc3RpbmF0aW9uLmdldENvZGUoKTtcbiAgICB2YXIgdHJhbnNmb3JtID0gdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXVtkZXN0aW5hdGlvbkNvZGVdO1xuICAgIGRlbGV0ZSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gICAgaWYgKGlzRW1wdHkodHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSkpIHtcbiAgICAgICAgZGVsZXRlIHRyYW5zZm9ybXNbc291cmNlQ29kZV07XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm07XG59XG4vKipcbiAqIEdldCBhIHRyYW5zZm9ybSBnaXZlbiBhIHNvdXJjZSBjb2RlIGFuZCBhIGRlc3RpbmF0aW9uIGNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlQ29kZSBUaGUgY29kZSBmb3IgdGhlIHNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGRlc3RpbmF0aW9uQ29kZSBUaGUgY29kZSBmb3IgdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufHVuZGVmaW5lZH0gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiAoaWYgZm91bmQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHNvdXJjZUNvZGUsIGRlc3RpbmF0aW9uQ29kZSkge1xuICAgIHZhciB0cmFuc2Zvcm07XG4gICAgaWYgKHNvdXJjZUNvZGUgaW4gdHJhbnNmb3JtcyAmJiBkZXN0aW5hdGlvbkNvZGUgaW4gdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSkge1xuICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm1zLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zcGhlcmVcbiAqL1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCB7IHRvRGVncmVlcywgdG9SYWRpYW5zIH0gZnJvbSAnLi9tYXRoLmpzJztcbi8qKlxuICogT2JqZWN0IGxpdGVyYWwgd2l0aCBvcHRpb25zIGZvciB0aGUge0BsaW5rIGdldExlbmd0aH0gb3Ige0BsaW5rIGdldEFyZWF9XG4gKiBmdW5jdGlvbnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTcGhlcmVNZXRyaWNPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddXG4gKiBQcm9qZWN0aW9uIG9mIHRoZSAgZ2VvbWV0cnkuICBCeSBkZWZhdWx0LCB0aGUgZ2VvbWV0cnkgaXMgYXNzdW1lZCB0byBiZSBpblxuICogV2ViIE1lcmNhdG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXM9NjM3MTAwOC44XSBTcGhlcmUgcmFkaXVzLiAgQnkgZGVmYXVsdCwgdGhlXG4gKiBbbWVhbiBFYXJ0aCByYWRpdXNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VhcnRoX3JhZGl1cyNNZWFuX3JhZGl1cylcbiAqIGZvciB0aGUgV0dTODQgZWxsaXBzb2lkIGlzIHVzZWQuXG4gKi9cbi8qKlxuICogVGhlIG1lYW4gRWFydGggcmFkaXVzICgxLzMgKiAoMmEgKyBiKSkgZm9yIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FYXJ0aF9yYWRpdXMjTWVhbl9yYWRpdXNcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9SQURJVVMgPSA2MzcxMDA4Ljg7XG4vKipcbiAqIEdldCB0aGUgZ3JlYXQgY2lyY2xlIGRpc3RhbmNlIChpbiBtZXRlcnMpIGJldHdlZW4gdHdvIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0FycmF5fSBjMSBTdGFydGluZyBjb29yZGluYXRlLlxuICogQHBhcmFtIHtBcnJheX0gYzIgRW5kaW5nIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9yYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLiAgRGVmYXVsdHMgdG8gdGhlIEVhcnRoJ3NcbiAqICAgICBtZWFuIHJhZGl1cyB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZ3JlYXQgY2lyY2xlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50cyAoaW4gbWV0ZXJzKS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlKGMxLCBjMiwgb3B0X3JhZGl1cykge1xuICAgIHZhciByYWRpdXMgPSBvcHRfcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgICB2YXIgbGF0MiA9IHRvUmFkaWFucyhjMlsxXSk7XG4gICAgdmFyIGRlbHRhTGF0QnkyID0gKGxhdDIgLSBsYXQxKSAvIDI7XG4gICAgdmFyIGRlbHRhTG9uQnkyID0gdG9SYWRpYW5zKGMyWzBdIC0gYzFbMF0pIC8gMjtcbiAgICB2YXIgYSA9IE1hdGguc2luKGRlbHRhTGF0QnkyKSAqIE1hdGguc2luKGRlbHRhTGF0QnkyKSArXG4gICAgICAgIE1hdGguc2luKGRlbHRhTG9uQnkyKSAqXG4gICAgICAgICAgICBNYXRoLnNpbihkZWx0YUxvbkJ5MikgKlxuICAgICAgICAgICAgTWF0aC5jb3MobGF0MSkgKlxuICAgICAgICAgICAgTWF0aC5jb3MobGF0Mik7XG4gICAgcmV0dXJuIDIgKiByYWRpdXMgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XG59XG4vKipcbiAqIEdldCB0aGUgY3VtdWxhdGl2ZSBncmVhdCBjaXJjbGUgbGVuZ3RoIG9mIGxpbmVzdHJpbmcgY29vcmRpbmF0ZXMgKGdlb2dyYXBoaWMpLlxuICogQHBhcmFtIHtBcnJheX0gY29vcmRpbmF0ZXMgTGluZXN0cmluZyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIChpbiBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKSB7XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWkgLSAxOyArK2kpIHtcbiAgICAgICAgbGVuZ3RoICs9IGdldERpc3RhbmNlKGNvb3JkaW5hdGVzW2ldLCBjb29yZGluYXRlc1tpICsgMV0sIHJhZGl1cyk7XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGxlbmd0aCBvZiBhIGdlb21ldHJ5LiAgVGhpcyBsZW5ndGggaXMgdGhlIHN1bSBvZiB0aGVcbiAqIGdyZWF0IGNpcmNsZSBkaXN0YW5jZXMgYmV0d2VlbiBjb29yZGluYXRlcy4gIEZvciBwb2x5Z29ucywgdGhlIGxlbmd0aCBpc1xuICogdGhlIHN1bSBvZiBhbGwgcmluZ3MuICBGb3IgcG9pbnRzLCB0aGUgbGVuZ3RoIGlzIHplcm8uICBGb3IgbXVsdGktcGFydFxuICogZ2VvbWV0cmllcywgdGhlIGxlbmd0aCBpcyB0aGUgc3VtIG9mIHRoZSBsZW5ndGggb2YgZWFjaCBwYXJ0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgQSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7U3BoZXJlTWV0cmljT3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMgZm9yIHRoZVxuICogbGVuZ3RoIGNhbGN1bGF0aW9uLiAgQnkgZGVmYXVsdCwgZ2VvbWV0cmllcyBhcmUgYXNzdW1lZCB0byBiZSBpbiAnRVBTRzozODU3Jy5cbiAqIFlvdSBjYW4gY2hhbmdlIHRoaXMgYnkgcHJvdmlkaW5nIGEgYHByb2plY3Rpb25gIG9wdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHNwaGVyaWNhbCBsZW5ndGggKGluIG1ldGVycykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZW5ndGgoZ2VvbWV0cnksIG9wdF9vcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgREVGQVVMVF9SQURJVVM7XG4gICAgdmFyIHByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb24gfHwgJ0VQU0c6Mzg1Nyc7XG4gICAgdmFyIHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgaWYgKHR5cGUgIT09IEdlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OKSB7XG4gICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKS50cmFuc2Zvcm0ocHJvamVjdGlvbiwgJ0VQU0c6NDMyNicpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICB2YXIgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5MSU5FQVJfUklORzoge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBsZW5ndGggPSBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HOlxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0xZR09OOiB7XG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGxlbmd0aCArPSBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlc1tpXSwgcmFkaXVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMCwgamogPSBjb29yZHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRzW2pdLCByYWRpdXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT046IHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyaWVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0R2VvbWV0cmllcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoKGdlb21ldHJpZXNbaV0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNwaGVyaWNhbCBhcmVhIGZvciBhIGxpc3Qgb2YgY29vcmRpbmF0ZXMuXG4gKlxuICogW1JlZmVyZW5jZV0oaHR0cHM6Ly90cnMtbmV3LmpwbC5uYXNhLmdvdi9oYW5kbGUvMjAxNC80MDQwOSlcbiAqIFJvYmVydC4gRy4gQ2hhbWJlcmxhaW4gYW5kIFdpbGxpYW0gSC4gRHVxdWV0dGUsIFwiU29tZSBBbGdvcml0aG1zIGZvclxuICogUG9seWdvbnMgb24gYSBTcGhlcmVcIiwgSlBMIFB1YmxpY2F0aW9uIDA3LTAzLCBKZXQgUHJvcHVsc2lvblxuICogTGFib3JhdG9yeSwgUGFzYWRlbmEsIENBLCBKdW5lIDIwMDdcbiAqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgTGlzdCBvZiBjb29yZGluYXRlcyBvZiBhIGxpbmVhclxuICogcmluZy4gSWYgdGhlIHJpbmcgaXMgb3JpZW50ZWQgY2xvY2t3aXNlLCB0aGUgYXJlYSB3aWxsIGJlIHBvc2l0aXZlLFxuICogb3RoZXJ3aXNlIGl0IHdpbGwgYmUgbmVnYXRpdmUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFRoZSBzcGhlcmUgcmFkaXVzLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhIChpbiBzcXVhcmUgbWV0ZXJzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzLCByYWRpdXMpIHtcbiAgICB2YXIgYXJlYSA9IDA7XG4gICAgdmFyIGxlbiA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICB2YXIgeDEgPSBjb29yZGluYXRlc1tsZW4gLSAxXVswXTtcbiAgICB2YXIgeTEgPSBjb29yZGluYXRlc1tsZW4gLSAxXVsxXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciB4MiA9IGNvb3JkaW5hdGVzW2ldWzBdO1xuICAgICAgICB2YXIgeTIgPSBjb29yZGluYXRlc1tpXVsxXTtcbiAgICAgICAgYXJlYSArPVxuICAgICAgICAgICAgdG9SYWRpYW5zKHgyIC0geDEpICpcbiAgICAgICAgICAgICAgICAoMiArIE1hdGguc2luKHRvUmFkaWFucyh5MSkpICsgTWF0aC5zaW4odG9SYWRpYW5zKHkyKSkpO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gKGFyZWEgKiByYWRpdXMgKiByYWRpdXMpIC8gMi4wO1xufVxuLyoqXG4gKiBHZXQgdGhlIHNwaGVyaWNhbCBhcmVhIG9mIGEgZ2VvbWV0cnkuICBUaGlzIGlzIHRoZSBhcmVhIChpbiBtZXRlcnMpIGFzc3VtaW5nXG4gKiB0aGF0IHBvbHlnb24gZWRnZXMgYXJlIHNlZ21lbnRzIG9mIGdyZWF0IGNpcmNsZXMgb24gYSBzcGhlcmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBBIGdlb21ldHJ5LlxuICogQHBhcmFtIHtTcGhlcmVNZXRyaWNPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIGFyZWFcbiAqICAgICBjYWxjdWxhdGlvbi4gIEJ5IGRlZmF1bHQsIGdlb21ldHJpZXMgYXJlIGFzc3VtZWQgdG8gYmUgaW4gJ0VQU0c6Mzg1NycuXG4gKiAgICAgWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBwcm92aWRpbmcgYSBgcHJvamVjdGlvbmAgb3B0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3BoZXJpY2FsIGFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShnZW9tZXRyeSwgb3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgIHZhciByYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCBERUZBVUxUX1JBRElVUztcbiAgICB2YXIgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbiB8fCAnRVBTRzozODU3JztcbiAgICB2YXIgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICBpZiAodHlwZSAhPT0gR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT04pIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpLnRyYW5zZm9ybShwcm9qZWN0aW9uLCAnRVBTRzo0MzI2Jyk7XG4gICAgfVxuICAgIHZhciBhcmVhID0gMDtcbiAgICB2YXIgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTVVMVElfUE9JTlQ6XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HOlxuICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORUFSX1JJTkc6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBhcmVhID0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzW2ldLCByYWRpdXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046IHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICAgICAgYXJlYSArPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAxLCBqaiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3Jkc1tqXSwgcmFkaXVzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTjoge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJpZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRHZW9tZXRyaWVzKCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGFyZWEgKz0gZ2V0QXJlYShnZW9tZXRyaWVzW2ldLCBvcHRfb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICcgKyB0eXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBhdCB0aGUgZ2l2ZW4gZGlzdGFuY2UgYW5kIGJlYXJpbmcgZnJvbSBgYzFgLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGMxIFRoZSBvcmlnaW4gcG9pbnQgKGBbbG9uLCBsYXRdYCBpbiBkZWdyZWVzKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBUaGUgZ3JlYXQtY2lyY2xlIGRpc3RhbmNlIGJldHdlZW4gdGhlIG9yaWdpblxuICogICAgIHBvaW50IGFuZCB0aGUgdGFyZ2V0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgVGhlIGJlYXJpbmcgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcmFkaXVzIFRoZSBzcGhlcmUgcmFkaXVzIHRvIHVzZS4gIERlZmF1bHRzIHRvIHRoZSBFYXJ0aCdzXG4gKiAgICAgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgdGFyZ2V0IHBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0KGMxLCBkaXN0YW5jZSwgYmVhcmluZywgb3B0X3JhZGl1cykge1xuICAgIHZhciByYWRpdXMgPSBvcHRfcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICAgIHZhciBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgICB2YXIgbG9uMSA9IHRvUmFkaWFucyhjMVswXSk7XG4gICAgdmFyIGRCeVIgPSBkaXN0YW5jZSAvIHJhZGl1cztcbiAgICB2YXIgbGF0ID0gTWF0aC5hc2luKE1hdGguc2luKGxhdDEpICogTWF0aC5jb3MoZEJ5UikgK1xuICAgICAgICBNYXRoLmNvcyhsYXQxKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MoYmVhcmluZykpO1xuICAgIHZhciBsb24gPSBsb24xICtcbiAgICAgICAgTWF0aC5hdGFuMihNYXRoLnNpbihiZWFyaW5nKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MobGF0MSksIE1hdGguY29zKGRCeVIpIC0gTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQpKTtcbiAgICByZXR1cm4gW3RvRGVncmVlcyhsb24pLCB0b0RlZ3JlZXMobGF0KV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcGhlcmUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2pcbiAqL1xuLyoqXG4gKiBUaGUgb2wvcHJvaiBtb2R1bGUgc3RvcmVzOlxuICogKiBhIGxpc3Qgb2Yge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259XG4gKiBvYmplY3RzLCBvbmUgZm9yIGVhY2ggcHJvamVjdGlvbiBzdXBwb3J0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uXG4gKiAqIGEgbGlzdCBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIG5lZWRlZCB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGluIG9uZSBwcm9qZWN0aW9uXG4gKiBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIHN0YXRpYyBmdW5jdGlvbnMgYXJlIHRoZSBtZXRob2RzIHVzZWQgdG8gbWFpbnRhaW4gdGhlc2UuXG4gKiBFYWNoIHRyYW5zZm9ybSBmdW5jdGlvbiBjYW4gaGFuZGxlIG5vdCBvbmx5IHNpbXBsZSBjb29yZGluYXRlIHBhaXJzLCBidXQgYWxzb1xuICogbGFyZ2UgYXJyYXlzIG9mIGNvb3JkaW5hdGVzIHN1Y2ggYXMgdmVjdG9yIGdlb21ldHJpZXMuXG4gKlxuICogV2hlbiBsb2FkZWQsIHRoZSBsaWJyYXJ5IGFkZHMgcHJvamVjdGlvbiBvYmplY3RzIGZvciBFUFNHOjQzMjYgKFdHUzg0XG4gKiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzKSBhbmQgRVBTRzozODU3IChXZWIgb3IgU3BoZXJpY2FsIE1lcmNhdG9yLCBhcyB1c2VkXG4gKiBmb3IgZXhhbXBsZSBieSBCaW5nIE1hcHMgb3IgT3BlblN0cmVldE1hcCksIHRvZ2V0aGVyIHdpdGggdGhlIHJlbGV2YW50XG4gKiB0cmFuc2Zvcm0gZnVuY3Rpb25zLlxuICpcbiAqIEFkZGl0aW9uYWwgdHJhbnNmb3JtcyBtYXkgYmUgYWRkZWQgYnkgdXNpbmcgdGhlIGh0dHA6Ly9wcm9qNGpzLm9yZy9cbiAqIGxpYnJhcnkgKHZlcnNpb24gMi4yIG9yIGxhdGVyKS4gWW91IGNhbiB1c2UgdGhlIGZ1bGwgYnVpbGQgc3VwcGxpZWQgYnlcbiAqIFByb2o0anMsIG9yIGNyZWF0ZSBhIGN1c3RvbSBidWlsZCB0byBzdXBwb3J0IHRob3NlIHByb2plY3Rpb25zIHlvdSBuZWVkOyBzZWVcbiAqIHRoZSBQcm9qNGpzIHdlYnNpdGUgZm9yIGhvdyB0byBkbyB0aGlzLiBZb3UgYWxzbyBuZWVkIHRoZSBQcm9qNGpzIGRlZmluaXRpb25zXG4gKiBmb3IgdGhlIHJlcXVpcmVkIHByb2plY3Rpb25zLiBUaGVzZSBkZWZpbml0aW9ucyBjYW4gYmUgb2J0YWluZWQgZnJvbVxuICogaHR0cHM6Ly9lcHNnLmlvLywgYW5kIGFyZSBhIEpTIGZ1bmN0aW9uLCBzbyBjYW4gYmUgbG9hZGVkIGluIGEgc2NyaXB0XG4gKiB0YWcgKGFzIGluIHRoZSBleGFtcGxlcykgb3IgcGFzdGVkIGludG8geW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBBZnRlciBhbGwgcmVxdWlyZWQgcHJvamVjdGlvbiBkZWZpbml0aW9ucyBhcmUgYWRkZWQgdG8gcHJvajQncyByZWdpc3RyeSAoYnlcbiAqIHVzaW5nIGBwcm9qNC5kZWZzKClgKSwgc2ltcGx5IGNhbGwgYHJlZ2lzdGVyKHByb2o0KWAgZnJvbSB0aGUgYG9sL3Byb2ovcHJvajRgXG4gKiBwYWNrYWdlLiBFeGlzdGluZyB0cmFuc2Zvcm1zIGFyZSBub3QgY2hhbmdlZCBieSB0aGlzIGZ1bmN0aW9uLiBTZWVcbiAqIGV4YW1wbGVzL3dtcy1pbWFnZS1jdXN0b20tcHJvaiBmb3IgYW4gZXhhbXBsZSBvZiB0aGlzLlxuICpcbiAqIEFkZGl0aW9uYWwgcHJvamVjdGlvbiBkZWZpbml0aW9ucyBjYW4gYmUgcmVnaXN0ZXJlZCB3aXRoIGBwcm9qNC5kZWZzKClgIGFueVxuICogdGltZS4gSnVzdCBtYWtlIHN1cmUgdG8gY2FsbCBgcmVnaXN0ZXIocHJvajQpYCBhZ2FpbjsgZm9yIGV4YW1wbGUsIHdpdGggdXNlci1zdXBwbGllZCBkYXRhIHdoZXJlIHlvdSBkb24ndFxuICoga25vdyBpbiBhZHZhbmNlIHdoYXQgcHJvamVjdGlvbnMgYXJlIG5lZWRlZCwgeW91IGNhbiBpbml0aWFsbHkgbG9hZCBtaW5pbWFsXG4gKiBzdXBwb3J0IGFuZCB0aGVuIGxvYWQgd2hpY2hldmVyIGFyZSByZXF1ZXN0ZWQuXG4gKlxuICogTm90ZSB0aGF0IFByb2o0anMgZG9lcyBub3Qgc3VwcG9ydCBwcm9qZWN0aW9uIGV4dGVudHMuIElmIHlvdSB3YW50IHRvIGFkZFxuICogb25lIGZvciBjcmVhdGluZyBkZWZhdWx0IHRpbGUgZ3JpZHMsIHlvdSBjYW4gYWRkIGl0IGFmdGVyIHRoZSBQcm9qZWN0aW9uXG4gKiBvYmplY3QgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGBzZXRFeHRlbnRgLCBmb3IgZXhhbXBsZSxcbiAqIGBnZXQoJ0VQU0c6MTIzNCcpLnNldEV4dGVudChleHRlbnQpYC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBQcm9qNGpzIHN1cHBvcnQsIGFueSB0cmFuc2Zvcm0gZnVuY3Rpb25zIGNhbiBiZSBhZGRlZCB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2p+YWRkQ29vcmRpbmF0ZVRyYW5zZm9ybXN9LiBUbyB1c2UgdGhpcywgeW91IG11c3QgZmlyc3QgY3JlYXRlXG4gKiBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSBvYmplY3QgZm9yIHRoZSBuZXcgcHJvamVjdGlvbiBhbmQgYWRkIGl0IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvan5hZGRQcm9qZWN0aW9ufS4gWW91IGNhbiB0aGVuIGFkZCB0aGUgZm9yd2FyZCBhbmQgaW52ZXJzZVxuICogZnVuY3Rpb25zIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9wcm9qfmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zfS4gU2VlXG4gKiBleGFtcGxlcy93bXMtY3VzdG9tLXByb2ogZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKiBOb3RlIHRoYXQgaWYgbm8gdHJhbnNmb3JtcyBhcmUgbmVlZGVkIGFuZCB5b3Ugb25seSBuZWVkIHRvIGRlZmluZSB0aGVcbiAqIHByb2plY3Rpb24sIGp1c3QgYWRkIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvan5hZGRQcm9qZWN0aW9ufS4gU2VlIGV4YW1wbGVzL3dtcy1uby1wcm9qIGZvciBhbiBleGFtcGxlIG9mXG4gKiB0aGlzLlxuICovXG5pbXBvcnQgUHJvamVjdGlvbiBmcm9tICcuL3Byb2ovUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQgVW5pdHMsIHsgTUVURVJTX1BFUl9VTklUIH0gZnJvbSAnLi9wcm9qL1VuaXRzLmpzJztcbmltcG9ydCB7IFBST0pFQ1RJT05TIGFzIEVQU0czODU3X1BST0pFQ1RJT05TLCBmcm9tRVBTRzQzMjYsIHRvRVBTRzQzMjYsIH0gZnJvbSAnLi9wcm9qL2Vwc2czODU3LmpzJztcbmltcG9ydCB7IFBST0pFQ1RJT05TIGFzIEVQU0c0MzI2X1BST0pFQ1RJT05TIH0gZnJvbSAnLi9wcm9qL2Vwc2c0MzI2LmpzJztcbmltcG9ydCB7IGFkZCBhcyBhZGRQcm9qLCBjbGVhciBhcyBjbGVhclByb2osIGdldCBhcyBnZXRQcm9qLCB9IGZyb20gJy4vcHJvai9wcm9qZWN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhZGQgYXMgYWRkVHJhbnNmb3JtRnVuYywgY2xlYXIgYXMgY2xlYXJUcmFuc2Zvcm1GdW5jcywgZ2V0IGFzIGdldFRyYW5zZm9ybUZ1bmMsIH0gZnJvbSAnLi9wcm9qL3RyYW5zZm9ybXMuanMnO1xuaW1wb3J0IHsgYXBwbHlUcmFuc2Zvcm0sIGdldFdpZHRoIH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY2xhbXAsIG1vZHVsbyB9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQgeyBnZXREaXN0YW5jZSB9IGZyb20gJy4vc3BoZXJlLmpzJztcbmltcG9ydCB7IGdldFdvcmxkc0F3YXkgfSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBBIHByb2plY3Rpb24gYXMge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259LCBTUlMgaWRlbnRpZmllclxuICogc3RyaW5nIG9yIHVuZGVmaW5lZC5cbiAqIEB0eXBlZGVmIHtQcm9qZWN0aW9ufHN0cmluZ3x1bmRlZmluZWR9IFByb2plY3Rpb25MaWtlXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQSB0cmFuc2Zvcm0gZnVuY3Rpb24gYWNjZXB0cyBhbiBhcnJheSBvZiBpbnB1dCBjb29yZGluYXRlIHZhbHVlcywgYW4gb3B0aW9uYWxcbiAqIG91dHB1dCBhcnJheSwgYW5kIGFuIG9wdGlvbmFsIGRpbWVuc2lvbiAoZGVmYXVsdCBzaG91bGQgYmUgMikuICBUaGUgZnVuY3Rpb25cbiAqIHRyYW5zZm9ybXMgdGhlIGlucHV0IGNvb3JkaW5hdGUgdmFsdWVzLCBwb3B1bGF0ZXMgdGhlIG91dHB1dCBhcnJheSwgYW5kXG4gKiByZXR1cm5zIHRoZSBvdXRwdXQgYXJyYXkuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKEFycmF5PG51bWJlcj4sIEFycmF5PG51bWJlcj49LCBudW1iZXI9KTogQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IHsgTUVURVJTX1BFUl9VTklUIH07XG5leHBvcnQgeyBQcm9qZWN0aW9uIH07XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgY29vcmRpbmF0ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9vdXRwdXQgT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGltZW5zaW9uIERpbWVuc2lvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBjb29yZGluYXRlIGFycmF5IChuZXcgYXJyYXksIHNhbWUgY29vcmRpbmF0ZVxuICogICAgIHZhbHVlcykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZVRyYW5zZm9ybShpbnB1dCwgb3B0X291dHB1dCwgb3B0X2RpbWVuc2lvbikge1xuICAgIHZhciBvdXRwdXQ7XG4gICAgaWYgKG9wdF9vdXRwdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBvcHRfb3V0cHV0W2ldID0gaW5wdXRbaV07XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0ID0gb3B0X291dHB1dDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG91dHB1dCA9IGlucHV0LnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgY29vcmRpbmF0ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9vdXRwdXQgT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGltZW5zaW9uIERpbWVuc2lvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IElucHV0IGNvb3JkaW5hdGUgYXJyYXkgKHNhbWUgYXJyYXkgYXMgaW5wdXQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHlUcmFuc2Zvcm0oaW5wdXQsIG9wdF9vdXRwdXQsIG9wdF9kaW1lbnNpb24pIHtcbiAgICBpZiAob3B0X291dHB1dCAhPT0gdW5kZWZpbmVkICYmIGlucHV0ICE9PSBvcHRfb3V0cHV0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIG9wdF9vdXRwdXRbaV0gPSBpbnB1dFtpXTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IG9wdF9vdXRwdXQ7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dDtcbn1cbi8qKlxuICogQWRkIGEgUHJvamVjdGlvbiBvYmplY3QgdG8gdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHByb2plY3Rpb25zIHRoYXQgY2FuIGJlXG4gKiBsb29rZWQgdXAgYnkgdGhlaXIgY29kZS5cbiAqXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHByb2plY3Rpb24gUHJvamVjdGlvbiBpbnN0YW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIGFkZFByb2oocHJvamVjdGlvbi5nZXRDb2RlKCksIHByb2plY3Rpb24pO1xuICAgIGFkZFRyYW5zZm9ybUZ1bmMocHJvamVjdGlvbiwgcHJvamVjdGlvbiwgY2xvbmVUcmFuc2Zvcm0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9ucyBQcm9qZWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3Rpb25zKHByb2plY3Rpb25zKSB7XG4gICAgcHJvamVjdGlvbnMuZm9yRWFjaChhZGRQcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogRmV0Y2hlcyBhIFByb2plY3Rpb24gb2JqZWN0IGZvciB0aGUgY29kZSBzcGVjaWZpZWQuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbkxpa2UgRWl0aGVyIGEgY29kZSBzdHJpbmcgd2hpY2ggaXNcbiAqICAgICBhIGNvbWJpbmF0aW9uIG9mIGF1dGhvcml0eSBhbmQgaWRlbnRpZmllciBzdWNoIGFzIFwiRVBTRzo0MzI2XCIsIG9yIGFuXG4gKiAgICAgZXhpc3RpbmcgcHJvamVjdGlvbiBvYmplY3QsIG9yIHVuZGVmaW5lZC5cbiAqIEByZXR1cm4ge1Byb2plY3Rpb259IFByb2plY3Rpb24gb2JqZWN0LCBvciBudWxsIGlmIG5vdCBpbiBsaXN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHByb2plY3Rpb25MaWtlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwcm9qZWN0aW9uTGlrZSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBnZXRQcm9qKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocHJvamVjdGlvbkxpa2UpKVxuICAgICAgICA6IC8qKiBAdHlwZSB7UHJvamVjdGlvbn0gKi8gKHByb2plY3Rpb25MaWtlKSB8fCBudWxsO1xufVxuLyoqXG4gKiBHZXQgdGhlIHJlc29sdXRpb24gb2YgdGhlIHBvaW50IGluIGRlZ3JlZXMgb3IgZGlzdGFuY2UgdW5pdHMuXG4gKiBGb3IgcHJvamVjdGlvbnMgd2l0aCBkZWdyZWVzIGFzIHRoZSB1bml0IHRoaXMgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZVxuICogcHJvdmlkZWQgcmVzb2x1dGlvbi4gRm9yIG90aGVyIHByb2plY3Rpb25zIHRoZSBwb2ludCByZXNvbHV0aW9uIGlzXG4gKiBieSBkZWZhdWx0IGVzdGltYXRlZCBieSB0cmFuc2Zvcm1pbmcgdGhlICdwb2ludCcgcGl4ZWwgdG8gRVBTRzo0MzI2LFxuICogbWVhc3VyaW5nIGl0cyB3aWR0aCBhbmQgaGVpZ2h0IG9uIHRoZSBub3JtYWwgc3BoZXJlLFxuICogYW5kIHRha2luZyB0aGUgYXZlcmFnZSBvZiB0aGUgd2lkdGggYW5kIGhlaWdodC5cbiAqIEEgY3VzdG9tIGZ1bmN0aW9uIGNhbiBiZSBwcm92aWRlZCBmb3IgYSBzcGVjaWZpYyBwcm9qZWN0aW9uLCBlaXRoZXJcbiAqIGJ5IHNldHRpbmcgdGhlIGBnZXRQb2ludFJlc29sdXRpb25gIG9wdGlvbiBpbiB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGNvbnN0cnVjdG9yIG9yIGJ5IHVzaW5nXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9uI3NldEdldFBvaW50UmVzb2x1dGlvbn0gdG8gY2hhbmdlIGFuIGV4aXN0aW5nXG4gKiBwcm9qZWN0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBOb21pbmFsIHJlc29sdXRpb24gaW4gcHJvamVjdGlvbiB1bml0cy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50IHRvIGZpbmQgYWRqdXN0ZWQgcmVzb2x1dGlvbiBhdC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1VuaXRzLmpzXCIpLmRlZmF1bHQ9fSBvcHRfdW5pdHMgVW5pdHMgdG8gZ2V0IHRoZSBwb2ludCByZXNvbHV0aW9uIGluLlxuICogRGVmYXVsdCBpcyB0aGUgcHJvamVjdGlvbidzIHVuaXRzLlxuICogQHJldHVybiB7bnVtYmVyfSBQb2ludCByZXNvbHV0aW9uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRSZXNvbHV0aW9uKHByb2plY3Rpb24sIHJlc29sdXRpb24sIHBvaW50LCBvcHRfdW5pdHMpIHtcbiAgICBwcm9qZWN0aW9uID0gZ2V0KHByb2plY3Rpb24pO1xuICAgIHZhciBwb2ludFJlc29sdXRpb247XG4gICAgdmFyIGdldHRlciA9IHByb2plY3Rpb24uZ2V0UG9pbnRSZXNvbHV0aW9uRnVuYygpO1xuICAgIGlmIChnZXR0ZXIpIHtcbiAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gZ2V0dGVyKHJlc29sdXRpb24sIHBvaW50KTtcbiAgICAgICAgaWYgKG9wdF91bml0cyAmJiBvcHRfdW5pdHMgIT09IHByb2plY3Rpb24uZ2V0VW5pdHMoKSkge1xuICAgICAgICAgICAgdmFyIG1ldGVyc1BlclVuaXQgPSBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKTtcbiAgICAgICAgICAgIGlmIChtZXRlcnNQZXJVbml0KSB7XG4gICAgICAgICAgICAgICAgcG9pbnRSZXNvbHV0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgKHBvaW50UmVzb2x1dGlvbiAqIG1ldGVyc1BlclVuaXQpIC8gTUVURVJTX1BFUl9VTklUW29wdF91bml0c107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB1bml0cyA9IHByb2plY3Rpb24uZ2V0VW5pdHMoKTtcbiAgICAgICAgaWYgKCh1bml0cyA9PSBVbml0cy5ERUdSRUVTICYmICFvcHRfdW5pdHMpIHx8IG9wdF91bml0cyA9PSBVbml0cy5ERUdSRUVTKSB7XG4gICAgICAgICAgICBwb2ludFJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRXN0aW1hdGUgcG9pbnQgcmVzb2x1dGlvbiBieSB0cmFuc2Zvcm1pbmcgdGhlIGNlbnRlciBwaXhlbCB0byBFUFNHOjQzMjYsXG4gICAgICAgICAgICAvLyBtZWFzdXJpbmcgaXRzIHdpZHRoIGFuZCBoZWlnaHQgb24gdGhlIG5vcm1hbCBzcGhlcmUsIGFuZCB0YWtpbmcgdGhlXG4gICAgICAgICAgICAvLyBhdmVyYWdlIG9mIHRoZSB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAgICAgICAgdmFyIHRvRVBTRzQzMjZfMSA9IGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhwcm9qZWN0aW9uLCBnZXQoJ0VQU0c6NDMyNicpKTtcbiAgICAgICAgICAgIGlmICh0b0VQU0c0MzI2XzEgPT09IGlkZW50aXR5VHJhbnNmb3JtICYmIHVuaXRzICE9PSBVbml0cy5ERUdSRUVTKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gdHJhbnNmb3JtIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIHBvaW50UmVzb2x1dGlvbiA9IHJlc29sdXRpb24gKiBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMF0gLSByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzBdICsgcmVzb2x1dGlvbiAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzFdLFxuICAgICAgICAgICAgICAgICAgICBwb2ludFswXSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMV0gLSByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzFdICsgcmVzb2x1dGlvbiAvIDIsXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IHRvRVBTRzQzMjZfMSh2ZXJ0aWNlcywgdmVydGljZXMsIDIpO1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IGdldERpc3RhbmNlKHZlcnRpY2VzLnNsaWNlKDAsIDIpLCB2ZXJ0aWNlcy5zbGljZSgyLCA0KSk7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGdldERpc3RhbmNlKHZlcnRpY2VzLnNsaWNlKDQsIDYpLCB2ZXJ0aWNlcy5zbGljZSg2LCA4KSk7XG4gICAgICAgICAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gKHdpZHRoICsgaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWV0ZXJzUGVyVW5pdCA9IG9wdF91bml0c1xuICAgICAgICAgICAgICAgID8gTUVURVJTX1BFUl9VTklUW29wdF91bml0c11cbiAgICAgICAgICAgICAgICA6IHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgICAgICAgaWYgKG1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBvaW50UmVzb2x1dGlvbiAvPSBtZXRlcnNQZXJVbml0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb2ludFJlc29sdXRpb247XG59XG4vKipcbiAqIFJlZ2lzdGVycyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdGhhdCBkb24ndCBhbHRlciBjb29yZGluYXRlcy4gVGhvc2UgYWxsb3dcbiAqIHRvIHRyYW5zZm9ybSBiZXR3ZWVuIHByb2plY3Rpb25zIHdpdGggZXF1YWwgbWVhbmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9ucyBQcm9qZWN0aW9ucy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucykge1xuICAgIGFkZFByb2plY3Rpb25zKHByb2plY3Rpb25zKTtcbiAgICBwcm9qZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcHJvamVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNmb3JtRnVuYyhzb3VyY2UsIGRlc3RpbmF0aW9uLCBjbG9uZVRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgaW4gYW55IHByb2plY3Rpb25cbiAqIGluIHByb2plY3Rpb24xIHRvIGFueSBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24yLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8UHJvamVjdGlvbj59IHByb2plY3Rpb25zMSBQcm9qZWN0aW9ucyB3aXRoIGVxdWFsXG4gKiAgICAgbWVhbmluZy5cbiAqIEBwYXJhbSB7QXJyYXk8UHJvamVjdGlvbj59IHByb2plY3Rpb25zMiBQcm9qZWN0aW9ucyB3aXRoIGVxdWFsXG4gKiAgICAgbWVhbmluZy5cbiAqIEBwYXJhbSB7VHJhbnNmb3JtRnVuY3Rpb259IGZvcndhcmRUcmFuc2Zvcm0gVHJhbnNmb3JtYXRpb24gZnJvbSBhbnlcbiAqICAgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMSB0byBhbnkgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMi5cbiAqIEBwYXJhbSB7VHJhbnNmb3JtRnVuY3Rpb259IGludmVyc2VUcmFuc2Zvcm0gVHJhbnNmb3JtIGZyb20gYW55IHByb2plY3Rpb25cbiAqICAgaW4gcHJvamVjdGlvbjIgdG8gYW55IHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjEuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXF1aXZhbGVudFRyYW5zZm9ybXMocHJvamVjdGlvbnMxLCBwcm9qZWN0aW9uczIsIGZvcndhcmRUcmFuc2Zvcm0sIGludmVyc2VUcmFuc2Zvcm0pIHtcbiAgICBwcm9qZWN0aW9uczEuZm9yRWFjaChmdW5jdGlvbiAocHJvamVjdGlvbjEpIHtcbiAgICAgICAgcHJvamVjdGlvbnMyLmZvckVhY2goZnVuY3Rpb24gKHByb2plY3Rpb24yKSB7XG4gICAgICAgICAgICBhZGRUcmFuc2Zvcm1GdW5jKHByb2plY3Rpb24xLCBwcm9qZWN0aW9uMiwgZm9yd2FyZFRyYW5zZm9ybSk7XG4gICAgICAgICAgICBhZGRUcmFuc2Zvcm1GdW5jKHByb2plY3Rpb24yLCBwcm9qZWN0aW9uMSwgaW52ZXJzZVRyYW5zZm9ybSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBDbGVhciBhbGwgY2FjaGVkIHByb2plY3Rpb25zIGFuZCB0cmFuc2Zvcm1zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbGxQcm9qZWN0aW9ucygpIHtcbiAgICBjbGVhclByb2ooKTtcbiAgICBjbGVhclRyYW5zZm9ybUZ1bmNzKCk7XG59XG4vKipcbiAqIEBwYXJhbSB7UHJvamVjdGlvbnxzdHJpbmd8dW5kZWZpbmVkfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdENvZGUgRGVmYXVsdCBjb2RlLlxuICogQHJldHVybiB7UHJvamVjdGlvbn0gUHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2plY3Rpb24ocHJvamVjdGlvbiwgZGVmYXVsdENvZGUpIHtcbiAgICBpZiAoIXByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGdldChkZWZhdWx0Q29kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwcm9qZWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZ2V0KHByb2plY3Rpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7UHJvamVjdGlvbn0gKi8gKHByb2plY3Rpb24pO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBtb2R1bGU6b2wvcHJvan5UcmFuc2Zvcm1GdW5jdGlvbn0gZnJvbSBhIHNpbXBsZSAyRCBjb29yZGluYXRlIHRyYW5zZm9ybVxuICogZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkVHJhbnNmb3JtIENvb3JkaW5hdGVcbiAqICAgICB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHtUcmFuc2Zvcm1GdW5jdGlvbn0gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNmb3JtRnJvbUNvb3JkaW5hdGVUcmFuc2Zvcm0oY29vcmRUcmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X291dHB1dCBPdXRwdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGltZW5zaW9uIERpbWVuc2lvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGlucHV0LCBvcHRfb3V0cHV0LCBvcHRfZGltZW5zaW9uKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIHZhciBkaW1lbnNpb24gPSBvcHRfZGltZW5zaW9uICE9PSB1bmRlZmluZWQgPyBvcHRfZGltZW5zaW9uIDogMjtcbiAgICAgICAgdmFyIG91dHB1dCA9IG9wdF9vdXRwdXQgIT09IHVuZGVmaW5lZCA/IG9wdF9vdXRwdXQgOiBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBjb29yZFRyYW5zZm9ybShbaW5wdXRbaV0sIGlucHV0W2kgKyAxXV0pO1xuICAgICAgICAgICAgb3V0cHV0W2ldID0gcG9pbnRbMF07XG4gICAgICAgICAgICBvdXRwdXRbaSArIDFdID0gcG9pbnRbMV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSAyOyAtLWopIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbaSArIGpdID0gaW5wdXRbaSArIGpdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbnMgdG8gY29udmVydCBjb29yZGluYXRlcyBiZXR3ZWVuIHRoZVxuICogc291cmNlIHByb2plY3Rpb24gYW5kIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogVGhlIGZvcndhcmQgYW5kIGludmVyc2UgZnVuY3Rpb25zIGNvbnZlcnQgY29vcmRpbmF0ZSBwYWlyczsgdGhpcyBmdW5jdGlvblxuICogY29udmVydHMgdGhlc2UgaW50byB0aGUgZnVuY3Rpb25zIHVzZWQgaW50ZXJuYWxseSB3aGljaCBhbHNvIGhhbmRsZVxuICogZXh0ZW50cyBhbmQgY29vcmRpbmF0ZSBhcnJheXMuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZm9yd2FyZCBUaGUgZm9yd2FyZCB0cmFuc2Zvcm1cbiAqICAgICBmdW5jdGlvbiAodGhhdCBpcywgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uXG4gKiAgICAgcHJvamVjdGlvbikgdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSBhcyBhcmd1bWVudCBhbmQgcmV0dXJuc1xuICogICAgIHRoZSB0cmFuc2Zvcm1lZCB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGludmVyc2UgVGhlIGludmVyc2UgdHJhbnNmb3JtXG4gKiAgICAgZnVuY3Rpb24gKHRoYXQgaXMsIGZyb20gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24gdG8gdGhlIHNvdXJjZVxuICogICAgIHByb2plY3Rpb24pIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnNcbiAqICAgICB0aGUgdHJhbnNmb3JtZWQge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29vcmRpbmF0ZVRyYW5zZm9ybXMoc291cmNlLCBkZXN0aW5hdGlvbiwgZm9yd2FyZCwgaW52ZXJzZSkge1xuICAgIHZhciBzb3VyY2VQcm9qID0gZ2V0KHNvdXJjZSk7XG4gICAgdmFyIGRlc3RQcm9qID0gZ2V0KGRlc3RpbmF0aW9uKTtcbiAgICBhZGRUcmFuc2Zvcm1GdW5jKHNvdXJjZVByb2osIGRlc3RQcm9qLCBjcmVhdGVUcmFuc2Zvcm1Gcm9tQ29vcmRpbmF0ZVRyYW5zZm9ybShmb3J3YXJkKSk7XG4gICAgYWRkVHJhbnNmb3JtRnVuYyhkZXN0UHJvaiwgc291cmNlUHJvaiwgY3JlYXRlVHJhbnNmb3JtRnJvbUNvb3JkaW5hdGVUcmFuc2Zvcm0oaW52ZXJzZSkpO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIGxvbmdpdHVkZS9sYXRpdHVkZSB0byBhIGRpZmZlcmVudCBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlIGFzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUsIGkuZS5cbiAqICAgICBhbiBhcnJheSB3aXRoIGxvbmdpdHVkZSBhcyAxc3QgYW5kIGxhdGl0dWRlIGFzIDJuZCBlbGVtZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZT19IG9wdF9wcm9qZWN0aW9uIFRhcmdldCBwcm9qZWN0aW9uLiBUaGVcbiAqICAgICBkZWZhdWx0IGlzIFdlYiBNZXJjYXRvciwgaS5lLiAnRVBTRzozODU3Jy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlIHByb2plY3RlZCB0byB0aGUgdGFyZ2V0IHByb2plY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTG9uTGF0KGNvb3JkaW5hdGUsIG9wdF9wcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCAnRVBTRzo0MzI2Jywgb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1NycpO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSB0byBsb25naXR1ZGUvbGF0aXR1ZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFByb2plY3RlZCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZT19IG9wdF9wcm9qZWN0aW9uIFByb2plY3Rpb24gb2YgdGhlIGNvb3JkaW5hdGUuXG4gKiAgICAgVGhlIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgYXMgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSwgaS5lLiBhbiBhcnJheVxuICogICAgIHdpdGggbG9uZ2l0dWRlIGFzIDFzdCBhbmQgbGF0aXR1ZGUgYXMgMm5kIGVsZW1lbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0xvbkxhdChjb29yZGluYXRlLCBvcHRfcHJvamVjdGlvbikge1xuICAgIHZhciBsb25MYXQgPSB0cmFuc2Zvcm0oY29vcmRpbmF0ZSwgb3B0X3Byb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcbiAgICB2YXIgbG9uID0gbG9uTGF0WzBdO1xuICAgIGlmIChsb24gPCAtMTgwIHx8IGxvbiA+IDE4MCkge1xuICAgICAgICBsb25MYXRbMF0gPSBtb2R1bG8obG9uICsgMTgwLCAzNjApIC0gMTgwO1xuICAgIH1cbiAgICByZXR1cm4gbG9uTGF0O1xufVxuLyoqXG4gKiBDaGVja3MgaWYgdHdvIHByb2plY3Rpb25zIGFyZSB0aGUgc2FtZSwgdGhhdCBpcyBldmVyeSBjb29yZGluYXRlIGluIG9uZVxuICogcHJvamVjdGlvbiBkb2VzIHJlcHJlc2VudCB0aGUgc2FtZSBnZW9ncmFwaGljIHBvaW50IGFzIHRoZSBzYW1lIGNvb3JkaW5hdGUgaW5cbiAqIHRoZSBvdGhlciBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gcHJvamVjdGlvbjEgUHJvamVjdGlvbiAxLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uMiBQcm9qZWN0aW9uIDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBFcXVpdmFsZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVudChwcm9qZWN0aW9uMSwgcHJvamVjdGlvbjIpIHtcbiAgICBpZiAocHJvamVjdGlvbjEgPT09IHByb2plY3Rpb24yKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgZXF1YWxVbml0cyA9IHByb2plY3Rpb24xLmdldFVuaXRzKCkgPT09IHByb2plY3Rpb24yLmdldFVuaXRzKCk7XG4gICAgaWYgKHByb2plY3Rpb24xLmdldENvZGUoKSA9PT0gcHJvamVjdGlvbjIuZ2V0Q29kZSgpKSB7XG4gICAgICAgIHJldHVybiBlcXVhbFVuaXRzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMgPT09IGNsb25lVHJhbnNmb3JtICYmIGVxdWFsVW5pdHM7XG4gICAgfVxufVxuLyoqXG4gKiBTZWFyY2hlcyBpbiB0aGUgbGlzdCBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIGZvciB0aGUgZnVuY3Rpb24gZm9yIGNvbnZlcnRpbmdcbiAqIGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gc291cmNlUHJvamVjdGlvbiBTb3VyY2UgUHJvamVjdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IGRlc3RpbmF0aW9uUHJvamVjdGlvbiBEZXN0aW5hdGlvbiBQcm9qZWN0aW9uXG4gKiAgICAgb2JqZWN0LlxuICogQHJldHVybiB7VHJhbnNmb3JtRnVuY3Rpb259IFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pIHtcbiAgICB2YXIgc291cmNlQ29kZSA9IHNvdXJjZVByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIHZhciBkZXN0aW5hdGlvbkNvZGUgPSBkZXN0aW5hdGlvblByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIHZhciB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtRnVuYyhzb3VyY2VDb2RlLCBkZXN0aW5hdGlvbkNvZGUpO1xuICAgIGlmICghdHJhbnNmb3JtRnVuYykge1xuICAgICAgICB0cmFuc2Zvcm1GdW5jID0gaWRlbnRpdHlUcmFuc2Zvcm07XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1GdW5jO1xufVxuLyoqXG4gKiBHaXZlbiB0aGUgcHJvamVjdGlvbi1saWtlIG9iamVjdHMsIHNlYXJjaGVzIGZvciBhIHRyYW5zZm9ybWF0aW9uXG4gKiBmdW5jdGlvbiB0byBjb252ZXJ0IGEgY29vcmRpbmF0ZXMgYXJyYXkgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgIHZhciBzb3VyY2VQcm9qZWN0aW9uID0gZ2V0KHNvdXJjZSk7XG4gICAgdmFyIGRlc3RpbmF0aW9uUHJvamVjdGlvbiA9IGdldChkZXN0aW5hdGlvbik7XG4gICAgcmV0dXJuIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIHNvdXJjZSBwcm9qZWN0aW9uIHRvIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBUaGlzIHJldHVybnMgYSBuZXcgY29vcmRpbmF0ZSAoYW5kIGRvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwpLlxuICpcbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2p+dHJhbnNmb3JtRXh0ZW50fSBmb3IgZXh0ZW50IHRyYW5zZm9ybWF0aW9uLlxuICogU2VlIHRoZSB0cmFuc2Zvcm0gbWV0aG9kIG9mIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gYW5kIGl0c1xuICogc3ViY2xhc3NlcyBmb3IgZ2VvbWV0cnkgdHJhbnNmb3Jtcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24tbGlrZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24tbGlrZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICB2YXIgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gdHJhbnNmb3JtRnVuYyhjb29yZGluYXRlLCB1bmRlZmluZWQsIGNvb3JkaW5hdGUubGVuZ3RoKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBleHRlbnQgZnJvbSBzb3VyY2UgcHJvamVjdGlvbiB0byBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpc1xuICogcmV0dXJucyBhIG5ldyBleHRlbnQgKGFuZCBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9zdG9wcyBOdW1iZXIgb2Ygc3RvcHMgcGVyIHNpZGUgdXNlZCBmb3IgdGhlIHRyYW5zZm9ybS5cbiAqIEJ5IGRlZmF1bHQgb25seSB0aGUgY29ybmVycyBhcmUgdXNlZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIHRyYW5zZm9ybWVkIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZSwgZGVzdGluYXRpb24sIG9wdF9zdG9wcykge1xuICAgIHZhciB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtKHNvdXJjZSwgZGVzdGluYXRpb24pO1xuICAgIHJldHVybiBhcHBseVRyYW5zZm9ybShleHRlbnQsIHRyYW5zZm9ybUZ1bmMsIHVuZGVmaW5lZCwgb3B0X3N0b3BzKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgZ2l2ZW4gcG9pbnQgdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQgUG9pbnQuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHNvdXJjZVByb2plY3Rpb24gU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IGRlc3RpbmF0aW9uUHJvamVjdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtV2l0aFByb2plY3Rpb25zKHBvaW50LCBzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pIHtcbiAgICB2YXIgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyhzb3VyY2VQcm9qZWN0aW9uLCBkZXN0aW5hdGlvblByb2plY3Rpb24pO1xuICAgIHJldHVybiB0cmFuc2Zvcm1GdW5jKHBvaW50KTtcbn1cbi8qKlxuICogQHR5cGUgez9Qcm9qZWN0aW9ufVxuICovXG52YXIgdXNlclByb2plY3Rpb24gPSBudWxsO1xuLyoqXG4gKiBTZXQgdGhlIHByb2plY3Rpb24gZm9yIGNvb3JkaW5hdGVzIHN1cHBsaWVkIGZyb20gYW5kIHJldHVybmVkIGJ5IEFQSSBtZXRob2RzLlxuICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGlzIG5vdCB5ZXQgYSBwYXJ0IG9mIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlclxuICogcHJvamVjdGlvbnMgaXMgbm90IHlldCBjb21wbGV0ZSBhbmQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBUaGUgdXNlciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VXNlclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIHVzZXJQcm9qZWN0aW9uID0gZ2V0KHByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBDbGVhciB0aGUgdXNlciBwcm9qZWN0aW9uIGlmIHNldC4gIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBpcyBub3QgeWV0IGEgcGFydCBvZlxuICogdGhlIHN0YWJsZSBBUEkuICBTdXBwb3J0IGZvciB1c2VyIHByb2plY3Rpb25zIGlzIG5vdCB5ZXQgY29tcGxldGUgYW5kIHNob3VsZFxuICogYmUgY29uc2lkZXJlZCBleHBlcmltZW50YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJQcm9qZWN0aW9uKCkge1xuICAgIHVzZXJQcm9qZWN0aW9uID0gbnVsbDtcbn1cbi8qKlxuICogR2V0IHRoZSBwcm9qZWN0aW9uIGZvciBjb29yZGluYXRlcyBzdXBwbGllZCBmcm9tIGFuZCByZXR1cm5lZCBieSBBUEkgbWV0aG9kcy5cbiAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBpcyBub3QgeWV0IGEgcGFydCBvZiB0aGUgc3RhYmxlIEFQSS4gIFN1cHBvcnQgZm9yIHVzZXJcbiAqIHByb2plY3Rpb25zIGlzIG5vdCB5ZXQgY29tcGxldGUgYW5kIHNob3VsZCBiZSBjb25zaWRlcmVkIGV4cGVyaW1lbnRhbC5cbiAqIEByZXR1cm5zIHs/UHJvamVjdGlvbn0gVGhlIHVzZXIgcHJvamVjdGlvbiAob3IgbnVsbCBpZiBub3Qgc2V0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJQcm9qZWN0aW9uKCkge1xuICAgIHJldHVybiB1c2VyUHJvamVjdGlvbjtcbn1cbi8qKlxuICogVXNlIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMgKFdHUy04NCBkYXR1bSkgaW4gQVBJIG1ldGhvZHMuICBOb3RlIHRoYXQgdGhpc1xuICogbWV0aG9kIGlzIG5vdCB5ZXQgYSBwYXJ0IG9mIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlciBwcm9qZWN0aW9ucyBpc1xuICogbm90IHlldCBjb21wbGV0ZSBhbmQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlR2VvZ3JhcGhpYygpIHtcbiAgICBzZXRVc2VyUHJvamVjdGlvbignRVBTRzo0MzI2Jyk7XG59XG4vKipcbiAqIFJldHVybiBhIGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQgaW50byB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBjb29yZGluYXRlIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlIElucHV0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2VQcm9qZWN0aW9uIFRoZSBpbnB1dCBjb29yZGluYXRlIHByb2plY3Rpb24uXG4gKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gVGhlIGlucHV0IGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgc291cmNlUHJvamVjdGlvbikge1xuICAgIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGU7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm0oY29vcmRpbmF0ZSwgc291cmNlUHJvamVjdGlvbiwgdXNlclByb2plY3Rpb24pO1xufVxuLyoqXG4gKiBSZXR1cm4gYSBjb29yZGluYXRlIHRyYW5zZm9ybWVkIGZyb20gdGhlIHVzZXIgcHJvamVjdGlvbi4gIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCB0aGUgb3JpZ2luYWwgY29vcmRpbmF0ZSBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZSBJbnB1dCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gVGhlIGlucHV0IGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgZGVzdFByb2plY3Rpb24pIHtcbiAgICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHVzZXJQcm9qZWN0aW9uLCBkZXN0UHJvamVjdGlvbik7XG59XG4vKipcbiAqIFJldHVybiBhbiBleHRlbnQgdHJhbnNmb3JtZWQgaW50byB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBleHRlbnQgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IElucHV0IGV4dGVudC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZVByb2plY3Rpb24gVGhlIGlucHV0IGV4dGVudCBwcm9qZWN0aW9uLlxuICogQHJldHVybnMge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGlucHV0IGV4dGVudCBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyRXh0ZW50KGV4dGVudCwgc291cmNlUHJvamVjdGlvbikge1xuICAgIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZVByb2plY3Rpb24sIHVzZXJQcm9qZWN0aW9uKTtcbn1cbi8qKlxuICogUmV0dXJuIGFuIGV4dGVudCB0cmFuc2Zvcm1lZCBmcm9tIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGV4dGVudCBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgSW5wdXQgZXh0ZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJucyB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBUaGUgaW5wdXQgZXh0ZW50IHRyYW5zZm9ybWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVVzZXJFeHRlbnQoZXh0ZW50LCBkZXN0UHJvamVjdGlvbikge1xuICAgIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHVzZXJQcm9qZWN0aW9uLCBkZXN0UHJvamVjdGlvbik7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBzYWZlIGNvb3JkaW5hdGUgdHJhbnNmb3JtIGZ1bmN0aW9uIGZyb20gYSBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIFwiU2FmZVwiIG1lYW5zIHRoYXQgaXQgY2FuIGhhbmRsZSB3cmFwcGluZyBvZiB4LWNvb3JkaW5hdGVzIGZvciBnbG9iYWwgcHJvamVjdGlvbnMsXG4gKiBhbmQgdGhhdCBjb29yZGluYXRlcyBleGNlZWRpbmcgdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHZhbGlkaXR5IGV4dGVudCdzIHJhbmdlIHdpbGwgYmVcbiAqIGNsYW1wZWQgdG8gdGhlIHZhbGlkaXR5IHJhbmdlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0UHJvaiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0cmFuc2Zvcm0gVHJhbnNmb3JtIGZ1bmN0aW9uIChzb3VyY2UgdG8gZGVzdGlhdGlvbikuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBTYWZlIHRyYW5zZm9ybSBmdW5jdGlvbiAoc291cmNlIHRvIGRlc3RpYXRpb24pLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2FmZUNvb3JkaW5hdGVUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdFByb2osIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgdmFyIHNvdXJjZVggPSBjb29yZFswXTtcbiAgICAgICAgdmFyIHNvdXJjZVkgPSBjb29yZFsxXTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkLCB3b3JsZHNBd2F5O1xuICAgICAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VFeHRlbnRXaWR0aCA9IGdldFdpZHRoKHNvdXJjZUV4dGVudCk7XG4gICAgICAgICAgICB3b3JsZHNBd2F5ID0gZ2V0V29ybGRzQXdheShjb29yZCwgc291cmNlUHJvaiwgc291cmNlRXh0ZW50V2lkdGgpO1xuICAgICAgICAgICAgaWYgKHdvcmxkc0F3YXkpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHggdG8gdGhlIHJlYWwgd29ybGRcbiAgICAgICAgICAgICAgICBzb3VyY2VYID0gc291cmNlWCAtIHdvcmxkc0F3YXkgKiBzb3VyY2VFeHRlbnRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZVggPSBjbGFtcChzb3VyY2VYLCBzb3VyY2VFeHRlbnRbMF0sIHNvdXJjZUV4dGVudFsyXSk7XG4gICAgICAgICAgICBzb3VyY2VZID0gY2xhbXAoc291cmNlWSwgc291cmNlRXh0ZW50WzFdLCBzb3VyY2VFeHRlbnRbM10pO1xuICAgICAgICAgICAgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm0oW3NvdXJjZVgsIHNvdXJjZVldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtKGNvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod29ybGRzQXdheSAmJiBkZXN0UHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICAvLyBNb3ZlIHRyYW5zZm9ybWVkIGNvb3JkaW5hdGUgYmFjayB0byB0aGUgb2Zmc2V0IHdvcmxkXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZFswXSArPSB3b3JsZHNBd2F5ICogZ2V0V2lkdGgoZGVzdFByb2ouZ2V0RXh0ZW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZDtcbiAgICB9O1xufVxuLyoqXG4gKiBBZGQgdHJhbnNmb3JtcyB0byBhbmQgZnJvbSBFUFNHOjQzMjYgYW5kIEVQU0c6Mzg1Ny4gIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkXG4gKiBieSB3aGVuIHRoaXMgbW9kdWxlIGlzIGV4ZWN1dGVkIGFuZCBzaG91bGQgb25seSBuZWVkIHRvIGJlIGNhbGxlZCBhZ2FpbiBhZnRlclxuICogYGNsZWFyQWxsUHJvamVjdGlvbnMoKWAgaXMgY2FsbGVkIChlLmcuIGluIHRlc3RzKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbW1vbigpIHtcbiAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRoYXQgZG9uJ3QgYWx0ZXIgY29vcmRpbmF0ZXMgdG8gY29udmVydCB3aXRoaW4gc2V0IG9mXG4gICAgLy8gcHJvamVjdGlvbnMgd2l0aCBlcXVhbCBtZWFuaW5nLlxuICAgIGFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyhFUFNHMzg1N19QUk9KRUNUSU9OUyk7XG4gICAgYWRkRXF1aXZhbGVudFByb2plY3Rpb25zKEVQU0c0MzI2X1BST0pFQ1RJT05TKTtcbiAgICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRvIGNvbnZlcnQgRVBTRzo0MzI2IGxpa2UgY29vcmRpbmF0ZXMgdG8gRVBTRzozODU3IGxpa2VcbiAgICAvLyBjb29yZGluYXRlcyBhbmQgYmFjay5cbiAgICBhZGRFcXVpdmFsZW50VHJhbnNmb3JtcyhFUFNHNDMyNl9QUk9KRUNUSU9OUywgRVBTRzM4NTdfUFJPSkVDVElPTlMsIGZyb21FUFNHNDMyNiwgdG9FUFNHNDMyNik7XG59XG5hZGRDb21tb24oKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ouanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovVW5pdHNcbiAqL1xuLyoqXG4gKiBQcm9qZWN0aW9uIHVuaXRzOiBgJ2RlZ3JlZXMnYCwgYCdmdCdgLCBgJ20nYCwgYCdwaXhlbHMnYCwgYCd0aWxlLXBpeGVscydgIG9yXG4gKiBgJ3VzLWZ0J2AuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgVW5pdHMgPSB7XG4gICAgLyoqXG4gICAgICogRGVncmVlc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBERUdSRUVTOiAnZGVncmVlcycsXG4gICAgLyoqXG4gICAgICogRmVldFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGRUVUOiAnZnQnLFxuICAgIC8qKlxuICAgICAqIE1ldGVyc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNRVRFUlM6ICdtJyxcbiAgICAvKipcbiAgICAgKiBQaXhlbHNcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUElYRUxTOiAncGl4ZWxzJyxcbiAgICAvKipcbiAgICAgKiBUaWxlIFBpeGVsc1xuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUSUxFX1BJWEVMUzogJ3RpbGUtcGl4ZWxzJyxcbiAgICAvKipcbiAgICAgKiBVUyBGZWV0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVTRkVFVDogJ3VzLWZ0Jyxcbn07XG4vKipcbiAqIE1ldGVycyBwZXIgdW5pdCBsb29rdXAgdGFibGUuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtPYmplY3Q8VW5pdHMsIG51bWJlcj59XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCB2YXIgTUVURVJTX1BFUl9VTklUID0ge307XG4vLyB1c2UgdGhlIHJhZGl1cyBvZiB0aGUgTm9ybWFsIHNwaGVyZVxuTUVURVJTX1BFUl9VTklUW1VuaXRzLkRFR1JFRVNdID0gKDIgKiBNYXRoLlBJICogNjM3MDk5NykgLyAzNjA7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuRkVFVF0gPSAwLjMwNDg7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuTUVURVJTXSA9IDE7XG5NRVRFUlNfUEVSX1VOSVRbVW5pdHMuVVNGRUVUXSA9IDEyMDAgLyAzOTM3O1xuZXhwb3J0IGRlZmF1bHQgVW5pdHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vbml0cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhc1xuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4uL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IHsgV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzQ29udGV4dDJEIH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7IGdldEZvbnRQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vY3NzLmpzJztcbmltcG9ydCB7IHRvU3RyaW5nIH0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsbFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGZpbGxTdHlsZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIExhYmVsXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHRcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nfG51bWJlcj59IGNvbnRleHRJbnN0cnVjdGlvbnNcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaWxsU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2N1cnJlbnRGaWxsU3R5bGVdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjdXJyZW50U3Ryb2tlU3R5bGVdXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtjdXJyZW50TGluZUNhcF1cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudExpbmVEYXNoXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lRGFzaE9mZnNldF1cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtjdXJyZW50TGluZUpvaW5dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lV2lkdGhdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRNaXRlckxpbWl0XVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsYXN0U3Ryb2tlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbZmlsbFN0eWxlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlU3R5bGVdXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtsaW5lQ2FwXVxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsaW5lRGFzaE9mZnNldF1cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtsaW5lSm9pbl1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZVdpZHRoXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaXRlckxpbWl0XVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0cm9rZVN0YXRlXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IGxpbmVDYXBcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldFxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gbGluZUpvaW5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lV2lkdGhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaXRlckxpbWl0XG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IHN0cm9rZVN0eWxlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVGV4dFN0YXRlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZm9udFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZXh0QWxpZ25dXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGV4dEJhc2VsaW5lXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3BsYWNlbWVudF1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4QW5nbGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVyZmxvd11cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZEZpbGxdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZFN0cm9rZV1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGVdXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nXVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNlcmlhbGl6YWJsZUluc3RydWN0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaW5zdHJ1Y3Rpb25zLlxuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIFRoZSBhcnJheSBvZiBhbGwgY29vcmRpbmF0ZXMuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBUZXh0U3RhdGU+fSBbdGV4dFN0YXRlc10gVGhlIHRleHQgc3RhdGVzIChkZWNsdXR0ZXJpbmcpLlxuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgRmlsbFN0YXRlPn0gW2ZpbGxTdGF0ZXNdIFRoZSBmaWxsIHN0YXRlcyAoZGVjbHV0dGVyaW5nKS5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIFN0cm9rZVN0YXRlPn0gW3N0cm9rZVN0YXRlc10gVGhlIHN0cm9rZSBzdGF0ZXMgKGRlY2x1dHRlcmluZykuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdDxudW1iZXIsIGltcG9ydChcIi4vY2FudmFzL0V4ZWN1dG9yLmpzXCIpLlJlcGxheUltYWdlT3JMYWJlbEFyZ3M+fSBEZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XG4gKi9cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGRlZmF1bHRGb250ID0gJzEwcHggc2Fucy1zZXJpZic7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdEZpbGxTdHlsZSA9ICcjMDAwJztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Q2FudmFzTGluZUNhcH1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUNhcCA9ICdyb3VuZCc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdExpbmVEYXNoID0gW107XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZURhc2hPZmZzZXQgPSAwO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZUpvaW4gPSAncm91bmQnO1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdE1pdGVyTGltaXQgPSAxMDtcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0U3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEFsaWduID0gJ2NlbnRlcic7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0VGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgZGVmYXVsdFBhZGRpbmcgPSBbMCwgMCwgMCwgMF07XG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBkZWZhdWx0TGluZVdpZHRoID0gMTtcbi8qKlxuICogQHR5cGUge0Jhc2VPYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgY2hlY2tlZEZvbnRzID0gbmV3IEJhc2VPYmplY3QoKTtcbi8qKlxuICogVGhlIGxhYmVsIGNhY2hlIGZvciB0ZXh0IHJlbmRlcmluZy4gVG8gY2hhbmdlIHRoZSBkZWZhdWx0IGNhY2hlIHNpemUgb2YgMjA0OFxuICogZW50cmllcywgdXNlIHtAbGluayBtb2R1bGU6b2wvc3RydWN0cy9MUlVDYWNoZSNzZXRTaXplfS5cbiAqIERlcHJlY2F0ZWQgLSB0aGVyZSBpcyBubyBsYWJlbCBjYWNoZSBhbnkgbW9yZS5cbiAqIEB0eXBlIHs/fVxuICogQGFwaVxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IHZhciBsYWJlbENhY2hlID0gbmV3IEV2ZW50VGFyZ2V0KCk7XG5sYWJlbENhY2hlLnNldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS53YXJuKCdsYWJlbENhY2hlIGlzIGRlcHJlY2F0ZWQuJyk7IC8vZXNsaW50LWRpc2FibGUtbGluZVxufTtcbi8qKlxuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqL1xudmFyIG1lYXN1cmVDb250ZXh0ID0gbnVsbDtcbi8qKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIG1lYXN1cmVGb250O1xuLyoqXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gKi9cbmV4cG9ydCB2YXIgdGV4dEhlaWdodHMgPSB7fTtcbi8qKlxuICogQ2xlYXJzIHRoZSBsYWJlbCBjYWNoZSB3aGVuIGEgZm9udCBiZWNvbWVzIGF2YWlsYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3BlYyBDU1MgZm9udCBzcGVjLlxuICovXG5leHBvcnQgdmFyIHJlZ2lzdGVyRm9udCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJldHJpZXMgPSAxMDA7XG4gICAgdmFyIHNpemUgPSAnMzJweCAnO1xuICAgIHZhciByZWZlcmVuY2VGb250cyA9IFsnbW9ub3NwYWNlJywgJ3NlcmlmJ107XG4gICAgdmFyIGxlbiA9IHJlZmVyZW5jZUZvbnRzLmxlbmd0aDtcbiAgICB2YXIgdGV4dCA9ICd3bXl0emlsV01ZVFpJTEAjLyY/JCUxMFxcdUYwMTMnO1xuICAgIHZhciBpbnRlcnZhbCwgcmVmZXJlbmNlV2lkdGg7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTdHlsZSBDc3MgZm9udC1zdHlsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250V2VpZ2h0IENzcyBmb250LXdlaWdodFxuICAgICAqIEBwYXJhbSB7Kn0gZm9udEZhbWlseSBDc3MgZm9udC1mYW1pbHlcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBGb250IHdpdGggc3R5bGUgYW5kIHdlaWdodCBpcyBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F2YWlsYWJsZShmb250U3R5bGUsIGZvbnRXZWlnaHQsIGZvbnRGYW1pbHkpIHtcbiAgICAgICAgdmFyIGF2YWlsYWJsZSA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2VGb250ID0gcmVmZXJlbmNlRm9udHNbaV07XG4gICAgICAgICAgICByZWZlcmVuY2VXaWR0aCA9IG1lYXN1cmVUZXh0V2lkdGgoZm9udFN0eWxlICsgJyAnICsgZm9udFdlaWdodCArICcgJyArIHNpemUgKyByZWZlcmVuY2VGb250LCB0ZXh0KTtcbiAgICAgICAgICAgIGlmIChmb250RmFtaWx5ICE9IHJlZmVyZW5jZUZvbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKGZvbnRTdHlsZSArXG4gICAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgICBzaXplICtcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseSArXG4gICAgICAgICAgICAgICAgICAgICcsJyArXG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUZvbnQsIHRleHQpO1xuICAgICAgICAgICAgICAgIC8vIElmIHdpZHRoIGFuZCByZWZlcmVuY2VXaWR0aCBhcmUgdGhlIHNhbWUsIHRoZW4gdGhlIGZhbGxiYWNrIHdhcyB1c2VkXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgZm9udCB3ZSB3YW50ZWQsIHNvIHRoZSBmb250IGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgYXZhaWxhYmxlID0gYXZhaWxhYmxlICYmIHdpZHRoICE9IHJlZmVyZW5jZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhdmFpbGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICAgIHZhciBkb25lID0gdHJ1ZTtcbiAgICAgICAgdmFyIGZvbnRzID0gY2hlY2tlZEZvbnRzLmdldEtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZm9udHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGZvbnQgPSBmb250c1tpXTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkRm9udHMuZ2V0KGZvbnQpIDwgcmV0cmllcykge1xuICAgICAgICAgICAgICAgIGlmIChpc0F2YWlsYWJsZS5hcHBseSh0aGlzLCBmb250LnNwbGl0KCdcXG4nKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIodGV4dEhlaWdodHMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBsb2FkZWQgZm9udHMgYXJlIHBpY2tlZCB1cCBieSBTYWZhcmlcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRm9udCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEZvbnRzLnNldChmb250LCByZXRyaWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoZm9udCwgY2hlY2tlZEZvbnRzLmdldChmb250KSArIDEsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBkb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIGludGVydmFsID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZm9udFNwZWMpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBnZXRGb250UGFyYW1ldGVycyhmb250U3BlYyk7XG4gICAgICAgIGlmICghZm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmYW1pbGllcyA9IGZvbnQuZmFtaWxpZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGZhbWlsaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBmYW1pbHkgPSBmYW1pbGllc1tpXTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBmb250LnN0eWxlICsgJ1xcbicgKyBmb250LndlaWdodCArICdcXG4nICsgZmFtaWx5O1xuICAgICAgICAgICAgaWYgKGNoZWNrZWRGb250cy5nZXQoa2V5KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZEZvbnRzLnNldChrZXksIHJldHJpZXMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICghaXNBdmFpbGFibGUoZm9udC5zdHlsZSwgZm9udC53ZWlnaHQsIGZhbWlseSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZEZvbnRzLnNldChrZXksIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJ2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVjaywgMzIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IE1lYXN1cmVtZW50LlxuICovXG5leHBvcnQgdmFyIG1lYXN1cmVUZXh0SGVpZ2h0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICovXG4gICAgdmFyIGRpdjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0SGVpZ2h0c1tmb250U3BlY107XG4gICAgICAgIGlmIChoZWlnaHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoV09SS0VSX09GRlNDUkVFTl9DQU5WQVMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9udCA9IGdldEZvbnRQYXJhbWV0ZXJzKGZvbnRTcGVjKTtcbiAgICAgICAgICAgICAgICB2YXIgbWV0cmljcyA9IG1lYXN1cmVUZXh0KGZvbnRTcGVjLCAnxb1nJyk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBpc05hTihOdW1iZXIoZm9udC5saW5lSGVpZ2h0KSlcbiAgICAgICAgICAgICAgICAgICAgPyAxLjJcbiAgICAgICAgICAgICAgICAgICAgOiBOdW1iZXIoZm9udC5saW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPVxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ICpcbiAgICAgICAgICAgICAgICAgICAgICAgIChtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXYpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnTSc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5tYXJnaW4gPSAnMCAhaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMCAhaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlICFpbXBvcnRhbnQnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICctOTk5OTlweCAhaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmZvbnQgPSBmb250U3BlYztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZGl2Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0SGVpZ2h0c1tmb250U3BlY10gPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRleHQuXG4gKiBAcmV0dXJuIHtUZXh0TWV0cmljc30gVGV4dCBtZXRyaWNzLlxuICovXG5mdW5jdGlvbiBtZWFzdXJlVGV4dChmb250LCB0ZXh0KSB7XG4gICAgaWYgKCFtZWFzdXJlQ29udGV4dCkge1xuICAgICAgICBtZWFzdXJlQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKTtcbiAgICB9XG4gICAgaWYgKGZvbnQgIT0gbWVhc3VyZUZvbnQpIHtcbiAgICAgICAgbWVhc3VyZUNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIG1lYXN1cmVGb250ID0gbWVhc3VyZUNvbnRleHQuZm9udDtcbiAgICB9XG4gICAgcmV0dXJuIG1lYXN1cmVDb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEByZXR1cm4ge251bWJlcn0gV2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpIHtcbiAgICByZXR1cm4gbWVhc3VyZVRleHQoZm9udCwgdGV4dCkud2lkdGg7XG59XG4vKipcbiAqIE1lYXN1cmUgdGV4dCB3aWR0aCB1c2luZyBhIGNhY2hlLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgVGhlIGZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBtZWFzdXJlLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBjYWNoZSBBIGxvb2t1cCBvZiBjYWNoZWQgd2lkdGhzIGJ5IHRleHQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgdGV4dCB3aWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZSkge1xuICAgIGlmICh0ZXh0IGluIGNhY2hlKSB7XG4gICAgICAgIHJldHVybiBjYWNoZVt0ZXh0XTtcbiAgICB9XG4gICAgdmFyIHdpZHRoID0gbWVhc3VyZVRleHRXaWR0aChmb250LCB0ZXh0KTtcbiAgICBjYWNoZVt0ZXh0XSA9IHdpZHRoO1xuICAgIHJldHVybiB3aWR0aDtcbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udCB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gbGluZXMgTGluZXMgdG8gbWVhc3VyZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gd2lkdGhzIEFycmF5IHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggdGhlIHdpZHRocyBvZlxuICogZWFjaCBsaW5lLlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aCBvZiB0aGUgd2hvbGUgdGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVUZXh0V2lkdGhzKGZvbnQsIGxpbmVzLCB3aWR0aHMpIHtcbiAgICB2YXIgbnVtTGluZXMgPSBsaW5lcy5sZW5ndGg7XG4gICAgdmFyIHdpZHRoID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUxpbmVzOyArK2kpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRXaWR0aCA9IG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgbGluZXNbaV0pO1xuICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjdXJyZW50V2lkdGgpO1xuICAgICAgICB3aWR0aHMucHVzaChjdXJyZW50V2lkdGgpO1xuICAgIH1cbiAgICByZXR1cm4gd2lkdGg7XG59XG4vKipcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCBYIG9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRZIFkgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQXRPZmZzZXQoY29udGV4dCwgcm90YXRpb24sIG9mZnNldFgsIG9mZnNldFkpIHtcbiAgICBpZiAocm90YXRpb24gIT09IDApIHtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgICAgIGNvbnRleHQucm90YXRlKHJvdGF0aW9uKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm18bnVsbH0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gKiBAcGFyYW0ge0xhYmVsfEhUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gbGFiZWxPckltYWdlIExhYmVsLlxuICogQHBhcmFtIHtudW1iZXJ9IG9yaWdpblggT3JpZ2luIFguXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoLlxuICogQHBhcmFtIHtudW1iZXJ9IGggSGVpZ2h0LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SW1hZ2VPckxhYmVsKGNvbnRleHQsIHRyYW5zZm9ybSwgb3BhY2l0eSwgbGFiZWxPckltYWdlLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCB4LCB5LCBzY2FsZSkge1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGlmIChvcGFjaXR5ICE9PSAxKSB7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgKj0gb3BhY2l0eTtcbiAgICB9XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCB0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBpZiAoIC8qKiBAdHlwZSB7Kn0gKi8obGFiZWxPckltYWdlKS5jb250ZXh0SW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgIC8vIGxhYmVsXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSk7XG4gICAgICAgIGV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucygvKiogQHR5cGUge0xhYmVsfSAqLyAobGFiZWxPckltYWdlKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjYWxlWzBdIDwgMCB8fCBzY2FsZVsxXSA8IDApIHtcbiAgICAgICAgLy8gZmxpcHBlZCBpbWFnZVxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgICAgY29udGV4dC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9ICovIChsYWJlbE9ySW1hZ2UpLCBvcmlnaW5YLCBvcmlnaW5ZLCB3LCBoLCAwLCAwLCB3LCBoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGlmIGltYWdlIG5vdCBmbGlwcGVkIHRyYW5zbGF0ZSBhbmQgc2NhbGUgY2FuIGJlIGF2b2lkZWRcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSAqLyAobGFiZWxPckltYWdlKSwgb3JpZ2luWCwgb3JpZ2luWSwgdywgaCwgeCwgeSwgdyAqIHNjYWxlWzBdLCBoICogc2NhbGVbMV0pO1xuICAgIH1cbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbn1cbi8qKlxuICogQHBhcmFtIHtMYWJlbH0gbGFiZWwgTGFiZWwuXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICovXG5mdW5jdGlvbiBleGVjdXRlTGFiZWxJbnN0cnVjdGlvbnMobGFiZWwsIGNvbnRleHQpIHtcbiAgICB2YXIgY29udGV4dEluc3RydWN0aW9ucyA9IGxhYmVsLmNvbnRleHRJbnN0cnVjdGlvbnM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29udGV4dEluc3RydWN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgaSArPSAyKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRleHRJbnN0cnVjdGlvbnNbaSArIDFdKSkge1xuICAgICAgICAgICAgY29udGV4dFtjb250ZXh0SW5zdHJ1Y3Rpb25zW2ldXS5hcHBseShjb250ZXh0LCBjb250ZXh0SW5zdHJ1Y3Rpb25zW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0W2NvbnRleHRJbnN0cnVjdGlvbnNbaV1dID0gY29udGV4dEluc3RydWN0aW9uc1tpICsgMV07XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBjcmVhdGVUcmFuc2Zvcm1TdHJpbmdDYW52YXMgPSBudWxsO1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENTUyB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1TdHJpbmcodHJhbnNmb3JtKSB7XG4gICAgaWYgKFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZyh0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFjcmVhdGVUcmFuc2Zvcm1TdHJpbmdDYW52YXMpIHtcbiAgICAgICAgICAgIGNyZWF0ZVRyYW5zZm9ybVN0cmluZ0NhbnZhcyA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxKS5jYW52YXM7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlVHJhbnNmb3JtU3RyaW5nQ2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IHRvU3RyaW5nKHRyYW5zZm9ybSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2Zvcm1TdHJpbmdDYW52YXMuc3R5bGUudHJhbnNmb3JtO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbnZhcy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc2l6ZVxuICovXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGEgc2l6ZTogYFt3aWR0aCwgaGVpZ2h0XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gU2l6ZVxuICogQGFwaVxuICovXG4vKipcbiAqIFJldHVybnMgYSBidWZmZXJlZCBzaXplLlxuICogQHBhcmFtIHtTaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIFRoZSBhbW91bnQgYnkgd2hpY2ggdG8gYnVmZmVyLlxuICogQHBhcmFtIHtTaXplPX0gb3B0X3NpemUgT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBidWZmZXJlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyKHNpemUsIG51bSwgb3B0X3NpemUpIHtcbiAgICBpZiAob3B0X3NpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRfc2l6ZSA9IFswLCAwXTtcbiAgICB9XG4gICAgb3B0X3NpemVbMF0gPSBzaXplWzBdICsgMiAqIG51bTtcbiAgICBvcHRfc2l6ZVsxXSA9IHNpemVbMV0gKyAyICogbnVtO1xuICAgIHJldHVybiBvcHRfc2l6ZTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBUaGUgc2l6ZSB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0FyZWEoc2l6ZSkge1xuICAgIHJldHVybiBzaXplWzBdID4gMCAmJiBzaXplWzFdID4gMDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHNpemUgc2NhbGVkIGJ5IGEgcmF0aW8uIFRoZSByZXN1bHQgd2lsbCBiZSBhbiBhcnJheSBvZiBpbnRlZ2Vycy5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFJhdGlvLlxuICogQHBhcmFtIHtTaXplPX0gb3B0X3NpemUgT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBzY2FsZWQgc2l6ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKHNpemUsIHJhdGlvLCBvcHRfc2l6ZSkge1xuICAgIGlmIChvcHRfc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdF9zaXplID0gWzAsIDBdO1xuICAgIH1cbiAgICBvcHRfc2l6ZVswXSA9IChzaXplWzBdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgICBvcHRfc2l6ZVsxXSA9IChzaXplWzFdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgICByZXR1cm4gb3B0X3NpemU7XG59XG4vKipcbiAqIFJldHVybnMgYW4gYFNpemVgIGFycmF5IGZvciB0aGUgcGFzc2VkIGluIG51bWJlciAobWVhbmluZzogc3F1YXJlKSBvclxuICogYFNpemVgIGFycmF5LlxuICogKG1lYW5pbmc6IG5vbi1zcXVhcmUpLFxuICogQHBhcmFtIHtudW1iZXJ8U2l6ZX0gc2l6ZSBXaWR0aCBhbmQgaGVpZ2h0LlxuICogQHBhcmFtIHtTaXplPX0gb3B0X3NpemUgT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFNpemUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1NpemUoc2l6ZSwgb3B0X3NpemUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzaXplKSkge1xuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChvcHRfc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRfc2l6ZSA9IFtzaXplLCBzaXplXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdF9zaXplWzBdID0gc2l6ZTtcbiAgICAgICAgICAgIG9wdF9zaXplWzFdID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0X3NpemU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2l6ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvUmVndWxhclNoYXBlXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBJbWFnZVN0eWxlIGZyb20gJy4vSW1hZ2UuanMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL2NvbG9yLmpzJztcbmltcG9ydCB7IGFzQ29sb3JMaWtlIH0gZnJvbSAnLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0TGluZUNhcCwgZGVmYXVsdExpbmVKb2luLCBkZWZhdWx0TGluZVdpZHRoLCBkZWZhdWx0TWl0ZXJMaW1pdCwgZGVmYXVsdFN0cm9rZVN0eWxlLCB9IGZyb20gJy4uL3JlbmRlci9jYW52YXMuanMnO1xuLyoqXG4gKiBTcGVjaWZ5IHJhZGl1cyBmb3IgcmVndWxhciBwb2x5Z29ucywgb3IgcmFkaXVzMSBhbmQgcmFkaXVzMiBmb3Igc3RhcnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbZmlsbF0gRmlsbCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwb2ludHMgTnVtYmVyIG9mIHBvaW50cyBmb3Igc3RhcnMgYW5kIHJlZ3VsYXIgcG9seWdvbnMuIEluIGNhc2Ugb2YgYSBwb2x5Z29uLCB0aGUgbnVtYmVyIG9mIHBvaW50c1xuICogaXMgdGhlIG51bWJlciBvZiBzaWRlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzXSBSYWRpdXMgb2YgYSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1czFdIE91dGVyIHJhZGl1cyBvZiBhIHN0YXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1czJdIElubmVyIHJhZGl1cyBvZiBhIHN0YXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2FuZ2xlPTBdIFNoYXBlJ3MgYW5nbGUgaW4gcmFkaWFucy4gQSB2YWx1ZSBvZiAwIHdpbGwgaGF2ZSBvbmUgb2YgdGhlIHNoYXBlJ3MgcG9pbnQgZmFjaW5nIHVwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbZGlzcGxhY2VtZW50PVswLDBdXSBEaXNwbGFjZW1lbnQgb2YgdGhlIHNoYXBlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgc2hhcGUgd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlPTFdIFNjYWxlLiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXJcbiAqIHJlc3VsdCBtYXkgYmUgb2J0YWluZWQgd2l0aCBhcHByb3ByaWF0ZSBzZXR0aW5ncyBmb3IgYHJhZGl1c2AsIGByYWRpdXMxYCBhbmQgYHJhZGl1czJgLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbmRlck9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3N0cm9rZVN0eWxlXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0cm9rZVdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZVxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBsaW5lQ2FwXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGxpbmVEYXNoXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZURhc2hPZmZzZXRcbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IGxpbmVKb2luXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWl0ZXJMaW1pdFxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCByZWd1bGFyIHNoYXBlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuIFRoZSByZXN1bHRpbmcgc2hhcGUgd2lsbCBiZVxuICogYSByZWd1bGFyIHBvbHlnb24gd2hlbiBgcmFkaXVzYCBpcyBwcm92aWRlZCwgb3IgYSBzdGFyIHdoZW4gYHJhZGl1czFgIGFuZFxuICogYHJhZGl1czJgIGFyZSBwcm92aWRlZC5cbiAqIEBhcGlcbiAqL1xudmFyIFJlZ3VsYXJTaGFwZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVndWxhclNoYXBlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZ3VsYXJTaGFwZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciByb3RhdGVXaXRoVmlldyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgOiBmYWxzZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IHJvdGF0ZVdpdGhWaWV3LFxuICAgICAgICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRpb24gOiAwLFxuICAgICAgICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgSFRNTENhbnZhc0VsZW1lbnQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWxsXyA9IG9wdGlvbnMuZmlsbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5maWxsIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHNfID0gb3B0aW9ucy5wb2ludHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yYWRpdXNfID1cbiAgICAgICAgICAgIG9wdGlvbnMucmFkaXVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJhZGl1cyA6IG9wdGlvbnMucmFkaXVzMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmFkaXVzMl8gPSBvcHRpb25zLnJhZGl1czI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5nbGVfID0gb3B0aW9ucy5hbmdsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmdsZSA6IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0cm9rZV8gPSBvcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJva2UgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VTaXplXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VTaXplXyA9IG51bGw7XG4gICAgICAgIF90aGlzLnJlbmRlcigpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7UmVndWxhclNoYXBlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgICAgIHZhciBzdHlsZSA9IG5ldyBSZWd1bGFyU2hhcGUoe1xuICAgICAgICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcG9pbnRzOiB0aGlzLmdldFBvaW50cygpLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGlzLmdldFJhZGl1cygpLFxuICAgICAgICAgICAgcmFkaXVzMjogdGhpcy5nZXRSYWRpdXMyKCksXG4gICAgICAgICAgICBhbmdsZTogdGhpcy5nZXRBbmdsZSgpLFxuICAgICAgICAgICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHN0eWxlLnNldE9wYWNpdHkodGhpcy5nZXRPcGFjaXR5KCkpO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBpbiBwaXhlbHMuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICAgKiBzeW1ib2xpemVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRBbmNob3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuY2hvcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuZ2xlIHVzZWQgaW4gZ2VuZXJhdGluZyB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBTaGFwZSdzIHJvdGF0aW9uIGluIHJhZGlhbnMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0QW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuZ2xlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmlsbCBzdHlsZSBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBGaWxsIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkNhbnZhc18pIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJPcHRpb25zID0gdGhpcy5jcmVhdGVSZW5kZXJPcHRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgaWNvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICBpZiAoIXRoaXMuY2FudmFzX1twaXhlbFJhdGlvIHx8IDFdKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyT3B0aW9ucyA9IHRoaXMuY3JlYXRlUmVuZGVyT3B0aW9ucygpO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQocmVuZGVyT3B0aW9ucy5zaXplICogcGl4ZWxSYXRpbyB8fCAxLCByZW5kZXJPcHRpb25zLnNpemUgKiBwaXhlbFJhdGlvIHx8IDEpO1xuICAgICAgICAgICAgdGhpcy5kcmF3XyhyZW5kZXJPcHRpb25zLCBjb250ZXh0LCAwLCAwLCBwaXhlbFJhdGlvIHx8IDEpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW8gfHwgMV0gPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW8gfHwgMV07XG4gICAgfTtcbiAgICAvKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgcGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFBpeGVsUmF0aW8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gcGl4ZWxSYXRpbztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEltYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VTaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2l6ZSBvZiB0aGUgaGl0LWRldGVjdGlvbiBpbWFnZS5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldEhpdERldGVjdGlvbkltYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VTaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAgICovXG4gICAgUmVndWxhclNoYXBlLnByb3RvdHlwZS5nZXRJbWFnZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9yaWdpbiBvZiB0aGUgc3ltYm9saXplci5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgcG9pbnRzIGZvciBnZW5lcmF0aW5nIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiBwb2ludHMgZm9yIHN0YXJzIGFuZCByZWd1bGFyIHBvbHlnb25zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgKHByaW1hcnkpIHJhZGl1cyBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmFkaXVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFJhZGl1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vjb25kYXJ5IHJhZGl1cyBmb3IgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJhZGl1czIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0UmFkaXVzMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaXVzMl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIHN5bWJvbGl6ZXIgKGluIHBpeGVscykuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHJva2Ugc3R5bGUgZm9yIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZ2V0U3Ryb2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJva2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUubGlzdGVuSW1hZ2VDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHsgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUudW5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikgeyB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtSZW5kZXJPcHRpb25zfSAgVGhlIHJlbmRlciBvcHRpb25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxpbmVDYXAgPSBkZWZhdWx0TGluZUNhcDtcbiAgICAgICAgdmFyIGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgICAgICB2YXIgbWl0ZXJMaW1pdCA9IDA7XG4gICAgICAgIHZhciBsaW5lRGFzaCA9IG51bGw7XG4gICAgICAgIHZhciBsaW5lRGFzaE9mZnNldCA9IDA7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZTtcbiAgICAgICAgdmFyIHN0cm9rZVdpZHRoID0gMDtcbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlXykge1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZV8uZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgIGlmIChzdHJva2VTdHlsZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlID0gZGVmYXVsdFN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZShzdHJva2VTdHlsZSk7XG4gICAgICAgICAgICBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlXy5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgaWYgKHN0cm9rZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IGRlZmF1bHRMaW5lV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lRGFzaCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgbGluZURhc2hPZmZzZXQgPSB0aGlzLnN0cm9rZV8uZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgICAgIGxpbmVKb2luID0gdGhpcy5zdHJva2VfLmdldExpbmVKb2luKCk7XG4gICAgICAgICAgICBpZiAobGluZUpvaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZUNhcCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lQ2FwKCk7XG4gICAgICAgICAgICBpZiAobGluZUNhcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGluZUNhcCA9IGRlZmF1bHRMaW5lQ2FwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWl0ZXJMaW1pdCA9IHRoaXMuc3Ryb2tlXy5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICBpZiAobWl0ZXJMaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWl0ZXJMaW1pdCA9IGRlZmF1bHRNaXRlckxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaXplID0gMiAqICh0aGlzLnJhZGl1c18gKyBzdHJva2VXaWR0aCkgKyAxO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIGxpbmVDYXA6IGxpbmVDYXAsXG4gICAgICAgICAgICBsaW5lRGFzaDogbGluZURhc2gsXG4gICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogbGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICBsaW5lSm9pbjogbGluZUpvaW4sXG4gICAgICAgICAgICBtaXRlckxpbWl0OiBtaXRlckxpbWl0LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVuZGVyT3B0aW9ucyA9IHRoaXMuY3JlYXRlUmVuZGVyT3B0aW9ucygpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChyZW5kZXJPcHRpb25zLnNpemUsIHJlbmRlck9wdGlvbnMuc2l6ZSk7XG4gICAgICAgIHRoaXMuZHJhd18ocmVuZGVyT3B0aW9ucywgY29udGV4dCwgMCwgMCwgMSk7XG4gICAgICAgIHRoaXMuY2FudmFzXyA9IHt9O1xuICAgICAgICB0aGlzLmNhbnZhc19bMV0gPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgLy8gY2FudmFzLndpZHRoIGFuZCBoZWlnaHQgYXJlIHJvdW5kZWQgdG8gdGhlIGNsb3Nlc3QgaW50ZWdlclxuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRleHQuY2FudmFzLndpZHRoO1xuICAgICAgICB2YXIgaW1hZ2VTaXplID0gc2l6ZTtcbiAgICAgICAgdmFyIGRpc3BsYWNlbWVudCA9IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VTaXplXyA9IFtyZW5kZXJPcHRpb25zLnNpemUsIHJlbmRlck9wdGlvbnMuc2l6ZV07XG4gICAgICAgIHRoaXMuY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyhyZW5kZXJPcHRpb25zKTtcbiAgICAgICAgdGhpcy5hbmNob3JfID0gW3NpemUgLyAyIC0gZGlzcGxhY2VtZW50WzBdLCBzaXplIC8gMiArIGRpc3BsYWNlbWVudFsxXV07XG4gICAgICAgIHRoaXMuc2l6ZV8gPSBbc2l6ZSwgc2l6ZV07XG4gICAgICAgIHRoaXMuaW1hZ2VTaXplXyA9IFtpbWFnZVNpemUsIGltYWdlU2l6ZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGhlIG9yaWdpbiBmb3IgdGhlIHN5bWJvbCAoeCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIG9yaWdpbiBmb3IgdGhlIHN5bWJvbCAoeSkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gVGhlIHBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZHJhd18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucywgY29udGV4dCwgeCwgeSwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgaSwgYW5nbGUwLCByYWRpdXNDO1xuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm1cbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0ocGl4ZWxSYXRpbywgMCwgMCwgcGl4ZWxSYXRpbywgMCwgMCk7XG4gICAgICAgIC8vIHRoZW4gbW92ZSB0byAoeCwgeSlcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50c187XG4gICAgICAgIGlmIChwb2ludHMgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBjb250ZXh0LmFyYyhyZW5kZXJPcHRpb25zLnNpemUgLyAyLCByZW5kZXJPcHRpb25zLnNpemUgLyAyLCB0aGlzLnJhZGl1c18sIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByYWRpdXMyID0gdGhpcy5yYWRpdXMyXyAhPT0gdW5kZWZpbmVkID8gdGhpcy5yYWRpdXMyXyA6IHRoaXMucmFkaXVzXztcbiAgICAgICAgICAgIGlmIChyYWRpdXMyICE9PSB0aGlzLnJhZGl1c18pIHtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSAyICogcG9pbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8PSBwb2ludHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGFuZ2xlMCA9IChpICogMiAqIE1hdGguUEkpIC8gcG9pbnRzIC0gTWF0aC5QSSAvIDIgKyB0aGlzLmFuZ2xlXztcbiAgICAgICAgICAgICAgICByYWRpdXNDID0gaSAlIDIgPT09IDAgPyB0aGlzLnJhZGl1c18gOiByYWRpdXMyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIgKyByYWRpdXNDICogTWF0aC5jb3MoYW5nbGUwKSwgcmVuZGVyT3B0aW9ucy5zaXplIC8gMiArIHJhZGl1c0MgKiBNYXRoLnNpbihhbmdsZTApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuICAgICAgICAgICAgaWYgKGNvbG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBkZWZhdWx0RmlsbFN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBhc0NvbG9yTGlrZShjb2xvcik7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJva2VfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gcmVuZGVyT3B0aW9ucy5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gcmVuZGVyT3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnNldExpbmVEYXNoICYmIHJlbmRlck9wdGlvbnMubGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHJlbmRlck9wdGlvbnMubGluZURhc2gpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSByZW5kZXJPcHRpb25zLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5saW5lQ2FwID0gcmVuZGVyT3B0aW9ucy5saW5lQ2FwO1xuICAgICAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHJlbmRlck9wdGlvbnMubGluZUpvaW47XG4gICAgICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSByZW5kZXJPcHRpb25zLm1pdGVyTGltaXQ7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBSZWd1bGFyU2hhcGUucHJvdG90eXBlLmNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucykge1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkNhbnZhc18gPSB0aGlzLmdldEltYWdlKDEpO1xuICAgICAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIGZpbGwgaXMgdHJhbnNwYXJlbnQgKG9yIHBhdHRlcm4gb3IgZ3JhZGllbnQpXG4gICAgICAgICAgICB2YXIgb3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gYXNBcnJheShjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eSA9IGNvbG9yLmxlbmd0aCA9PT0gNCA/IGNvbG9yWzNdIDogMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYSB0cmFuc3BhcmVudCBmaWxsIHN0eWxlIGlzIHNldCwgY3JlYXRlIGFuIGV4dHJhIGhpdC1kZXRlY3Rpb24gaW1hZ2VcbiAgICAgICAgICAgICAgICAvLyB3aXRoIGEgZGVmYXVsdCBmaWxsIHN0eWxlXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQocmVuZGVyT3B0aW9ucy5zaXplLCByZW5kZXJPcHRpb25zLnNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0hpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucywgY29udGV4dCwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW5kZXJPcHRpb25zfSByZW5kZXJPcHRpb25zIFJlbmRlciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBvcmlnaW4gZm9yIHRoZSBzeW1ib2wgKHgpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSBvcmlnaW4gZm9yIHRoZSBzeW1ib2wgKHkpLlxuICAgICAqL1xuICAgIFJlZ3VsYXJTaGFwZS5wcm90b3R5cGUuZHJhd0hpdERldGVjdGlvbkNhbnZhc18gPSBmdW5jdGlvbiAocmVuZGVyT3B0aW9ucywgY29udGV4dCwgeCwgeSkge1xuICAgICAgICAvLyBtb3ZlIHRvICh4LCB5KVxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzXztcbiAgICAgICAgaWYgKHBvaW50cyA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsIHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsIHRoaXMucmFkaXVzXywgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1czJfICE9PSB1bmRlZmluZWQgPyB0aGlzLnJhZGl1czJfIDogdGhpcy5yYWRpdXNfO1xuICAgICAgICAgICAgaWYgKHJhZGl1czIgIT09IHRoaXMucmFkaXVzXykge1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IDIgKiBwb2ludHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaSA9IHZvaWQgMCwgcmFkaXVzQyA9IHZvaWQgMCwgYW5nbGUwID0gdm9pZCAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8PSBwb2ludHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGFuZ2xlMCA9IChpICogMiAqIE1hdGguUEkpIC8gcG9pbnRzIC0gTWF0aC5QSSAvIDIgKyB0aGlzLmFuZ2xlXztcbiAgICAgICAgICAgICAgICByYWRpdXNDID0gaSAlIDIgPT09IDAgPyB0aGlzLnJhZGl1c18gOiByYWRpdXMyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIgKyByYWRpdXNDICogTWF0aC5jb3MoYW5nbGUwKSwgcmVuZGVyT3B0aW9ucy5zaXplIC8gMiArIHJhZGl1c0MgKiBNYXRoLnNpbihhbmdsZTApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGRlZmF1bHRGaWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICBpZiAodGhpcy5zdHJva2VfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gcmVuZGVyT3B0aW9ucy5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gcmVuZGVyT3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgIGlmIChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gcmVuZGVyT3B0aW9ucy5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9O1xuICAgIHJldHVybiBSZWd1bGFyU2hhcGU7XG59KEltYWdlU3R5bGUpKTtcbmV4cG9ydCBkZWZhdWx0IFJlZ3VsYXJTaGFwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZ3VsYXJTaGFwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvQ2lyY2xlXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgUmVndWxhclNoYXBlIGZyb20gJy4vUmVndWxhclNoYXBlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzIENpcmNsZSByYWRpdXMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2Rpc3BsYWNlbWVudD1bMCwwXV0gZGlzcGxhY2VtZW50XG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZT0xXSBTY2FsZS4gQSB0d28gZGltZW5zaW9uYWwgc2NhbGUgd2lsbCBwcm9kdWNlIGFuIGVsbGlwc2UuXG4gKiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXIgcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFuIGFwcHJvcHJpYXRlIHNldHRpbmcgZm9yIGByYWRpdXNgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gKiAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlLCBtZWFuaW5nZnVsIG9ubHkgd2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0d28gZGltZW5zaW9uYWwgc2NhbGUpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBzaGFwZSB3aXRoIHRoZSB2aWV3XG4gKiAobWVhbmluZ2Z1bCBvbmx5IHdoZW4gdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlKS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgY2lyY2xlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBDaXJjbGVTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2lyY2xlU3R5bGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDaXJjbGVTdHlsZShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBwb2ludHM6IEluZmluaXR5LFxuICAgICAgICAgICAgZmlsbDogb3B0aW9ucy5maWxsLFxuICAgICAgICAgICAgcmFkaXVzOiBvcHRpb25zLnJhZGl1cyxcbiAgICAgICAgICAgIHN0cm9rZTogb3B0aW9ucy5zdHJva2UsXG4gICAgICAgICAgICBzY2FsZTogb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDEsXG4gICAgICAgICAgICByb3RhdGlvbjogb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDAsXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogb3B0aW9ucy5yb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGVXaXRoVmlldyA6IGZhbHNlLFxuICAgICAgICAgICAgZGlzcGxhY2VtZW50OiBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtDaXJjbGVTdHlsZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2lyY2xlU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgICAgIHZhciBzdHlsZSA9IG5ldyBDaXJjbGVTdHlsZSh7XG4gICAgICAgICAgICBmaWxsOiB0aGlzLmdldEZpbGwoKSA/IHRoaXMuZ2V0RmlsbCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByYWRpdXM6IHRoaXMuZ2V0UmFkaXVzKCksXG4gICAgICAgICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICAgICAgICByb3RhdGlvbjogdGhpcy5nZXRSb3RhdGlvbigpLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgICAgICAgIGRpc3BsYWNlbWVudDogdGhpcy5nZXREaXNwbGFjZW1lbnQoKS5zbGljZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgc3R5bGUuc2V0T3BhY2l0eSh0aGlzLmdldE9wYWNpdHkoKSk7XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY2lyY2xlIHJhZGl1cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgQ2lyY2xlIHJhZGl1cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2lyY2xlU3R5bGUucHJvdG90eXBlLnNldFJhZGl1cyA9IGZ1bmN0aW9uIChyYWRpdXMpIHtcbiAgICAgICAgdGhpcy5yYWRpdXNfID0gcmFkaXVzO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgcmV0dXJuIENpcmNsZVN0eWxlO1xufShSZWd1bGFyU2hhcGUpKTtcbmV4cG9ydCBkZWZhdWx0IENpcmNsZVN0eWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2lyY2xlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9GaWxsXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbY29sb3I9bnVsbF0gQSBjb2xvciwgZ3JhZGllbnQgb3IgcGF0dGVybi5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL2NvbG9yfkNvbG9yfSBhbmQge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfSBmb3IgcG9zc2libGUgZm9ybWF0cy5cbiAqIERlZmF1bHQgbnVsbDsgaWYgbnVsbCwgdGhlIENhbnZhcy9yZW5kZXJlciBkZWZhdWx0IGJsYWNrIHdpbGwgYmUgdXNlZC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgZmlsbCBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG52YXIgRmlsbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbGwob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbG9yIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS4gVGhlIGNvbG9yIGlzIG5vdCBjbG9uZWQgaWYgaXQgaXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfS5cbiAgICAgKiBAcmV0dXJuIHtGaWxsfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGaWxsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5nZXRDb2xvcigpO1xuICAgICAgICByZXR1cm4gbmV3IEZpbGwoe1xuICAgICAgICAgICAgY29sb3I6IEFycmF5LmlzQXJyYXkoY29sb3IpID8gY29sb3Iuc2xpY2UoKSA6IGNvbG9yIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZpbGwgY29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gQ29sb3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZpbGwucHJvdG90eXBlLmdldENvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBjb2xvciBDb2xvci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmlsbC5wcm90b3R5cGUuc2V0Q29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgdGhpcy5jb2xvcl8gPSBjb2xvcjtcbiAgICB9O1xuICAgIHJldHVybiBGaWxsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEZpbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWxsLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JbWFnZVxuICovXG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgdG9TaXplIH0gZnJvbSAnLi4vc2l6ZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcGFjaXR5XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHJvdGF0ZVdpdGhWaWV3XG4gKiBAcHJvcGVydHkge251bWJlcn0gcm90YXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gZGlzcGxhY2VtZW50XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBiYXNlIGNsYXNzIHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdCBpbnN0YW50aWF0ZWQgaW5cbiAqIGFwcHMuIEJhc2UgY2xhc3MgZm9yIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSwge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9DaXJjbGV+Q2lyY2xlU3R5bGV9IGFuZFxuICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9SZWd1bGFyU2hhcGV+UmVndWxhclNoYXBlfS5cbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG52YXIgSW1hZ2VTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVN0eWxlKG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wYWNpdHlfID0gb3B0aW9ucy5vcGFjaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSBvcHRpb25zLnJvdGF0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlXyA9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRfID0gb3B0aW9ucy5kaXNwbGFjZW1lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7SW1hZ2VTdHlsZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZVN0eWxlKHtcbiAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0T3BhY2l0eSgpLFxuICAgICAgICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgb3BhY2l0eS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE9wYWNpdHkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldE9wYWNpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYWNpdHlfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHN5bWJvbGl6ZXIgcm90YXRlcyB3aXRoIHRoZSBtYXAuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUm90YXRlIHdpdGggbWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRSb3RhdGVXaXRoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlV2l0aFZpZXdfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzeW1vYmxpemVyIHJvdGF0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUm90YXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldFJvdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2NhbGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTY2FsZSBhcnJheS5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRTY2FsZUFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZUFycmF5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlzcGxhY2VtZW50IG9mIHRoZSBzaGFwZVxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFNoYXBlJ3MgY2VudGVyIGRpc3BsYWNlbWVudFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXREaXNwbGFjZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYWNlbWVudF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBpbiBwaXhlbHMuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICAgKiBzeW1ib2xpemVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRBbmNob3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBlbGVtZW50IGZvciB0aGUgc3ltYm9saXplci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgcGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEltYWdlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLmdldEltYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNpemUgb2YgdGhlIGhpdC1kZXRlY3Rpb24gaW1hZ2UuXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2VTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRPcmlnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBzeW1ib2xpemVyIChpbiBwaXhlbHMpLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2l6ZS5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb3BhY2l0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEltYWdlU3R5bGUucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbiAob3BhY2l0eSkge1xuICAgICAgICB0aGlzLm9wYWNpdHlfID0gb3BhY2l0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRvIHJvdGF0ZSB0aGUgc3R5bGUgd2l0aCB0aGUgdmlldy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm90YXRlV2l0aFZpZXcgUm90YXRlIHdpdGggbWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5zZXRSb3RhdGVXaXRoVmlldyA9IGZ1bmN0aW9uIChyb3RhdGVXaXRoVmlldykge1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHJvdGF0ZVdpdGhWaWV3O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2NhbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5zZXRTY2FsZSA9IGZ1bmN0aW9uIChzY2FsZSkge1xuICAgICAgICB0aGlzLnNjYWxlXyA9IHNjYWxlO1xuICAgICAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKHNjYWxlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgSW1hZ2VTdHlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZVN0eWxlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VTdHlsZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBJbWFnZVN0eWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1N0cm9rZVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NvbG9yXSBBIGNvbG9yLCBncmFkaWVudCBvciBwYXR0ZXJuLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvY29sb3J+Q29sb3J9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9IGZvciBwb3NzaWJsZSBmb3JtYXRzLlxuICogRGVmYXVsdCBudWxsOyBpZiBudWxsLCB0aGUgQ2FudmFzL3JlbmRlcmVyIGRlZmF1bHQgYmxhY2sgd2lsbCBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbbGluZUNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtsaW5lSm9pbj0ncm91bmQnXSBMaW5lIGpvaW4gc3R5bGU6IGBiZXZlbGAsIGByb3VuZGAsIG9yIGBtaXRlcmAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtsaW5lRGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uIERlZmF1bHQgaXMgYG51bGxgIChubyBkYXNoKS5cbiAqIFBsZWFzZSBub3RlIHRoYXQgSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIGxvd2VyIGRvIG5vdCBzdXBwb3J0IHRoZSBgc2V0TGluZURhc2hgIG1ldGhvZCBvblxuICogdGhlIGBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRgIGFuZCB0aGVyZWZvcmUgdGhpcyBvcHRpb24gd2lsbCBoYXZlIG5vIHZpc3VhbCBlZmZlY3QgaW4gdGhlc2UgYnJvd3NlcnMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVEYXNoT2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pdGVyTGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aWR0aF0gV2lkdGguXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IHN0cm9rZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogTm90ZSB0aGF0IHRoZSBkZWZhdWx0cyBnaXZlbiBhcmUgdGhlIENhbnZhcyBkZWZhdWx0cywgd2hpY2ggd2lsbCBiZSB1c2VkIGlmXG4gKiBvcHRpb24gaXMgbm90IGRlZmluZWQuIFRoZSBgZ2V0YCBmdW5jdGlvbnMgcmV0dXJuIHdoYXRldmVyIHdhcyBlbnRlcmVkIGluXG4gKiB0aGUgb3B0aW9uczsgdGhleSB3aWxsIG5vdCByZXR1cm4gdGhlIGRlZmF1bHQuXG4gKiBAYXBpXG4gKi9cbnZhciBTdHJva2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdHJva2Uob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbG9yIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUNhcF8gPSBvcHRpb25zLmxpbmVDYXA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZURhc2hfID0gb3B0aW9ucy5saW5lRGFzaCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5saW5lRGFzaCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZURhc2hPZmZzZXRfID0gb3B0aW9ucy5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNMaW5lSm9pbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVKb2luXyA9IG9wdGlvbnMubGluZUpvaW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWl0ZXJMaW1pdF8gPSBvcHRpb25zLm1pdGVyTGltaXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGhfID0gb3B0aW9ucy53aWR0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJva2V9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IHRoaXMuZ2V0Q29sb3IoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJva2Uoe1xuICAgICAgICAgICAgY29sb3I6IEFycmF5LmlzQXJyYXkoY29sb3IpID8gY29sb3Iuc2xpY2UoKSA6IGNvbG9yIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGxpbmVDYXA6IHRoaXMuZ2V0TGluZUNhcCgpLFxuICAgICAgICAgICAgbGluZURhc2g6IHRoaXMuZ2V0TGluZURhc2goKSA/IHRoaXMuZ2V0TGluZURhc2goKS5zbGljZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGluZURhc2hPZmZzZXQ6IHRoaXMuZ2V0TGluZURhc2hPZmZzZXQoKSxcbiAgICAgICAgICAgIGxpbmVKb2luOiB0aGlzLmdldExpbmVKb2luKCksXG4gICAgICAgICAgICBtaXRlckxpbWl0OiB0aGlzLmdldE1pdGVyTGltaXQoKSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmdldFdpZHRoKCksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHJva2UgY29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gQ29sb3IuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0Q29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGluZSBjYXAgdHlwZSBmb3IgdGhlIHN0cm9rZS5cbiAgICAgKiBAcmV0dXJuIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH0gTGluZSBjYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0TGluZUNhcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUNhcF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpbmUgZGFzaCBzdHlsZSBmb3IgdGhlIHN0cm9rZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBMaW5lIGRhc2guXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0TGluZURhc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVEYXNoXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGluZSBkYXNoIG9mZnNldCBmb3IgdGhlIHN0cm9rZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBMaW5lIGRhc2ggb2Zmc2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldExpbmVEYXNoT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lRGFzaE9mZnNldF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpbmUgam9pbiB0eXBlIGZvciB0aGUgc3Ryb2tlLlxuICAgICAqIEByZXR1cm4ge0NhbnZhc0xpbmVKb2lufHVuZGVmaW5lZH0gTGluZSBqb2luLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldExpbmVKb2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lSm9pbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1pdGVyIGxpbWl0IGZvciB0aGUgc3Ryb2tlLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IE1pdGVyIGxpbWl0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLmdldE1pdGVyTGltaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pdGVyTGltaXRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHJva2Ugd2lkdGguXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gV2lkdGguXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29sb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldENvbG9yID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuY29sb3JfID0gY29sb3I7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgY2FwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH0gbGluZUNhcCBMaW5lIGNhcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRMaW5lQ2FwID0gZnVuY3Rpb24gKGxpbmVDYXApIHtcbiAgICAgICAgdGhpcy5saW5lQ2FwXyA9IGxpbmVDYXA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgZGFzaC5cbiAgICAgKlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIGxvd2VyIFtkbyBub3Qgc3VwcG9ydF1bbWRuXSB0aGVcbiAgICAgKiBgc2V0TGluZURhc2hgIG1ldGhvZCBvbiB0aGUgYENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRGAgYW5kIHRoZXJlZm9yZSB0aGlzXG4gICAgICogcHJvcGVydHkgd2lsbCBoYXZlIG5vIHZpc3VhbCBlZmZlY3QgaW4gdGhlc2UgYnJvd3NlcnMuXG4gICAgICpcbiAgICAgKiBbbWRuXTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRMaW5lRGFzaCNCcm93c2VyX2NvbXBhdGliaWxpdHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2ggTGluZSBkYXNoLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHJva2UucHJvdG90eXBlLnNldExpbmVEYXNoID0gZnVuY3Rpb24gKGxpbmVEYXNoKSB7XG4gICAgICAgIHRoaXMubGluZURhc2hfID0gbGluZURhc2g7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgZGFzaCBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGxpbmVEYXNoT2Zmc2V0IExpbmUgZGFzaCBvZmZzZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0cm9rZS5wcm90b3R5cGUuc2V0TGluZURhc2hPZmZzZXQgPSBmdW5jdGlvbiAobGluZURhc2hPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5saW5lRGFzaE9mZnNldF8gPSBsaW5lRGFzaE9mZnNldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGluZSBqb2luLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW52YXNMaW5lSm9pbnx1bmRlZmluZWR9IGxpbmVKb2luIExpbmUgam9pbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRMaW5lSm9pbiA9IGZ1bmN0aW9uIChsaW5lSm9pbikge1xuICAgICAgICB0aGlzLmxpbmVKb2luXyA9IGxpbmVKb2luO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtaXRlciBsaW1pdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gbWl0ZXJMaW1pdCBNaXRlciBsaW1pdC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRNaXRlckxpbWl0ID0gZnVuY3Rpb24gKG1pdGVyTGltaXQpIHtcbiAgICAgICAgdGhpcy5taXRlckxpbWl0XyA9IG1pdGVyTGltaXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHdpZHRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB3aWR0aCBXaWR0aC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3Ryb2tlLnByb3RvdHlwZS5zZXRXaWR0aCA9IGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgICB0aGlzLndpZHRoXyA9IHdpZHRoO1xuICAgIH07XG4gICAgcmV0dXJuIFN0cm9rZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdHJva2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJva2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1N0eWxlXG4gKi9cbmltcG9ydCBDaXJjbGVTdHlsZSBmcm9tICcuL0NpcmNsZS5qcyc7XG5pbXBvcnQgRmlsbCBmcm9tICcuL0ZpbGwuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgU3Ryb2tlIGZyb20gJy4vU3Ryb2tlLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBhbmQgYSBge251bWJlcn1gXG4gKiByZXByZXNlbnRpbmcgdGhlIHZpZXcncyByZXNvbHV0aW9uLiBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1N0eWxlfSBvciBhbiBhcnJheSBvZiB0aGVtLiBUaGlzIHdheSBlLmcuIGFcbiAqIHZlY3RvciBsYXllciBjYW4gYmUgc3R5bGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdW5kZWZpbmVkYCwgdGhlXG4gKiBmZWF0dXJlIHdpbGwgbm90IGJlIHJlbmRlcmVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBudW1iZXIpOihTdHlsZXxBcnJheTxTdHlsZT58dm9pZCl9IFN0eWxlRnVuY3Rpb25cbiAqL1xuLyoqXG4gKiBBIHtAbGluayBTdHlsZX0sIGFuIGFycmF5IG9mIHtAbGluayBTdHlsZX0sIG9yIGEge0BsaW5rIFN0eWxlRnVuY3Rpb259LlxuICogQHR5cGVkZWYge1N0eWxlfEFycmF5PFN0eWxlPnxTdHlsZUZ1bmN0aW9ufSBTdHlsZUxpa2VcbiAqL1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfSBhcyBhcmd1bWVudCBhbmQgcmV0dXJucyBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9nZW9tL0dlb21ldHJ5fSB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYW5kIHN0eWxlZCBmb3IgdGhlIGZlYXR1cmUuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UpOlxuICogICAgIChpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWQpfSBHZW9tZXRyeUZ1bmN0aW9uXG4gKi9cbi8qKlxuICogQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLiBUYWtlcyB0d28gYXJndW1lbnRzOlxuICpcbiAqIDEuIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgZ2VvbWV0cnkgaW4gR2VvSlNPTiBub3RhdGlvbi5cbiAqIDIuIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlcn5TdGF0ZX0gb2YgdGhlIGxheWVyIHJlbmRlcmVyLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT58QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4pLGltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5TdGF0ZSk6IHZvaWR9XG4gKiBSZW5kZXJGdW5jdGlvblxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufSBbZ2VvbWV0cnldIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnlcbiAqIG9yIGZ1bmN0aW9uIHJldHVybmluZyBhIGdlb21ldHJ5IHRvIHJlbmRlciBmb3IgdGhpcyBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IFtpbWFnZV0gSW1hZ2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge1JlbmRlckZ1bmN0aW9ufSBbcmVuZGVyZXJdIEN1c3RvbSByZW5kZXJlci4gV2hlbiBjb25maWd1cmVkLCBgZmlsbGAsIGBzdHJva2VgIGFuZCBgaW1hZ2VgIHdpbGwgYmVcbiAqIGlnbm9yZWQsIGFuZCB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBlYWNoIHJlbmRlciBmcmFtZSBmb3IgZWFjaCBnZW9tZXRyeS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW3N0cm9rZV0gU3Ryb2tlIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gW3RleHRdIFRleHQgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gWiBpbmRleC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250YWluZXIgZm9yIHZlY3RvciBmZWF0dXJlIHJlbmRlcmluZyBzdHlsZXMuIEFueSBjaGFuZ2VzIG1hZGUgdG8gdGhlIHN0eWxlXG4gKiBvciBpdHMgY2hpbGRyZW4gdGhyb3VnaCBgc2V0KigpYCBtZXRob2RzIHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZVxuICogZmVhdHVyZSBvciBsYXllciB0aGF0IHVzZXMgdGhlIHN0eWxlIGlzIHJlLXJlbmRlcmVkLlxuICpcbiAqICMjIEZlYXR1cmUgc3R5bGVzXG4gKlxuICogSWYgbm8gc3R5bGUgaXMgZGVmaW5lZCwgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHN0eWxlIGlzIHVzZWQ6XG4gKiBgYGBqc1xuICogIGltcG9ydCB7RmlsbCwgU3Ryb2tlLCBDaXJjbGUsIFN0eWxlfSBmcm9tICdvbC9zdHlsZSc7XG4gKlxuICogIHZhciBmaWxsID0gbmV3IEZpbGwoe1xuICogICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNCknXG4gKiAgfSk7XG4gKiAgdmFyIHN0cm9rZSA9IG5ldyBTdHJva2Uoe1xuICogICAgY29sb3I6ICcjMzM5OUNDJyxcbiAqICAgIHdpZHRoOiAxLjI1XG4gKiAgfSk7XG4gKiAgdmFyIHN0eWxlcyA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICBmaWxsOiBmaWxsLFxuICogICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICogICAgICAgIHJhZGl1czogNVxuICogICAgICB9KSxcbiAqICAgICAgZmlsbDogZmlsbCxcbiAqICAgICAgc3Ryb2tlOiBzdHJva2VcbiAqICAgIH0pXG4gKiAgXTtcbiAqIGBgYFxuICpcbiAqIEEgc2VwYXJhdGUgZWRpdGluZyBzdHlsZSBoYXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0czpcbiAqIGBgYGpzXG4gKiAgaW1wb3J0IHtGaWxsLCBTdHJva2UsIENpcmNsZSwgU3R5bGV9IGZyb20gJ29sL3N0eWxlJztcbiAqICBpbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJ29sL2dlb20vR2VvbWV0cnlUeXBlJztcbiAqXG4gKiAgdmFyIHdoaXRlID0gWzI1NSwgMjU1LCAyNTUsIDFdO1xuICogIHZhciBibHVlID0gWzAsIDE1MywgMjU1LCAxXTtcbiAqICB2YXIgd2lkdGggPSAzO1xuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl0gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMjU1LCAwLjVdXG4gKiAgICAgIH0pXG4gKiAgICB9KVxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9QT0xZR09OXSA9XG4gKiAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9MWUdPTl07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICogICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAqICAgICAgICB3aWR0aDogd2lkdGggKyAyXG4gKiAgICAgIH0pXG4gKiAgICB9KSxcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgY29sb3I6IGJsdWUsXG4gKiAgICAgICAgd2lkdGg6IHdpZHRoXG4gKiAgICAgIH0pXG4gKiAgICB9KVxuICogIF07XG4gKiAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklOR10gPVxuICogICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXSA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICByYWRpdXM6IHdpZHRoICogMixcbiAqICAgICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgICBjb2xvcjogYmx1ZVxuICogICAgICAgIH0pLFxuICogICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gKiAgICAgICAgICB3aWR0aDogd2lkdGggLyAyXG4gKiAgICAgICAgfSlcbiAqICAgICAgfSksXG4gKiAgICAgIHpJbmRleDogSW5maW5pdHlcbiAqICAgIH0pXG4gKiAgXTtcbiAqICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UXSA9XG4gKiAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdO1xuICogIHN0eWxlc1tHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTl0gPVxuICogICAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPTFlHT05dLmNvbmNhdChcbiAqICAgICAgICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTElORV9TVFJJTkddLFxuICogICAgICAgICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0lOVF1cbiAqICAgICAgKTtcbiAqIGBgYFxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFN0eWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIFN0eWxlIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3R5bGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUdlb21ldHJ5RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb247XG4gICAgICAgIGlmIChvcHRpb25zLmdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0R2VvbWV0cnkob3B0aW9ucy5nZW9tZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbF8gPSBvcHRpb25zLmZpbGwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZmlsbCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbWFnZV8gPSBvcHRpb25zLmltYWdlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSZW5kZXJGdW5jdGlvbnxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSBvcHRpb25zLnJlbmRlcmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJlbmRlcmVyIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHJva2VfID0gb3B0aW9ucy5zdHJva2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3Ryb2tlIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dF8gPSBvcHRpb25zLnRleHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGV4dCA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuekluZGV4XyA9IG9wdGlvbnMuekluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge1N0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5ICYmIHR5cGVvZiBnZW9tZXRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuY2xvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgICAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGltYWdlOiB0aGlzLmdldEltYWdlKCkgPyB0aGlzLmdldEltYWdlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRleHQ6IHRoaXMuZ2V0VGV4dCgpID8gdGhpcy5nZXRUZXh0KCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHpJbmRleDogdGhpcy5nZXRaSW5kZXgoKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1c3RvbSByZW5kZXJlciBmdW5jdGlvbiB0aGF0IHdhcyBjb25maWd1cmVkIHdpdGhcbiAgICAgKiB7QGxpbmsgI3NldFJlbmRlcmVyfSBvciB0aGUgYHJlbmRlcmVyYCBjb25zdHJ1Y3RvciBvcHRpb24uXG4gICAgICogQHJldHVybiB7UmVuZGVyRnVuY3Rpb258bnVsbH0gQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgYSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gZm9yIHRoaXMgc3R5bGUuIFdoZW4gc2V0LCBgZmlsbGAsIGBzdHJva2VgXG4gICAgICogYW5kIGBpbWFnZWAgb3B0aW9ucyBvZiB0aGUgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7UmVuZGVyRnVuY3Rpb258bnVsbH0gcmVuZGVyZXIgQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSByZW5kZXJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZ2VvbWV0cnkgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufVxuICAgICAqIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnkgb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBnZW9tZXRyeSB0aGF0IHdpbGxcbiAgICAgKiBiZSByZW5kZXJlZCB3aXRoIHRoaXMgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIGEgZ2VvbWV0cnkgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcmV0dXJuIHshR2VvbWV0cnlGdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBhIGZlYXR1cmVcbiAgICAgKiBhbmQgcmV0dXJucyB0aGUgZ2VvbWV0cnkgdG8gcmVuZGVyIGluc3RlYWQgb2YgdGhlIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldEdlb21ldHJ5RnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmaWxsIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBGaWxsIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0RmlsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsbF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZpbGwgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbCBGaWxsIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0RmlsbCA9IGZ1bmN0aW9uIChmaWxsKSB7XG4gICAgICAgIHRoaXMuZmlsbF8gPSBmaWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaW1hZ2Ugc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3Ryb2tlIHN0eWxlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLmdldFN0cm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3Ryb2tlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU3R5bGUucHJvdG90eXBlLnNldFN0cm9rZSA9IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgdGhpcy5zdHJva2VfID0gc3Ryb2tlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0ZXh0IHN0eWxlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fSBUZXh0IHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHRleHQgc3R5bGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dCBUZXh0IHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dF8gPSB0ZXh0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB6LWluZGV4IGZvciB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gWkluZGV4LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTdHlsZS5wcm90b3R5cGUuZ2V0WkluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy56SW5kZXhfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgZ2VvbWV0cnkgdGhhdCBpcyByZW5kZXJlZCBpbnN0ZWFkIG9mIHRoZSBmZWF0dXJlJ3MgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn0gZ2VvbWV0cnlcbiAgICAgKiAgICAgRmVhdHVyZSBwcm9wZXJ0eSBvciBnZW9tZXRyeSBvciBmdW5jdGlvbiByZXR1cm5pbmcgYSBnZW9tZXRyeSB0byByZW5kZXJcbiAgICAgKiAgICAgZm9yIHRoaXMgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGdlb21ldHJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZ2VvbWV0cnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGdlb21ldHJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZmVhdHVyZS5nZXQoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlfID0gZ2VvbWV0cnk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHotaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHpJbmRleCBaSW5kZXguXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFN0eWxlLnByb3RvdHlwZS5zZXRaSW5kZXggPSBmdW5jdGlvbiAoekluZGV4KSB7XG4gICAgICAgIHRoaXMuekluZGV4XyA9IHpJbmRleDtcbiAgICB9O1xuICAgIHJldHVybiBTdHlsZTtcbn0oKSk7XG4vKipcbiAqIENvbnZlcnQgdGhlIHByb3ZpZGVkIG9iamVjdCBpbnRvIGEgc3R5bGUgZnVuY3Rpb24uICBGdW5jdGlvbnMgcGFzc2VkIHRocm91Z2hcbiAqIHVuY2hhbmdlZC4gIEFycmF5cyBvZiBTdHlsZSBvciBzaW5nbGUgc3R5bGUgb2JqZWN0cyB3cmFwcGVkIGluIGFcbiAqIG5ldyBzdHlsZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7U3R5bGVGdW5jdGlvbnxBcnJheTxTdHlsZT58U3R5bGV9IG9ialxuICogICAgIEEgc3R5bGUgZnVuY3Rpb24sIGEgc2luZ2xlIHN0eWxlLCBvciBhbiBhcnJheSBvZiBzdHlsZXMuXG4gKiBAcmV0dXJuIHtTdHlsZUZ1bmN0aW9ufSBBIHN0eWxlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9GdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc3R5bGVGdW5jdGlvbjtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzdHlsZUZ1bmN0aW9uID0gb2JqO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxTdHlsZT59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc3R5bGVzXzE7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIHN0eWxlc18xID0gb2JqO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8ob2JqKS5nZXRaSW5kZXgpID09PSAnZnVuY3Rpb24nLCA0MSk7IC8vIEV4cGVjdGVkIGFuIGBTdHlsZWAgb3IgYW4gYXJyYXkgb2YgYFN0eWxlYFxuICAgICAgICAgICAgdmFyIHN0eWxlID0gLyoqIEB0eXBlIHtTdHlsZX0gKi8gKG9iaik7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IFtzdHlsZV07XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGVGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZXNfMTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlRnVuY3Rpb247XG59XG4vKipcbiAqIEB0eXBlIHtBcnJheTxTdHlsZT59XG4gKi9cbnZhciBkZWZhdWx0U3R5bGVzID0gbnVsbDtcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHJldHVybiB7QXJyYXk8U3R5bGU+fSBTdHlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRTdHlsZShmZWF0dXJlLCByZXNvbHV0aW9uKSB7XG4gICAgLy8gV2UgZG9uJ3QgdXNlIGFuIGltbWVkaWF0ZWx5LWludm9rZWQgZnVuY3Rpb25cbiAgICAvLyBhbmQgYSBjbG9zdXJlIHNvIHdlIGRvbid0IGdldCBhbiBlcnJvciBhdCBzY3JpcHQgZXZhbHVhdGlvbiB0aW1lIGluXG4gICAgLy8gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBDYW52YXMuIChpbXBvcnQoXCIuL0NpcmNsZS5qc1wiKS5DaXJjbGVTdHlsZSBkb2VzXG4gICAgLy8gY2FudmFzLmdldENvbnRleHQoJzJkJykgYXQgY29uc3RydWN0aW9uIHRpbWUsIHdoaWNoIHdpbGwgY2F1c2UgYW4uZXJyb3JcbiAgICAvLyBpbiBzdWNoIGJyb3dzZXJzLilcbiAgICBpZiAoIWRlZmF1bHRTdHlsZXMpIHtcbiAgICAgICAgdmFyIGZpbGwgPSBuZXcgRmlsbCh7XG4gICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC40KScsXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc3Ryb2tlID0gbmV3IFN0cm9rZSh7XG4gICAgICAgICAgICBjb2xvcjogJyMzMzk5Q0MnLFxuICAgICAgICAgICAgd2lkdGg6IDEuMjUsXG4gICAgICAgIH0pO1xuICAgICAgICBkZWZhdWx0U3R5bGVzID0gW1xuICAgICAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgICAgICBpbWFnZTogbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogNSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBmaWxsOiBmaWxsLFxuICAgICAgICAgICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0U3R5bGVzO1xufVxuLyoqXG4gKiBEZWZhdWx0IHN0eWxlcyBmb3IgZWRpdGluZyBmZWF0dXJlcy5cbiAqIEByZXR1cm4ge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0LCBBcnJheTxTdHlsZT4+fSBTdHlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVkaXRpbmdTdHlsZSgpIHtcbiAgICAvKiogQHR5cGUge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5VHlwZS5qc1wiKS5kZWZhdWx0LCBBcnJheTxTdHlsZT4+fSAqL1xuICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICB2YXIgd2hpdGUgPSBbMjU1LCAyNTUsIDI1NSwgMV07XG4gICAgdmFyIGJsdWUgPSBbMCwgMTUzLCAyNTUsIDFdO1xuICAgIHZhciB3aWR0aCA9IDM7XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXSA9IFtcbiAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAyNTUsIDAuNV0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT05dID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSA9IFtcbiAgICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCArIDIsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBTdHlsZSh7XG4gICAgICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiBibHVlLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICBdO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuTVVMVElfTElORV9TVFJJTkddID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR107XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5DSVJDTEVdID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXS5jb25jYXQoc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10pO1xuICAgIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdID0gW1xuICAgICAgICBuZXcgU3R5bGUoe1xuICAgICAgICAgICAgaW1hZ2U6IG5ldyBDaXJjbGVTdHlsZSh7XG4gICAgICAgICAgICAgICAgcmFkaXVzOiB3aWR0aCAqIDIsXG4gICAgICAgICAgICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogYmx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHpJbmRleDogSW5maW5pdHksXG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgc3R5bGVzW0dlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVF0gPSBzdHlsZXNbR2VvbWV0cnlUeXBlLlBPSU5UXTtcbiAgICBzdHlsZXNbR2VvbWV0cnlUeXBlLkdFT01FVFJZX0NPTExFQ1RJT05dID0gc3R5bGVzW0dlb21ldHJ5VHlwZS5QT0xZR09OXS5jb25jYXQoc3R5bGVzW0dlb21ldHJ5VHlwZS5MSU5FX1NUUklOR10sIHN0eWxlc1tHZW9tZXRyeVR5cGUuUE9JTlRdKTtcbiAgICByZXR1cm4gc3R5bGVzO1xufVxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGEgZmVhdHVyZSBhbmQgcmV0dXJucyBpdHMgZGVmYXVsdCBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlIHRvIGdldCB0aGUgZ2VvbWV0cnkgZm9yLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBHZW9tZXRyeSB0byByZW5kZXIuXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICByZXR1cm4gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xufVxuZXhwb3J0IGRlZmF1bHQgU3R5bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvVGV4dFBsYWNlbWVudFxuICovXG4vKipcbiAqIFRleHQgcGxhY2VtZW50LiBPbmUgb2YgYCdwb2ludCdgLCBgJ2xpbmUnYC4gRGVmYXVsdCBpcyBgJ3BvaW50J2AuIE5vdGUgdGhhdFxuICogYCdsaW5lJ2AgcmVxdWlyZXMgdGhlIHVuZGVybHlpbmcgZ2VvbWV0cnkgdG8gYmUgYSB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTGluZVN0cmluZ35MaW5lU3RyaW5nfSxcbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9Qb2x5Z29uflBvbHlnb259LCB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTXVsdGlMaW5lU3RyaW5nfk11bHRpTGluZVN0cmluZ30gb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9NdWx0aVBvbHlnb25+TXVsdGlQb2x5Z29ufS5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQT0lOVDogJ3BvaW50JyxcbiAgICBMSU5FOiAnbGluZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dFBsYWNlbWVudC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdHJhbnNmb3JtXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG4vKipcbiAqIEFuIGFycmF5IHJlcHJlc2VudGluZyBhbiBhZmZpbmUgMmQgdHJhbnNmb3JtYXRpb24gZm9yIHVzZSB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3RyYW5zZm9ybX0gZnVuY3Rpb25zLiBUaGUgYXJyYXkgaGFzIDYgZWxlbWVudHMuXG4gKiBAdHlwZWRlZiB7IUFycmF5PG51bWJlcj59IFRyYW5zZm9ybVxuICogQGFwaVxuICovXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgYWZmaW5lIDJkIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucy4gVGhlIGZ1bmN0aW9ucyB3b3JrIG9uIGFuXG4gKiBhcnJheSBvZiA2IGVsZW1lbnRzLiBUaGUgZWxlbWVudCBvcmRlciBpcyBjb21wYXRpYmxlIHdpdGggdGhlIFtTVkdNYXRyaXhcbiAqIGludGVyZmFjZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NWR01hdHJpeCkgYW5kIGlzXG4gKiBhIHN1YnNldCAoZWxlbWVudHMgYSB0byBmKSBvZiBhIDPDlzMgbWF0cml4OlxuICogYGBgXG4gKiBbIGEgYyBlIF1cbiAqIFsgYiBkIGYgXVxuICogWyAwIDAgMSBdXG4gKiBgYGBcbiAqL1xuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge1RyYW5zZm9ybX1cbiAqL1xudmFyIHRtcF8gPSBuZXcgQXJyYXkoNik7XG4vKipcbiAqIENyZWF0ZSBhbiBpZGVudGl0eSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBJZGVudGl0eSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIFsxLCAwLCAwLCAxLCAwLCAwXTtcbn1cbi8qKlxuICogUmVzZXRzIHRoZSBnaXZlbiB0cmFuc2Zvcm0gdG8gYW4gaWRlbnRpdHkgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQodHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHNldCh0cmFuc2Zvcm0sIDEsIDAsIDAsIDEsIDAsIDApO1xufVxuLyoqXG4gKiBNdWx0aXBseSB0aGUgdW5kZXJseWluZyBtYXRyaWNlcyBvZiB0d28gdHJhbnNmb3JtcyBhbmQgcmV0dXJuIHRoZSByZXN1bHQgaW5cbiAqIHRoZSBmaXJzdCB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTEgVHJhbnNmb3JtIHBhcmFtZXRlcnMgb2YgbWF0cml4IDEuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTIgVHJhbnNmb3JtIHBhcmFtZXRlcnMgb2YgbWF0cml4IDIuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIG11bHRpcGxpZWQgd2l0aCB0cmFuc2Zvcm0yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkodHJhbnNmb3JtMSwgdHJhbnNmb3JtMikge1xuICAgIHZhciBhMSA9IHRyYW5zZm9ybTFbMF07XG4gICAgdmFyIGIxID0gdHJhbnNmb3JtMVsxXTtcbiAgICB2YXIgYzEgPSB0cmFuc2Zvcm0xWzJdO1xuICAgIHZhciBkMSA9IHRyYW5zZm9ybTFbM107XG4gICAgdmFyIGUxID0gdHJhbnNmb3JtMVs0XTtcbiAgICB2YXIgZjEgPSB0cmFuc2Zvcm0xWzVdO1xuICAgIHZhciBhMiA9IHRyYW5zZm9ybTJbMF07XG4gICAgdmFyIGIyID0gdHJhbnNmb3JtMlsxXTtcbiAgICB2YXIgYzIgPSB0cmFuc2Zvcm0yWzJdO1xuICAgIHZhciBkMiA9IHRyYW5zZm9ybTJbM107XG4gICAgdmFyIGUyID0gdHJhbnNmb3JtMls0XTtcbiAgICB2YXIgZjIgPSB0cmFuc2Zvcm0yWzVdO1xuICAgIHRyYW5zZm9ybTFbMF0gPSBhMSAqIGEyICsgYzEgKiBiMjtcbiAgICB0cmFuc2Zvcm0xWzFdID0gYjEgKiBhMiArIGQxICogYjI7XG4gICAgdHJhbnNmb3JtMVsyXSA9IGExICogYzIgKyBjMSAqIGQyO1xuICAgIHRyYW5zZm9ybTFbM10gPSBiMSAqIGMyICsgZDEgKiBkMjtcbiAgICB0cmFuc2Zvcm0xWzRdID0gYTEgKiBlMiArIGMxICogZjIgKyBlMTtcbiAgICB0cmFuc2Zvcm0xWzVdID0gYjEgKiBlMiArIGQxICogZjIgKyBmMTtcbiAgICByZXR1cm4gdHJhbnNmb3JtMTtcbn1cbi8qKlxuICogU2V0IHRoZSB0cmFuc2Zvcm0gY29tcG9uZW50cyBhLWYgb24gYSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgYSBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFRoZSBiIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGMgVGhlIGMgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gZCBUaGUgZCBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlIFRoZSBlIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGYgVGhlIGYgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBNYXRyaXggd2l0aCB0cmFuc2Zvcm0gYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldCh0cmFuc2Zvcm0sIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICB0cmFuc2Zvcm1bMF0gPSBhO1xuICAgIHRyYW5zZm9ybVsxXSA9IGI7XG4gICAgdHJhbnNmb3JtWzJdID0gYztcbiAgICB0cmFuc2Zvcm1bM10gPSBkO1xuICAgIHRyYW5zZm9ybVs0XSA9IGU7XG4gICAgdHJhbnNmb3JtWzVdID0gZjtcbiAgICByZXR1cm4gdHJhbnNmb3JtO1xufVxuLyoqXG4gKiBTZXQgdHJhbnNmb3JtIG9uIG9uZSBtYXRyaXggZnJvbSBhbm90aGVyIG1hdHJpeC5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSBNYXRyaXggdG8gc2V0IHRyYW5zZm9ybSB0by5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMiBNYXRyaXggdG8gc2V0IHRyYW5zZm9ybSBmcm9tLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSB3aXRoIHRyYW5zZm9ybSBmcm9tIHRyYW5zZm9ybTIgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEZyb21BcnJheSh0cmFuc2Zvcm0xLCB0cmFuc2Zvcm0yKSB7XG4gICAgdHJhbnNmb3JtMVswXSA9IHRyYW5zZm9ybTJbMF07XG4gICAgdHJhbnNmb3JtMVsxXSA9IHRyYW5zZm9ybTJbMV07XG4gICAgdHJhbnNmb3JtMVsyXSA9IHRyYW5zZm9ybTJbMl07XG4gICAgdHJhbnNmb3JtMVszXSA9IHRyYW5zZm9ybTJbM107XG4gICAgdHJhbnNmb3JtMVs0XSA9IHRyYW5zZm9ybTJbNF07XG4gICAgdHJhbnNmb3JtMVs1XSA9IHRyYW5zZm9ybTJbNV07XG4gICAgcmV0dXJuIHRyYW5zZm9ybTE7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIGNvb3JkaW5hdGUgd2l0aCB0aGUgZ2l2ZW4gdHJhbnNmb3JtIHJldHVybmluZyB0aGVcbiAqIHJlc3VsdGluZywgdHJhbnNmb3JtZWQgY29vcmRpbmF0ZS4gVGhlIGNvb3JkaW5hdGUgd2lsbCBiZSBtb2RpZmllZCBpbi1wbGFjZS5cbiAqXG4gKiBAcGFyYW0ge1RyYW5zZm9ybX0gdHJhbnNmb3JtIFRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZSB0byB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSByZXR1cm4gY29vcmRpbmF0ZSBzbyB0aGF0IG9wZXJhdGlvbnMgY2FuIGJlXG4gKiAgICAgY2hhaW5lZCB0b2dldGhlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5KHRyYW5zZm9ybSwgY29vcmRpbmF0ZSkge1xuICAgIHZhciB4ID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeSA9IGNvb3JkaW5hdGVbMV07XG4gICAgY29vcmRpbmF0ZVswXSA9IHRyYW5zZm9ybVswXSAqIHggKyB0cmFuc2Zvcm1bMl0gKiB5ICsgdHJhbnNmb3JtWzRdO1xuICAgIGNvb3JkaW5hdGVbMV0gPSB0cmFuc2Zvcm1bMV0gKiB4ICsgdHJhbnNmb3JtWzNdICogeSArIHRyYW5zZm9ybVs1XTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQXBwbGllcyByb3RhdGlvbiB0byB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgcm90YXRlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUodHJhbnNmb3JtLCBhbmdsZSkge1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgY29zLCBzaW4sIC1zaW4sIGNvcywgMCwgMCkpO1xufVxuLyoqXG4gKiBBcHBsaWVzIHNjYWxlIHRvIGEgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IHggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0geSBTY2FsZSBmYWN0b3IgeS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBzY2FsZWQgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUodHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgcmV0dXJuIG11bHRpcGx5KHRyYW5zZm9ybSwgc2V0KHRtcF8sIHgsIDAsIDAsIHksIDAsIDApKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHNjYWxlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdGFyZ2V0IFRyYW5zZm9ybSB0byBvdmVyd3JpdGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBTY2FsZSBmYWN0b3IgeC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFNjYWxlIGZhY3RvciB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIHNjYWxlIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTY2FsZSh0YXJnZXQsIHgsIHkpIHtcbiAgICByZXR1cm4gc2V0KHRhcmdldCwgeCwgMCwgMCwgeSwgMCwgMCk7XG59XG4vKipcbiAqIEFwcGxpZXMgdHJhbnNsYXRpb24gdG8gdGhlIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeCBUcmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5IFRyYW5zbGF0aW9uIHkuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgdHJhbnNsYXRlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUodHJhbnNmb3JtLCBkeCwgZHkpIHtcbiAgICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgMSwgMCwgMCwgMSwgZHgsIGR5KSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBjb21wb3NpdGUgdHJhbnNmb3JtIGdpdmVuIGFuIGluaXRpYWwgdHJhbnNsYXRpb24sIHNjYWxlLCByb3RhdGlvbiwgYW5kXG4gKiBmaW5hbCB0cmFuc2xhdGlvbiAoaW4gdGhhdCBvcmRlciBvbmx5LCBub3QgY29tbXV0YXRpdmUpLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVGhlIHRyYW5zZm9ybSAod2lsbCBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gKiBAcGFyYW0ge251bWJlcn0gZHgxIEluaXRpYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTEgSW5pdGlhbCB0cmFuc2xhdGlvbiB5LlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHN5IFNjYWxlIGZhY3RvciB5LlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIChpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDIgRmluYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTIgRmluYWwgdHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBjb21wb3NpdGUgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZSh0cmFuc2Zvcm0sIGR4MSwgZHkxLCBzeCwgc3ksIGFuZ2xlLCBkeDIsIGR5Mikge1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB0cmFuc2Zvcm1bMF0gPSBzeCAqIGNvcztcbiAgICB0cmFuc2Zvcm1bMV0gPSBzeSAqIHNpbjtcbiAgICB0cmFuc2Zvcm1bMl0gPSAtc3ggKiBzaW47XG4gICAgdHJhbnNmb3JtWzNdID0gc3kgKiBjb3M7XG4gICAgdHJhbnNmb3JtWzRdID0gZHgyICogc3ggKiBjb3MgLSBkeTIgKiBzeCAqIHNpbiArIGR4MTtcbiAgICB0cmFuc2Zvcm1bNV0gPSBkeDIgKiBzeSAqIHNpbiArIGR5MiAqIHN5ICogY29zICsgZHkxO1xuICAgIHJldHVybiB0cmFuc2Zvcm07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBjb21wb3NpdGUgdHJhbnNmb3JtIGdpdmVuIGFuIGluaXRpYWwgdHJhbnNsYXRpb24sIHNjYWxlLCByb3RhdGlvbiwgYW5kXG4gKiBmaW5hbCB0cmFuc2xhdGlvbiAoaW4gdGhhdCBvcmRlciBvbmx5LCBub3QgY29tbXV0YXRpdmUpLiBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybVxuICogc3RyaW5nIGNhbiBiZSBhcHBsaWVkIGFzIGB0cmFuc2Zvcm1gIHBvcnBlcnR5IG9mIGFuIEhUTUxFbGVtZW50J3Mgc3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZHgxIEluaXRpYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTEgSW5pdGlhbCB0cmFuc2xhdGlvbiB5LlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHN5IFNjYWxlIGZhY3RvciB5LlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIChpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDIgRmluYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTIgRmluYWwgdHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbXBvc2l0ZSBjc3MgdHJhbnNmb3JtLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZUNzc1RyYW5zZm9ybShkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpIHtcbiAgICByZXR1cm4gdG9TdHJpbmcoY29tcG9zZShjcmVhdGUoKSwgZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKSk7XG59XG4vKipcbiAqIEludmVydCB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBzb3VyY2UgVGhlIHNvdXJjZSB0cmFuc2Zvcm0gdG8gaW52ZXJ0LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGludmVydGVkIChzb3VyY2UpIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChzb3VyY2UpIHtcbiAgICByZXR1cm4gbWFrZUludmVyc2Uoc291cmNlLCBzb3VyY2UpO1xufVxuLyoqXG4gKiBJbnZlcnQgdGhlIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdGFyZ2V0IFRyYW5zZm9ybSB0byBiZSBzZXQgYXMgdGhlIGludmVyc2Ugb2ZcbiAqICAgICB0aGUgc291cmNlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gc291cmNlIFRoZSBzb3VyY2UgdHJhbnNmb3JtIHRvIGludmVydC5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBpbnZlcnRlZCAodGFyZ2V0KSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSW52ZXJzZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHZhciBkZXQgPSBkZXRlcm1pbmFudChzb3VyY2UpO1xuICAgIGFzc2VydChkZXQgIT09IDAsIDMyKTsgLy8gVHJhbnNmb3JtYXRpb24gbWF0cml4IGNhbm5vdCBiZSBpbnZlcnRlZFxuICAgIHZhciBhID0gc291cmNlWzBdO1xuICAgIHZhciBiID0gc291cmNlWzFdO1xuICAgIHZhciBjID0gc291cmNlWzJdO1xuICAgIHZhciBkID0gc291cmNlWzNdO1xuICAgIHZhciBlID0gc291cmNlWzRdO1xuICAgIHZhciBmID0gc291cmNlWzVdO1xuICAgIHRhcmdldFswXSA9IGQgLyBkZXQ7XG4gICAgdGFyZ2V0WzFdID0gLWIgLyBkZXQ7XG4gICAgdGFyZ2V0WzJdID0gLWMgLyBkZXQ7XG4gICAgdGFyZ2V0WzNdID0gYSAvIGRldDtcbiAgICB0YXJnZXRbNF0gPSAoYyAqIGYgLSBkICogZSkgLyBkZXQ7XG4gICAgdGFyZ2V0WzVdID0gLShhICogZiAtIGIgKiBlKSAvIGRldDtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZXRlcm1pbmFudCBvZiB0aGUgZ2l2ZW4gbWF0cml4LlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBtYXQgTWF0cml4LlxuICogQHJldHVybiB7bnVtYmVyfSBEZXRlcm1pbmFudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KG1hdCkge1xuICAgIHJldHVybiBtYXRbMF0gKiBtYXRbM10gLSBtYXRbMV0gKiBtYXRbMl07XG59XG4vKipcbiAqIEEgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHRyYW5zZm9ybS4gIFRoaXMgY2FuIGJlIHVzZWRcbiAqIGZvciBDU1MgdHJhbnNmb3Jtcy5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gbWF0IE1hdHJpeC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRyYW5zZm9ybSBhcyBhIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nKG1hdCkge1xuICAgIHJldHVybiAnbWF0cml4KCcgKyBtYXQuam9pbignLCAnKSArICcpJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdXRpbFxuICovXG4vKipcbiAqIEByZXR1cm4gez99IEFueSByZXR1cm4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhYnN0cmFjdCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHs/fSAqLyAoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZC4nKTtcbiAgICB9KSgpKTtcbn1cbi8qKlxuICogQ291bnRlciBmb3IgZ2V0VWlkLlxuICogQHR5cGUge251bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciB1aWRDb3VudGVyXyA9IDA7XG4vKipcbiAqIEdldHMgYSB1bmlxdWUgSUQgZm9yIGFuIG9iamVjdC4gVGhpcyBtdXRhdGVzIHRoZSBvYmplY3Qgc28gdGhhdCBmdXJ0aGVyIGNhbGxzXG4gKiB3aXRoIHRoZSBzYW1lIG9iamVjdCBhcyBhIHBhcmFtZXRlciByZXR1cm5zIHRoZSBzYW1lIHZhbHVlLiBVbmlxdWUgSURzIGFyZSBnZW5lcmF0ZWRcbiAqIGFzIGEgc3RyaWN0bHkgaW5jcmVhc2luZyBzZXF1ZW5jZS4gQWRhcHRlZCBmcm9tIGdvb2cuZ2V0VWlkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBnZXQgdGhlIHVuaXF1ZSBJRCBmb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB1bmlxdWUgSUQgZm9yIHRoZSBvYmplY3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVaWQob2JqKSB7XG4gICAgcmV0dXJuIG9iai5vbF91aWQgfHwgKG9iai5vbF91aWQgPSBTdHJpbmcoKyt1aWRDb3VudGVyXykpO1xufVxuLyoqXG4gKiBPcGVuTGF5ZXJzIHZlcnNpb24uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIFZFUlNJT04gPSAnNi41LjAnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiLCIhZnVuY3Rpb24odCxpKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1pKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShpKToodD10fHxzZWxmKS5SQnVzaD1pKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQscixlLGEsaCl7IWZ1bmN0aW9uIHQobixyLGUsYSxoKXtmb3IoO2E+ZTspe2lmKGEtZT42MDApe3ZhciBvPWEtZSsxLHM9ci1lKzEsbD1NYXRoLmxvZyhvKSxmPS41Kk1hdGguZXhwKDIqbC8zKSx1PS41Kk1hdGguc3FydChsKmYqKG8tZikvbykqKHMtby8yPDA/LTE6MSksbT1NYXRoLm1heChlLE1hdGguZmxvb3Ioci1zKmYvbyt1KSksYz1NYXRoLm1pbihhLE1hdGguZmxvb3Iocisoby1zKSpmL28rdSkpO3QobixyLG0sYyxoKX12YXIgcD1uW3JdLGQ9ZSx4PWE7Zm9yKGkobixlLHIpLGgoblthXSxwKT4wJiZpKG4sZSxhKTtkPHg7KXtmb3IoaShuLGQseCksZCsrLHgtLTtoKG5bZF0scCk8MDspZCsrO2Zvcig7aChuW3hdLHApPjA7KXgtLX0wPT09aChuW2VdLHApP2kobixlLHgpOmkobiwrK3gsYSkseDw9ciYmKGU9eCsxKSxyPD14JiYoYT14LTEpfX0odCxyLGV8fDAsYXx8dC5sZW5ndGgtMSxofHxuKX1mdW5jdGlvbiBpKHQsaSxuKXt2YXIgcj10W2ldO3RbaV09dFtuXSx0W25dPXJ9ZnVuY3Rpb24gbih0LGkpe3JldHVybiB0PGk/LTE6dD5pPzE6MH12YXIgcj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD05KSx0aGlzLl9tYXhFbnRyaWVzPU1hdGgubWF4KDQsdCksdGhpcy5fbWluRW50cmllcz1NYXRoLm1heCgyLE1hdGguY2VpbCguNCp0aGlzLl9tYXhFbnRyaWVzKSksdGhpcy5jbGVhcigpfTtmdW5jdGlvbiBlKHQsaSxuKXtpZighbilyZXR1cm4gaS5pbmRleE9mKHQpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKWlmKG4odCxpW3JdKSlyZXR1cm4gcjtyZXR1cm4tMX1mdW5jdGlvbiBhKHQsaSl7aCh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsaSx0KX1mdW5jdGlvbiBoKHQsaSxuLHIsZSl7ZXx8KGU9cChudWxsKSksZS5taW5YPTEvMCxlLm1pblk9MS8wLGUubWF4WD0tMS8wLGUubWF4WT0tMS8wO2Zvcih2YXIgYT1pO2E8bjthKyspe3ZhciBoPXQuY2hpbGRyZW5bYV07byhlLHQubGVhZj9yKGgpOmgpfXJldHVybiBlfWZ1bmN0aW9uIG8odCxpKXtyZXR1cm4gdC5taW5YPU1hdGgubWluKHQubWluWCxpLm1pblgpLHQubWluWT1NYXRoLm1pbih0Lm1pblksaS5taW5ZKSx0Lm1heFg9TWF0aC5tYXgodC5tYXhYLGkubWF4WCksdC5tYXhZPU1hdGgubWF4KHQubWF4WSxpLm1heFkpLHR9ZnVuY3Rpb24gcyh0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfWZ1bmN0aW9uIGwodCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX1mdW5jdGlvbiBmKHQpe3JldHVybih0Lm1heFgtdC5taW5YKSoodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5tYXhYLXQubWluWCsodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gbSh0LGkpe3JldHVybiB0Lm1pblg8PWkubWluWCYmdC5taW5ZPD1pLm1pblkmJmkubWF4WDw9dC5tYXhYJiZpLm1heFk8PXQubWF4WX1mdW5jdGlvbiBjKHQsaSl7cmV0dXJuIGkubWluWDw9dC5tYXhYJiZpLm1pblk8PXQubWF4WSYmaS5tYXhYPj10Lm1pblgmJmkubWF4WT49dC5taW5ZfWZ1bmN0aW9uIHAodCl7cmV0dXJue2NoaWxkcmVuOnQsaGVpZ2h0OjEsbGVhZjohMCxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfX1mdW5jdGlvbiBkKGksbixyLGUsYSl7Zm9yKHZhciBoPVtuLHJdO2gubGVuZ3RoOylpZighKChyPWgucG9wKCkpLShuPWgucG9wKCkpPD1lKSl7dmFyIG89bitNYXRoLmNlaWwoKHItbikvZS8yKSplO3QoaSxvLG4scixhKSxoLnB1c2gobixvLG8scil9fXJldHVybiByLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxsKHRoaXMuZGF0YSxbXSl9LHIucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGEsbj1bXTtpZighYyh0LGkpKXJldHVybiBuO2Zvcih2YXIgcj10aGlzLnRvQkJveCxlPVtdO2k7KXtmb3IodmFyIGE9MDthPGkuY2hpbGRyZW4ubGVuZ3RoO2ErKyl7dmFyIGg9aS5jaGlsZHJlblthXSxvPWkubGVhZj9yKGgpOmg7Yyh0LG8pJiYoaS5sZWFmP24ucHVzaChoKTptKHQsbyk/dGhpcy5fYWxsKGgsbik6ZS5wdXNoKGgpKX1pPWUucG9wKCl9cmV0dXJuIG59LHIucHJvdG90eXBlLmNvbGxpZGVzPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YTtpZighYyh0LGkpKXJldHVybiExO2Zvcih2YXIgbj1bXTtpOyl7Zm9yKHZhciByPTA7cjxpLmNoaWxkcmVuLmxlbmd0aDtyKyspe3ZhciBlPWkuY2hpbGRyZW5bcl0sYT1pLmxlYWY/dGhpcy50b0JCb3goZSk6ZTtpZihjKHQsYSkpe2lmKGkubGVhZnx8bSh0LGEpKXJldHVybiEwO24ucHVzaChlKX19aT1uLnBvcCgpfXJldHVybiExfSxyLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy5pbnNlcnQodFtpXSk7cmV0dXJuIHRoaXN9dmFyIG49dGhpcy5fYnVpbGQodC5zbGljZSgpLDAsdC5sZW5ndGgtMSwwKTtpZih0aGlzLmRhdGEuY2hpbGRyZW4ubGVuZ3RoKWlmKHRoaXMuZGF0YS5oZWlnaHQ9PT1uLmhlaWdodCl0aGlzLl9zcGxpdFJvb3QodGhpcy5kYXRhLG4pO2Vsc2V7aWYodGhpcy5kYXRhLmhlaWdodDxuLmhlaWdodCl7dmFyIHI9dGhpcy5kYXRhO3RoaXMuZGF0YT1uLG49cn10aGlzLl9pbnNlcnQobix0aGlzLmRhdGEuaGVpZ2h0LW4uaGVpZ2h0LTEsITApfWVsc2UgdGhpcy5kYXRhPW47cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5faW5zZXJ0KHQsdGhpcy5kYXRhLmhlaWdodC0xKSx0aGlzfSxyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGE9cChbXSksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuIHRoaXM7Zm9yKHZhciBuLHIsYSxoPXRoaXMuZGF0YSxvPXRoaXMudG9CQm94KHQpLHM9W10sbD1bXTtofHxzLmxlbmd0aDspe2lmKGh8fChoPXMucG9wKCkscj1zW3MubGVuZ3RoLTFdLG49bC5wb3AoKSxhPSEwKSxoLmxlYWYpe3ZhciBmPWUodCxoLmNoaWxkcmVuLGkpO2lmKC0xIT09ZilyZXR1cm4gaC5jaGlsZHJlbi5zcGxpY2UoZiwxKSxzLnB1c2goaCksdGhpcy5fY29uZGVuc2UocyksdGhpc31hfHxoLmxlYWZ8fCFtKGgsbyk/cj8obisrLGg9ci5jaGlsZHJlbltuXSxhPSExKTpoPW51bGw6KHMucHVzaChoKSxsLnB1c2gobiksbj0wLHI9aCxoPWguY2hpbGRyZW5bMF0pfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS50b0JCb3g9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHIucHJvdG90eXBlLmNvbXBhcmVNaW5YPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9LHIucHJvdG90eXBlLmNvbXBhcmVNaW5ZPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9LHIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LHIucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGE9dCx0aGlzfSxyLnByb3RvdHlwZS5fYWxsPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBuPVtdO3Q7KXQubGVhZj9pLnB1c2guYXBwbHkoaSx0LmNoaWxkcmVuKTpuLnB1c2guYXBwbHkobix0LmNoaWxkcmVuKSx0PW4ucG9wKCk7cmV0dXJuIGl9LHIucHJvdG90eXBlLl9idWlsZD1mdW5jdGlvbih0LGksbixyKXt2YXIgZSxoPW4taSsxLG89dGhpcy5fbWF4RW50cmllcztpZihoPD1vKXJldHVybiBhKGU9cCh0LnNsaWNlKGksbisxKSksdGhpcy50b0JCb3gpLGU7cnx8KHI9TWF0aC5jZWlsKE1hdGgubG9nKGgpL01hdGgubG9nKG8pKSxvPU1hdGguY2VpbChoL01hdGgucG93KG8sci0xKSkpLChlPXAoW10pKS5sZWFmPSExLGUuaGVpZ2h0PXI7dmFyIHM9TWF0aC5jZWlsKGgvbyksbD1zKk1hdGguY2VpbChNYXRoLnNxcnQobykpO2QodCxpLG4sbCx0aGlzLmNvbXBhcmVNaW5YKTtmb3IodmFyIGY9aTtmPD1uO2YrPWwpe3ZhciB1PU1hdGgubWluKGYrbC0xLG4pO2QodCxmLHUscyx0aGlzLmNvbXBhcmVNaW5ZKTtmb3IodmFyIG09ZjttPD11O20rPXMpe3ZhciBjPU1hdGgubWluKG0rcy0xLHUpO2UuY2hpbGRyZW4ucHVzaCh0aGlzLl9idWlsZCh0LG0sYyxyLTEpKX19cmV0dXJuIGEoZSx0aGlzLnRvQkJveCksZX0sci5wcm90b3R5cGUuX2Nob29zZVN1YnRyZWU9ZnVuY3Rpb24odCxpLG4scil7Zm9yKDtyLnB1c2goaSksIWkubGVhZiYmci5sZW5ndGgtMSE9PW47KXtmb3IodmFyIGU9MS8wLGE9MS8wLGg9dm9pZCAwLG89MDtvPGkuY2hpbGRyZW4ubGVuZ3RoO28rKyl7dmFyIHM9aS5jaGlsZHJlbltvXSxsPWYocyksdT0obT10LGM9cywoTWF0aC5tYXgoYy5tYXhYLG0ubWF4WCktTWF0aC5taW4oYy5taW5YLG0ubWluWCkpKihNYXRoLm1heChjLm1heFksbS5tYXhZKS1NYXRoLm1pbihjLm1pblksbS5taW5ZKSktbCk7dTxhPyhhPXUsZT1sPGU/bDplLGg9cyk6dT09PWEmJmw8ZSYmKGU9bCxoPXMpfWk9aHx8aS5jaGlsZHJlblswXX12YXIgbSxjO3JldHVybiBpfSxyLnByb3RvdHlwZS5faW5zZXJ0PWZ1bmN0aW9uKHQsaSxuKXt2YXIgcj1uP3Q6dGhpcy50b0JCb3godCksZT1bXSxhPXRoaXMuX2Nob29zZVN1YnRyZWUocix0aGlzLmRhdGEsaSxlKTtmb3IoYS5jaGlsZHJlbi5wdXNoKHQpLG8oYSxyKTtpPj0wJiZlW2ldLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdChlLGkpLGktLTt0aGlzLl9hZGp1c3RQYXJlbnRCQm94ZXMocixlLGkpfSxyLnByb3RvdHlwZS5fc3BsaXQ9ZnVuY3Rpb24odCxpKXt2YXIgbj10W2ldLHI9bi5jaGlsZHJlbi5sZW5ndGgsZT10aGlzLl9taW5FbnRyaWVzO3RoaXMuX2Nob29zZVNwbGl0QXhpcyhuLGUscik7dmFyIGg9dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLGUsciksbz1wKG4uY2hpbGRyZW4uc3BsaWNlKGgsbi5jaGlsZHJlbi5sZW5ndGgtaCkpO28uaGVpZ2h0PW4uaGVpZ2h0LG8ubGVhZj1uLmxlYWYsYShuLHRoaXMudG9CQm94KSxhKG8sdGhpcy50b0JCb3gpLGk/dFtpLTFdLmNoaWxkcmVuLnB1c2gobyk6dGhpcy5fc3BsaXRSb290KG4sbyl9LHIucHJvdG90eXBlLl9zcGxpdFJvb3Q9ZnVuY3Rpb24odCxpKXt0aGlzLmRhdGE9cChbdCxpXSksdGhpcy5kYXRhLmhlaWdodD10LmhlaWdodCsxLHRoaXMuZGF0YS5sZWFmPSExLGEodGhpcy5kYXRhLHRoaXMudG9CQm94KX0sci5wcm90b3R5cGUuX2Nob29zZVNwbGl0SW5kZXg9ZnVuY3Rpb24odCxpLG4pe2Zvcih2YXIgcixlLGEsbyxzLGwsdSxtPTEvMCxjPTEvMCxwPWk7cDw9bi1pO3ArKyl7dmFyIGQ9aCh0LDAscCx0aGlzLnRvQkJveCkseD1oKHQscCxuLHRoaXMudG9CQm94KSx2PShlPWQsYT14LG89dm9pZCAwLHM9dm9pZCAwLGw9dm9pZCAwLHU9dm9pZCAwLG89TWF0aC5tYXgoZS5taW5YLGEubWluWCkscz1NYXRoLm1heChlLm1pblksYS5taW5ZKSxsPU1hdGgubWluKGUubWF4WCxhLm1heFgpLHU9TWF0aC5taW4oZS5tYXhZLGEubWF4WSksTWF0aC5tYXgoMCxsLW8pKk1hdGgubWF4KDAsdS1zKSksTT1mKGQpK2YoeCk7djxtPyhtPXYscj1wLGM9TTxjP006Yyk6dj09PW0mJk08YyYmKGM9TSxyPXApfXJldHVybiByfHxuLWl9LHIucHJvdG90eXBlLl9jaG9vc2VTcGxpdEF4aXM9ZnVuY3Rpb24odCxpLG4pe3ZhciByPXQubGVhZj90aGlzLmNvbXBhcmVNaW5YOnMsZT10LmxlYWY/dGhpcy5jb21wYXJlTWluWTpsO3RoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4scik8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixlKSYmdC5jaGlsZHJlbi5zb3J0KHIpfSxyLnByb3RvdHlwZS5fYWxsRGlzdE1hcmdpbj1mdW5jdGlvbih0LGksbixyKXt0LmNoaWxkcmVuLnNvcnQocik7Zm9yKHZhciBlPXRoaXMudG9CQm94LGE9aCh0LDAsaSxlKSxzPWgodCxuLWksbixlKSxsPXUoYSkrdShzKSxmPWk7ZjxuLWk7ZisrKXt2YXIgbT10LmNoaWxkcmVuW2ZdO28oYSx0LmxlYWY/ZShtKTptKSxsKz11KGEpfWZvcih2YXIgYz1uLWktMTtjPj1pO2MtLSl7dmFyIHA9dC5jaGlsZHJlbltjXTtvKHMsdC5sZWFmP2UocCk6cCksbCs9dShzKX1yZXR1cm4gbH0sci5wcm90b3R5cGUuX2FkanVzdFBhcmVudEJCb3hlcz1mdW5jdGlvbih0LGksbil7Zm9yKHZhciByPW47cj49MDtyLS0pbyhpW3JdLHQpfSxyLnByb3RvdHlwZS5fY29uZGVuc2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQubGVuZ3RoLTEsbj12b2lkIDA7aT49MDtpLS0pMD09PXRbaV0uY2hpbGRyZW4ubGVuZ3RoP2k+MD8obj10W2ktMV0uY2hpbGRyZW4pLnNwbGljZShuLmluZGV4T2YodFtpXSksMSk6dGhpcy5jbGVhcigpOmEodFtpXSx0aGlzLnRvQkJveCl9LHJ9KTtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvRmVhdHVyZVxuICovXG5pbXBvcnQgQmFzZU9iamVjdCwgeyBnZXRDaGFuZ2VFdmVudFR5cGUgfSBmcm9tICcuL09iamVjdC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi9ldmVudHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7dHlwZW9mIEZlYXR1cmV8dHlwZW9mIGltcG9ydChcIi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZUNsYXNzXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge0ZlYXR1cmV8aW1wb3J0KFwiLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBGZWF0dXJlTGlrZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgdmVjdG9yIG9iamVjdCBmb3IgZ2VvZ3JhcGhpYyBmZWF0dXJlcyB3aXRoIGEgZ2VvbWV0cnkgYW5kIG90aGVyXG4gKiBhdHRyaWJ1dGUgcHJvcGVydGllcywgc2ltaWxhciB0byB0aGUgZmVhdHVyZXMgaW4gdmVjdG9yIGZpbGUgZm9ybWF0cyBsaWtlXG4gKiBHZW9KU09OLlxuICpcbiAqIEZlYXR1cmVzIGNhbiBiZSBzdHlsZWQgaW5kaXZpZHVhbGx5IHdpdGggYHNldFN0eWxlYDsgb3RoZXJ3aXNlIHRoZXkgdXNlIHRoZVxuICogc3R5bGUgb2YgdGhlaXIgdmVjdG9yIGxheWVyLlxuICpcbiAqIE5vdGUgdGhhdCBhdHRyaWJ1dGUgcHJvcGVydGllcyBhcmUgc2V0IGFzIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fSBwcm9wZXJ0aWVzIG9uXG4gKiB0aGUgZmVhdHVyZSBvYmplY3QsIHNvIHRoZXkgYXJlIG9ic2VydmFibGUsIGFuZCBoYXZlIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIFR5cGljYWxseSwgYSBmZWF0dXJlIGhhcyBhIHNpbmdsZSBnZW9tZXRyeSBwcm9wZXJ0eS4gWW91IGNhbiBzZXQgdGhlXG4gKiBnZW9tZXRyeSB1c2luZyB0aGUgYHNldEdlb21ldHJ5YCBtZXRob2QgYW5kIGdldCBpdCB3aXRoIGBnZXRHZW9tZXRyeWAuXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBzdG9yZSBtb3JlIHRoYW4gb25lIGdlb21ldHJ5IG9uIGEgZmVhdHVyZSB1c2luZyBhdHRyaWJ1dGVcbiAqIHByb3BlcnRpZXMuIEJ5IGRlZmF1bHQsIHRoZSBnZW9tZXRyeSB1c2VkIGZvciByZW5kZXJpbmcgaXMgaWRlbnRpZmllZCBieVxuICogdGhlIHByb3BlcnR5IG5hbWUgYGdlb21ldHJ5YC4gSWYgeW91IHdhbnQgdG8gdXNlIGFub3RoZXIgZ2VvbWV0cnkgcHJvcGVydHlcbiAqIGZvciByZW5kZXJpbmcsIHVzZSB0aGUgYHNldEdlb21ldHJ5TmFtZWAgbWV0aG9kIHRvIGNoYW5nZSB0aGUgYXR0cmlidXRlXG4gKiBwcm9wZXJ0eSBhc3NvY2lhdGVkIHdpdGggdGhlIGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS4gIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKlxuICogaW1wb3J0IEZlYXR1cmUgZnJvbSAnb2wvRmVhdHVyZSc7XG4gKiBpbXBvcnQgUG9seWdvbiBmcm9tICdvbC9nZW9tL1BvbHlnb24nO1xuICogaW1wb3J0IFBvaW50IGZyb20gJ29sL2dlb20vUG9pbnQnO1xuICpcbiAqIHZhciBmZWF0dXJlID0gbmV3IEZlYXR1cmUoe1xuICogICBnZW9tZXRyeTogbmV3IFBvbHlnb24ocG9seUNvb3JkcyksXG4gKiAgIGxhYmVsUG9pbnQ6IG5ldyBQb2ludChsYWJlbENvb3JkcyksXG4gKiAgIG5hbWU6ICdNeSBQb2x5Z29uJ1xuICogfSk7XG4gKlxuICogLy8gZ2V0IHRoZSBwb2x5Z29uIGdlb21ldHJ5XG4gKiB2YXIgcG9seSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAqXG4gKiAvLyBSZW5kZXIgdGhlIGZlYXR1cmUgYXMgYSBwb2ludCB1c2luZyB0aGUgY29vcmRpbmF0ZXMgZnJvbSBsYWJlbFBvaW50XG4gKiBmZWF0dXJlLnNldEdlb21ldHJ5TmFtZSgnbGFiZWxQb2ludCcpO1xuICpcbiAqIC8vIGdldCB0aGUgcG9pbnQgZ2VvbWV0cnlcbiAqIHZhciBwb2ludCA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAqIGBgYFxuICpcbiAqIEBhcGlcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5XG4gKi9cbnZhciBGZWF0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGZWF0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7R2VvbWV0cnl8T2JqZWN0PHN0cmluZywgKj49fSBvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXNcbiAgICAgKiAgICAgWW91IG1heSBwYXNzIGEgR2VvbWV0cnkgb2JqZWN0IGRpcmVjdGx5LCBvciBhbiBvYmplY3QgbGl0ZXJhbCBjb250YWluaW5nXG4gICAgICogICAgIHByb3BlcnRpZXMuIElmIHlvdSBwYXNzIGFuIG9iamVjdCBsaXRlcmFsLCB5b3UgbWF5IGluY2x1ZGUgYSBHZW9tZXRyeVxuICAgICAqICAgICBhc3NvY2lhdGVkIHdpdGggYSBgZ2VvbWV0cnlgIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGZWF0dXJlKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaWRfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5TmFtZV8gPSAnZ2VvbWV0cnknO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlciBwcm92aWRlZCBzdHlsZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3R5bGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3R5bGVGdW5jdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IG51bGw7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKF90aGlzLmdlb21ldHJ5TmFtZV8pLCBfdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfKTtcbiAgICAgICAgaWYgKG9wdF9nZW9tZXRyeU9yUHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAoXG4gICAgICAgICAgICAvKiogQHR5cGUgez99ICovIChvcHRfZ2VvbWV0cnlPclByb3BlcnRpZXMpLmdldFNpbXBsaWZpZWRHZW9tZXRyeSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSAvKiogQHR5cGUge0dlb21ldHJ5fSAqLyAob3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRHZW9tZXRyeShnZW9tZXRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fSAqL1xuICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gb3B0X2dlb21ldHJ5T3JQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIGZlYXR1cmUuIElmIHRoZSBvcmlnaW5hbCBmZWF0dXJlIGhhcyBhIGdlb21ldHJ5IGl0XG4gICAgICogaXMgYWxzbyBjbG9uZWQuIFRoZSBmZWF0dXJlIGlkIGlzIG5vdCBzZXQgaW4gdGhlIGNsb25lLlxuICAgICAqIEByZXR1cm4ge0ZlYXR1cmV9IFRoZSBjbG9uZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IG5ldyBGZWF0dXJlKHRoaXMuaGFzUHJvcGVydGllcygpID8gdGhpcy5nZXRQcm9wZXJ0aWVzKCkgOiBudWxsKTtcbiAgICAgICAgY2xvbmUuc2V0R2VvbWV0cnlOYW1lKHRoaXMuZ2V0R2VvbWV0cnlOYW1lKCkpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdldEdlb21ldHJ5KCk7XG4gICAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgY2xvbmUuc2V0R2VvbWV0cnkoZ2VvbWV0cnkuY2xvbmUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRTdHlsZSgpO1xuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIGNsb25lLnNldFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUncyBkZWZhdWx0IGdlb21ldHJ5LiAgQSBmZWF0dXJlIG1heSBoYXZlIGFueSBudW1iZXIgb2YgbmFtZWRcbiAgICAgKiBnZW9tZXRyaWVzLiAgVGhlIFwiZGVmYXVsdFwiIGdlb21ldHJ5ICh0aGUgb25lIHRoYXQgaXMgcmVuZGVyZWQgYnkgZGVmYXVsdCkgaXNcbiAgICAgKiBzZXQgd2hlbiBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI3NldEdlb21ldHJ5fS5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeXx1bmRlZmluZWR9IFRoZSBkZWZhdWx0IGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAYXBpXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7R2VvbWV0cnl8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQodGhpcy5nZW9tZXRyeU5hbWVfKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUgaWRlbnRpZmllci4gIFRoaXMgaXMgYSBzdGFibGUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUgYW5kXG4gICAgICogaXMgZWl0aGVyIHNldCB3aGVuIHJlYWRpbmcgZGF0YSBmcm9tIGEgcmVtb3RlIHNvdXJjZSBvciBzZXQgZXhwbGljaXRseSBieVxuICAgICAqIGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUjc2V0SWR9LlxuICAgICAqIEByZXR1cm4ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBJZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSdzIGRlZmF1bHQgZ2VvbWV0cnkuICBCeSBkZWZhdWx0LCB0aGUgZGVmYXVsdFxuICAgICAqIGdlb21ldHJ5IGlzIG5hbWVkIGBnZW9tZXRyeWAuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBHZXQgdGhlIHByb3BlcnR5IG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBkZWZhdWx0IGdlb21ldHJ5XG4gICAgICogICAgIGZvciB0aGlzIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldEdlb21ldHJ5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlOYW1lXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmVhdHVyZSdzIHN0eWxlLiBXaWxsIHJldHVybiB3aGF0IHdhcyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNzZXRTdHlsZX0gbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfHVuZGVmaW5lZH0gVGhlIGZlYXR1cmUgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZlYXR1cmUncyBzdHlsZSBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBSZXR1cm4gYSBmdW5jdGlvblxuICAgICAqIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdHlsZSBvZiB0aGlzIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLmdldFN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlRnVuY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5oYW5kbGVHZW9tZXRyeUNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeUNoYW5nZUtleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5nZW9tZXRyeUNoYW5nZUtleV8pO1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZUtleV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlS2V5XyA9IGxpc3RlbihnZW9tZXRyeSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZV8sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBkZWZhdWx0IGdlb21ldHJ5IGZvciB0aGUgZmVhdHVyZS4gIFRoaXMgd2lsbCB1cGRhdGUgdGhlIHByb3BlcnR5XG4gICAgICogd2l0aCB0aGUgbmFtZSByZXR1cm5lZCBieSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSNnZXRHZW9tZXRyeU5hbWV9LlxuICAgICAqIEBwYXJhbSB7R2VvbWV0cnl8dW5kZWZpbmVkfSBnZW9tZXRyeSBUaGUgbmV3IGdlb21ldHJ5LlxuICAgICAqIEBhcGlcbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLnNldEdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMuZ2VvbWV0cnlOYW1lXywgZ2VvbWV0cnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBmb3IgdGhlIGZlYXR1cmUgdG8gb3ZlcnJpZGUgdGhlIGxheWVyIHN0eWxlLiAgVGhpcyBjYW4gYmUgYVxuICAgICAqIHNpbmdsZSBzdHlsZSBvYmplY3QsIGFuIGFycmF5IG9mIHN0eWxlcywgb3IgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFcbiAgICAgKiByZXNvbHV0aW9uIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHN0eWxlcy4gVG8gdW5zZXQgdGhlIGZlYXR1cmUgc3R5bGUsIGNhbGxcbiAgICAgKiBgc2V0U3R5bGUoKWAgd2l0aG91dCBhcmd1bWVudHMgb3IgYSBmYWxzZXkgdmFsdWUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZT19IG9wdF9zdHlsZSBTdHlsZSBmb3IgdGhpcyBmZWF0dXJlLlxuICAgICAqIEBhcGlcbiAgICAgKiBAZmlyZXMgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5CYXNlRXZlbnQjZXZlbnQ6Y2hhbmdlXG4gICAgICovXG4gICAgRmVhdHVyZS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAob3B0X3N0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGVfID0gb3B0X3N0eWxlO1xuICAgICAgICB0aGlzLnN0eWxlRnVuY3Rpb25fID0gIW9wdF9zdHlsZVxuICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogY3JlYXRlU3R5bGVGdW5jdGlvbihvcHRfc3R5bGUpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmVhdHVyZSBpZC4gIFRoZSBmZWF0dXJlIGlkIGlzIGNvbnNpZGVyZWQgc3RhYmxlIGFuZCBtYXkgYmUgdXNlZCB3aGVuXG4gICAgICogcmVxdWVzdGluZyBmZWF0dXJlcyBvciBjb21wYXJpbmcgaWRlbnRpZmllcnMgcmV0dXJuZWQgZnJvbSBhIHJlbW90ZSBzb3VyY2UuXG4gICAgICogVGhlIGZlYXR1cmUgaWQgY2FuIGJlIHVzZWQgd2l0aCB0aGVcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldEZlYXR1cmVCeUlkfSBtZXRob2QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH0gaWQgVGhlIGZlYXR1cmUgaWQuXG4gICAgICogQGFwaVxuICAgICAqIEBmaXJlcyBtb2R1bGU6b2wvZXZlbnRzL0V2ZW50fkJhc2VFdmVudCNldmVudDpjaGFuZ2VcbiAgICAgKi9cbiAgICBGZWF0dXJlLnByb3RvdHlwZS5zZXRJZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB0aGlzLmlkXyA9IGlkO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIHdoZW4gZ2V0dGluZyB0aGUgZmVhdHVyZSdzIGRlZmF1bHQgZ2VvbWV0cnkuXG4gICAgICogV2hlbiBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlI2dldEdlb21ldHJ5fSwgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoXG4gICAgICogdGhpcyBuYW1lIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIHByb3BlcnR5IG5hbWUgb2YgdGhlIGRlZmF1bHQgZ2VvbWV0cnkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZlYXR1cmUucHJvdG90eXBlLnNldEdlb21ldHJ5TmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihnZXRDaGFuZ2VFdmVudFR5cGUodGhpcy5nZW9tZXRyeU5hbWVfKSwgdGhpcy5oYW5kbGVHZW9tZXRyeUNoYW5nZWRfKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeU5hbWVfID0gbmFtZTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZSh0aGlzLmdlb21ldHJ5TmFtZV8pLCB0aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8pO1xuICAgICAgICB0aGlzLmhhbmRsZUdlb21ldHJ5Q2hhbmdlZF8oKTtcbiAgICB9O1xuICAgIHJldHVybiBGZWF0dXJlO1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIENvbnZlcnQgdGhlIHByb3ZpZGVkIG9iamVjdCBpbnRvIGEgZmVhdHVyZSBzdHlsZSBmdW5jdGlvbi4gIEZ1bmN0aW9ucyBwYXNzZWRcbiAqIHRocm91Z2ggdW5jaGFuZ2VkLiAgQXJyYXlzIG9mIFN0eWxlIG9yIHNpbmdsZSBzdHlsZSBvYmplY3RzIHdyYXBwZWRcbiAqIGluIGEgbmV3IGZlYXR1cmUgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258IUFycmF5PGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdD58IWltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gb2JqXG4gKiAgICAgQSBmZWF0dXJlIHN0eWxlIGZ1bmN0aW9uLCBhIHNpbmdsZSBzdHlsZSwgb3IgYW4gYXJyYXkgb2Ygc3R5bGVzLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufSBBIHN0eWxlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3R5bGVGdW5jdGlvbihvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHN0eWxlc18xO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IG9iajtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9iaikuZ2V0WkluZGV4KSA9PT0gJ2Z1bmN0aW9uJywgNDEpOyAvLyBFeHBlY3RlZCBhbiBgaW1wb3J0KFwiLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZWAgb3IgYW4gYXJyYXkgb2YgYGltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVgXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gKi8gKG9iaik7XG4gICAgICAgICAgICBzdHlsZXNfMSA9IFtzdHlsZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZXNfMTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVhdHVyZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvT3ZlcmxheVBvc2l0aW9uaW5nXG4gKi9cbi8qKlxuICogT3ZlcmxheSBwb3NpdGlvbjogYCdib3R0b20tbGVmdCdgLCBgJ2JvdHRvbS1jZW50ZXInYCwgIGAnYm90dG9tLXJpZ2h0J2AsXG4gKiBgJ2NlbnRlci1sZWZ0J2AsIGAnY2VudGVyLWNlbnRlcidgLCBgJ2NlbnRlci1yaWdodCdgLCBgJ3RvcC1sZWZ0J2AsXG4gKiBgJ3RvcC1jZW50ZXInYCwgYCd0b3AtcmlnaHQnYFxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnLFxuICAgIEJPVFRPTV9DRU5URVI6ICdib3R0b20tY2VudGVyJyxcbiAgICBCT1RUT01fUklHSFQ6ICdib3R0b20tcmlnaHQnLFxuICAgIENFTlRFUl9MRUZUOiAnY2VudGVyLWxlZnQnLFxuICAgIENFTlRFUl9DRU5URVI6ICdjZW50ZXItY2VudGVyJyxcbiAgICBDRU5URVJfUklHSFQ6ICdjZW50ZXItcmlnaHQnLFxuICAgIFRPUF9MRUZUOiAndG9wLWxlZnQnLFxuICAgIFRPUF9DRU5URVI6ICd0b3AtY2VudGVyJyxcbiAgICBUT1BfUklHSFQ6ICd0b3AtcmlnaHQnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU92ZXJsYXlQb3NpdGlvbmluZy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL092ZXJsYXlcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QsIHsgZ2V0Q2hhbmdlRXZlbnRUeXBlIH0gZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuL01hcEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT3ZlcmxheVBvc2l0aW9uaW5nIGZyb20gJy4vT3ZlcmxheVBvc2l0aW9uaW5nLmpzJztcbmltcG9ydCB7IENMQVNTX1NFTEVDVEFCTEUgfSBmcm9tICcuL2Nzcy5qcyc7XG5pbXBvcnQgeyBjb250YWluc0V4dGVudCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbmltcG9ydCB7IG91dGVySGVpZ2h0LCBvdXRlcldpZHRoLCByZW1vdmVDaGlsZHJlbiwgcmVtb3ZlTm9kZSB9IGZyb20gJy4vZG9tLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ8c3RyaW5nfSBbaWRdIFNldCB0aGUgb3ZlcmxheSBpZC4gVGhlIG92ZXJsYXkgaWQgY2FuIGJlIHVzZWRcbiAqIHdpdGggdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNnZXRPdmVybGF5QnlJZH0gbWV0aG9kLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gW2VsZW1lbnRdIFRoZSBvdmVybGF5IGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtvZmZzZXQ9WzAsIDBdXSBPZmZzZXRzIGluIHBpeGVscyB1c2VkIHdoZW4gcG9zaXRpb25pbmdcbiAqIHRoZSBvdmVybGF5LiBUaGUgZmlyc3QgZWxlbWVudCBpbiB0aGVcbiAqIGFycmF5IGlzIHRoZSBob3Jpem9udGFsIG9mZnNldC4gQSBwb3NpdGl2ZSB2YWx1ZSBzaGlmdHMgdGhlIG92ZXJsYXkgcmlnaHQuXG4gKiBUaGUgc2Vjb25kIGVsZW1lbnQgaW4gdGhlIGFycmF5IGlzIHRoZSB2ZXJ0aWNhbCBvZmZzZXQuIEEgcG9zaXRpdmUgdmFsdWVcbiAqIHNoaWZ0cyB0aGUgb3ZlcmxheSBkb3duLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW3Bvc2l0aW9uXSBUaGUgb3ZlcmxheSBwb3NpdGlvblxuICogaW4gbWFwIHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vT3ZlcmxheVBvc2l0aW9uaW5nLmpzXCIpLmRlZmF1bHR9IFtwb3NpdGlvbmluZz0ndG9wLWxlZnQnXSBEZWZpbmVzIGhvd1xuICogdGhlIG92ZXJsYXkgaXMgYWN0dWFsbHkgcG9zaXRpb25lZCB3aXRoIHJlc3BlY3QgdG8gaXRzIGBwb3NpdGlvbmAgcHJvcGVydHkuXG4gKiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGAnYm90dG9tLWxlZnQnYCwgYCdib3R0b20tY2VudGVyJ2AsIGAnYm90dG9tLXJpZ2h0J2AsXG4gKiBgJ2NlbnRlci1sZWZ0J2AsIGAnY2VudGVyLWNlbnRlcidgLCBgJ2NlbnRlci1yaWdodCdgLCBgJ3RvcC1sZWZ0J2AsXG4gKiBgJ3RvcC1jZW50ZXInYCwgYW5kIGAndG9wLXJpZ2h0J2AuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzdG9wRXZlbnQ9dHJ1ZV0gV2hldGhlciBldmVudCBwcm9wYWdhdGlvbiB0byB0aGUgbWFwXG4gKiB2aWV3cG9ydCBzaG91bGQgYmUgc3RvcHBlZC4gSWYgYHRydWVgIHRoZSBvdmVybGF5IGlzIHBsYWNlZCBpbiB0aGUgc2FtZVxuICogY29udGFpbmVyIGFzIHRoYXQgb2YgdGhlIGNvbnRyb2xzIChDU1MgY2xhc3MgbmFtZVxuICogYG9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50YCk7IGlmIGBmYWxzZWAgaXQgaXMgcGxhY2VkIGluIHRoZSBjb250YWluZXJcbiAqIHdpdGggQ1NTIGNsYXNzIG5hbWUgc3BlY2lmaWVkIGJ5IHRoZSBgY2xhc3NOYW1lYCBwcm9wZXJ0eS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2luc2VydEZpcnN0PXRydWVdIFdoZXRoZXIgdGhlIG92ZXJsYXkgaXMgaW5zZXJ0ZWQgZmlyc3RcbiAqIGluIHRoZSBvdmVybGF5IGNvbnRhaW5lciwgb3IgYXBwZW5kZWQuIElmIHRoZSBvdmVybGF5IGlzIHBsYWNlZCBpbiB0aGUgc2FtZVxuICogY29udGFpbmVyIGFzIHRoYXQgb2YgdGhlIGNvbnRyb2xzIChzZWUgdGhlIGBzdG9wRXZlbnRgIG9wdGlvbikgeW91IHdpbGxcbiAqIHByb2JhYmx5IHNldCBgaW5zZXJ0Rmlyc3RgIHRvIGB0cnVlYCBzbyB0aGUgb3ZlcmxheSBpcyBkaXNwbGF5ZWQgYmVsb3cgdGhlXG4gKiBjb250cm9scy5cbiAqIEBwcm9wZXJ0eSB7UGFuSW50b1ZpZXdPcHRpb25zfGJvb2xlYW59IFthdXRvUGFuPWZhbHNlXSBQYW4gdGhlIG1hcCB3aGVuIGNhbGxpbmdcbiAqIGBzZXRQb3NpdGlvbmAsIHNvIHRoYXQgdGhlIG92ZXJsYXkgaXMgZW50aXJlbHkgdmlzaWJsZSBpbiB0aGUgY3VycmVudCB2aWV3cG9ydD9cbiAqIElmIGB0cnVlYCAoZGVwcmVjYXRlZCksIHRoZW4gYGF1dG9QYW5BbmltYXRpb25gIGFuZCBgYXV0b1Bhbk1hcmdpbmAgd2lsbCBiZVxuICogdXNlZCB0byBkZXRlcm1pbmUgdGhlIHBhbm5pbmcgcGFyYW1ldGVyczsgaWYgYW4gb2JqZWN0IGlzIHN1cHBsaWVkIHRoZW4gb3RoZXJcbiAqIHBhcmFtZXRlcnMgYXJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge1Bhbk9wdGlvbnN9IFthdXRvUGFuQW5pbWF0aW9uXSBUaGUgYW5pbWF0aW9uIG9wdGlvbnMgdXNlZCB0byBwYW5cbiAqIHRoZSBvdmVybGF5IGludG8gdmlldy4gVGhpcyBhbmltYXRpb24gaXMgb25seSB1c2VkIHdoZW4gYGF1dG9QYW5gIGlzIGVuYWJsZWQuXG4gKiBBIGBkdXJhdGlvbmAgYW5kIGBlYXNpbmdgIG1heSBiZSBwcm92aWRlZCB0byBjdXN0b21pemUgdGhlIGFuaW1hdGlvbi5cbiAqIERlcHJlY2F0ZWQgYW5kIGlnbm9yZWQgaWYgYGF1dG9QYW5gIGlzIHN1cHBsaWVkIGFzIGFuIG9iamVjdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYXV0b1Bhbk1hcmdpbj0yMF0gVGhlIG1hcmdpbiAoaW4gcGl4ZWxzKSBiZXR3ZWVuIHRoZVxuICogb3ZlcmxheSBhbmQgdGhlIGJvcmRlcnMgb2YgdGhlIG1hcCB3aGVuIGF1dG9wYW5uaW5nLiBEZXByZWNhdGVkIGFuZCBpZ25vcmVkXG4gKiBpZiBgYXV0b1BhbmAgaXMgc3VwcGxpZWQgYXMgYW4gb2JqZWN0LlxuICogQHByb3BlcnR5IHtQYW5JbnRvVmlld09wdGlvbnN9IFthdXRvUGFuT3B0aW9uc10gVGhlIG9wdGlvbnMgdG8gdXNlIGZvciB0aGVcbiAqIGF1dG9QYW4uIFRoaXMgaXMgb25seSB1c2VkIHdoZW4gYGF1dG9QYW5gIGlzIGVuYWJsZWQgYW5kIGhhcyBwcmVmZXJlbmNlIG92ZXJcbiAqIHRoZSBpbmRpdmlkdWFsIGBhdXRvUGFuTWFyZ2luYCBhbmQgYGF1dG9QYW5PcHRpb25zYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1vdmVybGF5LWNvbnRhaW5lciBvbC1zZWxlY3RhYmxlJ10gQ1NTIGNsYXNzXG4gKiBuYW1lLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwMF0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlLiBDYW5cbiAqIGJlIG9uZSBmcm9tIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nfSBvciBhIGN1c3RvbSBmdW5jdGlvbi5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9LlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhbkludG9WaWV3T3B0aW9uc1xuICogQHByb3BlcnR5IHtQYW5PcHRpb25zfSBbYW5pbWF0aW9uPXt9XSBUaGUgYW5pbWF0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSBwYW5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWFyZ2luPTIwXSBUaGUgbWFyZ2luIChpbiBwaXhlbHMpIGJldHdlZW4gdGhlXG4gKiBvdmVybGF5IGFuZCB0aGUgYm9yZGVycyBvZiB0aGUgbWFwIHdoZW4gcGFubmluZyBpbnRvIHZpZXcuXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm90ZWN0ZWRcbiAqL1xudmFyIFByb3BlcnR5ID0ge1xuICAgIEVMRU1FTlQ6ICdlbGVtZW50JyxcbiAgICBNQVA6ICdtYXAnLFxuICAgIE9GRlNFVDogJ29mZnNldCcsXG4gICAgUE9TSVRJT046ICdwb3NpdGlvbicsXG4gICAgUE9TSVRJT05JTkc6ICdwb3NpdGlvbmluZycsXG59O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbiBlbGVtZW50IHRvIGJlIGRpc3BsYXllZCBvdmVyIHRoZSBtYXAgYW5kIGF0dGFjaGVkIHRvIGEgc2luZ2xlIG1hcFxuICogbG9jYXRpb24uICBMaWtlIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Db250cm9sfkNvbnRyb2x9LCBPdmVybGF5cyBhcmVcbiAqIHZpc2libGUgd2lkZ2V0cy4gVW5saWtlIENvbnRyb2xzLCB0aGV5IGFyZSBub3QgaW4gYSBmaXhlZCBwb3NpdGlvbiBvbiB0aGVcbiAqIHNjcmVlbiwgYnV0IGFyZSB0aWVkIHRvIGEgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUsIHNvIHBhbm5pbmcgdGhlIG1hcCB3aWxsXG4gKiBtb3ZlIGFuIE92ZXJsYXkgYnV0IG5vdCBhIENvbnRyb2wuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IE92ZXJsYXkgZnJvbSAnb2wvT3ZlcmxheSc7XG4gKlxuICogICAgIHZhciBwb3B1cCA9IG5ldyBPdmVybGF5KHtcbiAqICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cCcpXG4gKiAgICAgfSk7XG4gKiAgICAgcG9wdXAuc2V0UG9zaXRpb24oY29vcmRpbmF0ZSk7XG4gKiAgICAgbWFwLmFkZE92ZXJsYXkocG9wdXApO1xuICpcbiAqIEBhcGlcbiAqL1xudmFyIE92ZXJsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE92ZXJsYXksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIE92ZXJsYXkgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPdmVybGF5KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge09wdGlvbnN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaWQgPSBvcHRpb25zLmlkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluc2VydEZpcnN0ID1cbiAgICAgICAgICAgIG9wdGlvbnMuaW5zZXJ0Rmlyc3QgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW5zZXJ0Rmlyc3QgOiB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0b3BFdmVudCA9IG9wdGlvbnMuc3RvcEV2ZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0b3BFdmVudCA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgX3RoaXMuZWxlbWVudC5jbGFzc05hbWUgPVxuICAgICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jbGFzc05hbWVcbiAgICAgICAgICAgICAgICA6ICdvbC1vdmVybGF5LWNvbnRhaW5lciAnICsgQ0xBU1NfU0VMRUNUQUJMRTtcbiAgICAgICAgX3RoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLmVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgdmFyIGF1dG9QYW4gPSBvcHRpb25zLmF1dG9QYW47XG4gICAgICAgIGlmIChhdXRvUGFuICYmICdvYmplY3QnICE9PSB0eXBlb2YgYXV0b1Bhbikge1xuICAgICAgICAgICAgYXV0b1BhbiA9IHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IG9wdGlvbnMuYXV0b1BhbkFuaW1hdGlvbixcbiAgICAgICAgICAgICAgICBtYXJnaW46IG9wdGlvbnMuYXV0b1Bhbk1hcmdpbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge1BhbkludG9WaWV3T3B0aW9uc3xmYWxzZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QYW4gPSAvKiogQHR5cGUge1BhbkludG9WaWV3T3B0aW9uc30gKi8gKGF1dG9QYW4pIHx8IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7e3RyYW5zZm9ybV86IHN0cmluZyxcbiAgICAgICAgICogICAgICAgICB2aXNpYmxlOiBib29sZWFufX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkID0ge1xuICAgICAgICAgICAgdHJhbnNmb3JtXzogJycsXG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcFBvc3RyZW5kZXJMaXN0ZW5lcktleSA9IG51bGw7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKFByb3BlcnR5LkVMRU1FTlQpLCBfdGhpcy5oYW5kbGVFbGVtZW50Q2hhbmdlZCk7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKFByb3BlcnR5Lk1BUCksIF90aGlzLmhhbmRsZU1hcENoYW5nZWQpO1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShQcm9wZXJ0eS5PRkZTRVQpLCBfdGhpcy5oYW5kbGVPZmZzZXRDaGFuZ2VkKTtcbiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihnZXRDaGFuZ2VFdmVudFR5cGUoUHJvcGVydHkuUE9TSVRJT04pLCBfdGhpcy5oYW5kbGVQb3NpdGlvbkNoYW5nZWQpO1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShQcm9wZXJ0eS5QT1NJVElPTklORyksIF90aGlzLmhhbmRsZVBvc2l0aW9uaW5nQ2hhbmdlZCk7XG4gICAgICAgIGlmIChvcHRpb25zLmVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RWxlbWVudChvcHRpb25zLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnNldE9mZnNldChvcHRpb25zLm9mZnNldCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXQgOiBbMCwgMF0pO1xuICAgICAgICBfdGhpcy5zZXRQb3NpdGlvbmluZyhvcHRpb25zLnBvc2l0aW9uaW5nICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL092ZXJsYXlQb3NpdGlvbmluZy5qc1wiKS5kZWZhdWx0fSAqLyAob3B0aW9ucy5wb3NpdGlvbmluZylcbiAgICAgICAgICAgIDogT3ZlcmxheVBvc2l0aW9uaW5nLlRPUF9MRUZUKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0UG9zaXRpb24ob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIERPTSBlbGVtZW50IG9mIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudHx1bmRlZmluZWR9IFRoZSBFbGVtZW50IGNvbnRhaW5pbmcgdGhlIG92ZXJsYXkuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoUHJvcGVydHkuRUxFTUVOVCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBvdmVybGF5IGlkZW50aWZpZXIgd2hpY2ggaXMgc2V0IG9uIGNvbnN0cnVjdG9yLlxuICAgICAqIEByZXR1cm4ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBJZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIG1hcCB0aGF0IHRoZVxuICAgICAqIG92ZXJsYXkgaXMgcGFydCBvZi5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoUHJvcGVydHkuTUFQKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9mZnNldCBvZiB0aGlzIG92ZXJsYXkuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIG9mZnNldC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5nZXRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovICh0aGlzLmdldChQcm9wZXJ0eS5PRkZTRVQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGlzIG92ZXJsYXkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBUaGUgc3BhdGlhbCBwb2ludCB0aGF0IHRoZSBvdmVybGF5IGlzXG4gICAgICogICAgIGFuY2hvcmVkIGF0LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9ICovICh0aGlzLmdldChQcm9wZXJ0eS5QT1NJVElPTikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHBvc2l0aW9uaW5nIG9mIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL092ZXJsYXlQb3NpdGlvbmluZy5qc1wiKS5kZWZhdWx0fSBIb3cgdGhlIG92ZXJsYXkgaXMgcG9zaXRpb25lZFxuICAgICAqICAgICByZWxhdGl2ZSB0byBpdHMgcG9pbnQgb24gdGhlIG1hcC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5nZXRQb3NpdGlvbmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9PdmVybGF5UG9zaXRpb25pbmcuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZ2V0KFByb3BlcnR5LlBPU0lUSU9OSU5HKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuaGFuZGxlRWxlbWVudENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZUNoaWxkcmVuKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5oYW5kbGVNYXBDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tYXBQb3N0cmVuZGVyTGlzdGVuZXJLZXkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBQb3N0cmVuZGVyTGlzdGVuZXJLZXkpO1xuICAgICAgICAgICAgdGhpcy5tYXBQb3N0cmVuZGVyTGlzdGVuZXJLZXkgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFBvc3RyZW5kZXJMaXN0ZW5lcktleSA9IGxpc3RlbihtYXAsIE1hcEV2ZW50VHlwZS5QT1NUUkVOREVSLCB0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBpeGVsUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnN0b3BFdmVudFxuICAgICAgICAgICAgICAgID8gbWFwLmdldE92ZXJsYXlDb250YWluZXJTdG9wRXZlbnQoKVxuICAgICAgICAgICAgICAgIDogbWFwLmdldE92ZXJsYXlDb250YWluZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmluc2VydEZpcnN0KSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQsIGNvbnRhaW5lci5jaGlsZE5vZGVzWzBdIHx8IG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BdXRvUGFuKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGl4ZWxQb3NpdGlvbigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLmhhbmRsZU9mZnNldENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGl4ZWxQb3NpdGlvbigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLmhhbmRsZVBvc2l0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVQaXhlbFBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMucGVyZm9ybUF1dG9QYW4oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5oYW5kbGVQb3NpdGlvbmluZ0NoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGl4ZWxQb3NpdGlvbigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBET00gZWxlbWVudCB0byBiZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBvdmVybGF5LlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8dW5kZWZpbmVkfSBlbGVtZW50IFRoZSBFbGVtZW50IGNvbnRhaW5pbmcgdGhlIG92ZXJsYXkuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuc2V0RWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5LkVMRU1FTlQsIGVsZW1lbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXAgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBtYXAgVGhlIG1hcCB0aGF0IHRoZVxuICAgICAqIG92ZXJsYXkgaXMgcGFydCBvZi5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5Lk1BUCwgbWFwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb2Zmc2V0IGZvciB0aGlzIG92ZXJsYXkuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLnNldE9mZnNldCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuT0ZGU0VULCBvZmZzZXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwb3NpdGlvbiBmb3IgdGhpcyBvdmVybGF5LiBJZiB0aGUgcG9zaXRpb24gaXMgYHVuZGVmaW5lZGAgdGhlXG4gICAgICogb3ZlcmxheSBpcyBoaWRkZW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IHBvc2l0aW9uIFRoZSBzcGF0aWFsIHBvaW50IHRoYXQgdGhlIG92ZXJsYXlcbiAgICAgKiAgICAgaXMgYW5jaG9yZWQgYXQuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXQoUHJvcGVydHkuUE9TSVRJT04sIHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhbiB0aGUgbWFwIHNvIHRoYXQgdGhlIG92ZXJsYXkgaXMgZW50aXJlbHkgdmlzaXNibGUgaW4gdGhlIGN1cnJlbnQgdmlld3BvcnRcbiAgICAgKiAoaWYgbmVjZXNzYXJ5KSB1c2luZyB0aGUgY29uZmlndXJlZCBhdXRvUGFuIHBhcmFtZXRlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUucGVyZm9ybUF1dG9QYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9QYW4pIHtcbiAgICAgICAgICAgIHRoaXMucGFuSW50b1ZpZXcodGhpcy5hdXRvUGFuKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFuIHRoZSBtYXAgc28gdGhhdCB0aGUgb3ZlcmxheSBpcyBlbnRpcmVseSB2aXNpYmxlIGluIHRoZSBjdXJyZW50IHZpZXdwb3J0XG4gICAgICogKGlmIG5lY2Vzc2FyeSkuXG4gICAgICogQHBhcmFtIHtQYW5JbnRvVmlld09wdGlvbnM9fSBvcHRfcGFuSW50b1ZpZXdPcHRpb25zIE9wdGlvbnMgZm9yIHRoZSBwYW4gYWN0aW9uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLnBhbkludG9WaWV3ID0gZnVuY3Rpb24gKG9wdF9wYW5JbnRvVmlld09wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIGlmICghbWFwIHx8ICFtYXAuZ2V0VGFyZ2V0RWxlbWVudCgpIHx8ICF0aGlzLmdldChQcm9wZXJ0eS5QT1NJVElPTikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFwUmVjdCA9IHRoaXMuZ2V0UmVjdChtYXAuZ2V0VGFyZ2V0RWxlbWVudCgpLCBtYXAuZ2V0U2l6ZSgpKTtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoKTtcbiAgICAgICAgdmFyIG92ZXJsYXlSZWN0ID0gdGhpcy5nZXRSZWN0KGVsZW1lbnQsIFtcbiAgICAgICAgICAgIG91dGVyV2lkdGgoZWxlbWVudCksXG4gICAgICAgICAgICBvdXRlckhlaWdodChlbGVtZW50KSxcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBwYW5JbnRvVmlld09wdGlvbnMgPSBvcHRfcGFuSW50b1ZpZXdPcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgbXlNYXJnaW4gPSBwYW5JbnRvVmlld09wdGlvbnMubWFyZ2luID09PSB1bmRlZmluZWQgPyAyMCA6IHBhbkludG9WaWV3T3B0aW9ucy5tYXJnaW47XG4gICAgICAgIGlmICghY29udGFpbnNFeHRlbnQobWFwUmVjdCwgb3ZlcmxheVJlY3QpKSB7XG4gICAgICAgICAgICAvLyB0aGUgb3ZlcmxheSBpcyBub3QgY29tcGxldGVseSBpbnNpZGUgdGhlIHZpZXdwb3J0LCBzbyBwYW4gdGhlIG1hcFxuICAgICAgICAgICAgdmFyIG9mZnNldExlZnQgPSBvdmVybGF5UmVjdFswXSAtIG1hcFJlY3RbMF07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0UmlnaHQgPSBtYXBSZWN0WzJdIC0gb3ZlcmxheVJlY3RbMl07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0VG9wID0gb3ZlcmxheVJlY3RbMV0gLSBtYXBSZWN0WzFdO1xuICAgICAgICAgICAgdmFyIG9mZnNldEJvdHRvbSA9IG1hcFJlY3RbM10gLSBvdmVybGF5UmVjdFszXTtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IFswLCAwXTtcbiAgICAgICAgICAgIGlmIChvZmZzZXRMZWZ0IDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIG1vdmUgbWFwIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZGVsdGFbMF0gPSBvZmZzZXRMZWZ0IC0gbXlNYXJnaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvZmZzZXRSaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIG1hcCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBkZWx0YVswXSA9IE1hdGguYWJzKG9mZnNldFJpZ2h0KSArIG15TWFyZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9mZnNldFRvcCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIG1hcCB1cFxuICAgICAgICAgICAgICAgIGRlbHRhWzFdID0gb2Zmc2V0VG9wIC0gbXlNYXJnaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvZmZzZXRCb3R0b20gPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbW92ZSBtYXAgZG93blxuICAgICAgICAgICAgICAgIGRlbHRhWzFdID0gTWF0aC5hYnMob2Zmc2V0Qm90dG9tKSArIG15TWFyZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbHRhWzBdICE9PSAwIHx8IGRlbHRhWzFdICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovIChtYXBcbiAgICAgICAgICAgICAgICAgICAgLmdldFZpZXcoKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0Q2VudGVySW50ZXJuYWwoKSk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlclB4ID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbChjZW50ZXIpO1xuICAgICAgICAgICAgICAgIGlmICghY2VudGVyUHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmV3Q2VudGVyUHggPSBbY2VudGVyUHhbMF0gKyBkZWx0YVswXSwgY2VudGVyUHhbMV0gKyBkZWx0YVsxXV07XG4gICAgICAgICAgICAgICAgdmFyIHBhbk9wdGlvbnMgPSBwYW5JbnRvVmlld09wdGlvbnMuYW5pbWF0aW9uIHx8IHt9O1xuICAgICAgICAgICAgICAgIG1hcC5nZXRWaWV3KCkuYW5pbWF0ZUludGVybmFsKHtcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKG5ld0NlbnRlclB4KSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHBhbk9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogcGFuT3B0aW9ucy5lYXNpbmcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50XG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFRoZSBzaXplIG9mIHRoZSBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGV4dGVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuZ2V0UmVjdCA9IGZ1bmN0aW9uIChlbGVtZW50LCBzaXplKSB7XG4gICAgICAgIHZhciBib3ggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgb2Zmc2V0WCA9IGJveC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgICAgICB2YXIgb2Zmc2V0WSA9IGJveC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgIHJldHVybiBbb2Zmc2V0WCwgb2Zmc2V0WSwgb2Zmc2V0WCArIHNpemVbMF0sIG9mZnNldFkgKyBzaXplWzFdXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcG9zaXRpb25pbmcgZm9yIHRoaXMgb3ZlcmxheS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheVBvc2l0aW9uaW5nLmpzXCIpLmRlZmF1bHR9IHBvc2l0aW9uaW5nIGhvdyB0aGUgb3ZlcmxheSBpc1xuICAgICAqICAgICBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIGl0cyBwb2ludCBvbiB0aGUgbWFwLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLnNldFBvc2l0aW9uaW5nID0gZnVuY3Rpb24gKHBvc2l0aW9uaW5nKSB7XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5LlBPU0lUSU9OSU5HLCBwb3NpdGlvbmluZyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlIEVsZW1lbnQgdmlzaWJpbGl0eS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgT3ZlcmxheS5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkLnZpc2libGUgIT09IHZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZC52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHBpeGVsIHBvc2l0aW9uLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBPdmVybGF5LnByb3RvdHlwZS51cGRhdGVQaXhlbFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbigpO1xuICAgICAgICBpZiAoIW1hcCB8fCAhbWFwLmlzUmVuZGVyZWQoKSB8fCAhcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBpeGVsID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGUocG9zaXRpb24pO1xuICAgICAgICB2YXIgbWFwU2l6ZSA9IG1hcC5nZXRTaXplKCk7XG4gICAgICAgIHRoaXMudXBkYXRlUmVuZGVyZWRQb3NpdGlvbihwaXhlbCwgbWFwU2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFRoZSBwaXhlbCBsb2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gbWFwU2l6ZSBUaGUgbWFwIHNpemUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLnVwZGF0ZVJlbmRlcmVkUG9zaXRpb24gPSBmdW5jdGlvbiAocGl4ZWwsIG1hcFNpemUpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5lbGVtZW50LnN0eWxlO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXQoKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uaW5nID0gdGhpcy5nZXRQb3NpdGlvbmluZygpO1xuICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHZhciB4ID0gTWF0aC5yb3VuZChwaXhlbFswXSArIG9mZnNldFswXSkgKyAncHgnO1xuICAgICAgICB2YXIgeSA9IE1hdGgucm91bmQocGl4ZWxbMV0gKyBvZmZzZXRbMV0pICsgJ3B4JztcbiAgICAgICAgdmFyIHBvc1ggPSAnMCUnO1xuICAgICAgICB2YXIgcG9zWSA9ICcwJSc7XG4gICAgICAgIGlmIChwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQk9UVE9NX1JJR0hUIHx8XG4gICAgICAgICAgICBwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQ0VOVEVSX1JJR0hUIHx8XG4gICAgICAgICAgICBwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuVE9QX1JJR0hUKSB7XG4gICAgICAgICAgICBwb3NYID0gJy0xMDAlJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQk9UVE9NX0NFTlRFUiB8fFxuICAgICAgICAgICAgcG9zaXRpb25pbmcgPT0gT3ZlcmxheVBvc2l0aW9uaW5nLkNFTlRFUl9DRU5URVIgfHxcbiAgICAgICAgICAgIHBvc2l0aW9uaW5nID09IE92ZXJsYXlQb3NpdGlvbmluZy5UT1BfQ0VOVEVSKSB7XG4gICAgICAgICAgICBwb3NYID0gJy01MCUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQk9UVE9NX0xFRlQgfHxcbiAgICAgICAgICAgIHBvc2l0aW9uaW5nID09IE92ZXJsYXlQb3NpdGlvbmluZy5CT1RUT01fQ0VOVEVSIHx8XG4gICAgICAgICAgICBwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICBwb3NZID0gJy0xMDAlJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQ0VOVEVSX0xFRlQgfHxcbiAgICAgICAgICAgIHBvc2l0aW9uaW5nID09IE92ZXJsYXlQb3NpdGlvbmluZy5DRU5URVJfQ0VOVEVSIHx8XG4gICAgICAgICAgICBwb3NpdGlvbmluZyA9PSBPdmVybGF5UG9zaXRpb25pbmcuQ0VOVEVSX1JJR0hUKSB7XG4gICAgICAgICAgICBwb3NZID0gJy01MCUnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHBvc1ggKyBcIiwgXCIgKyBwb3NZICsgXCIpIHRyYW5zbGF0ZShcIiArIHggKyBcIiwgXCIgKyB5ICsgXCIpXCI7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkLnRyYW5zZm9ybV8gIT0gdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIElFOVxuICAgICAgICAgICAgc3R5bGUubXNUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIG9wdGlvbnMgdGhpcyBPdmVybGF5IGhhcyBiZWVuIGNyZWF0ZWQgd2l0aFxuICAgICAqIEByZXR1cm4ge09wdGlvbnN9IG92ZXJsYXkgb3B0aW9uc1xuICAgICAqL1xuICAgIE92ZXJsYXkucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gICAgfTtcbiAgICByZXR1cm4gT3ZlcmxheTtcbn0oQmFzZU9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgT3ZlcmxheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU92ZXJsYXkuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1RleHRcbiAqL1xuaW1wb3J0IEZpbGwgZnJvbSAnLi9GaWxsLmpzJztcbmltcG9ydCBUZXh0UGxhY2VtZW50IGZyb20gJy4vVGV4dFBsYWNlbWVudC5qcyc7XG5pbXBvcnQgeyB0b1NpemUgfSBmcm9tICcuLi9zaXplLmpzJztcbi8qKlxuICogVGhlIGRlZmF1bHQgZmlsbCBjb2xvciB0byB1c2UgaWYgbm8gZmlsbCB3YXMgc2V0IGF0IGNvbnN0cnVjdGlvbiB0aW1lOyBhXG4gKiBibGFja2lzaCBgIzMzM2AuXG4gKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbnZhciBERUZBVUxUX0ZJTExfQ09MT1IgPSAnIzMzMyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZm9udF0gRm9udCBzdHlsZSBhcyBDU1MgJ2ZvbnQnIHZhbHVlLCBzZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZvbnQuIERlZmF1bHQgaXMgJzEwcHggc2Fucy1zZXJpZidcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4QW5nbGU9TWF0aC5QSS80XSBXaGVuIGBwbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgYSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAqIFRoZSBleHBlY3RlZCB2YWx1ZSBpcyBpbiByYWRpYW5zLCBhbmQgdGhlIGRlZmF1bHQgaXMgNDXCsCAoYE1hdGguUEkgLyA0YCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29mZnNldFg9MF0gSG9yaXpvbnRhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCByaWdodC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb2Zmc2V0WT0wXSBWZXJ0aWNhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCBkb3duLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3ZlcmZsb3c9ZmFsc2VdIEZvciBwb2x5Z29uIGxhYmVscyBvciB3aGVuIGBwbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgdGV4dCB0byBleGNlZWRcbiAqIHRoZSB3aWR0aCBvZiB0aGUgcG9seWdvbiBhdCB0aGUgbGFiZWwgcG9zaXRpb24gb3IgdGhlIGxlbmd0aCBvZiB0aGUgcGF0aCB0aGF0IGl0IGZvbGxvd3MuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVGV4dFBsYWNlbWVudC5qc1wiKS5kZWZhdWx0fHN0cmluZ30gW3BsYWNlbWVudD0ncG9pbnQnXSBUZXh0IHBsYWNlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlXSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgdGV4dCB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZXh0XSBUZXh0IGNvbnRlbnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RleHRBbGlnbl0gVGV4dCBhbGlnbm1lbnQuIFBvc3NpYmxlIHZhbHVlczogJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJywgJ2VuZCcgb3IgJ3N0YXJ0Jy5cbiAqIERlZmF1bHQgaXMgJ2NlbnRlcicgZm9yIGBwbGFjZW1lbnQ6ICdwb2ludCdgLiBGb3IgYHBsYWNlbWVudDogJ2xpbmUnYCwgdGhlIGRlZmF1bHQgaXMgdG8gbGV0IHRoZSByZW5kZXJlciBjaG9vc2UgYVxuICogcGxhY2VtZW50IHdoZXJlIGBtYXhBbmdsZWAgaXMgbm90IGV4Y2VlZGVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZXh0QmFzZWxpbmU9J21pZGRsZSddIFRleHQgYmFzZSBsaW5lLiBQb3NzaWJsZSB2YWx1ZXM6ICdib3R0b20nLCAndG9wJywgJ21pZGRsZScsICdhbHBoYWJldGljJyxcbiAqICdoYW5naW5nJywgJ2lkZW9ncmFwaGljJy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLiBJZiBub25lIGlzIHByb3ZpZGVkLCB3ZSdsbCB1c2UgYSBkYXJrIGZpbGwtc3R5bGUgKCMzMzMpLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbc3Ryb2tlXSBTdHJva2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZEZpbGxdIEZpbGwgc3R5bGUgZm9yIHRoZSB0ZXh0IGJhY2tncm91bmQgd2hlbiBgcGxhY2VtZW50YCBpc1xuICogYCdwb2ludCdgLiBEZWZhdWx0IGlzIG5vIGZpbGwuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kU3Ryb2tlXSBTdHJva2Ugc3R5bGUgZm9yIHRoZSB0ZXh0IGJhY2tncm91bmQgIHdoZW4gYHBsYWNlbWVudGBcbiAqIGlzIGAncG9pbnQnYC4gRGVmYXVsdCBpcyBubyBzdHJva2UuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyBpbiBwaXhlbHMgYXJvdW5kIHRoZSB0ZXh0IGZvciBkZWNsdXR0ZXJpbmcgYW5kIGJhY2tncm91bmQuIFRoZSBvcmRlciBvZlxuICogdmFsdWVzIGluIHRoZSBhcnJheSBpcyBgW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF1gLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCB0ZXh0IHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbnZhciBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dChvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnRfID0gb3B0aW9ucy5mb250O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uXyA9IG9wdGlvbnMucm90YXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlXyA9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShvcHRpb25zLnNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNjYWxlIDogMSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dF8gPSBvcHRpb25zLnRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dEFsaWduXyA9IG9wdGlvbnMudGV4dEFsaWduO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHRCYXNlbGluZV8gPSBvcHRpb25zLnRleHRCYXNlbGluZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbF8gPVxuICAgICAgICAgICAgb3B0aW9ucy5maWxsICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuZmlsbFxuICAgICAgICAgICAgICAgIDogbmV3IEZpbGwoeyBjb2xvcjogREVGQVVMVF9GSUxMX0NPTE9SIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4QW5nbGVfID1cbiAgICAgICAgICAgIG9wdGlvbnMubWF4QW5nbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4QW5nbGUgOiBNYXRoLlBJIC8gNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RleHRQbGFjZW1lbnQuanNcIikuZGVmYXVsdHxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsYWNlbWVudF8gPVxuICAgICAgICAgICAgb3B0aW9ucy5wbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGxhY2VtZW50IDogVGV4dFBsYWNlbWVudC5QT0lOVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vdmVyZmxvd18gPSAhIW9wdGlvbnMub3ZlcmZsb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3Ryb2tlXyA9IG9wdGlvbnMuc3Ryb2tlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0cm9rZSA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vZmZzZXRYXyA9IG9wdGlvbnMub2Zmc2V0WCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXRYIDogMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9mZnNldFlfID0gb3B0aW9ucy5vZmZzZXRZICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZnNldFkgOiAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kRmlsbF8gPSBvcHRpb25zLmJhY2tncm91bmRGaWxsXG4gICAgICAgICAgICA/IG9wdGlvbnMuYmFja2dyb3VuZEZpbGxcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU3Ryb2tlXyA9IG9wdGlvbnMuYmFja2dyb3VuZFN0cm9rZVxuICAgICAgICAgICAgPyBvcHRpb25zLmJhY2tncm91bmRTdHJva2VcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWRkaW5nXyA9IG9wdGlvbnMucGFkZGluZyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG9wdGlvbnMucGFkZGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtUZXh0fSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgICAgICByZXR1cm4gbmV3IFRleHQoe1xuICAgICAgICAgICAgZm9udDogdGhpcy5nZXRGb250KCksXG4gICAgICAgICAgICBwbGFjZW1lbnQ6IHRoaXMuZ2V0UGxhY2VtZW50KCksXG4gICAgICAgICAgICBtYXhBbmdsZTogdGhpcy5nZXRNYXhBbmdsZSgpLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IHRoaXMuZ2V0T3ZlcmZsb3coKSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgICAgICAgdGV4dDogdGhpcy5nZXRUZXh0KCksXG4gICAgICAgICAgICB0ZXh0QWxpZ246IHRoaXMuZ2V0VGV4dEFsaWduKCksXG4gICAgICAgICAgICB0ZXh0QmFzZWxpbmU6IHRoaXMuZ2V0VGV4dEJhc2VsaW5lKCksXG4gICAgICAgICAgICBmaWxsOiB0aGlzLmdldEZpbGwoKSA/IHRoaXMuZ2V0RmlsbCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvZmZzZXRYOiB0aGlzLmdldE9mZnNldFgoKSxcbiAgICAgICAgICAgIG9mZnNldFk6IHRoaXMuZ2V0T2Zmc2V0WSgpLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbGw6IHRoaXMuZ2V0QmFja2dyb3VuZEZpbGwoKVxuICAgICAgICAgICAgICAgID8gdGhpcy5nZXRCYWNrZ3JvdW5kRmlsbCgpLmNsb25lKClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2U6IHRoaXMuZ2V0QmFja2dyb3VuZFN0cm9rZSgpXG4gICAgICAgICAgICAgICAgPyB0aGlzLmdldEJhY2tncm91bmRTdHJva2UoKS5jbG9uZSgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwYWRkaW5nOiB0aGlzLmdldFBhZGRpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGBvdmVyZmxvd2AgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBMZXQgdGV4dCBvdmVyZmxvdyB0aGUgbGVuZ3RoIG9mIHRoZSBwYXRoIHRoZXkgZm9sbG93LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRPdmVyZmxvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmZsb3dfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmb250IG5hbWUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gRm9udC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0Rm9udCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1heGltdW0gYW5nbGUgYmV0d2VlbiBhZGphY2VudCBjaGFyYWN0ZXJzLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TWF4QW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heEFuZ2xlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGFiZWwgcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGV4dFBsYWNlbWVudC5qc1wiKS5kZWZhdWx0fHN0cmluZ30gVGV4dCBwbGFjZW1lbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFBsYWNlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VtZW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgeC1vZmZzZXQgZm9yIHRoZSB0ZXh0LlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSG9yaXpvbnRhbCB0ZXh0IG9mZnNldC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0T2Zmc2V0WCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0WF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHktb2Zmc2V0IGZvciB0aGUgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFZlcnRpY2FsIHRleHQgb2Zmc2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRPZmZzZXRZID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXRZXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZmlsbCBzdHlsZSBmb3IgdGhlIHRleHQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHRleHQgcm90YXRlcyB3aXRoIHRoZSBtYXAuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IFJvdGF0ZSB3aXRoIG1hcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0Um90YXRlV2l0aFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVdpdGhWaWV3XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCByb3RhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0Um90YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCBzY2FsZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gU2NhbGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTY2FsZSBhcnJheS5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRTY2FsZUFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZUFycmF5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3Ryb2tlIHN0eWxlIGZvciB0aGUgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFN0cm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUZXh0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGV4dCBhbGlnbm1lbnQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGV4dCBhbGlnbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0VGV4dEFsaWduID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0QWxpZ25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0ZXh0IGJhc2VsaW5lLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRleHQgYmFzZWxpbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFRleHRCYXNlbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dEJhc2VsaW5lXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYmFja2dyb3VuZCBmaWxsIHN0eWxlIGZvciB0aGUgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gRmlsbCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRGaWxsXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYmFja2dyb3VuZCBzdHJva2Ugc3R5bGUgZm9yIHRoZSB0ZXh0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFN0cm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZFN0cm9rZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhZGRpbmcgZm9yIHRoZSB0ZXh0LlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFBhZGRpbmcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldFBhZGRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhZGRpbmdfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBgb3ZlcmZsb3dgIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVyZmxvdyBMZXQgdGV4dCBvdmVyZmxvdyB0aGUgcGF0aCB0aGF0IGl0IGZvbGxvd3MuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldE92ZXJmbG93ID0gZnVuY3Rpb24gKG92ZXJmbG93KSB7XG4gICAgICAgIHRoaXMub3ZlcmZsb3dfID0gb3ZlcmZsb3c7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZvbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGZvbnQgRm9udC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuc2V0Rm9udCA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIHRoaXMuZm9udF8gPSBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBbmdsZSBBbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRNYXhBbmdsZSA9IGZ1bmN0aW9uIChtYXhBbmdsZSkge1xuICAgICAgICB0aGlzLm1heEFuZ2xlXyA9IG1heEFuZ2xlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB4IG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIEhvcml6b250YWwgdGV4dCBvZmZzZXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldE9mZnNldFggPSBmdW5jdGlvbiAob2Zmc2V0WCkge1xuICAgICAgICB0aGlzLm9mZnNldFhfID0gb2Zmc2V0WDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgeSBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSBWZXJ0aWNhbCB0ZXh0IG9mZnNldC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuc2V0T2Zmc2V0WSA9IGZ1bmN0aW9uIChvZmZzZXRZKSB7XG4gICAgICAgIHRoaXMub2Zmc2V0WV8gPSBvZmZzZXRZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0ZXh0IHBsYWNlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UZXh0UGxhY2VtZW50LmpzXCIpLmRlZmF1bHR8c3RyaW5nfSBwbGFjZW1lbnQgUGxhY2VtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRQbGFjZW1lbnQgPSBmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgICAgIHRoaXMucGxhY2VtZW50XyA9IHBsYWNlbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRvIHJvdGF0ZSB0aGUgdGV4dCB3aXRoIHRoZSB2aWV3LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb3RhdGVXaXRoVmlldyBSb3RhdGUgd2l0aCBtYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFJvdGF0ZVdpdGhWaWV3ID0gZnVuY3Rpb24gKHJvdGF0ZVdpdGhWaWV3KSB7XG4gICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gcm90YXRlV2l0aFZpZXc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldEZpbGwgPSBmdW5jdGlvbiAoZmlsbCkge1xuICAgICAgICB0aGlzLmZpbGxfID0gZmlsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRSb3RhdGlvbiA9IGZ1bmN0aW9uIChyb3RhdGlvbikge1xuICAgICAgICB0aGlzLnJvdGF0aW9uXyA9IHJvdGF0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzY2FsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IHNjYWxlIFNjYWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRTY2FsZSA9IGZ1bmN0aW9uIChzY2FsZSkge1xuICAgICAgICB0aGlzLnNjYWxlXyA9IHNjYWxlO1xuICAgICAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKHNjYWxlICE9PSB1bmRlZmluZWQgPyBzY2FsZSA6IDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHJva2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZSBTdHJva2Ugc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFN0cm9rZSA9IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgdGhpcy5zdHJva2VfID0gc3Ryb2tlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB0ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSB0ZXh0IFRleHQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB0aGlzLnRleHRfID0gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGV4dCBhbGlnbm1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHRleHRBbGlnbiBUZXh0IGFsaWduLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5zZXRUZXh0QWxpZ24gPSBmdW5jdGlvbiAodGV4dEFsaWduKSB7XG4gICAgICAgIHRoaXMudGV4dEFsaWduXyA9IHRleHRBbGlnbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGV4dCBiYXNlbGluZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gdGV4dEJhc2VsaW5lIFRleHQgYmFzZWxpbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFRleHRCYXNlbGluZSA9IGZ1bmN0aW9uICh0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgdGhpcy50ZXh0QmFzZWxpbmVfID0gdGV4dEJhc2VsaW5lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBiYWNrZ3JvdW5kIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldEJhY2tncm91bmRGaWxsID0gZnVuY3Rpb24gKGZpbGwpIHtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kRmlsbF8gPSBmaWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBiYWNrZ3JvdW5kIHN0cm9rZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZFN0cm9rZSA9IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU3Ryb2tlXyA9IHN0cm9rZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFkZGluZyAoYFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdYCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFBcnJheTxudW1iZXI+fSBwYWRkaW5nIFBhZGRpbmcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnNldFBhZGRpbmcgPSBmdW5jdGlvbiAocGFkZGluZykge1xuICAgICAgICB0aGlzLnBhZGRpbmdfID0gcGFkZGluZztcbiAgICB9O1xuICAgIHJldHVybiBUZXh0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFRleHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0LmpzLm1hcCIsImltcG9ydCB7IEZlYXR1cmUsIE1hcCwgT3ZlcmxheSB9IGZyb20gJ29sJ1xuaW1wb3J0IHsgQ2lyY2xlLCBGaWxsLCBTdHJva2UsIFN0eWxlLCBUZXh0IH0gZnJvbSAnb2wvc3R5bGUnXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ29sL2dlb20nXG5pbXBvcnQgeyBmcm9tTG9uTGF0IH0gZnJvbSAnb2wvcHJvaidcbmltcG9ydCB7IEZlYXR1cmVMaWtlIH0gZnJvbSAnb2wvRmVhdHVyZSdcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnb2wvZ2VvbS9HZW9tZXRyeVR5cGUnXG5pbXBvcnQgT3ZlcmxheVBvc2l0aW9uaW5nIGZyb20gJ29sL092ZXJsYXlQb3NpdGlvbmluZydcbmltcG9ydCB7IGZpbHRlck9iamVjdCB9IGZyb20gJy4vdXRpbCdcblxuY29uc3QgQ09MT1JfREVGQVVMVFMgPSB7XG4gIHByaW1hcnk6ICcjZmYxNDkzJyxcbiAgc2Vjb25kYXJ5OiAnI2ZmZmYwMCdcbn1cblxuY29uc3QgTUFSS0VSX1JBRElVUyA9IDExXG5jb25zdCBTVFJPS0VfV0lEVEggPSAzXG5cbmZ1bmN0aW9uIGNyZWF0ZUluZm9FbGVtZW50IChpbm5lckhUTUwgPSAnJykge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICB7IGNsYXNzTmFtZTogJ2luZm8nLCBpbm5lckhUTUwgfVxuICApXG59XG5cbmZ1bmN0aW9uIG1pbmlmeSAoaHRtbDogc3RyaW5nKSB7XG4gIHJldHVybiBodG1sLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJylcbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlciBleHRlbmRzIEZlYXR1cmUge1xuICBwcml2YXRlIHBvcHVwOiBPdmVybGF5ID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yICh7IG5hbWUsIGxvY2F0aW9uLCBpbmZvID0gbnVsbCwgaW5mb0hUTUwgPSAnJywgY29sb3IgPSB7fSB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogR2VvbWV0cnlUeXBlLlBPSU5ULFxuICAgICAgZ2VvbWV0cnk6IG5ldyBQb2ludChmcm9tTG9uTGF0KGxvY2F0aW9uKSksXG4gICAgICBuYW1lXG4gICAgfSlcblxuICAgIHRoaXMuc2V0KCdsb2NhdGlvbicsIGxvY2F0aW9uKVxuICAgIHRoaXMuc2V0KCdpbmZvJywgaW5mbyB8fCBjcmVhdGVJbmZvRWxlbWVudChpbmZvSFRNTCkpXG4gICAgdGhpcy5zZXQoJ2NvbG9yJywgeyAuLi5DT0xPUl9ERUZBVUxUUywgLi4uY29sb3IgfSlcbiAgICB0aGlzLm9uKCdwcm9wZXJ0eWNoYW5nZScsIHRoaXMuaGFuZGxlQ2hhbmdlKVxuICAgIHRoaXMucG9wdXAgPSB0aGlzLmluaXRQb3B1cCgpXG4gIH1cblxuICBwdWJsaWMgZ2V0IGhhc0luZm8gKCkge1xuICAgIHJldHVybiB0aGlzLnBvcHVwLmdldEVsZW1lbnQoKS5pbm5lckhUTUwudHJpbSgpICE9PSAnJ1xuICB9XG5cbiAgcHVibGljIHNob3dJbmZvIChtYXA6IE1hcCkge1xuICAgIGlmICh0aGlzLmhhc0luZm8pIHtcbiAgICAgIG1hcC5hZGRPdmVybGF5KHRoaXMucG9wdXApXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhpZGVJbmZvIChtYXA6IE1hcCkge1xuICAgIG1hcC5yZW1vdmVPdmVybGF5KHRoaXMucG9wdXApXG4gIH1cblxuICBwdWJsaWMgdG9nZ2xlSW5mbyAobWFwOiBNYXAsIHZhbHVlOiBib29sZWFuKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gdGhpcy5zaG93SW5mbyhtYXApIDogdGhpcy5oaWRlSW5mbyhtYXApXG4gIH1cblxuICBwdWJsaWMgdG9KU09OICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5nZXQoJ25hbWUnKSxcbiAgICAgIGxvY2F0aW9uOiB0aGlzLmdldCgnbG9jYXRpb24nKSxcbiAgICAgIGluZm9IVE1MOiBtaW5pZnkodGhpcy5nZXQoJ2luZm8nKS5pbm5lckhUTUwpLFxuICAgICAgY29sb3I6IGZpbHRlck9iamVjdDxzdHJpbmc+KHRoaXMuZ2V0KCdjb2xvcicpLCAoa2V5LCB2YWx1ZSkgPT5cbiAgICAgICAgdmFsdWUudG9Mb3dlckNhc2UoKSAhPT0gQ09MT1JfREVGQVVMVFNba2V5XSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGluaXRQb3B1cCAoKSB7XG4gICAgaWYgKHRoaXMucG9wdXApIHtcbiAgICAgIHRoaXMucG9wdXAuZGlzcG9zZSgpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBPdmVybGF5KHtcbiAgICAgIGVsZW1lbnQ6IHRoaXMuZ2V0KCdpbmZvJyksXG4gICAgICBwb3NpdGlvbjogZnJvbUxvbkxhdCh0aGlzLmdldCgnbG9jYXRpb24nKSksXG4gICAgICBwb3NpdGlvbmluZzogJ2NlbnRlci1sZWZ0JyBhcyBPdmVybGF5UG9zaXRpb25pbmcsXG4gICAgICBvZmZzZXQ6IFtNQVJLRVJfUkFESVVTICogMiwgMF0sXG4gICAgICBhdXRvUGFuOiB7XG4gICAgICAgIGFuaW1hdGlvbjogeyBkdXJhdGlvbjogMjAwIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgJ2xvY2F0aW9uJzpcbiAgICAgICAgdGhpcy5wb3B1cC5zZXRQb3NpdGlvbihmcm9tTG9uTGF0KHRoaXMuZ2V0KCdsb2NhdGlvbicpKSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgIHRoaXMucG9wdXAuc2V0RWxlbWVudCh0aGlzLmdldCgnaW5mbycpKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFya2VyU3R5bGUgKGZlYXR1cmU6IEZlYXR1cmVMaWtlLCBzZWxlY3RlZCA9IGZhbHNlKSB7XG4gIGNvbnN0IGNvbG9yID0gZmVhdHVyZS5nZXQoJ2NvbG9yJylcblxuICByZXR1cm4gbmV3IFN0eWxlKHtcbiAgICBpbWFnZTogbmV3IENpcmNsZSh7XG4gICAgICByYWRpdXM6IE1BUktFUl9SQURJVVMsXG4gICAgICBmaWxsOiBuZXcgRmlsbCh7IGNvbG9yOiBzZWxlY3RlZCA/IGNvbG9yLnNlY29uZGFyeSA6IGNvbG9yLnByaW1hcnkgfSksXG4gICAgICAuLi5zZWxlY3RlZCA/IHtcbiAgICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgICBjb2xvcjogY29sb3IucHJpbWFyeSxcbiAgICAgICAgICB3aWR0aDogU1RST0tFX1dJRFRIXG4gICAgICAgIH0pXG4gICAgICB9IDoge31cbiAgICB9KSxcbiAgICB0ZXh0OiBuZXcgVGV4dCh7XG4gICAgICB0ZXh0OiBmZWF0dXJlLmdldCgnbmFtZScpLFxuICAgICAgdGV4dEFsaWduOiAndG9wJyxcbiAgICAgIGJhY2tncm91bmRGaWxsOiBuZXcgRmlsbCh7IGNvbG9yOiAnd2hpdGUnIH0pLFxuICAgICAgcGFkZGluZzogWzQsIDQsIDQsIDRdLFxuICAgICAgb2Zmc2V0WTogKE1BUktFUl9SQURJVVMgKyBTVFJPS0VfV0lEVEgpICogMlxuICAgIH0pXG4gIH0pXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZmlsdGVyT2JqZWN0PFQgPSBhbnk+XG4gIChzb3VyY2U6IG9iamVjdCwgcHJlZGljYXRlOiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBUKSA9PiBib29sZWFuKSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhzb3VyY2UpLnJlZHVjZSgocmVzdWx0LCBba2V5LCB2YWx1ZV0pID0+ICh7XG4gICAgLi4ucmVzdWx0LFxuICAgIC4uLnByZWRpY2F0ZShrZXksIHZhbHVlKSA/IHsgW2tleV06IHZhbHVlIH0gOiB7fVxuICB9KSwge30pXG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZiA9IHt9O1xuLy8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuLy8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSAoY2h1bmtJZCkgPT4ge1xuXHRyZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5mKS5yZWR1Y2UoKHByb21pc2VzLCBrZXkpID0+IHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZba2V5XShjaHVua0lkLCBwcm9taXNlcyk7XG5cdFx0cmV0dXJuIHByb21pc2VzO1xuXHR9LCBbXSkpO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhc3luYyBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18udSA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIGNodW5rSWQgKyBcIi5qc1wiO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhbGwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm1pbmlDc3NGID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLmNzc1wiO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYuaiA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHRcdC8vIEpTT05QIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcblx0XHR2YXIgaW5zdGFsbGVkQ2h1bmtEYXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgPyBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gOiB1bmRlZmluZWQ7XG5cdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSB7IC8vIDAgbWVhbnMgXCJhbHJlYWR5IGluc3RhbGxlZFwiLlxuXG5cdFx0XHQvLyBhIFByb21pc2UgbWVhbnMgXCJjdXJyZW50bHkgbG9hZGluZ1wiLlxuXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG5cdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmKHRydWUpIHsgLy8gYWxsIGNodW5rcyBoYXZlIEpTXG5cdFx0XHRcdFx0Ly8gc2V0dXAgUHJvbWlzZSBpbiBjaHVuayBjYWNoZVxuXHRcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcblxuXHRcdFx0XHRcdC8vIHN0YXJ0IGNodW5rIGxvYWRpbmdcblx0XHRcdFx0XHR2YXIgdXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgX193ZWJwYWNrX3JlcXVpcmVfXy51KGNodW5rSWQpO1xuXHRcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcblx0XHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcblx0XHRcdFx0XHR2YXIgbG9hZGluZ0VuZGVkID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSkge1xuXHRcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IubWVzc2FnZSA9ICdMb2FkaW5nIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci50eXBlID0gZXJyb3JUeXBlO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuXHRcdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YVsxXShlcnJvcik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubCh1cmwsIGxvYWRpbmdFbmRlZCwgXCJjaHVuay1cIiArIGNodW5rSWQsIGNodW5rSWQpO1xuXHRcdFx0XHR9IGVsc2UgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0XHRcdH1cblx0XHR9XG59O1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBkZWZlcnJlZCBzdGFydHVwXG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG5cdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuXHR9XG5cbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmttYXBfbWFya2Vyc1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmttYXBfbWFya2Vyc1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7XG5cbi8vIG5vIGRlZmVycmVkIHN0YXJ0dXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvbkltYWdlQ2FjaGVcbiAqL1xuaW1wb3J0IHsgYXNTdHJpbmcgfSBmcm9tICcuLi9jb2xvci5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNpbmdsZXRvbiBjbGFzcy4gQXZhaWxhYmxlIHRocm91Z2gge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZX5zaGFyZWR9LlxuICovXG52YXIgSWNvbkltYWdlQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSWNvbkltYWdlQ2FjaGUoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZV8gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlU2l6ZV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4Q2FjaGVTaXplXyA9IDMyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBJY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FjaGVfID0ge307XG4gICAgICAgIHRoaXMuY2FjaGVTaXplXyA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgICAqL1xuICAgIEljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5jYW5FeHBpcmVDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVTaXplXyA+IHRoaXMubWF4Q2FjaGVTaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgICAqL1xuICAgIEljb25JbWFnZUNhY2hlLnByb3RvdHlwZS5leHBpcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNhY2hlXykge1xuICAgICAgICAgICAgICAgIHZhciBpY29uSW1hZ2UgPSB0aGlzLmNhY2hlX1trZXldO1xuICAgICAgICAgICAgICAgIGlmICgoaSsrICYgMykgPT09IDAgJiYgIWljb25JbWFnZS5oYXNMaXN0ZW5lcigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlX1trZXldO1xuICAgICAgICAgICAgICAgICAgICAtLXRoaXMuY2FjaGVTaXplXztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHR9IEljb24gaW1hZ2UuXG4gICAgICovXG4gICAgSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChzcmMsIGNyb3NzT3JpZ2luLCBjb2xvcikge1xuICAgICAgICB2YXIga2V5ID0gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgICAgICAgcmV0dXJuIGtleSBpbiB0aGlzLmNhY2hlXyA/IHRoaXMuY2FjaGVfW2tleV0gOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fSBpY29uSW1hZ2UgSWNvbiBpbWFnZS5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2VDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yLCBpY29uSW1hZ2UpIHtcbiAgICAgICAgdmFyIGtleSA9IGdldEtleShzcmMsIGNyb3NzT3JpZ2luLCBjb2xvcik7XG4gICAgICAgIHRoaXMuY2FjaGVfW2tleV0gPSBpY29uSW1hZ2U7XG4gICAgICAgICsrdGhpcy5jYWNoZVNpemVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjYWNoZSBzaXplIG9mIHRoZSBpY29uIGNhY2hlLiBEZWZhdWx0IGlzIGAzMmAuIENoYW5nZSB0aGlzIHZhbHVlIHdoZW5cbiAgICAgKiB5b3VyIG1hcCB1c2VzIG1vcmUgdGhhbiAzMiBkaWZmZXJlbnQgaWNvbiBpbWFnZXMgYW5kIHlvdSBhcmUgbm90IGNhY2hpbmcgaWNvblxuICAgICAqIHN0eWxlcyBvbiB0aGUgYXBwbGljYXRpb24gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heENhY2hlU2l6ZSBDYWNoZSBtYXggc2l6ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbkltYWdlQ2FjaGUucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAobWF4Q2FjaGVTaXplKSB7XG4gICAgICAgIHRoaXMubWF4Q2FjaGVTaXplXyA9IG1heENhY2hlU2l6ZTtcbiAgICAgICAgdGhpcy5leHBpcmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBJY29uSW1hZ2VDYWNoZTtcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gQ2FjaGUga2V5LlxuICovXG5mdW5jdGlvbiBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpIHtcbiAgICB2YXIgY29sb3JTdHJpbmcgPSBjb2xvciA/IGFzU3RyaW5nKGNvbG9yKSA6ICdudWxsJztcbiAgICByZXR1cm4gY3Jvc3NPcmlnaW4gKyAnOicgKyBzcmMgKyAnOicgKyBjb2xvclN0cmluZztcbn1cbmV4cG9ydCBkZWZhdWx0IEljb25JbWFnZUNhY2hlO1xuLyoqXG4gKiBUaGUge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZX5JY29uSW1hZ2VDYWNoZX0gZm9yXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25+SWNvbn0gaW1hZ2VzLlxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIHNoYXJlZCA9IG5ldyBJY29uSW1hZ2VDYWNoZSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbkltYWdlQ2FjaGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1Byb3BlcnR5XG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIE9QQUNJVFk6ICdvcGFjaXR5JyxcbiAgICBWSVNJQkxFOiAndmlzaWJsZScsXG4gICAgRVhURU5UOiAnZXh0ZW50JyxcbiAgICBaX0lOREVYOiAnekluZGV4JyxcbiAgICBNQVhfUkVTT0xVVElPTjogJ21heFJlc29sdXRpb24nLFxuICAgIE1JTl9SRVNPTFVUSU9OOiAnbWluUmVzb2x1dGlvbicsXG4gICAgTUFYX1pPT006ICdtYXhab29tJyxcbiAgICBNSU5fWk9PTTogJ21pblpvb20nLFxuICAgIFNPVVJDRTogJ3NvdXJjZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvcGVydHkuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgTGF5ZXJQcm9wZXJ0eSBmcm9tICcuL1Byb3BlcnR5LmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL21hdGguanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIE5vdGUgdGhhdCB3aXRoIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvQmFzZX0gYW5kIGFsbCBpdHMgc3ViY2xhc3NlcywgYW55IHByb3BlcnR5IHNldCBpblxuICogdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R9IHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3QsIHNvXG4gKiBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIEJhc2VMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZUxheWVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBMYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VMYXllcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZXSA9XG4gICAgICAgICAgICBvcHRpb25zLm9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3BhY2l0eSA6IDE7XG4gICAgICAgIGFzc2VydCh0eXBlb2YgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk9QQUNJVFldID09PSAnbnVtYmVyJywgNjQpOyAvLyBMYXllciBvcGFjaXR5IG11c3QgYmUgYSBudW1iZXJcbiAgICAgICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5LlZJU0lCTEVdID1cbiAgICAgICAgICAgIG9wdGlvbnMudmlzaWJsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy52aXNpYmxlIDogdHJ1ZTtcbiAgICAgICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5LlpfSU5ERVhdID0gb3B0aW9ucy56SW5kZXg7XG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NQVhfUkVTT0xVVElPTl0gPVxuICAgICAgICAgICAgb3B0aW9ucy5tYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heFJlc29sdXRpb24gOiBJbmZpbml0eTtcbiAgICAgICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1JTl9SRVNPTFVUSU9OXSA9XG4gICAgICAgICAgICBvcHRpb25zLm1pblJlc29sdXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluUmVzb2x1dGlvbiA6IDA7XG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTV0gPVxuICAgICAgICAgICAgb3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblpvb20gOiAtSW5maW5pdHk7XG4gICAgICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NQVhfWk9PTV0gPVxuICAgICAgICAgICAgb3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heFpvb20gOiBJbmZpbml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGFzc05hbWVfID1cbiAgICAgICAgICAgIHByb3BlcnRpZXMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC1sYXllcic7XG4gICAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzLmNsYXNzTmFtZTtcbiAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGVfID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IENTUyBjbGFzcyBuYW1lLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFzc05hbWVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IG1lYW50IHRvIGJlIGNhbGxlZCBieSBsYXllcnMgb3IgbGF5ZXIgcmVuZGVyZXJzIGJlY2F1c2UgdGhlIHN0YXRlXG4gICAgICogaXMgaW5jb3JyZWN0IGlmIHRoZSBsYXllciBpcyBpbmNsdWRlZCBpbiBhIGxheWVyIGdyb3VwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X21hbmFnZWQgTGF5ZXIgaXMgbWFuYWdlZC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlfSBMYXllciBzdGF0ZS5cbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldExheWVyU3RhdGUgPSBmdW5jdGlvbiAob3B0X21hbmFnZWQpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlfSAqL1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlXyB8fFxuICAgICAgICAgICAgLyoqIEB0eXBlIHs/fSAqLyAoe1xuICAgICAgICAgICAgICAgIGxheWVyOiB0aGlzLFxuICAgICAgICAgICAgICAgIG1hbmFnZWQ6IG9wdF9tYW5hZ2VkID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0X21hbmFnZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdmFyIHpJbmRleCA9IHRoaXMuZ2V0WkluZGV4KCk7XG4gICAgICAgIHN0YXRlLm9wYWNpdHkgPSBjbGFtcChNYXRoLnJvdW5kKHRoaXMuZ2V0T3BhY2l0eSgpICogMTAwKSAvIDEwMCwgMCwgMSk7XG4gICAgICAgIHN0YXRlLnNvdXJjZVN0YXRlID0gdGhpcy5nZXRTb3VyY2VTdGF0ZSgpO1xuICAgICAgICBzdGF0ZS52aXNpYmxlID0gdGhpcy5nZXRWaXNpYmxlKCk7XG4gICAgICAgIHN0YXRlLmV4dGVudCA9IHRoaXMuZ2V0RXh0ZW50KCk7XG4gICAgICAgIHN0YXRlLnpJbmRleCA9XG4gICAgICAgICAgICB6SW5kZXggIT09IHVuZGVmaW5lZCA/IHpJbmRleCA6IHN0YXRlLm1hbmFnZWQgPT09IGZhbHNlID8gSW5maW5pdHkgOiAwO1xuICAgICAgICBzdGF0ZS5tYXhSZXNvbHV0aW9uID0gdGhpcy5nZXRNYXhSZXNvbHV0aW9uKCk7XG4gICAgICAgIHN0YXRlLm1pblJlc29sdXRpb24gPSBNYXRoLm1heCh0aGlzLmdldE1pblJlc29sdXRpb24oKSwgMCk7XG4gICAgICAgIHN0YXRlLm1pblpvb20gPSB0aGlzLmdldE1pblpvb20oKTtcbiAgICAgICAgc3RhdGUubWF4Wm9vbSA9IHRoaXMuZ2V0TWF4Wm9vbSgpO1xuICAgICAgICB0aGlzLnN0YXRlXyA9IHN0YXRlO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD49fSBvcHRfYXJyYXkgQXJyYXkgb2YgbGF5ZXJzICh0byBiZVxuICAgICAqICAgICBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gQXJyYXkgb2YgbGF5ZXJzLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJzQXJyYXkgPSBmdW5jdGlvbiAob3B0X2FycmF5KSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPj19IG9wdF9zdGF0ZXMgT3B0aW9uYWwgbGlzdCBvZiBsYXllclxuICAgICAqICAgICBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRMYXllclN0YXRlc0FycmF5ID0gZnVuY3Rpb24gKG9wdF9zdGF0ZXMpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudCBleHRlbnR9IG9mIHRoZSBsYXllciBvciBgdW5kZWZpbmVkYCBpZiBpdFxuICAgICAqIHdpbGwgYmUgdmlzaWJsZSByZWdhcmRsZXNzIG9mIGV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gVGhlIGxheWVyIGV4dGVudC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LkVYVEVOVCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldE1pblJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT04pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBsYXllci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0TWluWm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9aT09NKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyIChiZXR3ZWVuIDAgYW5kIDEpLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0T3BhY2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gU291cmNlIHN0YXRlLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0U291cmNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllciAoYHRydWVgIG9yIGBmYWxzZWApLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLmdldFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlZJU0lCTEUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgWi1pbmRleCBvZiB0aGUgbGF5ZXIsIHdoaWNoIGlzIHVzZWQgdG8gb3JkZXIgbGF5ZXJzIGJlZm9yZVxuICAgICAqIHJlbmRlcmluZy4gVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIFotaW5kZXggb2YgdGhlIGxheWVyLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZ2V0WkluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlpfSU5ERVgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZXh0ZW50IGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLiAgSWYgYHVuZGVmaW5lZGAsIHRoZSBsYXllclxuICAgICAqIHdpbGwgYmUgdmlzaWJsZSBhdCBhbGwgZXh0ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR8dW5kZWZpbmVkfSBleHRlbnQgVGhlIGV4dGVudCBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuRVhURU5ULCBleHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXhpbXVtIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFJlc29sdXRpb24gVGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gKG1heFJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfUkVTT0xVVElPTiwgbWF4UmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1pbmltdW0gcmVzb2x1dGlvbiBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluUmVzb2x1dGlvbiBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldE1pblJlc29sdXRpb24gPSBmdW5jdGlvbiAobWluUmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1JTl9SRVNPTFVUSU9OLCBtaW5SZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF4aW11bSB6b29tIChleGNsdXNpdmUpIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgem9vbSBsZXZlbHMgZm9yIGxheWVyIHZpc2liaWxpdHkgYXJlIGJhc2VkIG9uIHRoZVxuICAgICAqIHZpZXcgem9vbSBsZXZlbCwgd2hpY2ggbWF5IGJlIGRpZmZlcmVudCBmcm9tIGEgdGlsZSBzb3VyY2Ugem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4Wm9vbSBUaGUgbWF4aW11bSB6b29tIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldE1heFpvb20gPSBmdW5jdGlvbiAobWF4Wm9vbSkge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1BWF9aT09NLCBtYXhab29tKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWluaW11bSB6b29tIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgem9vbSBsZXZlbHMgZm9yIGxheWVyIHZpc2liaWxpdHkgYXJlIGJhc2VkIG9uIHRoZVxuICAgICAqIHZpZXcgem9vbSBsZXZlbCwgd2hpY2ggbWF5IGJlIGRpZmZlcmVudCBmcm9tIGEgdGlsZSBzb3VyY2Ugem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluWm9vbSBUaGUgbWluaW11bSB6b29tIG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldE1pblpvb20gPSBmdW5jdGlvbiAobWluWm9vbSkge1xuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1JTl9aT09NLCBtaW5ab29tKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIsIGFsbG93ZWQgdmFsdWVzIHJhbmdlIGZyb20gMCB0byAxLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IFRoZSBvcGFjaXR5IG9mIHRoZSBsYXllci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlTGF5ZXIucHJvdG90eXBlLnNldE9wYWNpdHkgPSBmdW5jdGlvbiAob3BhY2l0eSkge1xuICAgICAgICBhc3NlcnQodHlwZW9mIG9wYWNpdHkgPT09ICdudW1iZXInLCA2NCk7IC8vIExheWVyIG9wYWNpdHkgbXVzdCBiZSBhIG51bWJlclxuICAgICAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk9QQUNJVFksIG9wYWNpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllciAoYHRydWVgIG9yIGBmYWxzZWApLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmlzaWJsZSBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRWaXNpYmxlID0gZnVuY3Rpb24gKHZpc2libGUpIHtcbiAgICAgICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFLCB2aXNpYmxlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBaLWluZGV4IG9mIHRoZSBsYXllciwgd2hpY2ggaXMgdXNlZCB0byBvcmRlciBsYXllcnMgYmVmb3JlIHJlbmRlcmluZy5cbiAgICAgKiBUaGUgZGVmYXVsdCBaLWluZGV4IGlzIDAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHppbmRleCBUaGUgei1pbmRleCBvZiB0aGUgbGF5ZXIuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQmFzZUxheWVyLnByb3RvdHlwZS5zZXRaSW5kZXggPSBmdW5jdGlvbiAoemluZGV4KSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuWl9JTkRFWCwgemluZGV4KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIEJhc2VMYXllci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZV8pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVfLmxheWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VMYXllcjtcbn0oQmFzZU9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgQmFzZUxheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL0V2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYmVmb3JlIGEgbGF5ZXIgaXMgcmVuZGVyZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcHJlcmVuZGVyXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBSRVJFTkRFUjogJ3ByZXJlbmRlcicsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIGEgbGF5ZXIgaXMgcmVuZGVyZWQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcG9zdHJlbmRlclxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQT1NUUkVOREVSOiAncG9zdHJlbmRlcicsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSBsYXllcnMgYXJlIHJlbmRlcmVkLlxuICAgICAqIFRoZSBldmVudCBvYmplY3Qgd2lsbCBub3QgaGF2ZSBhIGBjb250ZXh0YCBzZXQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcHJlY29tcG9zZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQUkVDT01QT1NFOiAncHJlY29tcG9zZScsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIGFsbCBsYXllcnMgYXJlIHJlbmRlcmVkLlxuICAgICAqIFRoZSBldmVudCBvYmplY3Qgd2lsbCBub3QgaGF2ZSBhIGBjb250ZXh0YCBzZXQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcG9zdGNvbXBvc2VcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUE9TVENPTVBPU0U6ICdwb3N0Y29tcG9zZScsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLCBpLmUuIGFsbCBzb3VyY2VzIGFuZCB0aWxlcyBoYXZlXG4gICAgICogZmluaXNoZWQgbG9hZGluZyBmb3IgdGhlIGN1cnJlbnQgdmlld3BvcnQsIGFuZCBhbGwgdGlsZXMgYXJlIGZhZGVkIGluLlxuICAgICAqIFRoZSBldmVudCBvYmplY3Qgd2lsbCBub3QgaGF2ZSBhIGBjb250ZXh0YCBzZXQuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcmVuZGVyY29tcGxldGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUkVOREVSQ09NUExFVEU6ICdyZW5kZXJjb21wbGV0ZScsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRUeXBlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvU3RhdGVcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogU3RhdGUgb2YgdGhlIHNvdXJjZSwgb25lIG9mICd1bmRlZmluZWQnLCAnbG9hZGluZycsICdyZWFkeScgb3IgJ2Vycm9yJy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVOREVGSU5FRDogJ3VuZGVmaW5lZCcsXG4gICAgTE9BRElORzogJ2xvYWRpbmcnLFxuICAgIFJFQURZOiAncmVhZHknLFxuICAgIEVSUk9SOiAnZXJyb3InLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0YXRlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IEJhc2VMYXllciBmcm9tICcuL0Jhc2UuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBMYXllclByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuLi9zb3VyY2UvU3RhdGUuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgZ2V0Q2hhbmdlRXZlbnRUeXBlIH0gZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCB7IGxpc3RlbiwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZSk6SFRNTEVsZW1lbnR9IFJlbmRlckZ1bmN0aW9uXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBbc291cmNlXSBTb3VyY2UgZm9yIHRoaXMgbGF5ZXIuICBJZiBub3QgcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLFxuICogdGhlIHNvdXJjZSBjYW4gYmUgc2V0IGJ5IGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciNzZXRTb3VyY2UgbGF5ZXIuc2V0U291cmNlKHNvdXJjZSl9IGFmdGVyXG4gKiBjb25zdHJ1Y3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBbbWFwXSBNYXAuXG4gKiBAcHJvcGVydHkge1JlbmRlckZ1bmN0aW9ufSBbcmVuZGVyXSBSZW5kZXIgZnVuY3Rpb24uIFRha2VzIHRoZSBmcmFtZSBzdGF0ZSBhcyBpbnB1dCBhbmQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGFuXG4gKiBIVE1MIGVsZW1lbnQuIFdpbGwgb3ZlcndyaXRlIHRoZSBkZWZhdWx0IHJlbmRlcmluZyBmb3IgdGhlIGxheWVyLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHksIHRoZSB2YWx1ZSBpcyByb3VuZGVkIHRvIHR3byBkaWdpdHMgdG8gYXBwZWFyIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gc291cmNlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdmlzaWJsZVxuICogQHByb3BlcnR5IHtib29sZWFufSBtYW5hZ2VkXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdXG4gKiBAcHJvcGVydHkge251bWJlcn0gekluZGV4XG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4UmVzb2x1dGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblJlc29sdXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ab29tXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4Wm9vbVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZnJvbSB3aGljaCBhbGwgbGF5ZXIgdHlwZXMgYXJlIGRlcml2ZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW5zdGFudGlhdGVkXG4gKiBpbiB0aGUgY2FzZSB3aGVyZSBhIGN1c3RvbSBsYXllciBpcyBiZSBhZGRlZCB0byB0aGUgbWFwIHdpdGggYSBjdXN0b20gYHJlbmRlcmAgZnVuY3Rpb24uXG4gKiBTdWNoIGEgZnVuY3Rpb24gY2FuIGJlIHNwZWNpZmllZCBpbiB0aGUgYG9wdGlvbnNgIG9iamVjdCwgYW5kIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhbiBIVE1MIGVsZW1lbnQuXG4gKlxuICogQSB2aXN1YWwgcmVwcmVzZW50YXRpb24gb2YgcmFzdGVyIG9yIHZlY3RvciBtYXAgZGF0YS5cbiAqIExheWVycyBncm91cCB0b2dldGhlciB0aG9zZSBwcm9wZXJ0aWVzIHRoYXQgcGVydGFpbiB0byBob3cgdGhlIGRhdGEgaXMgdG8gYmVcbiAqIGRpc3BsYXllZCwgaXJyZXNwZWN0aXZlIG9mIHRoZSBzb3VyY2Ugb2YgdGhhdCBkYXRhLlxuICpcbiAqIExheWVycyBhcmUgdXN1YWxseSBhZGRlZCB0byBhIG1hcCB3aXRoIHtAbGluayBtb2R1bGU6b2wvTWFwI2FkZExheWVyfS4gQ29tcG9uZW50c1xuICogbGlrZSB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1NlbGVjdH5TZWxlY3R9IHVzZSB1bm1hbmFnZWQgbGF5ZXJzXG4gKiBpbnRlcm5hbGx5LiBUaGVzZSB1bm1hbmFnZWQgbGF5ZXJzIGFyZSBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcCB1c2luZ1xuICoge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciNzZXRNYXB9IGluc3RlYWQuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UgY2hhbmdlcy5cbiAqXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIHNldmVyYWwgbGF5ZXJzIG1pZ2h0IGdldCByZW5kZXJlZCB0b1xuICogdGhlIHNhbWUgSFRNTCBlbGVtZW50LCB3aGljaCB3aWxsIGNhdXNlIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNmb3JFYWNoTGF5ZXJBdFBpeGVsfSB0b1xuICogZ2l2ZSBmYWxzZSBwb3NpdGl2ZXMuIFRvIGF2b2lkIHRoaXMsIGFwcGx5IGRpZmZlcmVudCBgY2xhc3NOYW1lYCBwcm9wZXJ0aWVzIHRvIHRoZVxuICogbGF5ZXJzIGF0IGNyZWF0aW9uIHRpbWUuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5SZW5kZXJFdmVudCNwcmVyZW5kZXJcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuUmVuZGVyRXZlbnQjcG9zdHJlbmRlclxuICpcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBTb3VyY2VUeXBlXG4gKiBAYXBpXG4gKi9cbnZhciBMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIExheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF5ZXIob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYmFzZU9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMuc291cmNlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VPcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwUHJlY29tcG9zZUtleV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwUmVuZGVyS2V5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXJlci9MYXllci5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXJfID0gbnVsbDtcbiAgICAgICAgLy8gT3ZlcndyaXRlIGRlZmF1bHQgcmVuZGVyIG1ldGhvZCB3aXRoIGEgY3VzdG9tIG9uZVxuICAgICAgICBpZiAob3B0aW9ucy5yZW5kZXIpIHtcbiAgICAgICAgICAgIF90aGlzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLm1hcCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0TWFwKG9wdGlvbnMubWFwKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShMYXllclByb3BlcnR5LlNPVVJDRSksIF90aGlzLmhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyk7XG4gICAgICAgIHZhciBzb3VyY2UgPSBvcHRpb25zLnNvdXJjZVxuICAgICAgICAgICAgPyAvKiogQHR5cGUge1NvdXJjZVR5cGV9ICovIChvcHRpb25zLnNvdXJjZSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgX3RoaXMuc2V0U291cmNlKHNvdXJjZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+PX0gb3B0X2FycmF5IEFycmF5IG9mIGxheWVycyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IEFycmF5IG9mIGxheWVycy5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJzQXJyYXkgPSBmdW5jdGlvbiAob3B0X2FycmF5KSB7XG4gICAgICAgIHZhciBhcnJheSA9IG9wdF9hcnJheSA/IG9wdF9hcnJheSA6IFtdO1xuICAgICAgICBhcnJheS5wdXNoKHRoaXMpO1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+PX0gb3B0X3N0YXRlcyBPcHRpb25hbCBsaXN0IG9mIGxheWVyIHN0YXRlcyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBMaXN0IG9mIGxheWVyIHN0YXRlcy5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZ2V0TGF5ZXJTdGF0ZXNBcnJheSA9IGZ1bmN0aW9uIChvcHRfc3RhdGVzKSB7XG4gICAgICAgIHZhciBzdGF0ZXMgPSBvcHRfc3RhdGVzID8gb3B0X3N0YXRlcyA6IFtdO1xuICAgICAgICBzdGF0ZXMucHVzaCh0aGlzLmdldExheWVyU3RhdGUoKSk7XG4gICAgICAgIHJldHVybiBzdGF0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxheWVyIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtTb3VyY2VUeXBlfSBUaGUgbGF5ZXIgc291cmNlIChvciBgbnVsbGAgaWYgbm90IHlldCBzZXQpLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRTb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge1NvdXJjZVR5cGV9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlNPVVJDRSkpIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gU291cmNlIHN0YXRlLlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5nZXRTb3VyY2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgICAgIHJldHVybiAhc291cmNlID8gU291cmNlU3RhdGUuVU5ERUZJTkVEIDogc291cmNlLmdldFN0YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5oYW5kbGVTb3VyY2VDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc291cmNlQ2hhbmdlS2V5Xykge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnNvdXJjZUNoYW5nZUtleV8pO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbGlzdGVuKHNvdXJjZSwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVTb3VyY2VDaGFuZ2VfLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZVwiKS5kZWZhdWx0Pj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoXG4gICAgICogYW4gYXJyYXkgb2YgZmVhdHVyZXMuXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5nZXRGZWF0dXJlcyhwaXhlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbiBjaGFyZ2UgdG8gbWFuYWdlIHRoZSByZW5kZXJpbmcgb2YgdGhlIGxheWVyLiBPbmUgbGF5ZXIgdHlwZSBpc1xuICAgICAqIGJvdW5kZWQgd2l0aCBvbmUgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB3aGljaCB0aGUgcmVuZGVyZXIgbWF5IChidXQgbmVlZCBub3QpIHVzZVxuICAgICAqIGZvciByZW5kZXJpbmcgaXRzIGNvbnRlbnQuXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBsYXllclJlbmRlcmVyID0gdGhpcy5nZXRSZW5kZXJlcigpO1xuICAgICAgICBpZiAobGF5ZXJSZW5kZXJlci5wcmVwYXJlRnJhbWUoZnJhbWVTdGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXllclJlbmRlcmVyLnJlbmRlckZyYW1lKGZyYW1lU3RhdGUsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxheWVyIHRvIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBsYXllcnMgb24gYSBtYXAuIFRoZSBtYXAgd2lsbFxuICAgICAqIG5vdCBtYW5hZ2UgdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgY2FsbGJhY2sgaW5cbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL01hcCNmb3JFYWNoTGF5ZXJBdFBpeGVsfSB3aWxsIHJlY2VpdmUgYG51bGxgIGFzIGxheWVyLiBUaGlzXG4gICAgICogaXMgdXNlZnVsIGZvciB0ZW1wb3JhcnkgbGF5ZXJzLiBUbyByZW1vdmUgYW4gdW5tYW5hZ2VkIGxheWVyIGZyb20gdGhlIG1hcCxcbiAgICAgKiB1c2UgYCNzZXRNYXAobnVsbClgLlxuICAgICAqXG4gICAgICogVG8gYWRkIHRoZSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAsIHVzZVxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvTWFwI2FkZExheWVyfSBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcFByZWNvbXBvc2VLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMubWFwUHJlY29tcG9zZUtleV8pO1xuICAgICAgICAgICAgdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1hcFJlbmRlcktleV8pIHtcbiAgICAgICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBSZW5kZXJLZXlfKTtcbiAgICAgICAgICAgIHRoaXMubWFwUmVuZGVyS2V5XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgICAgdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IGxpc3RlbihtYXAsIFJlbmRlckV2ZW50VHlwZS5QUkVDT01QT1NFLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlckV2ZW50ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdH0gKi8gKGV2dCk7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyU3RhdGVzQXJyYXkgPSByZW5kZXJFdmVudC5mcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXk7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSB0aGlzLmdldExheWVyU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIC8vIEEgbGF5ZXIgY2FuIG9ubHkgYmUgYWRkZWQgdG8gdGhlIG1hcCBvbmNlLiBVc2UgZWl0aGVyIGBsYXllci5zZXRNYXAoKWAgb3IgYG1hcC5hZGRMYXllcigpYCwgbm90IGJvdGguXG4gICAgICAgICAgICAgICAgYXNzZXJ0KCFsYXllclN0YXRlc0FycmF5LnNvbWUoZnVuY3Rpb24gKGFycmF5TGF5ZXJTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXlMYXllclN0YXRlLmxheWVyID09PSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgICAgIH0pLCA2Nyk7XG4gICAgICAgICAgICAgICAgbGF5ZXJTdGF0ZXNBcnJheS5wdXNoKGxheWVyU3RhdGUpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLm1hcFJlbmRlcktleV8gPSBsaXN0ZW4odGhpcywgRXZlbnRUeXBlLkNIQU5HRSwgbWFwLnJlbmRlciwgbWFwKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxheWVyIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1NvdXJjZVR5cGV9IHNvdXJjZSBUaGUgbGF5ZXIgc291cmNlLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5zZXRTb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuU09VUkNFLCBzb3VyY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZW5kZXJlciBmb3IgdGhpcyBsYXllci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9yZW5kZXJlci9MYXllci5qc1wiKS5kZWZhdWx0fSBUaGUgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmdldFJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyXyA9IHRoaXMuY3JlYXRlUmVuZGVyZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgbGF5ZXIgaGFzIGEgcmVuZGVyZXIuXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmhhc1JlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnJlbmRlcmVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHJlbmRlcmVyIGZvciB0aGlzIGxheWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IEEgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBMYXllci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldFNvdXJjZShudWxsKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBMYXllcjtcbn0oQmFzZUxheWVyKSk7XG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGxheWVyIGlzIHZpc2libGUgYW5kIGlmIHRoZSBwcm92aWRlZCB2aWV3IHN0YXRlXG4gKiBoYXMgcmVzb2x1dGlvbiBhbmQgem9vbSBsZXZlbHMgdGhhdCBhcmUgaW4gcmFuZ2Ugb2YgdGhlIGxheWVyJ3MgbWluL21heC5cbiAqIEBwYXJhbSB7U3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1ZpZXcuanNcIikuU3RhdGV9IHZpZXdTdGF0ZSBWaWV3IHN0YXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGxheWVyIGlzIHZpc2libGUgYXQgdGhlIGdpdmVuIHZpZXcgc3RhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSB7XG4gICAgaWYgKCFsYXllclN0YXRlLnZpc2libGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIGlmIChyZXNvbHV0aW9uIDwgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uIHx8XG4gICAgICAgIHJlc29sdXRpb24gPj0gbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHpvb20gPSB2aWV3U3RhdGUuem9vbTtcbiAgICByZXR1cm4gem9vbSA+IGxheWVyU3RhdGUubWluWm9vbSAmJiB6b29tIDw9IGxheWVyU3RhdGUubWF4Wm9vbTtcbn1cbmV4cG9ydCBkZWZhdWx0IExheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nvb3JkaW5hdGVcbiAqL1xuaW1wb3J0IHsgZ2V0V2lkdGggfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBtb2R1bG8gfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHsgcGFkTnVtYmVyIH0gZnJvbSAnLi9zdHJpbmcuanMnO1xuLyoqXG4gKiBBbiBhcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBhbiB4eSBjb29yZGluYXRlLiBFeGFtcGxlOiBgWzE2LCA0OF1gLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IENvb3JkaW5hdGVcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYW5kXG4gKiB0cmFuc2Zvcm1zIGl0IGludG8gYSBge3N0cmluZ31gLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoQ29vcmRpbmF0ZXx1bmRlZmluZWQpKTogc3RyaW5nfSBDb29yZGluYXRlRm9ybWF0XG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQWRkIGBkZWx0YWAgdG8gYGNvb3JkaW5hdGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHthZGR9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBhZGQoY29vcmQsIFstMiwgNF0pO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbNS44NSwgNTEuOTgzMzMzXVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBkZWx0YSBEZWx0YS5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBpbnB1dCBjb29yZGluYXRlIGFkanVzdGVkIGJ5XG4gKiB0aGUgZ2l2ZW4gZGVsdGEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29vcmRpbmF0ZSwgZGVsdGEpIHtcbiAgICBjb29yZGluYXRlWzBdICs9ICtkZWx0YVswXTtcbiAgICBjb29yZGluYXRlWzFdICs9ICtkZWx0YVsxXTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9pbnQgY2xvc2VzdCB0byB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgb24gdGhlIHBhc3NlZCBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZSBUaGUgY2lyY2xlLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludCBvbiB0aGUgY2lyY3VtZmVyZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RPbkNpcmNsZShjb29yZGluYXRlLCBjaXJjbGUpIHtcbiAgICB2YXIgciA9IGNpcmNsZS5nZXRSYWRpdXMoKTtcbiAgICB2YXIgY2VudGVyID0gY2lyY2xlLmdldENlbnRlcigpO1xuICAgIHZhciB4MCA9IGNlbnRlclswXTtcbiAgICB2YXIgeTAgPSBjZW50ZXJbMV07XG4gICAgdmFyIHgxID0gY29vcmRpbmF0ZVswXTtcbiAgICB2YXIgeTEgPSBjb29yZGluYXRlWzFdO1xuICAgIHZhciBkeCA9IHgxIC0geDA7XG4gICAgdmFyIGR5ID0geTEgLSB5MDtcbiAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICAgICAgZHggPSAxO1xuICAgIH1cbiAgICB2YXIgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgdmFyIHggPSB4MCArIChyICogZHgpIC8gZDtcbiAgICB2YXIgeSA9IHkwICsgKHIgKiBkeSkgLyBkO1xuICAgIHJldHVybiBbeCwgeV07XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvaW50IGNsb3Nlc3QgdG8gdGhlIHBhc3NlZCBjb29yZGluYXRlIG9uIHRoZSBwYXNzZWQgc2VnbWVudC5cbiAqIFRoaXMgaXMgdGhlIGZvb3Qgb2YgdGhlIHBlcnBlbmRpY3VsYXIgb2YgdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQgd2hlblxuICogdGhlIGZvb3QgaXMgb24gdGhlIHNlZ21lbnQsIG9yIHRoZSBjbG9zZXN0IHNlZ21lbnQgY29vcmRpbmF0ZSB3aGVuIHRoZSBmb290XG4gKiBpcyBvdXRzaWRlIHRoZSBzZWdtZW50LlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7QXJyYXk8Q29vcmRpbmF0ZT59IHNlZ21lbnQgVGhlIHR3byBjb29yZGluYXRlc1xuICogb2YgdGhlIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgZm9vdCBvZiB0aGUgcGVycGVuZGljdWxhciBvZlxuICogdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0T25TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgICB2YXIgeDAgPSBjb29yZGluYXRlWzBdO1xuICAgIHZhciB5MCA9IGNvb3JkaW5hdGVbMV07XG4gICAgdmFyIHN0YXJ0ID0gc2VnbWVudFswXTtcbiAgICB2YXIgZW5kID0gc2VnbWVudFsxXTtcbiAgICB2YXIgeDEgPSBzdGFydFswXTtcbiAgICB2YXIgeTEgPSBzdGFydFsxXTtcbiAgICB2YXIgeDIgPSBlbmRbMF07XG4gICAgdmFyIHkyID0gZW5kWzFdO1xuICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgdmFyIGR5ID0geTIgLSB5MTtcbiAgICB2YXIgYWxvbmcgPSBkeCA9PT0gMCAmJiBkeSA9PT0gMFxuICAgICAgICA/IDBcbiAgICAgICAgOiAoZHggKiAoeDAgLSB4MSkgKyBkeSAqICh5MCAtIHkxKSkgLyAoZHggKiBkeCArIGR5ICogZHkgfHwgMCk7XG4gICAgdmFyIHgsIHk7XG4gICAgaWYgKGFsb25nIDw9IDApIHtcbiAgICAgICAgeCA9IHgxO1xuICAgICAgICB5ID0geTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFsb25nID49IDEpIHtcbiAgICAgICAgeCA9IHgyO1xuICAgICAgICB5ID0geTI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB4ID0geDEgKyBhbG9uZyAqIGR4O1xuICAgICAgICB5ID0geTEgKyBhbG9uZyAqIGR5O1xuICAgIH1cbiAgICByZXR1cm4gW3gsIHldO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGVGb3JtYXR9IGZ1bmN0aW9uIHRoYXQgY2FuIGJlXG4gKiB1c2VkIHRvIGZvcm1hdFxuICogYSB7Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2NyZWF0ZVN0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIHN0cmluZ2lmeUZ1bmMgPSBjcmVhdGVTdHJpbmdYWSgpO1xuICogICAgIHZhciBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIHdpdGggZXhwbGljaXRseSBzcGVjaWZ5aW5nIDIgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Y3JlYXRlU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc3RyaW5naWZ5RnVuYyA9IGNyZWF0ZVN0cmluZ1hZKDIpO1xuICogICAgIHZhciBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3Ljg1LCA0Ny45OCdcbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9mcmFjdGlvbkRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlRm9ybWF0fSBDb29yZGluYXRlIGZvcm1hdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0cmluZ1hZKG9wdF9mcmFjdGlvbkRpZ2l0cykge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcgWFkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nWFkoY29vcmRpbmF0ZSwgb3B0X2ZyYWN0aW9uRGlnaXRzKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGhlbWlzcGhlcmVzIEhlbWlzcGhlcmVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgRGVncmVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2ZyYWN0aW9uRGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVncmVlc1RvU3RyaW5nSERNUyhoZW1pc3BoZXJlcywgZGVncmVlcywgb3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gICAgdmFyIG5vcm1hbGl6ZWREZWdyZWVzID0gbW9kdWxvKGRlZ3JlZXMgKyAxODAsIDM2MCkgLSAxODA7XG4gICAgdmFyIHggPSBNYXRoLmFicygzNjAwICogbm9ybWFsaXplZERlZ3JlZXMpO1xuICAgIHZhciBkZmxQcmVjaXNpb24gPSBvcHRfZnJhY3Rpb25EaWdpdHMgfHwgMDtcbiAgICB2YXIgcHJlY2lzaW9uID0gTWF0aC5wb3coMTAsIGRmbFByZWNpc2lvbik7XG4gICAgdmFyIGRlZyA9IE1hdGguZmxvb3IoeCAvIDM2MDApO1xuICAgIHZhciBtaW4gPSBNYXRoLmZsb29yKCh4IC0gZGVnICogMzYwMCkgLyA2MCk7XG4gICAgdmFyIHNlYyA9IHggLSBkZWcgKiAzNjAwIC0gbWluICogNjA7XG4gICAgc2VjID0gTWF0aC5jZWlsKHNlYyAqIHByZWNpc2lvbikgLyBwcmVjaXNpb247XG4gICAgaWYgKHNlYyA+PSA2MCkge1xuICAgICAgICBzZWMgPSAwO1xuICAgICAgICBtaW4gKz0gMTtcbiAgICB9XG4gICAgaWYgKG1pbiA+PSA2MCkge1xuICAgICAgICBtaW4gPSAwO1xuICAgICAgICBkZWcgKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIChkZWcgK1xuICAgICAgICAnXFx1MDBiMCAnICtcbiAgICAgICAgcGFkTnVtYmVyKG1pbiwgMikgK1xuICAgICAgICAnXFx1MjAzMiAnICtcbiAgICAgICAgcGFkTnVtYmVyKHNlYywgMiwgZGZsUHJlY2lzaW9uKSArXG4gICAgICAgICdcXHUyMDMzJyArXG4gICAgICAgIChub3JtYWxpemVkRGVncmVlcyA9PSAwXG4gICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICA6ICcgJyArIGhlbWlzcGhlcmVzLmNoYXJBdChub3JtYWxpemVkRGVncmVlcyA8IDAgPyAxIDogMCkpKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgZ2l2ZW4ge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9IHRvIGEgc3RyaW5nXG4gKiB1c2luZyB0aGUgZ2l2ZW4gc3RyaW5nIHRlbXBsYXRlLiBUaGUgc3RyaW5ncyBge3h9YCBhbmQgYHt5fWAgaW4gdGhlIHRlbXBsYXRlXG4gKiB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIGZpcnN0IGFuZCBzZWNvbmQgY29vcmRpbmF0ZSB2YWx1ZXMgcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIHRoZSBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtmb3JtYXR9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgdGVtcGxhdGUgPSAnQ29vcmRpbmF0ZSBpcyAoe3h9fHt5fSkuJztcbiAqICAgICB2YXIgb3V0ID0gZm9ybWF0KGNvb3JkLCB0ZW1wbGF0ZSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnQ29vcmRpbmF0ZSBpcyAoOHw0OCkuJ1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIHRoZSBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtmb3JtYXR9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgdGVtcGxhdGUgPSAnQ29vcmRpbmF0ZSBpcyAoe3h9fHt5fSkuJztcbiAqICAgICB2YXIgb3V0ID0gZm9ybWF0KGNvb3JkLCB0ZW1wbGF0ZSwgMik7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnQ29vcmRpbmF0ZSBpcyAoNy44NXw0Ny45OCkuJ1xuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIEEgdGVtcGxhdGUgc3RyaW5nIHdpdGggYHt4fWAgYW5kIGB7eX1gIHBsYWNlaG9sZGVyc1xuICogICAgIHRoYXQgd2lsbCBiZSByZXBsYWNlZCBieSBmaXJzdCBhbmQgc2Vjb25kIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZnJhY3Rpb25EaWdpdHMgVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBGb3JtYXR0ZWQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChjb29yZGluYXRlLCB0ZW1wbGF0ZSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gICAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgne3h9JywgY29vcmRpbmF0ZVswXS50b0ZpeGVkKG9wdF9mcmFjdGlvbkRpZ2l0cykpXG4gICAgICAgICAgICAucmVwbGFjZSgne3l9JywgY29vcmRpbmF0ZVsxXS50b0ZpeGVkKG9wdF9mcmFjdGlvbkRpZ2l0cykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlMiBTZWNvbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gY29vcmRpbmF0ZXMgYXJlIGVxdWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGNvb3JkaW5hdGUxLCBjb29yZGluYXRlMikge1xuICAgIHZhciBlcXVhbHMgPSB0cnVlO1xuICAgIGZvciAodmFyIGkgPSBjb29yZGluYXRlMS5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAoY29vcmRpbmF0ZTFbaV0gIT0gY29vcmRpbmF0ZTJbaV0pIHtcbiAgICAgICAgICAgIGVxdWFscyA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVxdWFscztcbn1cbi8qKlxuICogUm90YXRlIGBjb29yZGluYXRlYCBieSBgYW5nbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kXG4gKiByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtyb3RhdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgcm90YXRlUmFkaWFucyA9IE1hdGguUEkgLyAyOyAvLyA5MCBkZWdyZWVzXG4gKiAgICAgcm90YXRlKGNvb3JkLCByb3RhdGVSYWRpYW5zKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWy00Ny45ODMzMzMsIDcuODVdXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgQW5nbGUgaW4gcmFkaWFuLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShjb29yZGluYXRlLCBhbmdsZSkge1xuICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luQW5nbGUgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgdmFyIHggPSBjb29yZGluYXRlWzBdICogY29zQW5nbGUgLSBjb29yZGluYXRlWzFdICogc2luQW5nbGU7XG4gICAgdmFyIHkgPSBjb29yZGluYXRlWzFdICogY29zQW5nbGUgKyBjb29yZGluYXRlWzBdICogc2luQW5nbGU7XG4gICAgY29vcmRpbmF0ZVswXSA9IHg7XG4gICAgY29vcmRpbmF0ZVsxXSA9IHk7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG4vKipcbiAqIFNjYWxlIGBjb29yZGluYXRlYCBieSBgc2NhbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgc2NhbGUgPSAxLjI7XG4gKiAgICAgc2NhbGVDb29yZGluYXRlKGNvb3JkLCBzY2FsZSk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFs5LjQyLCA1Ny41Nzk5OTk2XVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFNjYWxlIGZhY3Rvci5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShjb29yZGluYXRlLCBzY2FsZSkge1xuICAgIGNvb3JkaW5hdGVbMF0gKj0gc2NhbGU7XG4gICAgY29vcmRpbmF0ZVsxXSAqPSBzY2FsZTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gY29vcmQxIGFuZCBjb29yZDIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgICB2YXIgZHggPSBjb29yZDFbMF0gLSBjb29yZDJbMF07XG4gICAgdmFyIGR5ID0gY29vcmQxWzFdIC0gY29vcmQyWzFdO1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBEaXN0YW5jZSBiZXR3ZWVuIGNvb3JkMSBhbmQgY29vcmQyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNxdWFyZWQgZGlzdGFuY2UgZnJvbSBhIGNvb3JkaW5hdGUgdG8gYSBsaW5lIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUgb2YgdGhlIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxDb29yZGluYXRlPn0gc2VnbWVudCBMaW5lIHNlZ21lbnQgKDJcbiAqIGNvb3JkaW5hdGVzKS5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZSBmcm9tIHRoZSBwb2ludCB0byB0aGUgbGluZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlVG9TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKGNvb3JkaW5hdGUsIGNsb3Nlc3RPblNlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkpO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBnZW9ncmFwaGljIGNvb3JkaW5hdGUgd2l0aCB0aGUgaGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcywgYW5kXG4gKiBzZWNvbmRzLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nSERNU30gZnJvbSAnb2wvY29vcmRpbmF0ZSc7XG4gKlxuICogICAgIHZhciBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIHZhciBvdXQgPSB0b1N0cmluZ0hETVMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzQ3wrAgNTjigLIgNjDigLMgTiA3wrAgNTDigLIgNjDigLMgRSdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlJztcbiAqXG4gKiAgICAgdmFyIGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgdmFyIG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCwgMSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MC4w4oCzIE4gN8KwIDUw4oCyIDYwLjDigLMgRSdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2ZyYWN0aW9uRGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gSGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcyBhbmQgc2Vjb25kcy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nSERNUyhjb29yZGluYXRlLCBvcHRfZnJhY3Rpb25EaWdpdHMpIHtcbiAgICBpZiAoY29vcmRpbmF0ZSkge1xuICAgICAgICByZXR1cm4gKGRlZ3JlZXNUb1N0cmluZ0hETVMoJ05TJywgY29vcmRpbmF0ZVsxXSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgZGVncmVlc1RvU3RyaW5nSERNUygnRVcnLCBjb29yZGluYXRlWzBdLCBvcHRfZnJhY3Rpb25EaWdpdHMpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG59XG4vKipcbiAqIEZvcm1hdCBhIGNvb3JkaW5hdGUgYXMgYSBjb21tYSBkZWxpbWl0ZWQgc3RyaW5nLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgb3V0ID0gdG9TdHJpbmdYWShjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnOCwgNDgnXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgMSBmcmFjdGlvbmFsIGRpZ2l0OlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUnO1xuICpcbiAqICAgICB2YXIgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICB2YXIgb3V0ID0gdG9TdHJpbmdYWShjb29yZCwgMSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNy44LCA0OC4wJ1xuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZnJhY3Rpb25EaWdpdHMgVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBYWS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nWFkoY29vcmRpbmF0ZSwgb3B0X2ZyYWN0aW9uRGlnaXRzKSB7XG4gICAgcmV0dXJuIGZvcm1hdChjb29yZGluYXRlLCAne3h9LCB7eX0nLCBvcHRfZnJhY3Rpb25EaWdpdHMpO1xufVxuLyoqXG4gKiBNb2RpZmllcyB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZSBpbi1wbGFjZSB0byBiZSB3aXRoaW4gdGhlIHJlYWwgd29ybGRcbiAqIGV4dGVudC4gVGhlIGxvd2VyIHByb2plY3Rpb24gZXh0ZW50IGJvdW5kYXJ5IGlzIGluY2x1c2l2ZSwgdGhlIHVwcGVyIG9uZVxuICogZXhjbHVzaXZlLlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgY29vcmRpbmF0ZSB3aXRoaW4gdGhlIHJlYWwgd29ybGQgZXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFgoY29vcmRpbmF0ZSwgcHJvamVjdGlvbikge1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkpIHtcbiAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uLmdldEV4dGVudCgpKTtcbiAgICAgICAgdmFyIHdvcmxkc0F3YXkgPSBnZXRXb3JsZHNBd2F5KGNvb3JkaW5hdGUsIHByb2plY3Rpb24sIHdvcmxkV2lkdGgpO1xuICAgICAgICBpZiAod29ybGRzQXdheSkge1xuICAgICAgICAgICAgY29vcmRpbmF0ZVswXSAtPSB3b3JsZHNBd2F5ICogd29ybGRXaWR0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3NvdXJjZUV4dGVudFdpZHRoIFdpZHRoIG9mIHRoZSBzb3VyY2UgZXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBPZmZzZXQgaW4gd29ybGQgd2lkdGhzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V29ybGRzQXdheShjb29yZGluYXRlLCBwcm9qZWN0aW9uLCBvcHRfc291cmNlRXh0ZW50V2lkdGgpIHtcbiAgICB2YXIgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgdmFyIHdvcmxkc0F3YXkgPSAwO1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgKGNvb3JkaW5hdGVbMF0gPCBwcm9qZWN0aW9uRXh0ZW50WzBdIHx8IGNvb3JkaW5hdGVbMF0gPiBwcm9qZWN0aW9uRXh0ZW50WzJdKSkge1xuICAgICAgICB2YXIgc291cmNlRXh0ZW50V2lkdGggPSBvcHRfc291cmNlRXh0ZW50V2lkdGggfHwgZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgIHdvcmxkc0F3YXkgPSBNYXRoLmZsb29yKChjb29yZGluYXRlWzBdIC0gcHJvamVjdGlvbkV4dGVudFswXSkgLyBzb3VyY2VFeHRlbnRXaWR0aCk7XG4gICAgfVxuICAgIHJldHVybiB3b3JsZHNBd2F5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29vcmRpbmF0ZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL01hcFxuICovXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCB7IFRSVUUgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgYWJzdHJhY3QgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgbWFrZUludmVyc2UgfSBmcm9tICcuLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgZ2V0V2lkdGggfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgc2hhcmVkIGFzIGljb25JbWFnZUNhY2hlIH0gZnJvbSAnLi4vc3R5bGUvSWNvbkltYWdlQ2FjaGUuanMnO1xuaW1wb3J0IHsgaW5WaWV3IH0gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHsgd3JhcFggfSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYgSGl0TWF0Y2hcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllclxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5XG4gKiBAcHJvcGVydHkge251bWJlcn0gZGlzdGFuY2VTcVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrXG4gKiBAdGVtcGxhdGUgVFxuICovXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgTWFwUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1hcFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwUmVuZGVyZXIobWFwKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBfID0gbWFwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIEV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJFdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5jYWxjdWxhdGVNYXRyaWNlczJEID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB2YXIgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtO1xuICAgICAgICBjb21wb3NlVHJhbnNmb3JtKGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBmcmFtZVN0YXRlLnNpemVbMF0gLyAyLCBmcmFtZVN0YXRlLnNpemVbMV0gLyAyLCAxIC8gdmlld1N0YXRlLnJlc29sdXRpb24sIC0xIC8gdmlld1N0YXRlLnJlc29sdXRpb24sIC12aWV3U3RhdGUucm90YXRpb24sIC12aWV3U3RhdGUuY2VudGVyWzBdLCAtdmlld1N0YXRlLmNlbnRlclsxXSk7XG4gICAgICAgIG1ha2VJbnZlcnNlKHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tXcmFwcGVkIENoZWNrIGZvciB3cmFwcGVkIGdlb21ldHJpZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtTfSB0aGlzQXJnIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGNhbGxiYWNrYC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgICAqICAgICByZXR1cm5zIGB0cnVlYCB3aWxsIGJlIHRlc3RlZCBmb3IgZmVhdHVyZXMuICBCeSBkZWZhdWx0LCBhbGwgdmlzaWJsZVxuICAgICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAgICogQHBhcmFtIHtVfSB0aGlzQXJnMiBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBsYXllckZpbHRlcmAuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIGNhbGxiYWNrLCB0aGlzQXJnLCBsYXllckZpbHRlciwgdGhpc0FyZzIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBtYW5hZ2VkIE1hbmFnZWQgbGF5ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShtYW5hZ2VkLCBmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGZlYXR1cmUsIG1hbmFnZWQgPyBsYXllciA6IG51bGwsIGdlb21ldHJ5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgdHJhbnNsYXRlZENvb3JkaW5hdGUgPSB3cmFwWChjb29yZGluYXRlLnNsaWNlKCksIHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgb2Zmc2V0cyA9IFtbMCwgMF1dO1xuICAgICAgICBpZiAocHJvamVjdGlvbi5jYW5XcmFwWCgpICYmIGNoZWNrV3JhcHBlZCkge1xuICAgICAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgICAgICAgIG9mZnNldHMucHVzaChbLXdvcmxkV2lkdGgsIDBdLCBbd29ybGRXaWR0aCwgMF0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllclN0YXRlcyA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICAgICAgdmFyIG51bUxheWVycyA9IGxheWVyU3RhdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSAvKiogQHR5cGUge0FycmF5PEhpdE1hdGNoPFQ+Pn0gKi8gKFtdKTtcbiAgICAgICAgdmFyIHRtcENvb3JkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2Zmc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IG51bUxheWVycyAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBsYXllclN0YXRlc1tqXTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5oYXNSZW5kZXJlcigpICYmXG4gICAgICAgICAgICAgICAgICAgIGluVmlldyhsYXllclN0YXRlLCB2aWV3U3RhdGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyLmNhbGwodGhpc0FyZzIsIGxheWVyKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGF5ZXJSZW5kZXJlciA9IGxheWVyLmdldFJlbmRlcmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyUmVuZGVyZXIgJiYgc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBzb3VyY2UuZ2V0V3JhcFgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJhbnNsYXRlZENvb3JkaW5hdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNvb3JkaW5hdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tfMSA9IGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlLmJpbmQobnVsbCwgbGF5ZXJTdGF0ZS5tYW5hZ2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcENvb3JkWzBdID0gY29vcmRpbmF0ZXNbMF0gKyBvZmZzZXRzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wQ29vcmRbMV0gPSBjb29yZGluYXRlc1sxXSArIG9mZnNldHNbaV1bMV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBsYXllclJlbmRlcmVyLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKHRtcENvb3JkLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNhbGxiYWNrXzEsIG1hdGNoZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcmRlciA9IDEgLyBtYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChtLCBpKSB7IHJldHVybiAobS5kaXN0YW5jZVNxICs9IGkgKiBvcmRlcik7IH0pO1xuICAgICAgICBtYXRjaGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuZGlzdGFuY2VTcSAtIGIuZGlzdGFuY2VTcTsgfSk7XG4gICAgICAgIG1hdGNoZXMuc29tZShmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBtLmNhbGxiYWNrKG0uZmVhdHVyZSwgbS5sYXllciwgbS5nZW9tZXRyeSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCwgKFVpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXkpKTogVH0gY2FsbGJhY2sgTGF5ZXJcbiAgICAgKiAgICAgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gbGF5ZXJGaWx0ZXIgTGF5ZXIgZmlsdGVyXG4gICAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICAgKiAgICAgcmV0dXJucyBgdHJ1ZWAgd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiAgQnkgZGVmYXVsdCwgYWxsIHZpc2libGVcbiAgICAgKiAgICAgbGF5ZXJzIHdpbGwgYmUgdGVzdGVkLlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgbGF5ZXJGaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tXcmFwcGVkIENoZWNrIGZvciB3cmFwcGVkIGdlb21ldHJpZXMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOiBVLCBpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gbGF5ZXJGaWx0ZXIgTGF5ZXIgZmlsdGVyXG4gICAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICAgKiAgICAgcmV0dXJucyBgdHJ1ZWAgd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiAgQnkgZGVmYXVsdCwgYWxsIHZpc2libGVcbiAgICAgKiAgICAgbGF5ZXJzIHdpbGwgYmUgdGVzdGVkLlxuICAgICAqIEBwYXJhbSB7VX0gdGhpc0FyZyBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBsYXllckZpbHRlcmAuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgdGhlcmUgYSBmZWF0dXJlIGF0IHRoZSBnaXZlbiBjb29yZGluYXRlP1xuICAgICAqIEB0ZW1wbGF0ZSBVXG4gICAgICovXG4gICAgTWFwUmVuZGVyZXIucHJvdG90eXBlLmhhc0ZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlLCBjaGVja1dyYXBwZWQsIGxheWVyRmlsdGVyLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBoYXNGZWF0dXJlID0gdGhpcy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCBmcmFtZVN0YXRlLCBoaXRUb2xlcmFuY2UsIGNoZWNrV3JhcHBlZCwgVFJVRSwgdGhpcywgbGF5ZXJGaWx0ZXIsIHRoaXNBcmcpO1xuICAgICAgICByZXR1cm4gaGFzRmVhdHVyZSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IE1hcC5cbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIE1hcFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBNYXBSZW5kZXJlci5wcm90b3R5cGUuc2NoZWR1bGVFeHBpcmVJY29uQ2FjaGUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICBpZiAoaWNvbkltYWdlQ2FjaGUuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goZXhwaXJlSWNvbkNhY2hlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1hcFJlbmRlcmVyO1xufShEaXNwb3NhYmxlKSk7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICovXG5mdW5jdGlvbiBleHBpcmVJY29uQ2FjaGUobWFwLCBmcmFtZVN0YXRlKSB7XG4gICAgaWNvbkltYWdlQ2FjaGUuZXhwaXJlKCk7XG59XG5leHBvcnQgZGVmYXVsdCBNYXBSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL0V2ZW50XG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbnZhciBSZW5kZXJFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIFR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtPX0gb3B0X2ludmVyc2VQaXhlbFRyYW5zZm9ybSBUcmFuc2Zvcm0gZm9yXG4gICAgICogICAgIENTUyBwaXhlbHMgdG8gcmVuZGVyZWQgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGU9fSBvcHRfZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gez9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9fSBvcHRfY29udGV4dCBDb250ZXh0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlckV2ZW50KHR5cGUsIG9wdF9pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIG9wdF9mcmFtZVN0YXRlLCBvcHRfY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhbnNmb3JtIGZyb20gQ1NTIHBpeGVscyAocmVsYXRpdmUgdG8gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgbWFwIHZpZXdwb3J0KVxuICAgICAgICAgKiB0byByZW5kZXJlZCBwaXhlbHMgb24gdGhpcyBldmVudCdzIGBjb250ZXh0YC4gT25seSBhdmFpbGFibGUgd2hlbiBhIENhbnZhcyByZW5kZXJlciBpcyB1c2VkLCBudWxsIG90aGVyd2lzZS5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm18dW5kZWZpbmVkfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0gPSBvcHRfaW52ZXJzZVBpeGVsVHJhbnNmb3JtO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCByZW5kZXIgZnJhbWUgc3RhdGUuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZXx1bmRlZmluZWR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZyYW1lU3RhdGUgPSBvcHRfZnJhbWVTdGF0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbnZhcyBjb250ZXh0LiBOb3QgYXZhaWxhYmxlIHdoZW4gdGhlIGV2ZW50IGlzIGRpc3BhdGNoZWQgYnkgdGhlIG1hcC4gT25seSBhdmFpbGFibGVcbiAgICAgICAgICogd2hlbiBhIENhbnZhcyByZW5kZXJlciBpcyB1c2VkLCBudWxsIG90aGVyd2lzZS5cbiAgICAgICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHxudWxsfHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IG9wdF9jb250ZXh0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBSZW5kZXJFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbmRlckV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9Db21wb3NpdGVcbiAqL1xuaW1wb3J0IE1hcFJlbmRlcmVyIGZyb20gJy4vTWFwLmpzJztcbmltcG9ydCBPYmplY3RFdmVudFR5cGUgZnJvbSAnLi4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBSZW5kZXJFdmVudCBmcm9tICcuLi9yZW5kZXIvRXZlbnQuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuLi9zb3VyY2UvU3RhdGUuanMnO1xuaW1wb3J0IHsgQ0xBU1NfVU5TRUxFQ1RBQkxFIH0gZnJvbSAnLi4vY3NzLmpzJztcbmltcG9ydCB7IGNoZWNrZWRGb250cyB9IGZyb20gJy4uL3JlbmRlci9jYW52YXMuanMnO1xuaW1wb3J0IHsgaW5WaWV3IH0gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCB7IHJlcGxhY2VDaGlsZHJlbiB9IGZyb20gJy4uL2RvbS5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyBtYXAgcmVuZGVyZXIuXG4gKiBAYXBpXG4gKi9cbnZhciBDb21wb3NpdGVNYXBSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcG9zaXRlTWFwUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb21wb3NpdGVNYXBSZW5kZXJlcihtYXApIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWFwKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb250Q2hhbmdlTGlzdGVuZXJLZXlfID0gbGlzdGVuKGNoZWNrZWRGb250cywgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLCBtYXAucmVkcmF3VGV4dC5iaW5kKG1hcCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZWxlbWVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdmFyIHN0eWxlID0gX3RoaXMuZWxlbWVudF8uc3R5bGU7XG4gICAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgc3R5bGUuekluZGV4ID0gJzAnO1xuICAgICAgICBfdGhpcy5lbGVtZW50Xy5jbGFzc05hbWUgPSBDTEFTU19VTlNFTEVDVEFCTEUgKyAnIG9sLWxheWVycyc7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBtYXAuZ2V0Vmlld3BvcnQoKTtcbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShfdGhpcy5lbGVtZW50XywgY29udGFpbmVyLmZpcnN0Q2hpbGQgfHwgbnVsbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8SFRNTEVsZW1lbnQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hpbGRyZW5fID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIEV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBDb21wb3NpdGVNYXBSZW5kZXJlci5wcm90b3R5cGUuZGlzcGF0Y2hSZW5kZXJFdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICBpZiAobWFwLmhhc0xpc3RlbmVyKHR5cGUpKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRfMSA9IG5ldyBSZW5kZXJFdmVudCh0eXBlLCB1bmRlZmluZWQsIGZyYW1lU3RhdGUpO1xuICAgICAgICAgICAgbWFwLmRpc3BhdGNoRXZlbnQoZXZlbnRfMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbXBvc2l0ZU1hcFJlbmRlcmVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5mb250Q2hhbmdlTGlzdGVuZXJLZXlfKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyLlxuICAgICAqIEBwYXJhbSB7P2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZU1hcFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudF8uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGN1bGF0ZU1hdHJpY2VzMkQoZnJhbWVTdGF0ZSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUFJFQ09NUE9TRSwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIHZhciBsYXllclN0YXRlc0FycmF5ID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuXy5sZW5ndGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2xheWVyL0Jhc2VWZWN0b3IuanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZGVjbHV0dGVyTGF5ZXJzID0gW107XG4gICAgICAgIHZhciBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNBcnJheVtpXTtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUubGF5ZXJJbmRleCA9IGk7XG4gICAgICAgICAgICBpZiAoIWluVmlldyhsYXllclN0YXRlLCB2aWV3U3RhdGUpIHx8XG4gICAgICAgICAgICAgICAgKGxheWVyU3RhdGUuc291cmNlU3RhdGUgIT0gU291cmNlU3RhdGUuUkVBRFkgJiZcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJTdGF0ZS5zb3VyY2VTdGF0ZSAhPSBTb3VyY2VTdGF0ZS5VTkRFRklORUQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBsYXllci5yZW5kZXIoZnJhbWVTdGF0ZSwgcHJldmlvdXNFbGVtZW50KTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5fLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnZ2V0RGVjbHV0dGVyJyBpbiBsYXllcikge1xuICAgICAgICAgICAgICAgIGRlY2x1dHRlckxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gZGVjbHV0dGVyTGF5ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBkZWNsdXR0ZXJMYXllcnNbaV0ucmVuZGVyRGVjbHV0dGVyKGZyYW1lU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJlcGxhY2VDaGlsZHJlbih0aGlzLmVsZW1lbnRfLCB0aGlzLmNoaWxkcmVuXyk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUE9TVENPTVBPU0UsIGZyYW1lU3RhdGUpO1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZWRWaXNpYmxlXykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVFeHBpcmVJY29uQ2FjaGUoZnJhbWVTdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQsIChVaW50OENsYW1wZWRBcnJheXxVaW50OEFycmF5KSk6IFR9IGNhbGxiYWNrIExheWVyXG4gICAgICogICAgIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgICAqICAgICBmdW5jdGlvbiwgb25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgQ29tcG9zaXRlTWFwUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIGxheWVyRmlsdGVyKSB7XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIGxheWVyU3RhdGVzID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgICAgICB2YXIgbnVtTGF5ZXJzID0gbGF5ZXJTdGF0ZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gbnVtTGF5ZXJzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNbaV07XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgaWYgKGxheWVyLmhhc1JlbmRlcmVyKCkgJiZcbiAgICAgICAgICAgICAgICBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSAmJlxuICAgICAgICAgICAgICAgIGxheWVyRmlsdGVyKGxheWVyKSkge1xuICAgICAgICAgICAgICAgIHZhciBsYXllclJlbmRlcmVyID0gbGF5ZXIuZ2V0UmVuZGVyZXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGxheWVyUmVuZGVyZXIuZ2V0RGF0YUF0UGl4ZWwocGl4ZWwsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKGxheWVyLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBvc2l0ZU1hcFJlbmRlcmVyO1xufShNYXBSZW5kZXJlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ29tcG9zaXRlTWFwUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db21wb3NpdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Hcm91cFxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBPYmplY3RFdmVudFR5cGUgZnJvbSAnLi4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBTb3VyY2VTdGF0ZSBmcm9tICcuLi9zb3VyY2UvU3RhdGUuanMnO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBhc3NpZ24sIGNsZWFyIH0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7IGdldENoYW5nZUV2ZW50VHlwZSB9IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcnNlY3Rpb24gfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuLi9ldmVudHMuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fGltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59IFtsYXllcnNdIENoaWxkIGxheWVycy5cbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xudmFyIFByb3BlcnR5ID0ge1xuICAgIExBWUVSUzogJ2xheWVycycsXG59O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBvZiBsYXllcnMgdGhhdCBhcmUgaGFuZGxlZCB0b2dldGhlci5cbiAqXG4gKiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGdyb3VwL0NvbGxlY3Rpb24gY2hhbmdlcy5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBMYXllckdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMYXllckdyb3VwLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIExheWVyIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF5ZXJHcm91cChvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgYmFzZU9wdGlvbnMgPSAvKiogQHR5cGUge09wdGlvbnN9ICovIChhc3NpZ24oe30sIG9wdGlvbnMpKTtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLmxheWVycztcbiAgICAgICAgdmFyIGxheWVycyA9IG9wdGlvbnMubGF5ZXJzO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VPcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGF5ZXJzTGlzdGVuZXJLZXlzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpc3RlbmVyS2V5c18gPSB7fTtcbiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihnZXRDaGFuZ2VFdmVudFR5cGUoUHJvcGVydHkuTEFZRVJTKSwgX3RoaXMuaGFuZGxlTGF5ZXJzQ2hhbmdlZF8pO1xuICAgICAgICBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJzID0gbmV3IENvbGxlY3Rpb24obGF5ZXJzLnNsaWNlKCksIHsgdW5pcXVlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiAoIC8qKiBAdHlwZSB7P30gKi8obGF5ZXJzKS5nZXRBcnJheSkgPT09ICdmdW5jdGlvbicsIDQzKTsgLy8gRXhwZWN0ZWQgYGxheWVyc2AgdG8gYmUgYW4gYXJyYXkgb3IgYSBgQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxheWVycyA9IG5ldyBDb2xsZWN0aW9uKHVuZGVmaW5lZCwgeyB1bmlxdWU6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc2V0TGF5ZXJzKGxheWVycyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllckNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5oYW5kbGVMYXllcnNDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMubGF5ZXJzTGlzdGVuZXJLZXlzXy5sZW5ndGggPSAwO1xuICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICAgICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLnB1c2gobGlzdGVuKGxheWVycywgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIHRoaXMuaGFuZGxlTGF5ZXJzQWRkXywgdGhpcyksIGxpc3RlbihsYXllcnMsIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCB0aGlzLmhhbmRsZUxheWVyc1JlbW92ZV8sIHRoaXMpKTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5saXN0ZW5lcktleXNfKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyS2V5c19baWRdLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXIodGhpcy5saXN0ZW5lcktleXNfKTtcbiAgICAgICAgdmFyIGxheWVyc0FycmF5ID0gbGF5ZXJzLmdldEFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxheWVyc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyc0FycmF5W2ldO1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcktleXNfW2dldFVpZChsYXllcildID0gW1xuICAgICAgICAgICAgICAgIGxpc3RlbihsYXllciwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXywgdGhpcyksXG4gICAgICAgICAgICAgICAgbGlzdGVuKGxheWVyLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXywgdGhpcyksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gY29sbGVjdGlvbkV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmhhbmRsZUxheWVyc0FkZF8gPSBmdW5jdGlvbiAoY29sbGVjdGlvbkV2ZW50KSB7XG4gICAgICAgIHZhciBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHR9ICovIChjb2xsZWN0aW9uRXZlbnQuZWxlbWVudCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJLZXlzX1tnZXRVaWQobGF5ZXIpXSA9IFtcbiAgICAgICAgICAgIGxpc3RlbihsYXllciwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXywgdGhpcyksXG4gICAgICAgICAgICBsaXN0ZW4obGF5ZXIsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlTGF5ZXJDaGFuZ2VfLCB0aGlzKSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBjb2xsZWN0aW9uRXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuaGFuZGxlTGF5ZXJzUmVtb3ZlXyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uRXZlbnQpIHtcbiAgICAgICAgdmFyIGxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdH0gKi8gKGNvbGxlY3Rpb25FdmVudC5lbGVtZW50KTtcbiAgICAgICAgdmFyIGtleSA9IGdldFVpZChsYXllcik7XG4gICAgICAgIHRoaXMubGlzdGVuZXJLZXlzX1trZXldLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyS2V5c19ba2V5XTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb24gY29sbGVjdGlvbn0gb2Yge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciBsYXllcnN9XG4gICAgICogaW4gdGhpcyBncm91cC5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gQ29sbGVjdGlvbiBvZlxuICAgICAqICAge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlIGxheWVyc30gdGhhdCBhcmUgcGFydCBvZiB0aGlzIGdyb3VwLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmdldExheWVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59ICovICh0aGlzLmdldChQcm9wZXJ0eS5MQVlFUlMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9uIGNvbGxlY3Rpb259IG9mIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXJzfVxuICAgICAqIGluIHRoaXMgZ3JvdXAuXG4gICAgICogQHBhcmFtIHshaW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gbGF5ZXJzIENvbGxlY3Rpb24gb2ZcbiAgICAgKiAgIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvQmFzZSBsYXllcnN9IHRoYXQgYXJlIHBhcnQgb2YgdGhpcyBncm91cC5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMYXllckdyb3VwLnByb3RvdHlwZS5zZXRMYXllcnMgPSBmdW5jdGlvbiAobGF5ZXJzKSB7XG4gICAgICAgIHRoaXMuc2V0KFByb3BlcnR5LkxBWUVSUywgbGF5ZXJzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pj19IG9wdF9hcnJheSBBcnJheSBvZiBsYXllcnMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAgICovXG4gICAgTGF5ZXJHcm91cC5wcm90b3R5cGUuZ2V0TGF5ZXJzQXJyYXkgPSBmdW5jdGlvbiAob3B0X2FycmF5KSB7XG4gICAgICAgIHZhciBhcnJheSA9IG9wdF9hcnJheSAhPT0gdW5kZWZpbmVkID8gb3B0X2FycmF5IDogW107XG4gICAgICAgIHRoaXMuZ2V0TGF5ZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgICAgIGxheWVyLmdldExheWVyc0FycmF5KGFycmF5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT49fSBvcHRfc3RhdGVzIE9wdGlvbmFsIGxpc3Qgb2YgbGF5ZXIgc3RhdGVzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IExpc3Qgb2YgbGF5ZXIgc3RhdGVzLlxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmdldExheWVyU3RhdGVzQXJyYXkgPSBmdW5jdGlvbiAob3B0X3N0YXRlcykge1xuICAgICAgICB2YXIgc3RhdGVzID0gb3B0X3N0YXRlcyAhPT0gdW5kZWZpbmVkID8gb3B0X3N0YXRlcyA6IFtdO1xuICAgICAgICB2YXIgcG9zID0gc3RhdGVzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICAgICAgbGF5ZXIuZ2V0TGF5ZXJTdGF0ZXNBcnJheShzdGF0ZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG93bkxheWVyU3RhdGUgPSB0aGlzLmdldExheWVyU3RhdGUoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHBvcywgaWkgPSBzdGF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxheWVyU3RhdGUgPSBzdGF0ZXNbaV07XG4gICAgICAgICAgICBsYXllclN0YXRlLm9wYWNpdHkgKj0gb3duTGF5ZXJTdGF0ZS5vcGFjaXR5O1xuICAgICAgICAgICAgbGF5ZXJTdGF0ZS52aXNpYmxlID0gbGF5ZXJTdGF0ZS52aXNpYmxlICYmIG93bkxheWVyU3RhdGUudmlzaWJsZTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbiA9IE1hdGgubWluKGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbiwgb3duTGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiA9IE1hdGgubWF4KGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiwgb3duTGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWluWm9vbSA9IE1hdGgubWF4KGxheWVyU3RhdGUubWluWm9vbSwgb3duTGF5ZXJTdGF0ZS5taW5ab29tKTtcbiAgICAgICAgICAgIGxheWVyU3RhdGUubWF4Wm9vbSA9IE1hdGgubWluKGxheWVyU3RhdGUubWF4Wm9vbSwgb3duTGF5ZXJTdGF0ZS5tYXhab29tKTtcbiAgICAgICAgICAgIGlmIChvd25MYXllclN0YXRlLmV4dGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJTdGF0ZS5leHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24obGF5ZXJTdGF0ZS5leHRlbnQsIG93bkxheWVyU3RhdGUuZXh0ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyU3RhdGUuZXh0ZW50ID0gb3duTGF5ZXJTdGF0ZS5leHRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU3RhdGUuanNcIikuZGVmYXVsdH0gU291cmNlIHN0YXRlLlxuICAgICAqL1xuICAgIExheWVyR3JvdXAucHJvdG90eXBlLmdldFNvdXJjZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU291cmNlU3RhdGUuUkVBRFk7XG4gICAgfTtcbiAgICByZXR1cm4gTGF5ZXJHcm91cDtcbn0oQmFzZUxheWVyKSk7XG5leHBvcnQgZGVmYXVsdCBMYXllckdyb3VwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JvdXAuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9NYXBFdmVudFxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBhcyBtYXAgZXZlbnRzIGFyZSBpbnN0YW5jZXMgb2YgdGhpcyB0eXBlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvUGx1Z2dhYmxlTWFwflBsdWdnYWJsZU1hcH0gZm9yIHdoaWNoIGV2ZW50cyB0cmlnZ2VyIGEgbWFwIGV2ZW50LlxuICovXG52YXIgTWFwRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1hcEV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAqIEBwYXJhbSB7P2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGU9fSBvcHRfZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBFdmVudCh0eXBlLCBtYXAsIG9wdF9mcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIHdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFtZSBzdGF0ZSBhdCB0aGUgdGltZSBvZiB0aGUgZXZlbnQuXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZnJhbWVTdGF0ZSA9IG9wdF9mcmFtZVN0YXRlICE9PSB1bmRlZmluZWQgPyBvcHRfZnJhbWVTdGF0ZSA6IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE1hcEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgTWFwRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBFdmVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL01hcEJyb3dzZXJFdmVudFxuICovXG5pbXBvcnQgTWFwRXZlbnQgZnJvbSAnLi9NYXBFdmVudC5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBicm93c2VyIGV2ZW50cyBhcmUgaW5zdGFuY2VzIG9mIHRoaXMgdHlwZS5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL1BsdWdnYWJsZU1hcH5QbHVnZ2FibGVNYXB9IGZvciB3aGljaCBldmVudHMgdHJpZ2dlciBhIG1hcCBicm93c2VyIGV2ZW50LlxuICogQHRlbXBsYXRlIHtVSUV2ZW50fSBFVkVOVFxuICovXG52YXIgTWFwQnJvd3NlckV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNYXBCcm93c2VyRXZlbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICogQHBhcmFtIHtFVkVOVH0gb3JpZ2luYWxFdmVudCBPcmlnaW5hbCBldmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZHJhZ2dpbmcgSXMgdGhlIG1hcCBjdXJyZW50bHkgYmVpbmcgZHJhZ2dlZD9cbiAgICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlPX0gb3B0X2ZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQnJvd3NlckV2ZW50KHR5cGUsIG1hcCwgb3JpZ2luYWxFdmVudCwgb3B0X2RyYWdnaW5nLCBvcHRfZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlLCBtYXAsIG9wdF9mcmFtZVN0YXRlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsIGJyb3dzZXIgZXZlbnQuXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7RVZFTlR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBwaXhlbCByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQgY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIGluIHRoZSB1c2VyIHByb2plY3Rpb24gY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvb3JkaW5hdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgbWFwIGlzIGN1cnJlbnRseSBiZWluZyBkcmFnZ2VkLiBPbmx5IHNldCBmb3JcbiAgICAgICAgICogYFBPSU5URVJEUkFHYCBhbmQgYFBPSU5URVJNT1ZFYCBldmVudHMuIERlZmF1bHQgaXMgYGZhbHNlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYWdnaW5nID0gb3B0X2RyYWdnaW5nICE9PSB1bmRlZmluZWQgPyBvcHRfZHJhZ2dpbmcgOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwQnJvd3NlckV2ZW50LnByb3RvdHlwZSwgXCJwaXhlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIHBpeGVsIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBldmVudC5cbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBpeGVsXykge1xuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxfID0gdGhpcy5tYXAuZ2V0RXZlbnRQaXhlbCh0aGlzLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGl4ZWxfO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICAgICAgdGhpcy5waXhlbF8gPSBwaXhlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlLCBcImNvb3JkaW5hdGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC4gIFRoaXMgd2lsbCBiZSBpbiB0aGUgdXNlclxuICAgICAgICAgKiBwcm9qZWN0aW9uIGlmIG9uZSBpcyBzZXQuICBPdGhlcndpc2UgaXQgd2lsbCBiZSBpbiB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvb3JkaW5hdGVfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlXyA9IHRoaXMubWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWwodGhpcy5waXhlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlXztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlXyA9IGNvb3JkaW5hdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyB0aGUgZGVmYXVsdCBicm93c2VyIGFjdGlvbi5cbiAgICAgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL2V2ZW50LnByZXZlbnREZWZhdWx0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnByZXZlbnREZWZhdWx0LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJldmVudHMgZnVydGhlciBwcm9wYWdhdGlvbiBvZiB0aGUgY3VycmVudCBldmVudC5cbiAgICAgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL2V2ZW50LnN0b3BQcm9wYWdhdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBCcm93c2VyRXZlbnQ7XG59KE1hcEV2ZW50KSk7XG5leHBvcnQgZGVmYXVsdCBNYXBCcm93c2VyRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBCcm93c2VyRXZlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3BvaW50ZXIvRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQT0lOVEVSTU9WRTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICAgIFBPSU5URVJPVkVSOiAncG9pbnRlcm92ZXInLFxuICAgIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICAgIFBPSU5URVJMRUFWRTogJ3BvaW50ZXJsZWF2ZScsXG4gICAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlclxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50IGZyb20gJy4vTWFwQnJvd3NlckV2ZW50LmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUG9pbnRlckV2ZW50VHlwZSBmcm9tICcuL3BvaW50ZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IERFVklDRV9QSVhFTF9SQVRJTywgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG52YXIgTWFwQnJvd3NlckV2ZW50SGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwQnJvd3NlckV2ZW50SGFuZGxlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBUaGUgbWFwIHdpdGggdGhlIHZpZXdwb3J0IHRvIGxpc3RlbiB0byBldmVudHMgb24uXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBtb3ZlVG9sZXJhbmNlIFRoZSBtaW5pbWFsIGRpc3RhbmNlIHRoZSBwb2ludGVyIG11c3QgdHJhdmVsIHRvIHRyaWdnZXIgYSBtb3ZlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIobWFwLCBtb3ZlVG9sZXJhbmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1hcCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGxpc3RlbiB0byB0aGUgcmVhbCBldmVudHMgb24uXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwXyA9IG1hcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHthbnl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGlja1RpbWVvdXRJZF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbXVsYXRlIGRibGNsaWNrIGFuZCBzaW5nbGVjbGljay4gV2lsbCBiZSB0cnVlIHdoZW4gb25seSBvbmUgcG9pbnRlciBpcyBhY3RpdmUuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW11bGF0ZUNsaWNrc18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhZ2dpbmdfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmFnTGlzdGVuZXJLZXlzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdmVUb2xlcmFuY2VfID0gbW92ZVRvbGVyYW5jZVxuICAgICAgICAgICAgPyBtb3ZlVG9sZXJhbmNlICogREVWSUNFX1BJWEVMX1JBVElPXG4gICAgICAgICAgICA6IERFVklDRV9QSVhFTF9SQVRJTztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3N0IHJlY2VudCBcImRvd25cIiB0eXBlIGV2ZW50IChvciBudWxsIGlmIG5vbmUgaGF2ZSBvY2N1cnJlZCkuXG4gICAgICAgICAqIFNldCBvbiBwb2ludGVyZG93bi5cbiAgICAgICAgICogQHR5cGUge1BvaW50ZXJFdmVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRvd25fID0gbnVsbDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5tYXBfLmdldFZpZXdwb3J0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWN0aXZlUG9pbnRlcnNfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PG51bWJlciwgYm9vbGVhbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFja2VkVG91Y2hlc18gPSB7fTtcbiAgICAgICAgX3RoaXMuZWxlbWVudF8gPSBlbGVtZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5XyA9IGxpc3RlbihlbGVtZW50LCBQb2ludGVyRXZlbnRUeXBlLlBPSU5URVJET1dOLCBfdGhpcy5oYW5kbGVQb2ludGVyRG93bl8sIF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtQb2ludGVyRXZlbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfID0gbGlzdGVuKGVsZW1lbnQsIFBvaW50ZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsIF90aGlzLnJlbGF5RXZlbnRfLCBfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRIYW5kbGVUb3VjaE1vdmVfID0gX3RoaXMuaGFuZGxlVG91Y2hNb3ZlXy5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVE9VQ0hNT1ZFLCBfdGhpcy5ib3VuZEhhbmRsZVRvdWNoTW92ZV8sIFBBU1NJVkVfRVZFTlRfTElTVEVORVJTID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuZW11bGF0ZUNsaWNrXyA9IGZ1bmN0aW9uIChwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLLCB0aGlzLm1hcF8sIHBvaW50ZXJFdmVudCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgIGlmICh0aGlzLmNsaWNrVGltZW91dElkXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBkb3VibGUtY2xpY2tcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsaWNrVGltZW91dElkXyk7XG4gICAgICAgICAgICB0aGlzLmNsaWNrVGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLLCB0aGlzLm1hcF8sIHBvaW50ZXJFdmVudCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gY2xpY2tcbiAgICAgICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gc2V0VGltZW91dChcbiAgICAgICAgICAgIC8qKiBAdGhpcyB7TWFwQnJvd3NlckV2ZW50SGFuZGxlcn0gKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrVGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB2YXIgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KE1hcEJyb3dzZXJFdmVudFR5cGUuU0lOR0xFQ0xJQ0ssIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCAyNTApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBLZWVwcyB0cmFjayBvbiBob3cgbWFueSBwb2ludGVycyBhcmUgY3VycmVudGx5IGFjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUudXBkYXRlQWN0aXZlUG9pbnRlcnNfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGlmIChldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUlVQIHx8XG4gICAgICAgICAgICBldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkNBTkNFTCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMudHJhY2tlZFRvdWNoZXNfW2V2ZW50LnBvaW50ZXJJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJET1dOKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrZWRUb3VjaGVzX1tldmVudC5wb2ludGVySWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzXyA9IE9iamVjdC5rZXlzKHRoaXMudHJhY2tlZFRvdWNoZXNfKS5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICAgKiBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZVBvaW50ZXJVcF8gPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAsIHRoaXMubWFwXywgcG9pbnRlckV2ZW50KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgICAgLy8gV2UgZW11bGF0ZSBjbGljayBldmVudHMgb24gbGVmdCBtb3VzZSBidXR0b24gY2xpY2ssIHRvdWNoIGNvbnRhY3QsIGFuZCBwZW5cbiAgICAgICAgLy8gY29udGFjdC4gaXNNb3VzZUFjdGlvbkJ1dHRvbiByZXR1cm5zIHRydWUgaW4gdGhlc2UgY2FzZXMgKGV2dC5idXR0b24gaXMgc2V0XG4gICAgICAgIC8vIHRvIDApLlxuICAgICAgICAvLyBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jYnV0dG9uLXN0YXRlc1xuICAgICAgICAvLyBXZSBvbmx5IGZpcmUgY2xpY2ssIHNpbmdsZWNsaWNrLCBhbmQgZG91YmxlY2xpY2sgaWYgbm9ib2R5IGhhcyBjYWxsZWRcbiAgICAgICAgLy8gZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkgb3IgZXZlbnQucHJldmVudERlZmF1bHQoKS5cbiAgICAgICAgaWYgKHRoaXMuZW11bGF0ZUNsaWNrc18gJiZcbiAgICAgICAgICAgICFuZXdFdmVudC5wcm9wYWdhdGlvblN0b3BwZWQgJiZcbiAgICAgICAgICAgICF0aGlzLmRyYWdnaW5nXyAmJlxuICAgICAgICAgICAgdGhpcy5pc01vdXNlQWN0aW9uQnV0dG9uXyhwb2ludGVyRXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmVtdWxhdGVDbGlja18odGhpcy5kb3duXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG9pbnRlcnNfID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nXyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kb3duXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiB3YXMgcHJlc3NlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIucHJvdG90eXBlLmlzTW91c2VBY3Rpb25CdXR0b25fID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICByZXR1cm4gcG9pbnRlckV2ZW50LmJ1dHRvbiA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlckRvd25fID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICB0aGlzLmVtdWxhdGVDbGlja3NfID0gdGhpcy5hY3RpdmVQb2ludGVyc18gPT09IDA7XG4gICAgICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICB0aGlzLmRvd25fID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpZiAodGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB0aGlzLm1hcF8uZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5wdXNoKGxpc3Rlbihkb2MsIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsIHRoaXMuaGFuZGxlUG9pbnRlck1vdmVfLCB0aGlzKSwgbGlzdGVuKGRvYywgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAsIHRoaXMuaGFuZGxlUG9pbnRlclVwXywgdGhpcyksIFxuICAgICAgICAgICAgLyogTm90ZSB0aGF0IHRoZSBsaXN0ZW5lciBmb3IgYHBvaW50ZXJjYW5jZWwgaXMgc2V0IHVwIG9uXG4gICAgICAgICAgICAgKiBgcG9pbnRlckV2ZW50SGFuZGxlcl9gIGFuZCBub3QgYGRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl9gIGxpa2VcbiAgICAgICAgICAgICAqIHRoZSBgcG9pbnRlcnVwYCBhbmQgYHBvaW50ZXJtb3ZlYCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGUgZm9sbG93aW5nOiBgVG91Y2hTb3VyY2UudmFjdXVtVG91Y2hlc18oKWBcbiAgICAgICAgICAgICAqIGlzc3VlcyBgcG9pbnRlcmNhbmNlbGAgZXZlbnRzLCB3aGVuIHRoZXJlIHdhcyBubyBgdG91Y2hlbmRgIGZvciBhXG4gICAgICAgICAgICAgKiBgdG91Y2hzdGFydGAuIE5vdywgbGV0J3Mgc2F5IGEgZmlyc3QgYHRvdWNoc3RhcnRgIGlzIHJlZ2lzdGVyZWQgb25cbiAgICAgICAgICAgICAqIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AuIFRoZSBgZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyX2AgaXMgc2V0IHVwLlxuICAgICAgICAgICAgICogQnV0IGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBkb2Vzbid0IGtub3cgYWJvdXQgdGhlIGZpcnN0XG4gICAgICAgICAgICAgKiBgdG91Y2hzdGFydGAuIElmIHRoZXJlIGlzIG5vIGB0b3VjaGVuZGAgZm9yIHRoZSBgdG91Y2hzdGFydGAsIHdlIGNhblxuICAgICAgICAgICAgICogb25seSByZWNlaXZlIGEgYHRvdWNoY2FuY2VsYCBmcm9tIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AsIGJlY2F1c2UgaXQgaXNcbiAgICAgICAgICAgICAqIG9ubHkgcmVnaXN0ZXJlZCB0aGVyZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGlzdGVuKHRoaXMuZWxlbWVudF8sIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkNBTkNFTCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50Xy5nZXRSb290Tm9kZSAmJiB0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlKCkgIT09IGRvYykge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ucHVzaChsaXN0ZW4odGhpcy5lbGVtZW50Xy5nZXRSb290Tm9kZSgpLCBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgICAqIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUG9pbnRlck1vdmVfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICAvLyBCZXR3ZWVuIHBvaW50ZXJkb3duIGFuZCBwb2ludGVydXAsIHBvaW50ZXJtb3ZlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkLlxuICAgICAgICAvLyBUbyBhdm9pZCBhICdmYWxzZScgdG91Y2htb3ZlIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQsIHdlIHRlc3QgaWYgdGhlIHBvaW50ZXJcbiAgICAgICAgLy8gbW92ZWQgYSBzaWduaWZpY2FudCBkaXN0YW5jZS5cbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmdfID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRywgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQsIHRoaXMuZHJhZ2dpbmdfKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyYXAgYW5kIHJlbGF5IGEgcG9pbnRlciBldmVudC4gIE5vdGUgdGhhdCB0aGlzIHJlcXVpcmVzIHRoYXQgdGhlIHR5cGVcbiAgICAgKiBzdHJpbmcgZm9yIHRoZSBNYXBCcm93c2VyRXZlbnQgbWF0Y2hlcyB0aGUgUG9pbnRlckV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZWxheUV2ZW50XyA9IGZ1bmN0aW9uIChwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfID0gcG9pbnRlckV2ZW50O1xuICAgICAgICB2YXIgZHJhZ2dpbmcgPSAhISh0aGlzLmRvd25fICYmIHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1hcEJyb3dzZXJFdmVudChwb2ludGVyRXZlbnQudHlwZSwgdGhpcy5tYXBfLCBwb2ludGVyRXZlbnQsIGRyYWdnaW5nKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGbGV4aWJsZSBoYW5kbGluZyBvZiBhIGB0b3VjaC1hY3Rpb246IG5vbmVgIGNzcyBlcXVpdmFsZW50OiBiZWNhdXNlIGNhbGxpbmdcbiAgICAgKiBgcHJldmVudERlZmF1bHQoKWAgb24gYSBgcG9pbnRlcm1vdmVgIGV2ZW50IGRvZXMgbm90IHN0b3AgbmF0aXZlIHBhZ2Ugc2Nyb2xsaW5nXG4gICAgICogYW5kIHpvb21pbmcsIHdlIGFsc28gbGlzdGVuIGZvciBgdG91Y2htb3ZlYCBhbmQgY2FsbCBgcHJldmVudERlZmF1bHQoKWAgb24gaXRcbiAgICAgKiB3aGVuIGFuIGludGVyYWN0aW9uIChjdXJyZW50bHkgYERyYWdQYW5gIGhhbmRsZXMgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXBCcm93c2VyRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVUb3VjaE1vdmVfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIER1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbXBpemVuYmVyZy9lbG0tcGVwL2lzc3Vlcy8yLCBgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfYFxuICAgICAgICAvLyBtYXkgbm90IGJlIGluaXRpYWxpemVkIHlldCB3aGVuIHdlIGdldCBoZXJlIG9uIGEgcGxhdGZvcm0gd2l0aG91dCBuYXRpdmUgcG9pbnRlciBldmVudHMuXG4gICAgICAgIGlmICghdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfIHx8XG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF8uZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAgICogZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgbW92aW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuaXNNb3ZpbmdfID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZHJhZ2dpbmdfIHx8XG4gICAgICAgICAgICBNYXRoLmFicyhwb2ludGVyRXZlbnQuY2xpZW50WCAtIHRoaXMuZG93bl8uY2xpZW50WCkgPlxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvbGVyYW5jZV8gfHxcbiAgICAgICAgICAgIE1hdGguYWJzKHBvaW50ZXJFdmVudC5jbGllbnRZIC0gdGhpcy5kb3duXy5jbGllbnRZKSA+IHRoaXMubW92ZVRvbGVyYW5jZV8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAuXG4gICAgICovXG4gICAgTWFwQnJvd3NlckV2ZW50SGFuZGxlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMucmVsYXllZExpc3RlbmVyS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVE9VQ0hNT1ZFLCB0aGlzLmJvdW5kSGFuZGxlVG91Y2hNb3ZlXyk7XG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8pO1xuICAgICAgICAgICAgdGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZWxlbWVudF8gPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcEJyb3dzZXJFdmVudEhhbmRsZXI7XG59KEV2ZW50VGFyZ2V0KSk7XG5leHBvcnQgZGVmYXVsdCBNYXBCcm93c2VyRXZlbnRIYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwUHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgTEFZRVJHUk9VUDogJ2xheWVyZ3JvdXAnLFxuICAgIFNJWkU6ICdzaXplJyxcbiAgICBUQVJHRVQ6ICd0YXJnZXQnLFxuICAgIFZJRVc6ICd2aWV3Jyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXBQcm9wZXJ0eS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgY2xlYXIgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIERST1AgPSBJbmZpbml0eTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJpb3JpdHkgcXVldWUuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIGlzIGluc3BpcmVkIGZyb20gdGhlIENsb3N1cmUgTGlicmFyeSdzIEhlYXAgY2xhc3MgYW5kXG4gKiBQeXRob24ncyBoZWFwcSBtb2R1bGUuXG4gKlxuICogU2VlIGh0dHA6Ly9jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vc3ZuL2RvY3MvY2xvc3VyZV9nb29nX3N0cnVjdHNfaGVhcC5qcy5zb3VyY2UuaHRtbFxuICogYW5kIGh0dHA6Ly9oZy5weXRob24ub3JnL2NweXRob24vZmlsZS8yLjcvTGliL2hlYXBxLnB5LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbnZhciBQcmlvcml0eVF1ZXVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6IG51bWJlcn0gcHJpb3JpdHlGdW5jdGlvbiBQcmlvcml0eSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOiBzdHJpbmd9IGtleUZ1bmN0aW9uIEtleSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcmlvcml0eVF1ZXVlKHByaW9yaXR5RnVuY3Rpb24sIGtleUZ1bmN0aW9uKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oVCk6IG51bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJpb3JpdHlGdW5jdGlvbl8gPSBwcmlvcml0eUZ1bmN0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Z1bmN0aW9uKFQpOiBzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmtleUZ1bmN0aW9uXyA9IGtleUZ1bmN0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PFQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGVtZW50c18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0aWVzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWVkRWxlbWVudHNfID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRzXy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnByaW9yaXRpZXNfLmxlbmd0aCA9IDA7XG4gICAgICAgIGNsZWFyKHRoaXMucXVldWVkRWxlbWVudHNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbmQgcmV0dXJuIHRoZSBoaWdoZXN0LXByaW9yaXR5IGVsZW1lbnQuIE8obG9nIE4pLlxuICAgICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZGVxdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgICAgIHZhciBwcmlvcml0aWVzID0gdGhpcy5wcmlvcml0aWVzXztcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1swXTtcbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBlbGVtZW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgcHJpb3JpdGllcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudHNbMF0gPSBlbGVtZW50cy5wb3AoKTtcbiAgICAgICAgICAgIHByaW9yaXRpZXNbMF0gPSBwcmlvcml0aWVzLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5zaWZ0VXBfKDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50S2V5ID0gdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnF1ZXVlZEVsZW1lbnRzX1tlbGVtZW50S2V5XTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbnF1ZXVlIGFuIGVsZW1lbnQuIE8obG9nIE4pLlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbWVudCBFbGVtZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBlbGVtZW50IHdhcyBhZGRlZCB0byB0aGUgcXVldWUuXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGFzc2VydCghKHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpIGluIHRoaXMucXVldWVkRWxlbWVudHNfKSwgMzEpOyAvLyBUcmllZCB0byBlbnF1ZXVlIGFuIGBlbGVtZW50YCB0aGF0IHdhcyBhbHJlYWR5IGFkZGVkIHRvIHRoZSBxdWV1ZVxuICAgICAgICB2YXIgcHJpb3JpdHkgPSB0aGlzLnByaW9yaXR5RnVuY3Rpb25fKGVsZW1lbnQpO1xuICAgICAgICBpZiAocHJpb3JpdHkgIT0gRFJPUCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50c18ucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMucHJpb3JpdGllc18ucHVzaChwcmlvcml0eSk7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlZEVsZW1lbnRzX1t0aGlzLmtleUZ1bmN0aW9uXyhlbGVtZW50KV0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zaWZ0RG93bl8oMCwgdGhpcy5lbGVtZW50c18ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IENvdW50LlxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c18ubGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggb2YgdGhlIGxlZnQgY2hpbGQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gZ2V0IHRoZSBsZWZ0IGNoaWxkIGZvci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgbGVmdCBjaGlsZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldExlZnRDaGlsZEluZGV4XyA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gaW5kZXggKiAyICsgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIHJpZ2h0IGNoaWxkIGZvci5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgcmlnaHQgY2hpbGQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5nZXRSaWdodENoaWxkSW5kZXhfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRleCAqIDIgKyAyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggb2YgdGhlIHBhcmVudCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIHBhcmVudCBmb3IuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIHBhcmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFByaW9yaXR5UXVldWUucHJvdG90eXBlLmdldFBhcmVudEluZGV4XyA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gKGluZGV4IC0gMSkgPj4gMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgdGhpcyBhIGhlYXAuIE8oTikuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5oZWFwaWZ5XyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9ICh0aGlzLmVsZW1lbnRzXy5sZW5ndGggPj4gMSkgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdGhpcy5zaWZ0VXBfKGkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c18ubGVuZ3RoID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMga2V5IHF1ZXVlZC5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5pc0tleVF1ZXVlZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiB0aGlzLnF1ZXVlZEVsZW1lbnRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VH0gZWxlbWVudCBFbGVtZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHF1ZXVlZC5cbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5pc1F1ZXVlZCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzS2V5UXVldWVkKHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gbW92ZSBkb3duLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuc2lmdFVwXyA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzXztcbiAgICAgICAgdmFyIHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgICAgICB2YXIgY291bnQgPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaW5kZXhdO1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBwcmlvcml0aWVzW2luZGV4XTtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgY291bnQgPj4gMSkge1xuICAgICAgICAgICAgdmFyIGxJbmRleCA9IHRoaXMuZ2V0TGVmdENoaWxkSW5kZXhfKGluZGV4KTtcbiAgICAgICAgICAgIHZhciBySW5kZXggPSB0aGlzLmdldFJpZ2h0Q2hpbGRJbmRleF8oaW5kZXgpO1xuICAgICAgICAgICAgdmFyIHNtYWxsZXJDaGlsZEluZGV4ID0gckluZGV4IDwgY291bnQgJiYgcHJpb3JpdGllc1tySW5kZXhdIDwgcHJpb3JpdGllc1tsSW5kZXhdXG4gICAgICAgICAgICAgICAgPyBySW5kZXhcbiAgICAgICAgICAgICAgICA6IGxJbmRleDtcbiAgICAgICAgICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnRzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICAgICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdGllc1tzbWFsbGVyQ2hpbGRJbmRleF07XG4gICAgICAgICAgICBpbmRleCA9IHNtYWxsZXJDaGlsZEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMuc2lmdERvd25fKHN0YXJ0SW5kZXgsIGluZGV4KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IFRoZSBpbmRleCBvZiB0aGUgcm9vdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIG1vdmUgdXAuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5zaWZ0RG93bl8gPSBmdW5jdGlvbiAoc3RhcnRJbmRleCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgICAgIHZhciBwcmlvcml0aWVzID0gdGhpcy5wcmlvcml0aWVzXztcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgIHZhciBwcmlvcml0eSA9IHByaW9yaXRpZXNbaW5kZXhdO1xuICAgICAgICB3aGlsZSAoaW5kZXggPiBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50SW5kZXggPSB0aGlzLmdldFBhcmVudEluZGV4XyhpbmRleCk7XG4gICAgICAgICAgICBpZiAocHJpb3JpdGllc1twYXJlbnRJbmRleF0gPiBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnRzW3BhcmVudEluZGV4XTtcbiAgICAgICAgICAgICAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXRpZXNbcGFyZW50SW5kZXhdO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50c1tpbmRleF0gPSBlbGVtZW50O1xuICAgICAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAgICovXG4gICAgUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUucmVwcmlvcml0aXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJpb3JpdHlGdW5jdGlvbiA9IHRoaXMucHJpb3JpdHlGdW5jdGlvbl87XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgICAgICB2YXIgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBuID0gZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICB2YXIgZWxlbWVudCwgaSwgcHJpb3JpdHk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHByaW9yaXR5ID0gcHJpb3JpdHlGdW5jdGlvbihlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChwcmlvcml0eSA9PSBEUk9QKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucXVldWVkRWxlbWVudHNfW3RoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNbaW5kZXgrK10gPSBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzLmxlbmd0aCA9IGluZGV4O1xuICAgICAgICBwcmlvcml0aWVzLmxlbmd0aCA9IGluZGV4O1xuICAgICAgICB0aGlzLmhlYXBpZnlfKCk7XG4gICAgfTtcbiAgICByZXR1cm4gUHJpb3JpdHlRdWV1ZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBQcmlvcml0eVF1ZXVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJpb3JpdHlRdWV1ZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVRdWV1ZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUHJpb3JpdHlRdWV1ZSwgeyBEUk9QIH0gZnJvbSAnLi9zdHJ1Y3RzL1ByaW9yaXR5UXVldWUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdCwgc3RyaW5nLCBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSwgbnVtYmVyKTogbnVtYmVyfSBQcmlvcml0eUZ1bmN0aW9uXG4gKi9cbnZhciBUaWxlUXVldWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGVRdWV1ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1ByaW9yaXR5RnVuY3Rpb259IHRpbGVQcmlvcml0eUZ1bmN0aW9uIFRpbGUgcHJpb3JpdHkgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpOiA/fSB0aWxlQ2hhbmdlQ2FsbGJhY2sgRnVuY3Rpb24gY2FsbGVkIG9uIGVhY2ggdGlsZSBjaGFuZ2UgZXZlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZVF1ZXVlKHRpbGVQcmlvcml0eUZ1bmN0aW9uLCB0aWxlQ2hhbmdlQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gUHJpb3JpdHkuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpbGVQcmlvcml0eUZ1bmN0aW9uLmFwcGx5KG51bGwsIGVsZW1lbnQpO1xuICAgICAgICB9LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovIChlbGVtZW50WzBdKS5nZXRLZXkoKTtcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqIEBwcml2YXRlICovXG4gICAgICAgIF90aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8gPSBfdGhpcy5oYW5kbGVUaWxlQ2hhbmdlLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Z1bmN0aW9uKCk6ID99XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlQ2hhbmdlQ2FsbGJhY2tfID0gdGlsZUNoYW5nZUNhbGxiYWNrO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVzTG9hZGluZ18gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLGJvb2xlYW4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZXNMb2FkaW5nS2V5c18gPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKi9cbiAgICBUaWxlUXVldWUucHJvdG90eXBlLmVucXVldWUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgYWRkZWQgPSBfc3VwZXIucHJvdG90eXBlLmVucXVldWUuY2FsbCh0aGlzLCBlbGVtZW50KTtcbiAgICAgICAgaWYgKGFkZGVkKSB7XG4gICAgICAgICAgICB2YXIgdGlsZSA9IGVsZW1lbnRbMF07XG4gICAgICAgICAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5ib3VuZEhhbmRsZVRpbGVDaGFuZ2VfKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWRkZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiB0aWxlcyBsb2FkaW5nLlxuICAgICAqL1xuICAgIFRpbGVRdWV1ZS5wcm90b3R5cGUuZ2V0VGlsZXNMb2FkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZVF1ZXVlLnByb3RvdHlwZS5oYW5kbGVUaWxlQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKCh0aWxlLmhpZmkgJiYgc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQpIHx8XG4gICAgICAgICAgICBzdGF0ZSA9PT0gVGlsZVN0YXRlLkVSUk9SIHx8XG4gICAgICAgICAgICBzdGF0ZSA9PT0gVGlsZVN0YXRlLkVNUFRZKSB7XG4gICAgICAgICAgICB0aWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5ib3VuZEhhbmRsZVRpbGVDaGFuZ2VfKTtcbiAgICAgICAgICAgIHZhciB0aWxlS2V5ID0gdGlsZS5nZXRLZXkoKTtcbiAgICAgICAgICAgIGlmICh0aWxlS2V5IGluIHRoaXMudGlsZXNMb2FkaW5nS2V5c18pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy50aWxlc0xvYWRpbmdLZXlzX1t0aWxlS2V5XTtcbiAgICAgICAgICAgICAgICAtLXRoaXMudGlsZXNMb2FkaW5nXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGlsZUNoYW5nZUNhbGxiYWNrXygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG90YWxMb2FkaW5nIE1heGltdW0gbnVtYmVyIHRpbGVzIHRvIGxvYWQgc2ltdWx0YW5lb3VzbHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heE5ld0xvYWRzIE1heGltdW0gbnVtYmVyIG9mIG5ldyB0aWxlcyB0byBsb2FkLlxuICAgICAqL1xuICAgIFRpbGVRdWV1ZS5wcm90b3R5cGUubG9hZE1vcmVUaWxlcyA9IGZ1bmN0aW9uIChtYXhUb3RhbExvYWRpbmcsIG1heE5ld0xvYWRzKSB7XG4gICAgICAgIHZhciBuZXdMb2FkcyA9IDA7XG4gICAgICAgIHZhciBzdGF0ZSwgdGlsZSwgdGlsZUtleTtcbiAgICAgICAgd2hpbGUgKHRoaXMudGlsZXNMb2FkaW5nXyA8IG1heFRvdGFsTG9hZGluZyAmJlxuICAgICAgICAgICAgbmV3TG9hZHMgPCBtYXhOZXdMb2FkcyAmJlxuICAgICAgICAgICAgdGhpcy5nZXRDb3VudCgpID4gMCkge1xuICAgICAgICAgICAgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmRlcXVldWUoKVswXSk7XG4gICAgICAgICAgICB0aWxlS2V5ID0gdGlsZS5nZXRLZXkoKTtcbiAgICAgICAgICAgIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBUaWxlU3RhdGUuSURMRSAmJiAhKHRpbGVLZXkgaW4gdGhpcy50aWxlc0xvYWRpbmdLZXlzXykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVzTG9hZGluZ0tleXNfW3RpbGVLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICArK3RoaXMudGlsZXNMb2FkaW5nXztcbiAgICAgICAgICAgICAgICArK25ld0xvYWRzO1xuICAgICAgICAgICAgICAgIHRpbGUubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGlsZVF1ZXVlO1xufShQcmlvcml0eVF1ZXVlKSk7XG5leHBvcnQgZGVmYXVsdCBUaWxlUXVldWU7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL1BsdWdnYWJsZU1hcC5qcycpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGlsZVNvdXJjZUtleSBUaWxlIHNvdXJjZSBrZXkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0aWxlQ2VudGVyIFRpbGUgY2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbGVSZXNvbHV0aW9uIFRpbGUgcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwcmlvcml0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbGVQcmlvcml0eShmcmFtZVN0YXRlLCB0aWxlLCB0aWxlU291cmNlS2V5LCB0aWxlQ2VudGVyLCB0aWxlUmVzb2x1dGlvbikge1xuICAgIC8vIEZpbHRlciBvdXQgdGlsZXMgYXQgaGlnaGVyIHpvb20gbGV2ZWxzIHRoYW4gdGhlIGN1cnJlbnQgem9vbSBsZXZlbCwgb3IgdGhhdFxuICAgIC8vIGFyZSBvdXRzaWRlIHRoZSB2aXNpYmxlIGV4dGVudC5cbiAgICBpZiAoIWZyYW1lU3RhdGUgfHwgISh0aWxlU291cmNlS2V5IGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMpKSB7XG4gICAgICAgIHJldHVybiBEUk9QO1xuICAgIH1cbiAgICBpZiAoIWZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV1bdGlsZS5nZXRLZXkoKV0pIHtcbiAgICAgICAgcmV0dXJuIERST1A7XG4gICAgfVxuICAgIC8vIFByaW9yaXRpemUgdGhlIGhpZ2hlc3Qgem9vbSBsZXZlbCB0aWxlcyBjbG9zZXN0IHRvIHRoZSBmb2N1cy5cbiAgICAvLyBUaWxlcyBhdCBoaWdoZXIgem9vbSBsZXZlbHMgYXJlIHByaW9yaXRpemVkIHVzaW5nIE1hdGgubG9nKHRpbGVSZXNvbHV0aW9uKS5cbiAgICAvLyBXaXRoaW4gYSB6b29tIGxldmVsLCB0aWxlcyBhcmUgcHJpb3JpdGl6ZWQgYnkgdGhlIGRpc3RhbmNlIGluIHBpeGVscyBiZXR3ZWVuXG4gICAgLy8gdGhlIGNlbnRlciBvZiB0aGUgdGlsZSBhbmQgdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnQuICBUaGUgZmFjdG9yIG9mIDY1NTM2XG4gICAgLy8gbWVhbnMgdGhhdCB0aGUgcHJpb3JpdGl6YXRpb24gc2hvdWxkIGJlaGF2ZSBhcyBkZXNpcmVkIGZvciB0aWxlcyB1cCB0b1xuICAgIC8vIDY1NTM2ICogTWF0aC5sb2coMikgPSA0NTQyNiBwaXhlbHMgZnJvbSB0aGUgZm9jdXMuXG4gICAgdmFyIGNlbnRlciA9IGZyYW1lU3RhdGUudmlld1N0YXRlLmNlbnRlcjtcbiAgICB2YXIgZGVsdGFYID0gdGlsZUNlbnRlclswXSAtIGNlbnRlclswXTtcbiAgICB2YXIgZGVsdGFZID0gdGlsZUNlbnRlclsxXSAtIGNlbnRlclsxXTtcbiAgICByZXR1cm4gKDY1NTM2ICogTWF0aC5sb2codGlsZVJlc29sdXRpb24pICtcbiAgICAgICAgTWF0aC5zcXJ0KGRlbHRhWCAqIGRlbHRhWCArIGRlbHRhWSAqIGRlbHRhWSkgLyB0aWxlUmVzb2x1dGlvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlUXVldWUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVTdGF0ZVxuICovXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBJRExFOiAwLFxuICAgIExPQURJTkc6IDEsXG4gICAgTE9BREVEOiAyLFxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRpbGUgbG9hZGluZyBmYWlsZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIEVSUk9SOiAzLFxuICAgIEVNUFRZOiA0LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVTdGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld0hpbnRcbiAqL1xuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQU5JTUFUSU5HOiAwLFxuICAgIElOVEVSQUNUSU5HOiAxLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdIaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9WaWV3UHJvcGVydHlcbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgQ0VOVEVSOiAnY2VudGVyJyxcbiAgICBSRVNPTFVUSU9OOiAncmVzb2x1dGlvbicsXG4gICAgUk9UQVRJT046ICdyb3RhdGlvbicsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld1Byb3BlcnR5LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlZ3JpZC9jb21tb25cbiAqL1xuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gem9vbSBmb3IgZGVmYXVsdCB0aWxlIGdyaWRzLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX01BWF9aT09NID0gNDI7XG4vKipcbiAqIERlZmF1bHQgdGlsZSBzaXplLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX1RJTEVfU0laRSA9IDI1Njtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvY2VudGVyY29uc3RyYWludFxuICovXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4vbWF0aC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkKSwgbnVtYmVyLCBpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZSwgYm9vbGVhbj0sIEFycmF5PG51bWJlcj49KTogKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb25seUNlbnRlciBJZiB0cnVlLCB0aGUgY29uc3RyYWludCB3aWxsIG9ubHkgYXBwbHkgdG8gdGhlIHZpZXcgY2VudGVyLlxuICogQHBhcmFtIHtib29sZWFufSBzbW9vdGggSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBiZSBhYmxlIHRvIGdvIHNsaWdodGx5IG91dCBvZiB0aGUgZ2l2ZW4gZXh0ZW50XG4gKiAob25seSBkdXJpbmcgaW50ZXJhY3Rpb24gYW5kIGFuaW1hdGlvbikuXG4gKiBAcmV0dXJuIHtUeXBlfSBUaGUgY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4dGVudChleHRlbnQsIG9ubHlDZW50ZXIsIHNtb290aCkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBDZW50ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFZpZXdwb3J0IHNpemU7IHVudXNlZCBpZiBgb25seUNlbnRlcmAgd2FzIHNwZWNpZmllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaXNNb3ZpbmcgVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2NlbnRlclNoaWZ0IFNoaWZ0IGJldHdlZW4gbWFwIGNlbnRlciBhbmQgdmlld3BvcnQgY2VudGVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChjZW50ZXIsIHJlc29sdXRpb24sIHNpemUsIG9wdF9pc01vdmluZywgb3B0X2NlbnRlclNoaWZ0KSB7XG4gICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgIHZhciB2aWV3V2lkdGggPSBvbmx5Q2VudGVyID8gMCA6IHNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHZpZXdIZWlnaHQgPSBvbmx5Q2VudGVyID8gMCA6IHNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHNoaWZ0WCA9IG9wdF9jZW50ZXJTaGlmdCA/IG9wdF9jZW50ZXJTaGlmdFswXSA6IDA7XG4gICAgICAgICAgICB2YXIgc2hpZnRZID0gb3B0X2NlbnRlclNoaWZ0ID8gb3B0X2NlbnRlclNoaWZ0WzFdIDogMDtcbiAgICAgICAgICAgIHZhciBtaW5YID0gZXh0ZW50WzBdICsgdmlld1dpZHRoIC8gMiArIHNoaWZ0WDtcbiAgICAgICAgICAgIHZhciBtYXhYID0gZXh0ZW50WzJdIC0gdmlld1dpZHRoIC8gMiArIHNoaWZ0WDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gZXh0ZW50WzFdICsgdmlld0hlaWdodCAvIDIgKyBzaGlmdFk7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IGV4dGVudFszXSAtIHZpZXdIZWlnaHQgLyAyICsgc2hpZnRZO1xuICAgICAgICAgICAgLy8gbm90ZTogd2hlbiB6b29taW5nIG91dCBvZiBib3VuZHMsIG1pbiBhbmQgbWF4IHZhbHVlcyBmb3IgeCBhbmQgeSBtYXlcbiAgICAgICAgICAgIC8vIGVuZCB1cCBpbnZlcnRlZCAobWluID4gbWF4KTsgdGhpcyBoYXMgdG8gYmUgYWNjb3VudGVkIGZvclxuICAgICAgICAgICAgaWYgKG1pblggPiBtYXhYKSB7XG4gICAgICAgICAgICAgICAgbWluWCA9IChtYXhYICsgbWluWCkgLyAyO1xuICAgICAgICAgICAgICAgIG1heFggPSBtaW5YO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1pblkgPiBtYXhZKSB7XG4gICAgICAgICAgICAgICAgbWluWSA9IChtYXhZICsgbWluWSkgLyAyO1xuICAgICAgICAgICAgICAgIG1heFkgPSBtaW5ZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHggPSBjbGFtcChjZW50ZXJbMF0sIG1pblgsIG1heFgpO1xuICAgICAgICAgICAgdmFyIHkgPSBjbGFtcChjZW50ZXJbMV0sIG1pblksIG1heFkpO1xuICAgICAgICAgICAgdmFyIHJhdGlvID0gMzAgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gZHVyaW5nIGFuIGludGVyYWN0aW9uLCBhbGxvdyBzb21lIG92ZXJzY3JvbGxcbiAgICAgICAgICAgIGlmIChvcHRfaXNNb3ZpbmcgJiYgc21vb3RoKSB7XG4gICAgICAgICAgICAgICAgeCArPVxuICAgICAgICAgICAgICAgICAgICAtcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgbWluWCAtIGNlbnRlclswXSkgLyByYXRpbykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzBdIC0gbWF4WCkgLyByYXRpbyk7XG4gICAgICAgICAgICAgICAgeSArPVxuICAgICAgICAgICAgICAgICAgICAtcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgbWluWSAtIGNlbnRlclsxXSkgLyByYXRpbykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzFdIC0gbWF4WSkgLyByYXRpbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3gsIHldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gY2VudGVyIENlbnRlci5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZShjZW50ZXIpIHtcbiAgICByZXR1cm4gY2VudGVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2VudGVyY29uc3RyYWludC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVzb2x1dGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHsgZ2V0SGVpZ2h0LCBnZXRXaWR0aCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGxpbmVhckZpbmROZWFyZXN0IH0gZnJvbSAnLi9hcnJheS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigobnVtYmVyfHVuZGVmaW5lZCksIG51bWJlciwgaW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemUsIGJvb2xlYW49KTogKG51bWJlcnx1bmRlZmluZWQpfSBUeXBlXG4gKi9cbi8qKlxuICogUmV0dXJucyBhIG1vZGlmaWVkIHJlc29sdXRpb24gdGFraW5nIGludG8gYWNjb3VudCB0aGUgdmlld3BvcnQgc2l6ZSBhbmQgbWF4aW11bVxuICogYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSB2aWV3cG9ydFNpemUgVmlld3BvcnQgc2l6ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvd0Z1bGxFeHRlbnQgV2hldGhlciB0byBzaG93IHRoZSBmdWxsIGV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gQ2FwcGVkIHJlc29sdXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgbWF4RXh0ZW50LCB2aWV3cG9ydFNpemUsIHNob3dGdWxsRXh0ZW50KSB7XG4gICAgdmFyIHhSZXNvbHV0aW9uID0gZ2V0V2lkdGgobWF4RXh0ZW50KSAvIHZpZXdwb3J0U2l6ZVswXTtcbiAgICB2YXIgeVJlc29sdXRpb24gPSBnZXRIZWlnaHQobWF4RXh0ZW50KSAvIHZpZXdwb3J0U2l6ZVsxXTtcbiAgICBpZiAoc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHJlc29sdXRpb24sIE1hdGgubWF4KHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbikpO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5taW4ocmVzb2x1dGlvbiwgTWF0aC5taW4oeFJlc29sdXRpb24sIHlSZXNvbHV0aW9uKSk7XG59XG4vKipcbiAqIFJldHVybnMgYSBtb2RpZmllZCByZXNvbHV0aW9uIHRvIGJlIGJldHdlZW4gbWF4UmVzb2x1dGlvbiBhbmQgbWluUmVzb2x1dGlvbiB3aGlsZVxuICogc3RpbGwgYWxsb3dpbmcgdGhlIHZhbHVlIHRvIGJlIHNsaWdodGx5IG91dCBvZiBib3VuZHMuXG4gKiBOb3RlOiB0aGUgY29tcHV0YXRpb24gaXMgYmFzZWQgb24gdGhlIGxvZ2FyaXRobSBmdW5jdGlvbiAobG4pOlxuICogIC0gYXQgMSwgbG4oeCkgaXMgMFxuICogIC0gYWJvdmUgMSwgbG4oeCkga2VlcHMgaW5jcmVhc2luZyBidXQgYXQgYSBtdWNoIHNsb3dlciBwYWNlIHRoYW4geFxuICogVGhlIGZpbmFsIHJlc3VsdCBpcyBjbGFtcGVkIHRvIHByZXZlbnQgZ2V0dGluZyB0b28gZmFyIGF3YXkgZnJvbSBib3VuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJlc29sdXRpb24gTWF4IHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gbWluUmVzb2x1dGlvbiBNaW4gcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gU21vb3RoZWQgcmVzb2x1dGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgbWF4UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbikge1xuICAgIHZhciByZXN1bHQgPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBtYXhSZXNvbHV0aW9uKTtcbiAgICB2YXIgcmF0aW8gPSA1MDtcbiAgICByZXN1bHQgKj1cbiAgICAgICAgTWF0aC5sb2coMSArIHJhdGlvICogTWF0aC5tYXgoMCwgcmVzb2x1dGlvbiAvIG1heFJlc29sdXRpb24gLSAxKSkgLyByYXRpbyArXG4gICAgICAgICAgICAxO1xuICAgIGlmIChtaW5SZXNvbHV0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IE1hdGgubWF4KHJlc3VsdCwgbWluUmVzb2x1dGlvbik7XG4gICAgICAgIHJlc3VsdCAvPVxuICAgICAgICAgICAgTWF0aC5sb2coMSArIHJhdGlvICogTWF0aC5tYXgoMCwgbWluUmVzb2x1dGlvbiAvIHJlc29sdXRpb24gLSAxKSkgL1xuICAgICAgICAgICAgICAgIHJhdGlvICtcbiAgICAgICAgICAgICAgICAxO1xuICAgIH1cbiAgICByZXR1cm4gY2xhbXAocmVzdWx0LCBtaW5SZXNvbHV0aW9uIC8gMiwgbWF4UmVzb2x1dGlvbiAqIDIpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHJlc29sdXRpb25zIFJlc29sdXRpb25zLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3Ntb290aCBJZiB0cnVlLCB0aGUgdmlldyB3aWxsIGJlIGFibGUgdG8gc2xpZ2h0bHkgZXhjZWVkIHJlc29sdXRpb24gbGltaXRzLiBEZWZhdWx0OiB0cnVlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfbWF4RXh0ZW50IE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2hvd0Z1bGxFeHRlbnQgSWYgdHJ1ZSwgYWxsb3dzIHVzIHRvIHNob3cgdGhlIGZ1bGwgZXh0ZW50LiBEZWZhdWx0OiBmYWxzZS5cbiAqIEByZXR1cm4ge1R5cGV9IFpvb20gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyhyZXNvbHV0aW9ucywgb3B0X3Ntb290aCwgb3B0X21heEV4dGVudCwgb3B0X3Nob3dGdWxsRXh0ZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlyZWN0aW9uIERpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFZpZXdwb3J0IHNpemUuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2lzTW92aW5nIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlc29sdXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJlc29sdXRpb24sIGRpcmVjdGlvbiwgc2l6ZSwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBtYXhSZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbMF07XG4gICAgICAgICAgICB2YXIgbWluUmVzb2x1dGlvbiA9IHJlc29sdXRpb25zW3Jlc29sdXRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdmFyIGNhcHBlZE1heFJlcyA9IG9wdF9tYXhFeHRlbnRcbiAgICAgICAgICAgICAgICA/IGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24obWF4UmVzb2x1dGlvbiwgb3B0X21heEV4dGVudCwgc2l6ZSwgb3B0X3Nob3dGdWxsRXh0ZW50KVxuICAgICAgICAgICAgICAgIDogbWF4UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIC8vIGR1cmluZyBpbnRlcmFjdGluZyBvciBhbmltYXRpbmcsIGFsbG93IGludGVybWVkaWFyeSB2YWx1ZXNcbiAgICAgICAgICAgIGlmIChvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgc21vb3RoID0gb3B0X3Ntb290aCAhPT0gdW5kZWZpbmVkID8gb3B0X3Ntb290aCA6IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFzbW9vdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRTbW9vdGhDbGFtcGVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMsIG1pblJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNhcHBlZCA9IE1hdGgubWluKGNhcHBlZE1heFJlcywgcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB2YXIgeiA9IE1hdGguZmxvb3IobGluZWFyRmluZE5lYXJlc3QocmVzb2x1dGlvbnMsIGNhcHBlZCwgZGlyZWN0aW9uKSk7XG4gICAgICAgICAgICBpZiAocmVzb2x1dGlvbnNbel0gPiBjYXBwZWRNYXhSZXMgJiYgeiA8IHJlc29sdXRpb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNbeiArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdXRpb25zW3pdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcG93ZXIgUG93ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBNYXhpbXVtIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9taW5SZXNvbHV0aW9uIE1pbmltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9zbW9vdGggSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBiZSBhYmxlIHRvIHNsaWdodGx5IGV4Y2VlZCByZXNvbHV0aW9uIGxpbWl0cy4gRGVmYXVsdDogdHJ1ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X21heEV4dGVudCBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3Nob3dGdWxsRXh0ZW50IElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvUG93ZXIocG93ZXIsIG1heFJlc29sdXRpb24sIG9wdF9taW5SZXNvbHV0aW9uLCBvcHRfc21vb3RoLCBvcHRfbWF4RXh0ZW50LCBvcHRfc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaXNNb3ZpbmcgVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGNhcHBlZE1heFJlcyA9IG9wdF9tYXhFeHRlbnRcbiAgICAgICAgICAgICAgICA/IGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24obWF4UmVzb2x1dGlvbiwgb3B0X21heEV4dGVudCwgc2l6ZSwgb3B0X3Nob3dGdWxsRXh0ZW50KVxuICAgICAgICAgICAgICAgIDogbWF4UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciBtaW5SZXNvbHV0aW9uID0gb3B0X21pblJlc29sdXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9taW5SZXNvbHV0aW9uIDogMDtcbiAgICAgICAgICAgIC8vIGR1cmluZyBpbnRlcmFjdGluZyBvciBhbmltYXRpbmcsIGFsbG93IGludGVybWVkaWFyeSB2YWx1ZXNcbiAgICAgICAgICAgIGlmIChvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgc21vb3RoID0gb3B0X3Ntb290aCAhPT0gdW5kZWZpbmVkID8gb3B0X3Ntb290aCA6IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFzbW9vdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRTbW9vdGhDbGFtcGVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMsIG1pblJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRvbGVyYW5jZSA9IDFlLTk7XG4gICAgICAgICAgICB2YXIgbWluWm9vbUxldmVsID0gTWF0aC5jZWlsKE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBjYXBwZWRNYXhSZXMpIC8gTWF0aC5sb2cocG93ZXIpIC0gdG9sZXJhbmNlKTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAtZGlyZWN0aW9uICogKDAuNSAtIHRvbGVyYW5jZSkgKyAwLjU7XG4gICAgICAgICAgICB2YXIgY2FwcGVkID0gTWF0aC5taW4oY2FwcGVkTWF4UmVzLCByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHZhciBjYXBwZWRab29tTGV2ZWwgPSBNYXRoLmZsb29yKE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBjYXBwZWQpIC8gTWF0aC5sb2cocG93ZXIpICsgb2Zmc2V0KTtcbiAgICAgICAgICAgIHZhciB6b29tTGV2ZWwgPSBNYXRoLm1heChtaW5ab29tTGV2ZWwsIGNhcHBlZFpvb21MZXZlbCk7XG4gICAgICAgICAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyhwb3dlciwgem9vbUxldmVsKTtcbiAgICAgICAgICAgIHJldHVybiBjbGFtcChuZXdSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBNYXggcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5SZXNvbHV0aW9uIE1pbiByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3Ntb290aCBJZiB0cnVlLCB0aGUgdmlldyB3aWxsIGJlIGFibGUgdG8gc2xpZ2h0bHkgZXhjZWVkIHJlc29sdXRpb24gbGltaXRzLiBEZWZhdWx0OiB0cnVlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfbWF4RXh0ZW50IE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfc2hvd0Z1bGxFeHRlbnQgSWYgdHJ1ZSwgYWxsb3dzIHVzIHRvIHNob3cgdGhlIGZ1bGwgZXh0ZW50LiBEZWZhdWx0OiBmYWxzZS5cbiAqIEByZXR1cm4ge1R5cGV9IFpvb20gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNaW5NYXhSZXNvbHV0aW9uKG1heFJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIG9wdF9zbW9vdGgsIG9wdF9tYXhFeHRlbnQsIG9wdF9zaG93RnVsbEV4dGVudCkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBEaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pc01vdmluZyBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZXNvbHV0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUsIG9wdF9pc01vdmluZykge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgY2FwcGVkTWF4UmVzID0gb3B0X21heEV4dGVudFxuICAgICAgICAgICAgICAgID8gZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uLCBvcHRfbWF4RXh0ZW50LCBzaXplLCBvcHRfc2hvd0Z1bGxFeHRlbnQpXG4gICAgICAgICAgICAgICAgOiBtYXhSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHNtb290aCA9IG9wdF9zbW9vdGggIT09IHVuZGVmaW5lZCA/IG9wdF9zbW9vdGggOiB0cnVlO1xuICAgICAgICAgICAgaWYgKCFzbW9vdGggfHwgIW9wdF9pc01vdmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGFtcChyZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIGNhcHBlZE1heFJlcywgbWluUmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHV0aW9uY29uc3RyYWludC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcm90YXRpb25jb25zdHJhaW50XG4gKi9cbmltcG9ydCB7IHRvUmFkaWFucyB9IGZyb20gJy4vbWF0aC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigobnVtYmVyfHVuZGVmaW5lZCksIGJvb2xlYW49KTogKG51bWJlcnx1bmRlZmluZWQpfSBUeXBlXG4gKi9cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZShyb3RhdGlvbikge1xuICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vbmUocm90YXRpb24pIHtcbiAgICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG4gTi5cbiAqIEByZXR1cm4ge1R5cGV9IFJvdGF0aW9uIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbmFwVG9OKG4pIHtcbiAgICB2YXIgdGhldGEgPSAoMiAqIE1hdGguUEkpIC8gbjtcbiAgICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2lzTW92aW5nIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyb3RhdGlvbiwgb3B0X2lzTW92aW5nKSB7XG4gICAgICAgIGlmIChvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcm90YXRpb24gPSBNYXRoLmZsb29yKHJvdGF0aW9uIC8gdGhldGEgKyAwLjUpICogdGhldGE7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3RvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvWmVybyhvcHRfdG9sZXJhbmNlKSB7XG4gICAgdmFyIHRvbGVyYW5jZSA9IG9wdF90b2xlcmFuY2UgfHwgdG9SYWRpYW5zKDUpO1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaXNNb3ZpbmcgVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJvdGF0aW9uLCBvcHRfaXNNb3ZpbmcpIHtcbiAgICAgICAgaWYgKG9wdF9pc01vdmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRpb24pIDw9IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm90YXRpb25jb25zdHJhaW50LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvY2xvc2VzdFxuICovXG5pbXBvcnQgeyBsZXJwLCBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZER4IH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG4vKipcbiAqIFJldHVybnMgdGhlIHBvaW50IG9uIHRoZSAyRCBsaW5lIHNlZ21lbnQgZmxhdENvb3JkaW5hdGVzW29mZnNldDFdIHRvXG4gKiBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0Ml0gdGhhdCBpcyBjbG9zZXN0IHRvIHRoZSBwb2ludCAoeCwgeSkuICBFeHRyYVxuICogZGltZW5zaW9ucyBhcmUgbGluZWFybHkgaW50ZXJwb2xhdGVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQxIE9mZnNldCAxLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldDIgT2Zmc2V0IDIuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqL1xuZnVuY3Rpb24gYXNzaWduQ2xvc2VzdChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldDEsIG9mZnNldDIsIHN0cmlkZSwgeCwgeSwgY2xvc2VzdFBvaW50KSB7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDFdO1xuICAgIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQxICsgMV07XG4gICAgdmFyIGR4ID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDJdIC0geDE7XG4gICAgdmFyIGR5ID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDIgKyAxXSAtIHkxO1xuICAgIHZhciBvZmZzZXQ7XG4gICAgaWYgKGR4ID09PSAwICYmIGR5ID09PSAwKSB7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdCA9ICgoeCAtIHgxKSAqIGR4ICsgKHkgLSB5MSkgKiBkeSkgLyAoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICBpZiAodCA+IDEpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IG9mZnNldDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBsZXJwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQxICsgaV0sIGZsYXRDb29yZGluYXRlc1tvZmZzZXQyICsgaV0sIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldCA9IG9mZnNldDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgfVxuICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG59XG4vKipcbiAqIFJldHVybiB0aGUgc3F1YXJlZCBvZiB0aGUgbGFyZ2VzdCBkaXN0YW5jZSBiZXR3ZWVuIGFueSBwYWlyIG9mIGNvbnNlY3V0aXZlXG4gKiBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heFNxdWFyZWREZWx0YShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIG1heCkge1xuICAgIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBmb3IgKG9mZnNldCArPSBzdHJpZGU7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICB2YXIgc3F1YXJlZERlbHRhID0gc3F1YXJlZER4KHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgICAgaWYgKHNxdWFyZWREZWx0YSA+IG1heCkge1xuICAgICAgICAgICAgbWF4ID0gc3F1YXJlZERlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiBtYXg7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5TWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG1heCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kID0gZW5kc1tpXTtcbiAgICAgICAgbWF4ID0gbWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gbWF4O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBNYXggc3F1YXJlZCBkZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gTWF4IHNxdWFyZWQgZGVsdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aUFycmF5TWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCBtYXgpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIG1heCA9IGFycmF5TWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG1heCk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIG1heDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZWx0YSBNYXggZGVsdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmluZyBJcyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfdG1wUG9pbnQgVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdFBvaW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIG9wdF90bXBQb2ludCkge1xuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIHZhciBpLCBzcXVhcmVkRGlzdGFuY2U7XG4gICAgaWYgKG1heERlbHRhID09PSAwKSB7XG4gICAgICAgIC8vIEFsbCBwb2ludHMgYXJlIGlkZW50aWNhbCwgc28ganVzdCB0ZXN0IHRoZSBmaXJzdCBwb2ludC5cbiAgICAgICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0pO1xuICAgICAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgcmV0dXJuIHNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgICB2YXIgaW5kZXggPSBvZmZzZXQgKyBzdHJpZGU7XG4gICAgd2hpbGUgKGluZGV4IDwgZW5kKSB7XG4gICAgICAgIGFzc2lnbkNsb3Nlc3QoZmxhdENvb3JkaW5hdGVzLCBpbmRleCAtIHN0cmlkZSwgaW5kZXgsIHN0cmlkZSwgeCwgeSwgdG1wUG9pbnQpO1xuICAgICAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgdG1wUG9pbnRbMF0sIHRtcFBvaW50WzFdKTtcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gdG1wUG9pbnRbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgICAgICAgaW5kZXggKz0gc3RyaWRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU2tpcCBhaGVhZCBtdWx0aXBsZSBwb2ludHMsIGJlY2F1c2Ugd2Uga25vdyB0aGF0IGFsbCB0aGUgc2tpcHBlZFxuICAgICAgICAgICAgLy8gcG9pbnRzIGNhbm5vdCBiZSBhbnkgY2xvc2VyIHRoYW4gdGhlIGNsb3Nlc3QgcG9pbnQgd2UgaGF2ZSBmb3VuZCBzb1xuICAgICAgICAgICAgLy8gZmFyLiAgV2Uga25vdyB0aGlzIGJlY2F1c2Ugd2Uga25vdyBob3cgY2xvc2UgdGhlIGN1cnJlbnQgcG9pbnQgaXMsIGhvd1xuICAgICAgICAgICAgLy8gY2xvc2UgdGhlIGNsb3Nlc3QgcG9pbnQgd2UgaGF2ZSBmb3VuZCBzbyBmYXIgaXMsIGFuZCB0aGUgbWF4aW11bVxuICAgICAgICAgICAgLy8gZGlzdGFuY2UgYmV0d2VlbiBjb25zZWN1dGl2ZSBwb2ludHMuICBGb3IgZXhhbXBsZSwgaWYgd2UncmUgY3VycmVudGx5XG4gICAgICAgICAgICAvLyBhdCBkaXN0YW5jZSAxMCwgdGhlIGJlc3Qgd2UndmUgZm91bmQgc28gZmFyIGlzIDMsIGFuZCB0aGF0IHRoZSBtYXhpbXVtXG4gICAgICAgICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNvbnNlY3V0aXZlIHBvaW50cyBpcyAyLCB0aGVuIHdlJ2xsIG5lZWQgdG8gc2tpcCBhdFxuICAgICAgICAgICAgLy8gbGVhc3QgKDEwIC0gMykgLyAyID09IDMgKHJvdW5kZWQgZG93bikgcG9pbnRzIHRvIGhhdmUgYW55IGNoYW5jZSBvZlxuICAgICAgICAgICAgLy8gZmluZGluZyBhIGNsb3NlciBwb2ludC4gIFdlIHVzZSBNYXRoLm1heCguLi4sIDEpIHRvIGVuc3VyZSB0aGF0IHdlXG4gICAgICAgICAgICAvLyBhbHdheXMgYWR2YW5jZSBhdCBsZWFzdCBvbmUgcG9pbnQsIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3AuXG4gICAgICAgICAgICBpbmRleCArPVxuICAgICAgICAgICAgICAgIHN0cmlkZSAqXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KCgoTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSkgLSBNYXRoLnNxcnQobWluU3F1YXJlZERpc3RhbmNlKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RGVsdGEpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc1JpbmcpIHtcbiAgICAgICAgLy8gQ2hlY2sgdGhlIGNsb3Npbmcgc2VnbWVudC5cbiAgICAgICAgYXNzaWduQ2xvc2VzdChmbGF0Q29vcmRpbmF0ZXMsIGVuZCAtIHN0cmlkZSwgb2Zmc2V0LCBzdHJpZGUsIHgsIHksIHRtcFBvaW50KTtcbiAgICAgICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIHRtcFBvaW50WzBdLCB0bXBQb2ludFsxXSk7XG4gICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREaXN0YW5jZTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IHRtcFBvaW50W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF90bXBQb2ludCBUZW1wb3JhcnkgcG9pbnQgb2JqZWN0LlxuICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgb3B0X3RtcFBvaW50KSB7XG4gICAgdmFyIHRtcFBvaW50ID0gb3B0X3RtcFBvaW50ID8gb3B0X3RtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IGFzc2lnbkNsb3Nlc3RQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIG1heERlbHRhLCBpc1JpbmcsIHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlLCB0bXBQb2ludCk7XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZWx0YSBNYXggZGVsdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmluZyBJcyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj49fSBvcHRfdG1wUG9pbnQgVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdE11bHRpQXJyYXlQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgbWF4RGVsdGEsIGlzUmluZywgeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UsIG9wdF90bXBQb2ludCkge1xuICAgIHZhciB0bXBQb2ludCA9IG9wdF90bXBQb2ludCA/IG9wdF90bXBQb2ludCA6IFtOYU4sIE5hTl07XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBtYXhEZWx0YSwgaXNSaW5nLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSwgdG1wUG9pbnQpO1xuICAgICAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbG9zZXN0LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvc2ltcGxpZnlcbiAqL1xuLy8gQmFzZWQgb24gc2ltcGxpZnktanMgaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvc2ltcGxpZnktanNcbi8vIENvcHlyaWdodCAoYykgMjAxMiwgVmxhZGltaXIgQWdhZm9ua2luXG4vLyBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4vL1xuLy8gICAgMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuLy8gICAgICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vXG4vLyAgICAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuLy8gICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuLy8gICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxuLy8gQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuLy8gSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0Vcbi8vIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkVcbi8vIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1Jcbi8vIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GXG4vLyBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1Ncbi8vIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOXG4vLyBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuLy8gQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbi8vIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuaW1wb3J0IHsgc3F1YXJlZERpc3RhbmNlLCBzcXVhcmVkU2VnbWVudERpc3RhbmNlIH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlnaFF1YWxpdHkgSGlnaGVzdCBxdWFsaXR5LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBTaW1wbGlmaWVkIGxpbmUgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2ltcGxpZnlMaW5lU3RyaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgaGlnaFF1YWxpdHksIG9wdF9zaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzKSB7XG4gICAgdmFyIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBvcHRfc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0X3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNcbiAgICAgICAgOiBbXTtcbiAgICBpZiAoIWhpZ2hRdWFsaXR5KSB7XG4gICAgICAgIGVuZCA9IHJhZGlhbERpc3RhbmNlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgMCk7XG4gICAgICAgIGZsYXRDb29yZGluYXRlcyA9IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXM7XG4gICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIHN0cmlkZSA9IDI7XG4gICAgfVxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXIoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwKTtcbiAgICByZXR1cm4gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXIoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBzcXVhcmVkVG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KSB7XG4gICAgdmFyIG4gPSAoZW5kIC0gb2Zmc2V0KSAvIHN0cmlkZTtcbiAgICBpZiAobiA8IDMpIHtcbiAgICAgICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICB9XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciBtYXJrZXJzID0gbmV3IEFycmF5KG4pO1xuICAgIG1hcmtlcnNbMF0gPSAxO1xuICAgIG1hcmtlcnNbbiAtIDFdID0gMTtcbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgdmFyIHN0YWNrID0gW29mZnNldCwgZW5kIC0gc3RyaWRlXTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBsYXN0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIHZhciBmaXJzdCA9IHN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgbWF4U3F1YXJlZERpc3RhbmNlID0gMDtcbiAgICAgICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW2ZpcnN0XTtcbiAgICAgICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2ZpcnN0ICsgMV07XG4gICAgICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tsYXN0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW2xhc3QgKyAxXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0ICsgc3RyaWRlOyBpIDwgbGFzdDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIHZhciB4ID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHNxdWFyZWREaXN0YW5jZV8xID0gc3F1YXJlZFNlZ21lbnREaXN0YW5jZSh4LCB5LCB4MSwgeTEsIHgyLCB5Mik7XG4gICAgICAgICAgICBpZiAoc3F1YXJlZERpc3RhbmNlXzEgPiBtYXhTcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgbWF4U3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlXzE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heFNxdWFyZWREaXN0YW5jZSA+IHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICAgICAgICAgIG1hcmtlcnNbKGluZGV4IC0gb2Zmc2V0KSAvIHN0cmlkZV0gPSAxO1xuICAgICAgICAgICAgaWYgKGZpcnN0ICsgc3RyaWRlIDwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGZpcnN0LCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXggKyBzdHJpZGUgPCBsYXN0KSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChpbmRleCwgbGFzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKG1hcmtlcnNbaV0pIHtcbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGkgKiBzdHJpZGVdO1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaSAqIHN0cmlkZSArIDFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEVuZHMgU2ltcGxpZmllZCBlbmRzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdWdsYXNQZXVja2VyQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBkb3VnbGFzUGV1Y2tlcihmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQpO1xuICAgICAgICBzaW1wbGlmaWVkRW5kcy5wdXNoKHNpbXBsaWZpZWRPZmZzZXQpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IHNpbXBsaWZpZWRFbmRzcyBTaW1wbGlmaWVkIGVuZHNzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdWdsYXNQZXVja2VyTXVsdGlBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHNzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICB2YXIgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICAgICAgc2ltcGxpZmllZE9mZnNldCA9IGRvdWdsYXNQZXVja2VyQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHMpO1xuICAgICAgICBzaW1wbGlmaWVkRW5kc3MucHVzaChzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhZGlhbERpc3RhbmNlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgc3F1YXJlZFRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCkge1xuICAgIGlmIChlbmQgPD0gb2Zmc2V0ICsgc3RyaWRlKSB7XG4gICAgICAgIC8vIHplcm8gb3Igb25lIHBvaW50LCBubyBzaW1wbGlmaWNhdGlvbiBwb3NzaWJsZSwgc28gY29weSBhbmQgcmV0dXJuXG4gICAgICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gICAgfVxuICAgIHZhciB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHZhciB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAvLyBjb3B5IGZpcnN0IHBvaW50XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDE7XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTE7XG4gICAgdmFyIHgyID0geDE7XG4gICAgdmFyIHkyID0geTE7XG4gICAgZm9yIChvZmZzZXQgKz0gc3RyaWRlOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UoeDEsIHkxLCB4MiwgeTIpID4gc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgLy8gY29weSBwb2ludCBhdCBvZmZzZXRcbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgICAgICAgICB4MSA9IHgyO1xuICAgICAgICAgICAgeTEgPSB5MjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoeDIgIT0geDEgfHwgeTIgIT0geTEpIHtcbiAgICAgICAgLy8gY29weSBsYXN0IHBvaW50XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHJldHVybiB7bnVtYmVyfSBSb3VuZGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc25hcCh2YWx1ZSwgdG9sZXJhbmNlKSB7XG4gICAgcmV0dXJuIHRvbGVyYW5jZSAqIE1hdGgucm91bmQodmFsdWUgLyB0b2xlcmFuY2UpO1xufVxuLyoqXG4gKiBTaW1wbGlmaWVzIGEgbGluZSBzdHJpbmcgdXNpbmcgYW4gYWxnb3JpdGhtIGRlc2lnbmVkIGJ5IFRpbSBTY2hhdWIuXG4gKiBDb29yZGluYXRlcyBhcmUgc25hcHBlZCB0byB0aGUgbmVhcmVzdCB2YWx1ZSBpbiBhIHZpcnR1YWwgZ3JpZCBhbmRcbiAqIGNvbnNlY3V0aXZlIGR1cGxpY2F0ZSBjb29yZGluYXRlcyBhcmUgZGlzY2FyZGVkLiAgVGhpcyBlZmZlY3RpdmVseSBwcmVzZXJ2ZXNcbiAqIHRvcG9sb2d5IGFzIHRoZSBzaW1wbGlmaWNhdGlvbiBvZiBhbnkgc3Vic2VjdGlvbiBvZiBhIGxpbmUgc3RyaW5nIGlzXG4gKiBpbmRlcGVuZGVudCBvZiB0aGUgcmVzdCBvZiB0aGUgbGluZSBzdHJpbmcuICBUaGlzIG1lYW5zIHRoYXQsIGZvciBleGFtcGxlcyxcbiAqIHRoZSBjb21tb24gZWRnZSBiZXR3ZWVuIHR3byBwb2x5Z29ucyB3aWxsIGJlIHNpbXBsaWZpZWQgdG8gdGhlIHNhbWUgbGluZVxuICogc3RyaW5nIGluZGVwZW5kZW50bHkgaW4gYm90aCBwb2x5Z29ucy4gIFRoaXMgaW1wbGVtZW50YXRpb24gdXNlcyBhIHNpbmdsZVxuICogcGFzcyBvdmVyIHRoZSBjb29yZGluYXRlcyBhbmQgZWxpbWluYXRlcyBpbnRlcm1lZGlhdGUgY29sbGluZWFyIHBvaW50cy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdG9sZXJhbmNlLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBzaW1wbGlmaWVkT2Zmc2V0KSB7XG4gICAgLy8gZG8gbm90aGluZyBpZiB0aGUgbGluZSBpcyBlbXB0eVxuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICAgIH1cbiAgICAvLyBzbmFwIHRoZSBmaXJzdCBjb29yZGluYXRlIChQMSlcbiAgICB2YXIgeDEgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCB0b2xlcmFuY2UpO1xuICAgIHZhciB5MSA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdLCB0b2xlcmFuY2UpO1xuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgLy8gYWRkIHRoZSBmaXJzdCBjb29yZGluYXRlIHRvIHRoZSBvdXRwdXRcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MTtcbiAgICAvLyBmaW5kIHRoZSBuZXh0IGNvb3JkaW5hdGUgdGhhdCBkb2VzIG5vdCBzbmFwIHRvIHRoZSBzYW1lIHZhbHVlIGFzIHRoZSBmaXJzdFxuICAgIC8vIGNvb3JkaW5hdGUgKFAyKVxuICAgIHZhciB4MiwgeTI7XG4gICAgZG8ge1xuICAgICAgICB4MiA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgICAgIHkyID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gICAgICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICAgICAgICAvLyBhbGwgY29vcmRpbmF0ZXMgc25hcCB0byB0aGUgc2FtZSB2YWx1ZSwgdGhlIGxpbmUgY29sbGFwc2VzIHRvIGEgcG9pbnRcbiAgICAgICAgICAgIC8vIHB1c2ggdGhlIGxhc3Qgc25hcHBlZCB2YWx1ZSBhbnl3YXkgdG8gZW5zdXJlIHRoYXQgdGhlIG91dHB1dCBjb250YWluc1xuICAgICAgICAgICAgLy8gYXQgbGVhc3QgdHdvIHBvaW50c1xuICAgICAgICAgICAgLy8gRklYTUUgc2hvdWxkIHdlIHJlYWxseSByZXR1cm4gYXQgbGVhc3QgdHdvIHBvaW50cyBhbnl3YXk/XG4gICAgICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgICAgICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgICAgICAgICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlICh4MiA9PSB4MSAmJiB5MiA9PSB5MSk7XG4gICAgd2hpbGUgKG9mZnNldCA8IGVuZCkge1xuICAgICAgICAvLyBzbmFwIHRoZSBuZXh0IGNvb3JkaW5hdGUgKFAzKVxuICAgICAgICB2YXIgeDMgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCB0b2xlcmFuY2UpO1xuICAgICAgICB2YXIgeTMgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAgICAgLy8gc2tpcCBQMyBpZiBpdCBpcyBlcXVhbCB0byBQMlxuICAgICAgICBpZiAoeDMgPT0geDIgJiYgeTMgPT0geTIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiBQMSBhbmQgUDJcbiAgICAgICAgdmFyIGR4MSA9IHgyIC0geDE7XG4gICAgICAgIHZhciBkeTEgPSB5MiAtIHkxO1xuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGRlbHRhIGJldHdlZW4gUDMgYW5kIFAxXG4gICAgICAgIHZhciBkeDIgPSB4MyAtIHgxO1xuICAgICAgICB2YXIgZHkyID0geTMgLSB5MTtcbiAgICAgICAgLy8gaWYgUDEsIFAyLCBhbmQgUDMgYXJlIGNvbGluZWFyIGFuZCBQMyBpcyBmdXJ0aGVyIGZyb20gUDEgdGhhbiBQMiBpcyBmcm9tXG4gICAgICAgIC8vIFAxIGluIHRoZSBzYW1lIGRpcmVjdGlvbiB0aGVuIFAyIGlzIG9uIHRoZSBzdHJhaWdodCBsaW5lIGJldHdlZW4gUDEgYW5kXG4gICAgICAgIC8vIFAzXG4gICAgICAgIGlmIChkeDEgKiBkeTIgPT0gZHkxICogZHgyICYmXG4gICAgICAgICAgICAoKGR4MSA8IDAgJiYgZHgyIDwgZHgxKSB8fCBkeDEgPT0gZHgyIHx8IChkeDEgPiAwICYmIGR4MiA+IGR4MSkpICYmXG4gICAgICAgICAgICAoKGR5MSA8IDAgJiYgZHkyIDwgZHkxKSB8fCBkeTEgPT0gZHkyIHx8IChkeTEgPiAwICYmIGR5MiA+IGR5MSkpKSB7XG4gICAgICAgICAgICAvLyBkaXNjYXJkIFAyIGFuZCBzZXQgUDIgPSBQM1xuICAgICAgICAgICAgeDIgPSB4MztcbiAgICAgICAgICAgIHkyID0geTM7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlaXRoZXIgUDEsIFAyLCBhbmQgUDMgYXJlIG5vdCBjb2xpbmVhciwgb3IgdGhleSBhcmUgY29saW5lYXIgYnV0IFAzIGlzXG4gICAgICAgIC8vIGJldHdlZW4gUDMgYW5kIFAxIG9yIG9uIHRoZSBvcHBvc2l0ZSBoYWxmIG9mIHRoZSBsaW5lIHRvIFAyLiAgYWRkIFAyLFxuICAgICAgICAvLyBhbmQgY29udGludWUgd2l0aCBQMSA9IFAyIGFuZCBQMiA9IFAzXG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICAgICAgeDIgPSB4MztcbiAgICAgICAgeTIgPSB5MztcbiAgICB9XG4gICAgLy8gYWRkIHRoZSBsYXN0IHBvaW50IChQMilcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRFbmRzIFNpbXBsaWZpZWQgZW5kcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBxdWFudGl6ZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCk7XG4gICAgICAgIHNpbXBsaWZpZWRFbmRzLnB1c2goc2ltcGxpZmllZE9mZnNldCk7XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gc2ltcGxpZmllZEVuZHNzIFNpbXBsaWZpZWQgZW5kc3MuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemVNdWx0aUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlLCB0b2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIHNpbXBsaWZpZWRPZmZzZXQsIHNpbXBsaWZpZWRFbmRzcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgdmFyIHNpbXBsaWZpZWRFbmRzID0gW107XG4gICAgICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBxdWFudGl6ZUFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHRvbGVyYW5jZSwgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgc2ltcGxpZmllZE9mZnNldCwgc2ltcGxpZmllZEVuZHMpO1xuICAgICAgICBzaW1wbGlmaWVkRW5kc3MucHVzaChzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaW1wbGlmeS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2luZmxhdGVcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+PX0gb3B0X2Nvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gQ29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBvcHRfY29vcmRpbmF0ZXMpIHtcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBvcHRfY29vcmRpbmF0ZXMgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlcyA6IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgICAgICBjb29yZGluYXRlc1tpKytdID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKGosIGogKyBzdHJpZGUpO1xuICAgIH1cbiAgICBjb29yZGluYXRlcy5sZW5ndGggPSBpO1xuICAgIHJldHVybiBjb29yZGluYXRlcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj49fSBvcHRfY29vcmRpbmF0ZXNzIENvb3JkaW5hdGVzcy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBDb29yZGluYXRlc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBvcHRfY29vcmRpbmF0ZXNzKSB7XG4gICAgdmFyIGNvb3JkaW5hdGVzcyA9IG9wdF9jb29yZGluYXRlc3MgIT09IHVuZGVmaW5lZCA/IG9wdF9jb29yZGluYXRlc3MgOiBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICh2YXIgaiA9IDAsIGpqID0gZW5kcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2pdO1xuICAgICAgICBjb29yZGluYXRlc3NbaSsrXSA9IGluZmxhdGVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGNvb3JkaW5hdGVzc1tpXSk7XG4gICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgY29vcmRpbmF0ZXNzLmxlbmd0aCA9IGk7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGVzcztcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4+PX0gb3B0X2Nvb3JkaW5hdGVzc3NcbiAqICAgICBDb29yZGluYXRlc3NzLlxuICogQHJldHVybiB7QXJyYXk8QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4+fSBDb29yZGluYXRlc3NzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgb3B0X2Nvb3JkaW5hdGVzc3MpIHtcbiAgICB2YXIgY29vcmRpbmF0ZXNzcyA9IG9wdF9jb29yZGluYXRlc3NzICE9PSB1bmRlZmluZWQgPyBvcHRfY29vcmRpbmF0ZXNzcyA6IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBlbmRzcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3Nbal07XG4gICAgICAgIGNvb3JkaW5hdGVzc3NbaSsrXSA9IGluZmxhdGVDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGNvb3JkaW5hdGVzc3NbaV0pO1xuICAgICAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGNvb3JkaW5hdGVzc3MubGVuZ3RoID0gaTtcbiAgICByZXR1cm4gY29vcmRpbmF0ZXNzcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZmxhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9hcmVhXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgdmFyIHR3aWNlQXJlYSA9IDA7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgdHdpY2VBcmVhICs9IHkxICogeDIgLSB4MSAqIHkyO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICByZXR1cm4gdHdpY2VBcmVhIC8gMjtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpIHtcbiAgICB2YXIgYXJlYSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICBhcmVhICs9IGxpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gYXJlYTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSkge1xuICAgIHZhciBhcmVhID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIGFyZWEgKz0gbGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGFyZWE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmVhLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9MaW5lYXJSaW5nXG4gKi9cbmltcG9ydCBHZW9tZXRyeUxheW91dCBmcm9tICcuL0dlb21ldHJ5TGF5b3V0LmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHsgYXNzaWduQ2xvc2VzdFBvaW50LCBtYXhTcXVhcmVkRGVsdGEgfSBmcm9tICcuL2ZsYXQvY2xvc2VzdC5qcyc7XG5pbXBvcnQgeyBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZGVmbGF0ZUNvb3JkaW5hdGVzIH0gZnJvbSAnLi9mbGF0L2RlZmxhdGUuanMnO1xuaW1wb3J0IHsgZG91Z2xhc1BldWNrZXIgfSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuaW1wb3J0IHsgaW5mbGF0ZUNvb3JkaW5hdGVzIH0gZnJvbSAnLi9mbGF0L2luZmxhdGUuanMnO1xuaW1wb3J0IHsgbGluZWFyUmluZyBhcyBsaW5lYXJSaW5nQXJlYSB9IGZyb20gJy4vZmxhdC9hcmVhLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGluZWFyIHJpbmcgZ2VvbWV0cnkuIE9ubHkgdXNlZCBhcyBwYXJ0IG9mIHBvbHlnb247IGNhbm5vdCBiZSByZW5kZXJlZFxuICogb24gaXRzIG93bi5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBMaW5lYXJSaW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaW5lYXJSaW5nLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPnxBcnJheTxudW1iZXI+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiAgICAgRm9yIGludGVybmFsIHVzZSwgZmxhdCBjb29yZGluYXRlcyBpbiBjb21iaW5hdGlvbiB3aXRoIGBvcHRfbGF5b3V0YCBhcmUgYWxzbyBhY2NlcHRlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpbmVhclJpbmcoY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YV8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IC0xO1xuICAgICAgICBpZiAob3B0X2xheW91dCAhPT0gdW5kZWZpbmVkICYmICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RmxhdENvb3JkaW5hdGVzKG9wdF9sYXlvdXQsIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoY29vcmRpbmF0ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNldENvb3JkaW5hdGVzKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSAqLyAoY29vcmRpbmF0ZXMpLCBvcHRfbGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHshTGluZWFyUmluZ30gQ2xvbmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1heERlbHRhUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5tYXhEZWx0YV8gPSBNYXRoLnNxcnQobWF4U3F1YXJlZERlbHRhKHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHRoaXMuc3RyaWRlLCAwKSk7XG4gICAgICAgICAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NpZ25DbG9zZXN0UG9pbnQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIHRoaXMubWF4RGVsdGFfLCB0cnVlLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZWEgb2YgdGhlIGxpbmVhciByaW5nIG9uIHByb2plY3RlZCBwbGFuZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIExpbmVhclJpbmcucHJvdG90eXBlLmdldEFyZWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsaW5lYXJSaW5nQXJlYSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBDb29yZGluYXRlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbmZsYXRlQ29vcmRpbmF0ZXModGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7TGluZWFyUmluZ30gU2ltcGxpZmllZCBMaW5lYXJSaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCA9IGZ1bmN0aW9uIChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAgIHZhciBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXIodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgdGhpcy5zdHJpZGUsIHNxdWFyZWRUb2xlcmFuY2UsIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsIDApO1xuICAgICAgICByZXR1cm4gbmV3IExpbmVhclJpbmcoc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgR2VvbWV0cnlMYXlvdXQuWFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdH0gR2VvbWV0cnkgdHlwZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTGluZWFyUmluZy5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5MSU5FQVJfUklORztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICAgKiBAcGFyYW0geyFBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMaW5lYXJSaW5nLnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMSk7XG4gICAgICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZGVmbGF0ZUNvb3JkaW5hdGVzKHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCBjb29yZGluYXRlcywgdGhpcy5zdHJpZGUpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIHJldHVybiBMaW5lYXJSaW5nO1xufShTaW1wbGVHZW9tZXRyeSkpO1xuZXhwb3J0IGRlZmF1bHQgTGluZWFyUmluZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpbmVhclJpbmcuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jb250YWluc1xuICovXG5pbXBvcnQgeyBmb3JFYWNoQ29ybmVyIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdDb250YWluc0V4dGVudChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudCkge1xuICAgIHZhciBvdXRzaWRlID0gZm9yRWFjaENvcm5lcihleHRlbnQsIFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHJldHVybiAhbGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gIW91dHNpZGU7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgeCwgeSkge1xuICAgIC8vIGh0dHA6Ly9nZW9tYWxnb3JpdGhtcy5jb20vYTAzLV9pbmNsdXNpb24uaHRtbFxuICAgIC8vIENvcHlyaWdodCAyMDAwIHNvZnRTdXJmZXIsIDIwMTIgRGFuIFN1bmRheVxuICAgIC8vIFRoaXMgY29kZSBtYXkgYmUgZnJlZWx5IHVzZWQgYW5kIG1vZGlmaWVkIGZvciBhbnkgcHVycG9zZVxuICAgIC8vIHByb3ZpZGluZyB0aGF0IHRoaXMgY29weXJpZ2h0IG5vdGljZSBpcyBpbmNsdWRlZCB3aXRoIGl0LlxuICAgIC8vIFNvZnRTdXJmZXIgbWFrZXMgbm8gd2FycmFudHkgZm9yIHRoaXMgY29kZSwgYW5kIGNhbm5vdCBiZSBoZWxkXG4gICAgLy8gbGlhYmxlIGZvciBhbnkgcmVhbCBvciBpbWFnaW5lZCBkYW1hZ2UgcmVzdWx0aW5nIGZyb20gaXRzIHVzZS5cbiAgICAvLyBVc2VycyBvZiB0aGlzIGNvZGUgbXVzdCB2ZXJpZnkgY29ycmVjdG5lc3MgZm9yIHRoZWlyIGFwcGxpY2F0aW9uLlxuICAgIHZhciB3biA9IDA7XG4gICAgdmFyIHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gICAgdmFyIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICAgIHZhciB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgaWYgKHkxIDw9IHkpIHtcbiAgICAgICAgICAgIGlmICh5MiA+IHkgJiYgKHgyIC0geDEpICogKHkgLSB5MSkgLSAoeCAtIHgxKSAqICh5MiAtIHkxKSA+IDApIHtcbiAgICAgICAgICAgICAgICB3bisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHkyIDw9IHkgJiYgKHgyIC0geDEpICogKHkgLSB5MSkgLSAoeCAtIHgxKSAqICh5MiAtIHkxKSA8IDApIHtcbiAgICAgICAgICAgIHduLS07XG4gICAgICAgIH1cbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICB9XG4gICAgcmV0dXJuIHduICE9PSAwO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgeCwgeSkge1xuICAgIGlmIChlbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghbGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbMF0sIHN0cmlkZSwgeCwgeSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMSwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgZW5kc1tpIC0gMV0sIGVuZHNbaV0sIHN0cmlkZSwgeCwgeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgeCwgeSkge1xuICAgIGlmIChlbmRzcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIGlmIChsaW5lYXJSaW5nc0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgeCwgeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGFpbnMuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50XG4gKi9cbmltcG9ydCB7IGNvbnRhaW5zRXh0ZW50LCBjcmVhdGVFbXB0eSwgZXh0ZW5kRmxhdENvb3JkaW5hdGVzLCBpbnRlcnNlY3RzLCBpbnRlcnNlY3RzU2VnbWVudCwgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZm9yRWFjaCBhcyBmb3JFYWNoU2VnbWVudCB9IGZyb20gJy4vc2VnbWVudHMuanMnO1xuaW1wb3J0IHsgbGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50LCBsaW5lYXJSaW5nQ29udGFpbnNYWSB9IGZyb20gJy4vY29udGFpbnMuanMnO1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpIHtcbiAgICB2YXIgY29vcmRpbmF0ZXNFeHRlbnQgPSBleHRlbmRGbGF0Q29vcmRpbmF0ZXMoY3JlYXRlRW1wdHkoKSwgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICBpZiAoIWludGVyc2VjdHMoZXh0ZW50LCBjb29yZGluYXRlc0V4dGVudCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY29udGFpbnNFeHRlbnQoZXh0ZW50LCBjb29yZGluYXRlc0V4dGVudCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb29yZGluYXRlc0V4dGVudFswXSA+PSBleHRlbnRbMF0gJiYgY29vcmRpbmF0ZXNFeHRlbnRbMl0gPD0gZXh0ZW50WzJdKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZXNFeHRlbnRbMV0gPj0gZXh0ZW50WzFdICYmIGNvb3JkaW5hdGVzRXh0ZW50WzNdIDw9IGV4dGVudFszXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZvckVhY2hTZWdtZW50KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50MSBTdGFydCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQyIEVuZCBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHNlZ21lbnQgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LFxuICAgICAqICAgICBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocG9pbnQxLCBwb2ludDIpIHtcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdHNTZWdtZW50KGV4dGVudCwgcG9pbnQxLCBwb2ludDIpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVTdHJpbmdBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBleHRlbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKGludGVyc2VjdHNMaW5lU3RyaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGVuZHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50KSB7XG4gICAgaWYgKGludGVyc2VjdHNMaW5lU3RyaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzBdLCBleHRlbnRbMV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnRbMF0sIGV4dGVudFszXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudFsyXSwgZXh0ZW50WzFdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50WzJdLCBleHRlbnRbM10pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudCkge1xuICAgIGlmICghaW50ZXJzZWN0c0xpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbMF0sIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChlbmRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDEsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGlmIChsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIWludGVyc2VjdHNMaW5lU3RyaW5nKGZsYXRDb29yZGluYXRlcywgZW5kc1tpIC0gMV0sIGVuZHNbaV0sIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nTXVsdGlBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgZXh0ZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNzW2ldO1xuICAgICAgICBpZiAoaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyc2VjdHNleHRlbnQuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zZWdtZW50c1xuICovXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYGNhbGxiYWNrYCBmb3IgZWFjaCBzZWdtZW50IG9mIHRoZSBmbGF0IGNvb3JkaW5hdGVzXG4gKiBhcnJheS4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhhdFxuICogdmFsdWUgaW1tZWRpYXRlbHkuIE90aGVyd2lzZSB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlLCBpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBUfSBjYWxsYmFjayBGdW5jdGlvblxuICogICAgIGNhbGxlZCBmb3IgZWFjaCBzZWdtZW50LlxuICogQHJldHVybiB7VHxib29sZWFufSBWYWx1ZS5cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgcG9pbnQxID0gW2ZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV1dO1xuICAgIHZhciBwb2ludDIgPSBbXTtcbiAgICB2YXIgcmV0O1xuICAgIGZvciAoOyBvZmZzZXQgKyBzdHJpZGUgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgcG9pbnQyWzBdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZV07XG4gICAgICAgIHBvaW50MlsxXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBzdHJpZGUgKyAxXTtcbiAgICAgICAgcmV0ID0gY2FsbGJhY2socG9pbnQxLCBwb2ludDIpO1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgICAgIHBvaW50MVswXSA9IHBvaW50MlswXTtcbiAgICAgICAgcG9pbnQxWzFdID0gcG9pbnQyWzFdO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWdtZW50cy5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3JldmVyc2VcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgd2hpbGUgKG9mZnNldCA8IGVuZCAtIHN0cmlkZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdG1wID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldO1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIGldO1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIGldID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgICAgIGVuZCAtPSBzdHJpZGU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV2ZXJzZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L29yaWVudFxuICovXG5pbXBvcnQgeyBjb29yZGluYXRlcyBhcyByZXZlcnNlQ29vcmRpbmF0ZXMgfSBmcm9tICcuL3JldmVyc2UuanMnO1xuLyoqXG4gKiBJcyB0aGUgbGluZWFyIHJpbmcgb3JpZW50ZWQgY2xvY2t3aXNlIGluIGEgY29vcmRpbmF0ZSBzeXN0ZW0gd2l0aCBhIGJvdHRvbS1sZWZ0XG4gKiBjb29yZGluYXRlIG9yaWdpbj8gRm9yIGEgY29vcmRpbmF0ZSBzeXN0ZW0gd2l0aCBhIHRvcC1sZWZ0IGNvb3JkaW5hdGUgb3JpZ2luLFxuICogdGhlIHJpbmcncyBvcmllbnRhdGlvbiBpcyBjbG9ja3dpc2Ugd2hlbiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgY2xvY2t3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0lzQ2xvY2t3aXNlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIC8vIGh0dHA6Ly90aW55dXJsLmNvbS9jbG9ja3dpc2UtbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL09TR2VvL2dkYWwvYmxvYi90cnVuay9nZGFsL29nci9vZ3JsaW5lYXJyaW5nLmNwcFxuICAgIHZhciBlZGdlID0gMDtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgICB2YXIgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgICAgICBlZGdlICs9ICh4MiAtIHgxKSAqICh5MiArIHkxKTtcbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICB9XG4gICAgcmV0dXJuIGVkZ2UgPT09IDAgPyB1bmRlZmluZWQgOiBlZGdlID4gMDtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBsaW5lYXIgcmluZ3MgYXJlIG9yaWVudGVkLiAgQnkgZGVmYXVsdCwgbGVmdC1oYW5kIG9yaWVudGF0aW9uXG4gKiBpcyB0ZXN0ZWQgKGZpcnN0IHJpbmcgbXVzdCBiZSBjbG9ja3dpc2UsIHJlbWFpbmluZyByaW5ncyBjb3VudGVyLWNsb2Nrd2lzZSkuXG4gKiBUbyB0ZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uLCB1c2UgdGhlIGBvcHRfcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBBcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JpZ2h0IFRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb25cbiAqICAgICAoY291bnRlci1jbG9ja3dpc2UgZXh0ZXJpb3IgcmluZyBhbmQgY2xvY2t3aXNlIGludGVyaW9yIHJpbmdzKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJpbmdzIGFyZSBjb3JyZWN0bHkgb3JpZW50ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc0FyZU9yaWVudGVkKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICAgIHZhciByaWdodCA9IG9wdF9yaWdodCAhPT0gdW5kZWZpbmVkID8gb3B0X3JpZ2h0IDogZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICB2YXIgaXNDbG9ja3dpc2UgPSBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIGlmICgocmlnaHQgJiYgaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmIGlzQ2xvY2t3aXNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGxpbmVhciByaW5ncyBhcmUgb3JpZW50ZWQuICBCeSBkZWZhdWx0LCBsZWZ0LWhhbmQgb3JpZW50YXRpb25cbiAqIGlzIHRlc3RlZCAoZmlyc3QgcmluZyBtdXN0IGJlIGNsb2Nrd2lzZSwgcmVtYWluaW5nIHJpbmdzIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqIFRvIHRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb24sIHVzZSB0aGUgYG9wdF9yaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgQXJyYXkgb2YgYXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yaWdodCBUZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uXG4gKiAgICAgKGNvdW50ZXItY2xvY2t3aXNlIGV4dGVyaW9yIHJpbmcgYW5kIGNsb2Nrd2lzZSBpbnRlcmlvciByaW5ncykuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSaW5ncyBhcmUgY29ycmVjdGx5IG9yaWVudGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgaWYgKCFsaW5lYXJSaW5nc0FyZU9yaWVudGVkKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG9wdF9yaWdodCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogT3JpZW50IGNvb3JkaW5hdGVzIGluIGEgZmxhdCBhcnJheSBvZiBsaW5lYXIgcmluZ3MuICBCeSBkZWZhdWx0LCByaW5nc1xuICogYXJlIG9yaWVudGVkIGZvbGxvd2luZyB0aGUgbGVmdC1oYW5kIHJ1bGUgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kXG4gKiBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLiAgVG8gb3JpZW50IGFjY29yZGluZyB0byB0aGVcbiAqIHJpZ2h0LWhhbmQgcnVsZSwgdXNlIHRoZSBgb3B0X3JpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JpZ2h0IEZvbGxvdyB0aGUgcmlnaHQtaGFuZCBydWxlIGZvciBvcmllbnRhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50TGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgb3B0X3JpZ2h0KSB7XG4gICAgdmFyIHJpZ2h0ID0gb3B0X3JpZ2h0ICE9PSB1bmRlZmluZWQgPyBvcHRfcmlnaHQgOiBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbaV07XG4gICAgICAgIHZhciBpc0Nsb2Nrd2lzZSA9IGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgICAgICB2YXIgcmV2ZXJzZSA9IGkgPT09IDBcbiAgICAgICAgICAgID8gKHJpZ2h0ICYmIGlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSlcbiAgICAgICAgICAgIDogKHJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiBpc0Nsb2Nrd2lzZSk7XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICByZXZlcnNlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG59XG4vKipcbiAqIE9yaWVudCBjb29yZGluYXRlcyBpbiBhIGZsYXQgYXJyYXkgb2YgbGluZWFyIHJpbmdzLiAgQnkgZGVmYXVsdCwgcmluZ3NcbiAqIGFyZSBvcmllbnRlZCBmb2xsb3dpbmcgdGhlIGxlZnQtaGFuZCBydWxlIChjbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZFxuICogY291bnRlci1jbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS4gIFRvIG9yaWVudCBhY2NvcmRpbmcgdG8gdGhlXG4gKiByaWdodC1oYW5kIHJ1bGUsIHVzZSB0aGUgYG9wdF9yaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgQXJyYXkgb2YgYXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9yaWdodCBGb2xsb3cgdGhlIHJpZ2h0LWhhbmQgcnVsZSBmb3Igb3JpZW50YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yaWVudExpbmVhclJpbmdzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUsIG9wdF9yaWdodCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgb2Zmc2V0ID0gb3JpZW50TGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzW2ldLCBzdHJpZGUsIG9wdF9yaWdodCk7XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcmllbnQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL1BvbHlnb25cbiAqL1xuaW1wb3J0IEdlb21ldHJ5TGF5b3V0IGZyb20gJy4vR2VvbWV0cnlMYXlvdXQuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgTGluZWFyUmluZyBmcm9tICcuL0xpbmVhclJpbmcuanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vUG9pbnQuanMnO1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHsgYXJyYXlNYXhTcXVhcmVkRGVsdGEsIGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50IH0gZnJvbSAnLi9mbGF0L2Nsb3Nlc3QuanMnO1xuaW1wb3J0IHsgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZLCBnZXRDZW50ZXIgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXkgfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcmlvclBvaW50T2ZBcnJheSB9IGZyb20gJy4vZmxhdC9pbnRlcmlvcnBvaW50LmpzJztcbmltcG9ydCB7IGluZmxhdGVDb29yZGluYXRlc0FycmF5IH0gZnJvbSAnLi9mbGF0L2luZmxhdGUuanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheSB9IGZyb20gJy4vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzJztcbmltcG9ydCB7IGxpbmVhclJpbmdzQXJlT3JpZW50ZWQsIG9yaWVudExpbmVhclJpbmdzIH0gZnJvbSAnLi9mbGF0L29yaWVudC5qcyc7XG5pbXBvcnQgeyBsaW5lYXJSaW5ncyBhcyBsaW5lYXJSaW5nc0FyZWEgfSBmcm9tICcuL2ZsYXQvYXJlYS5qcyc7XG5pbXBvcnQgeyBsaW5lYXJSaW5nc0NvbnRhaW5zWFkgfSBmcm9tICcuL2ZsYXQvY29udGFpbnMuanMnO1xuaW1wb3J0IHsgbW9kdWxvIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG5pbXBvcnQgeyBxdWFudGl6ZUFycmF5IH0gZnJvbSAnLi9mbGF0L3NpbXBsaWZ5LmpzJztcbmltcG9ydCB7IG9mZnNldCBhcyBzcGhlcmVPZmZzZXQgfSBmcm9tICcuLi9zcGhlcmUuanMnO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQb2x5Z29uIGdlb21ldHJ5LlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFBvbHlnb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvbHlnb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshQXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj58IUFycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzXG4gICAgICogICAgIEFycmF5IG9mIGxpbmVhciByaW5ncyB0aGF0IGRlZmluZSB0aGUgcG9seWdvbi4gVGhlIGZpcnN0IGxpbmVhciByaW5nIG9mIHRoZVxuICAgICAqICAgICBhcnJheSBkZWZpbmVzIHRoZSBvdXRlci1ib3VuZGFyeSBvciBzdXJmYWNlIG9mIHRoZSBwb2x5Z29uLiBFYWNoIHN1YnNlcXVlbnRcbiAgICAgKiAgICAgbGluZWFyIHJpbmcgZGVmaW5lcyBhIGhvbGUgaW4gdGhlIHN1cmZhY2Ugb2YgdGhlIHBvbHlnb24uIEEgbGluZWFyIHJpbmcgaXNcbiAgICAgKiAgICAgYW4gYXJyYXkgb2YgdmVydGljZXMnIGNvb3JkaW5hdGVzIHdoZXJlIHRoZSBmaXJzdCBjb29yZGluYXRlIGFuZCB0aGUgbGFzdCBhcmVcbiAgICAgKiAgICAgZXF1aXZhbGVudC4gKEZvciBpbnRlcm5hbCB1c2UsIGZsYXQgY29vcmRpbmF0ZXMgaW4gY29tYmluYXRpb24gd2l0aFxuICAgICAqICAgICBgb3B0X2xheW91dGAgYW5kIGBvcHRfZW5kc2AgYXJlIGFsc28gYWNjZXB0ZWQuKVxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeUxheW91dC5qc1wiKS5kZWZhdWx0PX0gb3B0X2xheW91dCBMYXlvdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2VuZHMgRW5kcyAoZm9yIGludGVybmFsIHVzZSB3aXRoIGZsYXQgY29vcmRpbmF0ZXMpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvbHlnb24oY29vcmRpbmF0ZXMsIG9wdF9sYXlvdXQsIG9wdF9lbmRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVuZHNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmxhdEludGVyaW9yUG9pbnRSZXZpc2lvbl8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mbGF0SW50ZXJpb3JQb2ludF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heERlbHRhXyA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heERlbHRhUmV2aXNpb25fID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZW50ZWRSZXZpc2lvbl8gPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdF9sYXlvdXQgIT09IHVuZGVmaW5lZCAmJiBvcHRfZW5kcykge1xuICAgICAgICAgICAgX3RoaXMuc2V0RmxhdENvb3JkaW5hdGVzKG9wdF9sYXlvdXQsIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoY29vcmRpbmF0ZXMpKTtcbiAgICAgICAgICAgIF90aGlzLmVuZHNfID0gb3B0X2VuZHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRDb29yZGluYXRlcyhcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59ICovIChjb29yZGluYXRlcyksIG9wdF9sYXlvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kIHRoZSBwYXNzZWQgbGluZWFyIHJpbmcgdG8gdGhpcyBwb2x5Z29uLlxuICAgICAqIEBwYXJhbSB7TGluZWFyUmluZ30gbGluZWFyUmluZyBMaW5lYXIgcmluZy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuYXBwZW5kTGluZWFyUmluZyA9IGZ1bmN0aW9uIChsaW5lYXJSaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gbGluZWFyUmluZy5nZXRGbGF0Q29vcmRpbmF0ZXMoKS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXh0ZW5kKHRoaXMuZmxhdENvb3JkaW5hdGVzLCBsaW5lYXJSaW5nLmdldEZsYXRDb29yZGluYXRlcygpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZHNfLnB1c2godGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7IVBvbHlnb259IENsb25lLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBuZXcgUG9seWdvbih0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCwgdGhpcy5lbmRzXy5zbGljZSgpKTtcbiAgICAgICAgcG9seWdvbi5hcHBseVByb3BlcnRpZXModGhpcyk7XG4gICAgICAgIHJldHVybiBwb2x5Z29uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jbG9zZXN0UG9pbnRYWSA9IGZ1bmN0aW9uICh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1heERlbHRhUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5tYXhEZWx0YV8gPSBNYXRoLnNxcnQoYXJyYXlNYXhTcXVhcmVkRGVsdGEodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCAwKSk7XG4gICAgICAgICAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludCh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIHRoaXMubWF4RGVsdGFfLCB0cnVlLCB4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zWFkgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4gbGluZWFyUmluZ3NDb250YWluc1hZKHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIHgsIHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmVhIG9mIHRoZSBwb2x5Z29uIG9uIHByb2plY3RlZCBwbGFuZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldEFyZWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsaW5lYXJSaW5nc0FyZWEodGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgYXJyYXkgZm9yIHRoaXMgZ2VvbWV0cnkuICBUaGlzIGFycmF5IGhhcyB0aGUgc3RydWN0dXJlXG4gICAgICogb2YgYSBHZW9KU09OIGNvb3JkaW5hdGUgYXJyYXkgZm9yIHBvbHlnb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JpZ2h0IE9yaWVudCBjb29yZGluYXRlcyBhY2NvcmRpbmcgdG8gdGhlIHJpZ2h0LWhhbmRcbiAgICAgKiAgICAgcnVsZSAoY291bnRlci1jbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZCBjbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS5cbiAgICAgKiAgICAgSWYgYGZhbHNlYCwgY29vcmRpbmF0ZXMgd2lsbCBiZSBvcmllbnRlZCBhY2NvcmRpbmcgdG8gdGhlIGxlZnQtaGFuZCBydWxlXG4gICAgICogICAgIChjbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZCBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLlxuICAgICAqICAgICBCeSBkZWZhdWx0LCBjb29yZGluYXRlIG9yaWVudGF0aW9uIHdpbGwgZGVwZW5kIG9uIGhvdyB0aGUgZ2VvbWV0cnkgd2FzXG4gICAgICogICAgIGNvbnN0cnVjdGVkLlxuICAgICAqIEByZXR1cm4ge0FycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBDb29yZGluYXRlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAob3B0X3JpZ2h0KSB7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgICAgIGlmIChvcHRfcmlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLnNsaWNlKCk7XG4gICAgICAgICAgICBvcmllbnRMaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCBvcHRfcmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZmxhdGVDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRW5kcy5cbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRFbmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEludGVyaW9yIHBvaW50LlxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldEZsYXRJbnRlcmlvclBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgICAgICAgIHZhciBmbGF0Q2VudGVyID0gZ2V0Q2VudGVyKHRoaXMuZ2V0RXh0ZW50KCkpO1xuICAgICAgICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludF8gPSBnZXRJbnRlcmlvclBvaW50T2ZBcnJheSh0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCBmbGF0Q2VudGVyLCAwKTtcbiAgICAgICAgICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdEludGVyaW9yUG9pbnRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGludGVyaW9yIHBvaW50IG9mIHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSBJbnRlcmlvciBwb2ludCBhcyBYWU0gY29vcmRpbmF0ZSwgd2hlcmUgTSBpcyB0aGVcbiAgICAgKiBsZW5ndGggb2YgdGhlIGhvcml6b250YWwgaW50ZXJzZWN0aW9uIHRoYXQgdGhlIHBvaW50IGJlbG9uZ3MgdG8uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldEludGVyaW9yUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5nZXRGbGF0SW50ZXJpb3JQb2ludCgpLCBHZW9tZXRyeUxheW91dC5YWU0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBudW1iZXIgb2YgcmluZ3Mgb2YgdGhlIHBvbHlnb24sICB0aGlzIGluY2x1ZGVzIHRoZSBleHRlcmlvclxuICAgICAqIHJpbmcgYW5kIGFueSBpbnRlcmlvciByaW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHJpbmdzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRMaW5lYXJSaW5nQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZHNfLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgTnRoIGxpbmVhciByaW5nIG9mIHRoZSBwb2x5Z29uIGdlb21ldHJ5LiBSZXR1cm4gYG51bGxgIGlmIHRoZVxuICAgICAqIGdpdmVuIGluZGV4IGlzIG91dCBvZiByYW5nZS5cbiAgICAgKiBUaGUgZXh0ZXJpb3IgbGluZWFyIHJpbmcgaXMgYXZhaWxhYmxlIGF0IGluZGV4IGAwYCBhbmQgdGhlIGludGVyaW9yIHJpbmdzXG4gICAgICogYXQgaW5kZXggYDFgIGFuZCBiZXlvbmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAgICogQHJldHVybiB7TGluZWFyUmluZ30gTGluZWFyIHJpbmcuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldExpbmVhclJpbmcgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCB0aGlzLmVuZHNfLmxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lYXJSaW5nKHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKGluZGV4ID09PSAwID8gMCA6IHRoaXMuZW5kc19baW5kZXggLSAxXSwgdGhpcy5lbmRzX1tpbmRleF0pLCB0aGlzLmxheW91dCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxpbmVhciByaW5ncyBvZiB0aGUgcG9seWdvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxMaW5lYXJSaW5nPn0gTGluZWFyIHJpbmdzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5nZXRMaW5lYXJSaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheW91dCA9IHRoaXMubGF5b3V0O1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBlbmRzID0gdGhpcy5lbmRzXztcbiAgICAgICAgdmFyIGxpbmVhclJpbmdzID0gW107XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICAgICAgdmFyIGxpbmVhclJpbmcgPSBuZXcgTGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBlbmQpLCBsYXlvdXQpO1xuICAgICAgICAgICAgbGluZWFyUmluZ3MucHVzaChsaW5lYXJSaW5nKTtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZWFyUmluZ3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmllbnRlZCBmbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vcmllbnRlZFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgICAgICAgIGlmIChsaW5lYXJSaW5nc0FyZU9yaWVudGVkKGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18gPSBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IGZsYXRDb29yZGluYXRlcy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfLmxlbmd0aCA9IG9yaWVudExpbmVhclJpbmdzKHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9yaWVudGVkUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAqIEByZXR1cm4ge1BvbHlnb259IFNpbXBsaWZpZWQgUG9seWdvbi5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwgPSBmdW5jdGlvbiAoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgICB2YXIgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgICAgICB2YXIgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBxdWFudGl6ZUFycmF5KHRoaXMuZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgTWF0aC5zcXJ0KHNxdWFyZWRUb2xlcmFuY2UpLCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAwLCBzaW1wbGlmaWVkRW5kcyk7XG4gICAgICAgIHJldHVybiBuZXcgUG9seWdvbihzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgc2ltcGxpZmllZEVuZHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdH0gR2VvbWV0cnkgdHlwZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEdlb21ldHJ5VHlwZS5QT0xZR09OO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBwYXNzZWQgZXh0ZW50IGludGVyc2VjdC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50KSB7XG4gICAgICAgIHJldHVybiBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSwgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIGV4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwb2x5Z29uLlxuICAgICAqIEBwYXJhbSB7IUFycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnlMYXlvdXQuanNcIikuZGVmYXVsdD19IG9wdF9sYXlvdXQgTGF5b3V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5zZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChjb29yZGluYXRlcywgb3B0X2xheW91dCkge1xuICAgICAgICB0aGlzLnNldExheW91dChvcHRfbGF5b3V0LCBjb29yZGluYXRlcywgMik7XG4gICAgICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSh0aGlzLmZsYXRDb29yZGluYXRlcywgMCwgY29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlLCB0aGlzLmVuZHNfKTtcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZW5kcy5sZW5ndGggPT09IDAgPyAwIDogZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIHJldHVybiBQb2x5Z29uO1xufShTaW1wbGVHZW9tZXRyeSkpO1xuZXhwb3J0IGRlZmF1bHQgUG9seWdvbjtcbi8qKlxuICogQ3JlYXRlIGFuIGFwcHJveGltYXRpb24gb2YgYSBjaXJjbGUgb24gdGhlIHN1cmZhY2Ugb2YgYSBzcGhlcmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlciAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBUaGUgZ3JlYXQtY2lyY2xlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciB0b1xuICogICAgIHRoZSBwb2x5Z29uIHZlcnRpY2VzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfbiBPcHRpb25hbCBudW1iZXIgb2YgdmVydGljZXMgZm9yIHRoZSByZXN1bHRpbmdcbiAqICAgICBwb2x5Z29uLiBEZWZhdWx0IGlzIGAzMmAuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9zcGhlcmVSYWRpdXMgT3B0aW9uYWwgcmFkaXVzIGZvciB0aGUgc3BoZXJlIChkZWZhdWx0cyB0b1xuICogICAgIHRoZSBFYXJ0aCdzIG1lYW4gcmFkaXVzIHVzaW5nIHRoZSBXR1M4NCBlbGxpcHNvaWQpLlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIFwiY2lyY3VsYXJcIiBwb2x5Z29uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2lyY3VsYXIoY2VudGVyLCByYWRpdXMsIG9wdF9uLCBvcHRfc3BoZXJlUmFkaXVzKSB7XG4gICAgdmFyIG4gPSBvcHRfbiA/IG9wdF9uIDogMzI7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBleHRlbmQoZmxhdENvb3JkaW5hdGVzLCBzcGhlcmVPZmZzZXQoY2VudGVyLCByYWRpdXMsICgyICogTWF0aC5QSSAqIGkpIC8gbiwgb3B0X3NwaGVyZVJhZGl1cykpO1xuICAgIH1cbiAgICBmbGF0Q29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMF0sIGZsYXRDb29yZGluYXRlc1sxXSk7XG4gICAgcmV0dXJuIG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgR2VvbWV0cnlMYXlvdXQuWFksIFtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICBdKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgcG9seWdvbiBmcm9tIGFuIGV4dGVudC4gVGhlIGxheW91dCB1c2VkIGlzIGBYWWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXh0ZW50KGV4dGVudCkge1xuICAgIHZhciBtaW5YID0gZXh0ZW50WzBdO1xuICAgIHZhciBtaW5ZID0gZXh0ZW50WzFdO1xuICAgIHZhciBtYXhYID0gZXh0ZW50WzJdO1xuICAgIHZhciBtYXhZID0gZXh0ZW50WzNdO1xuICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBbXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1pblksXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1heFksXG4gICAgICAgIG1heFgsXG4gICAgICAgIG1heFksXG4gICAgICAgIG1heFgsXG4gICAgICAgIG1pblksXG4gICAgICAgIG1pblgsXG4gICAgICAgIG1pblksXG4gICAgXTtcbiAgICByZXR1cm4gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCBHZW9tZXRyeUxheW91dC5YWSwgW1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgIF0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYSByZWd1bGFyIHBvbHlnb24gZnJvbSBhIGNpcmNsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlIENpcmNsZSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3NpZGVzIE51bWJlciBvZiBzaWRlcyBvZiB0aGUgcG9seWdvbi4gRGVmYXVsdCBpcyAzMi5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2FuZ2xlIFN0YXJ0IGFuZ2xlIGZvciB0aGUgZmlyc3QgdmVydGV4IG9mIHRoZSBwb2x5Z29uIGluXG4gKiAgICAgY291bnRlci1jbG9ja3dpc2UgcmFkaWFucy4gMCBtZWFucyBFYXN0LiBEZWZhdWx0IGlzIDAuXG4gKiBAcmV0dXJuIHtQb2x5Z29ufSBQb2x5Z29uIGdlb21ldHJ5LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUNpcmNsZShjaXJjbGUsIG9wdF9zaWRlcywgb3B0X2FuZ2xlKSB7XG4gICAgdmFyIHNpZGVzID0gb3B0X3NpZGVzID8gb3B0X3NpZGVzIDogMzI7XG4gICAgdmFyIHN0cmlkZSA9IGNpcmNsZS5nZXRTdHJpZGUoKTtcbiAgICB2YXIgbGF5b3V0ID0gY2lyY2xlLmdldExheW91dCgpO1xuICAgIHZhciBjZW50ZXIgPSBjaXJjbGUuZ2V0Q2VudGVyKCk7XG4gICAgdmFyIGFycmF5TGVuZ3RoID0gc3RyaWRlICogKHNpZGVzICsgMSk7XG4gICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IG5ldyBBcnJheShhcnJheUxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW2ldID0gMDtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW2kgKyAxXSA9IDA7XG4gICAgICAgIGZvciAodmFyIGogPSAyOyBqIDwgc3RyaWRlOyBqKyspIHtcbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tpICsgal0gPSBjZW50ZXJbal07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGVuZHMgPSBbZmxhdENvb3JkaW5hdGVzLmxlbmd0aF07XG4gICAgdmFyIHBvbHlnb24gPSBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsIGxheW91dCwgZW5kcyk7XG4gICAgbWFrZVJlZ3VsYXIocG9seWdvbiwgY2VudGVyLCBjaXJjbGUuZ2V0UmFkaXVzKCksIG9wdF9hbmdsZSk7XG4gICAgcmV0dXJuIHBvbHlnb247XG59XG4vKipcbiAqIE1vZGlmeSB0aGUgY29vcmRpbmF0ZXMgb2YgYSBwb2x5Z29uIHRvIG1ha2UgaXQgYSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge1BvbHlnb259IHBvbHlnb24gUG9seWdvbiBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cyBvZiB0aGUgcmVndWxhciBwb2x5Z29uLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfYW5nbGUgU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLiAwIG1lYW5zIEVhc3QuIERlZmF1bHQgaXMgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZWd1bGFyKHBvbHlnb24sIGNlbnRlciwgcmFkaXVzLCBvcHRfYW5nbGUpIHtcbiAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gcG9seWdvbi5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICB2YXIgc3RyaWRlID0gcG9seWdvbi5nZXRTdHJpZGUoKTtcbiAgICB2YXIgc2lkZXMgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gc3RyaWRlIC0gMTtcbiAgICB2YXIgc3RhcnRBbmdsZSA9IG9wdF9hbmdsZSA/IG9wdF9hbmdsZSA6IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2lkZXM7ICsraSkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gaSAqIHN0cmlkZTtcbiAgICAgICAgdmFyIGFuZ2xlID0gc3RhcnRBbmdsZSArIChtb2R1bG8oaSwgc2lkZXMpICogMiAqIE1hdGguUEkpIC8gc2lkZXM7XG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdID0gY2VudGVyWzBdICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gPSBjZW50ZXJbMV0gKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSk7XG4gICAgfVxuICAgIHBvbHlnb24uY2hhbmdlZCgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyaW9ycG9pbnRcbiAqL1xuaW1wb3J0IHsgbGluZWFyUmluZ3NDb250YWluc1hZIH0gZnJvbSAnLi9jb250YWlucy5qcyc7XG5pbXBvcnQgeyBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuLyoqXG4gKiBDYWxjdWxhdGVzIGEgcG9pbnQgdGhhdCBpcyBsaWtlbHkgdG8gbGllIGluIHRoZSBpbnRlcmlvciBvZiB0aGUgbGluZWFyIHJpbmdzLlxuICogSW5zcGlyZWQgYnkgSlRTJ3MgY29tLnZpdmlkc29sdXRpb25zLmp0cy5nZW9tLkdlb21ldHJ5I2dldEludGVyaW9yUG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhdENlbnRlcnNPZmZzZXQgRmxhdCBjZW50ZXIgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+PX0gb3B0X2Rlc3QgRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBEZXN0aW5hdGlvbiBwb2ludCBhcyBYWU0gY29vcmRpbmF0ZSwgd2hlcmUgTSBpcyB0aGVcbiAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyaW9yUG9pbnRPZkFycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGZsYXRDZW50ZXJzLCBmbGF0Q2VudGVyc09mZnNldCwgb3B0X2Rlc3QpIHtcbiAgICB2YXIgaSwgaWksIHgsIHgxLCB4MiwgeTEsIHkyO1xuICAgIHZhciB5ID0gZmxhdENlbnRlcnNbZmxhdENlbnRlcnNPZmZzZXQgKyAxXTtcbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgdmFyIGludGVyc2VjdGlvbnMgPSBbXTtcbiAgICAvLyBDYWxjdWxhdGUgaW50ZXJzZWN0aW9ucyB3aXRoIHRoZSBob3Jpem9udGFsIGxpbmVcbiAgICBmb3IgKHZhciByID0gMCwgcnIgPSBlbmRzLmxlbmd0aDsgciA8IHJyOyArK3IpIHtcbiAgICAgICAgdmFyIGVuZCA9IGVuZHNbcl07XG4gICAgICAgIHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gICAgICAgIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICAgICAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICgoeSA8PSB5MSAmJiB5MiA8PSB5KSB8fCAoeTEgPD0geSAmJiB5IDw9IHkyKSkge1xuICAgICAgICAgICAgICAgIHggPSAoKHkgLSB5MSkgLyAoeTIgLSB5MSkpICogKHgyIC0geDEpICsgeDE7XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgICAgIHkxID0geTI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gRmluZCB0aGUgbG9uZ2VzdCBzZWdtZW50IG9mIHRoZSBob3Jpem9udGFsIGxpbmUgdGhhdCBoYXMgaXRzIGNlbnRlciBwb2ludFxuICAgIC8vIGluc2lkZSB0aGUgbGluZWFyIHJpbmcuXG4gICAgdmFyIHBvaW50WCA9IE5hTjtcbiAgICB2YXIgbWF4U2VnbWVudExlbmd0aCA9IC1JbmZpbml0eTtcbiAgICBpbnRlcnNlY3Rpb25zLnNvcnQobnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbik7XG4gICAgeDEgPSBpbnRlcnNlY3Rpb25zWzBdO1xuICAgIGZvciAoaSA9IDEsIGlpID0gaW50ZXJzZWN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHgyID0gaW50ZXJzZWN0aW9uc1tpXTtcbiAgICAgICAgdmFyIHNlZ21lbnRMZW5ndGggPSBNYXRoLmFicyh4MiAtIHgxKTtcbiAgICAgICAgaWYgKHNlZ21lbnRMZW5ndGggPiBtYXhTZWdtZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICB4ID0gKHgxICsgeDIpIC8gMjtcbiAgICAgICAgICAgIGlmIChsaW5lYXJSaW5nc0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgeCwgeSkpIHtcbiAgICAgICAgICAgICAgICBwb2ludFggPSB4O1xuICAgICAgICAgICAgICAgIG1heFNlZ21lbnRMZW5ndGggPSBzZWdtZW50TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHgxID0geDI7XG4gICAgfVxuICAgIGlmIChpc05hTihwb2ludFgpKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIGhvcml6b250YWwgbGluZSB0aGF0IGhhcyBpdHMgY2VudGVyIHBvaW50IGluc2lkZSB0aGUgbGluZWFyXG4gICAgICAgIC8vIHJpbmcuICBVc2UgdGhlIGNlbnRlciBvZiB0aGUgdGhlIGxpbmVhciByaW5nJ3MgZXh0ZW50LlxuICAgICAgICBwb2ludFggPSBmbGF0Q2VudGVyc1tmbGF0Q2VudGVyc09mZnNldF07XG4gICAgfVxuICAgIGlmIChvcHRfZGVzdCkge1xuICAgICAgICBvcHRfZGVzdC5wdXNoKHBvaW50WCwgeSwgbWF4U2VnbWVudExlbmd0aCk7XG4gICAgICAgIHJldHVybiBvcHRfZGVzdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbcG9pbnRYLCB5LCBtYXhTZWdtZW50TGVuZ3RoXTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDZW50ZXJzIEZsYXQgY2VudGVycy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEludGVyaW9yIHBvaW50cyBhcyBYWU0gY29vcmRpbmF0ZXMsIHdoZXJlIE0gaXMgdGhlXG4gKiBsZW5ndGggb2YgdGhlIGhvcml6b250YWwgaW50ZXJzZWN0aW9uIHRoYXQgdGhlIHBvaW50IGJlbG9uZ3MgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcmlvclBvaW50c09mTXVsdGlBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSwgZmxhdENlbnRlcnMpIHtcbiAgICB2YXIgaW50ZXJpb3JQb2ludHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIGludGVyaW9yUG9pbnRzID0gZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZmxhdENlbnRlcnMsIDIgKiBpLCBpbnRlcmlvclBvaW50cyk7XG4gICAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGludGVyaW9yUG9pbnRzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJpb3Jwb2ludC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL1ZpZXdcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBVbml0cyBmcm9tICcuL3Byb2ovVW5pdHMuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4vVmlld0hpbnQuanMnO1xuaW1wb3J0IFZpZXdQcm9wZXJ0eSBmcm9tICcuL1ZpZXdQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgeyBERUZBVUxUX1RJTEVfU0laRSB9IGZyb20gJy4vdGlsZWdyaWQvY29tbW9uLmpzJztcbmltcG9ydCB7IE1FVEVSU19QRVJfVU5JVCwgY3JlYXRlUHJvamVjdGlvbiwgZnJvbVVzZXJDb29yZGluYXRlLCBmcm9tVXNlckV4dGVudCwgZ2V0VXNlclByb2plY3Rpb24sIHRvVXNlckNvb3JkaW5hdGUsIHRvVXNlckV4dGVudCwgfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHsgVk9JRCB9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGFkZCBhcyBhZGRDb29yZGluYXRlLCBlcXVhbHMgYXMgY29vcmRpbmF0ZXNFcXVhbCwgcm90YXRlIGFzIHJvdGF0ZUNvb3JkaW5hdGUsIH0gZnJvbSAnLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL29iai5qcyc7XG5pbXBvcnQgeyBub25lIGFzIGNlbnRlck5vbmUsIGNyZWF0ZUV4dGVudCB9IGZyb20gJy4vY2VudGVyY29uc3RyYWludC5qcyc7XG5pbXBvcnQgeyBjbGFtcCwgbW9kdWxvIH0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7IGNyZWF0ZU1pbk1heFJlc29sdXRpb24gfSBmcm9tICcuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZVNuYXBUb04sIGNyZWF0ZVNuYXBUb1plcm8sIGRpc2FibGUsIG5vbmUgYXMgcm90YXRpb25Ob25lLCB9IGZyb20gJy4vcm90YXRpb25jb25zdHJhaW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZVNuYXBUb1Bvd2VyLCBjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucywgfSBmcm9tICcuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzJztcbmltcG9ydCB7IGVhc2VPdXQgfSBmcm9tICcuL2Vhc2luZy5qcyc7XG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHsgZ2V0Q2VudGVyLCBnZXRGb3JWaWV3QW5kU2l6ZSwgZ2V0SGVpZ2h0LCBnZXRXaWR0aCwgaXNFbXB0eSwgfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBpbkFuZE91dCB9IGZyb20gJy4vZWFzaW5nLmpzJztcbmltcG9ydCB7IGxpbmVhckZpbmROZWFyZXN0IH0gZnJvbSAnLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBmcm9tRXh0ZW50IGFzIHBvbHlnb25Gcm9tRXh0ZW50IH0gZnJvbSAnLi9nZW9tL1BvbHlnb24uanMnO1xuLyoqXG4gKiBBbiBhbmltYXRpb24gY29uZmlndXJhdGlvblxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvblxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW3NvdXJjZUNlbnRlcl1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFt0YXJnZXRDZW50ZXJdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NvdXJjZVJlc29sdXRpb25dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJlc29sdXRpb25dXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NvdXJjZVJvdGF0aW9uXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0YXJnZXRSb3RhdGlvbl1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdXJhdGlvblxuICogQHByb3BlcnR5IHtib29sZWFufSBjb21wbGV0ZVxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gZWFzaW5nXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGJvb2xlYW4pOnZvaWR9IGNhbGxiYWNrXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ29uc3RyYWludHNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jZW50ZXJjb25zdHJhaW50LmpzXCIpLlR5cGV9IGNlbnRlclxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzXCIpLlR5cGV9IHJlc29sdXRpb25cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9yb3RhdGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gcm90YXRpb25cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaXRPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBib3ggdG8gZml0XG4gKiB0aGUgZXh0ZW50IGludG8uIERlZmF1bHQgaXMgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgZmlyc3QgbWFwIGluIHRoZSBET00gdGhhdFxuICogdXNlcyB0aGlzIHZpZXcsIG9yIGBbMTAwLCAxMDBdYCBpZiBubyBzdWNoIG1hcCBpcyBmb3VuZC5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyAoaW4gcGl4ZWxzKSB0byBiZVxuICogY2xlYXJlZCBpbnNpZGUgdGhlIHZpZXcuIFZhbHVlcyBpbiB0aGUgYXJyYXkgYXJlIHRvcCwgcmlnaHQsIGJvdHRvbSBhbmQgbGVmdFxuICogcGFkZGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25lYXJlc3Q9ZmFsc2VdIElmIHRoZSB2aWV3IGBjb25zdHJhaW5SZXNvbHV0aW9uYCBvcHRpb24gaXMgYHRydWVgLFxuICogZ2V0IHRoZSBuZWFyZXN0IGV4dGVudCBpbnN0ZWFkIG9mIHRoZSBjbG9zZXN0IHRoYXQgYWN0dWFsbHkgZml0cyB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbj0wXSBNaW5pbXVtIHJlc29sdXRpb24gdGhhdCB3ZSB6b29tIHRvLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgdGhhdCB3ZSB6b29tIHRvLiBJZlxuICogYG1pblJlc29sdXRpb25gIGlzIGdpdmVuLCB0aGlzIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBCeSBkZWZhdWx0LCB0aGVyZSBpcyBubyBhbmltYXRpb24gdG8gdGhlIHRhcmdldCBleHRlbnQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKG51bWJlcik6bnVtYmVyfSBbZWFzaW5nXSBUaGUgZWFzaW5nIGZ1bmN0aW9uIHVzZWQgZHVyaW5nXG4gKiB0aGUgYW5pbWF0aW9uIChkZWZhdWx0cyB0byB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZ35pbkFuZE91dH0pLlxuICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIGZyYW1lIHdpdGggYSBudW1iZXIgcmVwcmVzZW50aW5nIGFcbiAqIGZyYWN0aW9uIG9mIHRoZSBhbmltYXRpb24ncyBkdXJhdGlvbi4gIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgbnVtYmVyXG4gKiBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyB0b3dhcmQgdGhlIGRlc3RpbmF0aW9uIHN0YXRlLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihib29sZWFuKTp2b2lkfSBbY2FsbGJhY2tdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIGluXG4gKiBpdHMgZmluYWwgcG9zaXRpb24uIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGB0cnVlYCBpZiB0aGUgYW5pbWF0aW9uXG4gKiBzZXJpZXMgY29tcGxldGVkIG9uIGl0cyBvd24gb3IgYGZhbHNlYCBpZiBpdCB3YXMgY2FuY2VsbGVkLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFZpZXdPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBUaGUgaW5pdGlhbCBjZW50ZXIgZm9yXG4gKiB0aGUgdmlldy4gSWYgYSB1c2VyIHByb2plY3Rpb24gaXMgbm90IHNldCwgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGZvciB0aGUgY2VudGVyIGlzXG4gKiBzcGVjaWZpZWQgd2l0aCB0aGUgYHByb2plY3Rpb25gIG9wdGlvbi4gTGF5ZXIgc291cmNlcyB3aWxsIG5vdCBiZSBmZXRjaGVkIGlmIHRoaXNcbiAqIGlzIG5vdCBzZXQsIGJ1dCB0aGUgY2VudGVyIGNhbiBiZSBzZXQgbGF0ZXIgd2l0aCB7QGxpbmsgI3NldENlbnRlcn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW58bnVtYmVyfSBbY29uc3RyYWluUm90YXRpb249dHJ1ZV0gUm90YXRpb24gY29uc3RyYWludC5cbiAqIGBmYWxzZWAgbWVhbnMgbm8gY29uc3RyYWludC4gYHRydWVgIG1lYW5zIG5vIGNvbnN0cmFpbnQsIGJ1dCBzbmFwIHRvIHplcm9cbiAqIG5lYXIgemVyby4gQSBudW1iZXIgY29uc3RyYWlucyB0aGUgcm90YXRpb24gdG8gdGhhdCBudW1iZXIgb2YgdmFsdWVzLiBGb3JcbiAqIGV4YW1wbGUsIGA0YCB3aWxsIGNvbnN0cmFpbiB0aGUgcm90YXRpb24gdG8gMCwgOTAsIDE4MCwgYW5kIDI3MCBkZWdyZWVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZW5hYmxlUm90YXRpb249dHJ1ZV0gRW5hYmxlIHJvdGF0aW9uLlxuICogSWYgYGZhbHNlYCwgYSByb3RhdGlvbiBjb25zdHJhaW50IHRoYXQgYWx3YXlzIHNldHMgdGhlIHJvdGF0aW9uIHRvIHplcm8gaXNcbiAqIHVzZWQuIFRoZSBgY29uc3RyYWluUm90YXRpb25gIG9wdGlvbiBoYXMgbm8gZWZmZWN0IGlmIGBlbmFibGVSb3RhdGlvbmAgaXNcbiAqIGBmYWxzZWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGV4dGVudCB0aGF0IGNvbnN0cmFpbnMgdGhlXG4gKiB2aWV3LCBpbiBvdGhlciB3b3Jkcywgbm90aGluZyBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50IGNhbiBiZSB2aXNpYmxlIG9uIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb25zdHJhaW5Pbmx5Q2VudGVyPWZhbHNlXSBJZiB0cnVlLCB0aGUgZXh0ZW50XG4gKiBjb25zdHJhaW50IHdpbGwgb25seSBhcHBseSB0byB0aGUgdmlldyBjZW50ZXIgYW5kIG5vdCB0aGUgd2hvbGUgZXh0ZW50LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc21vb3RoRXh0ZW50Q29uc3RyYWludD10cnVlXSBJZiB0cnVlLCB0aGUgZXh0ZW50XG4gKiBjb25zdHJhaW50IHdpbGwgYmUgYXBwbGllZCBzbW9vdGhseSwgaS5lLiBhbGxvdyB0aGUgdmlldyB0byBnbyBzbGlnaHRseSBvdXRzaWRlXG4gKiBvZiB0aGUgZ2l2ZW4gYGV4dGVudGAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWluUmVzb2x1dGlvbmAgKG9yXG4gKiBgbWF4Wm9vbWApIGFuZCBgem9vbUZhY3RvcmAuIElmIHVuc3BlY2lmaWVkIGl0IGlzIGNhbGN1bGF0ZWQgaW4gc3VjaCBhIHdheVxuICogdGhhdCB0aGUgcHJvamVjdGlvbidzIHZhbGlkaXR5IGV4dGVudCBmaXRzIGluIGEgMjU2eDI1NiBweCB0aWxlLiBJZiB0aGVcbiAqIHByb2plY3Rpb24gaXMgU3BoZXJpY2FsIE1lcmNhdG9yICh0aGUgZGVmYXVsdCkgdGhlbiBgbWF4UmVzb2x1dGlvbmAgZGVmYXVsdHNcbiAqIHRvIGA0MDA3NTAxNi42ODU1Nzg0OSAvIDI1NiA9IDE1NjU0My4wMzM5MjgwNDA5N2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuICBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1heFJlc29sdXRpb25gIChvclxuICogYG1pblpvb21gKSBhbmQgYHpvb21GYWN0b3JgLiAgSWYgdW5zcGVjaWZpZWQgaXQgaXMgY2FsY3VsYXRlZCBhc3N1bWluZyAyOVxuICogem9vbSBsZXZlbHMgKHdpdGggYSBmYWN0b3Igb2YgMikuIElmIHRoZSBwcm9qZWN0aW9uIGlzIFNwaGVyaWNhbCBNZXJjYXRvclxuICogKHRoZSBkZWZhdWx0KSB0aGVuIGBtaW5SZXNvbHV0aW9uYCBkZWZhdWx0cyB0b1xuICogYDQwMDc1MDE2LjY4NTU3ODQ5IC8gMjU2IC8gTWF0aC5wb3coMiwgMjgpID0gMC4wMDA1ODMxNjgyNDU1ODM5MjUzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0yOF0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtaW5ab29tYCAob3JcbiAqIGBtYXhSZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWluUmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWF4Wm9vbWAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtYXhab29tYCAob3JcbiAqIGBtaW5SZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWF4UmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWluWm9vbWAuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttdWx0aVdvcmxkPWZhbHNlXSBJZiBgZmFsc2VgIHRoZSB2aWV3IGlzIGNvbnN0cmFpbmVkIHNvXG4gKiBvbmx5IG9uZSB3b3JsZCBpcyB2aXNpYmxlLCBhbmQgeW91IGNhbm5vdCBwYW4gb2ZmIHRoZSBlZGdlLiAgSWYgYHRydWVgIHRoZSBtYXBcbiAqIG1heSBzaG93IG11bHRpcGxlIHdvcmxkcyBhdCBsb3cgem9vbSBsZXZlbHMuICBPbmx5IHVzZWQgaWYgdGhlIGBwcm9qZWN0aW9uYCBpc1xuICogZ2xvYmFsLiAgTm90ZSB0aGF0IGlmIGBleHRlbnRgIGlzIGFsc28gcHJvdmlkZWQgaXQgaXMgZ2l2ZW4gcHJlY2VkZW5jZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYWx3YXlzXG4gKiBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247IGZhbHNlIG1lYW5zXG4gKiBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludD10cnVlXSBJZiB0cnVlLCB0aGUgcmVzb2x1dGlvblxuICogbWluL21heCB2YWx1ZXMgd2lsbCBiZSBhcHBsaWVkIHNtb290aGx5LCBpLiBlLiBhbGxvdyB0aGUgdmlldyB0byBleGNlZWQgc2xpZ2h0bHlcbiAqIHRoZSBnaXZlbiByZXNvbHV0aW9uIG9yIHpvb20gYm91bmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hvd0Z1bGxFeHRlbnQ9ZmFsc2VdIEFsbG93IHRoZSB2aWV3IHRvIGJlIHpvb21lZCBvdXQgdG9cbiAqIHNob3cgdGhlIGZ1bGwgY29uZmlndXJlZCBleHRlbnQuIEJ5IGRlZmF1bHQsIHdoZW4gYSB2aWV3IGlzIGNvbmZpZ3VyZWQgd2l0aCBhblxuICogZXh0ZW50LCB1c2VycyB3aWxsIG5vdCBiZSBhYmxlIHRvIHpvb20gb3V0IHNvIHRoZSB2aWV3cG9ydCBleGNlZWRzIHRoZSBleHRlbnQgaW5cbiAqIGVpdGhlciBkaW1lbnNpb24uIFRoaXMgbWVhbnMgdGhlIGZ1bGwgZXh0ZW50IG1heSBub3QgYmUgdmlzaWJsZSBpZiB0aGUgdmlld3BvcnRcbiAqIGlzIHRhbGxlciBvciB3aWRlciB0aGFuIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGNvbmZpZ3VyZWQgZXh0ZW50LiBJZlxuICogc2hvd0Z1bGxFeHRlbnQgaXMgdHJ1ZSwgdGhlIHVzZXIgd2lsbCBiZSBhYmxlIHRvIHpvb20gb3V0IHNvIHRoYXQgdGhlIHZpZXdwb3J0XG4gKiBleGNlZWRzIHRoZSBoZWlnaHQgb3Igd2lkdGggb2YgdGhlIGNvbmZpZ3VyZWQgZXh0ZW50LCBidXQgbm90IGJvdGgsIGFsbG93aW5nIHRoZVxuICogZnVsbCBleHRlbnQgdG8gYmUgc2hvd24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIFRoZVxuICogcHJvamVjdGlvbi4gVGhlIGRlZmF1bHQgaXMgU3BoZXJpY2FsIE1lcmNhdG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy4gVGhlXG4gKiB1bml0cyBhcmUgYHByb2plY3Rpb25gIHVuaXRzIHBlciBwaXhlbCAoZS5nLiBtZXRlcnMgcGVyIHBpeGVsKS4gQW5cbiAqIGFsdGVybmF0aXZlIHRvIHNldHRpbmcgdGhpcyBpcyB0byBzZXQgYHpvb21gLiBMYXllciBzb3VyY2VzIHdpbGwgbm90IGJlXG4gKiBmZXRjaGVkIGlmIG5laXRoZXIgdGhpcyBub3IgYHpvb21gIGFyZSBkZWZpbmVkLCBidXQgdGhleSBjYW4gYmUgc2V0IGxhdGVyXG4gKiB3aXRoIHtAbGluayAjc2V0Wm9vbX0gb3Ige0BsaW5rICNzZXRSZXNvbHV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3Jlc29sdXRpb25zXSBSZXNvbHV0aW9ucyB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIElmIHNldCB0aGUgYG1heFJlc29sdXRpb25gLCBgbWluUmVzb2x1dGlvbmAsXG4gKiBgbWluWm9vbWAsIGBtYXhab29tYCwgYW5kIGB6b29tRmFjdG9yYCBvcHRpb25zIGFyZSBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBUaGUgaW5pdGlhbCByb3RhdGlvbiBmb3IgdGhlIHZpZXcgaW4gcmFkaWFuc1xuICogKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSwgMCBtZWFucyBOb3J0aCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21dIE9ubHkgdXNlZCBpZiBgcmVzb2x1dGlvbmAgaXMgbm90IGRlZmluZWQuIFpvb21cbiAqIGxldmVsIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBpbml0aWFsIHJlc29sdXRpb24gZm9yIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tRmFjdG9yPTJdIFRoZSB6b29tIGZhY3RvciB1c2VkIHRvIGNvbXB1dGUgdGhlXG4gKiBjb3JyZXNwb25kaW5nIHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkgeyFBcnJheTxudW1iZXI+fSBbcGFkZGluZz1bMCwgMCwgMCwgMF1dIFBhZGRpbmcgKGluIGNzcyBwaXhlbHMpLlxuICogSWYgdGhlIG1hcCB2aWV3cG9ydCBpcyBwYXJ0aWFsbHkgY292ZXJlZCB3aXRoIG90aGVyIGNvbnRlbnQgKG92ZXJsYXlzKSBhbG9uZ1xuICogaXRzIGVkZ2VzLCB0aGlzIHNldHRpbmcgYWxsb3dzIHRvIHNoaWZ0IHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0IGF3YXkgZnJvbVxuICogdGhhdCBjb250ZW50LiBUaGUgb3JkZXIgb2YgdGhlIHZhbHVlcyBpcyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQuXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2NlbnRlcl0gVGhlIGNlbnRlciBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mXG4gKiB0aGUgYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tXSBUaGUgem9vbSBsZXZlbCBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mIHRoZVxuICogYW5pbWF0aW9uLiBUaGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgcmVzb2x1dGlvbmAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3Jlc29sdXRpb25dIFRoZSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3IGF0IHRoZSBlbmRcbiAqIG9mIHRoZSBhbmltYXRpb24uICBJZiBgem9vbWAgaXMgYWxzbyBwcm92aWRlZCwgdGhpcyBvcHRpb24gd2lsbCBiZSBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbl0gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGF0IHRoZSBlbmQgb2ZcbiAqIHRoZSBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBPcHRpb25hbCBhbmNob3IgdG8gcmVtYWluIGZpeGVkXG4gKiBkdXJpbmcgYSByb3RhdGlvbiBvciByZXNvbHV0aW9uIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwMF0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gW2Vhc2luZ10gVGhlIGVhc2luZyBmdW5jdGlvbiB1c2VkXG4gKiBkdXJpbmcgdGhlIGFuaW1hdGlvbiAoZGVmYXVsdHMgdG8ge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd+aW5BbmRPdXR9KS5cbiAqIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBmcmFtZSB3aXRoIGEgbnVtYmVyIHJlcHJlc2VudGluZyBhXG4gKiBmcmFjdGlvbiBvZiB0aGUgYW5pbWF0aW9uJ3MgZHVyYXRpb24uICBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIG51bWJlclxuICogYmV0d2VlbiAwIGFuZCAxIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3MgdG93YXJkIHRoZSBkZXN0aW5hdGlvbiBzdGF0ZS5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdGF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gcm90YXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tXG4gKi9cbi8qKlxuICogRGVmYXVsdCBtaW4gem9vbSBsZXZlbCBmb3IgdGhlIG1hcCB2aWV3LlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIERFRkFVTFRfTUlOX1pPT00gPSAwO1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIFZpZXcgb2JqZWN0IHJlcHJlc2VudHMgYSBzaW1wbGUgMkQgdmlldyBvZiB0aGUgbWFwLlxuICpcbiAqIFRoaXMgaXMgdGhlIG9iamVjdCB0byBhY3QgdXBvbiB0byBjaGFuZ2UgdGhlIGNlbnRlciwgcmVzb2x1dGlvbixcbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgbWFwLlxuICpcbiAqIEEgVmlldyBoYXMgYSBgcHJvamVjdGlvbmAuIFRoZSBwcm9qZWN0aW9uIGRldGVybWluZXMgdGhlXG4gKiBjb29yZGluYXRlIHN5c3RlbSBvZiB0aGUgY2VudGVyLCBhbmQgaXRzIHVuaXRzIGRldGVybWluZSB0aGUgdW5pdHMgb2YgdGhlXG4gKiByZXNvbHV0aW9uIChwcm9qZWN0aW9uIHVuaXRzIHBlciBwaXhlbCkuIFRoZSBkZWZhdWx0IHByb2plY3Rpb24gaXNcbiAqIFNwaGVyaWNhbCBNZXJjYXRvciAoRVBTRzozODU3KS5cbiAqXG4gKiAjIyMgVGhlIHZpZXcgc3RhdGVzXG4gKlxuICogQSBWaWV3IGlzIGRldGVybWluZWQgYnkgdGhyZWUgc3RhdGVzOiBgY2VudGVyYCwgYHJlc29sdXRpb25gLFxuICogYW5kIGByb3RhdGlvbmAuIEVhY2ggc3RhdGUgaGFzIGEgY29ycmVzcG9uZGluZyBnZXR0ZXIgYW5kIHNldHRlciwgZS5nLlxuICogYGdldENlbnRlcmAgYW5kIGBzZXRDZW50ZXJgIGZvciB0aGUgYGNlbnRlcmAgc3RhdGUuXG4gKlxuICogVGhlIGB6b29tYCBzdGF0ZSBpcyBhY3R1YWxseSBub3Qgc2F2ZWQgb24gdGhlIHZpZXc6IGFsbCBjb21wdXRhdGlvbnNcbiAqIGludGVybmFsbHkgdXNlIHRoZSBgcmVzb2x1dGlvbmAgc3RhdGUuIFN0aWxsLCB0aGUgYHNldFpvb21gIGFuZCBgZ2V0Wm9vbWBcbiAqIG1ldGhvZHMgYXJlIGF2YWlsYWJsZSwgYXMgd2VsbCBhcyBgZ2V0UmVzb2x1dGlvbkZvclpvb21gIGFuZFxuICogYGdldFpvb21Gb3JSZXNvbHV0aW9uYCB0byBzd2l0Y2ggZnJvbSBvbmUgc3lzdGVtIHRvIHRoZSBvdGhlci5cbiAqXG4gKiAjIyMgVGhlIGNvbnN0cmFpbnRzXG4gKlxuICogYHNldENlbnRlcmAsIGBzZXRSZXNvbHV0aW9uYCBhbmQgYHNldFJvdGF0aW9uYCBjYW4gYmUgdXNlZCB0byBjaGFuZ2UgdGhlXG4gKiBzdGF0ZXMgb2YgdGhlIHZpZXcsIGJ1dCBhbnkgY29uc3RyYWludCBkZWZpbmVkIGluIHRoZSBjb25zdHJ1Y3RvciB3aWxsXG4gKiBiZSBhcHBsaWVkIGFsb25nIHRoZSB3YXkuXG4gKlxuICogQSBWaWV3IG9iamVjdCBjYW4gaGF2ZSBhICpyZXNvbHV0aW9uIGNvbnN0cmFpbnQqLCBhICpyb3RhdGlvbiBjb25zdHJhaW50KlxuICogYW5kIGEgKmNlbnRlciBjb25zdHJhaW50Ki5cbiAqXG4gKiBUaGUgKnJlc29sdXRpb24gY29uc3RyYWludCogdHlwaWNhbGx5IHJlc3RyaWN0cyBtaW4vbWF4IHZhbHVlcyBhbmRcbiAqIHNuYXBzIHRvIHNwZWNpZmljIHJlc29sdXRpb25zLiBJdCBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBmb2xsb3dpbmdcbiAqIG9wdGlvbnM6IGByZXNvbHV0aW9uc2AsIGBtYXhSZXNvbHV0aW9uYCwgYG1heFpvb21gIGFuZCBgem9vbUZhY3RvcmAuXG4gKiBJZiBgcmVzb2x1dGlvbnNgIGlzIHNldCwgdGhlIG90aGVyIHRocmVlIG9wdGlvbnMgYXJlIGlnbm9yZWQuIFNlZVxuICogZG9jdW1lbnRhdGlvbiBmb3IgZWFjaCBvcHRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb24uIEJ5IGRlZmF1bHQsIHRoZSB2aWV3XG4gKiBvbmx5IGhhcyBhIG1pbi9tYXggcmVzdHJpY3Rpb24gYW5kIGFsbG93IGludGVybWVkaWFyeSB6b29tIGxldmVscyB3aGVuXG4gKiBwaW5jaC16b29taW5nIGZvciBleGFtcGxlLlxuICpcbiAqIFRoZSAqcm90YXRpb24gY29uc3RyYWludCogc25hcHMgdG8gc3BlY2lmaWMgYW5nbGVzLiBJdCBpcyBkZXRlcm1pbmVkXG4gKiBieSB0aGUgZm9sbG93aW5nIG9wdGlvbnM6IGBlbmFibGVSb3RhdGlvbmAgYW5kIGBjb25zdHJhaW5Sb3RhdGlvbmAuXG4gKiBCeSBkZWZhdWx0IHJvdGF0aW9uIGlzIGFsbG93ZWQgYW5kIGl0cyB2YWx1ZSBpcyBzbmFwcGVkIHRvIHplcm8gd2hlbiBhcHByb2FjaGluZyB0aGVcbiAqIGhvcml6b250YWwuXG4gKlxuICogVGhlICpjZW50ZXIgY29uc3RyYWludCogaXMgZGV0ZXJtaW5lZCBieSB0aGUgYGV4dGVudGAgb3B0aW9uLiBCeVxuICogZGVmYXVsdCB0aGUgdmlldyBjZW50ZXIgaXMgbm90IGNvbnN0cmFpbmVkIGF0IGFsbC5cbiAqXG4gKiAjIyMgQ2hhbmdpbmcgdGhlIHZpZXcgc3RhdGVcbiAqXG4gKiBJdCBpcyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGBzZXRab29tYCwgYHNldFJlc29sdXRpb25gLCBgc2V0Q2VudGVyYCBhbmRcbiAqIGBzZXRSb3RhdGlvbmAgYXJlIHN1YmplY3QgdG8gdGhlIGFib3ZlIG1lbnRpb25lZCBjb25zdHJhaW50cy4gQXMgc3VjaCwgaXRcbiAqIG1heSBzb21ldGltZXMgbm90IGJlIHBvc3NpYmxlIHRvIGtub3cgaW4gYWR2YW5jZSB0aGUgcmVzdWx0aW5nIHN0YXRlIG9mIHRoZVxuICogVmlldy4gRm9yIGV4YW1wbGUsIGNhbGxpbmcgYHNldFJlc29sdXRpb24oMTApYCBkb2VzIG5vdCBndWFyYW50ZWUgdGhhdFxuICogYGdldFJlc29sdXRpb24oKWAgd2lsbCByZXR1cm4gYDEwYC5cbiAqXG4gKiBBIGNvbnNlcXVlbmNlIG9mIHRoaXMgaXMgdGhhdCwgd2hlbiBhcHBseWluZyBhIGRlbHRhIG9uIHRoZSB2aWV3IHN0YXRlLCBvbmVcbiAqIHNob3VsZCB1c2UgYGFkanVzdENlbnRlcmAsIGBhZGp1c3RSb3RhdGlvbmAsIGBhZGp1c3Rab29tYCBhbmQgYGFkanVzdFJlc29sdXRpb25gXG4gKiByYXRoZXIgdGhhbiB0aGUgY29ycmVzcG9uZGluZyBzZXR0ZXJzLiBUaGlzIHdpbGwgbGV0IHZpZXcgZG8gaXRzIGludGVybmFsXG4gKiBjb21wdXRhdGlvbnMuIEJlc2lkZXMsIHRoZSBgYWRqdXN0KmAgbWV0aG9kcyBhbHNvIHRha2UgYW4gYG9wdF9hbmNob3JgXG4gKiBhcmd1bWVudCB3aGljaCBhbGxvd3Mgc3BlY2lmeWluZyBhbiBvcmlnaW4gZm9yIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAqXG4gKiAjIyMgSW50ZXJhY3Rpbmcgd2l0aCB0aGUgdmlld1xuICpcbiAqIFZpZXcgY29uc3RyYWludHMgYXJlIHVzdWFsbHkgb25seSBhcHBsaWVkIHdoZW4gdGhlIHZpZXcgaXMgKmF0IHJlc3QqLCBtZWFuaW5nIHRoYXRcbiAqIG5vIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBvbmdvaW5nLiBBcyBzdWNoLCBpZiB0aGUgdXNlciBwdXRzIHRoZSB2aWV3IGluIGFcbiAqIHN0YXRlIHRoYXQgaXMgbm90IGVxdWl2YWxlbnQgdG8gYSBjb25zdHJhaW5lZCBvbmUgKGUuZy4gcm90YXRpbmcgdGhlIHZpZXcgd2hlblxuICogdGhlIHNuYXAgYW5nbGUgaXMgMCksIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBhdCB0aGUgaW50ZXJhY3Rpb24gZW5kIHRvXG4gKiBwdXQgYmFjayB0aGUgdmlldyB0byBhIHN0YWJsZSBzdGF0ZTtcbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWaWV3LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Vmlld09wdGlvbnM9fSBvcHRfb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlldyhvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0X29wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaW50c18gPSBbMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8QXJyYXk8QW5pbWF0aW9uPj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25zXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51cGRhdGVBbmltYXRpb25LZXlfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJvamVjdGlvbl8gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlld3BvcnRTaXplXyA9IFsxMDAsIDEwMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0Q2VudGVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldFJlc29sdXRpb25fO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YXJnZXRSb3RhdGlvbl87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FuY2VsQW5jaG9yXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNlbnRlciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRpb25zLmNlbnRlciwgX3RoaXMucHJvamVjdGlvbl8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmV4dGVudCkge1xuICAgICAgICAgICAgb3B0aW9ucy5leHRlbnQgPSBmcm9tVXNlckV4dGVudChvcHRpb25zLmV4dGVudCwgX3RoaXMucHJvamVjdGlvbl8pO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmFwcGx5T3B0aW9uc18ob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHVwIHRoZSB2aWV3IHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYXBwbHlPcHRpb25zXyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICB2YXIgcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvID0gY3JlYXRlUmVzb2x1dGlvbkNvbnN0cmFpbnQob3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhSZXNvbHV0aW9uXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5tYXhSZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluUmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8ubWluUmVzb2x1dGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnpvb21GYWN0b3JfID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLnpvb21GYWN0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb25zXyA9IG9wdGlvbnMucmVzb2x1dGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYWRkaW5nIChpbiBjc3MgcGl4ZWxzKS5cbiAgICAgICAgICogSWYgdGhlIG1hcCB2aWV3cG9ydCBpcyBwYXJ0aWFsbHkgY292ZXJlZCB3aXRoIG90aGVyIGNvbnRlbnQgKG92ZXJsYXlzKSBhbG9uZ1xuICAgICAgICAgKiBpdHMgZWRnZXMsIHRoaXMgc2V0dGluZyBhbGxvd3MgdG8gc2hpZnQgdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnQgYXdheSBmcm9tIHRoYXRcbiAgICAgICAgICogY29udGVudC4gVGhlIG9yZGVyIG9mIHRoZSB2YWx1ZXMgaW4gdGhlIGFycmF5IGlzIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdC5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgbm8gcGFkZGluZywgd2hpY2ggaXMgZXF1aXZhbGVudCB0byBgWzAsIDAsIDAsIDBdYC5cbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ab29tXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5taW5ab29tO1xuICAgICAgICB2YXIgY2VudGVyQ29uc3RyYWludCA9IGNyZWF0ZUNlbnRlckNvbnN0cmFpbnQob3B0aW9ucyk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uQ29uc3RyYWludCA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5jb25zdHJhaW50O1xuICAgICAgICB2YXIgcm90YXRpb25Db25zdHJhaW50ID0gY3JlYXRlUm90YXRpb25Db25zdHJhaW50KG9wdGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NvbnN0cmFpbnRzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25zdHJhaW50c18gPSB7XG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlckNvbnN0cmFpbnQsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uQ29uc3RyYWludCxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbkNvbnN0cmFpbnQsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0Um90YXRpb24ob3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDApO1xuICAgICAgICB0aGlzLnNldENlbnRlckludGVybmFsKG9wdGlvbnMuY2VudGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNlbnRlciA6IG51bGwpO1xuICAgICAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzb2x1dGlvbihvcHRpb25zLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFpvb20ob3B0aW9ucy56b29tKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Vmlld09wdGlvbnN9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnNfID0gb3B0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbiB1cGRhdGVkIHZlcnNpb24gb2YgdGhlIHZpZXcgb3B0aW9ucyB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdmlldy4gIFRoZVxuICAgICAqIGN1cnJlbnQgcmVzb2x1dGlvbiAob3Igem9vbSksIGNlbnRlciwgYW5kIHJvdGF0aW9uIGFyZSBhcHBsaWVkIHRvIGFueSBzdG9yZWRcbiAgICAgKiBvcHRpb25zLiAgVGhlIHByb3ZpZGVkIG9wdGlvbnMgY2FuIGJlIHVzZWQgdG8gYXBwbHkgbmV3IG1pbi9tYXggem9vbSBvclxuICAgICAqIHJlc29sdXRpb24gbGltaXRzLlxuICAgICAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG5ld09wdGlvbnMgTmV3IG9wdGlvbnMgdG8gYmUgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJuIHtWaWV3T3B0aW9uc30gTmV3IG9wdGlvbnMgdXBkYXRlZCB3aXRoIHRoZSBjdXJyZW50IHZpZXcgc3RhdGUuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0VXBkYXRlZE9wdGlvbnNfID0gZnVuY3Rpb24gKG5ld09wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMub3B0aW9uc18pO1xuICAgICAgICAvLyBwcmVzZXJ2ZSByZXNvbHV0aW9uIChvciB6b29tKVxuICAgICAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy56b29tID0gdGhpcy5nZXRab29tKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJlc2VydmUgY2VudGVyXG4gICAgICAgIG9wdGlvbnMuY2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgICAgICAvLyBwcmVzZXJ2ZSByb3RhdGlvblxuICAgICAgICBvcHRpb25zLnJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgICAgICByZXR1cm4gYXNzaWduKHt9LCBvcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFuaW1hdGUgdGhlIHZpZXcuICBUaGUgdmlldydzIGNlbnRlciwgem9vbSAob3IgcmVzb2x1dGlvbiksIGFuZCByb3RhdGlvblxuICAgICAqIGNhbiBiZSBhbmltYXRlZCBmb3Igc21vb3RoIHRyYW5zaXRpb25zIGJldHdlZW4gdmlldyBzdGF0ZXMuICBGb3IgZXhhbXBsZSxcbiAgICAgKiB0byBhbmltYXRlIHRoZSB2aWV3IHRvIGEgbmV3IHpvb20gbGV2ZWw6XG4gICAgICpcbiAgICAgKiAgICAgdmlldy5hbmltYXRlKHt6b29tOiB2aWV3LmdldFpvb20oKSArIDF9KTtcbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBhbmltYXRpb24gbGFzdHMgb25lIHNlY29uZCBhbmQgdXNlcyBpbi1hbmQtb3V0IGVhc2luZy4gIFlvdVxuICAgICAqIGNhbiBjdXN0b21pemUgdGhpcyBiZWhhdmlvciBieSBpbmNsdWRpbmcgYGR1cmF0aW9uYCAoaW4gbWlsbGlzZWNvbmRzKSBhbmRcbiAgICAgKiBgZWFzaW5nYCBvcHRpb25zIChzZWUge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd9KS5cbiAgICAgKlxuICAgICAqIFRvIGNoYWluIHRvZ2V0aGVyIG11bHRpcGxlIGFuaW1hdGlvbnMsIGNhbGwgdGhlIG1ldGhvZCB3aXRoIG11bHRpcGxlXG4gICAgICogYW5pbWF0aW9uIG9iamVjdHMuICBGb3IgZXhhbXBsZSwgdG8gZmlyc3Qgem9vbSBhbmQgdGhlbiBwYW46XG4gICAgICpcbiAgICAgKiAgICAgdmlldy5hbmltYXRlKHt6b29tOiAxMH0sIHtjZW50ZXI6IFswLCAwXX0pO1xuICAgICAqXG4gICAgICogSWYgeW91IHByb3ZpZGUgYSBmdW5jdGlvbiBhcyB0aGUgbGFzdCBhcmd1bWVudCB0byB0aGUgYW5pbWF0ZSBtZXRob2QsIGl0XG4gICAgICogd2lsbCBnZXQgY2FsbGVkIGF0IHRoZSBlbmQgb2YgYW4gYW5pbWF0aW9uIHNlcmllcy4gIFRoZSBjYWxsYmFjayB3aWxsIGJlXG4gICAgICogY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb24gc2VyaWVzIGNvbXBsZXRlZCBvbiBpdHMgb3duIG9yIGBmYWxzZWBcbiAgICAgKiBpZiBpdCB3YXMgY2FuY2VsbGVkLlxuICAgICAqXG4gICAgICogQW5pbWF0aW9ucyBhcmUgY2FuY2VsbGVkIGJ5IHVzZXIgaW50ZXJhY3Rpb25zIChlLmcuIGRyYWdnaW5nIHRoZSBtYXApIG9yIGJ5XG4gICAgICogY2FsbGluZyBgdmlldy5zZXRDZW50ZXIoKWAsIGB2aWV3LnNldFJlc29sdXRpb24oKWAsIG9yIGB2aWV3LnNldFJvdGF0aW9uKClgXG4gICAgICogKG9yIGFub3RoZXIgbWV0aG9kIHRoYXQgY2FsbHMgb25lIG9mIHRoZXNlKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb25cbiAgICAgKiAgICAgb3B0aW9ucy4gIE11bHRpcGxlIGFuaW1hdGlvbnMgY2FuIGJlIHJ1biBpbiBzZXJpZXMgYnkgcGFzc2luZyBtdWx0aXBsZVxuICAgICAqICAgICBvcHRpb25zIG9iamVjdHMuICBUbyBydW4gbXVsdGlwbGUgYW5pbWF0aW9ucyBpbiBwYXJhbGxlbCwgY2FsbCB0aGUgbWV0aG9kXG4gICAgICogICAgIG11bHRpcGxlIHRpbWVzLiAgQW4gb3B0aW9uYWwgY2FsbGJhY2sgY2FuIGJlIHByb3ZpZGVkIGFzIGEgZmluYWxcbiAgICAgKiAgICAgYXJndW1lbnQuICBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyXG4gICAgICogICAgIHRoZSBhbmltYXRpb24gY29tcGxldGVkIHdpdGhvdXQgYmVpbmcgY2FuY2VsbGVkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKHZhcl9hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGVmKCkgJiYgIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jZW50ZXIgPSBmcm9tVXNlckNvb3JkaW5hdGUob3B0aW9ucy5jZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuY2hvcikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yID0gZnJvbVVzZXJDb29yZGluYXRlKG9wdGlvbnMuYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzW2ldID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hbmltYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAodmFyX2FyZ3MpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbkNvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNhbGxiYWNrO1xuICAgICAgICBpZiAoYW5pbWF0aW9uQ291bnQgPiAxICYmXG4gICAgICAgICAgICB0eXBlb2YgYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV07XG4gICAgICAgICAgICAtLWFuaW1hdGlvbkNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0RlZigpKSB7XG4gICAgICAgICAgICAvLyBpZiB2aWV3IHByb3BlcnRpZXMgYXJlIG5vdCB5ZXQgc2V0LCBzaG9ydGN1dCB0byB0aGUgZmluYWwgc3RhdGVcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50c1thbmltYXRpb25Db3VudCAtIDFdO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNlbnRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoc3RhdGUuY2VudGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFpvb20oc3RhdGUuem9vbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Um90YXRpb24oc3RhdGUucm90YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLnRhcmdldENlbnRlcl8uc2xpY2UoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLnRhcmdldFJlc29sdXRpb25fO1xuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLnRhcmdldFJvdGF0aW9uXztcbiAgICAgICAgdmFyIHNlcmllcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbkNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gLyoqIEB0eXBlIHtBbmltYXRpb25PcHRpb25zfSAqLyAoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhbmNob3I6IG9wdGlvbnMuYW5jaG9yLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwMCxcbiAgICAgICAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nIHx8IGluQW5kT3V0LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jZW50ZXIpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uc291cmNlQ2VudGVyID0gY2VudGVyO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIgPSBvcHRpb25zLmNlbnRlci5zbGljZSgpO1xuICAgICAgICAgICAgICAgIGNlbnRlciA9IGFuaW1hdGlvbi50YXJnZXRDZW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKG9wdGlvbnMuem9vbSk7XG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIHJlc29sdXRpb24gPSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uc291cmNlUm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBtb2R1bG8ob3B0aW9ucy5yb3RhdGlvbiAtIHJvdGF0aW9uICsgTWF0aC5QSSwgMiAqIE1hdGguUEkpIC0gTWF0aC5QSTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0Um90YXRpb24gPSByb3RhdGlvbiArIGRlbHRhO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgYW5pbWF0aW9uIGlzIGEgbm8tb3BcbiAgICAgICAgICAgIGlmIChpc05vb3BBbmltYXRpb24oYW5pbWF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gd2Ugc3RpbGwgcHVzaCBpdCBvbnRvIHRoZSBzZXJpZXMgZm9yIGNhbGxiYWNrIGhhbmRsaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydCArPSBhbmltYXRpb24uZHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXJpZXMucHVzaChhbmltYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc18ucHVzaChzZXJpZXMpO1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAxKTtcbiAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25zXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGFuaW1hdGVkLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB2aWV3IGlzIGJlaW5nIGFuaW1hdGVkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRBbmltYXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpbnRzX1tWaWV3SGludC5BTklNQVRJTkddID4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiB0aGUgdXNlciBpcyBpbnRlcmFjdGluZyB3aXRoIHRoZSB2aWV3LCBzdWNoIGFzIHBhbm5pbmcgb3Igem9vbWluZy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlldyBpcyBiZWluZyBpbnRlcmFjdGVkIHdpdGguXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldEludGVyYWN0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaW50c19bVmlld0hpbnQuSU5URVJBQ1RJTkddID4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbmNlbCBhbnkgb25nb2luZyBhbmltYXRpb25zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYW5jZWxBbmltYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAtdGhpcy5oaW50c19bVmlld0hpbnQuQU5JTUFUSU5HXSk7XG4gICAgICAgIHZhciBhbmNob3I7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNlcmllcyA9IHRoaXMuYW5pbWF0aW9uc19baV07XG4gICAgICAgICAgICBpZiAoc2VyaWVzWzBdLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soc2VyaWVzWzBdLmNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFuY2hvcikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IHNlcmllcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBzZXJpZXNbal07XG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBhbmltYXRpb24uYW5jaG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRpb25zXy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSBhbmNob3I7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYWxsIGFuaW1hdGlvbnMuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUudXBkYXRlQW5pbWF0aW9uc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVBbmltYXRpb25LZXlfKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIG1vcmUgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBzZXJpZXMgPSB0aGlzLmFuaW1hdGlvbnNfW2ldO1xuICAgICAgICAgICAgdmFyIHNlcmllc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IHNlcmllcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNlcmllc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIGFuaW1hdGlvbi5zdGFydDtcbiAgICAgICAgICAgICAgICB2YXIgZnJhY3Rpb24gPSBhbmltYXRpb24uZHVyYXRpb24gPiAwID8gZWxhcHNlZCAvIGFuaW1hdGlvbi5kdXJhdGlvbiA6IDE7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWN0aW9uID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZnJhY3Rpb24gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gYW5pbWF0aW9uLmVhc2luZyhmcmFjdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgwID0gYW5pbWF0aW9uLnNvdXJjZUNlbnRlclswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkwID0gYW5pbWF0aW9uLnNvdXJjZUNlbnRlclsxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgxID0gYW5pbWF0aW9uLnRhcmdldENlbnRlclswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkxID0gYW5pbWF0aW9uLnRhcmdldENlbnRlclsxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB4MCArIHByb2dyZXNzICogKHgxIC0geDApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IHkwICsgcHJvZ3Jlc3MgKiAoeTEgLSB5MCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IFt4LCB5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICYmIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gcHJvZ3Jlc3MgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW5lZFJlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKHJlc29sdXRpb24sIDAsIHNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJab29tKGNvbnN0cmFpbmVkUmVzb2x1dGlvbiwgYW5pbWF0aW9uLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8odHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uc291cmNlUm90YXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udGFyZ2V0Um90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSBwcm9ncmVzcyA9PT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2R1bG8oYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICsgTWF0aC5QSSwgMiAqIE1hdGguUEkpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLlBJXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5hbmNob3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW5lZFJvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24ocm90YXRpb24sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUoY29uc3RyYWluZWRSb3RhdGlvbiwgYW5pbWF0aW9uLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXyh0cnVlKTtcbiAgICAgICAgICAgICAgICBtb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VyaWVzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNfW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAtMSk7XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gc2VyaWVzWzBdLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHBydW5lIGNvbXBsZXRlZCBzZXJpZXNcbiAgICAgICAgdGhpcy5hbmltYXRpb25zXyA9IHRoaXMuYW5pbWF0aW9uc18uZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBpZiAobW9yZSAmJiB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQW5pbWF0aW9uc18uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBUYXJnZXQgcm90YXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFJvdGF0aW9uIGFuY2hvci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3Igcm90YXRpb24gYW5kIGFuY2hvci5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJSb3RhdGUgPSBmdW5jdGlvbiAocm90YXRpb24sIGFuY2hvcikge1xuICAgICAgICB2YXIgY2VudGVyO1xuICAgICAgICB2YXIgY3VycmVudENlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRDZW50ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2VudGVyID0gW2N1cnJlbnRDZW50ZXJbMF0gLSBhbmNob3JbMF0sIGN1cnJlbnRDZW50ZXJbMV0gLSBhbmNob3JbMV1dO1xuICAgICAgICAgICAgcm90YXRlQ29vcmRpbmF0ZShjZW50ZXIsIHJvdGF0aW9uIC0gdGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgICAgIGFkZENvb3JkaW5hdGUoY2VudGVyLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgWm9vbSBhbmNob3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIgZm9yIHJlc29sdXRpb24gYW5kIGFuY2hvci5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jYWxjdWxhdGVDZW50ZXJab29tID0gZnVuY3Rpb24gKHJlc29sdXRpb24sIGFuY2hvcikge1xuICAgICAgICB2YXIgY2VudGVyO1xuICAgICAgICB2YXIgY3VycmVudENlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRSZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgICAgIGlmIChjdXJyZW50Q2VudGVyICE9PSB1bmRlZmluZWQgJiYgY3VycmVudFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHggPSBhbmNob3JbMF0gLVxuICAgICAgICAgICAgICAgIChyZXNvbHV0aW9uICogKGFuY2hvclswXSAtIGN1cnJlbnRDZW50ZXJbMF0pKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHkgPSBhbmNob3JbMV0gLVxuICAgICAgICAgICAgICAgIChyZXNvbHV0aW9uICogKGFuY2hvclsxXSAtIGN1cnJlbnRDZW50ZXJbMV0pKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgY2VudGVyID0gW3gsIHldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZpZXdwb3J0IHNpemUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9yb3RhdGlvbiBUYWtlIGludG8gYWNjb3VudCB0aGUgcm90YXRpb24gb2YgdGhlIHZpZXdwb3J0IHdoZW4gZ2l2aW5nIHRoZSBzaXplXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFZpZXdwb3J0IHNpemUgb3IgYFsxMDAsIDEwMF1gIHdoZW4gbm8gdmlld3BvcnQgaXMgZm91bmQuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Vmlld3BvcnRTaXplXyA9IGZ1bmN0aW9uIChvcHRfcm90YXRpb24pIHtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLnZpZXdwb3J0U2l6ZV87XG4gICAgICAgIGlmIChvcHRfcm90YXRpb24pIHtcbiAgICAgICAgICAgIHZhciB3ID0gc2l6ZVswXTtcbiAgICAgICAgICAgIHZhciBoID0gc2l6ZVsxXTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgTWF0aC5hYnModyAqIE1hdGguY29zKG9wdF9yb3RhdGlvbikpICtcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoaCAqIE1hdGguc2luKG9wdF9yb3RhdGlvbikpLFxuICAgICAgICAgICAgICAgIE1hdGguYWJzKHcgKiBNYXRoLnNpbihvcHRfcm90YXRpb24pKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGggKiBNYXRoLmNvcyhvcHRfcm90YXRpb24pKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcmVzIHRoZSB2aWV3cG9ydCBzaXplIG9uIHRoZSB2aWV3LiBUaGUgdmlld3BvcnQgc2l6ZSBpcyBub3QgcmVhZCBldmVyeSB0aW1lIGZyb20gdGhlIERPTVxuICAgICAqIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGhpdCBhbmQgbGF5b3V0IHJlZmxvdy5cbiAgICAgKiBUaGlzIHNob3VsZCBiZSBkb25lIG9uIG1hcCBzaXplIGNoYW5nZS5cbiAgICAgKiBOb3RlOiB0aGUgY29uc3RyYWludHMgYXJlIG5vdCByZXNvbHZlZCBkdXJpbmcgYW4gYW5pbWF0aW9uIHRvIGF2b2lkIHN0b3BwaW5nIGl0XG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF9zaXplIFZpZXdwb3J0IHNpemU7IGlmIHVuZGVmaW5lZCwgWzEwMCwgMTAwXSBpcyBhc3N1bWVkXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0Vmlld3BvcnRTaXplID0gZnVuY3Rpb24gKG9wdF9zaXplKSB7XG4gICAgICAgIHRoaXMudmlld3BvcnRTaXplXyA9IEFycmF5LmlzQXJyYXkob3B0X3NpemUpXG4gICAgICAgICAgICA/IG9wdF9zaXplLnNsaWNlKClcbiAgICAgICAgICAgIDogWzEwMCwgMTAwXTtcbiAgICAgICAgaWYgKCF0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IGNlbnRlci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgICAgICBpZiAoIWNlbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9Vc2VyQ29vcmRpbmF0ZShjZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmlldyBjZW50ZXIgd2l0aG91dCB0cmFuc2Zvcm1pbmcgdG8gdXNlciBwcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDZW50ZXJJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Q29uc3RyYWludHN9IENvbnN0cmFpbnRzLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldENvbnN0cmFpbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXNvbHV0aW9uIGNvbnN0cmFpbnQgaXMgc2V0XG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc18uY29uc3RyYWluUmVzb2x1dGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPj19IG9wdF9oaW50cyBEZXN0aW5hdGlvbiBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBIaW50LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldEhpbnRzID0gZnVuY3Rpb24gKG9wdF9oaW50cykge1xuICAgICAgICBpZiAob3B0X2hpbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdF9oaW50c1swXSA9IHRoaXMuaGludHNfWzBdO1xuICAgICAgICAgICAgb3B0X2hpbnRzWzFdID0gdGhpcy5oaW50c19bMV07XG4gICAgICAgICAgICByZXR1cm4gb3B0X2hpbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGludHNfLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZXh0ZW50IGZvciB0aGUgY3VycmVudCB2aWV3IHN0YXRlIGFuZCB0aGUgcGFzc2VkIHNpemUuXG4gICAgICogVGhlIHNpemUgaXMgdGhlIHBpeGVsIGRpbWVuc2lvbnMgb2YgdGhlIGJveCBpbnRvIHdoaWNoIHRoZSBjYWxjdWxhdGVkIGV4dGVudFxuICAgICAqIHNob3VsZCBmaXQuIEluIG1vc3QgY2FzZXMgeW91IHdhbnQgdG8gZ2V0IHRoZSBleHRlbnQgb2YgdGhlIGVudGlyZSBtYXAsXG4gICAgICogdGhhdCBpcyBgbWFwLmdldFNpemUoKWAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZT19IG9wdF9zaXplIEJveCBwaXhlbCBzaXplLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBzaXplXG4gICAgICogb2YgdGhlIG1hcCB0aGF0IHVzZXMgdGhpcyB2aWV3IHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuY2FsY3VsYXRlRXh0ZW50ID0gZnVuY3Rpb24gKG9wdF9zaXplKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSB0aGlzLmNhbGN1bGF0ZUV4dGVudEludGVybmFsKG9wdF9zaXplKTtcbiAgICAgICAgcmV0dXJuIHRvVXNlckV4dGVudChleHRlbnQsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemU9fSBvcHRfc2l6ZSBCb3ggcGl4ZWwgc2l6ZS4gSWYgbm90IHByb3ZpZGVkLFxuICAgICAqIHRoZSBtYXAncyBsYXN0IGtub3duIHZpZXdwb3J0IHNpemUgd2lsbCBiZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmNhbGN1bGF0ZUV4dGVudEludGVybmFsID0gZnVuY3Rpb24gKG9wdF9zaXplKSB7XG4gICAgICAgIHZhciBzaXplID0gb3B0X3NpemUgfHwgdGhpcy5nZXRWaWV3cG9ydFNpemVfKCk7XG4gICAgICAgIHZhciBjZW50ZXIgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi8gKHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSk7XG4gICAgICAgIGFzc2VydChjZW50ZXIsIDEpOyAvLyBUaGUgdmlldyBjZW50ZXIgaXMgbm90IGRlZmluZWRcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSAvKiogQHR5cGUgeyFudW1iZXJ9ICovICh0aGlzLmdldFJlc29sdXRpb24oKSk7XG4gICAgICAgIGFzc2VydChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQsIDIpOyAvLyBUaGUgdmlldyByZXNvbHV0aW9uIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgIHZhciByb3RhdGlvbiA9IC8qKiBAdHlwZSB7IW51bWJlcn0gKi8gKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIGFzc2VydChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkLCAzKTsgLy8gVGhlIHZpZXcgcm90YXRpb24gaXMgbm90IGRlZmluZWRcbiAgICAgICAgcmV0dXJuIGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhSZXNvbHV0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0TWluUmVzb2x1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSB6b29tIGxldmVsLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRNYXhab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldFpvb21Gb3JSZXNvbHV0aW9uKHRoaXMubWluUmVzb2x1dGlvbl8pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIG5ldyBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldE1heFpvb20gPSBmdW5jdGlvbiAoem9vbSkge1xuICAgICAgICB0aGlzLmFwcGx5T3B0aW9uc18odGhpcy5nZXRVcGRhdGVkT3B0aW9uc18oeyBtYXhab29tOiB6b29tIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldE1pblpvb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5tYXhSZXNvbHV0aW9uXykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgbmV3IG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0TWluWm9vbSA9IGZ1bmN0aW9uICh6b29tKSB7XG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7IG1pblpvb206IHpvb20gfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhlIHZpZXcgc2hvdWQgYWxsb3cgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCBXaGV0aGVyIHRoZSByZXNvbHV0aW9uIGlzIGNvbnN0cmFpbmVkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRDb25zdHJhaW5SZXNvbHV0aW9uID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5hcHBseU9wdGlvbnNfKHRoaXMuZ2V0VXBkYXRlZE9wdGlvbnNfKHsgY29uc3RyYWluUmVzb2x1dGlvbjogZW5hYmxlZCB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBUaGUgcHJvamVjdGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJFU09MVVRJT04pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbnMgZm9yIHRoZSB2aWV3LiBUaGlzIHJldHVybnMgdGhlIGFycmF5IG9mIHJlc29sdXRpb25zXG4gICAgICogcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgVmlldywgb3IgdW5kZWZpbmVkIGlmIG5vbmUgd2VyZSBnaXZlbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH0gVGhlIHJlc29sdXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciBhIHByb3ZpZGVkIGV4dGVudCAoaW4gbWFwIHVuaXRzKSBhbmQgc2l6ZSAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplPX0gb3B0X3NpemUgQm94IHBpeGVsIHNpemUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcmVzb2x1dGlvbiBhdCB3aGljaCB0aGUgcHJvdmlkZWQgZXh0ZW50IHdpbGwgcmVuZGVyIGF0XG4gICAgICogICAgIHRoZSBnaXZlbiBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCwgb3B0X3NpemUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsKGZyb21Vc2VyRXh0ZW50KGV4dGVudCwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpLCBvcHRfc2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlc29sdXRpb24gZm9yIGEgcHJvdmlkZWQgZXh0ZW50IChpbiBtYXAgdW5pdHMpIGFuZCBzaXplIChpbiBwaXhlbHMpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemU9fSBvcHRfc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsID0gZnVuY3Rpb24gKGV4dGVudCwgb3B0X3NpemUpIHtcbiAgICAgICAgdmFyIHNpemUgPSBvcHRfc2l6ZSB8fCB0aGlzLmdldFZpZXdwb3J0U2l6ZV8oKTtcbiAgICAgICAgdmFyIHhSZXNvbHV0aW9uID0gZ2V0V2lkdGgoZXh0ZW50KSAvIHNpemVbMF07XG4gICAgICAgIHZhciB5UmVzb2x1dGlvbiA9IGdldEhlaWdodChleHRlbnQpIC8gc2l6ZVsxXTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgZm9yIGFcbiAgICAgKiByZXNvbHV0aW9uLiBFeHBvbmVudGlhbCBzY2FsaW5nIGlzIGFzc3VtZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcG93ZXIgUG93ZXIuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyKTogbnVtYmVyfSBSZXNvbHV0aW9uIGZvciB2YWx1ZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbiA9IGZ1bmN0aW9uIChvcHRfcG93ZXIpIHtcbiAgICAgICAgdmFyIHBvd2VyID0gb3B0X3Bvd2VyIHx8IDI7XG4gICAgICAgIHZhciBtYXhSZXNvbHV0aW9uID0gdGhpcy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24odGhpcy5tYXhSZXNvbHV0aW9uXyk7XG4gICAgICAgIHZhciBtaW5SZXNvbHV0aW9uID0gdGhpcy5taW5SZXNvbHV0aW9uXztcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHBvd2VyKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyhwb3dlciwgdmFsdWUgKiBtYXgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IHJvdGF0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Um90YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5ST1RBVElPTikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcmVzb2x1dGlvbiBmb3IgYSB2YWx1ZSBiZXR3ZWVuXG4gICAgICogMCBhbmQgMS4gRXhwb25lbnRpYWwgc2NhbGluZyBpcyBhc3N1bWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3Bvd2VyIFBvd2VyLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlcik6IG51bWJlcn0gVmFsdWUgZm9yIHJlc29sdXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0VmFsdWVGb3JSZXNvbHV0aW9uRnVuY3Rpb24gPSBmdW5jdGlvbiAob3B0X3Bvd2VyKSB7XG4gICAgICAgIHZhciBsb2dQb3dlciA9IE1hdGgubG9nKG9wdF9wb3dlciB8fCAyKTtcbiAgICAgICAgdmFyIG1heFJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKTtcbiAgICAgICAgdmFyIG1pblJlc29sdXRpb24gPSB0aGlzLm1pblJlc29sdXRpb25fO1xuICAgICAgICB2YXIgbWF4ID0gTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIG1pblJlc29sdXRpb24pIC8gbG9nUG93ZXI7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFZhbHVlLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IE1hdGgubG9nKG1heFJlc29sdXRpb24gLyByZXNvbHV0aW9uKSAvIGxvZ1Bvd2VyIC8gbWF4O1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNpemUgb2YgdGhlIHZpZXdwb3J0IG1pbnVzIHBhZGRpbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9yb3RhdGlvbiBUYWtlIGludG8gYWNjb3VudCB0aGUgcm90YXRpb24gb2YgdGhlIHZpZXdwb3J0IHdoZW4gZ2l2aW5nIHRoZSBzaXplXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFZpZXdwb3J0IHNpemUgcmVkdWNlZCBieSB0aGUgcGFkZGluZy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfID0gZnVuY3Rpb24gKG9wdF9yb3RhdGlvbikge1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyhvcHRfcm90YXRpb24pO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMucGFkZGluZztcbiAgICAgICAgaWYgKHBhZGRpbmcpIHtcbiAgICAgICAgICAgIHNpemUgPSBbXG4gICAgICAgICAgICAgICAgc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLFxuICAgICAgICAgICAgICAgIHNpemVbMV0gLSBwYWRkaW5nWzBdIC0gcGFkZGluZ1syXSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtTdGF0ZX0gVmlldyBzdGF0ZS5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0UmVzb2x1dGlvbigpKTtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgICAgICB2YXIgY2VudGVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi8gKHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSk7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5wYWRkaW5nO1xuICAgICAgICBpZiAocGFkZGluZykge1xuICAgICAgICAgICAgdmFyIHJlZHVjZWRTaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgICAgICAgICBjZW50ZXIgPSBjYWxjdWxhdGVDZW50ZXJPbihjZW50ZXIsIHRoaXMuZ2V0Vmlld3BvcnRTaXplXygpLCBbcmVkdWNlZFNpemVbMF0gLyAyICsgcGFkZGluZ1szXSwgcmVkdWNlZFNpemVbMV0gLyAyICsgcGFkZGluZ1swXV0sIHJlc29sdXRpb24sIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2VudGVyOiBjZW50ZXIuc2xpY2UoMCksXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uICE9PSB1bmRlZmluZWQgPyBwcm9qZWN0aW9uIDogbnVsbCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb24sXG4gICAgICAgICAgICB6b29tOiB0aGlzLmdldFpvb20oKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB6b29tIGxldmVsLiBUaGlzIG1ldGhvZCBtYXkgcmV0dXJuIG5vbi1pbnRlZ2VyIHpvb20gbGV2ZWxzXG4gICAgICogaWYgdGhlIHZpZXcgZG9lcyBub3QgY29uc3RyYWluIHRoZSByZXNvbHV0aW9uLCBvciBpZiBhbiBpbnRlcmFjdGlvbiBvclxuICAgICAqIGFuaW1hdGlvbiBpcyB1bmRlcndheS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBab29tLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRab29tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgem9vbTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgem9vbSA9IHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHpvb207XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHpvb20gbGV2ZWwgZm9yIGEgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBUaGUgem9vbSBsZXZlbCBmb3IgdGhlIHByb3ZpZGVkIHJlc29sdXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFpvb21Gb3JSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMubWluWm9vbV8gfHwgMDtcbiAgICAgICAgdmFyIG1heCwgem9vbUZhY3RvcjtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfKSB7XG4gICAgICAgICAgICB2YXIgbmVhcmVzdCA9IGxpbmVhckZpbmROZWFyZXN0KHRoaXMucmVzb2x1dGlvbnNfLCByZXNvbHV0aW9uLCAxKTtcbiAgICAgICAgICAgIG9mZnNldCA9IG5lYXJlc3Q7XG4gICAgICAgICAgICBtYXggPSB0aGlzLnJlc29sdXRpb25zX1tuZWFyZXN0XTtcbiAgICAgICAgICAgIGlmIChuZWFyZXN0ID09IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB6b29tRmFjdG9yID0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSBtYXggLyB0aGlzLnJlc29sdXRpb25zX1tuZWFyZXN0ICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXggPSB0aGlzLm1heFJlc29sdXRpb25fO1xuICAgICAgICAgICAgem9vbUZhY3RvciA9IHRoaXMuem9vbUZhY3Rvcl87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9mZnNldCArIE1hdGgubG9nKG1heCAvIHJlc29sdXRpb24pIC8gTWF0aC5sb2coem9vbUZhY3Rvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlc29sdXRpb24gZm9yIGEgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHZpZXcgcmVzb2x1dGlvbiBmb3IgdGhlIHByb3ZpZGVkIHpvb20gbGV2ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3Jab29tID0gZnVuY3Rpb24gKHpvb20pIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBiYXNlTGV2ZWwgPSBjbGFtcChNYXRoLmZsb29yKHpvb20pLCAwLCB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggLSAyKTtcbiAgICAgICAgICAgIHZhciB6b29tRmFjdG9yID0gdGhpcy5yZXNvbHV0aW9uc19bYmFzZUxldmVsXSAvIHRoaXMucmVzb2x1dGlvbnNfW2Jhc2VMZXZlbCArIDFdO1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWxdIC9cbiAgICAgICAgICAgICAgICBNYXRoLnBvdyh6b29tRmFjdG9yLCBjbGFtcCh6b29tIC0gYmFzZUxldmVsLCAwLCAxKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLm1heFJlc29sdXRpb25fIC8gTWF0aC5wb3codGhpcy56b29tRmFjdG9yXywgem9vbSAtIHRoaXMubWluWm9vbV8pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRml0IHRoZSBnaXZlbiBnZW9tZXRyeSBvciBleHRlbnQgYmFzZWQgb24gdGhlIGdpdmVuIG1hcCBzaXplIGFuZCBib3JkZXIuXG4gICAgICogVGhlIHNpemUgaXMgcGl4ZWwgZGltZW5zaW9ucyBvZiB0aGUgYm94IHRvIGZpdCB0aGUgZXh0ZW50IGludG8uXG4gICAgICogSW4gbW9zdCBjYXNlcyB5b3Ugd2lsbCB3YW50IHRvIHVzZSB0aGUgbWFwIHNpemUsIHRoYXQgaXMgYG1hcC5nZXRTaXplKClgLlxuICAgICAqIFRha2VzIGNhcmUgb2YgdGhlIG1hcCBhbmdsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZ2VvbWV0cnlPckV4dGVudCBUaGUgZ2VvbWV0cnkgb3JcbiAgICAgKiAgICAgZXh0ZW50IHRvIGZpdCB0aGUgdmlldyB0by5cbiAgICAgKiBAcGFyYW0ge0ZpdE9wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAoZ2VvbWV0cnlPckV4dGVudCwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi9cbiAgICAgICAgdmFyIGdlb21ldHJ5O1xuICAgICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSB8fFxuICAgICAgICAgICAgdHlwZW9mICggLyoqIEB0eXBlIHs/fSAqLyhnZW9tZXRyeU9yRXh0ZW50KS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkpID09PVxuICAgICAgICAgICAgICAgICdmdW5jdGlvbicsIDI0KTsgLy8gSW52YWxpZCBleHRlbnQgb3IgZ2VvbWV0cnkgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YFxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSkge1xuICAgICAgICAgICAgYXNzZXJ0KCFpc0VtcHR5KGdlb21ldHJ5T3JFeHRlbnQpLCAyNSk7IC8vIENhbm5vdCBmaXQgZW1wdHkgZXh0ZW50IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBmcm9tVXNlckV4dGVudChnZW9tZXRyeU9yRXh0ZW50LCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHBvbHlnb25Gcm9tRXh0ZW50KGV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnlPckV4dGVudC5nZXRUeXBlKCkgPT09IEdlb21ldHJ5VHlwZS5DSVJDTEUpIHtcbiAgICAgICAgICAgIHZhciBleHRlbnQgPSBmcm9tVXNlckV4dGVudChnZW9tZXRyeU9yRXh0ZW50LmdldEV4dGVudCgpLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHBvbHlnb25Gcm9tRXh0ZW50KGV4dGVudCk7XG4gICAgICAgICAgICBnZW9tZXRyeS5yb3RhdGUodGhpcy5nZXRSb3RhdGlvbigpLCBnZXRDZW50ZXIoZXh0ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdXNlclByb2plY3Rpb24gPSBnZXRVc2VyUHJvamVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHVzZXJQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnlPckV4dGVudFxuICAgICAgICAgICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgICAgICAgICAudHJhbnNmb3JtKHVzZXJQcm9qZWN0aW9uLCB0aGlzLmdldFByb2plY3Rpb24oKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeU9yRXh0ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZml0SW50ZXJuYWwoZ2VvbWV0cnksIG9wdF9vcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge0ZpdE9wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmZpdEludGVybmFsID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgc2l6ZSA9IG9wdGlvbnMuc2l6ZTtcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFkZGluZyA6IFswLCAwLCAwLCAwXTtcbiAgICAgICAgdmFyIG5lYXJlc3QgPSBvcHRpb25zLm5lYXJlc3QgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubmVhcmVzdCA6IGZhbHNlO1xuICAgICAgICB2YXIgbWluUmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKG9wdGlvbnMubWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbShvcHRpb25zLm1heFpvb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWluUmVzb2x1dGlvbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAvLyBjYWxjdWxhdGUgcm90YXRlZCBleHRlbnRcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgICAgICB2YXIgY29zQW5nbGUgPSBNYXRoLmNvcygtcm90YXRpb24pO1xuICAgICAgICB2YXIgc2luQW5nbGUgPSBNYXRoLnNpbigtcm90YXRpb24pO1xuICAgICAgICB2YXIgbWluUm90WCA9ICtJbmZpbml0eTtcbiAgICAgICAgdmFyIG1pblJvdFkgPSArSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhSb3RYID0gLUluZmluaXR5O1xuICAgICAgICB2YXIgbWF4Um90WSA9IC1JbmZpbml0eTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjb29yZHMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICB2YXIgcm90WCA9IGNvb3Jkc1tpXSAqIGNvc0FuZ2xlIC0gY29vcmRzW2kgKyAxXSAqIHNpbkFuZ2xlO1xuICAgICAgICAgICAgdmFyIHJvdFkgPSBjb29yZHNbaV0gKiBzaW5BbmdsZSArIGNvb3Jkc1tpICsgMV0gKiBjb3NBbmdsZTtcbiAgICAgICAgICAgIG1pblJvdFggPSBNYXRoLm1pbihtaW5Sb3RYLCByb3RYKTtcbiAgICAgICAgICAgIG1pblJvdFkgPSBNYXRoLm1pbihtaW5Sb3RZLCByb3RZKTtcbiAgICAgICAgICAgIG1heFJvdFggPSBNYXRoLm1heChtYXhSb3RYLCByb3RYKTtcbiAgICAgICAgICAgIG1heFJvdFkgPSBNYXRoLm1heChtYXhSb3RZLCByb3RZKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxjdWxhdGUgcmVzb2x1dGlvblxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsKFttaW5Sb3RYLCBtaW5Sb3RZLCBtYXhSb3RYLCBtYXhSb3RZXSwgW3NpemVbMF0gLSBwYWRkaW5nWzFdIC0gcGFkZGluZ1szXSwgc2l6ZVsxXSAtIHBhZGRpbmdbMF0gLSBwYWRkaW5nWzJdXSk7XG4gICAgICAgIHJlc29sdXRpb24gPSBpc05hTihyZXNvbHV0aW9uKVxuICAgICAgICAgICAgPyBtaW5SZXNvbHV0aW9uXG4gICAgICAgICAgICA6IE1hdGgubWF4KHJlc29sdXRpb24sIG1pblJlc29sdXRpb24pO1xuICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgbmVhcmVzdCA/IDAgOiAxKTtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGNlbnRlclxuICAgICAgICBzaW5BbmdsZSA9IC1zaW5BbmdsZTsgLy8gZ28gYmFjayB0byBvcmlnaW5hbCByb3RhdGlvblxuICAgICAgICB2YXIgY2VudGVyUm90WCA9IChtaW5Sb3RYICsgbWF4Um90WCkgLyAyO1xuICAgICAgICB2YXIgY2VudGVyUm90WSA9IChtaW5Sb3RZICsgbWF4Um90WSkgLyAyO1xuICAgICAgICBjZW50ZXJSb3RYICs9ICgocGFkZGluZ1sxXSAtIHBhZGRpbmdbM10pIC8gMikgKiByZXNvbHV0aW9uO1xuICAgICAgICBjZW50ZXJSb3RZICs9ICgocGFkZGluZ1swXSAtIHBhZGRpbmdbMl0pIC8gMikgKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgY2VudGVyWCA9IGNlbnRlclJvdFggKiBjb3NBbmdsZSAtIGNlbnRlclJvdFkgKiBzaW5BbmdsZTtcbiAgICAgICAgdmFyIGNlbnRlclkgPSBjZW50ZXJSb3RZICogY29zQW5nbGUgKyBjZW50ZXJSb3RYICogc2luQW5nbGU7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENvbnN0cmFpbmVkQ2VudGVyKFtjZW50ZXJYLCBjZW50ZXJZXSwgcmVzb2x1dGlvbik7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgPyBvcHRpb25zLmNhbGxiYWNrIDogVk9JRDtcbiAgICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlSW50ZXJuYWwoe1xuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcbiAgICAgICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gY2VudGVyO1xuICAgICAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXyhmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENlbnRlciBvbiBjb29yZGluYXRlIGFuZCB2aWV3IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIEJveCBwaXhlbCBzaXplLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcG9zaXRpb24gUG9zaXRpb24gb24gdGhlIHZpZXcgdG8gY2VudGVyIG9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5jZW50ZXJPbiA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCBzaXplLCBwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmNlbnRlck9uSW50ZXJuYWwoZnJvbVVzZXJDb29yZGluYXRlKGNvb3JkaW5hdGUsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSwgc2l6ZSwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQm94IHBpeGVsIHNpemUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuY2VudGVyT25JbnRlcm5hbCA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCBzaXplLCBwb3NpdGlvbikge1xuICAgICAgICB0aGlzLnNldENlbnRlckludGVybmFsKGNhbGN1bGF0ZUNlbnRlck9uKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uLCB0aGlzLmdldFJlc29sdXRpb24oKSwgdGhpcy5nZXRSb3RhdGlvbigpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBzaGlmdCBiZXR3ZWVuIG1hcCBhbmQgdmlld3BvcnQgY2VudGVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfSBDZW50ZXIgc2hpZnQuXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuY2FsY3VsYXRlQ2VudGVyU2hpZnQgPSBmdW5jdGlvbiAoY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgc2l6ZSkge1xuICAgICAgICB2YXIgY2VudGVyU2hpZnQ7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5wYWRkaW5nO1xuICAgICAgICBpZiAocGFkZGluZyAmJiBjZW50ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWR1Y2VkU2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygtcm90YXRpb24pO1xuICAgICAgICAgICAgdmFyIHNoaWZ0ZWRDZW50ZXIgPSBjYWxjdWxhdGVDZW50ZXJPbihjZW50ZXIsIHNpemUsIFtyZWR1Y2VkU2l6ZVswXSAvIDIgKyBwYWRkaW5nWzNdLCByZWR1Y2VkU2l6ZVsxXSAvIDIgKyBwYWRkaW5nWzBdXSwgcmVzb2x1dGlvbiwgcm90YXRpb24pO1xuICAgICAgICAgICAgY2VudGVyU2hpZnQgPSBbXG4gICAgICAgICAgICAgICAgY2VudGVyWzBdIC0gc2hpZnRlZENlbnRlclswXSxcbiAgICAgICAgICAgICAgICBjZW50ZXJbMV0gLSBzaGlmdGVkQ2VudGVyWzFdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2VudGVyU2hpZnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBkZWZpbmVkLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmlzRGVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldENlbnRlckludGVybmFsKCkgJiYgdGhpcy5nZXRSZXNvbHV0aW9uKCkgIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlldy4gQW55IGV4dGVudCBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGFDb29yZGluYXRlcyBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdENlbnRlciA9IGZ1bmN0aW9uIChkZWx0YUNvb3JkaW5hdGVzKSB7XG4gICAgICAgIHZhciBjZW50ZXIgPSB0b1VzZXJDb29yZGluYXRlKHRoaXMudGFyZ2V0Q2VudGVyXywgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgICB0aGlzLnNldENlbnRlcihbXG4gICAgICAgICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuIEFueSBleHRlbnQgY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGRlbHRhQ29vcmRpbmF0ZXMgUmVsYXRpdmUgdmFsdWUgdG8gYWRkLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdENlbnRlckludGVybmFsID0gZnVuY3Rpb24gKGRlbHRhQ29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IHRoaXMudGFyZ2V0Q2VudGVyXztcbiAgICAgICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChbXG4gICAgICAgICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGUgdmlldyByZXNvbHV0aW9uIGJ5IGEgcmF0aW8sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gVGhlIHJhdGlvIHRvIGFwcGx5IG9uIHRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdFJlc29sdXRpb24gPSBmdW5jdGlvbiAocmF0aW8sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IG9wdF9hbmNob3IgJiYgZnJvbVVzZXJDb29yZGluYXRlKG9wdF9hbmNob3IsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgdGhpcy5hZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwocmF0aW8sIGFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGUgdmlldyByZXNvbHV0aW9uIGJ5IGEgcmF0aW8sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gVGhlIHJhdGlvIHRvIGFwcGx5IG9uIHRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuYWRqdXN0UmVzb2x1dGlvbkludGVybmFsID0gZnVuY3Rpb24gKHJhdGlvLCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIHZhciBpc01vdmluZyA9IHRoaXMuZ2V0QW5pbWF0aW5nKCkgfHwgdGhpcy5nZXRJbnRlcmFjdGluZygpO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24odGhpcy50YXJnZXRSZXNvbHV0aW9uXyAqIHJhdGlvLCAwLCBzaXplLCBpc01vdmluZyk7XG4gICAgICAgIGlmIChvcHRfYW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSB0aGlzLmNhbGN1bGF0ZUNlbnRlclpvb20obmV3UmVzb2x1dGlvbiwgb3B0X2FuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyAqPSByYXRpbztcbiAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHZhbHVlIHRvIHRoZSB2aWV3IHpvb20gbGV2ZWwsIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgUmVsYXRpdmUgdmFsdWUgdG8gYWRkIHRvIHRoZSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfYW5jaG9yIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hZGp1c3Rab29tID0gZnVuY3Rpb24gKGRlbHRhLCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIHRoaXMuYWRqdXN0UmVzb2x1dGlvbihNYXRoLnBvdyh0aGlzLnpvb21GYWN0b3JfLCAtZGVsdGEpLCBvcHRfYW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSB2YWx1ZSB0byB0aGUgdmlldyByb3RhdGlvbiwgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByb3RhdGlvblxuICAgICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgUmVsYXRpdmUgdmFsdWUgdG8gYWRkIHRvIHRoZSB6b29tIHJvdGF0aW9uLCBpbiByYWRpYW5zLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU9fSBvcHRfYW5jaG9yIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdFJvdGF0aW9uID0gZnVuY3Rpb24gKGRlbHRhLCBvcHRfYW5jaG9yKSB7XG4gICAgICAgIGlmIChvcHRfYW5jaG9yKSB7XG4gICAgICAgICAgICBvcHRfYW5jaG9yID0gZnJvbVVzZXJDb29yZGluYXRlKG9wdF9hbmNob3IsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkanVzdFJvdGF0aW9uSW50ZXJuYWwoZGVsdGEsIG9wdF9hbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFJlbGF0aXZlIHZhbHVlIHRvIGFkZCB0byB0aGUgem9vbSByb3RhdGlvbiwgaW4gcmFkaWFucy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmFkanVzdFJvdGF0aW9uSW50ZXJuYWwgPSBmdW5jdGlvbiAoZGVsdGEsIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGlzTW92aW5nID0gdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCk7XG4gICAgICAgIHZhciBuZXdSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKHRoaXMudGFyZ2V0Um90YXRpb25fICsgZGVsdGEsIGlzTW92aW5nKTtcbiAgICAgICAgaWYgKG9wdF9hbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyUm90YXRlKG5ld1JvdGF0aW9uLCBvcHRfYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldFJvdGF0aW9uXyArPSBkZWx0YTtcbiAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjZW50ZXIgb2YgdGhlIGN1cnJlbnQgdmlldy4gQW55IGV4dGVudCBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldENlbnRlciA9IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChmcm9tVXNlckNvb3JkaW5hdGUoY2VudGVyLCB0aGlzLmdldFByb2plY3Rpb24oKSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjZW50ZXIgdXNpbmcgdGhlIHZpZXcgcHJvamVjdGlvbiAobm90IHRoZSB1c2VyIHByb2plY3Rpb24pLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBjZW50ZXIgVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRDZW50ZXJJbnRlcm5hbCA9IGZ1bmN0aW9uIChjZW50ZXIpIHtcbiAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gY2VudGVyO1xuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVmlld0hpbnQuanNcIikuZGVmYXVsdH0gaGludCBIaW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE5ldyB2YWx1ZS5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRIaW50ID0gZnVuY3Rpb24gKGhpbnQsIGRlbHRhKSB7XG4gICAgICAgIHRoaXMuaGludHNfW2hpbnRdICs9IGRlbHRhO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGludHNfW2hpbnRdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByZXNvbHV0aW9uIGZvciB0aGlzIHZpZXcuIEFueSByZXNvbHV0aW9uIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gVGhlIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJvdGF0aW9uIGZvciB0aGlzIHZpZXcuIEFueSByb3RhdGlvbiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBpbiByYWRpYW5zLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gKHJvdGF0aW9uKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFpvb20gdG8gYSBzcGVjaWZpYyB6b29tIGxldmVsLiBBbnkgcmVzb2x1dGlvbiBjb25zdHJhaW4gd2lsbCBhcHBseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5zZXRab29tID0gZnVuY3Rpb24gKHpvb20pIHtcbiAgICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20oem9vbSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVjb21wdXRlIHJvdGF0aW9uL3Jlc29sdXRpb24vY2VudGVyIGJhc2VkIG9uIHRhcmdldCB2YWx1ZXMuXG4gICAgICogTm90ZTogd2UgaGF2ZSB0byBjb21wdXRlIHJvdGF0aW9uIGZpcnN0LCB0aGVuIHJlc29sdXRpb24gYW5kIGNlbnRlciBjb25zaWRlcmluZyB0aGF0XG4gICAgICogcGFyYW1ldGVycyBjYW4gaW5mbHVlbmNlIG9uZSBhbm90aGVyIGluIGNhc2UgYSB2aWV3IGV4dGVudCBjb25zdHJhaW50IGlzIHByZXNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2RvTm90Q2FuY2VsQW5pbXMgRG8gbm90IGNhbmNlbCBhbmltYXRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9mb3JjZU1vdmluZyBBcHBseSBjb25zdHJhaW50cyBhcyBpZiB0aGUgdmlldyBpcyBtb3ZpbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5hcHBseVRhcmdldFN0YXRlXyA9IGZ1bmN0aW9uIChvcHRfZG9Ob3RDYW5jZWxBbmltcywgb3B0X2ZvcmNlTW92aW5nKSB7XG4gICAgICAgIHZhciBpc01vdmluZyA9IHRoaXMuZ2V0QW5pbWF0aW5nKCkgfHwgdGhpcy5nZXRJbnRlcmFjdGluZygpIHx8IG9wdF9mb3JjZU1vdmluZztcbiAgICAgICAgLy8gY29tcHV0ZSByb3RhdGlvblxuICAgICAgICB2YXIgbmV3Um90YXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yb3RhdGlvbih0aGlzLnRhcmdldFJvdGF0aW9uXywgaXNNb3ZpbmcpO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyhuZXdSb3RhdGlvbik7XG4gICAgICAgIHZhciBuZXdSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0aGlzLnRhcmdldFJlc29sdXRpb25fLCAwLCBzaXplLCBpc01vdmluZyk7XG4gICAgICAgIHZhciBuZXdDZW50ZXIgPSB0aGlzLmNvbnN0cmFpbnRzXy5jZW50ZXIodGhpcy50YXJnZXRDZW50ZXJfLCBuZXdSZXNvbHV0aW9uLCBzaXplLCBpc01vdmluZywgdGhpcy5jYWxjdWxhdGVDZW50ZXJTaGlmdCh0aGlzLnRhcmdldENlbnRlcl8sIG5ld1Jlc29sdXRpb24sIG5ld1JvdGF0aW9uLCBzaXplKSk7XG4gICAgICAgIGlmICh0aGlzLmdldChWaWV3UHJvcGVydHkuUk9UQVRJT04pICE9PSBuZXdSb3RhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OLCBuZXdSb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OKSAhPT0gbmV3UmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LlJFU09MVVRJT04sIG5ld1Jlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUikgfHxcbiAgICAgICAgICAgICFlcXVhbHModGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUiksIG5ld0NlbnRlcikpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIsIG5ld0NlbnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkgJiYgIW9wdF9kb05vdENhbmNlbEFuaW1zKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBhbnkgY29uc3RyYWludHMgbmVlZCB0byBiZSBhcHBsaWVkLCBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAgICogVGhpcyBpcyB0eXBpY2FsbHkgZG9uZSBvbiBpbnRlcmFjdGlvbiBlbmQuXG4gICAgICogTm90ZTogY2FsbGluZyB0aGlzIHdpdGggYSBkdXJhdGlvbiBvZiAwIHdpbGwgYXBwbHkgdGhlIGNvbnN0cmFpbmVkIHZhbHVlcyBzdHJhaWdodCBhd2F5LFxuICAgICAqIHdpdGhvdXQgYW5pbWF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2R1cmF0aW9uIFRoZSBhbmltYXRpb24gZHVyYXRpb24gaW4gbXMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiBXaGljaCBkaXJlY3Rpb24gdG8gem9vbS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5yZXNvbHZlQ29uc3RyYWludHMgPSBmdW5jdGlvbiAob3B0X2R1cmF0aW9uLCBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiwgb3B0X2FuY2hvcikge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBvcHRfZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdF9kdXJhdGlvbiA6IDIwMDtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG9wdF9yZXNvbHV0aW9uRGlyZWN0aW9uIHx8IDA7XG4gICAgICAgIHZhciBuZXdSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKHRoaXMudGFyZ2V0Um90YXRpb25fKTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgICAgICB2YXIgbmV3UmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24odGhpcy50YXJnZXRSZXNvbHV0aW9uXywgZGlyZWN0aW9uLCBzaXplKTtcbiAgICAgICAgdmFyIG5ld0NlbnRlciA9IHRoaXMuY29uc3RyYWludHNfLmNlbnRlcih0aGlzLnRhcmdldENlbnRlcl8sIG5ld1Jlc29sdXRpb24sIHNpemUsIGZhbHNlLCB0aGlzLmNhbGN1bGF0ZUNlbnRlclNoaWZ0KHRoaXMudGFyZ2V0Q2VudGVyXywgbmV3UmVzb2x1dGlvbiwgbmV3Um90YXRpb24sIHNpemUpKTtcbiAgICAgICAgaWYgKGR1cmF0aW9uID09PSAwICYmICF0aGlzLmNhbmNlbEFuY2hvcl8pIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gPSBuZXdSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSBuZXdSb3RhdGlvbjtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IG5ld0NlbnRlcjtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5jaG9yID0gb3B0X2FuY2hvciB8fCAoZHVyYXRpb24gPT09IDAgPyB0aGlzLmNhbmNlbEFuY2hvcl8gOiB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmdldFJlc29sdXRpb24oKSAhPT0gbmV3UmVzb2x1dGlvbiB8fFxuICAgICAgICAgICAgdGhpcy5nZXRSb3RhdGlvbigpICE9PSBuZXdSb3RhdGlvbiB8fFxuICAgICAgICAgICAgIXRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSB8fFxuICAgICAgICAgICAgIWVxdWFscyh0aGlzLmdldENlbnRlckludGVybmFsKCksIG5ld0NlbnRlcikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgICAgICAgcm90YXRpb246IG5ld1JvdGF0aW9uLFxuICAgICAgICAgICAgICAgIGNlbnRlcjogbmV3Q2VudGVyLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIFZpZXcgdGhhdCBhbiBpbnRlcmFjdGlvbiBoYXMgc3RhcnRlZC5cbiAgICAgKiBUaGUgdmlldyBzdGF0ZSB3aWxsIGJlIHJlc29sdmVkIHRvIGEgc3RhYmxlIG9uZSBpZiBuZWVkZWRcbiAgICAgKiAoZGVwZW5kaW5nIG9uIGl0cyBjb25zdHJhaW50cykuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmJlZ2luSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBWaWV3IHRoYXQgYW4gaW50ZXJhY3Rpb24gaGFzIGVuZGVkLiBUaGUgdmlldyBzdGF0ZSB3aWxsIGJlIHJlc29sdmVkXG4gICAgICogdG8gYSBzdGFibGUgb25lIGlmIG5lZWRlZCAoZGVwZW5kaW5nIG9uIGl0cyBjb25zdHJhaW50cykuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZHVyYXRpb24gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24gV2hpY2ggZGlyZWN0aW9uIHRvIHpvb20uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT19IG9wdF9hbmNob3IgVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmVuZEludGVyYWN0aW9uID0gZnVuY3Rpb24gKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IG9wdF9hbmNob3IgJiYgZnJvbVVzZXJDb29yZGluYXRlKG9wdF9hbmNob3IsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgdGhpcy5lbmRJbnRlcmFjdGlvbkludGVybmFsKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhlIFZpZXcgdGhhdCBhbiBpbnRlcmFjdGlvbiBoYXMgZW5kZWQuIFRoZSB2aWV3IHN0YXRlIHdpbGwgYmUgcmVzb2x2ZWRcbiAgICAgKiB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9kdXJhdGlvbiBBbmltYXRpb24gZHVyYXRpb24gaW4gbXMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfcmVzb2x1dGlvbkRpcmVjdGlvbiBXaGljaCBkaXJlY3Rpb24gdG8gem9vbS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPX0gb3B0X2FuY2hvciBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5lbmRJbnRlcmFjdGlvbkludGVybmFsID0gZnVuY3Rpb24gKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpIHtcbiAgICAgICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LklOVEVSQUNUSU5HLCAtMSk7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKG9wdF9kdXJhdGlvbiwgb3B0X3Jlc29sdXRpb25EaXJlY3Rpb24sIG9wdF9hbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgdmFsaWQgcG9zaXRpb24gZm9yIHRoZSB2aWV3IGNlbnRlciBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgY29uc3RyYWludHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IHRhcmdldENlbnRlciBUYXJnZXQgY2VudGVyIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3RhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uIElmIG5vdCBzdXBwbGllZCwgdGhlIGN1cnJlbnQgb25lIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBndWVzcyBhIHZhbGlkIGNlbnRlciBwb3NpdGlvbiBhdCBhIGRpZmZlcmVudCB6b29tIGxldmVsLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVmFsaWQgY2VudGVyIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIFZpZXcucHJvdG90eXBlLmdldENvbnN0cmFpbmVkQ2VudGVyID0gZnVuY3Rpb24gKHRhcmdldENlbnRlciwgb3B0X3RhcmdldFJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludHNfLmNlbnRlcih0YXJnZXRDZW50ZXIsIG9wdF90YXJnZXRSZXNvbHV0aW9uIHx8IHRoaXMuZ2V0UmVzb2x1dGlvbigpLCBzaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHZhbGlkIHpvb20gbGV2ZWwgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHZpZXcgY29uc3RyYWludHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB0YXJnZXRab29tIFRhcmdldCB6b29tLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW29wdF9kaXJlY3Rpb249MF0gSW5kaWNhdGUgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAgICAgKiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgem9vbSBsZXZlbC5cbiAgICAgKi9cbiAgICBWaWV3LnByb3RvdHlwZS5nZXRDb25zdHJhaW5lZFpvb20gPSBmdW5jdGlvbiAodGFyZ2V0Wm9vbSwgb3B0X2RpcmVjdGlvbikge1xuICAgICAgICB2YXIgdGFyZ2V0UmVzID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh0YXJnZXRab29tKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24odGFyZ2V0UmVzLCBvcHRfZGlyZWN0aW9uKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSB2YWxpZCByZXNvbHV0aW9uIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB2aWV3IGNvbnN0cmFpbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IFtvcHRfZGlyZWN0aW9uPTBdIEluZGljYXRlIHdoaWNoIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBieSBhIHJlbmRlcmVyIGlmIHRoZSB2aWV3IHJlc29sdXRpb24gZG9lcyBub3QgbWF0Y2ggYW55IHJlc29sdXRpb24gb2YgdGhlIHRpbGUgc291cmNlLlxuICAgICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAgICogd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlIG5lYXJlc3QgaGlnaGVyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFZhbGlkIHJlc29sdXRpb24uXG4gICAgICovXG4gICAgVmlldy5wcm90b3R5cGUuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHRhcmdldFJlc29sdXRpb24sIG9wdF9kaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG9wdF9kaXJlY3Rpb24gfHwgMDtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24odGFyZ2V0UmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplKTtcbiAgICB9O1xuICAgIHJldHVybiBWaWV3O1xufShCYXNlT2JqZWN0KSk7XG4vKipcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHBhcmFtIHsqfSByZXR1cm5WYWx1ZSBSZXR1cm4gdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCByZXR1cm5WYWx1ZSkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhyZXR1cm5WYWx1ZSk7XG4gICAgfSwgMCk7XG59XG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jZW50ZXJjb25zdHJhaW50LmpzXCIpLlR5cGV9IFRoZSBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2VudGVyQ29uc3RyYWludChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHNtb290aCA9IG9wdGlvbnMuc21vb3RoRXh0ZW50Q29uc3RyYWludCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuc21vb3RoRXh0ZW50Q29uc3RyYWludFxuICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICByZXR1cm4gY3JlYXRlRXh0ZW50KG9wdGlvbnMuZXh0ZW50LCBvcHRpb25zLmNvbnN0cmFpbk9ubHlDZW50ZXIsIHNtb290aCk7XG4gICAgfVxuICAgIHZhciBwcm9qZWN0aW9uID0gY3JlYXRlUHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24sICdFUFNHOjM4NTcnKTtcbiAgICBpZiAob3B0aW9ucy5tdWx0aVdvcmxkICE9PSB0cnVlICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgICAgICB2YXIgZXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKS5zbGljZSgpO1xuICAgICAgICBleHRlbnRbMF0gPSAtSW5maW5pdHk7XG4gICAgICAgIGV4dGVudFsyXSA9IEluZmluaXR5O1xuICAgICAgICByZXR1cm4gY3JlYXRlRXh0ZW50KGV4dGVudCwgZmFsc2UsIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbnRlck5vbmU7XG59XG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7e2NvbnN0cmFpbnQ6IGltcG9ydChcIi4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZSwgbWF4UmVzb2x1dGlvbjogbnVtYmVyLFxuICogICAgIG1pblJlc29sdXRpb246IG51bWJlciwgbWluWm9vbTogbnVtYmVyLCB6b29tRmFjdG9yOiBudW1iZXJ9fSBUaGUgY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlc29sdXRpb25Db25zdHJhaW50KG9wdGlvbnMpIHtcbiAgICB2YXIgcmVzb2x1dGlvbkNvbnN0cmFpbnQ7XG4gICAgdmFyIG1heFJlc29sdXRpb247XG4gICAgdmFyIG1pblJlc29sdXRpb247XG4gICAgLy8gVE9ETzogbW92ZSB0aGVzZSB0byBiZSBvbCBjb25zdGFudHNcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL29wZW5sYXllcnMvb3BlbmxheWVycy9pc3N1ZXMvMjA3NlxuICAgIHZhciBkZWZhdWx0TWF4Wm9vbSA9IDI4O1xuICAgIHZhciBkZWZhdWx0Wm9vbUZhY3RvciA9IDI7XG4gICAgdmFyIG1pblpvb20gPSBvcHRpb25zLm1pblpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluWm9vbSA6IERFRkFVTFRfTUlOX1pPT007XG4gICAgdmFyIG1heFpvb20gPSBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IGRlZmF1bHRNYXhab29tO1xuICAgIHZhciB6b29tRmFjdG9yID0gb3B0aW9ucy56b29tRmFjdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21GYWN0b3IgOiBkZWZhdWx0Wm9vbUZhY3RvcjtcbiAgICB2YXIgbXVsdGlXb3JsZCA9IG9wdGlvbnMubXVsdGlXb3JsZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tdWx0aVdvcmxkIDogZmFsc2U7XG4gICAgdmFyIHNtb290aCA9IG9wdGlvbnMuc21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuc21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnRcbiAgICAgICAgOiB0cnVlO1xuICAgIHZhciBzaG93RnVsbEV4dGVudCA9IG9wdGlvbnMuc2hvd0Z1bGxFeHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2hvd0Z1bGxFeHRlbnQgOiBmYWxzZTtcbiAgICB2YXIgcHJvamVjdGlvbiA9IGNyZWF0ZVByb2plY3Rpb24ob3B0aW9ucy5wcm9qZWN0aW9uLCAnRVBTRzozODU3Jyk7XG4gICAgdmFyIHByb2pFeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgIHZhciBjb25zdHJhaW5Pbmx5Q2VudGVyID0gb3B0aW9ucy5jb25zdHJhaW5Pbmx5Q2VudGVyO1xuICAgIHZhciBleHRlbnQgPSBvcHRpb25zLmV4dGVudDtcbiAgICBpZiAoIW11bHRpV29ybGQgJiYgIWV4dGVudCAmJiBwcm9qZWN0aW9uLmlzR2xvYmFsKCkpIHtcbiAgICAgICAgY29uc3RyYWluT25seUNlbnRlciA9IGZhbHNlO1xuICAgICAgICBleHRlbnQgPSBwcm9qRXh0ZW50O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciByZXNvbHV0aW9ucyA9IG9wdGlvbnMucmVzb2x1dGlvbnM7XG4gICAgICAgIG1heFJlc29sdXRpb24gPSByZXNvbHV0aW9uc1ttaW5ab29tXTtcbiAgICAgICAgbWluUmVzb2x1dGlvbiA9XG4gICAgICAgICAgICByZXNvbHV0aW9uc1ttYXhab29tXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyByZXNvbHV0aW9uc1ttYXhab29tXVxuICAgICAgICAgICAgICAgIDogcmVzb2x1dGlvbnNbcmVzb2x1dGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMocmVzb2x1dGlvbnMsIHNtb290aCwgIWNvbnN0cmFpbk9ubHlDZW50ZXIgJiYgZXh0ZW50LCBzaG93RnVsbEV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uQ29uc3RyYWludCA9IGNyZWF0ZU1pbk1heFJlc29sdXRpb24obWF4UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgc21vb3RoLCAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsIHNob3dGdWxsRXh0ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBkZWZhdWx0IG1pbiBhbmQgbWF4IHJlc29sdXRpb25cbiAgICAgICAgdmFyIHNpemUgPSAhcHJvakV4dGVudFxuICAgICAgICAgICAgPyAvLyB1c2UgYW4gZXh0ZW50IHRoYXQgY2FuIGZpdCB0aGUgd2hvbGUgd29ybGQgaWYgbmVlZCBiZVxuICAgICAgICAgICAgICAgICgzNjAgKiBNRVRFUlNfUEVSX1VOSVRbVW5pdHMuREVHUkVFU10pIC8gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KClcbiAgICAgICAgICAgIDogTWF0aC5tYXgoZ2V0V2lkdGgocHJvakV4dGVudCksIGdldEhlaWdodChwcm9qRXh0ZW50KSk7XG4gICAgICAgIHZhciBkZWZhdWx0TWF4UmVzb2x1dGlvbiA9IHNpemUgLyBERUZBVUxUX1RJTEVfU0laRSAvIE1hdGgucG93KGRlZmF1bHRab29tRmFjdG9yLCBERUZBVUxUX01JTl9aT09NKTtcbiAgICAgICAgdmFyIGRlZmF1bHRNaW5SZXNvbHV0aW9uID0gZGVmYXVsdE1heFJlc29sdXRpb24gL1xuICAgICAgICAgICAgTWF0aC5wb3coZGVmYXVsdFpvb21GYWN0b3IsIGRlZmF1bHRNYXhab29tIC0gREVGQVVMVF9NSU5fWk9PTSk7XG4gICAgICAgIC8vIHVzZXIgcHJvdmlkZWQgbWF4UmVzb2x1dGlvbiB0YWtlcyBwcmVjZWRlbmNlXG4gICAgICAgIG1heFJlc29sdXRpb24gPSBvcHRpb25zLm1heFJlc29sdXRpb247XG4gICAgICAgIGlmIChtYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1pblpvb20gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWF4UmVzb2x1dGlvbiA9IGRlZmF1bHRNYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWluWm9vbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXNlciBwcm92aWRlZCBtaW5SZXNvbHV0aW9uIHRha2VzIHByZWNlZGVuY2VcbiAgICAgICAgbWluUmVzb2x1dGlvbiA9IG9wdGlvbnMubWluUmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKG1pblJlc29sdXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pblJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWF4Wm9vbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gZGVmYXVsdE1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gZGVmYXVsdE1pblJlc29sdXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2l2ZW4gZGlzY3JldGUgem9vbSBsZXZlbHMsIG1pblJlc29sdXRpb24gbWF5IGJlIGRpZmZlcmVudCB0aGFuIHByb3ZpZGVkXG4gICAgICAgIG1heFpvb20gPVxuICAgICAgICAgICAgbWluWm9vbSArXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcihNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBNYXRoLmxvZyh6b29tRmFjdG9yKSk7XG4gICAgICAgIG1pblJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWF4Wm9vbSAtIG1pblpvb20pO1xuICAgICAgICBpZiAob3B0aW9ucy5jb25zdHJhaW5SZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uQ29uc3RyYWludCA9IGNyZWF0ZVNuYXBUb1Bvd2VyKHpvb21GYWN0b3IsIG1heFJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIHNtb290aCwgIWNvbnN0cmFpbk9ubHlDZW50ZXIgJiYgZXh0ZW50LCBzaG93RnVsbEV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uQ29uc3RyYWludCA9IGNyZWF0ZU1pbk1heFJlc29sdXRpb24obWF4UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgc21vb3RoLCAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsIHNob3dGdWxsRXh0ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb25zdHJhaW50OiByZXNvbHV0aW9uQ29uc3RyYWludCxcbiAgICAgICAgbWF4UmVzb2x1dGlvbjogbWF4UmVzb2x1dGlvbixcbiAgICAgICAgbWluUmVzb2x1dGlvbjogbWluUmVzb2x1dGlvbixcbiAgICAgICAgbWluWm9vbTogbWluWm9vbSxcbiAgICAgICAgem9vbUZhY3Rvcjogem9vbUZhY3RvcixcbiAgICB9O1xufVxuLyoqXG4gKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vcm90YXRpb25jb25zdHJhaW50LmpzXCIpLlR5cGV9IFJvdGF0aW9uIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSb3RhdGlvbkNvbnN0cmFpbnQob3B0aW9ucykge1xuICAgIHZhciBlbmFibGVSb3RhdGlvbiA9IG9wdGlvbnMuZW5hYmxlUm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZW5hYmxlUm90YXRpb24gOiB0cnVlO1xuICAgIGlmIChlbmFibGVSb3RhdGlvbikge1xuICAgICAgICB2YXIgY29uc3RyYWluUm90YXRpb24gPSBvcHRpb25zLmNvbnN0cmFpblJvdGF0aW9uO1xuICAgICAgICBpZiAoY29uc3RyYWluUm90YXRpb24gPT09IHVuZGVmaW5lZCB8fCBjb25zdHJhaW5Sb3RhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNuYXBUb1plcm8oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb25zdHJhaW5Sb3RhdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbk5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbnN0cmFpblJvdGF0aW9uID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNuYXBUb04oY29uc3RyYWluUm90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uTm9uZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRpc2FibGU7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYW4gYW5pbWF0aW9uIGludm9sdmVzIG5vIHZpZXcgY2hhbmdlLlxuICogQHBhcmFtIHtBbmltYXRpb259IGFuaW1hdGlvbiBUaGUgYW5pbWF0aW9uLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGFuaW1hdGlvbiBpbnZvbHZlcyBubyB2aWV3IGNoYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTm9vcEFuaW1hdGlvbihhbmltYXRpb24pIHtcbiAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlciAmJiBhbmltYXRpb24udGFyZ2V0Q2VudGVyKSB7XG4gICAgICAgIGlmICghY29vcmRpbmF0ZXNFcXVhbChhbmltYXRpb24uc291cmNlQ2VudGVyLCBhbmltYXRpb24udGFyZ2V0Q2VudGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiAhPT0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uICE9PSBhbmltYXRpb24udGFyZ2V0Um90YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcG9zaXRpb24gUG9zaXRpb24gb24gdGhlIHZpZXcgdG8gY2VudGVyIG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBTaGlmdGVkIGNlbnRlci5cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlQ2VudGVyT24oY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24sIHJlc29sdXRpb24sIHJvdGF0aW9uKSB7XG4gICAgLy8gY2FsY3VsYXRlIHJvdGF0ZWQgcG9zaXRpb25cbiAgICB2YXIgY29zQW5nbGUgPSBNYXRoLmNvcygtcm90YXRpb24pO1xuICAgIHZhciBzaW5BbmdsZSA9IE1hdGguc2luKC1yb3RhdGlvbik7XG4gICAgdmFyIHJvdFggPSBjb29yZGluYXRlWzBdICogY29zQW5nbGUgLSBjb29yZGluYXRlWzFdICogc2luQW5nbGU7XG4gICAgdmFyIHJvdFkgPSBjb29yZGluYXRlWzFdICogY29zQW5nbGUgKyBjb29yZGluYXRlWzBdICogc2luQW5nbGU7XG4gICAgcm90WCArPSAoc2l6ZVswXSAvIDIgLSBwb3NpdGlvblswXSkgKiByZXNvbHV0aW9uO1xuICAgIHJvdFkgKz0gKHBvc2l0aW9uWzFdIC0gc2l6ZVsxXSAvIDIpICogcmVzb2x1dGlvbjtcbiAgICAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIGFuZ2xlXG4gICAgc2luQW5nbGUgPSAtc2luQW5nbGU7IC8vIGdvIGJhY2sgdG8gb3JpZ2luYWwgcm90YXRpb25cbiAgICB2YXIgY2VudGVyWCA9IHJvdFggKiBjb3NBbmdsZSAtIHJvdFkgKiBzaW5BbmdsZTtcbiAgICB2YXIgY2VudGVyWSA9IHJvdFkgKiBjb3NBbmdsZSArIHJvdFggKiBzaW5BbmdsZTtcbiAgICByZXR1cm4gW2NlbnRlclgsIGNlbnRlclldO1xufVxuZXhwb3J0IGRlZmF1bHQgVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXcuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9QbHVnZ2FibGVNYXBcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QsIHsgZ2V0Q2hhbmdlRXZlbnRUeXBlIH0gZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTGF5ZXJHcm91cCBmcm9tICcuL2xheWVyL0dyb3VwLmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnQgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnQuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudEhhbmRsZXIgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnRIYW5kbGVyLmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwRXZlbnQgZnJvbSAnLi9NYXBFdmVudC5qcyc7XG5pbXBvcnQgTWFwRXZlbnRUeXBlIGZyb20gJy4vTWFwRXZlbnRUeXBlLmpzJztcbmltcG9ydCBNYXBQcm9wZXJ0eSBmcm9tICcuL01hcFByb3BlcnR5LmpzJztcbmltcG9ydCBPYmplY3RFdmVudFR5cGUgZnJvbSAnLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFBvaW50ZXJFdmVudFR5cGUgZnJvbSAnLi9wb2ludGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZVF1ZXVlLCB7IGdldFRpbGVQcmlvcml0eSB9IGZyb20gJy4vVGlsZVF1ZXVlLmpzJztcbmltcG9ydCBWaWV3IGZyb20gJy4vVmlldy5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi9WaWV3SGludC5qcyc7XG5pbXBvcnQgeyBERVZJQ0VfUElYRUxfUkFUSU8sIElNQUdFX0RFQ09ERSwgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMsIH0gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHsgVFJVRSB9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLCBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCB9IGZyb20gJy4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBjbG9uZSwgY3JlYXRlT3JVcGRhdGVFbXB0eSwgZXF1YWxzLCBnZXRGb3JWaWV3QW5kU2l6ZSwgaXNFbXB0eSwgfSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBmcm9tVXNlckNvb3JkaW5hdGUsIHRvVXNlckNvb3JkaW5hdGUgfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHsgaGFzQXJlYSB9IGZyb20gJy4vc2l6ZS5qcyc7XG5pbXBvcnQgeyBsaXN0ZW4sIHVubGlzdGVuQnlLZXkgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgeyByZW1vdmVOb2RlIH0gZnJvbSAnLi9kb20uanMnO1xuLyoqXG4gKiBTdGF0ZSBvZiB0aGUgY3VycmVudCBmcmFtZS4gT25seSBgcGl4ZWxSYXRpb2AsIGB0aW1lYCBhbmQgYHZpZXdTdGF0ZWAgc2hvdWxkXG4gKiBiZSB1c2VkIGluIGFwcGxpY2F0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZyYW1lU3RhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwaXhlbFJhdGlvIFRoZSBwaXhlbCByYXRpbyBvZiB0aGUgZnJhbWUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSBUaGUgdGltZSB3aGVuIHJlbmRlcmluZyBvZiB0aGUgZnJhbWUgd2FzIHJlcXVlc3RlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlN0YXRlfSB2aWV3U3RhdGUgVGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IHZpZXcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCJyYnVzaFwiKS5kZWZhdWx0fSBkZWNsdXR0ZXJUcmVlXG4gKiBAcHJvcGVydHkge251bGx8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmRleFxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlPn0gbGF5ZXJTdGF0ZXNBcnJheVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxheWVySW5kZXhcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybVxuICogQHByb3BlcnR5IHtBcnJheTxQb3N0UmVuZGVyRnVuY3Rpb24+fSBwb3N0UmVuZGVyRnVuY3Rpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplXG4gKiBAcHJvcGVydHkge1RpbGVRdWV1ZX0gdGlsZVF1ZXVlXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBib29sZWFuPj59IHVzZWRUaWxlc1xuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSB2aWV3SGludHNcbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gd2FudGVkVGlsZXNcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oUGx1Z2dhYmxlTWFwLCA/RnJhbWVTdGF0ZSk6IGFueX0gUG9zdFJlbmRlckZ1bmN0aW9uXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQXRQaXhlbE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7dW5kZWZpbmVkfGZ1bmN0aW9uKGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IFtsYXllckZpbHRlcl0gTGF5ZXIgZmlsdGVyXG4gKiBmdW5jdGlvbi4gVGhlIGZpbHRlciBmdW5jdGlvbiB3aWxsIHJlY2VpdmUgb25lIGFyZ3VtZW50LCB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXItY2FuZGlkYXRlfSBhbmQgaXQgc2hvdWxkIHJldHVybiBhIGJvb2xlYW4gdmFsdWUuXG4gKiBPbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWBcbiAqIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gQnkgZGVmYXVsdCwgYWxsIHZpc2libGUgbGF5ZXJzIHdpbGwgYmUgdGVzdGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoaXRUb2xlcmFuY2U9MF0gSGl0LWRldGVjdGlvbiB0b2xlcmFuY2UgaW4gY3NzIHBpeGVscy4gUGl4ZWxzXG4gKiBpbnNpZGUgdGhlIHJhZGl1cyBhcm91bmQgdGhlIGdpdmVuIHBvc2l0aW9uIHdpbGwgYmUgY2hlY2tlZCBmb3IgZmVhdHVyZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjaGVja1dyYXBwZWQ9dHJ1ZV0gQ2hlY2stV3JhcHBlZCBXaWxsIGNoZWNrIGZvciBmb3Igd3JhcHBlZCBnZW9tZXRyaWVzIGluc2lkZSB0aGUgcmFuZ2Ugb2ZcbiAqICAgKy8tIDEgd29ybGQgd2lkdGguIFdvcmtzIG9ubHkgaWYgYSBwcm9qZWN0aW9uIGlzIHVzZWQgdGhhdCBjYW4gYmUgd3JhcHBlZC5cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXBPcHRpb25zSW50ZXJuYWxcbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gW2NvbnRyb2xzXVxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IFtpbnRlcmFjdGlvbnNdXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fERvY3VtZW50fSBrZXlib2FyZEV2ZW50VGFyZ2V0XG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBvdmVybGF5c1xuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzXG4gKi9cbi8qKlxuICogT2JqZWN0IGxpdGVyYWwgd2l0aCBjb25maWcgb3B0aW9ucyBmb3IgdGhlIG1hcC5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gW2NvbnRyb2xzXVxuICogQ29udHJvbHMgaW5pdGlhbGx5IGFkZGVkIHRvIHRoZSBtYXAuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2x+ZGVmYXVsdHN9IGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW9dIFRoZSByYXRpbyBiZXR3ZWVuXG4gKiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHMgKGRpcHMpIG9uIHRoZSBkZXZpY2UuXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSBbaW50ZXJhY3Rpb25zXVxuICogSW50ZXJhY3Rpb25zIHRoYXQgYXJlIGluaXRpYWxseSBhZGRlZCB0byB0aGUgbWFwLiBJZiBub3Qgc3BlY2lmaWVkLFxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbn5kZWZhdWx0c30gaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR8c3RyaW5nfSBba2V5Ym9hcmRFdmVudFRhcmdldF0gVGhlIGVsZW1lbnQgdG9cbiAqIGxpc3RlbiB0byBrZXlib2FyZCBldmVudHMgb24uIFRoaXMgZGV0ZXJtaW5lcyB3aGVuIHRoZSBgS2V5Ym9hcmRQYW5gIGFuZFxuICogYEtleWJvYXJkWm9vbWAgaW50ZXJhY3Rpb25zIHRyaWdnZXIuIEZvciBleGFtcGxlLCBpZiB0aGlzIG9wdGlvbiBpcyBzZXQgdG9cbiAqIGBkb2N1bWVudGAgdGhlIGtleWJvYXJkIGludGVyYWN0aW9ucyB3aWxsIGFsd2F5cyB0cmlnZ2VyLiBJZiB0aGlzIG9wdGlvbiBpc1xuICogbm90IHNwZWNpZmllZCwgdGhlIGVsZW1lbnQgdGhlIGxpYnJhcnkgbGlzdGVucyB0byBrZXlib2FyZCBldmVudHMgb24gaXMgdGhlXG4gKiBtYXAgdGFyZ2V0IChpLmUuIHRoZSB1c2VyLXByb3ZpZGVkIGRpdiBmb3IgdGhlIG1hcCkuIElmIHRoaXMgaXMgbm90XG4gKiBgZG9jdW1lbnRgLCB0aGUgdGFyZ2V0IGVsZW1lbnQgbmVlZHMgdG8gYmUgZm9jdXNlZCBmb3Iga2V5IGV2ZW50cyB0byBiZVxuICogZW1pdHRlZCwgcmVxdWlyaW5nIHRoYXQgdGhlIHRhcmdldCBlbGVtZW50IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58TGF5ZXJHcm91cH0gW2xheWVyc11cbiAqIExheWVycy4gSWYgdGhpcyBpcyBub3QgZGVmaW5lZCwgYSBtYXAgd2l0aCBubyBsYXllcnMgd2lsbCBiZSByZW5kZXJlZC4gTm90ZVxuICogdGhhdCBsYXllcnMgYXJlIHJlbmRlcmVkIGluIHRoZSBvcmRlciBzdXBwbGllZCwgc28gaWYgeW91IHdhbnQsIGZvciBleGFtcGxlLFxuICogYSB2ZWN0b3IgbGF5ZXIgdG8gYXBwZWFyIG9uIHRvcCBvZiBhIHRpbGUgbGF5ZXIsIGl0IG11c3QgY29tZSBhZnRlciB0aGUgdGlsZVxuICogbGF5ZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFRpbGVzTG9hZGluZz0xNl0gTWF4aW11bSBudW1iZXIgdGlsZXMgdG8gbG9hZFxuICogc2ltdWx0YW5lb3VzbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21vdmVUb2xlcmFuY2U9MV0gVGhlIG1pbmltdW0gZGlzdGFuY2UgaW4gcGl4ZWxzIHRoZVxuICogY3Vyc29yIG11c3QgbW92ZSB0byBiZSBkZXRlY3RlZCBhcyBhIG1hcCBtb3ZlIGV2ZW50IGluc3RlYWQgb2YgYSBjbGljay5cbiAqIEluY3JlYXNpbmcgdGhpcyB2YWx1ZSBjYW4gbWFrZSBpdCBlYXNpZXIgdG8gY2xpY2sgb24gdGhlIG1hcC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBbb3ZlcmxheXNdXG4gKiBPdmVybGF5cyBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gQnkgZGVmYXVsdCwgbm8gb3ZlcmxheXMgYXJlIGFkZGVkLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFRoZSBjb250YWluZXIgZm9yIHRoZSBtYXAsIGVpdGhlciB0aGVcbiAqIGVsZW1lbnQgaXRzZWxmIG9yIHRoZSBgaWRgIG9mIHRoZSBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvblxuICogdGltZSwge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwI3NldFRhcmdldH0gbXVzdCBiZSBjYWxsZWQgZm9yIHRoZSBtYXAgdG8gYmVcbiAqIHJlbmRlcmVkLiBJZiBwYXNzZWQgYnkgZWxlbWVudCwgdGhlIGNvbnRhaW5lciBjYW4gYmUgaW4gYSBzZWNvbmRhcnkgZG9jdW1lbnQuXG4gKiBAcHJvcGVydHkge1ZpZXd9IFt2aWV3XSBUaGUgbWFwJ3Mgdmlldy4gIE5vIGxheWVyIHNvdXJjZXMgd2lsbCBiZVxuICogZmV0Y2hlZCB1bmxlc3MgdGhpcyBpcyBzcGVjaWZpZWQgYXQgY29uc3RydWN0aW9uIHRpbWUgb3IgdGhyb3VnaFxuICoge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwI3NldFZpZXd9LlxuICovXG4vKipcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudC5qc1wiKS5NYXBCcm93c2VyRXZlbnRcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL01hcEV2ZW50LmpzXCIpLk1hcEV2ZW50XG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdCNwcmVjb21wb3NlXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdCNwb3N0Y29tcG9zZVxuICogQGZpcmVzIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50LmpzXCIpLmRlZmF1bHQjcmVuZGVyY29tcGxldGVcbiAqIEBhcGlcbiAqL1xudmFyIFBsdWdnYWJsZU1hcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGx1Z2dhYmxlTWFwLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TWFwT3B0aW9uc30gb3B0aW9ucyBNYXAgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQbHVnZ2FibGVNYXAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9uc0ludGVybmFsID0gY3JlYXRlT3B0aW9uc0ludGVybmFsKG9wdGlvbnMpO1xuICAgICAgICAvKiogQHByaXZhdGUgKi9cbiAgICAgICAgX3RoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfID0gX3RoaXMuaGFuZGxlQnJvd3NlckV2ZW50LmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heFRpbGVzTG9hZGluZ18gPVxuICAgICAgICAgICAgb3B0aW9ucy5tYXhUaWxlc0xvYWRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4VGlsZXNMb2FkaW5nIDogMTY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxSYXRpb18gPVxuICAgICAgICAgICAgb3B0aW9ucy5waXhlbFJhdGlvICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMucGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgIDogREVWSUNFX1BJWEVMX1JBVElPO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvbkRlbGF5S2V5XztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25EZWxheV8gPSAvKiogQHRoaXMge1BsdWdnYWJsZU1hcH0gKi8gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckZyYW1lXyhEYXRlLm5vdygpKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZUluZGV4XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P0ZyYW1lU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mcmFtZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXh0ZW50IGF0IHRoZSBwcmV2aW91cyAnbW92ZWVuZCcgZXZlbnQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmV2aW91c0V4dGVudF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdwb3J0XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy52aWV3cG9ydF8uY2xhc3NOYW1lID1cbiAgICAgICAgICAgICdvbC12aWV3cG9ydCcgKyAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93ID8gJyBvbC10b3VjaCcgOiAnJyk7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICBfdGhpcy52aWV3cG9ydF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0Xy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lcl8uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS56SW5kZXggPSAnMCc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJfLmNsYXNzTmFtZSA9ICdvbC1vdmVybGF5Y29udGFpbmVyJztcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLmFwcGVuZENoaWxkKF90aGlzLm92ZXJsYXlDb250YWluZXJfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLnpJbmRleCA9ICcwJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgX3RoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uY2xhc3NOYW1lID0gJ29sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50JztcbiAgICAgICAgX3RoaXMudmlld3BvcnRfLmFwcGVuZENoaWxkKF90aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtNYXBCcm93c2VyRXZlbnRIYW5kbGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdmVUb2xlcmFuY2VfID0gb3B0aW9ucy5tb3ZlVG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fERvY3VtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5Ym9hcmRFdmVudFRhcmdldF8gPSBvcHRpb25zSW50ZXJuYWwua2V5Ym9hcmRFdmVudFRhcmdldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmtleUhhbmRsZXJLZXlzXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udHJvbHMgPSBvcHRpb25zSW50ZXJuYWwuY29udHJvbHMgfHwgbmV3IENvbGxlY3Rpb24oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9ucyA9IG9wdGlvbnNJbnRlcm5hbC5pbnRlcmFjdGlvbnMgfHwgbmV3IENvbGxlY3Rpb24oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm92ZXJsYXlzXyA9IG9wdGlvbnNJbnRlcm5hbC5vdmVybGF5cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbG9va3VwIG9mIG92ZXJsYXlzIGJ5IGlkLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3ZlcmxheUlkSW5kZXhfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVyXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7dW5kZWZpbmVkfGZ1bmN0aW9uKEV2ZW50KTogdm9pZH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhhbmRsZVJlc2l6ZV87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PFBvc3RSZW5kZXJGdW5jdGlvbj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpbGVRdWV1ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVRdWV1ZV8gPSBuZXcgVGlsZVF1ZXVlKF90aGlzLmdldFRpbGVQcmlvcml0eS5iaW5kKF90aGlzKSwgX3RoaXMuaGFuZGxlVGlsZUNoYW5nZV8uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShNYXBQcm9wZXJ0eS5MQVlFUkdST1VQKSwgX3RoaXMuaGFuZGxlTGF5ZXJHcm91cENoYW5nZWRfKTtcbiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihnZXRDaGFuZ2VFdmVudFR5cGUoTWFwUHJvcGVydHkuVklFVyksIF90aGlzLmhhbmRsZVZpZXdDaGFuZ2VkXyk7XG4gICAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIoZ2V0Q2hhbmdlRXZlbnRUeXBlKE1hcFByb3BlcnR5LlNJWkUpLCBfdGhpcy5oYW5kbGVTaXplQ2hhbmdlZF8pO1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyKGdldENoYW5nZUV2ZW50VHlwZShNYXBQcm9wZXJ0eS5UQVJHRVQpLCBfdGhpcy5oYW5kbGVUYXJnZXRDaGFuZ2VkXyk7XG4gICAgICAgIC8vIHNldFByb3BlcnRpZXMgd2lsbCB0cmlnZ2VyIHRoZSByZW5kZXJpbmcgb2YgdGhlIG1hcCBpZiB0aGUgbWFwXG4gICAgICAgIC8vIGlzIFwiZGVmaW5lZFwiIGFscmVhZHkuXG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMob3B0aW9uc0ludGVybmFsLnZhbHVlcyk7XG4gICAgICAgIF90aGlzLmNvbnRyb2xzLmZvckVhY2goXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICAgICAgICogQHRoaXMge1BsdWdnYWJsZU1hcH1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChjb250cm9sKSB7XG4gICAgICAgICAgICBjb250cm9sLnNldE1hcCh0aGlzKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKHRoaXMpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcihDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAobnVsbCk7XG4gICAgICAgIH0uYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbnMuZm9yRWFjaChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbi5cbiAgICAgICAgICogQHRoaXMge1BsdWdnYWJsZU1hcH1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChpbnRlcmFjdGlvbikge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb24uc2V0TWFwKHRoaXMpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKHRoaXMpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMub3ZlcmxheXNfLmZvckVhY2goX3RoaXMuYWRkT3ZlcmxheUludGVybmFsXy5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLm92ZXJsYXlzXy5hZGRFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmFkZE92ZXJsYXlJbnRlcm5hbF8oXG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQuZWxlbWVudCkpO1xuICAgICAgICB9LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMub3ZlcmxheXNfLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBvdmVybGF5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIGlkID0gb3ZlcmxheS5nZXRJZCgpO1xuICAgICAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcChudWxsKTtcbiAgICAgICAgfS5iaW5kKF90aGlzKSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdH0gVGhlIG1hcCByZW5kZXJlclxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuY3JlYXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlIGEgbWFwIHR5cGUgdGhhdCBoYXMgYSBjcmVhdGVSZW5kZXJlciBtZXRob2QnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgZ2l2ZW4gY29udHJvbCB0byB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdH0gY29udHJvbCBDb250cm9sLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmFkZENvbnRyb2wgPSBmdW5jdGlvbiAoY29udHJvbCkge1xuICAgICAgICB0aGlzLmdldENvbnRyb2xzKCkucHVzaChjb250cm9sKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgZ2l2ZW4gaW50ZXJhY3Rpb24gdG8gdGhlIG1hcC4gSWYgeW91IHdhbnQgdG8gYWRkIGFuIGludGVyYWN0aW9uXG4gICAgICogYXQgYW5vdGhlciBwb2ludCBvZiB0aGUgY29sbGVjdGlvbiB1c2UgYGdldEludGVyYWN0aW9uKClgIGFuZCB0aGUgbWV0aG9kc1xuICAgICAqIGF2YWlsYWJsZSBvbiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0uIFRoaXMgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiBzdG9wIHRoZSBldmVudCBwcm9wYWdhdGlvbiBmcm9tIHRoZSBoYW5kbGVFdmVudCBmdW5jdGlvbi4gVGhlIGludGVyYWN0aW9uc1xuICAgICAqIGdldCB0byBoYW5kbGUgdGhlIGV2ZW50cyBpbiB0aGUgcmV2ZXJzZSBvcmRlciBvZiB0aGlzIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHR9IGludGVyYWN0aW9uIEludGVyYWN0aW9uIHRvIGFkZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5hZGRJbnRlcmFjdGlvbiA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbikge1xuICAgICAgICB0aGlzLmdldEludGVyYWN0aW9ucygpLnB1c2goaW50ZXJhY3Rpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgZ2l2ZW4gbGF5ZXIgdG8gdGhlIHRvcCBvZiB0aGlzIG1hcC4gSWYgeW91IHdhbnQgdG8gYWRkIGEgbGF5ZXJcbiAgICAgKiBlbHNld2hlcmUgaW4gdGhlIHN0YWNrLCB1c2UgYGdldExheWVycygpYCBhbmQgdGhlIG1ldGhvZHMgYXZhaWxhYmxlIG9uXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmFkZExheWVyID0gZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICAgICAgbGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBnaXZlbiBvdmVybGF5IHRvIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gb3ZlcmxheSBPdmVybGF5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmFkZE92ZXJsYXkgPSBmdW5jdGlvbiAob3ZlcmxheSkge1xuICAgICAgICB0aGlzLmdldE92ZXJsYXlzKCkucHVzaChvdmVybGF5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZGVhbHMgd2l0aCBtYXAncyBvdmVybGF5IGNvbGxlY3Rpb24gY2hhbmdlcy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmFkZE92ZXJsYXlJbnRlcm5hbF8gPSBmdW5jdGlvbiAob3ZlcmxheSkge1xuICAgICAgICB2YXIgaWQgPSBvdmVybGF5LmdldElkKCk7XG4gICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm92ZXJsYXlJZEluZGV4X1tpZC50b1N0cmluZygpXSA9IG92ZXJsYXk7XG4gICAgICAgIH1cbiAgICAgICAgb3ZlcmxheS5zZXRNYXAodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldFRhcmdldChudWxsKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVjdCBmZWF0dXJlcyB0aGF0IGludGVyc2VjdCBhIHBpeGVsIG9uIHRoZSB2aWV3cG9ydCwgYW5kIGV4ZWN1dGUgYVxuICAgICAqIGNhbGxiYWNrIHdpdGggZWFjaCBpbnRlcnNlY3RpbmcgZmVhdHVyZS4gTGF5ZXJzIGluY2x1ZGVkIGluIHRoZSBkZXRlY3Rpb24gY2FuXG4gICAgICogYmUgY29uZmlndXJlZCB0aHJvdWdoIHRoZSBgbGF5ZXJGaWx0ZXJgIG9wdGlvbiBpbiBgb3B0X29wdGlvbnNgLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBiZVxuICAgICAqICAgICBjYWxsZWQgd2l0aCB0d28gYXJndW1lbnRzLiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgb25lXG4gICAgICogICAgIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZSBmZWF0dXJlfSBvclxuICAgICAqICAgICB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9GZWF0dXJlIHJlbmRlciBmZWF0dXJlfSBhdCB0aGUgcGl4ZWwsIHRoZSBzZWNvbmQgaXNcbiAgICAgKiAgICAgdGhlIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXIgbGF5ZXJ9IG9mIHRoZSBmZWF0dXJlIGFuZCB3aWxsIGJlIG51bGwgZm9yXG4gICAgICogICAgIHVubWFuYWdlZCBsYXllcnMuIFRvIHN0b3AgZGV0ZWN0aW9uLCBjYWxsYmFjayBmdW5jdGlvbnMgY2FuIHJldHVybiBhXG4gICAgICogICAgIHRydXRoeSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LCBpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgbGFzdFxuICAgICAqIGNhbGxiYWNrIGV4ZWN1dGlvbiwgb3IgdGhlIGZpcnN0IHRydXRoeSBjYWxsYmFjayByZXR1cm4gdmFsdWUuXG4gICAgICogQHRlbXBsYXRlIFMsVFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgY2FsbGJhY2ssIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5mcmFtZVN0YXRlXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb29yZGluYXRlID0gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwocGl4ZWwpO1xuICAgICAgICBvcHRfb3B0aW9ucyA9IG9wdF9vcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICB2YXIgaGl0VG9sZXJhbmNlID0gb3B0X29wdGlvbnMuaGl0VG9sZXJhbmNlICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucy5oaXRUb2xlcmFuY2UgOiAwO1xuICAgICAgICB2YXIgbGF5ZXJGaWx0ZXIgPSBvcHRfb3B0aW9ucy5sYXllckZpbHRlciAhPT0gdW5kZWZpbmVkID8gb3B0X29wdGlvbnMubGF5ZXJGaWx0ZXIgOiBUUlVFO1xuICAgICAgICB2YXIgY2hlY2tXcmFwcGVkID0gb3B0X29wdGlvbnMuY2hlY2tXcmFwcGVkICE9PSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKGNvb3JkaW5hdGUsIHRoaXMuZnJhbWVTdGF0ZV8sIGhpdFRvbGVyYW5jZSwgY2hlY2tXcmFwcGVkLCBjYWxsYmFjaywgbnVsbCwgbGF5ZXJGaWx0ZXIsIG51bGwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBmZWF0dXJlcyB0aGF0IGludGVyc2VjdCBhIHBpeGVsIG9uIHRoZSB2aWV3cG9ydC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7QXRQaXhlbE9wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25hbCBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IFRoZSBkZXRlY3RlZCBmZWF0dXJlcyBvclxuICAgICAqIGFuIGVtcHR5IGFycmF5IGlmIG5vbmUgd2VyZSBmb3VuZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRGZWF0dXJlc0F0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hGZWF0dXJlQXRQaXhlbChwaXhlbCwgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgIH0sIG9wdF9vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGxheWVycyB0aGF0IGhhdmUgYSBjb2xvciB2YWx1ZSBhdCBhIHBpeGVsIG9uIHRoZSB2aWV3cG9ydCwgYW5kXG4gICAgICogZXhlY3V0ZSBhIGNhbGxiYWNrIHdpdGggZWFjaCBtYXRjaGluZyBsYXllci4gTGF5ZXJzIGluY2x1ZGVkIGluIHRoZVxuICAgICAqIGRldGVjdGlvbiBjYW4gYmUgY29uZmlndXJlZCB0aHJvdWdoIGBvcHRfbGF5ZXJGaWx0ZXJgLlxuICAgICAqXG4gICAgICogTm90ZTogdGhpcyBtYXkgZ2l2ZSBmYWxzZSBwb3NpdGl2ZXMgdW5sZXNzIHRoZSBtYXAgbGF5ZXJzIGhhdmUgaGFkIGRpZmZlcmVudCBgY2xhc3NOYW1lYFxuICAgICAqIHByb3BlcnRpZXMgYXNzaWduZWQgdG8gdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOiBTLCBpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQsIChVaW50OENsYW1wZWRBcnJheXxVaW50OEFycmF5KSk6IFR9IGNhbGxiYWNrXG4gICAgICogICAgIExheWVyIGNhbGxiYWNrLiBUaGlzIGNhbGxiYWNrIHdpbGwgcmVjZWl2ZSB0d28gYXJndW1lbnRzOiBmaXJzdCBpcyB0aGVcbiAgICAgKiAgICAge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciBsYXllcn0sIHNlY29uZCBhcmd1bWVudCBpcyBhbiBhcnJheSByZXByZXNlbnRpbmdcbiAgICAgKiAgICAgW1IsIEcsIEIsIEFdIHBpeGVsIHZhbHVlcyAoMCAtIDI1NSkgYW5kIHdpbGwgYmUgYG51bGxgIGZvciBsYXllciB0eXBlc1xuICAgICAqICAgICB0aGF0IGRvIG5vdCBjdXJyZW50bHkgc3VwcG9ydCB0aGlzIGFyZ3VtZW50LiBUbyBzdG9wIGRldGVjdGlvbiwgY2FsbGJhY2tcbiAgICAgKiAgICAgZnVuY3Rpb25zIGNhbiByZXR1cm4gYSB0cnV0aHkgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9ucz19IG9wdF9vcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LCBpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgbGFzdFxuICAgICAqIGNhbGxiYWNrIGV4ZWN1dGlvbiwgb3IgdGhlIGZpcnN0IHRydXRoeSBjYWxsYmFjayByZXR1cm4gdmFsdWUuXG4gICAgICogQHRlbXBsYXRlIFMsVFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWwgPSBmdW5jdGlvbiAocGl4ZWwsIGNhbGxiYWNrLCBvcHRfb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuZnJhbWVTdGF0ZV8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgaGl0VG9sZXJhbmNlID0gb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaGl0VG9sZXJhbmNlIDogMDtcbiAgICAgICAgdmFyIGxheWVyRmlsdGVyID0gb3B0aW9ucy5sYXllckZpbHRlciB8fCBUUlVFO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uZm9yRWFjaExheWVyQXRQaXhlbChwaXhlbCwgdGhpcy5mcmFtZVN0YXRlXywgaGl0VG9sZXJhbmNlLCBjYWxsYmFjaywgbGF5ZXJGaWx0ZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIGZlYXR1cmVzIGludGVyc2VjdCBhIHBpeGVsIG9uIHRoZSB2aWV3cG9ydC4gTGF5ZXJzIGluY2x1ZGVkIGluIHRoZVxuICAgICAqIGRldGVjdGlvbiBjYW4gYmUgY29uZmlndXJlZCB0aHJvdWdoIGBvcHRfbGF5ZXJGaWx0ZXJgLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgdGhlcmUgYSBmZWF0dXJlIGF0IHRoZSBnaXZlbiBwaXhlbD9cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYXNGZWF0dXJlQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCk7XG4gICAgICAgIG9wdF9vcHRpb25zID0gb3B0X29wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBsYXllckZpbHRlciA9IG9wdF9vcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRfb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgICAgIHZhciBoaXRUb2xlcmFuY2UgPSBvcHRfb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdF9vcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgICAgIHZhciBjaGVja1dyYXBwZWQgPSBvcHRfb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZShjb29yZGluYXRlLCB0aGlzLmZyYW1lU3RhdGVfLCBoaXRUb2xlcmFuY2UsIGNoZWNrV3JhcHBlZCwgbGF5ZXJGaWx0ZXIsIG51bGwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB1c2VyIHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldEV2ZW50Q29vcmRpbmF0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB2aWV3IHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwIHBpeGVsIHBvc2l0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB7VUlFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gUGl4ZWwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0RXZlbnRQaXhlbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdmlld3BvcnRQb3NpdGlvbiA9IHRoaXMudmlld3BvcnRfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZXZlbnRQb3NpdGlvbiA9IFxuICAgICAgICAvL0ZJWE1FIEFyZSB3ZSByZWFsbHkgY2FsbGluZyB0aGlzIHdpdGggYSBUb3VjaEV2ZW50IGFueXdoZXJlP1xuICAgICAgICAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50XG4gICAgICAgICAgICA/IC8qKiBAdHlwZSB7VG91Y2hFdmVudH0gKi8gKGV2ZW50KS5jaGFuZ2VkVG91Y2hlc1swXVxuICAgICAgICAgICAgOiAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChldmVudCk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBldmVudFBvc2l0aW9uLmNsaWVudFggLSB2aWV3cG9ydFBvc2l0aW9uLmxlZnQsXG4gICAgICAgICAgICBldmVudFBvc2l0aW9uLmNsaWVudFkgLSB2aWV3cG9ydFBvc2l0aW9uLnRvcCxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGFyZ2V0IGluIHdoaWNoIHRoaXMgbWFwIGlzIHJlbmRlcmVkLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgd2hhdCBpcyBlbnRlcmVkIGFzIGFuIG9wdGlvbiBvciBpbiBzZXRUYXJnZXQ6XG4gICAgICogaWYgdGhhdCB3YXMgYW4gZWxlbWVudCwgaXQgcmV0dXJucyBhbiBlbGVtZW50OyBpZiBhIHN0cmluZywgaXQgcmV0dXJucyB0aGF0LlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fHN0cmluZ3x1bmRlZmluZWR9IFRoZSBFbGVtZW50IG9yIGlkIG9mIHRoZSBFbGVtZW50IHRoYXQgdGhlXG4gICAgICogICAgIG1hcCBpcyByZW5kZXJlZCBpbi5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR8c3RyaW5nfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LlRBUkdFVCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBET00gZWxlbWVudCBpbnRvIHdoaWNoIHRoaXMgbWFwIGlzIHJlbmRlcmVkLiBJbiBjb250cmFzdCB0b1xuICAgICAqIGBnZXRUYXJnZXRgIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm4gYW4gYEVsZW1lbnRgLCBvciBgbnVsbGAgaWYgdGhlXG4gICAgICogbWFwIGhhcyBubyB0YXJnZXQuXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSBlbGVtZW50IHRoYXQgdGhlIG1hcCBpcyByZW5kZXJlZCBpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5nZXRUYXJnZXQoKTtcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldClcbiAgICAgICAgICAgICAgICA6IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gcGl4ZWwuICBUaGlzIHJldHVybnMgYSBjb29yZGluYXRlIGluIHRoZVxuICAgICAqIHVzZXIgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIGZvciB0aGUgcGl4ZWwgcG9zaXRpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gdG9Vc2VyQ29vcmRpbmF0ZSh0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCksIHRoaXMuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gcGl4ZWwuICBUaGlzIHJldHVybnMgYSBjb29yZGluYXRlIGluIHRoZVxuICAgICAqIG1hcCB2aWV3IHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgY29vcmRpbmF0ZSBmb3IgdGhlIHBpeGVsIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsID0gZnVuY3Rpb24gKHBpeGVsKSB7XG4gICAgICAgIHZhciBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBwaXhlbC5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXAgY29udHJvbHMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgY29udHJvbHNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcC5cbiAgICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBDb250cm9scy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcCBvdmVybGF5cy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBvdmVybGF5c1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBPdmVybGF5cy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRPdmVybGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxheXNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGFuIG92ZXJsYXkgYnkgaXRzIGlkZW50aWZpZXIgKHRoZSB2YWx1ZSByZXR1cm5lZCBieSBvdmVybGF5LmdldElkKCkpLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgaW5kZXggdHJlYXRzIHN0cmluZyBhbmQgbnVtZXJpYyBpZGVudGlmaWVycyBhcyB0aGUgc2FtZS4gU29cbiAgICAgKiBgbWFwLmdldE92ZXJsYXlCeUlkKDIpYCB3aWxsIHJldHVybiBhbiBvdmVybGF5IHdpdGggaWQgYCcyJ2Agb3IgYDJgLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgT3ZlcmxheSBpZGVudGlmaWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBPdmVybGF5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldE92ZXJsYXlCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBvdmVybGF5ID0gdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIHJldHVybiBvdmVybGF5ICE9PSB1bmRlZmluZWQgPyBvdmVybGF5IDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFwIGludGVyYWN0aW9ucy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBpbnRlcmFjdGlvbnNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEludGVyYWN0aW9ucyBhcmUgdXNlZCBmb3IgZS5nLiBwYW4sIHpvb20gYW5kIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IEludGVyYWN0aW9ucy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVyYWN0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGF5ZXJncm91cCBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuXG4gICAgICogQHJldHVybiB7TGF5ZXJHcm91cH0gQSBsYXllciBncm91cCBjb250YWluaW5nIHRoZSBsYXllcnMgaW4gdGhpcyBtYXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMYXllckdyb3VwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtMYXllckdyb3VwfSAqLyAodGhpcy5nZXQoTWFwUHJvcGVydHkuTEFZRVJHUk9VUCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb2xsZWN0aW9uIG9mIGxheWVycyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuXG4gICAgICogQHJldHVybiB7IUNvbGxlY3Rpb248aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBMYXllcnMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0TGF5ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJzKCk7XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBMYXllcnMgaGF2ZSBzb3VyY2VzIHRoYXQgYXJlIHN0aWxsIGxvYWRpbmcuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRMb2FkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXNBcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBsYXllclN0YXRlc0FycmF5W2ldLmxheWVyO1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIpLmdldFNvdXJjZSgpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAmJiBzb3VyY2UubG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGl4ZWwgZm9yIGEgY29vcmRpbmF0ZS4gIFRoaXMgdGFrZXMgYSBjb29yZGluYXRlIGluIHRoZSB1c2VyXG4gICAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIEEgbWFwIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gQSBwaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFBpeGVsRnJvbUNvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICB2YXIgdmlld0Nvb3JkaW5hdGUgPSBmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgdGhpcy5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsKHZpZXdDb29yZGluYXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGl4ZWwgZm9yIGEgY29vcmRpbmF0ZS4gIFRoaXMgdGFrZXMgYSBjb29yZGluYXRlIGluIHRoZSBtYXAgdmlld1xuICAgICAqIHByb2plY3Rpb24gYW5kIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcGl4ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBBIG1hcCBjb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IEEgcGl4ZWwgcG9zaXRpb24gaW4gdGhlIG1hcCB2aWV3cG9ydC5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbCA9IGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgIHZhciBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICAgICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBjb29yZGluYXRlLnNsaWNlKDAsIDIpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXAgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdH0gUmVuZGVyZXJcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhpcyBtYXAuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIG1hcCBpbiB0aGUgRE9NLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoTWFwUHJvcGVydHkuU0laRSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2aWV3IGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC4gQSB2aWV3IG1hbmFnZXMgcHJvcGVydGllcyBzdWNoIGFzXG4gICAgICogY2VudGVyIGFuZCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge1ZpZXd9IFRoZSB2aWV3IHRoYXQgY29udHJvbHMgdGhpcyBtYXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5nZXRWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtWaWV3fSAqLyAodGhpcy5nZXQoTWFwUHJvcGVydHkuVklFVykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbGVtZW50IHRoYXQgc2VydmVzIGFzIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFZpZXdwb3J0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldFZpZXdwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3cG9ydF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgdGhlIGNvbnRhaW5lciBmb3Igb3ZlcmxheXMuICBFbGVtZW50cyBhZGRlZCB0b1xuICAgICAqIHRoaXMgY29udGFpbmVyIHdpbGwgbGV0IG1vdXNlZG93biBhbmQgdG91Y2hzdGFydCBldmVudHMgdGhyb3VnaCB0byB0aGUgbWFwLFxuICAgICAqIHNvIGNsaWNrcyBhbmQgZ2VzdHVyZXMgb24gYW4gb3ZlcmxheSB3aWxsIHRyaWdnZXIge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fVxuICAgICAqIGV2ZW50cy5cbiAgICAgKiBAcmV0dXJuIHshSFRNTEVsZW1lbnR9IFRoZSBtYXAncyBvdmVybGF5IGNvbnRhaW5lci5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldE92ZXJsYXlDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm92ZXJsYXlDb250YWluZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbGVtZW50IHRoYXQgc2VydmVzIGFzIGEgY29udGFpbmVyIGZvciBvdmVybGF5cyB0aGF0IGRvbid0IGFsbG93XG4gICAgICogZXZlbnQgcHJvcGFnYXRpb24uIEVsZW1lbnRzIGFkZGVkIHRvIHRoaXMgY29udGFpbmVyIHdvbid0IGxldCBtb3VzZWRvd24gYW5kXG4gICAgICogdG91Y2hzdGFydCBldmVudHMgdGhyb3VnaCB0byB0aGUgbWFwLCBzbyBjbGlja3MgYW5kIGdlc3R1cmVzIG9uIGFuIG92ZXJsYXlcbiAgICAgKiBkb24ndCB0cmlnZ2VyIGFueSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9LlxuICAgICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyIHRoYXQgc3RvcHMgZXZlbnRzLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0T3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHshRG9jdW1lbnR9IFRoZSBkb2N1bWVudCB3aGVyZSB0aGUgbWFwIGlzIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLmdldE93bmVyRG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRhcmdldEVsZW1lbnQoKVxuICAgICAgICAgICAgPyB0aGlzLmdldFRhcmdldEVsZW1lbnQoKS5vd25lckRvY3VtZW50XG4gICAgICAgICAgICA6IGRvY3VtZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0aWxlU291cmNlS2V5IFRpbGUgc291cmNlIGtleS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0aWxlQ2VudGVyIFRpbGUgY2VudGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aWxlUmVzb2x1dGlvbiBUaWxlIHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHByaW9yaXR5LlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuZ2V0VGlsZVByaW9yaXR5ID0gZnVuY3Rpb24gKHRpbGUsIHRpbGVTb3VyY2VLZXksIHRpbGVDZW50ZXIsIHRpbGVSZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBnZXRUaWxlUHJpb3JpdHkodGhpcy5mcmFtZVN0YXRlXywgdGlsZSwgdGlsZVNvdXJjZUtleSwgdGlsZUNlbnRlciwgdGlsZVJlc29sdXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtVSUV2ZW50fSBicm93c2VyRXZlbnQgQnJvd3NlciBldmVudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF90eXBlIFR5cGUuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVCcm93c2VyRXZlbnQgPSBmdW5jdGlvbiAoYnJvd3NlckV2ZW50LCBvcHRfdHlwZSkge1xuICAgICAgICB2YXIgdHlwZSA9IG9wdF90eXBlIHx8IGJyb3dzZXJFdmVudC50eXBlO1xuICAgICAgICB2YXIgbWFwQnJvd3NlckV2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudCh0eXBlLCB0aGlzLCBicm93c2VyRXZlbnQpO1xuICAgICAgICB0aGlzLmhhbmRsZU1hcEJyb3dzZXJFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtNYXBCcm93c2VyRXZlbnR9IG1hcEJyb3dzZXJFdmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlLlxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuaGFuZGxlTWFwQnJvd3NlckV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZnJhbWVTdGF0ZV8pIHtcbiAgICAgICAgICAgIC8vIFdpdGggbm8gdmlldyBkZWZpbmVkLCB3ZSBjYW5ub3QgdHJhbnNsYXRlIHBpeGVscyBpbnRvIGdlb2dyYXBoaWNhbFxuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgc28gaW50ZXJhY3Rpb25zIGNhbm5vdCBiZSB1c2VkLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtQb2ludGVyRXZlbnR9ICovIChtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudCk7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBvcmlnaW5hbEV2ZW50LnR5cGU7XG4gICAgICAgIGlmIChldmVudFR5cGUgPT09IFBvaW50ZXJFdmVudFR5cGUuUE9JTlRFUkRPV04gfHxcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLldIRUVMIHx8XG4gICAgICAgICAgICBldmVudFR5cGUgPT09IEV2ZW50VHlwZS5LRVlET1dOKSB7XG4gICAgICAgICAgICB2YXIgZG9jID0gdGhpcy5nZXRPd25lckRvY3VtZW50KCk7XG4gICAgICAgICAgICB2YXIgcm9vdE5vZGUgPSB0aGlzLnZpZXdwb3J0Xy5nZXRSb290Tm9kZVxuICAgICAgICAgICAgICAgID8gdGhpcy52aWV3cG9ydF8uZ2V0Um9vdE5vZGUoKVxuICAgICAgICAgICAgICAgIDogZG9jO1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9ICdob3N0JyBpbiByb290Tm9kZSAvLyBTaGFkb3dSb290XG4gICAgICAgICAgICAgICAgPyAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290Tm9kZSkuZWxlbWVudEZyb21Qb2ludChvcmlnaW5hbEV2ZW50LmNsaWVudFgsIG9yaWdpbmFsRXZlbnQuY2xpZW50WSlcbiAgICAgICAgICAgICAgICA6IC8qKiBAdHlwZSB7Tm9kZX0gKi8gKG9yaWdpbmFsRXZlbnQudGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC8vIEFib3J0IGlmIHRoZSB0YXJnZXQgaXMgYSBjaGlsZCBvZiB0aGUgY29udGFpbmVyIGZvciBlbGVtZW50cyB3aG9zZSBldmVudHMgYXJlIG5vdCBtZWFudFxuICAgICAgICAgICAgLy8gdG8gYmUgaGFuZGxlZCBieSBtYXAgaW50ZXJhY3Rpb25zLlxuICAgICAgICAgICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5jb250YWlucyh0YXJnZXQpIHx8XG4gICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhlIGV2ZW50IHRhcmdldCBpcyBhIGNoaWxkIG9mIHRoZSBjb250YWluZXIgdGhhdCBpcyBubyBsb25nZXIgaW4gdGhlIHBhZ2UuXG4gICAgICAgICAgICAgICAgLy8gSXQncyBwb3NzaWJsZSBmb3IgdGhlIHRhcmdldCB0byBubyBsb25nZXIgYmUgaW4gdGhlIHBhZ2UgaWYgaXQgaGFzIGJlZW4gcmVtb3ZlZCBpbiBhblxuICAgICAgICAgICAgICAgIC8vIGV2ZW50IGxpc3RlbmVyLCB0aGlzIG1pZ2h0IGhhcHBlbiBpbiBhIENvbnRyb2wgdGhhdCByZWNyZWF0ZXMgaXQncyBjb250ZW50IGJhc2VkIG9uXG4gICAgICAgICAgICAgICAgLy8gdXNlciBpbnRlcmFjdGlvbiBlaXRoZXIgbWFudWFsbHkgb3IgdmlhIGEgcmVuZGVyIGluIHNvbWV0aGluZyBsaWtlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvXG4gICAgICAgICAgICAgICAgIShyb290Tm9kZSA9PT0gZG9jID8gZG9jLmRvY3VtZW50RWxlbWVudCA6IHJvb3ROb2RlKS5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5mcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudChtYXBCcm93c2VyRXZlbnQpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uc0FycmF5ID0gdGhpcy5nZXRJbnRlcmFjdGlvbnMoKS5nZXRBcnJheSgpLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gaW50ZXJhY3Rpb25zQXJyYXkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvbnNBcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb24uZ2V0TWFwKCkgIT09IHRoaXMgfHxcbiAgICAgICAgICAgICAgICAgICAgIWludGVyYWN0aW9uLmdldEFjdGl2ZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICF0aGlzLmdldFRhcmdldEVsZW1lbnQoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNvbnQgPSBpbnRlcmFjdGlvbi5oYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmICghY29udCB8fCBtYXBCcm93c2VyRXZlbnQucHJvcGFnYXRpb25TdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuaGFuZGxlUG9zdFJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgICAgICAvLyBNYW5hZ2UgdGhlIHRpbGUgcXVldWVcbiAgICAgICAgLy8gSW1hZ2UgbG9hZHMgYXJlIGV4cGVuc2l2ZSBhbmQgYSBsaW1pdGVkIHJlc291cmNlLCBzbyB0cnkgdG8gdXNlIHRoZW1cbiAgICAgICAgLy8gZWZmaWNpZW50bHk6XG4gICAgICAgIC8vICogV2hlbiB0aGUgdmlldyBpcyBzdGF0aWMgd2UgYWxsb3cgYSBsYXJnZSBudW1iZXIgb2YgcGFyYWxsZWwgdGlsZSBsb2Fkc1xuICAgICAgICAvLyAgIHRvIGNvbXBsZXRlIHRoZSBmcmFtZSBhcyBxdWlja2x5IGFzIHBvc3NpYmxlLlxuICAgICAgICAvLyAqIFdoZW4gYW5pbWF0aW5nIG9yIGludGVyYWN0aW5nLCBpbWFnZSBsb2FkcyBjYW4gY2F1c2UgamFua3MsIHNvIHdlIHJlZHVjZVxuICAgICAgICAvLyAgIHRoZSBtYXhpbXVtIG51bWJlciBvZiBsb2FkcyBwZXIgZnJhbWUgYW5kIGxpbWl0IHRoZSBudW1iZXIgb2YgcGFyYWxsZWxcbiAgICAgICAgLy8gICB0aWxlIGxvYWRzIHRvIHJlbWFpbiByZWFjdGl2ZSB0byB2aWV3IGNoYW5nZXMgYW5kIHRvIHJlZHVjZSB0aGUgY2hhbmNlIG9mXG4gICAgICAgIC8vICAgbG9hZGluZyB0aWxlcyB0aGF0IHdpbGwgcXVpY2tseSBkaXNhcHBlYXIgZnJvbSB2aWV3LlxuICAgICAgICB2YXIgdGlsZVF1ZXVlID0gdGhpcy50aWxlUXVldWVfO1xuICAgICAgICBpZiAoIXRpbGVRdWV1ZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciBtYXhUb3RhbExvYWRpbmcgPSB0aGlzLm1heFRpbGVzTG9hZGluZ187XG4gICAgICAgICAgICB2YXIgbWF4TmV3TG9hZHMgPSBtYXhUb3RhbExvYWRpbmc7XG4gICAgICAgICAgICBpZiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBoaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgICAgICAgICAgICAgIGlmIChoaW50c1tWaWV3SGludC5BTklNQVRJTkddIHx8IGhpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG93T25GcmFtZUJ1ZGdldCA9ICFJTUFHRV9ERUNPREUgJiYgRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA+IDg7XG4gICAgICAgICAgICAgICAgICAgIG1heFRvdGFsTG9hZGluZyA9IGxvd09uRnJhbWVCdWRnZXQgPyAwIDogODtcbiAgICAgICAgICAgICAgICAgICAgbWF4TmV3TG9hZHMgPSBsb3dPbkZyYW1lQnVkZ2V0ID8gMCA6IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbGVRdWV1ZS5nZXRUaWxlc0xvYWRpbmcoKSA8IG1heFRvdGFsTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHRpbGVRdWV1ZS5yZXByaW9yaXRpemUoKTsgLy8gRklYTUUgb25seSBjYWxsIGlmIHZpZXcgaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICB0aWxlUXVldWUubG9hZE1vcmVUaWxlcyhtYXhUb3RhbExvYWRpbmcsIG1heE5ld0xvYWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVTdGF0ZSAmJlxuICAgICAgICAgICAgdGhpcy5oYXNMaXN0ZW5lcihSZW5kZXJFdmVudFR5cGUuUkVOREVSQ09NUExFVEUpICYmXG4gICAgICAgICAgICAhZnJhbWVTdGF0ZS5hbmltYXRlICYmXG4gICAgICAgICAgICAhdGhpcy50aWxlUXVldWVfLmdldFRpbGVzTG9hZGluZygpICYmXG4gICAgICAgICAgICAhdGhpcy5nZXRMb2FkaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXJfLmRpc3BhdGNoUmVuZGVyRXZlbnQoUmVuZGVyRXZlbnRUeXBlLlJFTkRFUkNPTVBMRVRFLCBmcmFtZVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9zdFJlbmRlckZ1bmN0aW9ucyA9IHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc187XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBvc3RSZW5kZXJGdW5jdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgcG9zdFJlbmRlckZ1bmN0aW9uc1tpXSh0aGlzLCBmcmFtZVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuaGFuZGxlU2l6ZUNoYW5nZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nZXRWaWV3KCkgJiYgIXRoaXMuZ2V0VmlldygpLmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICB0aGlzLmdldFZpZXcoKS5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVUYXJnZXRDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdGFyZ2V0IG1heSBiZSB1bmRlZmluZWQsIG51bGwsIGEgc3RyaW5nIG9yIGFuIEVsZW1lbnQuXG4gICAgICAgIC8vIElmIGl0J3MgYSBzdHJpbmcgd2UgY29udmVydCBpdCB0byBhbiBFbGVtZW50IGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgICAgICAvLyBJZiBpdCdzIG5vdCBub3cgYW4gRWxlbWVudCB3ZSByZW1vdmUgdGhlIHZpZXdwb3J0IGZyb20gdGhlIERPTS5cbiAgICAgICAgLy8gSWYgaXQncyBhbiBFbGVtZW50IHdlIGFwcGVuZCB0aGUgdmlld3BvcnQgZWxlbWVudCB0byBpdC5cbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQ7XG4gICAgICAgIGlmICh0aGlzLmdldFRhcmdldCgpKSB7XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50ID0gdGhpcy5nZXRUYXJnZXRFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMua2V5SGFuZGxlcktleXNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMua2V5SGFuZGxlcktleXNfW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMua2V5SGFuZGxlcktleXNfID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNPTlRFWFRNRU5VLCB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50Xyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0Xy5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5XSEVFTCwgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8pO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFuZGxlUmVzaXplXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuUkVTSVpFLCB0aGlzLmhhbmRsZVJlc2l6ZV8sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18ubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyXy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfID0gbmV3IE1hcEJyb3dzZXJFdmVudEhhbmRsZXIodGhpcywgdGhpcy5tb3ZlVG9sZXJhbmNlXyk7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gTWFwQnJvd3NlckV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8uYWRkRXZlbnRMaXN0ZW5lcihNYXBCcm93c2VyRXZlbnRUeXBlW2tleV0sIHRoaXMuaGFuZGxlTWFwQnJvd3NlckV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydF8uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ09OVEVYVE1FTlUsIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0Xy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5XSEVFTCwgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8sIFBBU1NJVkVfRVZFTlRfTElTVEVORVJTID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2UpO1xuICAgICAgICAgICAgdmFyIGtleWJvYXJkRXZlbnRUYXJnZXQgPSAhdGhpcy5rZXlib2FyZEV2ZW50VGFyZ2V0X1xuICAgICAgICAgICAgICAgID8gdGFyZ2V0RWxlbWVudFxuICAgICAgICAgICAgICAgIDogdGhpcy5rZXlib2FyZEV2ZW50VGFyZ2V0XztcbiAgICAgICAgICAgIHRoaXMua2V5SGFuZGxlcktleXNfID0gW1xuICAgICAgICAgICAgICAgIGxpc3RlbihrZXlib2FyZEV2ZW50VGFyZ2V0LCBFdmVudFR5cGUuS0VZRE9XTiwgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsIHRoaXMpLFxuICAgICAgICAgICAgICAgIGxpc3RlbihrZXlib2FyZEV2ZW50VGFyZ2V0LCBFdmVudFR5cGUuS0VZUFJFU1MsIHRoaXMuaGFuZGxlQnJvd3NlckV2ZW50LCB0aGlzKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFuZGxlUmVzaXplXykge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzaXplXyA9IHRoaXMudXBkYXRlU2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5SRVNJWkUsIHRoaXMuaGFuZGxlUmVzaXplXywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgICAgICAvLyB1cGRhdGVTaXplIGNhbGxzIHNldFNpemUsIHNvIG5vIG5lZWQgdG8gY2FsbCB0aGlzLnJlbmRlclxuICAgICAgICAvLyBvdXJzZWx2ZXMgaGVyZS5cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVUaWxlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVWaWV3Q2hhbmdlZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5Xykge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5Xyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5Xykge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8pO1xuICAgICAgICAgICAgdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlldyA9IHRoaXMuZ2V0VmlldygpO1xuICAgICAgICBpZiAodmlldykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydFNpemVfKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5XyA9IGxpc3Rlbih2aWV3LCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIHRoaXMuaGFuZGxlVmlld1Byb3BlcnR5Q2hhbmdlZF8sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbGlzdGVuKHZpZXcsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlVmlld1Byb3BlcnR5Q2hhbmdlZF8sIHRoaXMpO1xuICAgICAgICAgICAgdmlldy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5oYW5kbGVMYXllckdyb3VwQ2hhbmdlZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18pIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGF5ZXJHcm91cCA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpO1xuICAgICAgICBpZiAobGF5ZXJHcm91cCkge1xuICAgICAgICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gW1xuICAgICAgICAgICAgICAgIGxpc3RlbihsYXllckdyb3VwLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIHRoaXMucmVuZGVyLCB0aGlzKSxcbiAgICAgICAgICAgICAgICBsaXN0ZW4obGF5ZXJHcm91cCwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5yZW5kZXIsIHRoaXMpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcmVuZGVyZWQuXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5pc1JlbmRlcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmZyYW1lU3RhdGVfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gaW1tZWRpYXRlIHJlbmRlciBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5yZW5kZXJTeW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25EZWxheUtleV8pIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbkRlbGF5XygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVkcmF3cyBhbGwgdGV4dCBhZnRlciBuZXcgZm9udHMgaGF2ZSBsb2FkZWRcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlZHJhd1RleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlcyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gbGF5ZXJTdGF0ZXNbaV0ubGF5ZXI7XG4gICAgICAgICAgICBpZiAobGF5ZXIuaGFzUmVuZGVyZXIoKSkge1xuICAgICAgICAgICAgICAgIGxheWVyLmdldFJlbmRlcmVyKCkuaGFuZGxlRm9udHNDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgYSBtYXAgcmVuZGVyaW5nIChhdCB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXJfICYmIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRGVsYXlfKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBnaXZlbiBjb250cm9sIGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgY29udHJvbCAob3IgdW5kZWZpbmVkXG4gICAgICogICAgIGlmIHRoZSBjb250cm9sIHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZUNvbnRyb2wgPSBmdW5jdGlvbiAoY29udHJvbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb250cm9scygpLnJlbW92ZShjb250cm9sKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZ2l2ZW4gaW50ZXJhY3Rpb24gZnJvbSB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbiB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgaW50ZXJhY3Rpb24gKG9yXG4gICAgICogICAgIHVuZGVmaW5lZCBpZiB0aGUgaW50ZXJhY3Rpb24gd2FzIG5vdCBmb3VuZCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkucmVtb3ZlKGludGVyYWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGxheWVyIChvciB1bmRlZmluZWQgaWYgdGhlXG4gICAgICogICAgIGxheWVyIHdhcyBub3QgZm91bmQpLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnJlbW92ZUxheWVyID0gZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICAgICAgcmV0dXJuIGxheWVycy5yZW1vdmUobGF5ZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBnaXZlbiBvdmVybGF5IGZyb20gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBvdmVybGF5IChvciB1bmRlZmluZWRcbiAgICAgKiAgICAgaWYgdGhlIG92ZXJsYXkgd2FzIG5vdCBmb3VuZCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlT3ZlcmxheSA9IGZ1bmN0aW9uIChvdmVybGF5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE92ZXJsYXlzKCkucmVtb3ZlKG92ZXJsYXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgVGltZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUucmVuZGVyRnJhbWVfID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLmdldFZpZXcoKTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgICAgIC8qKiBAdHlwZSB7P0ZyYW1lU3RhdGV9ICovXG4gICAgICAgIHZhciBmcmFtZVN0YXRlID0gbnVsbDtcbiAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBoYXNBcmVhKHNpemUpICYmIHZpZXcgJiYgdmlldy5pc0RlZigpKSB7XG4gICAgICAgICAgICB2YXIgdmlld0hpbnRzID0gdmlldy5nZXRIaW50cyh0aGlzLmZyYW1lU3RhdGVfID8gdGhpcy5mcmFtZVN0YXRlXy52aWV3SGludHMgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IHZpZXcuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm06IHRoaXMuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm1fLFxuICAgICAgICAgICAgICAgIGRlY2x1dHRlclRyZWU6IG51bGwsXG4gICAgICAgICAgICAgICAgZXh0ZW50OiBnZXRGb3JWaWV3QW5kU2l6ZSh2aWV3U3RhdGUuY2VudGVyLCB2aWV3U3RhdGUucmVzb2x1dGlvbiwgdmlld1N0YXRlLnJvdGF0aW9uLCBzaXplKSxcbiAgICAgICAgICAgICAgICBpbmRleDogdGhpcy5mcmFtZUluZGV4XysrLFxuICAgICAgICAgICAgICAgIGxheWVySW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgbGF5ZXJTdGF0ZXNBcnJheTogdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJTdGF0ZXNBcnJheSgpLFxuICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IHRoaXMucGl4ZWxSYXRpb18sXG4gICAgICAgICAgICAgICAgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm06IHRoaXMucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fLFxuICAgICAgICAgICAgICAgIHBvc3RSZW5kZXJGdW5jdGlvbnM6IFtdLFxuICAgICAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICAgICAgdGlsZVF1ZXVlOiB0aGlzLnRpbGVRdWV1ZV8sXG4gICAgICAgICAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgICAgICAgICB1c2VkVGlsZXM6IHt9LFxuICAgICAgICAgICAgICAgIHZpZXdTdGF0ZTogdmlld1N0YXRlLFxuICAgICAgICAgICAgICAgIHZpZXdIaW50czogdmlld0hpbnRzLFxuICAgICAgICAgICAgICAgIHdhbnRlZFRpbGVzOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFtZVN0YXRlXyA9IGZyYW1lU3RhdGU7XG4gICAgICAgIHRoaXMucmVuZGVyZXJfLnJlbmRlckZyYW1lKGZyYW1lU3RhdGUpO1xuICAgICAgICBpZiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKGZyYW1lU3RhdGUuYW5pbWF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBvc3RSZW5kZXJGdW5jdGlvbnNfLCBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzRnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBtb3ZlU3RhcnQgPSAhdGhpcy5wcmV2aW91c0V4dGVudF8gfHxcbiAgICAgICAgICAgICAgICAgICAgKCFpc0VtcHR5KHRoaXMucHJldmlvdXNFeHRlbnRfKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWVxdWFscyhmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pKTtcbiAgICAgICAgICAgICAgICBpZiAobW92ZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTWFwRXZlbnQoTWFwRXZlbnRUeXBlLk1PVkVTVEFSVCwgdGhpcywgcHJldmlvdXNGcmFtZVN0YXRlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNFeHRlbnRfID0gY3JlYXRlT3JVcGRhdGVFbXB0eSh0aGlzLnByZXZpb3VzRXh0ZW50Xyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGlkbGUgPSB0aGlzLnByZXZpb3VzRXh0ZW50XyAmJlxuICAgICAgICAgICAgICAgICFmcmFtZVN0YXRlLnZpZXdIaW50c1tWaWV3SGludC5BTklNQVRJTkddICYmXG4gICAgICAgICAgICAgICAgIWZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXSAmJlxuICAgICAgICAgICAgICAgICFlcXVhbHMoZnJhbWVTdGF0ZS5leHRlbnQsIHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgICAgIGlmIChpZGxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuTU9WRUVORCwgdGhpcywgZnJhbWVTdGF0ZSkpO1xuICAgICAgICAgICAgICAgIGNsb25lKGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50Xyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcywgZnJhbWVTdGF0ZSkpO1xuICAgICAgICBpZiAoIXRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfKSB7XG4gICAgICAgICAgICB0aGlzLnBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVQb3N0UmVuZGVyKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGF5ZXJncm91cCBvZiB0aGlzIG1hcC5cbiAgICAgKiBAcGFyYW0ge0xheWVyR3JvdXB9IGxheWVyR3JvdXAgQSBsYXllciBncm91cCBjb250YWluaW5nIHRoZSBsYXllcnMgaW4gdGhpcyBtYXAuXG4gICAgICogQG9ic2VydmFibGVcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgUGx1Z2dhYmxlTWFwLnByb3RvdHlwZS5zZXRMYXllckdyb3VwID0gZnVuY3Rpb24gKGxheWVyR3JvdXApIHtcbiAgICAgICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuTEFZRVJHUk9VUCwgbGF5ZXJHcm91cCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNpemUgb2YgdGhpcyBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IHNpemUgVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBtYXAgaW4gdGhlIERPTS5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB0aGlzLnNldChNYXBQcm9wZXJ0eS5TSVpFLCBzaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGFyZ2V0IGVsZW1lbnQgdG8gcmVuZGVyIHRoaXMgbWFwIGludG8uXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd8dW5kZWZpbmVkfSB0YXJnZXQgVGhlIEVsZW1lbnQgb3IgaWQgb2YgdGhlIEVsZW1lbnRcbiAgICAgKiAgICAgdGhhdCB0aGUgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuc2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB0aGlzLnNldChNYXBQcm9wZXJ0eS5UQVJHRVQsIHRhcmdldCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZpZXcgZm9yIHRoaXMgbWFwLlxuICAgICAqIEBwYXJhbSB7Vmlld30gdmlldyBUaGUgdmlldyB0aGF0IGNvbnRyb2xzIHRoaXMgbWFwLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUuc2V0VmlldyA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlZJRVcsIHZpZXcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yY2UgYSByZWNhbGN1bGF0aW9uIG9mIHRoZSBtYXAgdmlld3BvcnQgc2l6ZS4gIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXG4gICAgICogdGhpcmQtcGFydHkgY29kZSBjaGFuZ2VzIHRoZSBzaXplIG9mIHRoZSBtYXAgdmlld3BvcnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBsdWdnYWJsZU1hcC5wcm90b3R5cGUudXBkYXRlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNldFNpemUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXRFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2l6ZShbXG4gICAgICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aCAtXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyTGVmdFdpZHRoJ10pIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydwYWRkaW5nTGVmdCddKSAtXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ1JpZ2h0J10pIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJSaWdodFdpZHRoJ10pLFxuICAgICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0IC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJUb3BXaWR0aCddKSAtXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ1RvcCddKSAtXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ0JvdHRvbSddKSAtXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyQm90dG9tV2lkdGgnXSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZV8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY29tcHV0ZXMgdGhlIHZpZXdwb3J0IHNpemUgYW5kIHNhdmUgaXQgb24gdGhlIHZpZXcgb2JqZWN0IChpZiBhbnkpXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbHVnZ2FibGVNYXAucHJvdG90eXBlLnVwZGF0ZVZpZXdwb3J0U2l6ZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZS53aWR0aCAmJiBjb21wdXRlZFN0eWxlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHNpemUgPSBbXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KGNvbXB1dGVkU3R5bGUud2lkdGgsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmlldy5zZXRWaWV3cG9ydFNpemUoc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQbHVnZ2FibGVNYXA7XG59KEJhc2VPYmplY3QpKTtcbi8qKlxuICogQHBhcmFtIHtNYXBPcHRpb25zfSBvcHRpb25zIE1hcCBvcHRpb25zLlxuICogQHJldHVybiB7TWFwT3B0aW9uc0ludGVybmFsfSBJbnRlcm5hbCBtYXAgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc0ludGVybmFsKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9XG4gICAgICovXG4gICAgdmFyIGtleWJvYXJkRXZlbnRUYXJnZXQgPSBudWxsO1xuICAgIGlmIChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlib2FyZEV2ZW50VGFyZ2V0ID1cbiAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQpXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICAgKi9cbiAgICB2YXIgdmFsdWVzID0ge307XG4gICAgdmFyIGxheWVyR3JvdXAgPSBvcHRpb25zLmxheWVycyAmJlxuICAgICAgICB0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9wdGlvbnMubGF5ZXJzKS5nZXRMYXllcnMpID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gLyoqIEB0eXBlIHtMYXllckdyb3VwfSAqLyAob3B0aW9ucy5sYXllcnMpXG4gICAgICAgIDogbmV3IExheWVyR3JvdXAoeyBsYXllcnM6IC8qKiBAdHlwZSB7Q29sbGVjdGlvbn0gKi8gKG9wdGlvbnMubGF5ZXJzKSB9KTtcbiAgICB2YWx1ZXNbTWFwUHJvcGVydHkuTEFZRVJHUk9VUF0gPSBsYXllckdyb3VwO1xuICAgIHZhbHVlc1tNYXBQcm9wZXJ0eS5UQVJHRVRdID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgdmFsdWVzW01hcFByb3BlcnR5LlZJRVddID1cbiAgICAgICAgb3B0aW9ucy52aWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnZpZXcgOiBuZXcgVmlldygpO1xuICAgIHZhciBjb250cm9scztcbiAgICBpZiAob3B0aW9ucy5jb250cm9scyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuY29udHJvbHMpKSB7XG4gICAgICAgICAgICBjb250cm9scyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMuY29udHJvbHMuc2xpY2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnQodHlwZW9mICggLyoqIEB0eXBlIHs/fSAqLyhvcHRpb25zLmNvbnRyb2xzKS5nZXRBcnJheSkgPT09ICdmdW5jdGlvbicsIDQ3KTsgLy8gRXhwZWN0ZWQgYGNvbnRyb2xzYCB0byBiZSBhbiBhcnJheSBvciBhbiBgaW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25gXG4gICAgICAgICAgICBjb250cm9scyA9IC8qKiBAdHlwZSB7Q29sbGVjdGlvbn0gKi8gKG9wdGlvbnMuY29udHJvbHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBpbnRlcmFjdGlvbnM7XG4gICAgaWYgKG9wdGlvbnMuaW50ZXJhY3Rpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5pbnRlcmFjdGlvbnMpKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbnMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLmludGVyYWN0aW9ucy5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9wdGlvbnMuaW50ZXJhY3Rpb25zKS5nZXRBcnJheSkgPT09XG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uJywgNDgpOyAvLyBFeHBlY3RlZCBgaW50ZXJhY3Rpb25zYCB0byBiZSBhbiBhcnJheSBvciBhbiBgaW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25gXG4gICAgICAgICAgICBpbnRlcmFjdGlvbnMgPSAvKiogQHR5cGUge0NvbGxlY3Rpb259ICovIChvcHRpb25zLmludGVyYWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIG92ZXJsYXlzO1xuICAgIGlmIChvcHRpb25zLm92ZXJsYXlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5vdmVybGF5cykpIHtcbiAgICAgICAgICAgIG92ZXJsYXlzID0gbmV3IENvbGxlY3Rpb24ob3B0aW9ucy5vdmVybGF5cy5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgKCAvKiogQHR5cGUgez99ICovKG9wdGlvbnMub3ZlcmxheXMpLmdldEFycmF5KSA9PT0gJ2Z1bmN0aW9uJywgNDkpOyAvLyBFeHBlY3RlZCBgb3ZlcmxheXNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgICAgICAgIG92ZXJsYXlzID0gb3B0aW9ucy5vdmVybGF5cztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3ZlcmxheXMgPSBuZXcgQ29sbGVjdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb250cm9sczogY29udHJvbHMsXG4gICAgICAgIGludGVyYWN0aW9uczogaW50ZXJhY3Rpb25zLFxuICAgICAgICBrZXlib2FyZEV2ZW50VGFyZ2V0OiBrZXlib2FyZEV2ZW50VGFyZ2V0LFxuICAgICAgICBvdmVybGF5czogb3ZlcmxheXMsXG4gICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBQbHVnZ2FibGVNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QbHVnZ2FibGVNYXAuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL0NvbnRyb2xcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBNYXBFdmVudFR5cGUgZnJvbSAnLi4vTWFwRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCB7IHJlbW92ZU5vZGUgfSBmcm9tICcuLi9kb20uanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBbZWxlbWVudF0gVGhlIGVsZW1lbnQgaXMgdGhlIGNvbnRyb2wnc1xuICogY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgb25seSBuZWVkcyB0byBiZSBzcGVjaWZpZWQgaWYgeW91J3JlIGRldmVsb3BpbmdcbiAqIGEgY3VzdG9tIGNvbnRyb2wuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtyZW5kZXJdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuXG4gKiB0aGUgY29udHJvbCBzaG91bGQgYmUgcmUtcmVuZGVyZWQuIFRoaXMgaXMgY2FsbGVkIGluIGEgYHJlcXVlc3RBbmltYXRpb25GcmFtZWBcbiAqIGNhbGxiYWNrLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFNwZWNpZnkgYSB0YXJnZXQgaWYgeW91IHdhbnRcbiAqIHRoZSBjb250cm9sIHRvIGJlIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhlIG1hcCdzIHZpZXdwb3J0LlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgY29udHJvbCBpcyBhIHZpc2libGUgd2lkZ2V0IHdpdGggYSBET00gZWxlbWVudCBpbiBhIGZpeGVkIHBvc2l0aW9uIG9uIHRoZVxuICogc2NyZWVuLiBUaGV5IGNhbiBpbnZvbHZlIHVzZXIgaW5wdXQgKGJ1dHRvbnMpLCBvciBiZSBpbmZvcm1hdGlvbmFsIG9ubHk7XG4gKiB0aGUgcG9zaXRpb24gaXMgZGV0ZXJtaW5lZCB1c2luZyBDU1MuIEJ5IGRlZmF1bHQgdGhlc2UgYXJlIHBsYWNlZCBpbiB0aGVcbiAqIGNvbnRhaW5lciB3aXRoIENTUyBjbGFzcyBuYW1lIGBvbC1vdmVybGF5Y29udGFpbmVyLXN0b3BldmVudGAsIGJ1dCBjYW4gdXNlXG4gKiBhbnkgb3V0c2lkZSBET00gZWxlbWVudC5cbiAqXG4gKiBUaGlzIGlzIHRoZSBiYXNlIGNsYXNzIGZvciBjb250cm9scy4gWW91IGNhbiB1c2UgaXQgZm9yIHNpbXBsZSBjdXN0b21cbiAqIGNvbnRyb2xzIGJ5IGNyZWF0aW5nIHRoZSBlbGVtZW50IHdpdGggbGlzdGVuZXJzLCBjcmVhdGluZyBhbiBpbnN0YW5jZTpcbiAqIGBgYGpzXG4gKiB2YXIgbXlDb250cm9sID0gbmV3IENvbnRyb2woe2VsZW1lbnQ6IG15RWxlbWVudH0pO1xuICogYGBgXG4gKiBhbmQgdGhlbiBhZGRpbmcgdGhpcyB0byB0aGUgbWFwLlxuICpcbiAqIFRoZSBtYWluIGFkdmFudGFnZSBvZiBoYXZpbmcgdGhpcyBhcyBhIGNvbnRyb2wgcmF0aGVyIHRoYW4gYSBzaW1wbGUgc2VwYXJhdGVcbiAqIERPTSBlbGVtZW50IGlzIHRoYXQgcHJldmVudGluZyBwcm9wYWdhdGlvbiBpcyBoYW5kbGVkIGZvciB5b3UuIENvbnRyb2xzXG4gKiB3aWxsIGFsc28gYmUgb2JqZWN0cyBpbiBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSwgc28geW91IGNhbiB1c2UgdGhlaXIgbWV0aG9kcy5cbiAqXG4gKiBZb3UgY2FuIGFsc28gZXh0ZW5kIHRoaXMgYmFzZSBmb3IgeW91ciBvd24gY29udHJvbCBjbGFzcy4gU2VlXG4gKiBleGFtcGxlcy9jdXN0b20tY29udHJvbHMgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRvIGRvIHRoaXMuXG4gKlxuICogQGFwaVxuICovXG52YXIgQ29udHJvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udHJvbCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgQ29udHJvbCBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbnRyb2wob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgIW9wdGlvbnMudGFyZ2V0ICYmICFlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50ID0gZWxlbWVudCA/IGVsZW1lbnQgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGFyZ2V0XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXBfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpc3RlbmVyS2V5cyA9IFtdO1xuICAgICAgICBpZiAob3B0aW9ucy5yZW5kZXIpIHtcbiAgICAgICAgICAgIF90aGlzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0VGFyZ2V0KG9wdGlvbnMudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwLlxuICAgICAqL1xuICAgIENvbnRyb2wucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLmVsZW1lbnQpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY29udHJvbC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGNvbnRyb2wgZnJvbSBpdHMgY3VycmVudCBtYXAgYW5kIGF0dGFjaCBpdCB0byB0aGUgbmV3IG1hcC5cbiAgICAgKiBTdWJjbGFzc2VzIG1heSBzZXQgdXAgZXZlbnQgaGFuZGxlcnMgdG8gZ2V0IG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgdG9cbiAgICAgKiB0aGUgbWFwIGhlcmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ29udHJvbC5wcm90b3R5cGUuc2V0TWFwID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5saXN0ZW5lcktleXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLmxpc3RlbmVyS2V5c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcktleXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5tYXBfID0gbWFwO1xuICAgICAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXRfXG4gICAgICAgICAgICAgICAgPyB0aGlzLnRhcmdldF9cbiAgICAgICAgICAgICAgICA6IG1hcC5nZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50KCk7XG4gICAgICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlciAhPT0gVk9JRCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJLZXlzLnB1c2gobGlzdGVuKG1hcCwgTWFwRXZlbnRUeXBlLlBPU1RSRU5ERVIsIHRoaXMucmVuZGVyLCB0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXAucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRyb2wuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBFdmVudCBNYXAgZXZlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENvbnRyb2wucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChtYXBFdmVudCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBzZXQgYSB0YXJnZXQgZWxlbWVudCBmb3IgdGhlIGNvbnRyb2wuIEl0IGhhcyBub1xuICAgICAqIGVmZmVjdCBpZiBpdCBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGNvbnRyb2wgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIG1hcCAoaS5lLlxuICAgICAqIGFmdGVyIGBzZXRNYXBgIGlzIGNhbGxlZCBvbiB0aGUgY29udHJvbCkuIElmIG5vIGB0YXJnZXRgIGlzIHNldCBpbiB0aGVcbiAgICAgKiBvcHRpb25zIHBhc3NlZCB0byB0aGUgY29udHJvbCBjb25zdHJ1Y3RvciBhbmQgaWYgYHNldFRhcmdldGAgaXMgbm90IGNhbGxlZFxuICAgICAqIHRoZW4gdGhlIGNvbnRyb2wgaXMgYWRkZWQgdG8gdGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSB0YXJnZXQgVGFyZ2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0XyA9XG4gICAgICAgICAgICB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkgOiB0YXJnZXQ7XG4gICAgfTtcbiAgICByZXR1cm4gQ29udHJvbDtcbn0oQmFzZU9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29udHJvbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRyb2wuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL0F0dHJpYnV0aW9uXG4gKi9cbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgQ0xBU1NfQ09MTEFQU0VELCBDTEFTU19DT05UUk9MLCBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgZXF1YWxzIH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgaW5WaWV3IH0gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHsgcmVtb3ZlQ2hpbGRyZW4sIHJlcGxhY2VOb2RlIH0gZnJvbSAnLi4vZG9tLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWF0dHJpYnV0aW9uJ10gQ1NTIGNsYXNzIG5hbWUuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3VcbiAqIHdhbnQgdGhlIGNvbnRyb2wgdG8gYmUgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3NcbiAqIHZpZXdwb3J0LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29sbGFwc2libGVdIFNwZWNpZnkgaWYgYXR0cmlidXRpb25zIGNhblxuICogYmUgY29sbGFwc2VkLiBJZiBub3Qgc3BlY2lmaWVkLCBzb3VyY2VzIGNvbnRyb2wgdGhpcyBiZWhhdmlvciB3aXRoIHRoZWlyXG4gKiBgYXR0cmlidXRpb25zQ29sbGFwc2libGVgIHNldHRpbmcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb2xsYXBzZWQ9dHJ1ZV0gU3BlY2lmeSBpZiBhdHRyaWJ1dGlvbnMgc2hvdWxkXG4gKiBiZSBjb2xsYXBzZWQgYXQgc3RhcnR1cC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGlwTGFiZWw9J0F0dHJpYnV0aW9ucyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgYnV0dG9uIHRpcC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGFiZWw9J2knXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlXG4gKiBjb2xsYXBzZWQgYXR0cmlidXRpb25zIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtleHBhbmRDbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1leHBhbmQnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlXG4gKiBjb2xsYXBzZWQgYXR0cmlidXRpb25zIGJ1dHRvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbY29sbGFwc2VMYWJlbD0nwrsnXSBUZXh0IGxhYmVsIHRvIHVzZVxuICogZm9yIHRoZSBleHBhbmRlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbGxhcHNlQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctY29sbGFwc2UnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlXG4gKiBleHBhbmRlZCBhdHRyaWJ1dGlvbnMgYnV0dG9uLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlblxuICogdGhlIGNvbnRyb2wgc2hvdWxkIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXG4gKiBjYWxsYmFjay5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250cm9sIHRvIHNob3cgYWxsIHRoZSBhdHRyaWJ1dGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBsYXllciBzb3VyY2VzXG4gKiBpbiB0aGUgbWFwLiBUaGlzIGNvbnRyb2wgaXMgb25lIG9mIHRoZSBkZWZhdWx0IGNvbnRyb2xzIGluY2x1ZGVkIGluIG1hcHMuXG4gKiBCeSBkZWZhdWx0IGl0IHdpbGwgc2hvdyBpbiB0aGUgYm90dG9tIHJpZ2h0IHBvcnRpb24gb2YgdGhlIG1hcCwgYnV0IHRoaXMgY2FuXG4gKiBiZSBjaGFuZ2VkIGJ5IHVzaW5nIGEgY3NzIHNlbGVjdG9yIGZvciBgLm9sLWF0dHJpYnV0aW9uYC5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBBdHRyaWJ1dGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXR0cmlidXRpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgQXR0cmlidXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBdHRyaWJ1dGlvbihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgIHJlbmRlcjogb3B0aW9ucy5yZW5kZXIsXG4gICAgICAgICAgICB0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudWxFbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbGxhcHNlZF8gPVxuICAgICAgICAgICAgb3B0aW9ucy5jb2xsYXBzZWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGFwc2VkIDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXNlckNvbGxhcHNlZF8gPSBfdGhpcy5jb2xsYXBzZWRfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdmVycmlkZUNvbGxhcHNpYmxlXyA9IG9wdGlvbnMuY29sbGFwc2libGUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sbGFwc2libGVfID1cbiAgICAgICAgICAgIG9wdGlvbnMuY29sbGFwc2libGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGFwc2libGUgOiB0cnVlO1xuICAgICAgICBpZiAoIV90aGlzLmNvbGxhcHNpYmxlXykge1xuICAgICAgICAgICAgX3RoaXMuY29sbGFwc2VkXyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBvcHRpb25zLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbGFzc05hbWUgOiAnb2wtYXR0cmlidXRpb24nO1xuICAgICAgICB2YXIgdGlwTGFiZWwgPSBvcHRpb25zLnRpcExhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpcExhYmVsIDogJ0F0dHJpYnV0aW9ucyc7XG4gICAgICAgIHZhciBleHBhbmRDbGFzc05hbWUgPSBvcHRpb25zLmV4cGFuZENsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuZXhwYW5kQ2xhc3NOYW1lXG4gICAgICAgICAgICA6IGNsYXNzTmFtZSArICctZXhwYW5kJztcbiAgICAgICAgdmFyIGNvbGxhcHNlTGFiZWwgPSBvcHRpb25zLmNvbGxhcHNlTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGFwc2VMYWJlbCA6ICdcXHUwMEJCJztcbiAgICAgICAgdmFyIGNvbGxhcHNlQ2xhc3NOYW1lID0gb3B0aW9ucy5jb2xsYXBzZUNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY29sbGFwc2VDbGFzc05hbWVcbiAgICAgICAgICAgIDogY2xhc3NOYW1lICsgJy1jb2xscGFzZSc7XG4gICAgICAgIGlmICh0eXBlb2YgY29sbGFwc2VMYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMuY29sbGFwc2VMYWJlbF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBfdGhpcy5jb2xsYXBzZUxhYmVsXy50ZXh0Q29udGVudCA9IGNvbGxhcHNlTGFiZWw7XG4gICAgICAgICAgICBfdGhpcy5jb2xsYXBzZUxhYmVsXy5jbGFzc05hbWUgPSBjb2xsYXBzZUNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmNvbGxhcHNlTGFiZWxfID0gY29sbGFwc2VMYWJlbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFiZWwgPSBvcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxhYmVsIDogJ2knO1xuICAgICAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgICAgIF90aGlzLmxhYmVsXy5jbGFzc05hbWUgPSBleHBhbmRDbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8gPSBsYWJlbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aXZlTGFiZWwgPSBfdGhpcy5jb2xsYXBzaWJsZV8gJiYgIV90aGlzLmNvbGxhcHNlZF8gPyBfdGhpcy5jb2xsYXBzZUxhYmVsXyA6IF90aGlzLmxhYmVsXztcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24udGl0bGUgPSB0aXBMYWJlbDtcbiAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGFjdGl2ZUxhYmVsKTtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNMSUNLLCBfdGhpcy5oYW5kbGVDbGlja18uYmluZChfdGhpcyksIGZhbHNlKTtcbiAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSBjbGFzc05hbWUgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIENMQVNTX1VOU0VMRUNUQUJMRSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgQ0xBU1NfQ09OVFJPTCArXG4gICAgICAgICAgICAoX3RoaXMuY29sbGFwc2VkXyAmJiBfdGhpcy5jb2xsYXBzaWJsZV8gPyAnICcgKyBDTEFTU19DT0xMQVBTRUQgOiAnJykgK1xuICAgICAgICAgICAgKF90aGlzLmNvbGxhcHNpYmxlXyA/ICcnIDogJyBvbC11bmNvbGxhcHNpYmxlJyk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKF90aGlzLnVsRWxlbWVudF8pO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgY3VycmVudGx5IHJlbmRlcmVkIHJlc29sdXRpb25zLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkQXR0cmlidXRpb25zXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0IGEgbGlzdCBvZiB2aXNpYmxlIGF0dHJpYnV0aW9ucyBhbmQgc2V0IHRoZSBjb2xsYXBzaWJsZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IEF0dHJpYnV0aW9ucy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEF0dHJpYnV0aW9uLnByb3RvdHlwZS5jb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVybWluZSBpZiBhbiBhdHRyaWJ1dGlvbiBhbHJlYWR5IGV4aXN0cy5cbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBsb29rdXAgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB2aXNpYmxlIGF0dHJpYnV0aW9ucy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdmlzaWJsZUF0dHJpYnV0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgY29sbGFwc2libGUgPSB0cnVlO1xuICAgICAgICB2YXIgbGF5ZXJTdGF0ZXNBcnJheSA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXNBcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzQXJyYXlbaV07XG4gICAgICAgICAgICBpZiAoIWluVmlldyhsYXllclN0YXRlLCBmcmFtZVN0YXRlLnZpZXdTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9ICovIChsYXllclN0YXRlLmxheWVyKS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRpb25HZXR0ZXIgPSBzb3VyY2UuZ2V0QXR0cmlidXRpb25zKCk7XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0aW9uR2V0dGVyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRpb25zID0gYXR0cmlidXRpb25HZXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sbGFwc2libGUgPVxuICAgICAgICAgICAgICAgIGNvbGxhcHNpYmxlICYmIHNvdXJjZS5nZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSgpICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGF0dHJpYnV0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBhdHRyaWJ1dGlvbnMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhdHRyaWJ1dGlvbnNbal0gaW4gbG9va3VwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUF0dHJpYnV0aW9ucy5wdXNoKGF0dHJpYnV0aW9uc1tqXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb29rdXBbYXR0cmlidXRpb25zW2pdXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIShhdHRyaWJ1dGlvbnMgaW4gbG9va3VwKSkge1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQXR0cmlidXRpb25zLnB1c2goYXR0cmlidXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwW2F0dHJpYnV0aW9uc10gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMub3ZlcnJpZGVDb2xsYXBzaWJsZV8pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29sbGFwc2libGUoY29sbGFwc2libGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aXNpYmxlQXR0cmlidXRpb25zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUudXBkYXRlRWxlbWVudF8gPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlcmVkVmlzaWJsZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXR0cmlidXRpb25zID0gdGhpcy5jb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyhmcmFtZVN0YXRlKTtcbiAgICAgICAgdmFyIHZpc2libGUgPSBhdHRyaWJ1dGlvbnMubGVuZ3RoID4gMDtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXyAhPSB2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IHZpc2libGUgPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHZpc2libGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVxdWFscyhhdHRyaWJ1dGlvbnMsIHRoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZUNoaWxkcmVuKHRoaXMudWxFbGVtZW50Xyk7XG4gICAgICAgIC8vIGFwcGVuZCB0aGUgYXR0cmlidXRpb25zXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGF0dHJpYnV0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGF0dHJpYnV0aW9uc1tpXTtcbiAgICAgICAgICAgIHRoaXMudWxFbGVtZW50Xy5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVkQXR0cmlidXRpb25zXyA9IGF0dHJpYnV0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXR0cmlidXRpb24ucHJvdG90eXBlLmhhbmRsZUNsaWNrXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmhhbmRsZVRvZ2dsZV8oKTtcbiAgICAgICAgdGhpcy51c2VyQ29sbGFwc2VkXyA9IHRoaXMuY29sbGFwc2VkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXR0cmlidXRpb24ucHJvdG90eXBlLmhhbmRsZVRvZ2dsZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKENMQVNTX0NPTExBUFNFRCk7XG4gICAgICAgIGlmICh0aGlzLmNvbGxhcHNlZF8pIHtcbiAgICAgICAgICAgIHJlcGxhY2VOb2RlKHRoaXMuY29sbGFwc2VMYWJlbF8sIHRoaXMubGFiZWxfKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcGxhY2VOb2RlKHRoaXMubGFiZWxfLCB0aGlzLmNvbGxhcHNlTGFiZWxfKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbGxhcHNlZF8gPSAhdGhpcy5jb2xsYXBzZWRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYXR0cmlidXRpb24gaXMgY29sbGFwc2libGUsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHdpZGdldCBpcyBjb2xsYXBzaWJsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQXR0cmlidXRpb24ucHJvdG90eXBlLmdldENvbGxhcHNpYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsYXBzaWJsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0aGUgYXR0cmlidXRpb24gc2hvdWxkIGJlIGNvbGxhcHNpYmxlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29sbGFwc2libGUgVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNpYmxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUuc2V0Q29sbGFwc2libGUgPSBmdW5jdGlvbiAoY29sbGFwc2libGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29sbGFwc2libGVfID09PSBjb2xsYXBzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sbGFwc2libGVfID0gY29sbGFwc2libGU7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdvbC11bmNvbGxhcHNpYmxlJyk7XG4gICAgICAgIGlmICh0aGlzLnVzZXJDb2xsYXBzZWRfKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVRvZ2dsZV8oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29sbGFwc2Ugb3IgZXhwYW5kIHRoZSBhdHRyaWJ1dGlvbiBhY2NvcmRpbmcgdG8gdGhlIHBhc3NlZCBwYXJhbWV0ZXIuIFdpbGxcbiAgICAgKiBub3QgZG8gYW55dGhpbmcgaWYgdGhlIGF0dHJpYnV0aW9uIGlzbid0IGNvbGxhcHNpYmxlIG9yIGlmIHRoZSBjdXJyZW50XG4gICAgICogY29sbGFwc2VkIHN0YXRlIGlzIGFscmVhZHkgdGhlIG9uZSByZXF1ZXN0ZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjb2xsYXBzZWQgVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQXR0cmlidXRpb24ucHJvdG90eXBlLnNldENvbGxhcHNlZCA9IGZ1bmN0aW9uIChjb2xsYXBzZWQpIHtcbiAgICAgICAgdGhpcy51c2VyQ29sbGFwc2VkXyA9IGNvbGxhcHNlZDtcbiAgICAgICAgaWYgKCF0aGlzLmNvbGxhcHNpYmxlXyB8fCB0aGlzLmNvbGxhcHNlZF8gPT09IGNvbGxhcHNlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlVG9nZ2xlXygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGB0cnVlYCB3aGVuIHRoZSBhdHRyaWJ1dGlvbiBpcyBjdXJyZW50bHkgY29sbGFwc2VkIG9yIGBmYWxzZWBcbiAgICAgKiBvdGhlcndpc2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNlZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQXR0cmlidXRpb24ucHJvdG90eXBlLmdldENvbGxhcHNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2VkXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYXR0cmlidXRpb24gZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBdHRyaWJ1dGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG1hcEV2ZW50KSB7XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudF8obWFwRXZlbnQuZnJhbWVTdGF0ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQXR0cmlidXRpb247XG59KENvbnRyb2wpKTtcbmV4cG9ydCBkZWZhdWx0IEF0dHJpYnV0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXR0cmlidXRpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL1JvdGF0ZVxuICovXG5pbXBvcnQgQ29udHJvbCBmcm9tICcuL0NvbnRyb2wuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7IENMQVNTX0NPTlRST0wsIENMQVNTX0hJRERFTiwgQ0xBU1NfVU5TRUxFQ1RBQkxFIH0gZnJvbSAnLi4vY3NzLmpzJztcbmltcG9ydCB7IGVhc2VPdXQgfSBmcm9tICcuLi9lYXNpbmcuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtcm90YXRlJ10gQ1NTIGNsYXNzIG5hbWUuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW2xhYmVsPSfih6cnXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHJvdGF0ZSBidXR0b24uXG4gKiBJbnN0ZWFkIG9mIHRleHQsIGFsc28gYW4gZWxlbWVudCAoZS5nLiBhIGBzcGFuYCBlbGVtZW50KSBjYW4gYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGlwTGFiZWw9J1Jlc2V0IHJvdGF0aW9uJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSByb3RhdGUgdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjb21wYXNzQ2xhc3NOYW1lPSdvbC1jb21wYXNzJ10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZSBjb21wYXNzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdXRvSGlkZT10cnVlXSBIaWRlIHRoZSBjb250cm9sIHdoZW4gcm90YXRpb24gaXMgMC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW3JlbmRlcl0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGNvbnRyb2wgc2hvdWxkXG4gKiBiZSByZS1yZW5kZXJlZC4gVGhpcyBpcyBjYWxsZWQgaW4gYSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBjYWxsYmFjay5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oKTp2b2lkfSBbcmVzZXROb3J0aF0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGNvbnRyb2wgaXMgY2xpY2tlZC5cbiAqIFRoaXMgd2lsbCBvdmVycmlkZSB0aGUgZGVmYXVsdCBgcmVzZXROb3J0aGAuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudCB0aGUgY29udHJvbCB0byBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBidXR0b24gY29udHJvbCB0byByZXNldCByb3RhdGlvbiB0byAwLlxuICogVG8gc3R5bGUgdGhpcyBjb250cm9sIHVzZSBjc3Mgc2VsZWN0b3IgYC5vbC1yb3RhdGVgLiBBIGAub2wtaGlkZGVuYCBjc3NcbiAqIHNlbGVjdG9yIGlzIGFkZGVkIHRvIHRoZSBidXR0b24gd2hlbiB0aGUgcm90YXRpb24gaXMgMC5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBSb3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvdGF0ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBSb3RhdGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3RhdGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyLFxuICAgICAgICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC1yb3RhdGUnO1xuICAgICAgICB2YXIgbGFiZWwgPSBvcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxhYmVsIDogJ1xcdTIxRTcnO1xuICAgICAgICB2YXIgY29tcGFzc0NsYXNzTmFtZSA9IG9wdGlvbnMuY29tcGFzc0NsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY29tcGFzc0NsYXNzTmFtZVxuICAgICAgICAgICAgOiAnb2wtY29tcGFzcyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYWJlbF8gPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLmNsYXNzTmFtZSA9IGNvbXBhc3NDbGFzc05hbWU7XG4gICAgICAgICAgICBfdGhpcy5sYWJlbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmxhYmVsXyA9IGxhYmVsO1xuICAgICAgICAgICAgX3RoaXMubGFiZWxfLmNsYXNzTGlzdC5hZGQoY29tcGFzc0NsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpcExhYmVsID0gb3B0aW9ucy50aXBMYWJlbCA/IG9wdGlvbnMudGlwTGFiZWwgOiAnUmVzZXQgcm90YXRpb24nO1xuICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnLXJlc2V0JztcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnRpdGxlID0gdGlwTGFiZWw7XG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChfdGhpcy5sYWJlbF8pO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0xJQ0ssIF90aGlzLmhhbmRsZUNsaWNrXy5iaW5kKF90aGlzKSwgZmFsc2UpO1xuICAgICAgICB2YXIgY3NzQ2xhc3NlcyA9IGNsYXNzTmFtZSArICcgJyArIENMQVNTX1VOU0VMRUNUQUJMRSArICcgJyArIENMQVNTX0NPTlRST0w7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgIF90aGlzLmNhbGxSZXNldE5vcnRoXyA9IG9wdGlvbnMucmVzZXROb3J0aCA/IG9wdGlvbnMucmVzZXROb3J0aCA6IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvSGlkZV8gPSBvcHRpb25zLmF1dG9IaWRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9IaWRlIDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRpb25fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoX3RoaXMuYXV0b0hpZGVfKSB7XG4gICAgICAgICAgICBfdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm90YXRlLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FsbFJlc2V0Tm9ydGhfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFJlc2V0Tm9ydGhfKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Tm9ydGhfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm90YXRlLnByb3RvdHlwZS5yZXNldE5vcnRoXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKCF2aWV3KSB7XG4gICAgICAgICAgICAvLyB0aGUgbWFwIGRvZXMgbm90IGhhdmUgYSB2aWV3LCBzbyB3ZSBjYW4ndCBhY3RcbiAgICAgICAgICAgIC8vIHVwb24gaXRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm90YXRpb24gPSB2aWV3LmdldFJvdGF0aW9uKCk7XG4gICAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kdXJhdGlvbl8gPiAwICYmIHJvdGF0aW9uICUgKDIgKiBNYXRoLlBJKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0Um90YXRpb24oMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgcm90YXRlIGNvbnRyb2wgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBSb3RhdGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChtYXBFdmVudCkge1xuICAgICAgICB2YXIgZnJhbWVTdGF0ZSA9IG1hcEV2ZW50LmZyYW1lU3RhdGU7XG4gICAgICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICBpZiAocm90YXRpb24gIT0gdGhpcy5yb3RhdGlvbl8pIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSAncm90YXRlKCcgKyByb3RhdGlvbiArICdyYWQpJztcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9IaWRlXykge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWlucyA9IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zICYmIHJvdGF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX0hJRERFTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5zICYmIHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX0hJRERFTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYWJlbF8uc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUm90YXRlO1xufShDb250cm9sKSk7XG5leHBvcnQgZGVmYXVsdCBSb3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3RhdGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL1pvb21cbiAqL1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9Db250cm9sLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBDTEFTU19DT05UUk9MLCBDTEFTU19VTlNFTEVDVEFCTEUgfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHsgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLXpvb20nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbem9vbUluQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctaW4nXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIHpvb20taW4gYnV0dG9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0Q2xhc3NOYW1lPWNsYXNzTmFtZSArICctb3V0J10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZSB6b29tLW91dCBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW3pvb21JbkxhYmVsPScrJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSB6b29tLWluXG4gKiBidXR0b24uIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFt6b29tT3V0TGFiZWw9Jy0nXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHpvb20tb3V0IGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tSW5UaXBMYWJlbD0nWm9vbSBpbiddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgYnV0dG9uIHRpcC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbem9vbU91dFRpcExhYmVsPSdab29tIG91dCddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgYnV0dG9uIHRpcC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZGVsdGE9MV0gVGhlIHpvb20gZGVsdGEgYXBwbGllZCBvbiBlYWNoIGNsaWNrLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFNwZWNpZnkgYSB0YXJnZXQgaWYgeW91IHdhbnQgdGhlIGNvbnRyb2wgdG8gYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhlIG1hcCdzIHZpZXdwb3J0LlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgY29udHJvbCB3aXRoIDIgYnV0dG9ucywgb25lIGZvciB6b29tIGluIGFuZCBvbmUgZm9yIHpvb20gb3V0LlxuICogVGhpcyBjb250cm9sIGlzIG9uZSBvZiB0aGUgZGVmYXVsdCBjb250cm9scyBvZiBhIG1hcC4gVG8gc3R5bGUgdGhpcyBjb250cm9sXG4gKiB1c2UgY3NzIHNlbGVjdG9ycyBgLm9sLXpvb20taW5gIGFuZCBgLm9sLXpvb20tb3V0YC5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhab29tLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIFpvb20gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC16b29tJztcbiAgICAgICAgdmFyIGRlbHRhID0gb3B0aW9ucy5kZWx0YSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kZWx0YSA6IDE7XG4gICAgICAgIHZhciB6b29tSW5DbGFzc05hbWUgPSBvcHRpb25zLnpvb21JbkNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbUluQ2xhc3NOYW1lXG4gICAgICAgICAgICA6IGNsYXNzTmFtZSArICctaW4nO1xuICAgICAgICB2YXIgem9vbU91dENsYXNzTmFtZSA9IG9wdGlvbnMuem9vbU91dENsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbU91dENsYXNzTmFtZVxuICAgICAgICAgICAgOiBjbGFzc05hbWUgKyAnLW91dCc7XG4gICAgICAgIHZhciB6b29tSW5MYWJlbCA9IG9wdGlvbnMuem9vbUluTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluTGFiZWwgOiAnKyc7XG4gICAgICAgIHZhciB6b29tT3V0TGFiZWwgPSBvcHRpb25zLnpvb21PdXRMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tT3V0TGFiZWwgOiAnXFx1MjIxMic7XG4gICAgICAgIHZhciB6b29tSW5UaXBMYWJlbCA9IG9wdGlvbnMuem9vbUluVGlwTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluVGlwTGFiZWwgOiAnWm9vbSBpbic7XG4gICAgICAgIHZhciB6b29tT3V0VGlwTGFiZWwgPSBvcHRpb25zLnpvb21PdXRUaXBMYWJlbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuem9vbU91dFRpcExhYmVsXG4gICAgICAgICAgICA6ICdab29tIG91dCc7XG4gICAgICAgIHZhciBpbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgaW5FbGVtZW50LmNsYXNzTmFtZSA9IHpvb21JbkNsYXNzTmFtZTtcbiAgICAgICAgaW5FbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgaW5FbGVtZW50LnRpdGxlID0gem9vbUluVGlwTGFiZWw7XG4gICAgICAgIGluRWxlbWVudC5hcHBlbmRDaGlsZCh0eXBlb2Ygem9vbUluTGFiZWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21JbkxhYmVsKVxuICAgICAgICAgICAgOiB6b29tSW5MYWJlbCk7XG4gICAgICAgIGluRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DTElDSywgX3RoaXMuaGFuZGxlQ2xpY2tfLmJpbmQoX3RoaXMsIGRlbHRhKSwgZmFsc2UpO1xuICAgICAgICB2YXIgb3V0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBvdXRFbGVtZW50LmNsYXNzTmFtZSA9IHpvb21PdXRDbGFzc05hbWU7XG4gICAgICAgIG91dEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICBvdXRFbGVtZW50LnRpdGxlID0gem9vbU91dFRpcExhYmVsO1xuICAgICAgICBvdXRFbGVtZW50LmFwcGVuZENoaWxkKHR5cGVvZiB6b29tT3V0TGFiZWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21PdXRMYWJlbClcbiAgICAgICAgICAgIDogem9vbU91dExhYmVsKTtcbiAgICAgICAgb3V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DTElDSywgX3RoaXMuaGFuZGxlQ2xpY2tfLmJpbmQoX3RoaXMsIC1kZWx0YSksIGZhbHNlKTtcbiAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY3NzQ2xhc3NlcztcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChpbkVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG91dEVsZW1lbnQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFpvb20gZGVsdGEuXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBab29tLnByb3RvdHlwZS5oYW5kbGVDbGlja18gPSBmdW5jdGlvbiAoZGVsdGEsIGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuem9vbUJ5RGVsdGFfKGRlbHRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBab29tIGRlbHRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgWm9vbS5wcm90b3R5cGUuem9vbUJ5RGVsdGFfID0gZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICghdmlldykge1xuICAgICAgICAgICAgLy8gdGhlIG1hcCBkb2VzIG5vdCBoYXZlIGEgdmlldywgc28gd2UgY2FuJ3QgYWN0XG4gICAgICAgICAgICAvLyB1cG9uIGl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRab29tID0gdmlldy5nZXRab29tKCk7XG4gICAgICAgIGlmIChjdXJyZW50Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgbmV3Wm9vbSA9IHZpZXcuZ2V0Q29uc3RyYWluZWRab29tKGN1cnJlbnRab29tICsgZGVsdGEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZHVyYXRpb25fID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh2aWV3LmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3LmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICB6b29tOiBuZXdab29tLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0Wm9vbShuZXdab29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFpvb207XG59KENvbnRyb2wpKTtcbmV4cG9ydCBkZWZhdWx0IFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ab29tLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tXG4gKi9cbmltcG9ydCBJbnRlcmFjdGlvbiwgeyB6b29tQnlEZWx0YSB9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggZG91YmxlIGNsaWNrLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIGJ5IGRvdWJsZS1jbGlja2luZyBvbiB0aGUgbWFwLlxuICogQGFwaVxuICovXG52YXIgRG91YmxlQ2xpY2tab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEb3VibGVDbGlja1pvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEb3VibGVDbGlja1pvb20ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVsdGFfID0gb3B0aW9ucy5kZWx0YSA/IG9wdGlvbnMuZGVsdGEgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IChpZiBpdCB3YXMgYVxuICAgICAqIGRvdWJsZWNsaWNrKSBhbmQgZXZlbnR1YWxseSB6b29tcyB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICovXG4gICAgRG91YmxlQ2xpY2tab29tLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdmFyIHN0b3BFdmVudCA9IGZhbHNlO1xuICAgICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5EQkxDTElDSykge1xuICAgICAgICAgICAgdmFyIGJyb3dzZXJFdmVudCA9IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlO1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gYnJvd3NlckV2ZW50LnNoaWZ0S2V5ID8gLXRoaXMuZGVsdGFfIDogdGhpcy5kZWx0YV87XG4gICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgYW5jaG9yLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgICAgICBicm93c2VyRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHN0b3BFdmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gRG91YmxlQ2xpY2tab29tO1xufShJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgRG91YmxlQ2xpY2tab29tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RG91YmxlQ2xpY2tab29tLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ1BhblxuICovXG5pbXBvcnQgUG9pbnRlckludGVyYWN0aW9uLCB7IGNlbnRyb2lkIGFzIGNlbnRyb2lkRnJvbVBvaW50ZXJzLCB9IGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQgeyBGQUxTRSB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhbGwsIGZvY3VzV2l0aFRhYmluZGV4LCBub01vZGlmaWVyS2V5cywgcHJpbWFyeUFjdGlvbiwgfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7IGVhc2VPdXQgfSBmcm9tICcuLi9lYXNpbmcuanMnO1xuaW1wb3J0IHsgcm90YXRlIGFzIHJvdGF0ZUNvb3JkaW5hdGUsIHNjYWxlIGFzIHNjYWxlQ29vcmRpbmF0ZSwgfSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5ub01vZGlmaWVyS2V5c30gYW5kIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5wcmltYXJ5QWN0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29uRm9jdXNPbmx5PWZhbHNlXSBXaGVuIHRoZSBtYXAncyB0YXJnZXQgaGFzIGEgYHRhYmluZGV4YCBhdHRyaWJ1dGUgc2V0LFxuICogdGhlIGludGVyYWN0aW9uIHdpbGwgb25seSBoYW5kbGUgZXZlbnRzIHdoZW4gdGhlIG1hcCBoYXMgdGhlIGZvY3VzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9LaW5ldGljLmpzXCIpLmRlZmF1bHR9IFtraW5ldGljXSBLaW5ldGljIGluZXJ0aWEgdG8gYXBwbHkgdG8gdGhlIHBhbi5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcGFuIHRoZSBtYXAgYnkgZHJhZ2dpbmcgdGhlIG1hcC5cbiAqIEBhcGlcbiAqL1xudmFyIERyYWdQYW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERyYWdQYW4sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEcmFnUGFuKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIHN0b3BEb3duOiBGQUxTRSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vS2luZXRpYy5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmtpbmV0aWNfID0gb3B0aW9ucy5raW5ldGljO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGFzdENlbnRyb2lkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0UG9pbnRlcnNDb3VudF87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhbm5pbmdfID0gZmFsc2U7XG4gICAgICAgIHZhciBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgICAgICAgPyBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgICAgICAgOiBhbGwobm9Nb2RpZmllcktleXMsIHByaW1hcnlBY3Rpb24pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMub25Gb2N1c09ubHlcbiAgICAgICAgICAgID8gYWxsKGZvY3VzV2l0aFRhYmluZGV4LCBjb25kaXRpb24pXG4gICAgICAgICAgICA6IGNvbmRpdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubm9LaW5ldGljXyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKi9cbiAgICBEcmFnUGFuLnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5wYW5uaW5nXykge1xuICAgICAgICAgICAgdGhpcy5wYW5uaW5nXyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmdldE1hcCgpLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhcmdldFBvaW50ZXJzID0gdGhpcy50YXJnZXRQb2ludGVycztcbiAgICAgICAgdmFyIGNlbnRyb2lkID0gY2VudHJvaWRGcm9tUG9pbnRlcnModGFyZ2V0UG9pbnRlcnMpO1xuICAgICAgICBpZiAodGFyZ2V0UG9pbnRlcnMubGVuZ3RoID09IHRoaXMubGFzdFBvaW50ZXJzQ291bnRfKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgICAgICAgICAgIHRoaXMua2luZXRpY18udXBkYXRlKGNlbnRyb2lkWzBdLCBjZW50cm9pZFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0Q2VudHJvaWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdENlbnRyb2lkWzBdIC0gY2VudHJvaWRbMF0sXG4gICAgICAgICAgICAgICAgICAgIGNlbnRyb2lkWzFdIC0gdGhpcy5sYXN0Q2VudHJvaWRbMV0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICAgICAgc2NhbGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJlc29sdXRpb24oKSk7XG4gICAgICAgICAgICAgICAgcm90YXRlQ29vcmRpbmF0ZShkZWx0YSwgdmlldy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgICAgICAgICB2aWV3LmFkanVzdENlbnRlckludGVybmFsKGRlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgICAgICAvLyByZXNldCBzbyB3ZSBkb24ndCBvdmVyZXN0aW1hdGUgdGhlIGtpbmV0aWMgZW5lcmd5IGFmdGVyXG4gICAgICAgICAgICAvLyBhZnRlciBvbmUgZmluZ2VyIGRvd24sIHRpbnkgZHJhZywgc2Vjb25kIGZpbmdlciBkb3duXG4gICAgICAgICAgICB0aGlzLmtpbmV0aWNfLmJlZ2luKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWQgPSBjZW50cm9pZDtcbiAgICAgICAgdGhpcy5sYXN0UG9pbnRlcnNDb3VudF8gPSB0YXJnZXRQb2ludGVycy5sZW5ndGg7XG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICovXG4gICAgRHJhZ1Bhbi5wcm90b3R5cGUuaGFuZGxlVXBFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubm9LaW5ldGljXyAmJiB0aGlzLmtpbmV0aWNfICYmIHRoaXMua2luZXRpY18uZW5kKCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSB0aGlzLmtpbmV0aWNfLmdldERpc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gdGhpcy5raW5ldGljXy5nZXRBbmdsZSgpO1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSB2aWV3LmdldENlbnRlckludGVybmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlcnB4ID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbChjZW50ZXIpO1xuICAgICAgICAgICAgICAgIHZhciBkZXN0ID0gbWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChbXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcnB4WzBdIC0gZGlzdGFuY2UgKiBNYXRoLmNvcyhhbmdsZSksXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcnB4WzFdIC0gZGlzdGFuY2UgKiBNYXRoLnNpbihhbmdsZSksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgdmlldy5hbmltYXRlSW50ZXJuYWwoe1xuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IHZpZXcuZ2V0Q29uc3RyYWluZWRDZW50ZXIoZGVzdCksXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBhbm5pbmdfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYW5uaW5nXyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgc28gd2UgZG9uJ3Qgb3ZlcmVzdGltYXRlIHRoZSBraW5ldGljIGVuZXJneSBhZnRlclxuICAgICAgICAgICAgICAgIC8vIGFmdGVyIG9uZSBmaW5nZXIgdXAsIHRpbnkgZHJhZywgc2Vjb25kIGZpbmdlciB1cFxuICAgICAgICAgICAgICAgIHRoaXMua2luZXRpY18uYmVnaW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFzdENlbnRyb2lkID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnUGFuLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+IDAgJiYgdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuICAgICAgICAgICAgLy8gc3RvcCBhbnkgY3VycmVudCBhbmltYXRpb25cbiAgICAgICAgICAgIGlmICh2aWV3LmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgICAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgICAgICAgICAgIHRoaXMua2luZXRpY18uYmVnaW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vIGtpbmV0aWMgYXMgc29vbiBhcyBtb3JlIHRoYW4gb25lIHBvaW50ZXIgb24gdGhlIHNjcmVlbiBpc1xuICAgICAgICAgICAgLy8gZGV0ZWN0ZWQuIFRoaXMgaXMgdG8gcHJldmVudCBuYXN0eSBwYW5zIGFmdGVyIHBpbmNoLlxuICAgICAgICAgICAgdGhpcy5ub0tpbmV0aWNfID0gdGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPiAxO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEcmFnUGFuO1xufShQb2ludGVySW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IERyYWdQYW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EcmFnUGFuLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZVxuICovXG5pbXBvcnQgUG9pbnRlckludGVyYWN0aW9uIGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQgeyBGQUxTRSB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBhbHRTaGlmdEtleXNPbmx5LCBtb3VzZUFjdGlvbkJ1dHRvbiwgbW91c2VPbmx5LCB9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHsgZGlzYWJsZSB9IGZyb20gJy4uL3JvdGF0aW9uY29uc3RyYWludC5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhIGJvb2xlYW5cbiAqIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufmFsdFNoaWZ0S2V5c09ubHl9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIHRoZSBhbHQgYW5kIHNoaWZ0IGtleXMgYXJlIGhlbGQgZG93bi5cbiAqXG4gKiBUaGlzIGludGVyYWN0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBtb3VzZSBkZXZpY2VzLlxuICogQGFwaVxuICovXG52YXIgRHJhZ1JvdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHJhZ1JvdGF0ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERyYWdSb3RhdGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgc3RvcERvd246IEZBTFNFLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBhbHRTaGlmdEtleXNPbmx5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gPT09IGRpc2FibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XG4gICAgICAgIHZhciBvZmZzZXQgPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgICAgIHZhciB0aGV0YSA9IE1hdGguYXRhbjIoc2l6ZVsxXSAvIDIgLSBvZmZzZXRbMV0sIG9mZnNldFswXSAtIHNpemVbMF0gLyAyKTtcbiAgICAgICAgaWYgKHRoaXMubGFzdEFuZ2xlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSB0aGV0YSAtIHRoaXMubGFzdEFuZ2xlXztcbiAgICAgICAgICAgIHZpZXcuYWRqdXN0Um90YXRpb25JbnRlcm5hbCgtZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IHRoZXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgICAqL1xuICAgIERyYWdSb3RhdGUucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24odGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnUm90YXRlLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW91c2VBY3Rpb25CdXR0b24obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAgICAgdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERyYWdSb3RhdGU7XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgRHJhZ1JvdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyYWdSb3RhdGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9Cb3hcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBEaXNwb3NhYmxlIGZyb20gJy4uL0Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IFBvbHlnb24gZnJvbSAnLi4vZ2VvbS9Qb2x5Z29uLmpzJztcbnZhciBSZW5kZXJCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlckJveCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIENTUyBjbGFzcyBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlckJveChjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdlb21ldHJ5XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBfdGhpcy5lbGVtZW50Xy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICAgIF90aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9ICdvbC1ib3ggJyArIGNsYXNzTmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW5kUGl4ZWxfID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cC5cbiAgICAgKi9cbiAgICBSZW5kZXJCb3gucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRNYXAobnVsbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlbmRlckJveC5wcm90b3R5cGUucmVuZGVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0UGl4ZWwgPSB0aGlzLnN0YXJ0UGl4ZWxfO1xuICAgICAgICB2YXIgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICAgICAgdmFyIHB4ID0gJ3B4JztcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICAgICAgc3R5bGUubGVmdCA9IE1hdGgubWluKHN0YXJ0UGl4ZWxbMF0sIGVuZFBpeGVsWzBdKSArIHB4O1xuICAgICAgICBzdHlsZS50b3AgPSBNYXRoLm1pbihzdGFydFBpeGVsWzFdLCBlbmRQaXhlbFsxXSkgKyBweDtcbiAgICAgICAgc3R5bGUud2lkdGggPSBNYXRoLmFicyhlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF0pICsgcHg7XG4gICAgICAgIHN0eWxlLmhlaWdodCA9IE1hdGguYWJzKGVuZFBpeGVsWzFdIC0gc3RhcnRQaXhlbFsxXSkgKyBweDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5zZXRNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgICAgICAgIHRoaXMubWFwXy5nZXRPdmVybGF5Q29udGFpbmVyKCkucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmVsZW1lbnRfLnN0eWxlO1xuICAgICAgICAgICAgc3R5bGUubGVmdCA9ICdpbmhlcml0JztcbiAgICAgICAgICAgIHN0eWxlLnRvcCA9ICdpbmhlcml0JztcbiAgICAgICAgICAgIHN0eWxlLndpZHRoID0gJ2luaGVyaXQnO1xuICAgICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gJ2luaGVyaXQnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMubWFwXykge1xuICAgICAgICAgICAgdGhpcy5tYXBfLmdldE92ZXJsYXlDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBTdGFydCBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBlbmRQaXhlbCBFbmQgcGl4ZWwuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5zZXRQaXhlbHMgPSBmdW5jdGlvbiAoc3RhcnRQaXhlbCwgZW5kUGl4ZWwpIHtcbiAgICAgICAgdGhpcy5zdGFydFBpeGVsXyA9IHN0YXJ0UGl4ZWw7XG4gICAgICAgIHRoaXMuZW5kUGl4ZWxfID0gZW5kUGl4ZWw7XG4gICAgICAgIHRoaXMuY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLnJlbmRlcl8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgdXBkYXRlcyB0aGUgY2FjaGVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIFJlbmRlckJveC5wcm90b3R5cGUuY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0UGl4ZWwgPSB0aGlzLnN0YXJ0UGl4ZWxfO1xuICAgICAgICB2YXIgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICAgICAgdmFyIHBpeGVscyA9IFtcbiAgICAgICAgICAgIHN0YXJ0UGl4ZWwsXG4gICAgICAgICAgICBbc3RhcnRQaXhlbFswXSwgZW5kUGl4ZWxbMV1dLFxuICAgICAgICAgICAgZW5kUGl4ZWwsXG4gICAgICAgICAgICBbZW5kUGl4ZWxbMF0sIHN0YXJ0UGl4ZWxbMV1dLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBwaXhlbHMubWFwKHRoaXMubWFwXy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwsIHRoaXMubWFwXyk7XG4gICAgICAgIC8vIGNsb3NlIHRoZSBwb2x5Z29uXG4gICAgICAgIGNvb3JkaW5hdGVzWzRdID0gY29vcmRpbmF0ZXNbMF0uc2xpY2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLmdlb21ldHJ5Xykge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeV8gPSBuZXcgUG9seWdvbihbY29vcmRpbmF0ZXNdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlfLnNldENvb3JkaW5hdGVzKFtjb29yZGluYXRlc10pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICAgICovXG4gICAgUmVuZGVyQm94LnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlfO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlckJveDtcbn0oRGlzcG9zYWJsZSkpO1xuZXhwb3J0IGRlZmF1bHQgUmVuZGVyQm94O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm94LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ0JveFxuICovXG4vLyBGSVhNRSBkcmF3IGRyYWcgYm94XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCBSZW5kZXJCb3ggZnJvbSAnLi4vcmVuZGVyL0JveC5qcyc7XG5pbXBvcnQgeyBtb3VzZUFjdGlvbkJ1dHRvbiB9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH0gYW5kIHR3b1xuICoge0BsaW5rIG1vZHVsZTpvbC9waXhlbH5QaXhlbH1zIGFuZCByZXR1cm5zIGEgYHtib29sZWFufWAuIElmIHRoZSBjb25kaXRpb24gaXMgbWV0LFxuICogdHJ1ZSBzaG91bGQgYmUgcmV0dXJuZWQuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczogPywgaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsLCBpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbCk6Ym9vbGVhbn0gRW5kQ29uZGl0aW9uXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWRyYWdib3gnXSBDU1MgY2xhc3MgbmFtZSBmb3Igc3R5bGluZyB0aGUgYm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBvbC9ldmVudHMvY29uZGl0aW9ufm1vdXNlQWN0aW9uQnV0dG9ufS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluQXJlYT02NF0gVGhlIG1pbmltdW0gYXJlYSBvZiB0aGUgYm94IGluIHBpeGVsLCB0aGlzIHZhbHVlIGlzIHVzZWQgYnkgdGhlIGRlZmF1bHRcbiAqIGBib3hFbmRDb25kaXRpb25gIGZ1bmN0aW9uLlxuICogQHByb3BlcnR5IHtFbmRDb25kaXRpb259IFtib3hFbmRDb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHR3b1xuICoge0BsaW5rIG1vZHVsZTpvbC9waXhlbH5QaXhlbH1zIHRvIGluZGljYXRlIHdoZXRoZXIgYSBgYm94ZW5kYCBldmVudCBzaG91bGQgYmUgZmlyZWQuXG4gKiBEZWZhdWx0IGlzIGB0cnVlYCBpZiB0aGUgYXJlYSBvZiB0aGUgYm94IGlzIGJpZ2dlciB0aGFuIHRoZSBgbWluQXJlYWAgb3B0aW9uLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbih0aGlzOkRyYWdCb3gsIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbb25Cb3hFbmRdIENvZGUgdG8gZXhlY3V0ZSBqdXN0XG4gKiBiZWZvcmUgYGJveGVuZGAgaXMgZmlyZWQuXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xudmFyIERyYWdCb3hFdmVudFR5cGUgPSB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggc3RhcnQuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1hTVEFSVDogJ2JveHN0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgb24gZHJhZyB3aGVuIGJveCBpcyBhY3RpdmUuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hkcmFnXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJPWERSQUc6ICdib3hkcmFnJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgdXBvbiBkcmFnIGJveCBlbmQuXG4gICAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hlbmRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQk9YRU5EOiAnYm94ZW5kJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgdXBvbiBkcmFnIGJveCBjYW5jZWxlZC5cbiAgICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveGNhbmNlbFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCT1hDQU5DRUw6ICdib3hjYW5jZWwnLFxufTtcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnQm94fkRyYWdCb3h9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mXG4gKiB0aGlzIHR5cGUuXG4gKi9cbnZhciBEcmFnQm94RXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERyYWdCb3hFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgZXZlbnQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgT3JpZ2luYXRpbmcgZXZlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRHJhZ0JveEV2ZW50KHR5cGUsIGNvb3JkaW5hdGUsIG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIGRyYWcgZXZlbnQuXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb29yZGluYXRlID0gY29vcmRpbmF0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBhcGlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hcEJyb3dzZXJFdmVudCA9IG1hcEJyb3dzZXJFdmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRHJhZ0JveEV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgRHJhZ0JveEV2ZW50IH07XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBkcmF3IGEgdmVjdG9yIGJveCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmcgb24gdGhlIG1hcCxcbiAqIG5vcm1hbGx5IGNvbWJpbmVkIHdpdGggYW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufSB0aGF0IGxpbWl0c1xuICogaXQgdG8gd2hlbiB0aGUgc2hpZnQgb3Igb3RoZXIga2V5IGlzIGhlbGQgZG93bi4gVGhpcyBpcyB1c2VkLCBmb3IgZXhhbXBsZSxcbiAqIGZvciB6b29taW5nIHRvIGEgc3BlY2lmaWMgYXJlYSBvZiB0aGUgbWFwXG4gKiAoc2VlIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1pvb21+RHJhZ1pvb219IGFuZFxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlQW5kWm9vbX0pLlxuICpcbiAqIEBmaXJlcyBEcmFnQm94RXZlbnRcbiAqIEBhcGlcbiAqL1xudmFyIERyYWdCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERyYWdCb3gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEcmFnQm94KG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9Cb3guanNcIikuZGVmYXVsdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJveF8gPSBuZXcgUmVuZGVyQm94KG9wdGlvbnMuY2xhc3NOYW1lIHx8ICdvbC1kcmFnYm94Jyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWluQXJlYV8gPSBvcHRpb25zLm1pbkFyZWEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluQXJlYSA6IDY0O1xuICAgICAgICBpZiAob3B0aW9ucy5vbkJveEVuZCkge1xuICAgICAgICAgICAgX3RoaXMub25Cb3hFbmQgPSBvcHRpb25zLm9uQm94RW5kO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGFydFBpeGVsXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IG1vdXNlQWN0aW9uQnV0dG9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0VuZENvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJveEVuZENvbmRpdGlvbl8gPSBvcHRpb25zLmJveEVuZENvbmRpdGlvblxuICAgICAgICAgICAgPyBvcHRpb25zLmJveEVuZENvbmRpdGlvblxuICAgICAgICAgICAgOiBfdGhpcy5kZWZhdWx0Qm94RW5kQ29uZGl0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IGNvbmRpdGlvbiBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0aGUgYm94ZW5kIGV2ZW50XG4gICAgICogc2hvdWxkIGZpcmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IFRoZSBvcmlnaW5hdGluZyBNYXBCcm93c2VyRXZlbnRcbiAgICAgKiAgICAgbGVhZGluZyB0byB0aGUgYm94IGVuZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBzdGFydFBpeGVsIFRoZSBzdGFydGluZyBwaXhlbCBvZiB0aGUgYm94LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IGVuZFBpeGVsIFRoZSBlbmQgcGl4ZWwgb2YgdGhlIGJveC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgYm94ZW5kIGNvbmRpdGlvbiBzaG91bGQgYmUgZmlyZWQuXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUuZGVmYXVsdEJveEVuZENvbmRpdGlvbiA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQsIHN0YXJ0UGl4ZWwsIGVuZFBpeGVsKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGVuZFBpeGVsWzBdIC0gc3RhcnRQaXhlbFswXTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGVuZFBpeGVsWzFdIC0gc3RhcnRQaXhlbFsxXTtcbiAgICAgICAgcmV0dXJuIHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQgPj0gdGhpcy5taW5BcmVhXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgZ2VvbWV0cnkgb2YgbGFzdCBkcmF3biBib3guXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBEcmFnQm94LnByb3RvdHlwZS5nZXRHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94Xy5nZXRHZW9tZXRyeSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdCb3gucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdGhpcy5ib3hfLnNldFBpeGVscyh0aGlzLnN0YXJ0UGl4ZWxfLCBtYXBCcm93c2VyRXZlbnQucGl4ZWwpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IERyYWdCb3hFdmVudChEcmFnQm94RXZlbnRUeXBlLkJPWERSQUcsIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLCBtYXBCcm93c2VyRXZlbnQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBEcmFnQm94LnByb3RvdHlwZS5oYW5kbGVVcEV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICB0aGlzLmJveF8uc2V0TWFwKG51bGwpO1xuICAgICAgICB2YXIgY29tcGxldGVCb3ggPSB0aGlzLmJveEVuZENvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50LCB0aGlzLnN0YXJ0UGl4ZWxfLCBtYXBCcm93c2VyRXZlbnQucGl4ZWwpO1xuICAgICAgICBpZiAoY29tcGxldGVCb3gpIHtcbiAgICAgICAgICAgIHRoaXMub25Cb3hFbmQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IERyYWdCb3hFdmVudChjb21wbGV0ZUJveCA/IERyYWdCb3hFdmVudFR5cGUuQk9YRU5EIDogRHJhZ0JveEV2ZW50VHlwZS5CT1hDQU5DRUwsIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLCBtYXBCcm93c2VyRXZlbnQpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICovXG4gICAgRHJhZ0JveC5wcm90b3R5cGUuaGFuZGxlRG93bkV2ZW50ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQaXhlbF8gPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgICAgICAgICB0aGlzLmJveF8uc2V0TWFwKG1hcEJyb3dzZXJFdmVudC5tYXApO1xuICAgICAgICAgICAgdGhpcy5ib3hfLnNldFBpeGVscyh0aGlzLnN0YXJ0UGl4ZWxfLCB0aGlzLnN0YXJ0UGl4ZWxfKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRHJhZ0JveEV2ZW50KERyYWdCb3hFdmVudFR5cGUuQk9YU1RBUlQsIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLCBtYXBCcm93c2VyRXZlbnQpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBleGVjdXRlIGp1c3QgYmVmb3JlIGBvbmJveGVuZGAgaXMgZmlyZWRcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICAgKi9cbiAgICBEcmFnQm94LnByb3RvdHlwZS5vbkJveEVuZCA9IGZ1bmN0aW9uIChldmVudCkgeyB9O1xuICAgIHJldHVybiBEcmFnQm94O1xufShQb2ludGVySW50ZXJhY3Rpb24pKTtcbmV4cG9ydCBkZWZhdWx0IERyYWdCb3g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EcmFnQm94LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ1pvb21cbiAqL1xuaW1wb3J0IERyYWdCb3ggZnJvbSAnLi9EcmFnQm94LmpzJztcbmltcG9ydCB7IGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGVzLCBnZXRCb3R0b21MZWZ0LCBnZXRDZW50ZXIsIGdldFRvcFJpZ2h0LCBzY2FsZUZyb21DZW50ZXIsIH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGVhc2VPdXQgfSBmcm9tICcuLi9lYXNpbmcuanMnO1xuaW1wb3J0IHsgc2hpZnRLZXlPbmx5IH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1kcmFnem9vbSddIENTUyBjbGFzcyBuYW1lIGZvciBzdHlsaW5nIHRoZVxuICogYm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+c2hpZnRLZXlPbmx5fS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3V0PWZhbHNlXSBVc2UgaW50ZXJhY3Rpb24gZm9yIHpvb21pbmcgb3V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5BcmVhPTY0XSBUaGUgbWluaW11bSBhcmVhIG9mIHRoZSBib3ggaW4gcGl4ZWwsIHRoaXMgdmFsdWUgaXMgdXNlZCBieSB0aGUgcGFyZW50IGRlZmF1bHRcbiAqIGBib3hFbmRDb25kaXRpb25gIGZ1bmN0aW9uLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gYSBrZXksIHNoaWZ0IGJ5IGRlZmF1bHQsIGlzIGhlbGQgZG93bi5cbiAqXG4gKiBUbyBjaGFuZ2UgdGhlIHN0eWxlIG9mIHRoZSBib3gsIHVzZSBDU1MgYW5kIHRoZSBgLm9sLWRyYWd6b29tYCBzZWxlY3Rvciwgb3JcbiAqIHlvdXIgY3VzdG9tIG9uZSBjb25maWd1cmVkIHdpdGggYGNsYXNzTmFtZWAuXG4gKiBAYXBpXG4gKi9cbnZhciBEcmFnWm9vbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHJhZ1pvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEcmFnWm9vbShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgdmFyIGNvbmRpdGlvbiA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBzaGlmdEtleU9ubHk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgY29uZGl0aW9uOiBjb25kaXRpb24sXG4gICAgICAgICAgICBjbGFzc05hbWU6IG9wdGlvbnMuY2xhc3NOYW1lIHx8ICdvbC1kcmFnem9vbScsXG4gICAgICAgICAgICBtaW5BcmVhOiBvcHRpb25zLm1pbkFyZWEsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDIwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3V0XyA9IG9wdGlvbnMub3V0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm91dCA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIGV4ZWN1dGUganVzdCBiZWZvcmUgYG9uYm94ZW5kYCBpcyBmaXJlZFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIERyYWdab29tLnByb3RvdHlwZS5vbkJveEVuZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICAgICAgdmFyIHZpZXcgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9ICovIChtYXAuZ2V0VmlldygpKTtcbiAgICAgICAgdmFyIHNpemUgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9ICovIChtYXAuZ2V0U2l6ZSgpKTtcbiAgICAgICAgdmFyIGV4dGVudCA9IHRoaXMuZ2V0R2VvbWV0cnkoKS5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKHRoaXMub3V0Xykge1xuICAgICAgICAgICAgdmFyIG1hcEV4dGVudCA9IHZpZXcuY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwoc2l6ZSk7XG4gICAgICAgICAgICB2YXIgYm94UGl4ZWxFeHRlbnQgPSBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlcyhbXG4gICAgICAgICAgICAgICAgbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbChnZXRCb3R0b21MZWZ0KGV4dGVudCkpLFxuICAgICAgICAgICAgICAgIG1hcC5nZXRQaXhlbEZyb21Db29yZGluYXRlSW50ZXJuYWwoZ2V0VG9wUmlnaHQoZXh0ZW50KSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHZhciBmYWN0b3IgPSB2aWV3LmdldFJlc29sdXRpb25Gb3JFeHRlbnRJbnRlcm5hbChib3hQaXhlbEV4dGVudCwgc2l6ZSk7XG4gICAgICAgICAgICBzY2FsZUZyb21DZW50ZXIobWFwRXh0ZW50LCAxIC8gZmFjdG9yKTtcbiAgICAgICAgICAgIGV4dGVudCA9IG1hcEV4dGVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZpZXcuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHZpZXcuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsKGV4dGVudCwgc2l6ZSkpO1xuICAgICAgICB2YXIgY2VudGVyID0gdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihnZXRDZW50ZXIoZXh0ZW50KSwgcmVzb2x1dGlvbik7XG4gICAgICAgIHZpZXcuYW5pbWF0ZUludGVybmFsKHtcbiAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZ1pvb207XG59KERyYWdCb3gpKTtcbmV4cG9ydCBkZWZhdWx0IERyYWdab29tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHJhZ1pvb20uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhblxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7IHBhbiB9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSAnLi4vZXZlbnRzL0tleUNvZGUuanMnO1xuaW1wb3J0IHsgbm9Nb2RpZmllcktleXMsIHRhcmdldE5vdEVkaXRhYmxlIH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyByb3RhdGUgYXMgcm90YXRlQ29vcmRpbmF0ZSB9IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIERlZmF1bHQgaXNcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5ub01vZGlmaWVyS2V5c30gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb25+dGFyZ2V0Tm90RWRpdGFibGV9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0xMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BpeGVsRGVsdGE9MTI4XSBUaGUgYW1vdW50IG9mIHBpeGVscyB0byBwYW4gb24gZWFjaCBrZXlcbiAqIHByZXNzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCB1c2luZyBrZXlib2FyZCBhcnJvd3MuXG4gKiBOb3RlIHRoYXQsIGFsdGhvdWdoIHRoaXMgaW50ZXJhY3Rpb24gaXMgYnkgZGVmYXVsdCBpbmNsdWRlZCBpbiBtYXBzLFxuICogdGhlIGtleXMgY2FuIG9ubHkgYmUgdXNlZCB3aGVuIGJyb3dzZXIgZm9jdXMgaXMgb24gdGhlIGVsZW1lbnQgdG8gd2hpY2hcbiAqIHRoZSBrZXlib2FyZCBldmVudHMgYXJlIGF0dGFjaGVkLiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBtYXAgZGl2LFxuICogdGhvdWdoIHlvdSBjYW4gY2hhbmdlIHRoaXMgd2l0aCB0aGUgYGtleWJvYXJkRXZlbnRUYXJnZXRgIGluXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9LiBgZG9jdW1lbnRgIG5ldmVyIGxvc2VzIGZvY3VzIGJ1dCwgZm9yIGFueSBvdGhlclxuICogZWxlbWVudCwgZm9jdXMgd2lsbCBoYXZlIHRvIGJlIG9uLCBhbmQgcmV0dXJuZWQgdG8sIHRoaXMgZWxlbWVudCBpZiB0aGUga2V5c1xuICogYXJlIHRvIGZ1bmN0aW9uLlxuICogU2VlIGFsc28ge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfS5cbiAqIEBhcGlcbiAqL1xudmFyIEtleWJvYXJkUGFuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhLZXlib2FyZFBhbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEtleWJvYXJkUGFuKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgQnJvd3NlciBldmVudC5cbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29tYmluZWQgY29uZGl0aW9uIHJlc3VsdC5cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRDb25kaXRpb25fID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIChub01vZGlmaWVyS2V5cyhtYXBCcm93c2VyRXZlbnQpICYmIHRhcmdldE5vdEVkaXRhYmxlKG1hcEJyb3dzZXJFdmVudCkpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29uZGl0aW9uXyA9XG4gICAgICAgICAgICBvcHRpb25zLmNvbmRpdGlvbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgICAgICAgICAgIDogX3RoaXMuZGVmYXVsdENvbmRpdGlvbl87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDEwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbERlbHRhXyA9XG4gICAgICAgICAgICBvcHRpb25zLnBpeGVsRGVsdGEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGl4ZWxEZWx0YSA6IDEyODtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gaWYgaXQgd2FzIGFcbiAgICAgKiBgS2V5RXZlbnRgLCBhbmQgZGVjaWRlcyB0aGUgZGlyZWN0aW9uIHRvIHBhbiB0byAoaWYgYW4gYXJyb3cga2V5IHdhc1xuICAgICAqIHByZXNzZWQpLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQHRoaXMge0tleWJvYXJkUGFufVxuICAgICAqL1xuICAgIEtleWJvYXJkUGFuLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdmFyIHN0b3BFdmVudCA9IGZhbHNlO1xuICAgICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWURPV04pIHtcbiAgICAgICAgICAgIHZhciBrZXlFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgIHZhciBrZXlDb2RlID0ga2V5RXZlbnQua2V5Q29kZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAgICAgICAgIChrZXlDb2RlID09IEtleUNvZGUuRE9XTiB8fFxuICAgICAgICAgICAgICAgICAgICBrZXlDb2RlID09IEtleUNvZGUuTEVGVCB8fFxuICAgICAgICAgICAgICAgICAgICBrZXlDb2RlID09IEtleUNvZGUuUklHSFQgfHxcbiAgICAgICAgICAgICAgICAgICAga2V5Q29kZSA9PSBLZXlDb2RlLlVQKSkge1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwVW5pdHNEZWx0YSA9IHZpZXcuZ2V0UmVzb2x1dGlvbigpICogdGhpcy5waXhlbERlbHRhXztcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGFYID0gMCwgZGVsdGFZID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSBLZXlDb2RlLkRPV04pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFZID0gLW1hcFVuaXRzRGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleUNvZGUgPT0gS2V5Q29kZS5MRUZUKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWCA9IC1tYXBVbml0c0RlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXlDb2RlID09IEtleUNvZGUuUklHSFQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFYID0gbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWSA9IG1hcFVuaXRzRGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IFtkZWx0YVgsIGRlbHRhWV07XG4gICAgICAgICAgICAgICAgcm90YXRlQ29vcmRpbmF0ZShkZWx0YSwgdmlldy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgICAgICAgICBwYW4odmlldywgZGVsdGEsIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAgICAgICAgICBrZXlFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHN0b3BFdmVudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gICAgfTtcbiAgICByZXR1cm4gS2V5Ym9hcmRQYW47XG59KEludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZFBhbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtleWJvYXJkUGFuLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvS2V5Q29kZVxuICovXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIExFRlQ6IDM3LFxuICAgIFVQOiAzOCxcbiAgICBSSUdIVDogMzksXG4gICAgRE9XTjogNDAsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2V5Q29kZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7IHpvb21CeURlbHRhIH0gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgeyB0YXJnZXROb3RFZGl0YWJsZSB9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufnRhcmdldE5vdEVkaXRhYmxlfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZGVsdGE9MV0gVGhlIHpvb20gbGV2ZWwgZGVsdGEgb24gZWFjaCBrZXkgcHJlc3MuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCB1c2luZyBrZXlib2FyZCArIGFuZCAtLlxuICogTm90ZSB0aGF0LCBhbHRob3VnaCB0aGlzIGludGVyYWN0aW9uIGlzIGJ5IGRlZmF1bHQgaW5jbHVkZWQgaW4gbWFwcyxcbiAqIHRoZSBrZXlzIGNhbiBvbmx5IGJlIHVzZWQgd2hlbiBicm93c2VyIGZvY3VzIGlzIG9uIHRoZSBlbGVtZW50IHRvIHdoaWNoXG4gKiB0aGUga2V5Ym9hcmQgZXZlbnRzIGFyZSBhdHRhY2hlZC4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgbWFwIGRpdixcbiAqIHRob3VnaCB5b3UgY2FuIGNoYW5nZSB0aGlzIHdpdGggdGhlIGBrZXlib2FyZEV2ZW50VGFyZ2V0YCBpblxuICoge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfS4gYGRvY3VtZW50YCBuZXZlciBsb3NlcyBmb2N1cyBidXQsIGZvciBhbnkgb3RoZXJcbiAqIGVsZW1lbnQsIGZvY3VzIHdpbGwgaGF2ZSB0byBiZSBvbiwgYW5kIHJldHVybmVkIHRvLCB0aGlzIGVsZW1lbnQgaWYgdGhlIGtleXNcbiAqIGFyZSB0byBmdW5jdGlvbi5cbiAqIFNlZSBhbHNvIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW5+S2V5Ym9hcmRQYW59LlxuICogQGFwaVxuICovXG52YXIgS2V5Ym9hcmRab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhLZXlib2FyZFpvb20sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBLZXlib2FyZFpvb20ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IHRhcmdldE5vdEVkaXRhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlbHRhXyA9IG9wdGlvbnMuZGVsdGEgPyBvcHRpb25zLmRlbHRhIDogMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBpZiBpdCB3YXMgYVxuICAgICAqIGBLZXlFdmVudGAsIGFuZCBkZWNpZGVzIHdoZXRoZXIgdG8gem9vbSBpbiBvciBvdXQgKGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZVxuICAgICAqIGtleSBwcmVzc2VkIHdhcyAnKycgb3IgJy0nKS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEB0aGlzIHtLZXlib2FyZFpvb219XG4gICAgICovXG4gICAgS2V5Ym9hcmRab29tLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdmFyIHN0b3BFdmVudCA9IGZhbHNlO1xuICAgICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWURPV04gfHxcbiAgICAgICAgICAgIG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5LRVlQUkVTUykge1xuICAgICAgICAgICAgdmFyIGtleUV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fSAqLyAobWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0ga2V5RXZlbnQuY2hhckNvZGU7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkgJiZcbiAgICAgICAgICAgICAgICAoY2hhckNvZGUgPT0gJysnLmNoYXJDb2RlQXQoMCkgfHwgY2hhckNvZGUgPT0gJy0nLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gY2hhckNvZGUgPT0gJysnLmNoYXJDb2RlQXQoMCkgPyB0aGlzLmRlbHRhXyA6IC10aGlzLmRlbHRhXztcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgICAgICAgICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIHVuZGVmaW5lZCwgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICAgICAgICAgIGtleUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgc3RvcEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgICB9O1xuICAgIHJldHVybiBLZXlib2FyZFpvb207XG59KEludGVyYWN0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1LZXlib2FyZFpvb20uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0tpbmV0aWNcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBpbmVydGlhbCBkZWNlbGVyYXRpb24gZm9yIG1hcCBtb3ZlbWVudC5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBLaW5ldGljID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWNheSBSYXRlIG9mIGRlY2F5IChtdXN0IGJlIG5lZ2F0aXZlKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluVmVsb2NpdHkgTWluaW11bSB2ZWxvY2l0eSAocGl4ZWxzL21pbGxpc2Vjb25kKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgRGVsYXkgdG8gY29uc2lkZXIgdG8gY2FsY3VsYXRlIHRoZSBraW5ldGljXG4gICAgICogICAgIGluaXRpYWwgdmFsdWVzIChtaWxsaXNlY29uZHMpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEtpbmV0aWMoZGVjYXksIG1pblZlbG9jaXR5LCBkZWxheSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVjYXlfID0gZGVjYXk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5WZWxvY2l0eV8gPSBtaW5WZWxvY2l0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5XyA9IGRlbGF5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50c18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuZ2xlXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAgICovXG4gICAgS2luZXRpYy5wcm90b3R5cGUuYmVnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucG9pbnRzXy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmFuZ2xlXyA9IDA7XG4gICAgICAgIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICovXG4gICAgS2luZXRpYy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5wb2ludHNfLnB1c2goeCwgeSwgRGF0ZS5ub3coKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHdlIHNob3VsZCBkbyBraW5ldGljIGFuaW1hdGlvbi5cbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvaW50c18ubGVuZ3RoIDwgNikge1xuICAgICAgICAgICAgLy8gYXQgbGVhc3QgMiBwb2ludHMgYXJlIHJlcXVpcmVkIChpLmUuIHRoZXJlIG11c3QgYmUgYXQgbGVhc3QgNiBlbGVtZW50c1xuICAgICAgICAgICAgLy8gaW4gdGhlIGFycmF5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWxheSA9IERhdGUubm93KCkgLSB0aGlzLmRlbGF5XztcbiAgICAgICAgdmFyIGxhc3RJbmRleCA9IHRoaXMucG9pbnRzXy5sZW5ndGggLSAzO1xuICAgICAgICBpZiAodGhpcy5wb2ludHNfW2xhc3RJbmRleCArIDJdIDwgZGVsYXkpIHtcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IHRyYWNrZWQgcG9pbnQgaXMgdG9vIG9sZCwgd2hpY2ggbWVhbnMgdGhhdCB0aGUgdXNlciBzdG9wcGVkXG4gICAgICAgICAgICAvLyBwYW5uaW5nIGJlZm9yZSByZWxlYXNpbmcgdGhlIG1hcFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdldCB0aGUgZmlyc3QgcG9pbnQgd2hpY2ggc3RpbGwgZmFsbHMgaW50byB0aGUgZGVsYXkgdGltZVxuICAgICAgICB2YXIgZmlyc3RJbmRleCA9IGxhc3RJbmRleCAtIDM7XG4gICAgICAgIHdoaWxlIChmaXJzdEluZGV4ID4gMCAmJiB0aGlzLnBvaW50c19bZmlyc3RJbmRleCArIDJdID4gZGVsYXkpIHtcbiAgICAgICAgICAgIGZpcnN0SW5kZXggLT0gMztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZHVyYXRpb24gPSB0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMl0gLSB0aGlzLnBvaW50c19bZmlyc3RJbmRleCArIDJdO1xuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IGEgZHVyYXRpb24gb2YgMCAoZGl2aWRlIGJ5IHplcm8pXG4gICAgICAgIC8vIHdlIGFsc28gbWFrZSBzdXJlIHRoZSB1c2VyIHBhbm5lZCBmb3IgYSBkdXJhdGlvbiBvZiBhdCBsZWFzdCBvbmUgZnJhbWVcbiAgICAgICAgLy8gKDEvNjBzKSB0byBjb21wdXRlIHNhbmUgZGlzcGxhY2VtZW50IHZhbHVlc1xuICAgICAgICBpZiAoZHVyYXRpb24gPCAxMDAwIC8gNjApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZHggPSB0aGlzLnBvaW50c19bbGFzdEluZGV4XSAtIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4XTtcbiAgICAgICAgdmFyIGR5ID0gdGhpcy5wb2ludHNfW2xhc3RJbmRleCArIDFdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXggKyAxXTtcbiAgICAgICAgdGhpcy5hbmdsZV8gPSBNYXRoLmF0YW4yKGR5LCBkeCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSkgLyBkdXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA+IHRoaXMubWluVmVsb2NpdHlfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUb3RhbCBkaXN0YW5jZSB0cmF2ZWxsZWQgKHBpeGVscykuXG4gICAgICovXG4gICAgS2luZXRpYy5wcm90b3R5cGUuZ2V0RGlzdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5taW5WZWxvY2l0eV8gLSB0aGlzLmluaXRpYWxWZWxvY2l0eV8pIC8gdGhpcy5kZWNheV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIG9mIHRoZSBraW5ldGljIHBhbm5pbmcgYW5pbWF0aW9uIChyYWRpYW5zKS5cbiAgICAgKi9cbiAgICBLaW5ldGljLnByb3RvdHlwZS5nZXRBbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5nbGVfO1xuICAgIH07XG4gICAgcmV0dXJuIEtpbmV0aWM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgS2luZXRpYztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtpbmV0aWMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7IHpvb21CeURlbHRhIH0gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgeyBERVZJQ0VfUElYRUxfUkFUSU8sIEZJUkVGT1ggfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHsgYWxsLCBhbHdheXMsIGZvY3VzV2l0aFRhYmluZGV4IH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL21hdGguanMnO1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIE1vZGUgPSB7XG4gICAgVFJBQ0tQQUQ6ICd0cmFja3BhZCcsXG4gICAgV0hFRUw6ICd3aGVlbCcsXG59O1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIERlZmF1bHQgaXNcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn5hbHdheXN9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb25Gb2N1c09ubHk9ZmFsc2VdIFdoZW4gdGhlIG1hcCdzIHRhcmdldCBoYXMgYSBgdGFiaW5kZXhgIGF0dHJpYnV0ZSBzZXQsXG4gKiB0aGUgaW50ZXJhY3Rpb24gd2lsbCBvbmx5IGhhbmRsZSBldmVudHMgd2hlbiB0aGUgbWFwIGhhcyB0aGUgZm9jdXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heERlbHRhPTFdIE1heGltdW0gbW91c2Ugd2hlZWwgZGVsdGEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGltZW91dD04MF0gTW91c2Ugd2hlZWwgdGltZW91dCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1c2VBbmNob3I9dHJ1ZV0gRW5hYmxlIHpvb21pbmcgdXNpbmcgdGhlIG1vdXNlJ3NcbiAqIGxvY2F0aW9uIGFzIHRoZSBhbmNob3IuIFdoZW4gc2V0IHRvIGBmYWxzZWAsIHpvb21pbmcgaW4gYW5kIG91dCB3aWxsIHpvb20gdG9cbiAqIHRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiBpbnN0ZWFkIG9mIHpvb21pbmcgb24gdGhlIG1vdXNlJ3MgbG9jYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb25zdHJhaW5SZXNvbHV0aW9uPWZhbHNlXSBJZiB0cnVlLCB0aGUgbW91c2Ugd2hlZWwgem9vbVxuICogZXZlbnQgd2lsbCBhbHdheXMgYW5pbWF0ZSB0byB0aGUgY2xvc2VzdCB6b29tIGxldmVsIGFmdGVyIGFuIGludGVyYWN0aW9uO1xuICogZmFsc2UgbWVhbnMgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzIGFyZSBhbGxvd2VkLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYnkgc2Nyb2xsaW5nIHRoZSBtb3VzZSB3aGVlbC5cbiAqIEBhcGlcbiAqL1xudmFyIE1vdXNlV2hlZWxab29tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNb3VzZVdoZWVsWm9vbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1vdXNlV2hlZWxab29tKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgPyBvcHRfb3B0aW9ucyA6IHt9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuSW50ZXJhY3Rpb25PcHRpb25zfSAqLyAob3B0aW9ucykpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG90YWxEZWx0YV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3REZWx0YV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heERlbHRhXyA9IG9wdGlvbnMubWF4RGVsdGEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4RGVsdGEgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGltZW91dF8gPSBvcHRpb25zLnRpbWVvdXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGltZW91dCA6IDgwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VBbmNob3JfID1cbiAgICAgICAgICAgIG9wdGlvbnMudXNlQW5jaG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZUFuY2hvciA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnN0cmFpblJlc29sdXRpb25fID1cbiAgICAgICAgICAgIG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb25cbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICB2YXIgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IGFsd2F5cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLm9uRm9jdXNPbmx5XG4gICAgICAgICAgICA/IGFsbChmb2N1c1dpdGhUYWJpbmRleCwgY29uZGl0aW9uKVxuICAgICAgICAgICAgOiBjb25kaXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxhc3RBbmNob3JfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGltZW91dElkXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtNb2RlfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vZGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2twYWQgZXZlbnRzIHNlcGFyYXRlZCBieSB0aGlzIGRlbGF5IHdpbGwgYmUgY29uc2lkZXJlZCBzZXBhcmF0ZVxuICAgICAgICAgKiBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFja3BhZEV2ZW50R2FwXyA9IDQwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2twYWRUaW1lb3V0SWRfO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBkZWx0YSB2YWx1ZXMgcGVyIHpvb20gbGV2ZWxcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlbHRhUGVyWm9vbV8gPSAzMDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuZW5kSW50ZXJhY3Rpb25fID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYWNrcGFkVGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLmdldE1hcCgpLmdldFZpZXcoKTtcbiAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih1bmRlZmluZWQsIHRoaXMubGFzdERlbHRhXyA/ICh0aGlzLmxhc3REZWx0YV8gPiAwID8gMSA6IC0xKSA6IDAsIHRoaXMubGFzdEFuY2hvcl8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IChpZiBpdCB3YXMgYSBtb3VzZXdoZWVsLWV2ZW50KSBhbmQgZXZlbnR1YWxseVxuICAgICAqIHpvb21zIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKi9cbiAgICBNb3VzZVdoZWVsWm9vbS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlID0gbWFwQnJvd3NlckV2ZW50LnR5cGU7XG4gICAgICAgIGlmICh0eXBlICE9PSBFdmVudFR5cGUuV0hFRUwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgd2hlZWxFdmVudCA9IC8qKiBAdHlwZSB7V2hlZWxFdmVudH0gKi8gKG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgd2hlZWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy51c2VBbmNob3JfKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmNob3JfID0gbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsdGEgbm9ybWFsaXNhdGlvbiBpbnNwaXJlZCBieVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9ibG9iLzAwMWM3YjkvanMvdWkvaGFuZGxlci9zY3JvbGxfem9vbS5qc1xuICAgICAgICB2YXIgZGVsdGE7XG4gICAgICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuV0hFRUwpIHtcbiAgICAgICAgICAgIGRlbHRhID0gd2hlZWxFdmVudC5kZWx0YVk7XG4gICAgICAgICAgICBpZiAoRklSRUZPWCAmJiB3aGVlbEV2ZW50LmRlbHRhTW9kZSA9PT0gV2hlZWxFdmVudC5ET01fREVMVEFfUElYRUwpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAvPSBERVZJQ0VfUElYRUxfUkFUSU87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2hlZWxFdmVudC5kZWx0YU1vZGUgPT09IFdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkUpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAqPSA0MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGFzdERlbHRhXyA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5zdGFydFRpbWVfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IG5vdztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubW9kZV8gfHwgbm93IC0gdGhpcy5zdGFydFRpbWVfID4gdGhpcy50cmFja3BhZEV2ZW50R2FwXykge1xuICAgICAgICAgICAgdGhpcy5tb2RlXyA9IE1hdGguYWJzKGRlbHRhKSA8IDQgPyBNb2RlLlRSQUNLUEFEIDogTW9kZS5XSEVFTDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGVfID09PSBNb2RlLlRSQUNLUEFEICYmXG4gICAgICAgICAgICAhKHZpZXcuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHx8IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFja3BhZFRpbWVvdXRJZF8pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50cmFja3BhZFRpbWVvdXRJZF8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFja3BhZFRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KHRoaXMuZW5kSW50ZXJhY3Rpb25fLmJpbmQodGhpcyksIHRoaXMudGltZW91dF8pO1xuICAgICAgICAgICAgdmlldy5hZGp1c3Rab29tKC1kZWx0YSAvIHRoaXMuZGVsdGFQZXJab29tXywgdGhpcy5sYXN0QW5jaG9yXyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZV8gPSBub3c7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3RhbERlbHRhXyArPSBkZWx0YTtcbiAgICAgICAgdmFyIHRpbWVMZWZ0ID0gTWF0aC5tYXgodGhpcy50aW1lb3V0XyAtIChub3cgLSB0aGlzLnN0YXJ0VGltZV8pLCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkXyk7XG4gICAgICAgIHRoaXMudGltZW91dElkXyA9IHNldFRpbWVvdXQodGhpcy5oYW5kbGVXaGVlbFpvb21fLmJpbmQodGhpcywgbWFwKSwgdGltZUxlZnQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICovXG4gICAgTW91c2VXaGVlbFpvb20ucHJvdG90eXBlLmhhbmRsZVdoZWVsWm9vbV8gPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWx0YSA9IC1jbGFtcCh0aGlzLnRvdGFsRGVsdGFfLCAtdGhpcy5tYXhEZWx0YV8gKiB0aGlzLmRlbHRhUGVyWm9vbV8sIHRoaXMubWF4RGVsdGFfICogdGhpcy5kZWx0YVBlclpvb21fKSAvIHRoaXMuZGVsdGFQZXJab29tXztcbiAgICAgICAgaWYgKHZpZXcuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHx8IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pIHtcbiAgICAgICAgICAgIC8vIHZpZXcgaGFzIGEgem9vbSBjb25zdHJhaW50LCB6b29tIGJ5IDFcbiAgICAgICAgICAgIGRlbHRhID0gZGVsdGEgPyAoZGVsdGEgPiAwID8gMSA6IC0xKSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIHRoaXMubGFzdEFuY2hvcl8sIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAgdGhpcy5tb2RlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50b3RhbERlbHRhXyA9IDA7XG4gICAgICAgIHRoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHVzaW5nIHRoZSBtb3VzZSdzIGxvY2F0aW9uIGFzIGFuIGFuY2hvciB3aGVuIHpvb21pbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUFuY2hvciB0cnVlIHRvIHpvb20gdG8gdGhlIG1vdXNlJ3MgbG9jYXRpb24sIGZhbHNlXG4gICAgICogdG8gem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZSBtYXBcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgTW91c2VXaGVlbFpvb20ucHJvdG90eXBlLnNldE1vdXNlQW5jaG9yID0gZnVuY3Rpb24gKHVzZUFuY2hvcikge1xuICAgICAgICB0aGlzLnVzZUFuY2hvcl8gPSB1c2VBbmNob3I7XG4gICAgICAgIGlmICghdXNlQW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmNob3JfID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1vdXNlV2hlZWxab29tO1xufShJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgTW91c2VXaGVlbFpvb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb3VzZVdoZWVsWm9vbS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHsgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsIH0gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7IEZBTFNFIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGRpc2FibGUgfSBmcm9tICcuLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGhyZXNob2xkPTAuM10gTWluaW1hbCBhbmdsZSBpbiByYWRpYW5zIHRvIHN0YXJ0IGEgcm90YXRpb24uXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IHR3aXN0aW5nIHdpdGggdHdvIGZpbmdlcnNcbiAqIG9uIGEgdG91Y2ggc2NyZWVuLlxuICogQGFwaVxuICovXG52YXIgUGluY2hSb3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBpbmNoUm90YXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGluY2hSb3RhdGUob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBwb2ludGVyT3B0aW9ucyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9Qb2ludGVyLmpzXCIpLk9wdGlvbnN9ICovIChvcHRpb25zKTtcbiAgICAgICAgaWYgKCFwb2ludGVyT3B0aW9ucy5zdG9wRG93bikge1xuICAgICAgICAgICAgcG9pbnRlck9wdGlvbnMuc3RvcERvd24gPSBGQUxTRTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBvaW50ZXJPcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuY2hvcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3RhdGluZ18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3RhdGlvbkRlbHRhXyA9IDAuMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aHJlc2hvbGRfID0gb3B0aW9ucy50aHJlc2hvbGQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGhyZXNob2xkIDogMC4zO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqL1xuICAgIFBpbmNoUm90YXRlLnByb3RvdHlwZS5oYW5kbGVEcmFnRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIHZhciByb3RhdGlvbkRlbHRhID0gMC4wO1xuICAgICAgICB2YXIgdG91Y2gwID0gdGhpcy50YXJnZXRQb2ludGVyc1swXTtcbiAgICAgICAgdmFyIHRvdWNoMSA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMV07XG4gICAgICAgIC8vIGFuZ2xlIGJldHdlZW4gdG91Y2hlc1xuICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHRvdWNoMS5jbGllbnRZIC0gdG91Y2gwLmNsaWVudFksIHRvdWNoMS5jbGllbnRYIC0gdG91Y2gwLmNsaWVudFgpO1xuICAgICAgICBpZiAodGhpcy5sYXN0QW5nbGVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGFuZ2xlIC0gdGhpcy5sYXN0QW5nbGVfO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbkRlbHRhXyArPSBkZWx0YTtcbiAgICAgICAgICAgIGlmICghdGhpcy5yb3RhdGluZ18gJiYgTWF0aC5hYnModGhpcy5yb3RhdGlvbkRlbHRhXykgPiB0aGlzLnRocmVzaG9sZF8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW5nXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3RhdGlvbkRlbHRhID0gZGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0QW5nbGVfID0gYW5nbGU7XG4gICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gPT09IGRpc2FibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyByb3RhdGUgYW5jaG9yIHBvaW50LlxuICAgICAgICAvLyBGSVhNRTogc2hvdWxkIGJlIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgYmV0d2VlbiB0aGUgbGluZXM6XG4gICAgICAgIC8vICAgICB0b3VjaDAsdG91Y2gxIGFuZCBwcmV2aW91c1RvdWNoMCxwcmV2aW91c1RvdWNoMVxuICAgICAgICB2YXIgdmlld3BvcnRQb3NpdGlvbiA9IG1hcC5nZXRWaWV3cG9ydCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgY2VudHJvaWQgPSBjZW50cm9pZEZyb21Qb2ludGVycyh0aGlzLnRhcmdldFBvaW50ZXJzKTtcbiAgICAgICAgY2VudHJvaWRbMF0gLT0gdmlld3BvcnRQb3NpdGlvbi5sZWZ0O1xuICAgICAgICBjZW50cm9pZFsxXSAtPSB2aWV3cG9ydFBvc2l0aW9uLnRvcDtcbiAgICAgICAgdGhpcy5hbmNob3JfID0gbWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChjZW50cm9pZCk7XG4gICAgICAgIC8vIHJvdGF0ZVxuICAgICAgICBpZiAodGhpcy5yb3RhdGluZ18pIHtcbiAgICAgICAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICAgICAgICAgIHZpZXcuYWRqdXN0Um90YXRpb25JbnRlcm5hbChyb3RhdGlvbkRlbHRhLCB0aGlzLmFuY2hvcl8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICovXG4gICAgUGluY2hSb3RhdGUucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICovXG4gICAgUGluY2hSb3RhdGUucHJvdG90eXBlLmhhbmRsZURvd25FdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMucm90YXRpbmdfID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uRGVsdGFfID0gMC4wO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UpIHtcbiAgICAgICAgICAgICAgICBtYXAuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUGluY2hSb3RhdGU7XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgUGluY2hSb3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QaW5jaFJvdGF0ZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1BpbmNoWm9vbVxuICovXG5pbXBvcnQgUG9pbnRlckludGVyYWN0aW9uLCB7IGNlbnRyb2lkIGFzIGNlbnRyb2lkRnJvbVBvaW50ZXJzLCB9IGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQgeyBGQUxTRSB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249NDAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYnkgcGluY2hpbmcgd2l0aCB0d28gZmluZ2Vyc1xuICogb24gYSB0b3VjaCBzY3JlZW4uXG4gKiBAYXBpXG4gKi9cbnZhciBQaW5jaFpvb20gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBpbmNoWm9vbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnM9fSBvcHRfb3B0aW9ucyBPcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBpbmNoWm9vbShvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICAgICAgdmFyIHBvaW50ZXJPcHRpb25zID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gKG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXBvaW50ZXJPcHRpb25zLnN0b3BEb3duKSB7XG4gICAgICAgICAgICBwb2ludGVyT3B0aW9ucy5zdG9wRG93biA9IEZBTFNFO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9pbnRlck9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDQwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGFzdERpc3RhbmNlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSAxO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICAgKi9cbiAgICBQaW5jaFpvb20ucHJvdG90eXBlLmhhbmRsZURyYWdFdmVudCA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgICAgdmFyIHNjYWxlRGVsdGEgPSAxLjA7XG4gICAgICAgIHZhciB0b3VjaDAgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzBdO1xuICAgICAgICB2YXIgdG91Y2gxID0gdGhpcy50YXJnZXRQb2ludGVyc1sxXTtcbiAgICAgICAgdmFyIGR4ID0gdG91Y2gwLmNsaWVudFggLSB0b3VjaDEuY2xpZW50WDtcbiAgICAgICAgdmFyIGR5ID0gdG91Y2gwLmNsaWVudFkgLSB0b3VjaDEuY2xpZW50WTtcbiAgICAgICAgLy8gZGlzdGFuY2UgYmV0d2VlbiB0b3VjaGVzXG4gICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmICh0aGlzLmxhc3REaXN0YW5jZV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2NhbGVEZWx0YSA9IHRoaXMubGFzdERpc3RhbmNlXyAvIGRpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IGRpc3RhbmNlO1xuICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBpZiAoc2NhbGVEZWx0YSAhPSAxLjApIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFNjYWxlRGVsdGFfID0gc2NhbGVEZWx0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzY2FsZSBhbmNob3IgcG9pbnQuXG4gICAgICAgIHZhciB2aWV3cG9ydFBvc2l0aW9uID0gbWFwLmdldFZpZXdwb3J0KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBjZW50cm9pZCA9IGNlbnRyb2lkRnJvbVBvaW50ZXJzKHRoaXMudGFyZ2V0UG9pbnRlcnMpO1xuICAgICAgICBjZW50cm9pZFswXSAtPSB2aWV3cG9ydFBvc2l0aW9uLmxlZnQ7XG4gICAgICAgIGNlbnRyb2lkWzFdIC09IHZpZXdwb3J0UG9zaXRpb24udG9wO1xuICAgICAgICB0aGlzLmFuY2hvcl8gPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKGNlbnRyb2lkKTtcbiAgICAgICAgLy8gc2NhbGUsIGJ5cGFzcyB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50XG4gICAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICAgICAgdmlldy5hZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwoc2NhbGVEZWx0YSwgdGhpcy5hbmNob3JfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICAgKi9cbiAgICBQaW5jaFpvb20ucHJvdG90eXBlLmhhbmRsZVVwRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMubGFzdFNjYWxlRGVsdGFfID4gMSA/IDEgOiAtMTtcbiAgICAgICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24odGhpcy5kdXJhdGlvbl8sIGRpcmVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAgICovXG4gICAgUGluY2hab29tLnByb3RvdHlwZS5oYW5kbGVEb3duRXZlbnQgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yXyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3REaXN0YW5jZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmxhc3RTY2FsZURlbHRhXyA9IDE7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgICAgICAgICAgIG1hcC5nZXRWaWV3KCkuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQaW5jaFpvb207XG59KFBvaW50ZXJJbnRlcmFjdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgUGluY2hab29tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGluY2hab29tLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvTWFwXG4gKi9cbmltcG9ydCBDb21wb3NpdGVNYXBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyL0NvbXBvc2l0ZS5qcyc7XG5pbXBvcnQgUGx1Z2dhYmxlTWFwIGZyb20gJy4vUGx1Z2dhYmxlTWFwLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vb2JqLmpzJztcbmltcG9ydCB7IGRlZmF1bHRzIGFzIGRlZmF1bHRDb250cm9scyB9IGZyb20gJy4vY29udHJvbC5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0cyBhcyBkZWZhdWx0SW50ZXJhY3Rpb25zIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFRoZSBtYXAgaXMgdGhlIGNvcmUgY29tcG9uZW50IG9mIE9wZW5MYXllcnMuIEZvciBhIG1hcCB0byByZW5kZXIsIGEgdmlldyxcbiAqIG9uZSBvciBtb3JlIGxheWVycywgYW5kIGEgdGFyZ2V0IGNvbnRhaW5lciBhcmUgbmVlZGVkOlxuICpcbiAqICAgICBpbXBvcnQgTWFwIGZyb20gJ29sL01hcCc7XG4gKiAgICAgaW1wb3J0IFZpZXcgZnJvbSAnb2wvVmlldyc7XG4gKiAgICAgaW1wb3J0IFRpbGVMYXllciBmcm9tICdvbC9sYXllci9UaWxlJztcbiAqICAgICBpbXBvcnQgT1NNIGZyb20gJ29sL3NvdXJjZS9PU00nO1xuICpcbiAqICAgICB2YXIgbWFwID0gbmV3IE1hcCh7XG4gKiAgICAgICB2aWV3OiBuZXcgVmlldyh7XG4gKiAgICAgICAgIGNlbnRlcjogWzAsIDBdLFxuICogICAgICAgICB6b29tOiAxXG4gKiAgICAgICB9KSxcbiAqICAgICAgIGxheWVyczogW1xuICogICAgICAgICBuZXcgVGlsZUxheWVyKHtcbiAqICAgICAgICAgICBzb3VyY2U6IG5ldyBPU00oKVxuICogICAgICAgICB9KVxuICogICAgICAgXSxcbiAqICAgICAgIHRhcmdldDogJ21hcCdcbiAqICAgICB9KTtcbiAqXG4gKiBUaGUgYWJvdmUgc25pcHBldCBjcmVhdGVzIGEgbWFwIHVzaW5nIGEge0BsaW5rIG1vZHVsZTpvbC9sYXllci9UaWxlfSB0b1xuICogZGlzcGxheSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9PU01+T1NNfSBPU00gZGF0YSBhbmQgcmVuZGVyIGl0IHRvIGEgRE9NXG4gKiBlbGVtZW50IHdpdGggdGhlIGlkIGBtYXBgLlxuICpcbiAqIFRoZSBjb25zdHJ1Y3RvciBwbGFjZXMgYSB2aWV3cG9ydCBjb250YWluZXIgKHdpdGggQ1NTIGNsYXNzIG5hbWVcbiAqIGBvbC12aWV3cG9ydGApIGluIHRoZSB0YXJnZXQgZWxlbWVudCAoc2VlIGBnZXRWaWV3cG9ydCgpYCksIGFuZCB0aGVuIHR3b1xuICogZnVydGhlciBlbGVtZW50cyB3aXRoaW4gdGhlIHZpZXdwb3J0OiBvbmUgd2l0aCBDU1MgY2xhc3MgbmFtZVxuICogYG9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50YCBmb3IgY29udHJvbHMgYW5kIHNvbWUgb3ZlcmxheXMsIGFuZCBvbmUgd2l0aFxuICogQ1NTIGNsYXNzIG5hbWUgYG9sLW92ZXJsYXljb250YWluZXJgIGZvciBvdGhlciBvdmVybGF5cyAoc2VlIHRoZSBgc3RvcEV2ZW50YFxuICogb3B0aW9uIG9mIHtAbGluayBtb2R1bGU6b2wvT3ZlcmxheX5PdmVybGF5fSBmb3IgdGhlIGRpZmZlcmVuY2UpLiBUaGUgbWFwXG4gKiBpdHNlbGYgaXMgcGxhY2VkIGluIGEgZnVydGhlciBlbGVtZW50IHdpdGhpbiB0aGUgdmlld3BvcnQuXG4gKlxuICogTGF5ZXJzIGFyZSBzdG9yZWQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0gaW5cbiAqIGxheWVyR3JvdXBzLiBBIHRvcC1sZXZlbCBncm91cCBpcyBwcm92aWRlZCBieSB0aGUgbGlicmFyeS4gVGhpcyBpcyB3aGF0IGlzXG4gKiBhY2Nlc3NlZCBieSBgZ2V0TGF5ZXJHcm91cGAgYW5kIGBzZXRMYXllckdyb3VwYC4gTGF5ZXJzIGVudGVyZWQgaW4gdGhlXG4gKiBvcHRpb25zIGFyZSBhZGRlZCB0byB0aGlzIGdyb3VwLCBhbmQgYGFkZExheWVyYCBhbmQgYHJlbW92ZUxheWVyYCBjaGFuZ2UgdGhlXG4gKiBsYXllciBjb2xsZWN0aW9uIGluIHRoZSBncm91cC4gYGdldExheWVyc2AgaXMgYSBjb252ZW5pZW5jZSBmdW5jdGlvbiBmb3JcbiAqIGBnZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJzKClgLiBOb3RlIHRoYXQge0BsaW5rIG1vZHVsZTpvbC9sYXllci9Hcm91cH5Hcm91cH1cbiAqIGlzIGEgc3ViY2xhc3Mgb2Yge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlfSwgc28gbGF5ZXJzIGVudGVyZWQgaW4gdGhlXG4gKiBvcHRpb25zIG9yIGFkZGVkIHdpdGggYGFkZExheWVyYCBjYW4gYmUgZ3JvdXBzLCB3aGljaCBjYW4gY29udGFpbiBmdXJ0aGVyXG4gKiBncm91cHMsIGFuZCBzbyBvbi5cbiAqXG4gKiBAYXBpXG4gKi9cbnZhciBNYXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1hcCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vUGx1Z2dhYmxlTWFwLmpzXCIpLk1hcE9wdGlvbnN9IG9wdGlvbnMgTWFwIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIGlmICghb3B0aW9ucy5jb250cm9scykge1xuICAgICAgICAgICAgb3B0aW9ucy5jb250cm9scyA9IGRlZmF1bHRDb250cm9scygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnRlcmFjdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaW50ZXJhY3Rpb25zID0gZGVmYXVsdEludGVyYWN0aW9ucyh7XG4gICAgICAgICAgICAgICAgb25Gb2N1c09ubHk6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWFwLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NpdGVNYXBSZW5kZXJlcih0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXA7XG59KFBsdWdnYWJsZU1hcCkpO1xuZXhwb3J0IGRlZmF1bHQgTWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFwLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sXG4gKi9cbmltcG9ydCBBdHRyaWJ1dGlvbiBmcm9tICcuL2NvbnRyb2wvQXR0cmlidXRpb24uanMnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBSb3RhdGUgZnJvbSAnLi9jb250cm9sL1JvdGF0ZS5qcyc7XG5pbXBvcnQgWm9vbSBmcm9tICcuL2NvbnRyb2wvWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEF0dHJpYnV0aW9uIH0gZnJvbSAnLi9jb250cm9sL0F0dHJpYnV0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ29udHJvbCB9IGZyb20gJy4vY29udHJvbC9Db250cm9sLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRnVsbFNjcmVlbiB9IGZyb20gJy4vY29udHJvbC9GdWxsU2NyZWVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTW91c2VQb3NpdGlvbiB9IGZyb20gJy4vY29udHJvbC9Nb3VzZVBvc2l0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgT3ZlcnZpZXdNYXAgfSBmcm9tICcuL2NvbnRyb2wvT3ZlcnZpZXdNYXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBSb3RhdGUgfSBmcm9tICcuL2NvbnRyb2wvUm90YXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2NhbGVMaW5lIH0gZnJvbSAnLi9jb250cm9sL1NjYWxlTGluZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFpvb20gfSBmcm9tICcuL2NvbnRyb2wvWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFpvb21TbGlkZXIgfSBmcm9tICcuL2NvbnRyb2wvWm9vbVNsaWRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFpvb21Ub0V4dGVudCB9IGZyb20gJy4vY29udHJvbC9ab29tVG9FeHRlbnQuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uPXRydWVdIEluY2x1ZGVcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9BdHRyaWJ1dGlvbn5BdHRyaWJ1dGlvbn0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29udHJvbC9BdHRyaWJ1dGlvbi5qc1wiKS5PcHRpb25zfSBbYXR0cmlidXRpb25PcHRpb25zXVxuICogT3B0aW9ucyBmb3Ige0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZT10cnVlXSBJbmNsdWRlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvUm90YXRlflJvdGF0ZX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29udHJvbC9Sb3RhdGUuanNcIikuT3B0aW9uc30gW3JvdGF0ZU9wdGlvbnNdIE9wdGlvbnNcbiAqIGZvciB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvUm90YXRlflJvdGF0ZX0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt6b29tXSBJbmNsdWRlIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2NvbnRyb2wvWm9vbS5qc1wiKS5PcHRpb25zfSBbem9vbU9wdGlvbnNdIE9wdGlvbnMgZm9yXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfS5cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBTZXQgb2YgY29udHJvbHMgaW5jbHVkZWQgaW4gbWFwcyBieSBkZWZhdWx0LiBVbmxlc3MgY29uZmlndXJlZCBvdGhlcndpc2UsXG4gKiB0aGlzIHJldHVybnMgYSBjb2xsZWN0aW9uIGNvbnRhaW5pbmcgYW4gaW5zdGFuY2Ugb2YgZWFjaCBvZiB0aGUgZm9sbG93aW5nXG4gKiBjb250cm9sczpcbiAqICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1pvb21+Wm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1JvdGF0ZX5Sb3RhdGV9XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9BdHRyaWJ1dGlvbn5BdHRyaWJ1dGlvbn1cbiAqXG4gKiBAcGFyYW0ge0RlZmF1bHRzT3B0aW9ucz19IG9wdF9vcHRpb25zXG4gKiBEZWZhdWx0cyBvcHRpb25zLlxuICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn1cbiAqIENvbnRyb2xzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdHMob3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICB2YXIgY29udHJvbHMgPSBuZXcgQ29sbGVjdGlvbigpO1xuICAgIHZhciB6b29tQ29udHJvbCA9IG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tIDogdHJ1ZTtcbiAgICBpZiAoem9vbUNvbnRyb2wpIHtcbiAgICAgICAgY29udHJvbHMucHVzaChuZXcgWm9vbShvcHRpb25zLnpvb21PcHRpb25zKSk7XG4gICAgfVxuICAgIHZhciByb3RhdGVDb250cm9sID0gb3B0aW9ucy5yb3RhdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlIDogdHJ1ZTtcbiAgICBpZiAocm90YXRlQ29udHJvbCkge1xuICAgICAgICBjb250cm9scy5wdXNoKG5ldyBSb3RhdGUob3B0aW9ucy5yb3RhdGVPcHRpb25zKSk7XG4gICAgfVxuICAgIHZhciBhdHRyaWJ1dGlvbkNvbnRyb2wgPSBvcHRpb25zLmF0dHJpYnV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF0dHJpYnV0aW9uIDogdHJ1ZTtcbiAgICBpZiAoYXR0cmlidXRpb25Db250cm9sKSB7XG4gICAgICAgIGNvbnRyb2xzLnB1c2gobmV3IEF0dHJpYnV0aW9uKG9wdGlvbnMuYXR0cmlidXRpb25PcHRpb25zKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9scztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2wuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uXG4gKi9cbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgRG91YmxlQ2xpY2tab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzJztcbmltcG9ydCBEcmFnUGFuIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1Bhbi5qcyc7XG5pbXBvcnQgRHJhZ1JvdGF0ZSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMnO1xuaW1wb3J0IERyYWdab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMnO1xuaW1wb3J0IEtleWJvYXJkUGFuIGZyb20gJy4vaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMnO1xuaW1wb3J0IEtleWJvYXJkWm9vbSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyc7XG5pbXBvcnQgS2luZXRpYyBmcm9tICcuL0tpbmV0aWMuanMnO1xuaW1wb3J0IE1vdXNlV2hlZWxab29tIGZyb20gJy4vaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMnO1xuaW1wb3J0IFBpbmNoUm90YXRlIGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hSb3RhdGUuanMnO1xuaW1wb3J0IFBpbmNoWm9vbSBmcm9tICcuL2ludGVyYWN0aW9uL1BpbmNoWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERvdWJsZUNsaWNrWm9vbSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ0FuZERyb3AgfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdBbmREcm9wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ0JveCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhZ0JveC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERyYWdQYW4gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdQYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBEcmFnUm90YXRlIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9EcmFnUm90YXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ1JvdGF0ZUFuZFpvb20gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdSb3RhdGVBbmRab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhZ1pvb20gfSBmcm9tICcuL2ludGVyYWN0aW9uL0RyYWdab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhdyB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRHJhdy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV4dGVudCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vRXh0ZW50LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgSW50ZXJhY3Rpb24gfSBmcm9tICcuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5Ym9hcmRQYW4gfSBmcm9tICcuL2ludGVyYWN0aW9uL0tleWJvYXJkUGFuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgS2V5Ym9hcmRab29tIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb20uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNb2RpZnkgfSBmcm9tICcuL2ludGVyYWN0aW9uL01vZGlmeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1vdXNlV2hlZWxab29tIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBpbmNoUm90YXRlIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi9QaW5jaFJvdGF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFBpbmNoWm9vbSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vUGluY2hab29tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUG9pbnRlciB9IGZyb20gJy4vaW50ZXJhY3Rpb24vUG9pbnRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNlbGVjdCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vU2VsZWN0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU25hcCB9IGZyb20gJy4vaW50ZXJhY3Rpb24vU25hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFRyYW5zbGF0ZSB9IGZyb20gJy4vaW50ZXJhY3Rpb24vVHJhbnNsYXRlLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRGVmYXVsdHNPcHRpb25zXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbHRTaGlmdERyYWdSb3RhdGU9dHJ1ZV0gV2hldGhlciBBbHQtU2hpZnQtZHJhZyByb3RhdGUgaXNcbiAqIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gSW50ZXJhY3Qgb25seSB3aGVuIHRoZSBtYXAgaGFzIHRoZVxuICogZm9jdXMuIFRoaXMgYWZmZWN0cyB0aGUgYE1vdXNlV2hlZWxab29tYCBhbmQgYERyYWdQYW5gIGludGVyYWN0aW9ucyBhbmQgaXNcbiAqIHVzZWZ1bCB3aGVuIHBhZ2Ugc2Nyb2xsIGlzIGRlc2lyZWQgZm9yIG1hcHMgdGhhdCBkbyBub3QgaGF2ZSB0aGUgYnJvd3NlcidzXG4gKiBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RvdWJsZUNsaWNrWm9vbT10cnVlXSBXaGV0aGVyIGRvdWJsZSBjbGljayB6b29tIGlzXG4gKiBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBba2V5Ym9hcmQ9dHJ1ZV0gV2hldGhlciBrZXlib2FyZCBpbnRlcmFjdGlvbiBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbW91c2VXaGVlbFpvb209dHJ1ZV0gV2hldGhlciBtb3VzZXdoZWVsIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NoaWZ0RHJhZ1pvb209dHJ1ZV0gV2hldGhlciBTaGlmdC1kcmFnIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RyYWdQYW49dHJ1ZV0gV2hldGhlciBkcmFnIHBhbiBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGluY2hSb3RhdGU9dHJ1ZV0gV2hldGhlciBwaW5jaCByb3RhdGUgaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3BpbmNoWm9vbT10cnVlXSBXaGV0aGVyIHBpbmNoIHpvb20gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbURlbHRhXSBab29tIGxldmVsIGRlbHRhIHdoZW4gdXNpbmcga2V5Ym9hcmQgb3IgZG91YmxlIGNsaWNrIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21EdXJhdGlvbl0gRHVyYXRpb24gb2YgdGhlIHpvb20gYW5pbWF0aW9uIGluXG4gKiBtaWxsaXNlY29uZHMuXG4gKi9cbi8qKlxuICogU2V0IG9mIGludGVyYWN0aW9ucyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFNwZWNpZmljIGludGVyYWN0aW9ucyBjYW4gYmVcbiAqIGV4Y2x1ZGVkIGJ5IHNldHRpbmcgdGhlIGFwcHJvcHJpYXRlIG9wdGlvbiB0byBmYWxzZSBpbiB0aGUgY29uc3RydWN0b3JcbiAqIG9wdGlvbnMsIGJ1dCB0aGUgb3JkZXIgb2YgdGhlIGludGVyYWN0aW9ucyBpcyBmaXhlZC4gIElmIHlvdSB3YW50IHRvIHNwZWNpZnlcbiAqIGEgZGlmZmVyZW50IG9yZGVyIGZvciBpbnRlcmFjdGlvbnMsIHlvdSB3aWxsIG5lZWQgdG8gY3JlYXRlIHlvdXIgb3duXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9ufSBpbnN0YW5jZXMgYW5kIGluc2VydFxuICogdGhlbSBpbnRvIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufSBpbiB0aGUgb3JkZXIgeW91IHdhbnRcbiAqIGJlZm9yZSBjcmVhdGluZyB5b3VyIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaW5zdGFuY2UuIENoYW5naW5nIHRoZSBvcmRlciBjYW5cbiAqIGJlIG9mIGludGVyZXN0IGlmIHRoZSBldmVudCBwcm9wYWdhdGlvbiBuZWVkcyB0byBiZSBzdG9wcGVkIGF0IGEgcG9pbnQuXG4gKiBUaGUgZGVmYXVsdCBzZXQgb2YgaW50ZXJhY3Rpb25zLCBpbiBzZXF1ZW5jZSwgaXM6XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZX5EcmFnUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbX5Eb3VibGVDbGlja1pvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1Bhbn5EcmFnUGFufVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlflBpbmNoUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoWm9vbX5QaW5jaFpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW5+S2V5Ym9hcmRQYW59XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbX5Nb3VzZVdoZWVsWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbX5EcmFnWm9vbX1cbiAqXG4gKiBAcGFyYW0ge0RlZmF1bHRzT3B0aW9ucz19IG9wdF9vcHRpb25zIERlZmF1bHRzIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICogQSBjb2xsZWN0aW9uIG9mIGludGVyYWN0aW9ucyB0byBiZSB1c2VkIHdpdGggdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH1cbiAqIGNvbnN0cnVjdG9yJ3MgYGludGVyYWN0aW9uc2Agb3B0aW9uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdHMob3B0X29wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zID8gb3B0X29wdGlvbnMgOiB7fTtcbiAgICB2YXIgaW50ZXJhY3Rpb25zID0gbmV3IENvbGxlY3Rpb24oKTtcbiAgICB2YXIga2luZXRpYyA9IG5ldyBLaW5ldGljKC0wLjAwNSwgMC4wNSwgMTAwKTtcbiAgICB2YXIgYWx0U2hpZnREcmFnUm90YXRlID0gb3B0aW9ucy5hbHRTaGlmdERyYWdSb3RhdGUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuYWx0U2hpZnREcmFnUm90YXRlXG4gICAgICAgIDogdHJ1ZTtcbiAgICBpZiAoYWx0U2hpZnREcmFnUm90YXRlKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEcmFnUm90YXRlKCkpO1xuICAgIH1cbiAgICB2YXIgZG91YmxlQ2xpY2tab29tID0gb3B0aW9ucy5kb3VibGVDbGlja1pvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZG91YmxlQ2xpY2tab29tIDogdHJ1ZTtcbiAgICBpZiAoZG91YmxlQ2xpY2tab29tKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEb3VibGVDbGlja1pvb20oe1xuICAgICAgICAgICAgZGVsdGE6IG9wdGlvbnMuem9vbURlbHRhLFxuICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBkcmFnUGFuID0gb3B0aW9ucy5kcmFnUGFuICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRyYWdQYW4gOiB0cnVlO1xuICAgIGlmIChkcmFnUGFuKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEcmFnUGFuKHtcbiAgICAgICAgICAgIG9uRm9jdXNPbmx5OiBvcHRpb25zLm9uRm9jdXNPbmx5LFxuICAgICAgICAgICAga2luZXRpYzoga2luZXRpYyxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgcGluY2hSb3RhdGUgPSBvcHRpb25zLnBpbmNoUm90YXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpbmNoUm90YXRlIDogdHJ1ZTtcbiAgICBpZiAocGluY2hSb3RhdGUpIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IFBpbmNoUm90YXRlKCkpO1xuICAgIH1cbiAgICB2YXIgcGluY2hab29tID0gb3B0aW9ucy5waW5jaFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGluY2hab29tIDogdHJ1ZTtcbiAgICBpZiAocGluY2hab29tKSB7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBQaW5jaFpvb20oe1xuICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBrZXlib2FyZCA9IG9wdGlvbnMua2V5Ym9hcmQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5Ym9hcmQgOiB0cnVlO1xuICAgIGlmIChrZXlib2FyZCkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgS2V5Ym9hcmRQYW4oKSk7XG4gICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBLZXlib2FyZFpvb20oe1xuICAgICAgICAgICAgZGVsdGE6IG9wdGlvbnMuem9vbURlbHRhLFxuICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBtb3VzZVdoZWVsWm9vbSA9IG9wdGlvbnMubW91c2VXaGVlbFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubW91c2VXaGVlbFpvb20gOiB0cnVlO1xuICAgIGlmIChtb3VzZVdoZWVsWm9vbSkge1xuICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgTW91c2VXaGVlbFpvb20oe1xuICAgICAgICAgICAgb25Gb2N1c09ubHk6IG9wdGlvbnMub25Gb2N1c09ubHksXG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIHNoaWZ0RHJhZ1pvb20gPSBvcHRpb25zLnNoaWZ0RHJhZ1pvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2hpZnREcmFnWm9vbSA6IHRydWU7XG4gICAgaWYgKHNoaWZ0RHJhZ1pvb20pIHtcbiAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IERyYWdab29tKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gaW50ZXJhY3Rpb25zO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3Rpb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1RpbGVQcm9wZXJ0eVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBQUkVMT0FEOiAncHJlbG9hZCcsXG4gICAgVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1I6ICd1c2VJbnRlcmltVGlsZXNPbkVycm9yJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlUHJvcGVydHkuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlVGlsZVxuICovXG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgVGlsZVByb3BlcnR5IGZyb20gJy4vVGlsZVByb3BlcnR5LmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL29iai5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3ByZWxvYWQ9MF0gUHJlbG9hZC4gTG9hZCBsb3ctcmVzb2x1dGlvbiB0aWxlcyB1cCB0byBgcHJlbG9hZGAgbGV2ZWxzLiBgMGBcbiAqIG1lYW5zIG5vIHByZWxvYWRpbmcuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFtzb3VyY2VdIFNvdXJjZSBmb3IgdGhpcyBsYXllci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIFNldHMgdGhlIGxheWVyIGFzIG92ZXJsYXkgb24gYSBtYXAuIFRoZSBtYXAgd2lsbCBub3QgbWFuYWdlXG4gKiB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBsYXllciB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiB0ZW1wb3JhcnkgbGF5ZXJzLiBUaGUgc3RhbmRhcmQgd2F5IHRvIGFkZCBhIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCBpcyB0b1xuICogdXNlIHtAbGluayBtb2R1bGU6b2wvTWFwI2FkZExheWVyfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUludGVyaW1UaWxlc09uRXJyb3I9dHJ1ZV0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRm9yIGxheWVyIHNvdXJjZXMgdGhhdCBwcm92aWRlIHByZS1yZW5kZXJlZCwgdGlsZWQgaW1hZ2VzIGluIGdyaWRzIHRoYXQgYXJlXG4gKiBvcmdhbml6ZWQgYnkgem9vbSBsZXZlbHMgZm9yIHNwZWNpZmljIHJlc29sdXRpb25zLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEBleHRlbmRzIHtMYXllcjxpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAqIEBhcGlcbiAqL1xudmFyIEJhc2VUaWxlTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VUaWxlTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgVGlsZSBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VUaWxlTGF5ZXIob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBiYXNlT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5wcmVsb2FkO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvcjtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2V0UHJlbG9hZChvcHRpb25zLnByZWxvYWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucHJlbG9hZCA6IDApO1xuICAgICAgICBfdGhpcy5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvclxuICAgICAgICAgICAgOiB0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxldmVsIGFzIG51bWJlciB0byB3aGljaCB3ZSB3aWxsIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVGlsZUxheWVyLnByb3RvdHlwZS5nZXRQcmVsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChUaWxlUHJvcGVydHkuUFJFTE9BRCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwcmVsb2FkIFRoZSBsZXZlbCB0byBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VUaWxlTGF5ZXIucHJvdG90eXBlLnNldFByZWxvYWQgPSBmdW5jdGlvbiAocHJlbG9hZCkge1xuICAgICAgICB0aGlzLnNldChUaWxlUHJvcGVydHkuUFJFTE9BRCwgcHJlbG9hZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEBvYnNlcnZhYmxlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VUaWxlTGF5ZXIucHJvdG90eXBlLmdldFVzZUludGVyaW1UaWxlc09uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChUaWxlUHJvcGVydHkuVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlSW50ZXJpbVRpbGVzT25FcnJvciBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICAgKiBAb2JzZXJ2YWJsZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVGlsZUxheWVyLnByb3RvdHlwZS5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yID0gZnVuY3Rpb24gKHVzZUludGVyaW1UaWxlc09uRXJyb3IpIHtcbiAgICAgICAgdGhpcy5zZXQoVGlsZVByb3BlcnR5LlVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SLCB1c2VJbnRlcmltVGlsZXNPbkVycm9yKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlVGlsZUxheWVyO1xufShMYXllcikpO1xuZXhwb3J0IGRlZmF1bHQgQmFzZVRpbGVMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VUaWxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IE9ic2VydmFibGUgZnJvbSAnLi4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi4vc291cmNlL1N0YXRlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gTGF5ZXJUeXBlXG4gKi9cbnZhciBMYXllclJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMYXllclJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TGF5ZXJUeXBlfSBsYXllciBMYXllci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXllclJlbmRlcmVyKGxheWVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyA9IF90aGlzLmhhbmRsZUltYWdlQ2hhbmdlXy5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0xheWVyVHlwZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxheWVyXyA9IGxheWVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cFwiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXN5bmNocm9ub3VzIGxheWVyIGxldmVsIGhpdCBkZXRlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLmRlZmF1bHQ+Pn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGhcbiAgICAgKiBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gTGF5ZXIgaXMgcmVhZHkgdG8gYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucHJlcGFyZUZyYW1lID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dm9pZH0gSWYgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmUgY29uc2lkZXJlZCBsb2FkZWQuXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubG9hZGVkVGlsZUNhbGxiYWNrID0gZnVuY3Rpb24gKHRpbGVzLCB6b29tLCB0aWxlKSB7XG4gICAgICAgIGlmICghdGlsZXNbem9vbV0pIHtcbiAgICAgICAgICAgIHRpbGVzW3pvb21dID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGlsZXNbem9vbV1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBhZGRzIGxvYWRlZCB0aWxlcyB0byB0aGUgdGlsZSBsb29rdXAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uIG9mIHRoZSB0aWxlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gQSBmdW5jdGlvbiB0aGF0IGNhbiBiZVxuICAgICAqICAgICBjYWxsZWQgd2l0aCBhIHpvb20gbGV2ZWwgYW5kIGEgdGlsZSByYW5nZSB0byBhZGQgbG9hZGVkIHRpbGVzIHRvIHRoZSBsb29rdXAuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIgPSBmdW5jdGlvbiAoc291cmNlLCBwcm9qZWN0aW9uLCB0aWxlcykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0aWxlIHJhbmdlIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgICAgICogQHRoaXMge0xheWVyUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoem9vbSwgdGlsZVJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLmxvYWRlZFRpbGVDYWxsYmFjay5iaW5kKHRoaXMsIHRpbGVzLCB6b29tKTtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UuZm9yRWFjaExvYWRlZFRpbGUocHJvamVjdGlvbiwgem9vbSwgdGlsZVJhbmdlLCBjYWxsYmFjayk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+Pn0gbWF0Y2hlcyBUaGUgaGl0IGRldGVjdGVkIG1hdGNoZXMgd2l0aCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIG1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXl9IFRoZSByZXN1bHQuICBJZiB0aGVyZSBpcyBubyBkYXRhIGF0IHRoZSBwaXhlbFxuICAgICAqICAgIGxvY2F0aW9uLCBudWxsIHdpbGwgYmUgcmV0dXJuZWQuICBJZiB0aGVyZSBpcyBkYXRhLCBidXQgcGl4ZWwgdmFsdWVzIGNhbm5vdCBiZVxuICAgICAqICAgIHJldHVybmVkLCBhbmQgZW1wdHkgYXJyYXkgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXREYXRhQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7TGF5ZXJUeXBlfSBMYXllci5cbiAgICAgKi9cbiAgICBMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhY3Rpb24gbmVjZXNzYXJ5IHRvIGdldCB0aGUgbGF5ZXIgcmVuZGVyZWQgYWZ0ZXIgbmV3IGZvbnRzIGhhdmUgbG9hZGVkXG4gICAgICogQGFic3RyYWN0XG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlRm9udHNDaGFuZ2VkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjaGFuZ2VzIGluIGltYWdlIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIGNoYW5nZSBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExheWVyUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUltYWdlQ2hhbmdlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlLmpzXCIpLmRlZmF1bHR9ICovIChldmVudC50YXJnZXQpO1xuICAgICAgICBpZiAoaW1hZ2UuZ2V0U3RhdGUoKSA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgaW1hZ2UgaWYgbm90IGFscmVhZHkgbG9hZGVkLCBhbmQgcmVnaXN0ZXIgdGhlIGltYWdlIGNoYW5nZVxuICAgICAqIGxpc3RlbmVyIGlmIG5lZWRlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlQmFzZS5qc1wiKS5kZWZhdWx0fSBpbWFnZSBJbWFnZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUubG9hZEltYWdlID0gZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgIHZhciBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKGltYWdlU3RhdGUgIT0gSW1hZ2VTdGF0ZS5MT0FERUQgJiYgaW1hZ2VTdGF0ZSAhPSBJbWFnZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuYm91bmRIYW5kbGVJbWFnZUNoYW5nZV8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgaW1hZ2UubG9hZCgpO1xuICAgICAgICAgICAgaW1hZ2VTdGF0ZSA9IGltYWdlLmdldFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVySWZSZWFkeUFuZFZpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgaWYgKGxheWVyLmdldFZpc2libGUoKSAmJiBsYXllci5nZXRTb3VyY2VTdGF0ZSgpID09IFNvdXJjZVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMYXllclJlbmRlcmVyO1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgZGVmYXVsdCBMYXllclJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5ZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvTGF5ZXJcbiAqL1xuaW1wb3J0IExheWVyUmVuZGVyZXIgZnJvbSAnLi4vTGF5ZXIuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50IGZyb20gJy4uLy4uL3JlbmRlci9FdmVudC5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uLy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHsgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgY29udGFpbnNDb29yZGluYXRlLCBnZXRCb3R0b21MZWZ0LCBnZXRCb3R0b21SaWdodCwgZ2V0VG9wTGVmdCwgZ2V0VG9wUmlnaHQsIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQgeyByb3RhdGVBdE9mZnNldCB9IGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMuanMnO1xuLyoqXG4gKiBAYWJzdHJhY3RcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gTGF5ZXJUeXBlXG4gKi9cbnZhciBDYW52YXNMYXllclJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNMYXllclJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TGF5ZXJUeXBlfSBsYXllciBMYXllci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNMYXllclJlbmRlcmVyKGxheWVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGxheWVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZXNvbHV0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wb3JhcnkgdHJhbnNmb3JtLiAgVGhlIHZhbHVlcyBpbiB0aGlzIHRyYW5zZm9ybSBzaG91bGQgb25seSBiZSB1c2VkIGluIGFcbiAgICAgICAgICogZnVuY3Rpb24gdGhhdCBzZXRzIHRoZSB2YWx1ZXMuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZW1wVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGZvciByZW5kZXJlZCBwaXhlbHMgdG8gdmlld3BvcnQgQ1NTIHBpeGVscy4gIFRoaXMgdHJhbnNmb3JtIG11c3RcbiAgICAgICAgICogYmUgc2V0IHdoZW4gcmVuZGVyaW5nIGEgZnJhbWUgYW5kIG1heSBiZSB1c2VkIGJ5IG90aGVyIGZ1bmN0aW9ucyBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFRyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zZm9ybSBmb3Igdmlld3BvcnQgQ1NTIHBpeGVscyB0byByZW5kZXJlZCBwaXhlbHMuICBUaGlzIHRyYW5zZm9ybSBtdXN0XG4gICAgICAgICAqIGJlIHNldCB3aGVuIHJlbmRlcmluZyBhIGZyYW1lIGFuZCBtYXkgYmUgdXNlZCBieSBvdGhlciBmdW5jdGlvbnMgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRhaW5lclJldXNlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHJlbmRlcmluZyBjb250YWluZXIgZnJvbSBhbiBleGlzdGluZyB0YXJnZXQsIGlmIGNvbXBhdGlibGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFBvdGVudGlhbCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2Zvcm0gQ1NTIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLnVzZUNvbnRhaW5lciA9IGZ1bmN0aW9uICh0YXJnZXQsIHRyYW5zZm9ybSwgb3BhY2l0eSkge1xuICAgICAgICB2YXIgbGF5ZXJDbGFzc05hbWUgPSB0aGlzLmdldExheWVyKCkuZ2V0Q2xhc3NOYW1lKCk7XG4gICAgICAgIHZhciBjb250YWluZXIsIGNvbnRleHQ7XG4gICAgICAgIGlmICh0YXJnZXQgJiZcbiAgICAgICAgICAgIHRhcmdldC5zdHlsZS5vcGFjaXR5ID09PSAnJyAmJlxuICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTmFtZSA9PT0gbGF5ZXJDbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgICBpZiAoY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQgJiZcbiAgICAgICAgICAgIChjb250ZXh0LmNhbnZhcy53aWR0aCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9PT0gdHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgLy8gQ29udGFpbmVyIG9mIHRoZSBwcmV2aW91cyBsYXllciByZW5kZXJlciBjYW4gYmUgdXNlZC5cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gdGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbnRhaW5lclJldXNlZCkge1xuICAgICAgICAgICAgLy8gUHJldmlvdXNseSByZXVzZWQgY29udGFpbmVyIGNhbm5vdCBiZSB1c2VkIGFueSBtb3JlLlxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gbGF5ZXJDbGFzc05hbWU7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBjb250YWluZXIuc3R5bGU7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBzdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIHN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICAgIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoKTtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgICAgICAgc3R5bGUgPSBjYW52YXMuc3R5bGU7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ3RvcCBsZWZ0JztcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IENsaXAgZXh0ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5jbGlwID0gZnVuY3Rpb24gKGNvbnRleHQsIGZyYW1lU3RhdGUsIGV4dGVudCkge1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGhhbGZXaWR0aCA9IChmcmFtZVN0YXRlLnNpemVbMF0gKiBwaXhlbFJhdGlvKSAvIDI7XG4gICAgICAgIHZhciBoYWxmSGVpZ2h0ID0gKGZyYW1lU3RhdGUuc2l6ZVsxXSAqIHBpeGVsUmF0aW8pIC8gMjtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgICAgIHZhciB0b3BMZWZ0ID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgICAgICB2YXIgdG9wUmlnaHQgPSBnZXRUb3BSaWdodChleHRlbnQpO1xuICAgICAgICB2YXIgYm90dG9tUmlnaHQgPSBnZXRCb3R0b21SaWdodChleHRlbnQpO1xuICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGdldEJvdHRvbUxlZnQoZXh0ZW50KTtcbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgdG9wTGVmdCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcFJpZ2h0KTtcbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgYm90dG9tUmlnaHQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBib3R0b21MZWZ0KTtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHJvdGF0ZUF0T2Zmc2V0KGNvbnRleHQsIC1yb3RhdGlvbiwgaGFsZldpZHRoLCBoYWxmSGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8odG9wTGVmdFswXSAqIHBpeGVsUmF0aW8sIHRvcExlZnRbMV0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8odG9wUmlnaHRbMF0gKiBwaXhlbFJhdGlvLCB0b3BSaWdodFsxXSAqIHBpeGVsUmF0aW8pO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhib3R0b21SaWdodFswXSAqIHBpeGVsUmF0aW8sIGJvdHRvbVJpZ2h0WzFdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGJvdHRvbUxlZnRbMF0gKiBwaXhlbFJhdGlvLCBib3R0b21MZWZ0WzFdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgaGFsZldpZHRoLCBoYWxmSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBDbGlwIGV4dGVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuY2xpcFVucm90YXRlZCA9IGZ1bmN0aW9uIChjb250ZXh0LCBmcmFtZVN0YXRlLCBleHRlbnQpIHtcbiAgICAgICAgdmFyIHRvcExlZnQgPSBnZXRUb3BMZWZ0KGV4dGVudCk7XG4gICAgICAgIHZhciB0b3BSaWdodCA9IGdldFRvcFJpZ2h0KGV4dGVudCk7XG4gICAgICAgIHZhciBib3R0b21SaWdodCA9IGdldEJvdHRvbVJpZ2h0KGV4dGVudCk7XG4gICAgICAgIHZhciBib3R0b21MZWZ0ID0gZ2V0Qm90dG9tTGVmdChleHRlbnQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCB0b3BMZWZ0KTtcbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgdG9wUmlnaHQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBib3R0b21SaWdodCk7XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGJvdHRvbUxlZnQpO1xuICAgICAgICB2YXIgaW52ZXJ0ZWQgPSB0aGlzLmludmVyc2VQaXhlbFRyYW5zZm9ybTtcbiAgICAgICAgYXBwbHlUcmFuc2Zvcm0oaW52ZXJ0ZWQsIHRvcExlZnQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgdG9wUmlnaHQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgYm90dG9tUmlnaHQpO1xuICAgICAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgYm90dG9tTGVmdCk7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhNYXRoLnJvdW5kKHRvcExlZnRbMF0pLCBNYXRoLnJvdW5kKHRvcExlZnRbMV0pKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oTWF0aC5yb3VuZCh0b3BSaWdodFswXSksIE1hdGgucm91bmQodG9wUmlnaHRbMV0pKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oTWF0aC5yb3VuZChib3R0b21SaWdodFswXSksIE1hdGgucm91bmQoYm90dG9tUmlnaHRbMV0pKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oTWF0aC5yb3VuZChib3R0b21MZWZ0WzBdKSwgTWF0aC5yb3VuZChib3R0b21MZWZ0WzFdKSk7XG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5kaXNwYXRjaFJlbmRlckV2ZW50XyA9IGZ1bmN0aW9uICh0eXBlLCBjb250ZXh0LCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgaWYgKGxheWVyLmhhc0xpc3RlbmVyKHR5cGUpKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRfMSA9IG5ldyBSZW5kZXJFdmVudCh0eXBlLCB0aGlzLmludmVyc2VQaXhlbFRyYW5zZm9ybSwgZnJhbWVTdGF0ZSwgY29udGV4dCk7XG4gICAgICAgICAgICBsYXllci5kaXNwYXRjaEV2ZW50KGV2ZW50XzEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZVJlbmRlciA9IGZ1bmN0aW9uIChjb250ZXh0LCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBSRVJFTkRFUiwgY29udGV4dCwgZnJhbWVTdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc0xheWVyUmVuZGVyZXIucHJvdG90eXBlLnBvc3RSZW5kZXIgPSBmdW5jdGlvbiAoY29udGV4dCwgZnJhbWVTdGF0ZSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoUmVuZGVyRXZlbnRfKFJlbmRlckV2ZW50VHlwZS5QT1NUUkVOREVSLCBjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZyB0byBhbiBlbGVtZW50IHRoYXQgd2lsbCBiZSByb3RhdGVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgdGhlIHJlbmRlcmVkIGVsZW1lbnQgKGluIHBpeGVscykuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIHJlbmRlcmVkIGVsZW1lbnQgKGluIHBpeGVscykuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFggT2Zmc2V0IG9uIHRoZSB4LWF4aXMgaW4gdmlldyBjb29yZGluYXRlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IFRyYW5zZm9ybS5cbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRSZW5kZXJUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgcGl4ZWxSYXRpbywgd2lkdGgsIGhlaWdodCwgb2Zmc2V0WCkge1xuICAgICAgICB2YXIgZHgxID0gd2lkdGggLyAyO1xuICAgICAgICB2YXIgZHkxID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIHN4ID0gcGl4ZWxSYXRpbyAvIHJlc29sdXRpb247XG4gICAgICAgIHZhciBzeSA9IC1zeDtcbiAgICAgICAgdmFyIGR4MiA9IC1jZW50ZXJbMF0gKyBvZmZzZXRYO1xuICAgICAgICB2YXIgZHkyID0gLWNlbnRlclsxXTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy50ZW1wVHJhbnNmb3JtLCBkeDEsIGR5MSwgc3gsIHN5LCAtcm90YXRpb24sIGR4MiwgZHkyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXl9IFRoZSByZXN1bHQuICBJZiB0aGVyZSBpcyBubyBkYXRhIGF0IHRoZSBwaXhlbFxuICAgICAqICAgIGxvY2F0aW9uLCBudWxsIHdpbGwgYmUgcmV0dXJuZWQuICBJZiB0aGVyZSBpcyBkYXRhLCBidXQgcGl4ZWwgdmFsdWVzIGNhbm5vdCBiZVxuICAgICAqICAgIHJldHVybmVkLCBhbmQgZW1wdHkgYXJyYXkgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBDYW52YXNMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXREYXRhQXRQaXhlbCA9IGZ1bmN0aW9uIChwaXhlbCwgZnJhbWVTdGF0ZSwgaGl0VG9sZXJhbmNlKSB7XG4gICAgICAgIHZhciByZW5kZXJQaXhlbCA9IGFwcGx5VHJhbnNmb3JtKHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCBwaXhlbC5zbGljZSgpKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgdmFyIGxheWVyRXh0ZW50ID0gbGF5ZXIuZ2V0RXh0ZW50KCk7XG4gICAgICAgIGlmIChsYXllckV4dGVudCkge1xuICAgICAgICAgICAgdmFyIHJlbmRlckNvb3JkaW5hdGUgPSBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLCBwaXhlbC5zbGljZSgpKTtcbiAgICAgICAgICAgIC8qKiBnZXQgb25seSBkYXRhIGluc2lkZSBvZiB0aGUgbGF5ZXIgZXh0ZW50ICovXG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5zQ29vcmRpbmF0ZShsYXllckV4dGVudCwgcmVuZGVyQ29vcmRpbmF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB4ID0gTWF0aC5yb3VuZChyZW5kZXJQaXhlbFswXSk7XG4gICAgICAgICAgICB2YXIgeSA9IE1hdGgucm91bmQocmVuZGVyUGl4ZWxbMV0pO1xuICAgICAgICAgICAgdmFyIG5ld0NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgdmFyIG5ld0NvbnRleHQgPSBuZXdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIG5ld0NhbnZhcy53aWR0aCA9IDE7XG4gICAgICAgICAgICBuZXdDYW52YXMuaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIG5ld0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIDEsIDEpO1xuICAgICAgICAgICAgbmV3Q29udGV4dC5kcmF3SW1hZ2UoY29udGV4dC5jYW52YXMsIHgsIHksIDEsIDEsIDAsIDAsIDEsIDEpO1xuICAgICAgICAgICAgZGF0YSA9IG5ld0NvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIDEsIDEpLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGVyci5uYW1lID09PSAnU2VjdXJpdHlFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAvLyB0YWludGVkIGNhbnZhcywgd2UgYXNzdW1lIHRoZXJlIGlzIGRhdGEgYXQgdGhlIGdpdmVuIHBpeGVsIChhbHRob3VnaCB0aGVyZSBtaWdodCBub3QgYmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVszXSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzTGF5ZXJSZW5kZXJlcjtcbn0oTGF5ZXJSZW5kZXJlcikpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGF5ZXJSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxheWVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUmFuZ2VcbiAqL1xuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY29udGlndW91cyBibG9jayBvZiB0aWxlcy4gIEEgdGlsZSByYW5nZSBpcyBzcGVjaWZpZWRcbiAqIGJ5IGl0cyBtaW4vbWF4IHRpbGUgY29vcmRpbmF0ZXMgYW5kIGlzIGluY2x1c2l2ZSBvZiBjb29yZGluYXRlcy5cbiAqL1xudmFyIFRpbGVSYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFggTWF4aW11bSBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFkpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh0aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbnNYWSh0aWxlQ29vcmRbMV0sIHRpbGVDb29yZFsyXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5jb250YWluc1RpbGVSYW5nZSA9IGZ1bmN0aW9uICh0aWxlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblggPD0gdGlsZVJhbmdlLm1pblggJiZcbiAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhYIDw9IHRoaXMubWF4WCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICAgICAgICB0aWxlUmFuZ2UubWF4WSA8PSB0aGlzLm1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgY29vcmRpbmF0ZS5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zWFkgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YIDw9IHggJiYgeCA8PSB0aGlzLm1heFggJiYgdGhpcy5taW5ZIDw9IHkgJiYgeSA8PSB0aGlzLm1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gRXF1YWxzLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHRpbGVSYW5nZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMubWluWCA9PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZID09IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICAgICAgICB0aGlzLm1heFggPT0gdGlsZVJhbmdlLm1heFggJiZcbiAgICAgICAgICAgIHRoaXMubWF4WSA9PSB0aWxlUmFuZ2UubWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICovXG4gICAgVGlsZVJhbmdlLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAodGlsZVJhbmdlKSB7XG4gICAgICAgIGlmICh0aWxlUmFuZ2UubWluWCA8IHRoaXMubWluWCkge1xuICAgICAgICAgICAgdGhpcy5taW5YID0gdGlsZVJhbmdlLm1pblg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGVSYW5nZS5tYXhYID4gdGhpcy5tYXhYKSB7XG4gICAgICAgICAgICB0aGlzLm1heFggPSB0aWxlUmFuZ2UubWF4WDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGlsZVJhbmdlLm1pblkgPCB0aGlzLm1pblkpIHtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IHRpbGVSYW5nZS5taW5ZO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlUmFuZ2UubWF4WSA+IHRoaXMubWF4WSkge1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gdGlsZVJhbmdlLm1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSGVpZ2h0LlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhZIC0gdGhpcy5taW5ZICsgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmdldFdpZHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAgICAgKi9cbiAgICBUaWxlUmFuZ2UucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhYIC0gdGhpcy5taW5YICsgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJbnRlcnNlY3RzLlxuICAgICAqL1xuICAgIFRpbGVSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uICh0aWxlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1pblggPD0gdGlsZVJhbmdlLm1heFggJiZcbiAgICAgICAgICAgIHRoaXMubWF4WCA+PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgICAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5tYXhZICYmXG4gICAgICAgICAgICB0aGlzLm1heFkgPj0gdGlsZVJhbmdlLm1pblkpO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbGVSYW5nZTtcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYIE1heGltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAqIEBwYXJhbSB7VGlsZVJhbmdlPX0gdGlsZVJhbmdlIFRpbGVSYW5nZS5cbiAqIEByZXR1cm4ge1RpbGVSYW5nZX0gVGlsZSByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1heFgsIG1pblksIG1heFksIHRpbGVSYW5nZSkge1xuICAgIGlmICh0aWxlUmFuZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aWxlUmFuZ2UubWluWCA9IG1pblg7XG4gICAgICAgIHRpbGVSYW5nZS5tYXhYID0gbWF4WDtcbiAgICAgICAgdGlsZVJhbmdlLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aWxlUmFuZ2UubWF4WSA9IG1heFk7XG4gICAgICAgIHJldHVybiB0aWxlUmFuZ2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IFRpbGVSYW5nZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBUaWxlUmFuZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlUmFuZ2UuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvVGlsZUxheWVyXG4gKi9cbmltcG9ydCBDYW52YXNMYXllclJlbmRlcmVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IFRpbGVSYW5nZSBmcm9tICcuLi8uLi9UaWxlUmFuZ2UuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi8uLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHsgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgbWFrZUludmVyc2UsIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uLy4uL29iai5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFbXB0eSwgZXF1YWxzLCBnZXRJbnRlcnNlY3Rpb24sIGdldFRvcExlZnQsIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZVRyYW5zZm9ybVN0cmluZyB9IGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMuanMnO1xuaW1wb3J0IHsgZnJvbVVzZXJFeHRlbnQgfSBmcm9tICcuLi8uLi9wcm9qLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgbnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciB0aWxlIGxheWVycy5cbiAqIEBhcGlcbiAqL1xudmFyIENhbnZhc1RpbGVMYXllclJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVMYXllciBUaWxlIGxheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1RpbGVMYXllclJlbmRlcmVyKHRpbGVMYXllcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0aWxlTGF5ZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlZCBleHRlbnQgaGFzIGNoYW5nZWQgc2luY2UgdGhlIHByZXZpb3VzIGByZW5kZXJGcmFtZSgpYCBjYWxsXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXh0ZW50Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRQaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFByb2plY3Rpb24gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZXZpc2lvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRUaWxlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uZXdUaWxlc18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wVGlsZVJhbmdlXyA9IG5ldyBUaWxlUmFuZ2UoMCwgMCwgMCwgMCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBpcyBkcmF3YWJsZS5cbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUuaXNEcmF3YWJsZVRpbGUgPSBmdW5jdGlvbiAodGlsZSkge1xuICAgICAgICB2YXIgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdGlsZVN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICB2YXIgdXNlSW50ZXJpbVRpbGVzT25FcnJvciA9IHRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCk7XG4gICAgICAgIHJldHVybiAodGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRU1QVFkgfHxcbiAgICAgICAgICAgICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SICYmICF1c2VJbnRlcmltVGlsZXNPbkVycm9yKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbiAoeiwgeCwgeSwgZnJhbWVTdGF0ZSkge1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgICB2YXIgdGlsZVNvdXJjZSA9IHRpbGVMYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgdmFyIHRpbGUgPSB0aWxlU291cmNlLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgICBpZiAoIXRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzZUludGVyaW1UaWxlc09uRXJyb3IgaXMgZmFsc2UsIHdlIGNvbnNpZGVyIHRoZSBlcnJvciB0aWxlIGFzIGxvYWRlZC5cbiAgICAgICAgICAgICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FERUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGlsZUxheWVyLmdldFByZWxvYWQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBQcmVsb2FkZWQgdGlsZXMgZm9yIGxvd2VyIHJlc29sdXRpb25zIG1pZ2h0IGhhdmUgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgICAgICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhd2FibGVUaWxlKHRpbGUpKSB7XG4gICAgICAgICAgICB0aWxlID0gdGlsZS5nZXRJbnRlcmltVGlsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn0gdGlsZXMgTG9va3VwIG9mIGxvYWRlZCB0aWxlcyBieSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHZvaWR9IElmIGBmYWxzZWAsIHRoZSB0aWxlIHdpbGwgbm90IGJlIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5sb2FkZWRUaWxlQ2FsbGJhY2sgPSBmdW5jdGlvbiAodGlsZXMsIHpvb20sIHRpbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmxvYWRlZFRpbGVDYWxsYmFjay5jYWxsKHRoaXMsIHRpbGVzLCB6b29tLCB0aWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciByZW5kZXIgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5wcmVwYXJlRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICAgICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciB2aWV3Q2VudGVyID0gdmlld1N0YXRlLmNlbnRlcjtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHRpbGVMYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgdmFyIHRpbGVTb3VyY2UgPSB0aWxlTGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICAgIHZhciBzb3VyY2VSZXZpc2lvbiA9IHRpbGVTb3VyY2UuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gdGlsZVNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIHZhciB6ID0gdGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24odmlld1Jlc29sdXRpb24sIHRpbGVTb3VyY2UuekRpcmVjdGlvbik7XG4gICAgICAgIHZhciB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgICAgIHZhciBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICAgICAgdmFyIGxheWVyRXh0ZW50ID0gbGF5ZXJTdGF0ZS5leHRlbnQgJiYgZnJvbVVzZXJFeHRlbnQobGF5ZXJTdGF0ZS5leHRlbnQsIHByb2plY3Rpb24pO1xuICAgICAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgICAgICAgIGV4dGVudCA9IGdldEludGVyc2VjdGlvbihleHRlbnQsIGZyb21Vc2VyRXh0ZW50KGxheWVyU3RhdGUuZXh0ZW50LCBwcm9qZWN0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbGVQaXhlbFJhdGlvID0gdGlsZVNvdXJjZS5nZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKTtcbiAgICAgICAgLy8gZGVzaXJlZCBkaW1lbnNpb25zIG9mIHRoZSBjYW52YXMgaW4gcGl4ZWxzXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzBdICogdGlsZVBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMV0gKiB0aWxlUGl4ZWxSYXRpbyk7XG4gICAgICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICAgICAgdmFyIHNpemUgPSBNYXRoLnJvdW5kKE1hdGguc3FydCh3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0KSk7XG4gICAgICAgICAgICB3aWR0aCA9IHNpemU7XG4gICAgICAgICAgICBoZWlnaHQgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeCA9ICh0aWxlUmVzb2x1dGlvbiAqIHdpZHRoKSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGR5ID0gKHRpbGVSZXNvbHV0aW9uICogaGVpZ2h0KSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGNhbnZhc0V4dGVudCA9IFtcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMF0gLSBkeCxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMV0gLSBkeSxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMF0gKyBkeCxcbiAgICAgICAgICAgIHZpZXdDZW50ZXJbMV0gKyBkeSxcbiAgICAgICAgXTtcbiAgICAgICAgdmFyIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aWxlc1RvRHJhd0J5WiA9IHt9O1xuICAgICAgICB0aWxlc1RvRHJhd0J5Wlt6XSA9IHt9O1xuICAgICAgICB2YXIgZmluZExvYWRlZFRpbGVzID0gdGhpcy5jcmVhdGVMb2FkZWRUaWxlRmluZGVyKHRpbGVTb3VyY2UsIHByb2plY3Rpb24sIHRpbGVzVG9EcmF3QnlaKTtcbiAgICAgICAgdmFyIHRtcEV4dGVudCA9IHRoaXMudG1wRXh0ZW50O1xuICAgICAgICB2YXIgdG1wVGlsZVJhbmdlID0gdGhpcy50bXBUaWxlUmFuZ2VfO1xuICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciB4ID0gdGlsZVJhbmdlLm1pblg7IHggPD0gdGlsZVJhbmdlLm1heFg7ICsreCkge1xuICAgICAgICAgICAgZm9yICh2YXIgeSA9IHRpbGVSYW5nZS5taW5ZOyB5IDw9IHRpbGVSYW5nZS5tYXhZOyArK3kpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IHRoaXMuZ2V0VGlsZSh6LCB4LCB5LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0RyYXdhYmxlVGlsZSh0aWxlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdWlkID0gZ2V0VWlkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVzVG9EcmF3QnlaW3pdW3RpbGUudGlsZUNvb3JkLnRvU3RyaW5nKCldID0gdGlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpblRyYW5zaXRpb24gPSB0aWxlLmluVHJhbnNpdGlvbih1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5ld1RpbGVzXyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpblRyYW5zaXRpb24gfHwgdGhpcy5yZW5kZXJlZFRpbGVzLmluZGV4T2YodGlsZSkgPT09IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3VGlsZXNfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGxvb2sgZm9yIGFsdCB0aWxlcyBpZiBhbHBoYSBpcyAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRUaWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZSh0aWxlLnRpbGVDb29yZCwgdG1wVGlsZVJhbmdlLCB0bXBFeHRlbnQpO1xuICAgICAgICAgICAgICAgIHZhciBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkVGlsZVJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSBmaW5kTG9hZGVkVGlsZXMoeiArIDEsIGNoaWxkVGlsZVJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjb3ZlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVHcmlkLmZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UodGlsZS50aWxlQ29vcmQsIGZpbmRMb2FkZWRUaWxlcywgdG1wVGlsZVJhbmdlLCB0bXBFeHRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FudmFzU2NhbGUgPSB0aWxlUmVzb2x1dGlvbiAvIHZpZXdSZXNvbHV0aW9uO1xuICAgICAgICAvLyBzZXQgZm9yd2FyZCBhbmQgaW52ZXJzZSBwaXhlbCB0cmFuc2Zvcm1zXG4gICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0odGhpcy5waXhlbFRyYW5zZm9ybSwgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMiwgZnJhbWVTdGF0ZS5zaXplWzFdIC8gMiwgMSAvIHRpbGVQaXhlbFJhdGlvLCAxIC8gdGlsZVBpeGVsUmF0aW8sIHJvdGF0aW9uLCAtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMik7XG4gICAgICAgIHZhciBjYW52YXNUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm1TdHJpbmcodGhpcy5waXhlbFRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMudXNlQ29udGFpbmVyKHRhcmdldCwgY2FudmFzVHJhbnNmb3JtLCBsYXllclN0YXRlLm9wYWNpdHkpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICBtYWtlSW52ZXJzZSh0aGlzLmludmVyc2VQaXhlbFRyYW5zZm9ybSwgdGhpcy5waXhlbFRyYW5zZm9ybSk7XG4gICAgICAgIC8vIHNldCBzY2FsZSB0cmFuc2Zvcm0gZm9yIGNhbGN1bGF0aW5nIHRpbGUgcG9zaXRpb25zIG9uIHRoZSBjYW52YXNcbiAgICAgICAgY29tcG9zZVRyYW5zZm9ybSh0aGlzLnRlbXBUcmFuc2Zvcm0sIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgY2FudmFzU2NhbGUsIGNhbnZhc1NjYWxlLCAwLCAtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMik7XG4gICAgICAgIGlmIChjYW52YXMud2lkdGggIT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5jb250YWluZXJSZXVzZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYXllckV4dGVudCkge1xuICAgICAgICAgICAgdGhpcy5jbGlwVW5yb3RhdGVkKGNvbnRleHQsIGZyYW1lU3RhdGUsIGxheWVyRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oY29udGV4dCwgdGlsZVNvdXJjZS5nZXRDb250ZXh0T3B0aW9ucygpKTtcbiAgICAgICAgdGhpcy5wcmVSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZWRUaWxlcy5sZW5ndGggPSAwO1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgICAgIHZhciB6cyA9IE9iamVjdC5rZXlzKHRpbGVzVG9EcmF3QnlaKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgenMuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgICAgICAgdmFyIGNsaXBzLCBjbGlwWnMsIGN1cnJlbnRDbGlwO1xuICAgICAgICBpZiAobGF5ZXJTdGF0ZS5vcGFjaXR5ID09PSAxICYmXG4gICAgICAgICAgICAoIXRoaXMuY29udGFpbmVyUmV1c2VkIHx8XG4gICAgICAgICAgICAgICAgdGlsZVNvdXJjZS5nZXRPcGFxdWUoZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvbikpKSB7XG4gICAgICAgICAgICB6cyA9IHpzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsaXBzID0gW107XG4gICAgICAgICAgICBjbGlwWnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0genMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50WiA9IHpzW2ldO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUaWxlUGl4ZWxTaXplID0gdGlsZVNvdXJjZS5nZXRUaWxlUGl4ZWxTaXplKGN1cnJlbnRaLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oY3VycmVudFopO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTY2FsZSA9IGN1cnJlbnRSZXNvbHV0aW9uIC8gdGlsZVJlc29sdXRpb247XG4gICAgICAgICAgICB2YXIgZHhfMSA9IGN1cnJlbnRUaWxlUGl4ZWxTaXplWzBdICogY3VycmVudFNjYWxlICogY2FudmFzU2NhbGU7XG4gICAgICAgICAgICB2YXIgZHlfMSA9IGN1cnJlbnRUaWxlUGl4ZWxTaXplWzFdICogY3VycmVudFNjYWxlICogY2FudmFzU2NhbGU7XG4gICAgICAgICAgICB2YXIgb3JpZ2luVGlsZUNvb3JkID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaKGdldFRvcExlZnQoY2FudmFzRXh0ZW50KSwgY3VycmVudFopO1xuICAgICAgICAgICAgdmFyIG9yaWdpblRpbGVFeHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQob3JpZ2luVGlsZUNvb3JkKTtcbiAgICAgICAgICAgIHZhciBvcmlnaW5fMSA9IGFwcGx5VHJhbnNmb3JtKHRoaXMudGVtcFRyYW5zZm9ybSwgW1xuICAgICAgICAgICAgICAgICh0aWxlUGl4ZWxSYXRpbyAqIChvcmlnaW5UaWxlRXh0ZW50WzBdIC0gY2FudmFzRXh0ZW50WzBdKSkgL1xuICAgICAgICAgICAgICAgICAgICB0aWxlUmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAodGlsZVBpeGVsUmF0aW8gKiAoY2FudmFzRXh0ZW50WzNdIC0gb3JpZ2luVGlsZUV4dGVudFszXSkpIC9cbiAgICAgICAgICAgICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHZhciB0aWxlR3V0dGVyID0gdGlsZVBpeGVsUmF0aW8gKiB0aWxlU291cmNlLmdldEd1dHRlckZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgICAgICB2YXIgdGlsZXNUb0RyYXcgPSB0aWxlc1RvRHJhd0J5WltjdXJyZW50Wl07XG4gICAgICAgICAgICBmb3IgKHZhciB0aWxlQ29vcmRLZXkgaW4gdGlsZXNUb0RyYXcpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlc1RvRHJhd1t0aWxlQ29vcmRLZXldKTtcbiAgICAgICAgICAgICAgICB2YXIgdGlsZUNvb3JkID0gdGlsZS50aWxlQ29vcmQ7XG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGludGVnZXIgcG9zaXRpb25zIGFuZCBzaXplcyBzbyB0aGF0IHRpbGVzIGFsaWduXG4gICAgICAgICAgICAgICAgdmFyIGZsb2F0WCA9IG9yaWdpbl8xWzBdIC0gKG9yaWdpblRpbGVDb29yZFsxXSAtIHRpbGVDb29yZFsxXSkgKiBkeF8xO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0WCA9IE1hdGgucm91bmQoZmxvYXRYICsgZHhfMSk7XG4gICAgICAgICAgICAgICAgdmFyIGZsb2F0WSA9IG9yaWdpbl8xWzFdIC0gKG9yaWdpblRpbGVDb29yZFsyXSAtIHRpbGVDb29yZFsyXSkgKiBkeV8xO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0WSA9IE1hdGgucm91bmQoZmxvYXRZICsgZHlfMSk7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBNYXRoLnJvdW5kKGZsb2F0WCk7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBNYXRoLnJvdW5kKGZsb2F0WSk7XG4gICAgICAgICAgICAgICAgdmFyIHcgPSBuZXh0WCAtIHg7XG4gICAgICAgICAgICAgICAgdmFyIGggPSBuZXh0WSAtIHk7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb24gPSB6ID09PSBjdXJyZW50WjtcbiAgICAgICAgICAgICAgICB2YXIgaW5UcmFuc2l0aW9uID0gdHJhbnNpdGlvbiAmJiB0aWxlLmdldEFscGhhKGdldFVpZCh0aGlzKSwgZnJhbWVTdGF0ZS50aW1lKSAhPT0gMTtcbiAgICAgICAgICAgICAgICBpZiAoIWluVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xpcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsaXAgbWFzayBmb3IgcmVnaW9ucyBpbiB0aGlzIHRpbGUgdGhhdCBhbHJlYWR5IGZpbGxlZCBieSBhIGhpZ2hlciB6IHRpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENsaXAgPSBbeCwgeSwgeCArIHcsIHksIHggKyB3LCB5ICsgaCwgeCwgeSArIGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMCwgaWkgPSBjbGlwcy5sZW5ndGg7IGlfMSA8IGlpOyArK2lfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6ICE9PSBjdXJyZW50WiAmJiBjdXJyZW50WiA8IGNsaXBac1tpXzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGlwID0gY2xpcHNbaV8xXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY291bnRlci1jbG9ja3dpc2UgKG91dGVyIHJpbmcpIGZvciBjdXJyZW50IHRpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY3VycmVudENsaXBbMF0sIGN1cnJlbnRDbGlwWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY3VycmVudENsaXBbMl0sIGN1cnJlbnRDbGlwWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY3VycmVudENsaXBbNF0sIGN1cnJlbnRDbGlwWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY3VycmVudENsaXBbNl0sIGN1cnJlbnRDbGlwWzddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xvY2t3aXNlIChpbm5lciByaW5nKSBmb3IgaGlnaGVyIHogdGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhjbGlwWzZdLCBjbGlwWzddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFs0XSwgY2xpcFs1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbMl0sIGNsaXBbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzBdLCBjbGlwWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpcHMucHVzaChjdXJyZW50Q2xpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlwWnMucHVzaChjdXJyZW50Wik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCh4LCB5LCB3LCBoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdUaWxlSW1hZ2UodGlsZSwgZnJhbWVTdGF0ZSwgeCwgeSwgdywgaCwgdGlsZUd1dHRlciwgdHJhbnNpdGlvbiwgbGF5ZXJTdGF0ZS5vcGFjaXR5KTtcbiAgICAgICAgICAgICAgICBpZiAoY2xpcHMgJiYgIWluVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZFRpbGVzLnB1c2godGlsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VkVGlsZXMoZnJhbWVTdGF0ZS51c2VkVGlsZXMsIHRpbGVTb3VyY2UsIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbiA9IHNvdXJjZVJldmlzaW9uO1xuICAgICAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbiA9IHRpbGVSZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmV4dGVudENoYW5nZWQgPVxuICAgICAgICAgICAgIXRoaXMucmVuZGVyZWRFeHRlbnRfIHx8ICFlcXVhbHModGhpcy5yZW5kZXJlZEV4dGVudF8sIGNhbnZhc0V4dGVudCk7XG4gICAgICAgIHRoaXMucmVuZGVyZWRFeHRlbnRfID0gY2FudmFzRXh0ZW50O1xuICAgICAgICB0aGlzLnJlbmRlcmVkUGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMucmVuZGVyZWRQcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgdGhpcy5tYW5hZ2VUaWxlUHlyYW1pZChmcmFtZVN0YXRlLCB0aWxlU291cmNlLCB0aWxlR3JpZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgZXh0ZW50LCB6LCB0aWxlTGF5ZXIuZ2V0UHJlbG9hZCgpKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUV4cGlyZUNhY2hlKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UpO1xuICAgICAgICB0aGlzLnBvc3RSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmIChsYXllclN0YXRlLmV4dGVudCkge1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbnZhc1RyYW5zZm9ybSAhPT0gY2FudmFzLnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGNhbnZhc1RyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBMZWZ0IG9mIHRoZSB0aWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRvcCBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdyBXaWR0aCBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQgb2YgdGhlIHRpbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBUaWxlIGd1dHRlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zaXRpb24gQXBwbHkgYW4gYWxwaGEgdHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5kcmF3VGlsZUltYWdlID0gZnVuY3Rpb24gKHRpbGUsIGZyYW1lU3RhdGUsIHgsIHksIHcsIGgsIGd1dHRlciwgdHJhbnNpdGlvbiwgb3BhY2l0eSkge1xuICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmdldFRpbGVJbWFnZSh0aWxlKTtcbiAgICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQodGhpcyk7XG4gICAgICAgIHZhciB0aWxlQWxwaGEgPSB0cmFuc2l0aW9uID8gdGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgOiAxO1xuICAgICAgICB2YXIgYWxwaGEgPSBvcGFjaXR5ICogdGlsZUFscGhhO1xuICAgICAgICB2YXIgYWxwaGFDaGFuZ2VkID0gYWxwaGEgIT09IHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICAgICAgaWYgKGFscGhhQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIGd1dHRlciwgZ3V0dGVyLCBpbWFnZS53aWR0aCAtIDIgKiBndXR0ZXIsIGltYWdlLmhlaWdodCAtIDIgKiBndXR0ZXIsIHgsIHksIHcsIGgpO1xuICAgICAgICBpZiAoYWxwaGFDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlQWxwaGEgIT09IDEpIHtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUuYW5pbWF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICAgICAgdGlsZS5lbmRUcmFuc2l0aW9uKHVpZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBJbWFnZVxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHJldHVybiBjb250ZXh0ID8gY29udGV4dC5jYW52YXMgOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBmcm9tIGEgdGlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLmdldFRpbGVJbWFnZSA9IGZ1bmN0aW9uICh0aWxlKSB7XG4gICAgICAgIHJldHVybiB0aWxlLmdldEltYWdlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLnNjaGVkdWxlRXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSwgdGlsZVNvdXJjZSkge1xuICAgICAgICBpZiAodGlsZVNvdXJjZS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICAgICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgcG9zdFJlbmRlckZ1bmN0aW9uID0gZnVuY3Rpb24gKHRpbGVTb3VyY2UsIG1hcCwgZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlU291cmNlS2V5IGluIGZyYW1lU3RhdGUudXNlZFRpbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVTb3VyY2UuZXhwaXJlQ2FjaGUoZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvbiwgZnJhbWVTdGF0ZS51c2VkVGlsZXNbdGlsZVNvdXJjZUtleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZChudWxsLCB0aWxlU291cmNlKTtcbiAgICAgICAgICAgIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuUG9zdFJlbmRlckZ1bmN0aW9ufSAqLyAocG9zdFJlbmRlckZ1bmN0aW9uKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8c3RyaW5nLCBib29sZWFuPj59IHVzZWRUaWxlcyBVc2VkIHRpbGVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vVGlsZS5qcycpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZVVzZWRUaWxlcyA9IGZ1bmN0aW9uICh1c2VkVGlsZXMsIHRpbGVTb3VyY2UsIHRpbGUpIHtcbiAgICAgICAgLy8gRklYTUUgc2hvdWxkIHdlIHVzZSB0aWxlc1RvRHJhd0J5WiBpbnN0ZWFkP1xuICAgICAgICB2YXIgdGlsZVNvdXJjZUtleSA9IGdldFVpZCh0aWxlU291cmNlKTtcbiAgICAgICAgaWYgKCEodGlsZVNvdXJjZUtleSBpbiB1c2VkVGlsZXMpKSB7XG4gICAgICAgICAgICB1c2VkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB1c2VkVGlsZXNbdGlsZVNvdXJjZUtleV1bdGlsZS5nZXRLZXkoKV0gPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFuYWdlIHRpbGUgcHlyYW1pZC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHBlcmZvcm1zIGEgbnVtYmVyIG9mIGZ1bmN0aW9ucyByZWxhdGVkIHRvIHRoZSB0aWxlcyBhdCB0aGVcbiAgICAgKiBjdXJyZW50IHpvb20gYW5kIGxvd2VyIHpvb20gbGV2ZWxzOlxuICAgICAqIC0gcmVnaXN0ZXJzIGlkbGUgdGlsZXMgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcyBzbyB0aGF0IHRoZXkgYXJlIG5vdFxuICAgICAqICAgZGlzY2FyZGVkIGJ5IHRoZSB0aWxlIHF1ZXVlXG4gICAgICogLSBlbnF1ZXVlcyBtaXNzaW5nIHRpbGVzXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFogQ3VycmVudCBaLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwcmVsb2FkIExvYWQgbG93IHJlc29sdXRpb24gdGlsZXMgdXAgdG8gJ3ByZWxvYWQnIGxldmVscy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdCk9fSBvcHRfdGlsZUNhbGxiYWNrIFRpbGUgY2FsbGJhY2suXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5tYW5hZ2VUaWxlUHlyYW1pZCA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0aWxlU291cmNlLCB0aWxlR3JpZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgZXh0ZW50LCBjdXJyZW50WiwgcHJlbG9hZCwgb3B0X3RpbGVDYWxsYmFjaykge1xuICAgICAgICB2YXIgdGlsZVNvdXJjZUtleSA9IGdldFVpZCh0aWxlU291cmNlKTtcbiAgICAgICAgaWYgKCEodGlsZVNvdXJjZUtleSBpbiBmcmFtZVN0YXRlLndhbnRlZFRpbGVzKSkge1xuICAgICAgICAgICAgZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciB3YW50ZWRUaWxlcyA9IGZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV07XG4gICAgICAgIHZhciB0aWxlUXVldWUgPSBmcmFtZVN0YXRlLnRpbGVRdWV1ZTtcbiAgICAgICAgdmFyIG1pblpvb20gPSB0aWxlR3JpZC5nZXRNaW5ab29tKCk7XG4gICAgICAgIHZhciB0aWxlQ291bnQgPSAwO1xuICAgICAgICB2YXIgdGlsZSwgdGlsZVJhbmdlLCB0aWxlUmVzb2x1dGlvbiwgeCwgeSwgejtcbiAgICAgICAgZm9yICh6ID0gbWluWm9vbTsgeiA8PSBjdXJyZW50WjsgKyt6KSB7XG4gICAgICAgICAgICB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeiwgdGlsZVJhbmdlKTtcbiAgICAgICAgICAgIHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgICAgICAgIGZvciAoeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHkgPSB0aWxlUmFuZ2UubWluWTsgeSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WiAtIHogPD0gcHJlbG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt0aWxlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlID0gdGlsZVNvdXJjZS5nZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbnRlZFRpbGVzW3RpbGUuZ2V0S2V5KCldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRpbGVRdWV1ZS5pc0tleVF1ZXVlZCh0aWxlLmdldEtleSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlUXVldWUuZW5xdWV1ZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVNvdXJjZUtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVHcmlkLmdldFRpbGVDb29yZENlbnRlcih0aWxlLnRpbGVDb29yZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlUmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF90aWxlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF90aWxlQ2FsbGJhY2sodGlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlU291cmNlLnVzZVRpbGUoeiwgeCwgeSwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGlsZVNvdXJjZS51cGRhdGVDYWNoZVNpemUodGlsZUNvdW50LCBwcm9qZWN0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcjtcbn0oQ2FudmFzTGF5ZXJSZW5kZXJlcikpO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9XG4gKi9cbkNhbnZhc1RpbGVMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYXllcjtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc1RpbGVMYXllclJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUxheWVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvVGlsZVxuICovXG5pbXBvcnQgQmFzZVRpbGVMYXllciBmcm9tICcuL0Jhc2VUaWxlLmpzJztcbmltcG9ydCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciBmcm9tICcuLi9yZW5kZXJlci9jYW52YXMvVGlsZUxheWVyLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogRm9yIGxheWVyIHNvdXJjZXMgdGhhdCBwcm92aWRlIHByZS1yZW5kZXJlZCwgdGlsZWQgaW1hZ2VzIGluIGdyaWRzIHRoYXQgYXJlXG4gKiBvcmdhbml6ZWQgYnkgem9vbSBsZXZlbHMgZm9yIHNwZWNpZmljIHJlc29sdXRpb25zLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEBhcGlcbiAqL1xudmFyIFRpbGVMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZUxheWVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CYXNlVGlsZS5qc1wiKS5PcHRpb25zPX0gb3B0X29wdGlvbnMgVGlsZSBsYXllciBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGVMYXllcihvcHRfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgb3B0X29wdGlvbnMpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHJlbmRlcmVyIGZvciB0aGlzIGxheWVyLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IEEgbGF5ZXIgcmVuZGVyZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGVMYXllci5wcm90b3R5cGUuY3JlYXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gVGlsZUxheWVyO1xufShCYXNlVGlsZUxheWVyKSk7XG5leHBvcnQgZGVmYXVsdCBUaWxlTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvQmFzZVZlY3RvclxuICovXG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgUkJ1c2ggZnJvbSAncmJ1c2gnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7IGNyZWF0ZURlZmF1bHRTdHlsZSwgdG9GdW5jdGlvbiBhcyB0b1N0eWxlRnVuY3Rpb24sIH0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbn0gW3JlbmRlck9yZGVyXSBSZW5kZXIgb3JkZXIuIEZ1bmN0aW9uIHRvIGJlIHVzZWQgd2hlbiBzb3J0aW5nXG4gKiBmZWF0dXJlcyBiZWZvcmUgcmVuZGVyaW5nLiBCeSBkZWZhdWx0IGZlYXR1cmVzIGFyZSBkcmF3biBpbiB0aGUgb3JkZXIgdGhhdCB0aGV5IGFyZSBjcmVhdGVkLiBVc2VcbiAqIGBudWxsYCB0byBhdm9pZCB0aGUgc29ydCwgYnV0IGdldCBhbiB1bmRlZmluZWQgZHJhdyBvcmRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVuZGVyQnVmZmVyPTEwMF0gVGhlIGJ1ZmZlciBpbiBwaXhlbHMgYXJvdW5kIHRoZSB2aWV3cG9ydCBleHRlbnQgdXNlZCBieSB0aGVcbiAqIHJlbmRlcmVyIHdoZW4gZ2V0dGluZyBmZWF0dXJlcyBmcm9tIHRoZSB2ZWN0b3Igc291cmNlIGZvciB0aGUgcmVuZGVyaW5nIG9yIGhpdC1kZXRlY3Rpb24uXG4gKiBSZWNvbW1lbmRlZCB2YWx1ZTogdGhlIHNpemUgb2YgdGhlIGxhcmdlc3Qgc3ltYm9sLCBsaW5lIHdpZHRoIG9yIGxhYmVsLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yLmpzXCIpLmRlZmF1bHR9IFtzb3VyY2VdIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIFNldHMgdGhlIGxheWVyIGFzIG92ZXJsYXkgb24gYSBtYXAuIFRoZSBtYXAgd2lsbCBub3QgbWFuYWdlXG4gKiB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBsYXllciB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiB0ZW1wb3JhcnkgbGF5ZXJzLiBUaGUgc3RhbmRhcmQgd2F5IHRvIGFkZCBhIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCBpcyB0b1xuICogdXNlIHtAbGluayBtb2R1bGU6b2wvTWFwI2FkZExheWVyfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RlY2x1dHRlcj1mYWxzZV0gRGVjbHV0dGVyIGltYWdlcyBhbmQgdGV4dC4gRGVjbHV0dGVyaW5nIGlzIGFwcGxpZWQgdG8gYWxsXG4gKiBpbWFnZSBhbmQgdGV4dCBzdHlsZXMgb2YgYWxsIFZlY3RvciBhbmQgVmVjdG9yVGlsZSBsYXllcnMgdGhhdCBoYXZlIHNldCB0aGlzIHRvIGB0cnVlYC4gVGhlIHByaW9yaXR5XG4gKiBpcyBkZWZpbmVkIGJ5IHRoZSB6LWluZGV4IG9mIHRoZSBsYXllciwgdGhlIGB6SW5kZXhgIG9mIHRoZSBzdHlsZSBhbmQgdGhlIHJlbmRlciBvcmRlciBvZiBmZWF0dXJlcy5cbiAqIEhpZ2hlciB6LWluZGV4IG1lYW5zIGhpZ2hlciBwcmlvcml0eS4gV2l0aGluIHRoZSBzYW1lIHotaW5kZXgsIGEgZmVhdHVyZSByZW5kZXJlZCBiZWZvcmUgYW5vdGhlciBoYXNcbiAqIGhpZ2hlciBwcmlvcml0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx9IFtzdHlsZV0gTGF5ZXIgc3R5bGUuIFdoZW4gc2V0IHRvIGBudWxsYCwgb25seVxuICogZmVhdHVyZXMgdGhhdCBoYXZlIHRoZWlyIG93biBzdHlsZSB3aWxsIGJlIHJlbmRlcmVkLiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zdHlsZX0gZm9yIGRlZmF1bHQgc3R5bGVcbiAqIHdoaWNoIHdpbGwgYmUgdXNlZCBpZiB0aGlzIGlzIG5vdCBzZXQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1cGRhdGVXaGlsZUFuaW1hdGluZz1mYWxzZV0gV2hlbiBzZXQgdG8gYHRydWVgLCBmZWF0dXJlIGJhdGNoZXMgd2lsbFxuICogYmUgcmVjcmVhdGVkIGR1cmluZyBhbmltYXRpb25zLiBUaGlzIG1lYW5zIHRoYXQgbm8gdmVjdG9ycyB3aWxsIGJlIHNob3duIGNsaXBwZWQsIGJ1dCB0aGVcbiAqIHNldHRpbmcgd2lsbCBoYXZlIGEgcGVyZm9ybWFuY2UgaW1wYWN0IGZvciBsYXJnZSBhbW91bnRzIG9mIHZlY3RvciBkYXRhLiBXaGVuIHNldCB0byBgZmFsc2VgLFxuICogYmF0Y2hlcyB3aWxsIGJlIHJlY3JlYXRlZCB3aGVuIG5vIGFuaW1hdGlvbiBpcyBhY3RpdmUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1cGRhdGVXaGlsZUludGVyYWN0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAsIGZlYXR1cmUgYmF0Y2hlcyB3aWxsXG4gKiBiZSByZWNyZWF0ZWQgZHVyaW5nIGludGVyYWN0aW9ucy4gU2VlIGFsc28gYHVwZGF0ZVdoaWxlQW5pbWF0aW5nYC5cbiAqL1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xudmFyIFByb3BlcnR5ID0ge1xuICAgIFJFTkRFUl9PUkRFUjogJ3JlbmRlck9yZGVyJyxcbn07XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFZlY3RvciBkYXRhIHRoYXQgaXMgcmVuZGVyZWQgY2xpZW50LXNpZGUuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vc291cmNlL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gVmVjdG9yU291cmNlVHlwZVxuICogQGV4dGVuZHMge0xheWVyPFZlY3RvclNvdXJjZVR5cGU+fVxuICogQGFwaVxuICovXG52YXIgQmFzZVZlY3RvckxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlVmVjdG9yTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlVmVjdG9yTGF5ZXIob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIHZhciBiYXNlT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5zdHlsZTtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnJlbmRlckJ1ZmZlcjtcbiAgICAgICAgZGVsZXRlIGJhc2VPcHRpb25zLnVwZGF0ZVdoaWxlQW5pbWF0aW5nO1xuICAgICAgICBkZWxldGUgYmFzZU9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZztcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlT3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVjbHV0dGVyXyA9XG4gICAgICAgICAgICBvcHRpb25zLmRlY2x1dHRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kZWNsdXR0ZXIgOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJCdWZmZXJfID1cbiAgICAgICAgICAgIG9wdGlvbnMucmVuZGVyQnVmZmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJlbmRlckJ1ZmZlciA6IDEwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXIgcHJvdmlkZWQgc3R5bGUuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHlsZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3R5bGUgZnVuY3Rpb24gZm9yIHVzZSB3aXRoaW4gdGhlIGxpYnJhcnkuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0eWxlRnVuY3Rpb25fID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5zZXRTdHlsZShvcHRpb25zLnN0eWxlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXBkYXRlV2hpbGVBbmltYXRpbmdfID1cbiAgICAgICAgICAgIG9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy51cGRhdGVXaGlsZUFuaW1hdGluZ1xuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdfID1cbiAgICAgICAgICAgIG9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IERlY2x1dHRlci5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldERlY2x1dHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjbHV0dGVyXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdG9wbW9zdCBmZWF0dXJlIHRoYXQgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBSZXR1cm5zIGEgcHJvbWlzZVxuICAgICAqIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy4gVGhlIGFycmF5IHdpbGwgZWl0aGVyIGNvbnRhaW4gdGhlIHRvcG1vc3QgZmVhdHVyZVxuICAgICAqIHdoZW4gYSBoaXQgd2FzIGRldGVjdGVkLCBvciBpdCB3aWxsIGJlIGVtcHR5LlxuICAgICAqXG4gICAgICogVGhlIGhpdCBkZXRlY3Rpb24gYWxnb3JpdGhtIHVzZWQgZm9yIHRoaXMgbWV0aG9kIGlzIG9wdGltaXplZCBmb3IgcGVyZm9ybWFuY2UsIGJ1dCBpcyBsZXNzXG4gICAgICogYWNjdXJhdGUgdGhhbiB0aGUgb25lIHVzZWQgaW4ge0BsaW5rIGltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5kZWZhdWx0I2dldEZlYXR1cmVzQXRQaXhlbH06IFRleHRcbiAgICAgKiBpcyBub3QgY29uc2lkZXJlZCwgYW5kIGljb25zIGFyZSBvbmx5IHJlcHJlc2VudGVkIGJ5IHRoZWlyIGJvdW5kaW5nIGJveCBpbnN0ZWFkIG9mIHRoZSBleGFjdFxuICAgICAqIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLmRlZmF1bHQ+Pn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAocGl4ZWwpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0RmVhdHVyZXMuY2FsbCh0aGlzLCBwaXhlbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZW5kZXIgYnVmZmVyLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0UmVuZGVyQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJCdWZmZXJfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOiBudW1iZXJ8bnVsbHx1bmRlZmluZWR9IFJlbmRlclxuICAgICAqICAgICBvcmRlci5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFJlbmRlck9yZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbnxudWxsfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KFByb3BlcnR5LlJFTkRFUl9PUkRFUikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdHlsZSBmb3IgZmVhdHVyZXMuICBUaGlzIHJldHVybnMgd2hhdGV2ZXIgd2FzIHBhc3NlZCB0byB0aGUgYHN0eWxlYFxuICAgICAqIG9wdGlvbiBhdCBjb25zdHJ1Y3Rpb24gb3IgdG8gdGhlIGBzZXRTdHlsZWAgbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfHVuZGVmaW5lZH0gTGF5ZXIgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0U3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3R5bGUgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9IExheWVyIHN0eWxlIGZ1bmN0aW9uLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLmdldFN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlRnVuY3Rpb25fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVuZGVyZWQgbGF5ZXIgc2hvdWxkIGJlIHVwZGF0ZWQgd2hpbGVcbiAgICAgKiAgICAgYW5pbWF0aW5nLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0VXBkYXRlV2hpbGVBbmltYXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVdoaWxlQW5pbWF0aW5nXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlbmRlcmVkIGxheWVyIHNob3VsZCBiZSB1cGRhdGVkIHdoaWxlXG4gICAgICogICAgIGludGVyYWN0aW5nLlxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuZ2V0VXBkYXRlV2hpbGVJbnRlcmFjdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlV2hpbGVJbnRlcmFjdGluZ187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgZGVjbHV0dGVyIGl0ZW1zIGZvciB0aGlzIGxheWVyXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9QbHVnZ2FibGVNYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBCYXNlVmVjdG9yTGF5ZXIucHJvdG90eXBlLnJlbmRlckRlY2x1dHRlciA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIGlmICghZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUgPSBuZXcgUkJ1c2goOSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEB0eXBlIHsqfSAqLyAodGhpcy5nZXRSZW5kZXJlcigpKS5yZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufG51bGx8dW5kZWZpbmVkfSByZW5kZXJPcmRlclxuICAgICAqICAgICBSZW5kZXIgb3JkZXIuXG4gICAgICovXG4gICAgQmFzZVZlY3RvckxheWVyLnByb3RvdHlwZS5zZXRSZW5kZXJPcmRlciA9IGZ1bmN0aW9uIChyZW5kZXJPcmRlcikge1xuICAgICAgICB0aGlzLnNldChQcm9wZXJ0eS5SRU5ERVJfT1JERVIsIHJlbmRlck9yZGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUgZm9yIGZlYXR1cmVzLiAgVGhpcyBjYW4gYmUgYSBzaW5nbGUgc3R5bGUgb2JqZWN0LCBhbiBhcnJheVxuICAgICAqIG9mIHN0eWxlcywgb3IgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgZmVhdHVyZSBhbmQgcmVzb2x1dGlvbiBhbmQgcmV0dXJuc1xuICAgICAqIGFuIGFycmF5IG9mIHN0eWxlcy4gSWYgc2V0IHRvIGBudWxsYCwgdGhlIGxheWVyIGhhcyBubyBzdHlsZSAoYSBgbnVsbGAgc3R5bGUpLFxuICAgICAqIHNvIG9ubHkgZmVhdHVyZXMgdGhhdCBoYXZlIHRoZWlyIG93biBzdHlsZXMgd2lsbCBiZSByZW5kZXJlZCBpbiB0aGUgbGF5ZXIuIENhbGxcbiAgICAgKiBgc2V0U3R5bGUoKWAgd2l0aG91dCBhcmd1bWVudHMgdG8gcmVzZXQgdG8gdGhlIGRlZmF1bHQgc3R5bGUuIFNlZVxuICAgICAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGV9IGZvciBpbmZvcm1hdGlvbiBvbiB0aGUgZGVmYXVsdCBzdHlsZS5cbiAgICAgKiBAcGFyYW0geyhpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8bnVsbCk9fSBvcHRfc3R5bGUgTGF5ZXIgc3R5bGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJhc2VWZWN0b3JMYXllci5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAob3B0X3N0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGVfID0gb3B0X3N0eWxlICE9PSB1bmRlZmluZWQgPyBvcHRfc3R5bGUgOiBjcmVhdGVEZWZhdWx0U3R5bGU7XG4gICAgICAgIHRoaXMuc3R5bGVGdW5jdGlvbl8gPVxuICAgICAgICAgICAgb3B0X3N0eWxlID09PSBudWxsID8gdW5kZWZpbmVkIDogdG9TdHlsZUZ1bmN0aW9uKHRoaXMuc3R5bGVfKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVZlY3RvckxheWVyO1xufShMYXllcikpO1xuZXhwb3J0IGRlZmF1bHQgQmFzZVZlY3RvckxheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVZlY3Rvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbnN0cnVjdGlvblxuICovXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbnZhciBJbnN0cnVjdGlvbiA9IHtcbiAgICBCRUdJTl9HRU9NRVRSWTogMCxcbiAgICBCRUdJTl9QQVRIOiAxLFxuICAgIENJUkNMRTogMixcbiAgICBDTE9TRV9QQVRIOiAzLFxuICAgIENVU1RPTTogNCxcbiAgICBEUkFXX0NIQVJTOiA1LFxuICAgIERSQVdfSU1BR0U6IDYsXG4gICAgRU5EX0dFT01FVFJZOiA3LFxuICAgIEZJTEw6IDgsXG4gICAgTU9WRV9UT19MSU5FX1RPOiA5LFxuICAgIFNFVF9GSUxMX1NUWUxFOiAxMCxcbiAgICBTRVRfU1RST0tFX1NUWUxFOiAxMSxcbiAgICBTVFJPS0U6IDEyLFxufTtcbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IHZhciBmaWxsSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uRklMTF07XG4vKipcbiAqIEB0eXBlIHtBcnJheTxJbnN0cnVjdGlvbj59XG4gKi9cbmV4cG9ydCB2YXIgc3Ryb2tlSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uU1RST0tFXTtcbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IHZhciBiZWdpblBhdGhJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5CRUdJTl9QQVRIXTtcbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IHZhciBjbG9zZVBhdGhJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5DTE9TRV9QQVRIXTtcbmV4cG9ydCBkZWZhdWx0IEluc3RydWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5zdHJ1Y3Rpb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9WZWN0b3JDb250ZXh0XG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udGV4dCBmb3IgZHJhd2luZyBnZW9tZXRyaWVzLiAgQSB2ZWN0b3IgY29udGV4dCBpcyBhdmFpbGFibGUgb24gcmVuZGVyXG4gKiBldmVudHMgYW5kIGRvZXMgbm90IG5lZWQgdG8gYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuXG4gKiBAYXBpXG4gKi9cbnZhciBWZWN0b3JDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZlY3RvckNvbnRleHQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIGdlb21ldHJ5IHdpdGggYSBjdXN0b20gcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyZXIgUmVuZGVyZXIuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0N1c3RvbSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIpIHsgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkgdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdHZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSkgeyB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBUaGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gKHN0eWxlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGVHZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUsIHN0eWxlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSBHZW9tZXRyeSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd0dlb21ldHJ5Q29sbGVjdGlvbiA9IGZ1bmN0aW9uIChnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGxpbmVTdHJpbmdHZW9tZXRyeSBMaW5lIHN0cmluZyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TGluZVN0cmluZyA9IGZ1bmN0aW9uIChsaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5IE11bHRpTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5kcmF3TXVsdGlMaW5lU3RyaW5nID0gZnVuY3Rpb24gKG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlQb2ludEdlb21ldHJ5IE11bHRpUG9pbnQgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd011bHRpUG9pbnQgPSBmdW5jdGlvbiAobXVsdGlQb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvbHlnb25HZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd011bHRpUG9seWdvbiA9IGZ1bmN0aW9uIChtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2ludEdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdQb2ludCA9IGZ1bmN0aW9uIChwb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gcG9seWdvbkdlb21ldHJ5IFBvbHlnb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiAocG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIFZlY3RvckNvbnRleHQucHJvdG90eXBlLmRyYXdUZXh0ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRGaWxsU3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiAoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dD19IG9wdF9kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0IFNoYXJlZCBkYXRhIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcgd2l0aCBhIHRleHQgc3R5bGUuXG4gICAgICovXG4gICAgVmVjdG9yQ29udGV4dC5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIChpbWFnZVN0eWxlLCBvcHRfZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0U3R5bGUgVGV4dCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dD19IG9wdF9kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0IFNoYXJlZCBkYXRhIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcgd2l0aCBhbiBpbWFnZSBzdHlsZS5cbiAgICAgKi9cbiAgICBWZWN0b3JDb250ZXh0LnByb3RvdHlwZS5zZXRUZXh0U3R5bGUgPSBmdW5jdGlvbiAodGV4dFN0eWxlLCBvcHRfZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCkgeyB9O1xuICAgIHJldHVybiBWZWN0b3JDb250ZXh0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFZlY3RvckNvbnRleHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JDb250ZXh0LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IFJlbGF0aW9uc2hpcCBmcm9tICcuLi8uLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzJztcbmltcG9ydCBWZWN0b3JDb250ZXh0IGZyb20gJy4uL1ZlY3RvckNvbnRleHQuanMnO1xuaW1wb3J0IHsgYXNDb2xvckxpa2UgfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHsgYnVmZmVyLCBjbG9uZSwgY29udGFpbnNDb29yZGluYXRlLCBjb29yZGluYXRlUmVsYXRpb25zaGlwLCB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RmlsbFN0eWxlLCBkZWZhdWx0TGluZUNhcCwgZGVmYXVsdExpbmVEYXNoLCBkZWZhdWx0TGluZURhc2hPZmZzZXQsIGRlZmF1bHRMaW5lSm9pbiwgZGVmYXVsdExpbmVXaWR0aCwgZGVmYXVsdE1pdGVyTGltaXQsIGRlZmF1bHRTdHJva2VTdHlsZSwgfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHsgZXF1YWxzLCByZXZlcnNlU3ViQXJyYXkgfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBpbmZsYXRlQ29vcmRpbmF0ZXMsIGluZmxhdGVDb29yZGluYXRlc0FycmF5LCBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5LCB9IGZyb20gJy4uLy4uL2dlb20vZmxhdC9pbmZsYXRlLmpzJztcbnZhciBDYW52YXNCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNCdWlsZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzQnVpbGRlcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG9sZXJhbmNlID0gdG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhFeHRlbnQgPSBtYXhFeHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluc3RydWN0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvb3JkaW5hdGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wQ29vcmRpbmF0ZV8gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9ICovICh7fSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZGFzaEFycmF5IERhc2ggYXJyYXkuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRGFzaCBhcnJheSB3aXRoIHBpeGVsIHJhdGlvIGFwcGxpZWRcbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5hcHBseVBpeGVsUmF0aW8gPSBmdW5jdGlvbiAoZGFzaEFycmF5KSB7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICByZXR1cm4gcGl4ZWxSYXRpbyA9PSAxXG4gICAgICAgICAgICA/IGRhc2hBcnJheVxuICAgICAgICAgICAgOiBkYXNoQXJyYXkubWFwKGZ1bmN0aW9uIChkYXNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhc2ggKiBwaXhlbFJhdGlvO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE15IGVuZFxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKSB7XG4gICAgICAgIHZhciBleHRlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCk7XG4gICAgICAgIHZhciB0bXBDb29yZCA9IHRoaXMudG1wQ29vcmRpbmF0ZV87XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgICAgIHZhciBteUVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgICAgdG1wQ29vcmRbMF0gPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICB0bXBDb29yZFsxXSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoY29udGFpbnNDb29yZGluYXRlKGV4dGVudCwgdG1wQ29vcmQpKSB7XG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSB0bXBDb29yZFswXTtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IHRtcENvb3JkWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBteUVuZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbG9zZWQgTGFzdCBpbnB1dCBjb29yZGluYXRlIGVxdWFscyBmaXJzdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBGaXJzdCBTa2lwIGZpcnN0IGNvb3JkaW5hdGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTXkgZW5kLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjbG9zZWQsIHNraXBGaXJzdCkge1xuICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgICAgICB2YXIgbXlFbmQgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBleHRlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCk7XG4gICAgICAgIGlmIChza2lwRmlyc3QpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RYQ29vcmQgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgICAgdmFyIGxhc3RZQ29vcmQgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgICAgIHZhciBuZXh0Q29vcmQgPSB0aGlzLnRtcENvb3JkaW5hdGVfO1xuICAgICAgICB2YXIgc2tpcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBpLCBsYXN0UmVsLCBuZXh0UmVsO1xuICAgICAgICBmb3IgKGkgPSBvZmZzZXQgKyBzdHJpZGU7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICBuZXh0Q29vcmRbMF0gPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICBuZXh0Q29vcmRbMV0gPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgICAgICAgbmV4dFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBuZXh0Q29vcmQpO1xuICAgICAgICAgICAgaWYgKG5leHRSZWwgIT09IGxhc3RSZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RYQ29vcmQ7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFlDb29yZDtcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFswXTtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5leHRSZWwgPT09IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkcpIHtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFswXTtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFsxXTtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RYQ29vcmQgPSBuZXh0Q29vcmRbMF07XG4gICAgICAgICAgICBsYXN0WUNvb3JkID0gbmV4dENvb3JkWzFdO1xuICAgICAgICAgICAgbGFzdFJlbCA9IG5leHRSZWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGFzdCBjb29yZGluYXRlIGVxdWFscyBmaXJzdCBvciBvbmx5IG9uZSBwb2ludCB0byBhcHBlbmQ6XG4gICAgICAgIGlmICgoY2xvc2VkICYmIHNraXBwZWQpIHx8IGkgPT09IG9mZnNldCArIHN0cmlkZSkge1xuICAgICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0WENvb3JkO1xuICAgICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0WUNvb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBteUVuZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBidWlsZGVyRW5kcyBCdWlsZGVyIGVuZHMuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBPZmZzZXQuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBidWlsZGVyRW5kcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1aWxkZXJFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgYnVpbGRlckVuZHMucHVzaChidWlsZGVyRW5kKTtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlbmRlcmVyIFJlbmRlcmVyLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmRyYXdDdXN0b20gPSBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmUsIHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHZhciB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBidWlsZGVyQmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcywgYnVpbGRlckVuZCwgYnVpbGRlckVuZHMsIGJ1aWxkZXJFbmRzcztcbiAgICAgICAgdmFyIG9mZnNldDtcbiAgICAgICAgaWYgKHR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT04pIHtcbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgYnVpbGRlckVuZHNzID0gW107XG4gICAgICAgICAgICB2YXIgZW5kc3MgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RW5kc3MoKTtcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG15RW5kcyA9IFtdO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3NbaV0sIHN0cmlkZSwgbXlFbmRzKTtcbiAgICAgICAgICAgICAgICBidWlsZGVyRW5kc3MucHVzaChteUVuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICBidWlsZGVyRW5kc3MsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gR2VvbWV0cnlUeXBlLlBPTFlHT04gfHxcbiAgICAgICAgICAgIHR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HKSB7XG4gICAgICAgICAgICBidWlsZGVyRW5kcyA9IFtdO1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgICAgICB0eXBlID09IEdlb21ldHJ5VHlwZS5QT0xZR09OXG4gICAgICAgICAgICAgICAgICAgID8gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpXG4gICAgICAgICAgICAgICAgICAgIDogZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdDdXN0b21Db29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRFbmRzKCksIHN0cmlkZSwgYnVpbGRlckVuZHMpO1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICBidWlsZGVyRW5kcyxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HIHx8XG4gICAgICAgICAgICB0eXBlID09IEdlb21ldHJ5VHlwZS5DSVJDTEUpIHtcbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVCkge1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBidWlsZGVyRW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICAgICAgICBpZiAoYnVpbGRlckVuZCA+IGJ1aWxkZXJCZWdpbikge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBHZW9tZXRyeVR5cGUuUE9JTlQpIHtcbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKGZsYXRDb29yZGluYXRlc1swXSwgZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgICAgIGJ1aWxkZXJFbmQgPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5XCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuYmVnaW5HZW9tZXRyeSA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlksXG4gICAgICAgICAgICBmZWF0dXJlLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8pO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfID0gW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlksXG4gICAgICAgICAgICBmZWF0dXJlLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB0aGlzLmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIGhpdERldGVjdGlvbkluc3RydWN0aW9uczogdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlcyxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldmVyc2UgdGhlIGhpdCBkZXRlY3Rpb24gaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucztcbiAgICAgICAgLy8gc3RlcCAxIC0gcmV2ZXJzZSBhcnJheVxuICAgICAgICBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucmV2ZXJzZSgpO1xuICAgICAgICAvLyBzdGVwIDIgLSByZXZlcnNlIGluc3RydWN0aW9ucyB3aXRoaW4gZ2VvbWV0cnkgYmxvY2tzXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgbiA9IGhpdERldGVjdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIHZhciBpbnN0cnVjdGlvbjtcbiAgICAgICAgdmFyIHR5cGU7XG4gICAgICAgIHZhciBiZWdpbiA9IC0xO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IGhpdERldGVjdGlvbkluc3RydWN0aW9uc1tpXTtcbiAgICAgICAgICAgIHR5cGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vSW5zdHJ1Y3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGluc3RydWN0aW9uWzBdKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IENhbnZhc0luc3RydWN0aW9uLkVORF9HRU9NRVRSWSkge1xuICAgICAgICAgICAgICAgIGJlZ2luID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlkpIHtcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvblsyXSA9IGk7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZVN1YkFycmF5KHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLCBiZWdpbiwgaSk7XG4gICAgICAgICAgICAgICAgYmVnaW4gPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5zZXRGaWxsU3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiAoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoZmlsbFN0eWxlKSB7XG4gICAgICAgICAgICB2YXIgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgIHN0YXRlLmZpbGxTdHlsZSA9IGFzQ29sb3JMaWtlKGZpbGxTdHlsZUNvbG9yID8gZmlsbFN0eWxlQ29sb3IgOiBkZWZhdWx0RmlsbFN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmZpbGxTdHlsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUNvbG9yID0gc3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2Uoc3Ryb2tlU3R5bGVDb2xvciA/IHN0cm9rZVN0eWxlQ29sb3IgOiBkZWZhdWx0U3Ryb2tlU3R5bGUpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZUNhcCA9IHN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVDYXAgPVxuICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlTGluZUNhcCAhPT0gdW5kZWZpbmVkID8gc3Ryb2tlU3R5bGVMaW5lQ2FwIDogZGVmYXVsdExpbmVDYXA7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lRGFzaCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoKCk7XG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaCA9IHN0cm9rZVN0eWxlTGluZURhc2hcbiAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZURhc2guc2xpY2UoKVxuICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG4gICAgICAgICAgICBzdGF0ZS5saW5lSm9pbiA9XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lSm9pbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lSm9pblxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lSm9pbjtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZVdpZHRoID0gc3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCA9XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGVXaWR0aCAhPT0gdW5kZWZpbmVkID8gc3Ryb2tlU3R5bGVXaWR0aCA6IGRlZmF1bHRMaW5lV2lkdGg7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gc3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCA9XG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZU1pdGVyTGltaXRcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdDtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5saW5lV2lkdGggPiB0aGlzLm1heExpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIC8vIGludmFsaWRhdGUgdGhlIGJ1ZmZlcmVkIG1heCBleHRlbnQgY2FjaGVcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVDYXAgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaCA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTwqPn0gRmlsbCBpbnN0cnVjdGlvbi5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5jcmVhdGVGaWxsID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovXG4gICAgICAgIHZhciBmaWxsSW5zdHJ1Y3Rpb24gPSBbQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsIGZpbGxTdHlsZV07XG4gICAgICAgIGlmICh0eXBlb2YgZmlsbFN0eWxlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gRmlsbCBpcyBhIHBhdHRlcm4gb3IgZ3JhZGllbnQgLSBhbGlnbiBpdCFcbiAgICAgICAgICAgIGZpbGxJbnN0cnVjdGlvbi5wdXNoKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWxsSW5zdHJ1Y3Rpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLmFwcGx5U3Ryb2tlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVTdHJva2Uoc3RhdGUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAgICogQHJldHVybiB7QXJyYXk8Kj59IFN0cm9rZSBpbnN0cnVjdGlvbi5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5jcmVhdGVTdHJva2UgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCAqIHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICB0aGlzLmFwcGx5UGl4ZWxSYXRpbyhzdGF0ZS5saW5lRGFzaCksXG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCAqIHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOkNhbnZhc0J1aWxkZXIsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGUpOkFycmF5PCo+fSBjcmVhdGVGaWxsIENyZWF0ZSBmaWxsLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLnVwZGF0ZUZpbGxTdHlsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgY3JlYXRlRmlsbCkge1xuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICBpZiAodHlwZW9mIGZpbGxTdHlsZSAhPT0gJ3N0cmluZycgfHwgc3RhdGUuY3VycmVudEZpbGxTdHlsZSAhPSBmaWxsU3R5bGUpIHtcbiAgICAgICAgICAgIGlmIChmaWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goY3JlYXRlRmlsbC5jYWxsKHRoaXMsIHN0YXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50RmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpDYW52YXNCdWlsZGVyLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlKTogdm9pZH0gYXBwbHlTdHJva2UgQXBwbHkgc3Ryb2tlLlxuICAgICAqL1xuICAgIENhbnZhc0J1aWxkZXIucHJvdG90eXBlLnVwZGF0ZVN0cm9rZVN0eWxlID0gZnVuY3Rpb24gKHN0YXRlLCBhcHBseVN0cm9rZSkge1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgdmFyIGxpbmVDYXAgPSBzdGF0ZS5saW5lQ2FwO1xuICAgICAgICB2YXIgbGluZURhc2ggPSBzdGF0ZS5saW5lRGFzaDtcbiAgICAgICAgdmFyIGxpbmVEYXNoT2Zmc2V0ID0gc3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICAgIHZhciBsaW5lSm9pbiA9IHN0YXRlLmxpbmVKb2luO1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgICAgICB2YXIgbWl0ZXJMaW1pdCA9IHN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICAgIGlmIChzdGF0ZS5jdXJyZW50U3Ryb2tlU3R5bGUgIT0gc3Ryb2tlU3R5bGUgfHxcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lQ2FwICE9IGxpbmVDYXAgfHxcbiAgICAgICAgICAgIChsaW5lRGFzaCAhPSBzdGF0ZS5jdXJyZW50TGluZURhc2ggJiZcbiAgICAgICAgICAgICAgICAhZXF1YWxzKHN0YXRlLmN1cnJlbnRMaW5lRGFzaCwgbGluZURhc2gpKSB8fFxuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVEYXNoT2Zmc2V0ICE9IGxpbmVEYXNoT2Zmc2V0IHx8XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZUpvaW4gIT0gbGluZUpvaW4gfHxcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lV2lkdGggIT0gbGluZVdpZHRoIHx8XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TWl0ZXJMaW1pdCAhPSBtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICBpZiAoc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFwcGx5U3Ryb2tlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuY3VycmVudFN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZUNhcCA9IGxpbmVDYXA7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2ggPSBsaW5lRGFzaDtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRMaW5lRGFzaE9mZnNldCA9IGxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudExpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50TGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudE1pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNCdWlsZGVyLnByb3RvdHlwZS5lbmRHZW9tZXRyeSA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV9bMl0gPSB0aGlzLmluc3RydWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8gPSBudWxsO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfWzJdID0gdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMubGVuZ3RoO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfID0gbnVsbDtcbiAgICAgICAgdmFyIGVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24gPSBbQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZLCBmZWF0dXJlXTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChlbmRHZW9tZXRyeUluc3RydWN0aW9uKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChlbmRHZW9tZXRyeUluc3RydWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYnVmZmVyZWQgcmVuZGVyaW5nIGV4dGVudC4gIFJlbmRlcmluZyB3aWxsIGJlIGNsaXBwZWQgdG8gdGhlIGV4dGVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3Rvci4gIFRvIGFjY291bnQgZm9yIHN5bWJvbGl6ZXJzIHRoYXQgbWF5IGludGVyc2VjdFxuICAgICAqIHRoaXMgZXh0ZW50LCB3ZSBjYWxjdWxhdGUgYSBidWZmZXJlZCBleHRlbnQgKGUuZy4gYmFzZWQgb24gc3Ryb2tlIHdpZHRoKS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBUaGUgYnVmZmVyZWQgcmVuZGVyaW5nIGV4dGVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2FudmFzQnVpbGRlci5wcm90b3R5cGUuZ2V0QnVmZmVyZWRNYXhFeHRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXJlZE1heEV4dGVudF8pIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gY2xvbmUodGhpcy5tYXhFeHRlbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMubWF4TGluZVdpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9ICh0aGlzLnJlc29sdXRpb24gKiAodGhpcy5tYXhMaW5lV2lkdGggKyAxKSkgLyAyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlcih0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50Xywgd2lkdGgsIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJlZE1heEV4dGVudF87XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzQnVpbGRlcjtcbn0oVmVjdG9yQ29udGV4dCkpO1xuZXhwb3J0IGRlZmF1bHQgQ2FudmFzQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJ1aWxkZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0ltYWdlQnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xudmFyIENhbnZhc0ltYWdlQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzSW1hZ2VCdWlsZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzSW1hZ2VCdWlsZGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VQaXhlbFJhdGlvXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yWF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuY2hvcllfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oZWlnaHRfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcGFjaXR5XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luWF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbllfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm90YXRlV2l0aFZpZXdfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3RhdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud2lkdGhfID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSBzaGFyZWQgd2l0aCBhIHRleHQgYnVpbGRlciBmb3IgY29tYmluZWQgZGVjbHV0dGVyaW5nLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvaW50R2VvbWV0cnkgUG9pbnQgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzSW1hZ2VCdWlsZGVyLnByb3RvdHlwZS5kcmF3UG9pbnQgPSBmdW5jdGlvbiAocG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KHBvaW50R2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gcG9pbnRHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IHBvaW50R2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHZhciBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBteUVuZCA9IHRoaXMuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgICAgICB0aGlzLmFuY2hvclhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgdGhpcy5hbmNob3JZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzLmhlaWdodF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWF8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpbllfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAodGhpcy5zY2FsZV9bMF0gKiB0aGlzLnBpeGVsUmF0aW8pIC8gdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgICAgICh0aGlzLnNjYWxlX1sxXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgTWF0aC5jZWlsKHRoaXMud2lkdGhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyxcbiAgICAgICAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgICAgICB0aGlzLmFuY2hvclhfLFxuICAgICAgICAgICAgdGhpcy5hbmNob3JZXyxcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0XyxcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eV8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpblhfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5ZXyxcbiAgICAgICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbl8sXG4gICAgICAgICAgICB0aGlzLnNjYWxlXyxcbiAgICAgICAgICAgIHRoaXMud2lkdGhfLFxuICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlQb2ludEdlb21ldHJ5IE11bHRpUG9pbnQgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzSW1hZ2VCdWlsZGVyLnByb3RvdHlwZS5kcmF3TXVsdGlQb2ludCA9IGZ1bmN0aW9uIChtdWx0aVBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShtdWx0aVBvaW50R2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2ludEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gbXVsdGlQb2ludEdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgICB2YXIgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgICAgICAgbXlCZWdpbixcbiAgICAgICAgICAgIG15RW5kLFxuICAgICAgICAgICAgdGhpcy5pbWFnZV8sXG4gICAgICAgICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgICAgICAgdGhpcy5hbmNob3JYXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWV8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICAgICBNYXRoLmNlaWwodGhpcy5oZWlnaHRfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eV8sXG4gICAgICAgICAgICB0aGlzLm9yaWdpblhfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5ZXyxcbiAgICAgICAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfLFxuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbl8sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgKHRoaXMuc2NhbGVfWzBdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgICAgICAgICAodGhpcy5zY2FsZV9bMV0gKiB0aGlzLnBpeGVsUmF0aW8pIC8gdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzLndpZHRoXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyksXG4gICAgICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgICAgICAgbXlCZWdpbixcbiAgICAgICAgICAgIG15RW5kLFxuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8sXG4gICAgICAgICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgICAgICAgdGhpcy5hbmNob3JYXyxcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yWV8sXG4gICAgICAgICAgICB0aGlzLmhlaWdodF8sXG4gICAgICAgICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgICAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgICAgICAgdGhpcy5zY2FsZV8sXG4gICAgICAgICAgICB0aGlzLndpZHRoXyxcbiAgICAgICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgQ2FudmFzSW1hZ2VCdWlsZGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucygpO1xuICAgICAgICAvLyBGSVhNRSB0aGlzIGRvZXNuJ3QgcmVhbGx5IHByb3RlY3QgdXMgYWdhaW5zdCBmdXJ0aGVyIGNhbGxzIHRvIGRyYXcqR2VvbWV0cnlcbiAgICAgICAgdGhpcy5hbmNob3JYXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hbmNob3JZXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBudWxsO1xuICAgICAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oZWlnaHRfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNjYWxlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcGFjaXR5XyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcmlnaW5YXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcmlnaW5ZXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucm90YXRpb25fID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLndpZHRoXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZmluaXNoLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3R5bGUgSW1hZ2Ugc3R5bGUuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfc2hhcmVkRGF0YSBTaGFyZWQgZGF0YS5cbiAgICAgKi9cbiAgICBDYW52YXNJbWFnZUJ1aWxkZXIucHJvdG90eXBlLnNldEltYWdlU3R5bGUgPSBmdW5jdGlvbiAoaW1hZ2VTdHlsZSwgb3B0X3NoYXJlZERhdGEpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IGltYWdlU3R5bGUuZ2V0QW5jaG9yKCk7XG4gICAgICAgIHZhciBzaXplID0gaW1hZ2VTdHlsZS5nZXRTaXplKCk7XG4gICAgICAgIHZhciBoaXREZXRlY3Rpb25JbWFnZSA9IGltYWdlU3R5bGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKTtcbiAgICAgICAgdmFyIGltYWdlID0gaW1hZ2VTdHlsZS5nZXRJbWFnZSh0aGlzLnBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgb3JpZ2luID0gaW1hZ2VTdHlsZS5nZXRPcmlnaW4oKTtcbiAgICAgICAgdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gaW1hZ2VTdHlsZS5nZXRQaXhlbFJhdGlvKHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMuYW5jaG9yWF8gPSBhbmNob3JbMF07XG4gICAgICAgIHRoaXMuYW5jaG9yWV8gPSBhbmNob3JbMV07XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gaGl0RGV0ZWN0aW9uSW1hZ2U7XG4gICAgICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gICAgICAgIHRoaXMuaGVpZ2h0XyA9IHNpemVbMV07XG4gICAgICAgIHRoaXMub3BhY2l0eV8gPSBpbWFnZVN0eWxlLmdldE9wYWNpdHkoKTtcbiAgICAgICAgdGhpcy5vcmlnaW5YXyA9IG9yaWdpblswXTtcbiAgICAgICAgdGhpcy5vcmlnaW5ZXyA9IG9yaWdpblsxXTtcbiAgICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSBpbWFnZVN0eWxlLmdldFJvdGF0ZVdpdGhWaWV3KCk7XG4gICAgICAgIHRoaXMucm90YXRpb25fID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgICB0aGlzLnNjYWxlXyA9IGltYWdlU3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgICB0aGlzLndpZHRoXyA9IHNpemVbMF07XG4gICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSBvcHRfc2hhcmVkRGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNJbWFnZUJ1aWxkZXI7XG59KENhbnZhc0J1aWxkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc0ltYWdlQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlQnVpbGRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvTGluZVN0cmluZ0J1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiwgeyBiZWdpblBhdGhJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24sIH0gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG52YXIgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBlbmQuXG4gICAgICovXG4gICAgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRyYXdGbGF0Q29vcmRpbmF0ZXNfID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgICAgICB2YXIgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB2YXIgbW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24gPSBbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE8sXG4gICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgbXlFbmQsXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBsaW5lU3RyaW5nR2VvbWV0cnkgTGluZSBzdHJpbmcgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRyYXdMaW5lU3RyaW5nID0gZnVuY3Rpb24gKGxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgaWYgKHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQgfHwgbGluZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgIF0sIGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGxpbmVTdHJpbmdHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdmFyIHN0cmlkZSA9IGxpbmVTdHJpbmdHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqL1xuICAgIENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5kcmF3TXVsdGlMaW5lU3RyaW5nID0gZnVuY3Rpb24gKG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgICAgICBpZiAoc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCB8fCBsaW5lV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICBzdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICBdLCBiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgICAgIHZhciBlbmRzID0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkuZ2V0RW5kcygpO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgXG4gICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGVuZHNbaV0pLCBzdHJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKHN0YXRlLmxhc3RTdHJva2UgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBzdGF0ZS5sYXN0U3Ryb2tlICE9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmZpbmlzaC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICAgKi9cbiAgICBDYW52YXNMaW5lU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuYXBwbHlTdHJva2UgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgaWYgKHN0YXRlLmxhc3RTdHJva2UgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBzdGF0ZS5sYXN0U3Ryb2tlICE9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHN0YXRlLmxhc3RTdHJva2UgPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sYXN0U3Ryb2tlID0gMDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5hcHBseVN0cm9rZS5jYWxsKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzTGluZVN0cmluZ0J1aWxkZXI7XG59KENhbnZhc0J1aWxkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGluZVN0cmluZ0J1aWxkZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL1BvbHlnb25CdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24sIHsgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sIGNsb3NlUGF0aEluc3RydWN0aW9uLCBmaWxsSW5zdHJ1Y3Rpb24sIHN0cm9rZUluc3RydWN0aW9uLCB9IGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IHsgZGVmYXVsdEZpbGxTdHlsZSB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBzbmFwIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3NpbXBsaWZ5LmpzJztcbnZhciBDYW52YXNQb2x5Z29uQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzUG9seWdvbkJ1aWxkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNQb2x5Z29uQnVpbGRlcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuZHJhd0ZsYXRDb29yZGluYXRlc3NfID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGZpbGwgPSBzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHN0cm9rZSA9IHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBudW1FbmRzID0gZW5kcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1FbmRzOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBlbmQgPSBlbmRzW2ldO1xuICAgICAgICAgICAgdmFyIG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBteUVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIHRydWUsICFzdHJva2UpO1xuICAgICAgICAgICAgdmFyIG1vdmVUb0xpbmVUb0luc3RydWN0aW9uID0gW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLk1PVkVfVE9fTElORV9UTyxcbiAgICAgICAgICAgICAgICBteUJlZ2luLFxuICAgICAgICAgICAgICAgIG15RW5kLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uOiBvbmx5IGNhbGwgY2xvc2VQYXRoKCkgd2hlbiB3ZSBoYXZlIGEgc3Ryb2tlLlxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSB0aGUgcmluZyBpcyBjbG9zZWQgYWxyZWFkeSAoc2VlIGFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMgYWJvdmUpLlxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goY2xvc2VQYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goY2xvc2VQYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGVHZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKi9cbiAgICBDYW52YXNQb2x5Z29uQnVpbGRlci5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIChjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkICYmIHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZXNfKCk7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICAgICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gY2lyY2xlR2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBjaXJjbGVHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdmFyIG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB2YXIgY2lyY2xlSW5zdHJ1Y3Rpb24gPSBbQ2FudmFzSW5zdHJ1Y3Rpb24uQ0lSQ0xFLCBteUJlZ2luXTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbiwgY2lyY2xlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uLCBjaXJjbGVJbnN0cnVjdGlvbik7XG4gICAgICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChmaWxsSW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChmaWxsSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gcG9seWdvbkdlb21ldHJ5IFBvbHlnb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzUG9seWdvbkJ1aWxkZXIucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gKHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkICYmIHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZXNfKCk7XG4gICAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICBpZiAoc3RhdGUuZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRGaWxsU3R5bGUsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVuZHMgPSBwb2x5Z29uR2VvbWV0cnkuZ2V0RW5kcygpO1xuICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gcG9seWdvbkdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBwb2x5Z29uR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIHRoaXMuZHJhd0ZsYXRDb29yZGluYXRlc3NfKGZsYXRDb29yZGluYXRlcywgMCwgXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGVuZHMpLCBzdHJpZGUpO1xuICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvbHlnb25HZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzUG9seWdvbkJ1aWxkZXIucHJvdG90eXBlLmRyYXdNdWx0aVBvbHlnb24gPSBmdW5jdGlvbiAobXVsdGlQb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgdmFyIHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIGlmIChmaWxsU3R5bGUgPT09IHVuZGVmaW5lZCAmJiBzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGVzXygpO1xuICAgICAgICB0aGlzLmJlZ2luR2VvbWV0cnkobXVsdGlQb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICBpZiAoc3RhdGUuZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRGaWxsU3R5bGUsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICAgICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVuZHNzID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0RW5kc3MoKTtcbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IG11bHRpUG9seWdvbkdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIHZhciBzdHJpZGUgPSBtdWx0aVBvbHlnb25HZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd0ZsYXRDb29yZGluYXRlc3NfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzc1tpXSwgc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgQ2FudmFzUG9seWdvbkJ1aWxkZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICAvLyBXZSB3YW50IHRvIHByZXNlcnZlIHRvcG9sb2d5IHdoZW4gZHJhd2luZyBwb2x5Z29ucy4gIFBvbHlnb25zIGFyZVxuICAgICAgICAvLyBzaW1wbGlmaWVkIHVzaW5nIHF1YW50aXphdGlvbiBhbmQgcG9pbnQgZWxpbWluYXRpb24uIEhvd2V2ZXIsIHdlIG1pZ2h0XG4gICAgICAgIC8vIGhhdmUgcmVjZWl2ZWQgYSBtaXggb2YgcXVhbnRpemVkIGFuZCBub24tcXVhbnRpemVkIGdlb21ldHJpZXMsIHNvIGVuc3VyZVxuICAgICAgICAvLyB0aGF0IGFsbCBhcmUgcXVhbnRpemVkIGJ5IHF1YW50aXppbmcgYWxsIGNvb3JkaW5hdGVzIGluIHRoZSBiYXRjaC5cbiAgICAgICAgdmFyIHRvbGVyYW5jZSA9IHRoaXMudG9sZXJhbmNlO1xuICAgICAgICBpZiAodG9sZXJhbmNlICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW2ldID0gc25hcChjb29yZGluYXRlc1tpXSwgdG9sZXJhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5maW5pc2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzUG9seWdvbkJ1aWxkZXIucHJvdG90eXBlLnNldEZpbGxTdHJva2VTdHlsZXNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICBpZiAoZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsbFN0eWxlKHN0YXRlLCB0aGlzLmNyZWF0ZUZpbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc1BvbHlnb25CdWlsZGVyO1xufShDYW52YXNCdWlsZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNQb2x5Z29uQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvbHlnb25CdWlsZGVyLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvc3RyYWlnaHRjaHVua1xuICovXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBbmdsZSBNYXhpbXVtIGFjY2VwdGFibGUgYW5nbGUgZGVsdGEgYmV0d2VlbiBzZWdtZW50cy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBTdGFydCBhbmQgZW5kIG9mIHRoZSBmaXJzdCBzdWl0YWJsZSBjaHVuayBvZiB0aGVcbiAqIGdpdmVuIGBmbGF0Q29vcmRpbmF0ZXNgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hpbmdDaHVuayhtYXhBbmdsZSwgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgdmFyIGNodW5rU3RhcnQgPSBvZmZzZXQ7XG4gICAgdmFyIGNodW5rRW5kID0gb2Zmc2V0O1xuICAgIHZhciBjaHVua00gPSAwO1xuICAgIHZhciBtID0gMDtcbiAgICB2YXIgc3RhcnQgPSBvZmZzZXQ7XG4gICAgdmFyIGFjb3MsIGksIG0xMiwgbTIzLCB4MSwgeTEsIHgxMiwgeTEyLCB4MjMsIHkyMztcbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgIHZhciB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgICAgaWYgKHgxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHgyMyA9IHgyIC0geDE7XG4gICAgICAgICAgICB5MjMgPSB5MiAtIHkxO1xuICAgICAgICAgICAgbTIzID0gTWF0aC5zcXJ0KHgyMyAqIHgyMyArIHkyMyAqIHkyMyk7XG4gICAgICAgICAgICBpZiAoeDEyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtICs9IG0xMjtcbiAgICAgICAgICAgICAgICBhY29zID0gTWF0aC5hY29zKCh4MTIgKiB4MjMgKyB5MTIgKiB5MjMpIC8gKG0xMiAqIG0yMykpO1xuICAgICAgICAgICAgICAgIGlmIChhY29zID4gbWF4QW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0gPiBjaHVua00pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rTSA9IG07XG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVua1N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVua0VuZCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaSAtIHN0cmlkZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtMTIgPSBtMjM7XG4gICAgICAgICAgICB4MTIgPSB4MjM7XG4gICAgICAgICAgICB5MTIgPSB5MjM7XG4gICAgICAgIH1cbiAgICAgICAgeDEgPSB4MjtcbiAgICAgICAgeTEgPSB5MjtcbiAgICB9XG4gICAgbSArPSBtMjM7XG4gICAgcmV0dXJuIG0gPiBjaHVua00gPyBbc3RhcnQsIGldIDogW2NodW5rU3RhcnQsIGNodW5rRW5kXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmFpZ2h0Y2h1bmsuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL1RleHRCdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uLy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBUZXh0UGxhY2VtZW50IGZyb20gJy4uLy4uL3N0eWxlL1RleHRQbGFjZW1lbnQuanMnO1xuaW1wb3J0IHsgYXNDb2xvckxpa2UgfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHsgZGVmYXVsdEZpbGxTdHlsZSwgZGVmYXVsdEZvbnQsIGRlZmF1bHRMaW5lQ2FwLCBkZWZhdWx0TGluZURhc2gsIGRlZmF1bHRMaW5lRGFzaE9mZnNldCwgZGVmYXVsdExpbmVKb2luLCBkZWZhdWx0TGluZVdpZHRoLCBkZWZhdWx0TWl0ZXJMaW1pdCwgZGVmYXVsdFBhZGRpbmcsIGRlZmF1bHRTdHJva2VTdHlsZSwgZGVmYXVsdFRleHRBbGlnbiwgZGVmYXVsdFRleHRCYXNlbGluZSwgcmVnaXN0ZXJGb250LCB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7IGludGVyc2VjdHMgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgbWF0Y2hpbmdDaHVuayB9IGZyb20gJy4uLy4uL2dlb20vZmxhdC9zdHJhaWdodGNodW5rLmpzJztcbi8qKlxuICogQGNvbnN0XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgdmFyIFRFWFRfQUxJR04gPSB7XG4gICAgJ2xlZnQnOiAwLFxuICAgICdlbmQnOiAwLFxuICAgICdjZW50ZXInOiAwLjUsXG4gICAgJ3JpZ2h0JzogMSxcbiAgICAnc3RhcnQnOiAxLFxuICAgICd0b3AnOiAwLFxuICAgICdtaWRkbGUnOiAwLjUsXG4gICAgJ2hhbmdpbmcnOiAwLjIsXG4gICAgJ2FscGhhYmV0aWMnOiAwLjgsXG4gICAgJ2lkZW9ncmFwaGljJzogMC44LFxuICAgICdib3R0b20nOiAxLFxufTtcbnZhciBDYW52YXNUZXh0QnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzVGV4dEJ1aWxkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4aW11bSBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNUZXh0QnVpbGRlcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sYWJlbHNfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0XyA9ICcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRPZmZzZXRYXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dE9mZnNldFlfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFJvdGF0aW9uXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsbFN0YXRlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0cm9rZVN0YXRlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0U3RhdGVfID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfSAqLyAoe30pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRTdGF0ZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0S2V5XyA9ICcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbGxLZXlfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3Ryb2tlS2V5XyA9ICcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSBzaGFyZWQgd2l0aCBhbiBpbWFnZSBidWlsZGVyIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIENhbnZhc1RleHRCdWlsZGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnN0cnVjdGlvbnMgPSBfc3VwZXIucHJvdG90eXBlLmZpbmlzaC5jYWxsKHRoaXMpO1xuICAgICAgICBpbnN0cnVjdGlvbnMudGV4dFN0YXRlcyA9IHRoaXMudGV4dFN0YXRlcztcbiAgICAgICAgaW5zdHJ1Y3Rpb25zLmZpbGxTdGF0ZXMgPSB0aGlzLmZpbGxTdGF0ZXM7XG4gICAgICAgIGluc3RydWN0aW9ucy5zdHJva2VTdGF0ZXMgPSB0aGlzLnN0cm9rZVN0YXRlcztcbiAgICAgICAgcmV0dXJuIGluc3RydWN0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICovXG4gICAgQ2FudmFzVGV4dEJ1aWxkZXIucHJvdG90eXBlLmRyYXdUZXh0ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciBmaWxsU3RhdGUgPSB0aGlzLnRleHRGaWxsU3RhdGVfO1xuICAgICAgICB2YXIgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgICAgIHZhciB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZV87XG4gICAgICAgIGlmICh0aGlzLnRleHRfID09PSAnJyB8fCAhdGV4dFN0YXRlIHx8ICghZmlsbFN0YXRlICYmICFzdHJva2VTdGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgICAgICB2YXIgYmVnaW4gPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIHZhciBnZW9tZXRyeVR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgICAgIHZhciBmbGF0Q29vcmRpbmF0ZXMgPSBudWxsO1xuICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIGlmICh0ZXh0U3RhdGUucGxhY2VtZW50ID09PSBUZXh0UGxhY2VtZW50LkxJTkUgJiZcbiAgICAgICAgICAgIChnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HIHx8XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORyB8fFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuUE9MWUdPTiB8fFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTikpIHtcbiAgICAgICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCksIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbmRzID0gdm9pZCAwO1xuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnlUeXBlID09IEdlb21ldHJ5VHlwZS5MSU5FX1NUUklORykge1xuICAgICAgICAgICAgICAgIGVuZHMgPSBbZmxhdENvb3JkaW5hdGVzLmxlbmd0aF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLk1VTFRJX0xJTkVfU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgZW5kcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRFbmRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnZW9tZXRyeVR5cGUgPT0gR2VvbWV0cnlUeXBlLlBPTFlHT04pIHtcbiAgICAgICAgICAgICAgICBlbmRzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgICAgICAgICAgICAgICAuZ2V0RW5kcygpXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5VHlwZSA9PSBHZW9tZXRyeVR5cGUuTVVMVElfUE9MWUdPTikge1xuICAgICAgICAgICAgICAgIHZhciBlbmRzcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRFbmRzcygpO1xuICAgICAgICAgICAgICAgIGVuZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZHMucHVzaChlbmRzc1tpXVswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgICAgIHZhciB0ZXh0QWxpZ24gPSB0ZXh0U3RhdGUudGV4dEFsaWduO1xuICAgICAgICAgICAgdmFyIGZsYXRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIGZsYXRFbmQgPSB2b2lkIDA7XG4gICAgICAgICAgICBmb3IgKHZhciBvID0gMCwgb28gPSBlbmRzLmxlbmd0aDsgbyA8IG9vOyArK28pIHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dEFsaWduID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBtYXRjaGluZ0NodW5rKHRleHRTdGF0ZS5tYXhBbmdsZSwgZmxhdENvb3JkaW5hdGVzLCBmbGF0T2Zmc2V0LCBlbmRzW29dLCBzdHJpZGUpO1xuICAgICAgICAgICAgICAgICAgICBmbGF0T2Zmc2V0ID0gcmFuZ2VbMF07XG4gICAgICAgICAgICAgICAgICAgIGZsYXRFbmQgPSByYW5nZVsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYXRFbmQgPSBlbmRzW29dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZmxhdE9mZnNldDsgaSA8IGZsYXRFbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzW2ldLCBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmbGF0T2Zmc2V0ID0gZW5kc1tvXTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDaGFyc18oYmVnaW4sIGVuZCk7XG4gICAgICAgICAgICAgICAgYmVnaW4gPSBlbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5V2lkdGhzID0gdGV4dFN0YXRlLm92ZXJmbG93ID8gbnVsbCA6IFtdO1xuICAgICAgICAgICAgc3dpdGNoIChnZW9tZXRyeVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5QT0lOVDpcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9QT0lOVDpcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkc6XG4gICAgICAgICAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkuZ2V0RmxhdE1pZHBvaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLkNJUkNMRTpcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldENlbnRlcigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpLmdldEZsYXRNaWRwb2ludHMoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlID0gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9MWUdPTjpcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRGbGF0SW50ZXJpb3JQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHRTdGF0ZS5vdmVyZmxvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMl0gLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0cmlkZSA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmlvclBvaW50cyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRGbGF0SW50ZXJpb3JQb2ludHMoKTtcbiAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGludGVyaW9yUG9pbnRzLmxlbmd0aDsgaSA8IGlpOyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGV4dFN0YXRlLm92ZXJmbG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMucHVzaChpbnRlcmlvclBvaW50c1tpICsgMl0gLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzLnB1c2goaW50ZXJpb3JQb2ludHNbaV0sIGludGVyaW9yUG9pbnRzW2kgKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYXRDb29yZGluYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuICAgICAgICAgICAgaWYgKGVuZCA9PT0gYmVnaW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNhdmVUZXh0U3RhdGVzXygpO1xuICAgICAgICAgICAgaWYgKHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCB8fCB0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlKHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCwgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGaWxsU3R5bGUodGhpcy5zdGF0ZSwgdGhpcy5jcmVhdGVGaWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZpbGwodGhpcy5zdGF0ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZSh0aGlzLnN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZVN0cm9rZSh0aGlzLnN0YXRlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgICAgIC8vIGFkanVzdCBwYWRkaW5nIGZvciBuZWdhdGl2ZSBzY2FsZVxuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0ZXh0U3RhdGUucGFkZGluZztcbiAgICAgICAgICAgIGlmIChwYWRkaW5nICE9IGRlZmF1bHRQYWRkaW5nICYmXG4gICAgICAgICAgICAgICAgKHRleHRTdGF0ZS5zY2FsZVswXSA8IDAgfHwgdGV4dFN0YXRlLnNjYWxlWzFdIDwgMCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcDAgPSB0ZXh0U3RhdGUucGFkZGluZ1swXTtcbiAgICAgICAgICAgICAgICB2YXIgcDEgPSB0ZXh0U3RhdGUucGFkZGluZ1sxXTtcbiAgICAgICAgICAgICAgICB2YXIgcDIgPSB0ZXh0U3RhdGUucGFkZGluZ1syXTtcbiAgICAgICAgICAgICAgICB2YXIgcDMgPSB0ZXh0U3RhdGUucGFkZGluZ1szXTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXRlLnNjYWxlWzBdIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBwMSA9IC1wMTtcbiAgICAgICAgICAgICAgICAgICAgcDMgPSAtcDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdGUuc2NhbGVbMV0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHAwID0gLXAwO1xuICAgICAgICAgICAgICAgICAgICBwMiA9IC1wMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFkZGluZyA9IFtwMCwgcDEsIHAyLCBwM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgaW1hZ2UgaXMgdW5rbm93biBhdCB0aGlzIHN0YWdlIHNvIHdlIHBhc3MgbnVsbDsgaXQgd2lsbCBiZSBjb21wdXRlZCBhdCByZW5kZXIgdGltZS5cbiAgICAgICAgICAgIC8vIEZvciBjbGFyaXR5LCB3ZSBwYXNzIE5hTiBmb3Igb2Zmc2V0WCwgb2Zmc2V0WSwgd2lkdGggYW5kIGhlaWdodCwgd2hpY2ggd2lsbCBiZSBjb21wdXRlZCBhdFxuICAgICAgICAgICAgLy8gcmVuZGVyIHRpbWUuXG4gICAgICAgICAgICB2YXIgcGl4ZWxSYXRpb18xID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRpb25fLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nID09IGRlZmF1bHRQYWRkaW5nXG4gICAgICAgICAgICAgICAgICAgID8gZGVmYXVsdFBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgOiBwYWRkaW5nLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAgKiBwaXhlbFJhdGlvXzE7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLFxuICAgICAgICAgICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UsXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0XyxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMuc3Ryb2tlS2V5XyxcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFhfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFlfLFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB2YXIgc2NhbGUgPSAxIC8gcGl4ZWxSYXRpb18xO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBOYU4sXG4gICAgICAgICAgICAgICAgTmFOLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Um90YXRpb25fLFxuICAgICAgICAgICAgICAgIFtzY2FsZSwgc2NhbGVdLFxuICAgICAgICAgICAgICAgIE5hTixcbiAgICAgICAgICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwsXG4gICAgICAgICAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRfLFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dEtleV8sXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2VLZXlfLFxuICAgICAgICAgICAgICAgIHRoaXMuZmlsbEtleV8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8sXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WV8sXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzVGV4dEJ1aWxkZXIucHJvdG90eXBlLnNhdmVUZXh0U3RhdGVzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICB2YXIgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgICAgICB2YXIgZmlsbFN0YXRlID0gdGhpcy50ZXh0RmlsbFN0YXRlXztcbiAgICAgICAgdmFyIHN0cm9rZUtleSA9IHRoaXMuc3Ryb2tlS2V5XztcbiAgICAgICAgaWYgKHN0cm9rZVN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoIShzdHJva2VLZXkgaW4gdGhpcy5zdHJva2VTdGF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJva2VTdGF0ZXNbc3Ryb2tlS2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogc3Ryb2tlU3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsaW5lSm9pbjogc3Ryb2tlU3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgICAgICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0S2V5ID0gdGhpcy50ZXh0S2V5XztcbiAgICAgICAgaWYgKCEodGV4dEtleSBpbiB0aGlzLnRleHRTdGF0ZXMpKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV0gPSB7XG4gICAgICAgICAgICAgICAgZm9udDogdGV4dFN0YXRlLmZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiB0ZXh0U3RhdGUudGV4dEFsaWduIHx8IGRlZmF1bHRUZXh0QWxpZ24sXG4gICAgICAgICAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lIHx8IGRlZmF1bHRUZXh0QmFzZWxpbmUsXG4gICAgICAgICAgICAgICAgc2NhbGU6IHRleHRTdGF0ZS5zY2FsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpbGxLZXkgPSB0aGlzLmZpbGxLZXlfO1xuICAgICAgICBpZiAoZmlsbFN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoIShmaWxsS2V5IGluIHRoaXMuZmlsbFN0YXRlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxTdGF0ZXNbZmlsbEtleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxTdHlsZTogZmlsbFN0YXRlLmZpbGxTdHlsZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbiBCZWdpbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKi9cbiAgICBDYW52YXNUZXh0QnVpbGRlci5wcm90b3R5cGUuZHJhd0NoYXJzXyA9IGZ1bmN0aW9uIChiZWdpbiwgZW5kKSB7XG4gICAgICAgIHZhciBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICAgICAgdmFyIHN0cm9rZUtleSA9IHRoaXMuc3Ryb2tlS2V5XztcbiAgICAgICAgdmFyIHRleHRLZXkgPSB0aGlzLnRleHRLZXlfO1xuICAgICAgICB2YXIgZmlsbEtleSA9IHRoaXMuZmlsbEtleV87XG4gICAgICAgIHRoaXMuc2F2ZVRleHRTdGF0ZXNfKCk7XG4gICAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICB2YXIgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmVdO1xuICAgICAgICB2YXIgb2Zmc2V0WSA9IHRoaXMudGV4dE9mZnNldFlfICogcGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLnRleHRfO1xuICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSBzdHJva2VTdGF0ZVxuICAgICAgICAgICAgPyAoc3Ryb2tlU3RhdGUubGluZVdpZHRoICogTWF0aC5hYnModGV4dFN0YXRlLnNjYWxlWzBdKSkgLyAyXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUyxcbiAgICAgICAgICAgIGJlZ2luLFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgYmFzZWxpbmUsXG4gICAgICAgICAgICB0ZXh0U3RhdGUub3ZlcmZsb3csXG4gICAgICAgICAgICBmaWxsS2V5LFxuICAgICAgICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIG9mZnNldFksXG4gICAgICAgICAgICBzdHJva2VLZXksXG4gICAgICAgICAgICBzdHJva2VXaWR0aCAqIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgdGV4dEtleSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfQ0hBUlMsXG4gICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIGJhc2VsaW5lLFxuICAgICAgICAgICAgdGV4dFN0YXRlLm92ZXJmbG93LFxuICAgICAgICAgICAgZmlsbEtleSxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5tYXhBbmdsZSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgICAgc3Ryb2tlS2V5LFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgdGV4dEtleSxcbiAgICAgICAgICAgIDEgLyBwaXhlbFJhdGlvLFxuICAgICAgICBdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0U3R5bGUgVGV4dCBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdF9zaGFyZWREYXRhIFNoYXJlZCBkYXRhLlxuICAgICAqL1xuICAgIENhbnZhc1RleHRCdWlsZGVyLnByb3RvdHlwZS5zZXRUZXh0U3R5bGUgPSBmdW5jdGlvbiAodGV4dFN0eWxlLCBvcHRfc2hhcmVkRGF0YSkge1xuICAgICAgICB2YXIgdGV4dFN0YXRlLCBmaWxsU3RhdGUsIHN0cm9rZVN0YXRlO1xuICAgICAgICBpZiAoIXRleHRTdHlsZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0XyA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRleHRGaWxsU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0RmlsbCgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0RmlsbFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgZmlsbFN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0gZmlsbFN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlsbFN0YXRlID0gdGhpcy50ZXh0RmlsbFN0YXRlXztcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGxTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxsU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9ICovICh7fSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBmaWxsU3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbGxTdGF0ZS5maWxsU3R5bGUgPSBhc0NvbG9yTGlrZSh0ZXh0RmlsbFN0eWxlLmdldENvbG9yKCkgfHwgZGVmYXVsdEZpbGxTdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlID0gdGV4dFN0eWxlLmdldFN0cm9rZSgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0U3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0gc3Ryb2tlU3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgICAgICAgICBpZiAoIXN0cm9rZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9ICovICh7fSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IHN0cm9rZVN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbGluZURhc2ggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZURhc2hPZmZzZXQgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gdGV4dFN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1pdGVyTGltaXQgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVDYXAgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpIHx8IGRlZmF1bHRMaW5lQ2FwO1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVEYXNoID0gbGluZURhc2ggPyBsaW5lRGFzaC5zbGljZSgpIDogZGVmYXVsdExpbmVEYXNoO1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ID1cbiAgICAgICAgICAgICAgICAgICAgbGluZURhc2hPZmZzZXQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRMaW5lRGFzaE9mZnNldCA6IGxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVKb2luID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVKb2luKCkgfHwgZGVmYXVsdExpbmVKb2luO1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA9XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdExpbmVXaWR0aCA6IGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5taXRlckxpbWl0ID1cbiAgICAgICAgICAgICAgICAgICAgbWl0ZXJMaW1pdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE1pdGVyTGltaXQgOiBtaXRlckxpbWl0O1xuICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2UodGV4dFN0cm9rZVN0eWxlLmdldENvbG9yKCkgfHwgZGVmYXVsdFN0cm9rZVN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICAgICAgICAgIHZhciBmb250ID0gdGV4dFN0eWxlLmdldEZvbnQoKSB8fCBkZWZhdWx0Rm9udDtcbiAgICAgICAgICAgIHJlZ2lzdGVyRm9udChmb250KTtcbiAgICAgICAgICAgIHZhciB0ZXh0U2NhbGUgPSB0ZXh0U3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLm92ZXJmbG93ID0gdGV4dFN0eWxlLmdldE92ZXJmbG93KCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUuZm9udCA9IGZvbnQ7XG4gICAgICAgICAgICB0ZXh0U3RhdGUubWF4QW5nbGUgPSB0ZXh0U3R5bGUuZ2V0TWF4QW5nbGUoKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5wbGFjZW1lbnQgPSB0ZXh0U3R5bGUuZ2V0UGxhY2VtZW50KCk7XG4gICAgICAgICAgICB0ZXh0U3RhdGUudGV4dEFsaWduID0gdGV4dFN0eWxlLmdldFRleHRBbGlnbigpO1xuICAgICAgICAgICAgdGV4dFN0YXRlLnRleHRCYXNlbGluZSA9XG4gICAgICAgICAgICAgICAgdGV4dFN0eWxlLmdldFRleHRCYXNlbGluZSgpIHx8IGRlZmF1bHRUZXh0QmFzZWxpbmU7XG4gICAgICAgICAgICB0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwgPSB0ZXh0U3R5bGUuZ2V0QmFja2dyb3VuZEZpbGwoKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlID0gdGV4dFN0eWxlLmdldEJhY2tncm91bmRTdHJva2UoKTtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5wYWRkaW5nID0gdGV4dFN0eWxlLmdldFBhZGRpbmcoKSB8fCBkZWZhdWx0UGFkZGluZztcbiAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZSA9IHRleHRTY2FsZSA9PT0gdW5kZWZpbmVkID8gWzEsIDFdIDogdGV4dFNjYWxlO1xuICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRYID0gdGV4dFN0eWxlLmdldE9mZnNldFgoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0T2Zmc2V0WSA9IHRleHRTdHlsZS5nZXRPZmZzZXRZKCk7XG4gICAgICAgICAgICB2YXIgdGV4dFJvdGF0ZVdpdGhWaWV3ID0gdGV4dFN0eWxlLmdldFJvdGF0ZVdpdGhWaWV3KCk7XG4gICAgICAgICAgICB2YXIgdGV4dFJvdGF0aW9uID0gdGV4dFN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnRleHRfID0gdGV4dFN0eWxlLmdldFRleHQoKSB8fCAnJztcbiAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFhfID0gdGV4dE9mZnNldFggPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0T2Zmc2V0WDtcbiAgICAgICAgICAgIHRoaXMudGV4dE9mZnNldFlfID0gdGV4dE9mZnNldFkgPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0T2Zmc2V0WTtcbiAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9XG4gICAgICAgICAgICAgICAgdGV4dFJvdGF0ZVdpdGhWaWV3ID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHRleHRSb3RhdGVXaXRoVmlldztcbiAgICAgICAgICAgIHRoaXMudGV4dFJvdGF0aW9uXyA9IHRleHRSb3RhdGlvbiA9PT0gdW5kZWZpbmVkID8gMCA6IHRleHRSb3RhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlS2V5XyA9IHN0cm9rZVN0YXRlXG4gICAgICAgICAgICAgICAgPyAodHlwZW9mIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRVaWQoc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUpKSArXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVDYXAgK1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCArXG4gICAgICAgICAgICAgICAgICAgICd8JyArXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCArXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVKb2luICtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCArXG4gICAgICAgICAgICAgICAgICAgICdbJyArXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVEYXNoLmpvaW4oKSArXG4gICAgICAgICAgICAgICAgICAgICddJ1xuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICB0aGlzLnRleHRLZXlfID1cbiAgICAgICAgICAgICAgICB0ZXh0U3RhdGUuZm9udCArXG4gICAgICAgICAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZSArXG4gICAgICAgICAgICAgICAgICAgICh0ZXh0U3RhdGUudGV4dEFsaWduIHx8ICc/JykgK1xuICAgICAgICAgICAgICAgICAgICAodGV4dFN0YXRlLnRleHRCYXNlbGluZSB8fCAnPycpO1xuICAgICAgICAgICAgdGhpcy5maWxsS2V5XyA9IGZpbGxTdGF0ZVxuICAgICAgICAgICAgICAgID8gdHlwZW9mIGZpbGxTdGF0ZS5maWxsU3R5bGUgPT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBmaWxsU3RhdGUuZmlsbFN0eWxlXG4gICAgICAgICAgICAgICAgICAgIDogJ3wnICsgZ2V0VWlkKGZpbGxTdGF0ZS5maWxsU3R5bGUpXG4gICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gb3B0X3NoYXJlZERhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FudmFzVGV4dEJ1aWxkZXI7XG59KENhbnZhc0J1aWxkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENhbnZhc1RleHRCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dEJ1aWxkZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwXG4gKi9cbmltcG9ydCBCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgSW1hZ2VCdWlsZGVyIGZyb20gJy4vSW1hZ2VCdWlsZGVyLmpzJztcbmltcG9ydCBMaW5lU3RyaW5nQnVpbGRlciBmcm9tICcuL0xpbmVTdHJpbmdCdWlsZGVyLmpzJztcbmltcG9ydCBQb2x5Z29uQnVpbGRlciBmcm9tICcuL1BvbHlnb25CdWlsZGVyLmpzJztcbmltcG9ydCBUZXh0QnVpbGRlciBmcm9tICcuL1RleHRCdWlsZGVyLmpzJztcbi8qKlxuICogQHR5cGUge09iamVjdDxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlXCIpLmRlZmF1bHQsIHR5cGVvZiBCdWlsZGVyPn1cbiAqL1xudmFyIEJBVENIX0NPTlNUUlVDVE9SUyA9IHtcbiAgICAnQ2lyY2xlJzogUG9seWdvbkJ1aWxkZXIsXG4gICAgJ0RlZmF1bHQnOiBCdWlsZGVyLFxuICAgICdJbWFnZSc6IEltYWdlQnVpbGRlcixcbiAgICAnTGluZVN0cmluZyc6IExpbmVTdHJpbmdCdWlsZGVyLFxuICAgICdQb2x5Z29uJzogUG9seWdvbkJ1aWxkZXIsXG4gICAgJ1RleHQnOiBUZXh0QnVpbGRlcixcbn07XG52YXIgQnVpbGRlckdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heCBleHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCdWlsZGVyR3JvdXAodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRvbGVyYW5jZV8gPSB0b2xlcmFuY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4RXh0ZW50XyA9IG1heEV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlXCIpLmRlZmF1bHQsIEJ1aWxkZXI+Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnVpbGRlcnNCeVpJbmRleF8gPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZVwiKS5kZWZhdWx0LCBpbXBvcnQoXCIuL0J1aWxkZXIuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zPj59IFRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zXG4gICAgICovXG4gICAgQnVpbGRlckdyb3VwLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidWlsZGVySW5zdHJ1Y3Rpb25zID0ge307XG4gICAgICAgIGZvciAodmFyIHpLZXkgaW4gdGhpcy5idWlsZGVyc0J5WkluZGV4Xykge1xuICAgICAgICAgICAgYnVpbGRlckluc3RydWN0aW9uc1t6S2V5XSA9IGJ1aWxkZXJJbnN0cnVjdGlvbnNbektleV0gfHwge307XG4gICAgICAgICAgICB2YXIgYnVpbGRlcnMgPSB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pLZXldO1xuICAgICAgICAgICAgZm9yICh2YXIgYnVpbGRlcktleSBpbiBidWlsZGVycykge1xuICAgICAgICAgICAgICAgIHZhciBidWlsZGVySW5zdHJ1Y3Rpb24gPSBidWlsZGVyc1tidWlsZGVyS2V5XS5maW5pc2goKTtcbiAgICAgICAgICAgICAgICBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldW2J1aWxkZXJLZXldID0gYnVpbGRlckluc3RydWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVySW5zdHJ1Y3Rpb25zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB6SW5kZXggWiBpbmRleC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQnVpbGRlclR5cGUuanNcIikuZGVmYXVsdH0gYnVpbGRlclR5cGUgUmVwbGF5IHR5cGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVmVjdG9yQ29udGV4dC5qc1wiKS5kZWZhdWx0fSBSZXBsYXkuXG4gICAgICovXG4gICAgQnVpbGRlckdyb3VwLnByb3RvdHlwZS5nZXRCdWlsZGVyID0gZnVuY3Rpb24gKHpJbmRleCwgYnVpbGRlclR5cGUpIHtcbiAgICAgICAgdmFyIHpJbmRleEtleSA9IHpJbmRleCAhPT0gdW5kZWZpbmVkID8gekluZGV4LnRvU3RyaW5nKCkgOiAnMCc7XG4gICAgICAgIHZhciByZXBsYXlzID0gdGhpcy5idWlsZGVyc0J5WkluZGV4X1t6SW5kZXhLZXldO1xuICAgICAgICBpZiAocmVwbGF5cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXBsYXlzID0ge307XG4gICAgICAgICAgICB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pJbmRleEtleV0gPSByZXBsYXlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXBsYXkgPSByZXBsYXlzW2J1aWxkZXJUeXBlXTtcbiAgICAgICAgaWYgKHJlcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSBCQVRDSF9DT05TVFJVQ1RPUlNbYnVpbGRlclR5cGVdO1xuICAgICAgICAgICAgcmVwbGF5ID0gbmV3IENvbnN0cnVjdG9yKHRoaXMudG9sZXJhbmNlXywgdGhpcy5tYXhFeHRlbnRfLCB0aGlzLnJlc29sdXRpb25fLCB0aGlzLnBpeGVsUmF0aW9fKTtcbiAgICAgICAgICAgIHJlcGxheXNbYnVpbGRlclR5cGVdID0gcmVwbGF5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXBsYXk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVpbGRlckdyb3VwO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEJ1aWxkZXJHcm91cDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJ1aWxkZXJHcm91cC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyVHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBDSVJDTEU6ICdDaXJjbGUnLFxuICAgIERFRkFVTFQ6ICdEZWZhdWx0JyxcbiAgICBJTUFHRTogJ0ltYWdlJyxcbiAgICBMSU5FX1NUUklORzogJ0xpbmVTdHJpbmcnLFxuICAgIFBPTFlHT046ICdQb2x5Z29uJyxcbiAgICBURVhUOiAnVGV4dCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVpbGRlclR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC90ZXh0cGF0aFxuICovXG5pbXBvcnQgeyBsZXJwIH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5pbXBvcnQgeyByb3RhdGUgfSBmcm9tICcuL3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIFBhdGggdG8gcHV0IHRleHQgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFN0YXJ0IG9mZnNldCBvZiB0aGUgYGZsYXRDb29yZGluYXRlc2AuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZCBvZmZzZXQgb2YgdGhlIGBmbGF0Q29vcmRpbmF0ZXNgLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0IHRvIHBsYWNlIG9uIHRoZSBwYXRoLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0TSBtIGFsb25nIHRoZSBwYXRoIHdoZXJlIHRoZSB0ZXh0IHN0YXJ0cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBbmdsZSBNYXggYW5nbGUgYmV0d2VlbiBhZGphY2VudCBjaGFycyBpbiByYWRpYW5zLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFRoZSBwcm9kdWN0IG9mIHRoZSB0ZXh0IHNjYWxlIGFuZCB0aGUgZGV2aWNlIHBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsIHN0cmluZywgT2JqZWN0PHN0cmluZywgbnVtYmVyPik6bnVtYmVyfSBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGggTWVhc3VyZSBhbmQgY2FjaGUgdGV4dCB3aWR0aC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IFRoZSBmb250LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBjYWNoZSBBIGNhY2hlIG9mIG1lYXN1cmVkIHdpZHRocy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbiB0byBhcHBseSB0byB0aGUgZmxhdENvb3JkaW5hdGVzIHRvIGRldGVybWluZSB3aGV0aGVyIHRleHQgbmVlZHMgdG8gYmUgcmV2ZXJzZWQuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTwqPj59IFRoZSByZXN1bHQgYXJyYXkgKG9yIG51bGwgaWYgYG1heEFuZ2xlYCB3YXNcbiAqIGV4Y2VlZGVkKS4gRW50cmllcyBvZiB0aGUgYXJyYXkgYXJlIHgsIHksIGFuY2hvclgsIGFuZ2xlLCBjaHVuay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUZXh0T25QYXRoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdGV4dCwgc3RhcnRNLCBtYXhBbmdsZSwgc2NhbGUsIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCwgZm9udCwgY2FjaGUsIHJvdGF0aW9uKSB7XG4gICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgdmFyIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIHZhciB4MSA9IDA7XG4gICAgdmFyIHkxID0gMDtcbiAgICB2YXIgc2VnbWVudExlbmd0aCA9IDA7XG4gICAgdmFyIHNlZ21lbnRNID0gMDtcbiAgICBmdW5jdGlvbiBhZHZhbmNlKCkge1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgICAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgICAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICAgICAgc2VnbWVudE0gKz0gc2VnbWVudExlbmd0aDtcbiAgICAgICAgc2VnbWVudExlbmd0aCA9IE1hdGguc3FydCgoeDIgLSB4MSkgKiAoeDIgLSB4MSkgKyAoeTIgLSB5MSkgKiAoeTIgLSB5MSkpO1xuICAgIH1cbiAgICBkbyB7XG4gICAgICAgIGFkdmFuY2UoKTtcbiAgICB9IHdoaWxlIChvZmZzZXQgPCBlbmQgLSBzdHJpZGUgJiYgc2VnbWVudE0gKyBzZWdtZW50TGVuZ3RoIDwgc3RhcnRNKTtcbiAgICB2YXIgaW50ZXJwb2xhdGUgPSAoc3RhcnRNIC0gc2VnbWVudE0pIC8gc2VnbWVudExlbmd0aDtcbiAgICB2YXIgYmVnaW5YID0gbGVycCh4MSwgeDIsIGludGVycG9sYXRlKTtcbiAgICB2YXIgYmVnaW5ZID0gbGVycCh5MSwgeTIsIGludGVycG9sYXRlKTtcbiAgICB2YXIgc3RhcnRPZmZzZXQgPSBvZmZzZXQgLSBzdHJpZGU7XG4gICAgdmFyIHN0YXJ0TGVuZ3RoID0gc2VnbWVudE07XG4gICAgdmFyIGVuZE0gPSBzdGFydE0gKyBzY2FsZSAqIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZSk7XG4gICAgd2hpbGUgKG9mZnNldCA8IGVuZCAtIHN0cmlkZSAmJiBzZWdtZW50TSArIHNlZ21lbnRMZW5ndGggPCBlbmRNKSB7XG4gICAgICAgIGFkdmFuY2UoKTtcbiAgICB9XG4gICAgaW50ZXJwb2xhdGUgPSAoZW5kTSAtIHNlZ21lbnRNKSAvIHNlZ21lbnRMZW5ndGg7XG4gICAgdmFyIGVuZFggPSBsZXJwKHgxLCB4MiwgaW50ZXJwb2xhdGUpO1xuICAgIHZhciBlbmRZID0gbGVycCh5MSwgeTIsIGludGVycG9sYXRlKTtcbiAgICAvLyBLZWVwIHRleHQgdXByaWdodFxuICAgIHZhciByZXZlcnNlO1xuICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgICB2YXIgZmxhdCA9IFtiZWdpblgsIGJlZ2luWSwgZW5kWCwgZW5kWV07XG4gICAgICAgIHJvdGF0ZShmbGF0LCAwLCA0LCAyLCByb3RhdGlvbiwgZmxhdCwgZmxhdCk7XG4gICAgICAgIHJldmVyc2UgPSBmbGF0WzBdID4gZmxhdFsyXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldmVyc2UgPSBiZWdpblggPiBlbmRYO1xuICAgIH1cbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgc2luZ2xlU2VnbWVudCA9IHN0YXJ0T2Zmc2V0ICsgc3RyaWRlID09PSBvZmZzZXQ7XG4gICAgb2Zmc2V0ID0gc3RhcnRPZmZzZXQ7XG4gICAgc2VnbWVudExlbmd0aCA9IDA7XG4gICAgc2VnbWVudE0gPSBzdGFydExlbmd0aDtcbiAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIC8vIEFsbCBvbiB0aGUgc2FtZSBzZWdtZW50XG4gICAgaWYgKHNpbmdsZVNlZ21lbnQpIHtcbiAgICAgICAgYWR2YW5jZSgpO1xuICAgICAgICB2YXIgcHJldmlvdXNBbmdsZV8xID0gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHByZXZpb3VzQW5nbGVfMSArPSBwcmV2aW91c0FuZ2xlXzEgPiAwID8gLVBJIDogUEk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHggPSAoZW5kWCArIGJlZ2luWCkgLyAyO1xuICAgICAgICB2YXIgeSA9IChlbmRZICsgYmVnaW5ZKSAvIDI7XG4gICAgICAgIHJlc3VsdFswXSA9IFt4LCB5LCAoZW5kTSAtIHN0YXJ0TSkgLyAyLCBwcmV2aW91c0FuZ2xlXzEsIHRleHRdO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB2YXIgcHJldmlvdXNBbmdsZTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0ZXh0Lmxlbmd0aDsgaSA8IGlpOykge1xuICAgICAgICBhZHZhbmNlKCk7XG4gICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIoeTIgLSB5MSwgeDIgLSB4MSk7XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICBhbmdsZSArPSBhbmdsZSA+IDAgPyAtUEkgOiBQSTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldmlvdXNBbmdsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBhbmdsZSAtIHByZXZpb3VzQW5nbGU7XG4gICAgICAgICAgICBkZWx0YSArPSBkZWx0YSA+IFBJID8gLTIgKiBQSSA6IGRlbHRhIDwgLVBJID8gMiAqIFBJIDogMDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiBtYXhBbmdsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzQW5nbGUgPSBhbmdsZTtcbiAgICAgICAgdmFyIGlTdGFydCA9IGk7XG4gICAgICAgIHZhciBjaGFyTGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSByZXZlcnNlID8gaWkgLSBpIC0gMSA6IGk7XG4gICAgICAgICAgICB2YXIgbGVuID0gc2NhbGUgKiBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgoZm9udCwgdGV4dFtpbmRleF0sIGNhY2hlKTtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgKyBzdHJpZGUgPCBlbmQgJiZcbiAgICAgICAgICAgICAgICBzZWdtZW50TSArIHNlZ21lbnRMZW5ndGggPCBzdGFydE0gKyBjaGFyTGVuZ3RoICsgbGVuIC8gMikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhckxlbmd0aCArPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IGlTdGFydCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYXJzID0gcmV2ZXJzZVxuICAgICAgICAgICAgPyB0ZXh0LnN1YnN0cmluZyhpaSAtIGlTdGFydCwgaWkgLSBpKVxuICAgICAgICAgICAgOiB0ZXh0LnN1YnN0cmluZyhpU3RhcnQsIGkpO1xuICAgICAgICBpbnRlcnBvbGF0ZSA9IChzdGFydE0gKyBjaGFyTGVuZ3RoIC8gMiAtIHNlZ21lbnRNKSAvIHNlZ21lbnRMZW5ndGg7XG4gICAgICAgIHZhciB4ID0gbGVycCh4MSwgeDIsIGludGVycG9sYXRlKTtcbiAgICAgICAgdmFyIHkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuICAgICAgICByZXN1bHQucHVzaChbeCwgeSwgY2hhckxlbmd0aCAvIDIsIGFuZ2xlLCBjaGFyc10pO1xuICAgICAgICBzdGFydE0gKz0gY2hhckxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHRwYXRoLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvbGVuZ3RoXG4gKi9cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZ0xlbmd0aChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICB2YXIgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB2YXIgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgdmFyIHgyID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgICB2YXIgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgICBsZW5ndGggKz0gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG4gICAgICAgIHgxID0geDI7XG4gICAgICAgIHkxID0geTI7XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBlcmltZXRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgdmFyIHBlcmltZXRlciA9IGxpbmVTdHJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICB2YXIgZHggPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXSAtIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHZhciBkeSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXSAtIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBwZXJpbWV0ZXIgKz0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICByZXR1cm4gcGVyaW1ldGVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGVuZ3RoLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yXG4gKi9cbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCB7IFRFWFRfQUxJR04gfSBmcm9tICcuL1RleHRCdWlsZGVyLmpzJztcbmltcG9ydCB7IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIH0gZnJvbSAnLi4vLi4vaGFzLmpzJztcbmltcG9ydCB7IGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLCBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sIHNldEZyb21BcnJheSBhcyB0cmFuc2Zvcm1TZXRGcm9tQXJyYXksIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZSwgaW50ZXJzZWN0cyB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0UGFkZGluZywgZGVmYXVsdFRleHRCYXNlbGluZSwgZHJhd0ltYWdlT3JMYWJlbCwgfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHsgZGVmYXVsdFRleHRBbGlnbiwgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLCBtZWFzdXJlVGV4dEhlaWdodCwgbWVhc3VyZVRleHRXaWR0aHMsIH0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7IGRyYXdUZXh0T25QYXRoIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RleHRwYXRoLmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7IGxpbmVTdHJpbmdMZW5ndGggfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvbGVuZ3RoLmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJCb3hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5YXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhZXG4gKiBAcHJvcGVydHkgeyp9IHZhbHVlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSW1hZ2VPckxhYmVsRGltZW5zaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZVhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmF3SW1hZ2VZXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlV1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZUhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcmlnaW5YXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3JpZ2luWVxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBzY2FsZVxuICogQHByb3BlcnR5IHtCQm94fSBkZWNsdXR0ZXJCb3hcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gY2FudmFzVHJhbnNmb3JtXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge3swOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIDE6IG51bWJlciwgMjogaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudCwgMzogSW1hZ2VPckxhYmVsRGltZW5zaW9ucywgNDogbnVtYmVyLCA1OiBBcnJheTwqPiwgNjogQXJyYXk8Kj59fSBSZXBsYXlJbWFnZU9yTGFiZWxBcmdzXG4gKi9cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBGZWF0dXJlQ2FsbGJhY2tcbiAqL1xuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xudmFyIHRtcEV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbnZhciBwMSA9IFtdO1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG52YXIgcDIgPSBbXTtcbi8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqL1xudmFyIHAzID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbnZhciBwNCA9IFtdO1xuLyoqXG4gKiBAcGFyYW0ge1JlcGxheUltYWdlT3JMYWJlbEFyZ3N9IHJlcGxheUltYWdlT3JMYWJlbEFyZ3MgQXJndW1lbnRzIHRvIHJlcGxheUltYWdlT3JMYWJlbFxuICogQHJldHVybiB7QkJveH0gRGVjbHV0dGVyIGJib3guXG4gKi9cbmZ1bmN0aW9uIGdldERlY2x1dHRlckJveChyZXBsYXlJbWFnZU9yTGFiZWxBcmdzKSB7XG4gICAgcmV0dXJuIHJlcGxheUltYWdlT3JMYWJlbEFyZ3NbM10uZGVjbHV0dGVyQm94O1xufVxudmFyIHJ0bFJlZ0V4ID0gbmV3IFJlZ0V4cChcbi8qIGVzbGludC1kaXNhYmxlIHByZXR0aWVyL3ByZXR0aWVyICovXG4nWycgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwMDU5MSkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MDA4ZmYpICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZiMWQpICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDBmZGZmKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDBmZTcwKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmVmYykgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxMDgwMCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MTBmZmYpICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MWU4MDApICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDFlZmZmKSArXG4gICAgJ10nXG4vKiBlc2xpbnQtZW5hYmxlIHByZXR0aWVyL3ByZXR0aWVyICovXG4pO1xuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICogQHBhcmFtIHtzdHJpbmd9IGFsaWduIEFsaWdubWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGV4dCBhbGlnbm1lbnQuXG4gKi9cbmZ1bmN0aW9uIGhvcml6b250YWxUZXh0QWxpZ24odGV4dCwgYWxpZ24pIHtcbiAgICBpZiAoKGFsaWduID09PSAnc3RhcnQnIHx8IGFsaWduID09PSAnZW5kJykgJiYgIXJ0bFJlZ0V4LnRlc3QodGV4dCkpIHtcbiAgICAgICAgYWxpZ24gPSBhbGlnbiA9PT0gJ3N0YXJ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgfVxuICAgIHJldHVybiBURVhUX0FMSUdOW2FsaWduXTtcbn1cbnZhciBFeGVjdXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcmxhcHMgVGhlIHJlcGxheSBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gaW5zdHJ1Y3Rpb25zIFRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9IHJlbmRlckJ1ZmZlciBSZW5kZXIgYnVmZmVyICh3aWR0aC9oZWlnaHQpIGluIHBpeGVscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeGVjdXRvcihyZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBvdmVybGFwcywgaW5zdHJ1Y3Rpb25zLCByZW5kZXJCdWZmZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm92ZXJsYXBzID0gb3ZlcmxhcHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxpZ25GaWxsXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMuaW5zdHJ1Y3Rpb25zO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBpbnN0cnVjdGlvbnMuY29vcmRpbmF0ZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxudW1iZXIsaW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT58QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb29yZGluYXRlQ2FjaGVfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJCdWZmZXJfID0gcmVuZGVyQnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlZFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbFN0YXRlcyA9IGluc3RydWN0aW9ucy5maWxsU3RhdGVzIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHJva2VTdGF0ZXMgPSBpbnN0cnVjdGlvbnMuc3Ryb2tlU3RhdGVzIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dFN0YXRlcyA9IGluc3RydWN0aW9ucy50ZXh0U3RhdGVzIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIG51bWJlcj4+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aHNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFiZWxzXyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0S2V5IFRleHQgc3R5bGUga2V5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxsS2V5IEZpbGwgc3R5bGUga2V5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJva2VLZXkgU3Ryb2tlIHN0eWxlIGtleS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx9IExhYmVsLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5jcmVhdGVMYWJlbCA9IGZ1bmN0aW9uICh0ZXh0LCB0ZXh0S2V5LCBmaWxsS2V5LCBzdHJva2VLZXkpIHtcbiAgICAgICAgdmFyIGtleSA9IHRleHQgKyB0ZXh0S2V5ICsgZmlsbEtleSArIHN0cm9rZUtleTtcbiAgICAgICAgaWYgKHRoaXMubGFiZWxzX1trZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbHNfW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0cm9rZVN0YXRlID0gc3Ryb2tlS2V5ID8gdGhpcy5zdHJva2VTdGF0ZXNbc3Ryb2tlS2V5XSA6IG51bGw7XG4gICAgICAgIHZhciBmaWxsU3RhdGUgPSBmaWxsS2V5ID8gdGhpcy5maWxsU3RhdGVzW2ZpbGxLZXldIDogbnVsbDtcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciBzY2FsZSA9IFtcbiAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVswXSAqIHBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGVbMV0gKiBwaXhlbFJhdGlvLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgYWxpZ24gPSBob3Jpem9udGFsVGV4dEFsaWduKHRleHQsIHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnbik7XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHN0cm9rZUtleSAmJiBzdHJva2VTdGF0ZS5saW5lV2lkdGggPyBzdHJva2VTdGF0ZS5saW5lV2lkdGggOiAwO1xuICAgICAgICB2YXIgbGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdmFyIG51bUxpbmVzID0gbGluZXMubGVuZ3RoO1xuICAgICAgICB2YXIgd2lkdGhzID0gW107XG4gICAgICAgIHZhciB3aWR0aCA9IG1lYXN1cmVUZXh0V2lkdGhzKHRleHRTdGF0ZS5mb250LCBsaW5lcywgd2lkdGhzKTtcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBtZWFzdXJlVGV4dEhlaWdodCh0ZXh0U3RhdGUuZm9udCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBsaW5lSGVpZ2h0ICogbnVtTGluZXM7XG4gICAgICAgIHZhciByZW5kZXJXaWR0aCA9IHdpZHRoICsgc3Ryb2tlV2lkdGg7XG4gICAgICAgIHZhciBjb250ZXh0SW5zdHJ1Y3Rpb25zID0gW107XG4gICAgICAgIC8vIG1ha2UgY2FudmFzIDIgcGl4ZWxzIHdpZGVyIHRvIGFjY291bnQgZm9yIGl0YWxpYyB0ZXh0IHdpZHRoIG1lYXN1cmVtZW50IGVycm9yc1xuICAgICAgICB2YXIgdyA9IChyZW5kZXJXaWR0aCArIDIpICogc2NhbGVbMF07XG4gICAgICAgIHZhciBoID0gKGhlaWdodCArIHN0cm9rZVdpZHRoKSAqIHNjYWxlWzFdO1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbH0gKi9cbiAgICAgICAgdmFyIGxhYmVsID0ge1xuICAgICAgICAgICAgd2lkdGg6IHcgPCAwID8gTWF0aC5mbG9vcih3KSA6IE1hdGguY2VpbCh3KSxcbiAgICAgICAgICAgIGhlaWdodDogaCA8IDAgPyBNYXRoLmZsb29yKGgpIDogTWF0aC5jZWlsKGgpLFxuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9uczogY29udGV4dEluc3RydWN0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHNjYWxlWzBdICE9IDEgfHwgc2NhbGVbMV0gIT0gMSkge1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdzY2FsZScsIHNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2ZvbnQnLCB0ZXh0U3RhdGUuZm9udCk7XG4gICAgICAgIGlmIChzdHJva2VLZXkpIHtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnc3Ryb2tlU3R5bGUnLCBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSk7XG4gICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2xpbmVXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZUNhcCcsIHN0cm9rZVN0YXRlLmxpbmVDYXApO1xuICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lSm9pbicsIHN0cm9rZVN0YXRlLmxpbmVKb2luKTtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbWl0ZXJMaW1pdCcsIHN0cm9rZVN0YXRlLm1pdGVyTGltaXQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgQ29udGV4dCA9IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTID8gT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgICAgICAgICAgaWYgKENvbnRleHQucHJvdG90eXBlLnNldExpbmVEYXNoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdzZXRMaW5lRGFzaCcsIFtzdHJva2VTdGF0ZS5saW5lRGFzaF0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZURhc2hPZmZzZXQnLCBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGxLZXkpIHtcbiAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnZmlsbFN0eWxlJywgZmlsbFN0YXRlLmZpbGxTdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCd0ZXh0QmFzZWxpbmUnLCAnbWlkZGxlJyk7XG4gICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgndGV4dEFsaWduJywgJ2NlbnRlcicpO1xuICAgICAgICB2YXIgbGVmdFJpZ2h0ID0gMC41IC0gYWxpZ247XG4gICAgICAgIHZhciB4ID0gYWxpZ24gKiByZW5kZXJXaWR0aCArIGxlZnRSaWdodCAqIHN0cm9rZVdpZHRoO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bUxpbmVzOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3N0cm9rZVRleHQnLCBbXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB4ICsgbGVmdFJpZ2h0ICogd2lkdGhzW2ldLFxuICAgICAgICAgICAgICAgICAgICAwLjUgKiAoc3Ryb2tlV2lkdGggKyBsaW5lSGVpZ2h0KSArIGkgKiBsaW5lSGVpZ2h0LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtTGluZXM7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnZmlsbFRleHQnLCBbXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB4ICsgbGVmdFJpZ2h0ICogd2lkdGhzW2ldLFxuICAgICAgICAgICAgICAgICAgICAwLjUgKiAoc3Ryb2tlV2lkdGggKyBsaW5lSGVpZ2h0KSArIGkgKiBsaW5lSGVpZ2h0LFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFiZWxzX1trZXldID0gbGFiZWw7XG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAxIDFzdCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAyIDJuZCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAzIDNyZCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHA0IDR0aCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gZmlsbEluc3RydWN0aW9uIEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gc3Ryb2tlSW5zdHJ1Y3Rpb24gU3Ryb2tlIGluc3RydWN0aW9uLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5yZXBsYXlUZXh0QmFja2dyb3VuZF8gPSBmdW5jdGlvbiAoY29udGV4dCwgcDEsIHAyLCBwMywgcDQsIGZpbGxJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8uYXBwbHkoY29udGV4dCwgcDEpO1xuICAgICAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwMik7XG4gICAgICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAzKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDQpO1xuICAgICAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwMSk7XG4gICAgICAgIGlmIChmaWxsSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWxpZ25GaWxsXyA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGZpbGxJbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2VJbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHJva2VTdHlsZV8oY29udGV4dCwgXG4gICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoc3Ryb2tlSW5zdHJ1Y3Rpb24pKTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNoZWV0V2lkdGggV2lkdGggb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2hlZXRIZWlnaHQgSGVpZ2h0IG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlclggWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWSBZLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5jaG9yWCBBbmNob3IgWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5jaG9yWSBBbmNob3IgWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWCBPcmlnaW4gWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCB0byBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHBhZGRpbmcgUGFkZGluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpbGxTdHJva2UgQmFja2dyb3VuZCBmaWxsIG9yIHN0cm9rZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtJbWFnZU9yTGFiZWxEaW1lbnNpb25zfSBEaW1lbnNpb25zIGZvciBwb3NpdGlvbmluZyBhbmQgZGVjbHV0dGVyaW5nIHRoZSBpbWFnZSBvciBsYWJlbC5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18gPSBmdW5jdGlvbiAoc2hlZXRXaWR0aCwgc2hlZXRIZWlnaHQsIGNlbnRlclgsIGNlbnRlclksIHdpZHRoLCBoZWlnaHQsIGFuY2hvclgsIGFuY2hvclksIG9yaWdpblgsIG9yaWdpblksIHJvdGF0aW9uLCBzY2FsZSwgc25hcFRvUGl4ZWwsIHBhZGRpbmcsIGZpbGxTdHJva2UsIGZlYXR1cmUpIHtcbiAgICAgICAgYW5jaG9yWCAqPSBzY2FsZVswXTtcbiAgICAgICAgYW5jaG9yWSAqPSBzY2FsZVsxXTtcbiAgICAgICAgdmFyIHggPSBjZW50ZXJYIC0gYW5jaG9yWDtcbiAgICAgICAgdmFyIHkgPSBjZW50ZXJZIC0gYW5jaG9yWTtcbiAgICAgICAgdmFyIHcgPSB3aWR0aCArIG9yaWdpblggPiBzaGVldFdpZHRoID8gc2hlZXRXaWR0aCAtIG9yaWdpblggOiB3aWR0aDtcbiAgICAgICAgdmFyIGggPSBoZWlnaHQgKyBvcmlnaW5ZID4gc2hlZXRIZWlnaHQgPyBzaGVldEhlaWdodCAtIG9yaWdpblkgOiBoZWlnaHQ7XG4gICAgICAgIHZhciBib3hXID0gcGFkZGluZ1szXSArIHcgKiBzY2FsZVswXSArIHBhZGRpbmdbMV07XG4gICAgICAgIHZhciBib3hIID0gcGFkZGluZ1swXSArIGggKiBzY2FsZVsxXSArIHBhZGRpbmdbMl07XG4gICAgICAgIHZhciBib3hYID0geCAtIHBhZGRpbmdbM107XG4gICAgICAgIHZhciBib3hZID0geSAtIHBhZGRpbmdbMF07XG4gICAgICAgIGlmIChmaWxsU3Ryb2tlIHx8IHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICBwMVswXSA9IGJveFg7XG4gICAgICAgICAgICBwNFswXSA9IGJveFg7XG4gICAgICAgICAgICBwMVsxXSA9IGJveFk7XG4gICAgICAgICAgICBwMlsxXSA9IGJveFk7XG4gICAgICAgICAgICBwMlswXSA9IGJveFggKyBib3hXO1xuICAgICAgICAgICAgcDNbMF0gPSBwMlswXTtcbiAgICAgICAgICAgIHAzWzFdID0gYm94WSArIGJveEg7XG4gICAgICAgICAgICBwNFsxXSA9IHAzWzFdO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc2Zvcm07XG4gICAgICAgIGlmIChyb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgdHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybShjcmVhdGVUcmFuc2Zvcm0oKSwgY2VudGVyWCwgY2VudGVyWSwgMSwgMSwgcm90YXRpb24sIC1jZW50ZXJYLCAtY2VudGVyWSk7XG4gICAgICAgICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHAxKTtcbiAgICAgICAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDIpO1xuICAgICAgICAgICAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtLCBwMyk7XG4gICAgICAgICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHA0KTtcbiAgICAgICAgICAgIGNyZWF0ZU9yVXBkYXRlKE1hdGgubWluKHAxWzBdLCBwMlswXSwgcDNbMF0sIHA0WzBdKSwgTWF0aC5taW4ocDFbMV0sIHAyWzFdLCBwM1sxXSwgcDRbMV0pLCBNYXRoLm1heChwMVswXSwgcDJbMF0sIHAzWzBdLCBwNFswXSksIE1hdGgubWF4KHAxWzFdLCBwMlsxXSwgcDNbMV0sIHA0WzFdKSwgdG1wRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNyZWF0ZU9yVXBkYXRlKE1hdGgubWluKGJveFgsIGJveFggKyBib3hXKSwgTWF0aC5taW4oYm94WSwgYm94WSArIGJveEgpLCBNYXRoLm1heChib3hYLCBib3hYICsgYm94VyksIE1hdGgubWF4KGJveFksIGJveFkgKyBib3hIKSwgdG1wRXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc25hcFRvUGl4ZWwpIHtcbiAgICAgICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgICAgICAgeSA9IE1hdGgucm91bmQoeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRyYXdJbWFnZVg6IHgsXG4gICAgICAgICAgICBkcmF3SW1hZ2VZOiB5LFxuICAgICAgICAgICAgZHJhd0ltYWdlVzogdyxcbiAgICAgICAgICAgIGRyYXdJbWFnZUg6IGgsXG4gICAgICAgICAgICBvcmlnaW5YOiBvcmlnaW5YLFxuICAgICAgICAgICAgb3JpZ2luWTogb3JpZ2luWSxcbiAgICAgICAgICAgIGRlY2x1dHRlckJveDoge1xuICAgICAgICAgICAgICAgIG1pblg6IHRtcEV4dGVudFswXSxcbiAgICAgICAgICAgICAgICBtaW5ZOiB0bXBFeHRlbnRbMV0sXG4gICAgICAgICAgICAgICAgbWF4WDogdG1wRXh0ZW50WzJdLFxuICAgICAgICAgICAgICAgIG1heFk6IHRtcEV4dGVudFszXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmVhdHVyZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW52YXNUcmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29udGV4dFNjYWxlIFNjYWxlIG9mIHRoZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2VPckxhYmVsIEltYWdlLlxuICAgICAqIEBwYXJhbSB7SW1hZ2VPckxhYmVsRGltZW5zaW9uc30gZGltZW5zaW9ucyBEaW1lbnNpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gZmlsbEluc3RydWN0aW9uIEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gc3Ryb2tlSW5zdHJ1Y3Rpb24gU3Ryb2tlIGluc3RydWN0aW9uLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBpbWFnZSBvciBsYWJlbCB3YXMgcmVuZGVyZWQuXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLnJlcGxheUltYWdlT3JMYWJlbF8gPSBmdW5jdGlvbiAoY29udGV4dCwgY29udGV4dFNjYWxlLCBpbWFnZU9yTGFiZWwsIGRpbWVuc2lvbnMsIG9wYWNpdHksIGZpbGxJbnN0cnVjdGlvbiwgc3Ryb2tlSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgdmFyIGZpbGxTdHJva2UgPSAhIShmaWxsSW5zdHJ1Y3Rpb24gfHwgc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB2YXIgYm94ID0gZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3g7XG4gICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgdmFyIHN0cm9rZVBhZGRpbmcgPSBzdHJva2VJbnN0cnVjdGlvblxuICAgICAgICAgICAgPyAoc3Ryb2tlSW5zdHJ1Y3Rpb25bMl0gKiBkaW1lbnNpb25zLnNjYWxlWzBdKSAvIDJcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgdmFyIGludGVyc2VjdHMgPSBib3gubWluWCAtIHN0cm9rZVBhZGRpbmcgPD0gY2FudmFzLndpZHRoIC8gY29udGV4dFNjYWxlICYmXG4gICAgICAgICAgICBib3gubWF4WCArIHN0cm9rZVBhZGRpbmcgPj0gMCAmJlxuICAgICAgICAgICAgYm94Lm1pblkgLSBzdHJva2VQYWRkaW5nIDw9IGNhbnZhcy5oZWlnaHQgLyBjb250ZXh0U2NhbGUgJiZcbiAgICAgICAgICAgIGJveC5tYXhZICsgc3Ryb2tlUGFkZGluZyA+PSAwO1xuICAgICAgICBpZiAoaW50ZXJzZWN0cykge1xuICAgICAgICAgICAgaWYgKGZpbGxTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGxheVRleHRCYWNrZ3JvdW5kXyhjb250ZXh0LCBwMSwgcDIsIHAzLCBwNCwgXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGZpbGxJbnN0cnVjdGlvbiksIFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChzdHJva2VJbnN0cnVjdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHJhd0ltYWdlT3JMYWJlbChjb250ZXh0LCBkaW1lbnNpb25zLmNhbnZhc1RyYW5zZm9ybSwgb3BhY2l0eSwgaW1hZ2VPckxhYmVsLCBkaW1lbnNpb25zLm9yaWdpblgsIGRpbWVuc2lvbnMub3JpZ2luWSwgZGltZW5zaW9ucy5kcmF3SW1hZ2VXLCBkaW1lbnNpb25zLmRyYXdJbWFnZUgsIGRpbWVuc2lvbnMuZHJhd0ltYWdlWCwgZGltZW5zaW9ucy5kcmF3SW1hZ2VZLCBkaW1lbnNpb25zLnNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuZmlsbF8gPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBpZiAodGhpcy5hbGlnbkZpbGxfKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luXzEgPSBhcHBseVRyYW5zZm9ybSh0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXywgWzAsIDBdKTtcbiAgICAgICAgICAgIHZhciByZXBlYXRTaXplID0gNTEyICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShvcmlnaW5fMVswXSAlIHJlcGVhdFNpemUsIG9yaWdpbl8xWzFdICUgcmVwZWF0U2l6ZSk7XG4gICAgICAgICAgICBjb250ZXh0LnJvdGF0ZSh0aGlzLnZpZXdSb3RhdGlvbl8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICBpZiAodGhpcy5hbGlnbkZpbGxfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IGluc3RydWN0aW9uIEluc3RydWN0aW9uLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5zZXRTdHJva2VTdHlsZV8gPSBmdW5jdGlvbiAoY29udGV4dCwgaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgY29udGV4dFsnc3Ryb2tlU3R5bGUnXSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn0gKi8gKGluc3RydWN0aW9uWzRdKTtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls1XSk7XG4gICAgICAgIGlmIChjb250ZXh0LnNldExpbmVEYXNoKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGluc3RydWN0aW9uWzZdKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dEtleSBUaGUga2V5IG9mIHRoZSB0ZXh0IHN0YXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJva2VLZXkgVGhlIGtleSBmb3IgdGhlIHN0cm9rZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsbEtleSBUaGUga2V5IGZvciB0aGUgZmlsbCBzdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHt7bGFiZWw6IGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbCwgYW5jaG9yWDogbnVtYmVyLCBhbmNob3JZOiBudW1iZXJ9fSBUaGUgdGV4dCBpbWFnZSBhbmQgaXRzIGFuY2hvci5cbiAgICAgKi9cbiAgICBFeGVjdXRvci5wcm90b3R5cGUuZHJhd0xhYmVsV2l0aFBvaW50UGxhY2VtZW50XyA9IGZ1bmN0aW9uICh0ZXh0LCB0ZXh0S2V5LCBzdHJva2VLZXksIGZpbGxLZXkpIHtcbiAgICAgICAgdmFyIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5jcmVhdGVMYWJlbCh0ZXh0LCB0ZXh0S2V5LCBmaWxsS2V5LCBzdHJva2VLZXkpO1xuICAgICAgICB2YXIgc3Ryb2tlU3RhdGUgPSB0aGlzLnN0cm9rZVN0YXRlc1tzdHJva2VLZXldO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGFsaWduID0gaG9yaXpvbnRhbFRleHRBbGlnbih0ZXh0LCB0ZXh0U3RhdGUudGV4dEFsaWduIHx8IGRlZmF1bHRUZXh0QWxpZ24pO1xuICAgICAgICB2YXIgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgZGVmYXVsdFRleHRCYXNlbGluZV07XG4gICAgICAgIHZhciBzdHJva2VXaWR0aCA9IHN0cm9rZVN0YXRlICYmIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA/IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA6IDA7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgMiBwaXhlbHMgd2UgYWRkZWQgaW4gY3JlYXRlTGFiZWwoKSBmb3IgdGhlIGFuY2hvclxuICAgICAgICB2YXIgd2lkdGggPSBsYWJlbC53aWR0aCAvIHBpeGVsUmF0aW8gLSAyICogdGV4dFN0YXRlLnNjYWxlWzBdO1xuICAgICAgICB2YXIgYW5jaG9yWCA9IGFsaWduICogd2lkdGggKyAyICogKDAuNSAtIGFsaWduKSAqIHN0cm9rZVdpZHRoO1xuICAgICAgICB2YXIgYW5jaG9yWSA9IChiYXNlbGluZSAqIGxhYmVsLmhlaWdodCkgLyBwaXhlbFJhdGlvICtcbiAgICAgICAgICAgIDIgKiAoMC41IC0gYmFzZWxpbmUpICogc3Ryb2tlV2lkdGg7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgICBhbmNob3JYOiBhbmNob3JYLFxuICAgICAgICAgICAgYW5jaG9yWTogYW5jaG9yWSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29udGV4dFNjYWxlIFNjYWxlIG9mIHRoZSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBpbnN0cnVjdGlvbnMgSW5zdHJ1Y3Rpb25zIGFycmF5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXh0IHRvIGludGVnZXIgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZUNhbGxiYWNrPFQ+PX0gb3B0X2ZlYXR1cmVDYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9oaXRFeHRlbnQgT25seSBjaGVja1xuICAgICAqICAgICBmZWF0dXJlcyB0aGF0IGludGVyc2VjdCB0aGlzIGV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHQ9fSBvcHRfZGVjbHV0dGVyVHJlZSBEZWNsdXR0ZXIgdHJlZS5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgRXhlY3V0b3IucHJvdG90eXBlLmV4ZWN1dGVfID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbnRleHRTY2FsZSwgdHJhbnNmb3JtLCBpbnN0cnVjdGlvbnMsIHNuYXBUb1BpeGVsLCBvcHRfZmVhdHVyZUNhbGxiYWNrLCBvcHRfaGl0RXh0ZW50LCBvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgICAgIHZhciBwaXhlbENvb3JkaW5hdGVzO1xuICAgICAgICBpZiAodGhpcy5waXhlbENvb3JkaW5hdGVzXyAmJiBlcXVhbHModHJhbnNmb3JtLCB0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXykpIHtcbiAgICAgICAgICAgIHBpeGVsQ29vcmRpbmF0ZXMgPSB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKHRoaXMuY29vcmRpbmF0ZXMsIDAsIHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoLCAyLCB0cmFuc2Zvcm0sIHRoaXMucGl4ZWxDb29yZGluYXRlc18pO1xuICAgICAgICAgICAgdHJhbnNmb3JtU2V0RnJvbUFycmF5KHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fLCB0cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpID0gMDsgLy8gaW5zdHJ1Y3Rpb24gaW5kZXhcbiAgICAgICAgdmFyIGlpID0gaW5zdHJ1Y3Rpb25zLmxlbmd0aDsgLy8gZW5kIG9mIGluc3RydWN0aW9uc1xuICAgICAgICB2YXIgZCA9IDA7IC8vIGRhdGEgaW5kZXhcbiAgICAgICAgdmFyIGRkOyAvLyBlbmQgb2YgcGVyLWluc3RydWN0aW9uIGRhdGFcbiAgICAgICAgdmFyIGFuY2hvclgsIGFuY2hvclksIHByZXZYLCBwcmV2WSwgcm91bmRYLCByb3VuZFksIGltYWdlLCB0ZXh0LCB0ZXh0S2V5LCBzdHJva2VLZXksIGZpbGxLZXk7XG4gICAgICAgIHZhciBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgIHZhciBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICAgICAgdmFyIGxhc3RGaWxsSW5zdHJ1Y3Rpb24gPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFN0cm9rZUluc3RydWN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIGNvb3JkaW5hdGVDYWNoZSA9IHRoaXMuY29vcmRpbmF0ZUNhY2hlXztcbiAgICAgICAgdmFyIHZpZXdSb3RhdGlvbiA9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICAgICAgdmFyIHZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0gPSBNYXRoLnJvdW5kKE1hdGguYXRhbjIoLXRyYW5zZm9ybVsxXSwgdHJhbnNmb3JtWzBdKSAqIDFlMTIpIC8gMWUxMjtcbiAgICAgICAgdmFyIHN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIuanNcIikuU3RhdGV9ICovICh7XG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgcm90YXRpb246IHZpZXdSb3RhdGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdoZW4gdGhlIGJhdGNoIHNpemUgZ2V0cyB0b28gYmlnLCBwZXJmb3JtYW5jZSBkZWNyZWFzZXMuIDIwMCBpcyBhIGdvb2RcbiAgICAgICAgLy8gYmFsYW5jZSBiZXR3ZWVuIGJhdGNoIHNpemUgYW5kIG51bWJlciBvZiBmaWxsL3N0cm9rZSBpbnN0cnVjdGlvbnMuXG4gICAgICAgIHZhciBiYXRjaFNpemUgPSB0aGlzLmluc3RydWN0aW9ucyAhPSBpbnN0cnVjdGlvbnMgfHwgdGhpcy5vdmVybGFwcyA/IDAgOiAyMDA7XG4gICAgICAgIHZhciAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9ICovIGZlYXR1cmU7XG4gICAgICAgIHZhciB4LCB5LCBjdXJyZW50R2VvbWV0cnk7XG4gICAgICAgIHdoaWxlIChpIDwgaWkpIHtcbiAgICAgICAgICAgIHZhciBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uc1tpXTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0luc3RydWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChpbnN0cnVjdGlvblswXSk7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZOlxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R2VvbWV0cnkgPSBpbnN0cnVjdGlvblszXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmZWF0dXJlLmdldEdlb21ldHJ5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRfaGl0RXh0ZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFpbnRlcnNlY3RzKG9wdF9oaXRFeHRlbnQsIGN1cnJlbnRHZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9QQVRIOlxuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0ZpbGwgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdTdHJva2UgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdGaWxsICYmICFwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlggPSBOYU47XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2WSA9IE5hTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0lSQ0xFOlxuICAgICAgICAgICAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4MSA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICAgICAgICAgIHZhciB5MSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDIgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkyID0gcGl4ZWxDb29yZGluYXRlc1tkICsgM107XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeCA9IHgyIC0geDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeSA9IHkyIC0geTE7XG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEgKyByLCB5MSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHgxLCB5MSwgciwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0xPU0VfUEFUSDpcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTTpcbiAgICAgICAgICAgICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICBkZCA9IGluc3RydWN0aW9uWzJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGluc3RydWN0aW9uWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gaW5zdHJ1Y3Rpb25bNF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IGluc3RydWN0aW9uLmxlbmd0aCA9PSA2ID8gaW5zdHJ1Y3Rpb25bNV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmZlYXR1cmUgPSBmZWF0dXJlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShpIGluIGNvb3JkaW5hdGVDYWNoZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVDYWNoZVtpXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb29yZHMgPSBjb29yZGluYXRlQ2FjaGVbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4ocGl4ZWxDb29yZGluYXRlcywgZCwgZGQsIDIsIGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHNbMF0gPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzWzFdID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMubGVuZ3RoID0gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcihjb29yZHMsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0U6XG4gICAgICAgICAgICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgZGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gKi8gKGluc3RydWN0aW9uWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyBpbiBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls1XSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzZdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzddKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpblggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzhdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpblkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzldKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdGF0ZVdpdGhWaWV3ID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdGF0aW9uID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxMV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2NhbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gKi8gKGluc3RydWN0aW9uWzEyXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlY2x1dHRlckltYWdlV2l0aFRleHQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqLyAoaW5zdHJ1Y3Rpb25bMTRdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZSAmJiBpbnN0cnVjdGlvbi5sZW5ndGggPj0gMTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBsYWJlbCBpbWFnZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzE4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0S2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsxOV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsyMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMjFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbFdpdGhBbmNob3IgPSB0aGlzLmRyYXdMYWJlbFdpdGhQb2ludFBsYWNlbWVudF8odGV4dCwgdGV4dEtleSwgc3Ryb2tlS2V5LCBmaWxsS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gbGFiZWxXaXRoQW5jaG9yLmxhYmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bM10gPSBpbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0T2Zmc2V0WCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclggPSAobGFiZWxXaXRoQW5jaG9yLmFuY2hvclggLSB0ZXh0T2Zmc2V0WCkgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbls0XSA9IGFuY2hvclg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dE9mZnNldFkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzIzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JZID0gKGxhYmVsV2l0aEFuY2hvci5hbmNob3JZIC0gdGV4dE9mZnNldFkpICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bNV0gPSBhbmNob3JZO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bNl0gPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMTNdID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5V2lkdGhzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24ubGVuZ3RoID4gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyNF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdm9pZCAwLCBiYWNrZ3JvdW5kRmlsbCA9IHZvaWQgMCwgYmFja2dyb3VuZFN0cm9rZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uLmxlbmd0aCA+IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoaW5zdHJ1Y3Rpb25bMTVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRGaWxsID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMTZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxN10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZyA9IGRlZmF1bHRQYWRkaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocm90YXRlV2l0aFZpZXcgJiYgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FudmFzIGlzIGV4cGVjdGVkIHRvIGJlIHJvdGF0ZWQgdG8gcmV2ZXJzZSB2aWV3IHJvdGF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gKz0gdmlld1JvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFyb3RhdGVXaXRoVmlldyAmJiAhdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FudmFzIGlzIG5vdCByb3RhdGVkLCBpbWFnZXMgbmVlZCB0byBiZSByb3RhdGVkIGJhY2sgdG8gYmUgbm9ydGgtdXAuXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbiAtPSB2aWV3Um90YXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgZCA8IGRkOyBkICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeVdpZHRocyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzW3dpZHRoSW5kZXgrK10gPCB3aWR0aCAvIHRoaXMucGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmNhbGN1bGF0ZUltYWdlT3JMYWJlbERpbWVuc2lvbnNfKGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQsIHBpeGVsQ29vcmRpbmF0ZXNbZF0sIHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdLCB3aWR0aCwgaGVpZ2h0LCBhbmNob3JYLCBhbmNob3JZLCBvcmlnaW5YLCBvcmlnaW5ZLCByb3RhdGlvbiwgc2NhbGUsIHNuYXBUb1BpeGVsLCBwYWRkaW5nLCBiYWNrZ3JvdW5kRmlsbCB8fCBiYWNrZ3JvdW5kU3Ryb2tlLCBmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7UmVwbGF5SW1hZ2VPckxhYmVsQXJnc30gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChsYXN0RmlsbEluc3RydWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFN0cm9rZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VBcmdzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlRGVjbHV0dGVyQm94ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlICYmIGRlY2x1dHRlckltYWdlV2l0aFRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRlY2x1dHRlckltYWdlV2l0aFRleHRbZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugbm93IGhhdmUgdGhlIGltYWdlIGZvciBhbiBpbWFnZSt0ZXh0IGNvbWJpbmF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0W2RdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmVuZGVyIGFueXRoaW5nIGZvciBub3csIHdhaXQgZm9yIHRoZSB0ZXh0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VBcmdzID0gZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURlY2x1dHRlckJveCA9IGdldERlY2x1dHRlckJveChpbWFnZUFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhpbWFnZURlY2x1dHRlckJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUuY29sbGlkZXMoZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VBcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugbm93IGhhdmUgaW1hZ2UgYW5kIHRleHQgZm9yIGFuIGltYWdlK3RleHQgY29tYmluYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJUcmVlLmluc2VydChpbWFnZURlY2x1dHRlckJveCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgaW1hZ2UgYmVmb3JlIHdlIHJlbmRlciB0aGUgdGV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlT3JMYWJlbF8uYXBwbHkodGhpcywgaW1hZ2VBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJUcmVlLmluc2VydChkaW1lbnNpb25zLmRlY2x1dHRlckJveCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlT3JMYWJlbF8uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkRSQVdfQ0hBUlM6XG4gICAgICAgICAgICAgICAgICAgIHZhciBiZWdpbiA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXNlbGluZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3ZlcmZsb3cgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzRdKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4QW5nbGUgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzZdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lYXN1cmVQaXhlbFJhdGlvID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls4XSk7XG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bOV0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEwXSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzExXSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHRLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzEyXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvU2NhbGUgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEzXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEzXSksXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0U2NhbGUgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGVbMF0gKiBtZWFzdXJlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVsxXSAqIG1lYXN1cmVQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGVkV2lkdGhzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9udCBpbiB0aGlzLndpZHRoc18pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZFdpZHRocyA9IHRoaXMud2lkdGhzX1tmb250XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZFdpZHRocyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWR0aHNfW2ZvbnRdID0gY2FjaGVkV2lkdGhzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXRoTGVuZ3RoID0gbGluZVN0cmluZ0xlbmd0aChwaXhlbENvb3JkaW5hdGVzLCBiZWdpbiwgZW5kLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRMZW5ndGggPSBNYXRoLmFicyh0ZXh0U2NhbGVbMF0pICpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZWRXaWR0aHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3cgfHwgdGV4dExlbmd0aCA8PSBwYXRoTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dEFsaWduID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldLnRleHRBbGlnbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydE0gPSAocGF0aExlbmd0aCAtIHRleHRMZW5ndGgpICogVEVYVF9BTElHTlt0ZXh0QWxpZ25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gZHJhd1RleHRPblBhdGgocGl4ZWxDb29yZGluYXRlcywgYmVnaW4sIGVuZCwgMiwgdGV4dCwgc3RhcnRNLCBtYXhBbmdsZSwgTWF0aC5hYnModGV4dFNjYWxlWzBdKSwgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLCBmb250LCBjYWNoZWRXaWR0aHMsIHZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0gPyAwIDogdGhpcy52aWV3Um90YXRpb25fKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdDaGFyczogaWYgKHBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxSZXBsYXlJbWFnZU9yTGFiZWxBcmdzPn0gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGF5SW1hZ2VPckxhYmVsQXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gdm9pZCAwLCBjYyA9IHZvaWQgMCwgY2hhcnMgPSB2b2lkIDAsIGxhYmVsID0gdm9pZCAwLCBwYXJ0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2VLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjID0gMCwgY2MgPSBwYXJ0cy5sZW5ndGg7IGMgPCBjYzsgKytjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbY107IC8vIHgsIHksIGFuY2hvclgsIHJvdGF0aW9uLCBjaHVua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhcnRbNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKGNoYXJzLCB0ZXh0S2V5LCAnJywgc3Ryb2tlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAocGFydFsyXSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGV4dFNjYWxlWzBdIDwgMCA/IC1zdHJva2VXaWR0aCA6IHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VsaW5lICogbGFiZWwuaGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCgwLjUgLSBiYXNlbGluZSkgKiAyICogc3Ryb2tlV2lkdGggKiB0ZXh0U2NhbGVbMV0pIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTY2FsZVswXSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18obGFiZWwud2lkdGgsIGxhYmVsLmhlaWdodCwgcGFydFswXSwgcGFydFsxXSwgbGFiZWwud2lkdGgsIGxhYmVsLmhlaWdodCwgYW5jaG9yWCwgYW5jaG9yWSwgMCwgMCwgcGFydFszXSwgcGl4ZWxSYXRpb1NjYWxlLCBmYWxzZSwgZGVmYXVsdFBhZGRpbmcsIGZhbHNlLCBmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdF9kZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGRyYXdDaGFycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxheUltYWdlT3JMYWJlbEFyZ3MucHVzaChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoYyA9IDAsIGNjID0gcGFydHMubGVuZ3RoOyBjIDwgY2M7ICsrYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRzW2NdOyAvLyB4LCB5LCBhbmNob3JYLCByb3RhdGlvbiwgY2h1bmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwYXJ0WzRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gdGhpcy5jcmVhdGVMYWJlbChjaGFycywgdGV4dEtleSwgZmlsbEtleSwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAocGFydFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JZID0gYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQgLSBvZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmNhbGN1bGF0ZUltYWdlT3JMYWJlbERpbWVuc2lvbnNfKGxhYmVsLndpZHRoLCBsYWJlbC5oZWlnaHQsIHBhcnRbMF0sIHBhcnRbMV0sIGxhYmVsLndpZHRoLCBsYWJlbC5oZWlnaHQsIGFuY2hvclgsIGFuY2hvclksIDAsIDAsIHBhcnRbM10sIHBpeGVsUmF0aW9TY2FsZSwgZmFsc2UsIGRlZmF1bHRQYWRkaW5nLCBmYWxzZSwgZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhkaW1lbnNpb25zLmRlY2x1dHRlckJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBkcmF3Q2hhcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYXlJbWFnZU9yTGFiZWxBcmdzLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0X2RlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0X2RlY2x1dHRlclRyZWUubG9hZChyZXBsYXlJbWFnZU9yTGFiZWxBcmdzLm1hcChnZXREZWNsdXR0ZXJCb3gpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMCwgaWlfMSA9IHJlcGxheUltYWdlT3JMYWJlbEFyZ3MubGVuZ3RoOyBpXzEgPCBpaV8xOyArK2lfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlT3JMYWJlbF8uYXBwbHkodGhpcywgcmVwbGF5SW1hZ2VPckxhYmVsQXJnc1tpXzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkVORF9HRU9NRVRSWTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9mZWF0dXJlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvcHRfZmVhdHVyZUNhbGxiYWNrKGZlYXR1cmUsIGN1cnJlbnRHZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRklMTDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0ZpbGwrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLk1PVkVfVE9fTElORV9UTzpcbiAgICAgICAgICAgICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICBkZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgICAgICAgICAgICB4ID0gcGl4ZWxDb29yZGluYXRlc1tkXTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgICAgICAgICByb3VuZFggPSAoeCArIDAuNSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICByb3VuZFkgPSAoeSArIDAuNSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm91bmRYICE9PSBwcmV2WCB8fCByb3VuZFkgIT09IHByZXZZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlkgPSByb3VuZFk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChkICs9IDI7IGQgPCBkZDsgZCArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcGl4ZWxDb29yZGluYXRlc1tkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kWCA9ICh4ICsgMC41KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3VuZFkgPSAoeSArIDAuNSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPT0gZGQgLSAyIHx8IHJvdW5kWCAhPT0gcHJldlggfHwgcm91bmRZICE9PSBwcmV2WSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZZID0gcm91bmRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRTpcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZpbGxJbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsaWduRmlsbF8gPSBpbnN0cnVjdGlvblsyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdGaWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0ZpbGwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRTpcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN0cm9rZUluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdHJva2VTdHlsZV8oY29udGV4dCwgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGluc3RydWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5TVFJPS0U6XG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICArK2k7IC8vIGNvbnN1bWUgdGhlIGluc3RydWN0aW9uIGFueXdheSwgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGVuZGluZ0ZpbGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXh0IHRvIGludGVnZXIgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJUcmVlIERlY2x1dHRlciB0cmVlLlxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbnRleHRTY2FsZSwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24sIHNuYXBUb1BpeGVsLCBvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSB2aWV3Um90YXRpb247XG4gICAgICAgIHRoaXMuZXhlY3V0ZV8oY29udGV4dCwgY29udGV4dFNjYWxlLCB0cmFuc2Zvcm0sIHRoaXMuaW5zdHJ1Y3Rpb25zLCBzbmFwVG9QaXhlbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9wdF9kZWNsdXR0ZXJUcmVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0ZlYXR1cmVDYWxsYmFjazxUPj19IG9wdF9mZWF0dXJlQ2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnQ9fSBvcHRfaGl0RXh0ZW50IE9ubHkgY2hlY2tcbiAgICAgKiAgICAgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgdGhpcyBleHRlbnQuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIEV4ZWN1dG9yLnByb3RvdHlwZS5leGVjdXRlSGl0RGV0ZWN0aW9uID0gZnVuY3Rpb24gKGNvbnRleHQsIHRyYW5zZm9ybSwgdmlld1JvdGF0aW9uLCBvcHRfZmVhdHVyZUNhbGxiYWNrLCBvcHRfaGl0RXh0ZW50KSB7XG4gICAgICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZV8oY29udGV4dCwgMSwgdHJhbnNmb3JtLCB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucywgdHJ1ZSwgb3B0X2ZlYXR1cmVDYWxsYmFjaywgb3B0X2hpdEV4dGVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gRXhlY3V0b3I7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRXhlY3V0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeGVjdXRvci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwXG4gKi9cbmltcG9ydCBCdWlsZGVyVHlwZSBmcm9tICcuL0J1aWxkZXJUeXBlLmpzJztcbmltcG9ydCBFeGVjdXRvciBmcm9tICcuL0V4ZWN1dG9yLmpzJztcbmltcG9ydCB7IGJ1ZmZlciwgY3JlYXRlRW1wdHksIGV4dGVuZENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLCBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYW52YXNDb250ZXh0MkQgfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uLy4uL29iai5qcyc7XG5pbXBvcnQgeyBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtMkQgfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0Pn1cbiAqL1xudmFyIE9SREVSID0gW1xuICAgIEJ1aWxkZXJUeXBlLlBPTFlHT04sXG4gICAgQnVpbGRlclR5cGUuQ0lSQ0xFLFxuICAgIEJ1aWxkZXJUeXBlLkxJTkVfU1RSSU5HLFxuICAgIEJ1aWxkZXJUeXBlLklNQUdFLFxuICAgIEJ1aWxkZXJUeXBlLlRFWFQsXG4gICAgQnVpbGRlclR5cGUuREVGQVVMVCxcbl07XG52YXIgRXhlY3V0b3JHcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXggZXh0ZW50IGZvciBjbGlwcGluZy4gV2hlbiBhXG4gICAgICogYG1heEV4dGVudGAgd2FzIHNldCBvbiB0aGUgQnVpbGxkZXIgZm9yIHRoaXMgZXhlY3V0b3IgZ3JvdXAsIHRoZSBzYW1lIGBtYXhFeHRlbnRgXG4gICAgICogc2hvdWxkIGJlIHNldCBoZXJlLCB1bmxlc3MgdGhlIHRhcmdldCBjb250ZXh0IGRvZXMgbm90IGV4Y2VldCB0aGF0IGV4dGVudCAod2hpY2hcbiAgICAgKiBjYW4gYmUgdGhlIGNhc2Ugd2hlbiByZW5kZXJpbmcgdG8gdGlsZXMpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVybGFwcyBUaGUgZXhlY3V0b3IgZ3JvdXAgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4vQnVpbGRlclR5cGUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9ucz4+fSBhbGxJbnN0cnVjdGlvbnNcbiAgICAgKiBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9yZW5kZXJCdWZmZXIgT3B0aW9uYWwgcmVuZGVyaW5nIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeGVjdXRvckdyb3VwKG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgb3ZlcmxhcHMsIGFsbEluc3RydWN0aW9ucywgb3B0X3JlbmRlckJ1ZmZlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heEV4dGVudF8gPSBtYXhFeHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3ZlcmxhcHNfID0gb3ZlcmxhcHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyQnVmZmVyXyA9IG9wdF9yZW5kZXJCdWZmZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuL0V4ZWN1dG9yXCIpLmRlZmF1bHQ+Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZUV4ZWN1dG9yc18oYWxsSW5zdHJ1Y3Rpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuY2xpcCA9IGZ1bmN0aW9uIChjb250ZXh0LCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGZsYXRDbGlwQ29vcmRzID0gdGhpcy5nZXRDbGlwQ29vcmRzKHRyYW5zZm9ybSk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKGZsYXRDbGlwQ29vcmRzWzBdLCBmbGF0Q2xpcENvb3Jkc1sxXSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzJdLCBmbGF0Q2xpcENvb3Jkc1szXSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzRdLCBmbGF0Q2xpcENvb3Jkc1s1XSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzZdLCBmbGF0Q2xpcENvb3Jkc1s3XSk7XG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGV4ZWN1dG9ycyBhbmQgcG9wdWxhdGUgdGhlbSB1c2luZyB0aGUgcHJvdmlkZWQgaW5zdHJ1Y3Rpb25zLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuL0J1aWxkZXJUeXBlLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnM+Pn0gYWxsSW5zdHJ1Y3Rpb25zIFRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuY3JlYXRlRXhlY3V0b3JzXyA9IGZ1bmN0aW9uIChhbGxJbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgekluZGV4IGluIGFsbEluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgdmFyIGV4ZWN1dG9ycyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleF07XG4gICAgICAgICAgICBpZiAoZXhlY3V0b3JzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjdXRvcnMgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdID0gZXhlY3V0b3JzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluc3RydWN0aW9uQnlaaW5kZXggPSBhbGxJbnN0cnVjdGlvbnNbekluZGV4XTtcbiAgICAgICAgICAgIHZhciByZW5kZXJCdWZmZXIgPSBbdGhpcy5yZW5kZXJCdWZmZXJfIHx8IDAsIHRoaXMucmVuZGVyQnVmZmVyXyB8fCAwXTtcbiAgICAgICAgICAgIGZvciAodmFyIGJ1aWxkZXJUeXBlIGluIGluc3RydWN0aW9uQnlaaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25CeVppbmRleFtidWlsZGVyVHlwZV07XG4gICAgICAgICAgICAgICAgZXhlY3V0b3JzW2J1aWxkZXJUeXBlXSA9IG5ldyBFeGVjdXRvcih0aGlzLnJlc29sdXRpb25fLCB0aGlzLnBpeGVsUmF0aW9fLCB0aGlzLm92ZXJsYXBzXywgaW5zdHJ1Y3Rpb25zLCByZW5kZXJCdWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vQnVpbGRlclR5cGUuanNcIikuZGVmYXVsdD59IGV4ZWN1dG9ycyBFeGVjdXRvcnMuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSGFzIGV4ZWN1dG9ycyBvZiB0aGUgcHJvdmlkZWQgdHlwZXMuXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuaGFzRXhlY3V0b3JzID0gZnVuY3Rpb24gKGV4ZWN1dG9ycykge1xuICAgICAgICBmb3IgKHZhciB6SW5kZXggaW4gdGhpcy5leGVjdXRvcnNCeVpJbmRleF8pIHtcbiAgICAgICAgICAgIHZhciBjYW5kaWRhdGVzID0gdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4XTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGV4ZWN1dG9ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4ZWN1dG9yc1tpXSBpbiBjYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQsIG51bWJlcik6IFR9IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gZGVjbHV0dGVyZWRGZWF0dXJlcyBEZWNsdXR0ZXJlZCBmZWF0dXJlcy5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgRXhlY3V0b3JHcm91cC5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgcm90YXRpb24sIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIGRlY2x1dHRlcmVkRmVhdHVyZXMpIHtcbiAgICAgICAgaGl0VG9sZXJhbmNlID0gTWF0aC5yb3VuZChoaXRUb2xlcmFuY2UpO1xuICAgICAgICB2YXIgY29udGV4dFNpemUgPSBoaXRUb2xlcmFuY2UgKiAyICsgMTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IGNvbXBvc2VUcmFuc2Zvcm0odGhpcy5oaXREZXRlY3Rpb25UcmFuc2Zvcm1fLCBoaXRUb2xlcmFuY2UgKyAwLjUsIGhpdFRvbGVyYW5jZSArIDAuNSwgMSAvIHJlc29sdXRpb24sIC0xIC8gcmVzb2x1dGlvbiwgLXJvdGF0aW9uLCAtY29vcmRpbmF0ZVswXSwgLWNvb3JkaW5hdGVbMV0pO1xuICAgICAgICB2YXIgbmV3Q29udGV4dCA9ICF0aGlzLmhpdERldGVjdGlvbkNvbnRleHRfO1xuICAgICAgICBpZiAobmV3Q29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XyA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChjb250ZXh0U2l6ZSwgY29udGV4dFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XztcbiAgICAgICAgaWYgKGNvbnRleHQuY2FudmFzLndpZHRoICE9PSBjb250ZXh0U2l6ZSB8fFxuICAgICAgICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ICE9PSBjb250ZXh0U2l6ZSkge1xuICAgICAgICAgICAgY29udGV4dC5jYW52YXMud2lkdGggPSBjb250ZXh0U2l6ZTtcbiAgICAgICAgICAgIGNvbnRleHQuY2FudmFzLmhlaWdodCA9IGNvbnRleHRTaXplO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFuZXdDb250ZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjb250ZXh0U2l6ZSwgY29udGV4dFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBoaXRFeHRlbnQ7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlckJ1ZmZlcl8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGl0RXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgICAgIGV4dGVuZENvb3JkaW5hdGUoaGl0RXh0ZW50LCBjb29yZGluYXRlKTtcbiAgICAgICAgICAgIGJ1ZmZlcihoaXRFeHRlbnQsIHJlc29sdXRpb24gKiAodGhpcy5yZW5kZXJCdWZmZXJfICsgaGl0VG9sZXJhbmNlKSwgaGl0RXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXhlcyA9IGdldFBpeGVsSW5kZXhBcnJheShoaXRUb2xlcmFuY2UpO1xuICAgICAgICB2YXIgYnVpbGRlclR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmVhdHVyZUNhbGxiYWNrKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgY29udGV4dFNpemUsIGNvbnRleHRTaXplKVxuICAgICAgICAgICAgICAgIC5kYXRhO1xuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMCwgaWkgPSBpbmRleGVzLmxlbmd0aDsgaV8xIDwgaWk7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlRGF0YVtpbmRleGVzW2lfMV1dID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRlY2x1dHRlcmVkRmVhdHVyZXMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWlsZGVyVHlwZSAhPT0gQnVpbGRlclR5cGUuSU1BR0UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGVyVHlwZSAhPT0gQnVpbGRlclR5cGUuVEVYVCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2x1dHRlcmVkRmVhdHVyZXMuaW5kZXhPZihmZWF0dXJlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSAoaW5kZXhlc1tpXzFdIC0gMykgLyA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBoaXRUb2xlcmFuY2UgLSAoaWR4ICUgY29udGV4dFNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBoaXRUb2xlcmFuY2UgLSAoKGlkeCAvIGNvbnRleHRTaXplKSB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdF8xID0gY2FsbGJhY2soZmVhdHVyZSwgZ2VvbWV0cnksIHggKiB4ICsgeSAqIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdF8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgICAgICB2YXIgenMgPSBPYmplY3Qua2V5cyh0aGlzLmV4ZWN1dG9yc0J5WkluZGV4XykubWFwKE51bWJlcik7XG4gICAgICAgIHpzLnNvcnQobnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbik7XG4gICAgICAgIHZhciBpLCBqLCBleGVjdXRvcnMsIGV4ZWN1dG9yLCByZXN1bHQ7XG4gICAgICAgIGZvciAoaSA9IHpzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICB2YXIgekluZGV4S2V5ID0genNbaV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGV4ZWN1dG9ycyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgICAgICAgICBmb3IgKGogPSBPUkRFUi5sZW5ndGggLSAxOyBqID49IDA7IC0taikge1xuICAgICAgICAgICAgICAgIGJ1aWxkZXJUeXBlID0gT1JERVJbal07XG4gICAgICAgICAgICAgICAgZXhlY3V0b3IgPSBleGVjdXRvcnNbYnVpbGRlclR5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChleGVjdXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGV4ZWN1dG9yLmV4ZWN1dGVIaXREZXRlY3Rpb24oY29udGV4dCwgdHJhbnNmb3JtLCByb3RhdGlvbiwgZmVhdHVyZUNhbGxiYWNrLCBoaXRFeHRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQ2xpcCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5nZXRDbGlwQ29vcmRzID0gZnVuY3Rpb24gKHRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgbWF4RXh0ZW50ID0gdGhpcy5tYXhFeHRlbnRfO1xuICAgICAgICBpZiAoIW1heEV4dGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pblggPSBtYXhFeHRlbnRbMF07XG4gICAgICAgIHZhciBtaW5ZID0gbWF4RXh0ZW50WzFdO1xuICAgICAgICB2YXIgbWF4WCA9IG1heEV4dGVudFsyXTtcbiAgICAgICAgdmFyIG1heFkgPSBtYXhFeHRlbnRbM107XG4gICAgICAgIHZhciBmbGF0Q2xpcENvb3JkcyA9IFttaW5YLCBtaW5ZLCBtaW5YLCBtYXhZLCBtYXhYLCBtYXhZLCBtYXhYLCBtaW5ZXTtcbiAgICAgICAgdHJhbnNmb3JtMkQoZmxhdENsaXBDb29yZHMsIDAsIDgsIDIsIHRyYW5zZm9ybSwgZmxhdENsaXBDb29yZHMpO1xuICAgICAgICByZXR1cm4gZmxhdENsaXBDb29yZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaXNFbXB0eSh0aGlzLmV4ZWN1dG9yc0J5WkluZGV4Xyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGVzdCB0byBpbnRlZ2VyIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9CdWlsZGVyVHlwZS5qc1wiKS5kZWZhdWx0Pj19IG9wdF9idWlsZGVyVHlwZXMgT3JkZXJlZCByZXBsYXkgdHlwZXMgdG8gcmVwbGF5LlxuICAgICAqICAgICBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL3JlcGxheX5PUkRFUn1cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHQ9fSBvcHRfZGVjbHV0dGVyVHJlZSBEZWNsdXR0ZXIgdHJlZS5cbiAgICAgKi9cbiAgICBFeGVjdXRvckdyb3VwLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbnRleHRTY2FsZSwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24sIHNuYXBUb1BpeGVsLCBvcHRfYnVpbGRlclR5cGVzLCBvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgICAgIHZhciB6cyA9IE9iamVjdC5rZXlzKHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgenMuc29ydChudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uKTtcbiAgICAgICAgLy8gc2V0dXAgY2xpcHBpbmcgc28gdGhhdCB0aGUgcGFydHMgb2Ygb3Zlci1zaW1wbGlmaWVkIGdlb21ldHJpZXMgYXJlIG5vdFxuICAgICAgICAvLyB2aXNpYmxlIG91dHNpZGUgdGhlIGN1cnJlbnQgZXh0ZW50IHdoZW4gcGFubmluZ1xuICAgICAgICBpZiAodGhpcy5tYXhFeHRlbnRfKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xpcChjb250ZXh0LCB0cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWlsZGVyVHlwZXMgPSBvcHRfYnVpbGRlclR5cGVzID8gb3B0X2J1aWxkZXJUeXBlcyA6IE9SREVSO1xuICAgICAgICB2YXIgaSwgaWksIGosIGpqLCByZXBsYXlzLCByZXBsYXk7XG4gICAgICAgIGlmIChvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICAgICAgenMucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0genMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgdmFyIHpJbmRleEtleSA9IHpzW2ldLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICByZXBsYXlzID0gdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gYnVpbGRlclR5cGVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgYnVpbGRlclR5cGUgPSBidWlsZGVyVHlwZXNbal07XG4gICAgICAgICAgICAgICAgcmVwbGF5ID0gcmVwbGF5c1tidWlsZGVyVHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxheS5leGVjdXRlKGNvbnRleHQsIGNvbnRleHRTY2FsZSwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24sIHNuYXBUb1BpeGVsLCBvcHRfZGVjbHV0dGVyVHJlZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1heEV4dGVudF8pIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRXhlY3V0b3JHcm91cDtcbn0oKSk7XG4vKipcbiAqIFRoaXMgY2FjaGUgaXMgdXNlZCB0byBzdG9yZSBhcnJheXMgb2YgaW5kZXhlcyBmb3IgY2FsY3VsYXRlZCBwaXhlbCBjaXJjbGVzXG4gKiB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZS5cbiAqIEl0IGlzIGEgc3RhdGljIHByb3BlcnR5IHRvIGFsbG93IGVhY2ggUmVwbGF5Z3JvdXAgdG8gYWNjZXNzIGl0LlxuICogQHR5cGUge09iamVjdDxudW1iZXIsIEFycmF5PG51bWJlcj4+fVxuICovXG52YXIgY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGUgPSB7fTtcbi8qKlxuICogVGhpcyBtZXRob2RzIGNyZWF0ZXMgYW4gYXJyYXkgd2l0aCBpbmRleGVzIG9mIGFsbCBwaXhlbHMgd2l0aGluIGEgY2lyY2xlLFxuICogb3JkZXJlZCBieSBob3cgY2xvc2UgdGhleSBhcmUgdG8gdGhlIGNlbnRlci5cbiAqIEEgY2FjaGUgaXMgdXNlZCB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzLlxuICogQHJldHVybnMge0FycmF5PG51bWJlcj59IEFuIGFycmF5IHdpdGggaW5kZXhlcyB3aXRoaW4gYSBjaXJjbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbEluZGV4QXJyYXkocmFkaXVzKSB7XG4gICAgaWYgKGNpcmNsZVBpeGVsSW5kZXhBcnJheUNhY2hlW3JhZGl1c10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXTtcbiAgICB9XG4gICAgdmFyIHNpemUgPSByYWRpdXMgKiAyICsgMTtcbiAgICB2YXIgbWF4RGlzdGFuY2VTcSA9IHJhZGl1cyAqIHJhZGl1cztcbiAgICB2YXIgZGlzdGFuY2VzID0gbmV3IEFycmF5KG1heERpc3RhbmNlU3EgKyAxKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSByYWRpdXM7ICsraSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8PSByYWRpdXM7ICsraikge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlU3EgPSBpICogaSArIGogKiBqO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlU3EgPiBtYXhEaXN0YW5jZVNxKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBkaXN0YW5jZXNbZGlzdGFuY2VTcV07XG4gICAgICAgICAgICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBbXTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZXNbZGlzdGFuY2VTcV0gPSBkaXN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgKyBpKSAqIHNpemUgKyAocmFkaXVzICsgaikpICogNCArIDMpO1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyAtIGkpICogc2l6ZSArIChyYWRpdXMgKyBqKSkgKiA0ICsgMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZS5wdXNoKCgocmFkaXVzICsgaSkgKiBzaXplICsgKHJhZGl1cyAtIGopKSAqIDQgKyAzKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyAtIGkpICogc2l6ZSArIChyYWRpdXMgLSBqKSkgKiA0ICsgMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBwaXhlbEluZGV4ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGlzdGFuY2VzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKGRpc3RhbmNlc1tpXSkge1xuICAgICAgICAgICAgcGl4ZWxJbmRleC5wdXNoLmFwcGx5KHBpeGVsSW5kZXgsIGRpc3RhbmNlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXSA9IHBpeGVsSW5kZXg7XG4gICAgcmV0dXJuIHBpeGVsSW5kZXg7XG59XG5leHBvcnQgZGVmYXVsdCBFeGVjdXRvckdyb3VwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXhlY3V0b3JHcm91cC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGVcbiAqL1xuLy8gRklYTUUgdGVzdCwgZXNwZWNpYWxseSBwb2x5Z29ucyB3aXRoIGhvbGVzIGFuZCBtdWx0aXBvbHlnb25zXG4vLyBGSVhNRSBuZWVkIHRvIGhhbmRsZSBsYXJnZSB0aGljayBmZWF0dXJlcyAod2hlcmUgcGl4ZWwgc2l6ZSBtYXR0ZXJzKVxuLy8gRklYTUUgYWRkIG9mZnNldCBhbmQgZW5kIHRvIG9sL2dlb20vZmxhdC90cmFuc2Zvcm1+dHJhbnNmb3JtMkQ/XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEdlb21ldHJ5VHlwZSBmcm9tICcuLi8uLi9nZW9tL0dlb21ldHJ5VHlwZS5qcyc7XG5pbXBvcnQgVmVjdG9yQ29udGV4dCBmcm9tICcuLi9WZWN0b3JDb250ZXh0LmpzJztcbmltcG9ydCB7IGFzQ29sb3JMaWtlIH0gZnJvbSAnLi4vLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7IGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSwgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgZGVmYXVsdEZpbGxTdHlsZSwgZGVmYXVsdEZvbnQsIGRlZmF1bHRMaW5lQ2FwLCBkZWZhdWx0TGluZURhc2gsIGRlZmF1bHRMaW5lRGFzaE9mZnNldCwgZGVmYXVsdExpbmVKb2luLCBkZWZhdWx0TGluZVdpZHRoLCBkZWZhdWx0TWl0ZXJMaW1pdCwgZGVmYXVsdFN0cm9rZVN0eWxlLCBkZWZhdWx0VGV4dEFsaWduLCBkZWZhdWx0VGV4dEJhc2VsaW5lLCB9IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RzIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IHRyYW5zZm9ybTJEIH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1HZW9tMkQgfSBmcm9tICcuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb25jcmV0ZSBzdWJjbGFzcyBvZiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9WZWN0b3JDb250ZXh0fSB0aGF0IGltcGxlbWVudHNcbiAqIGRpcmVjdCByZW5kZXJpbmcgb2YgZmVhdHVyZXMgYW5kIGdlb21ldHJpZXMgdG8gYW4gSFRNTDUgQ2FudmFzIGNvbnRleHQuXG4gKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgY3JlYXRlZCBpbnRlcm5hbGx5IGJ5IHRoZSBsaWJyYXJ5IGFuZFxuICogcHJvdmlkZWQgdG8gYXBwbGljYXRpb24gY29kZSBhcyB2ZWN0b3JDb250ZXh0IG1lbWJlciBvZiB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50fSBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHBvc3Rjb21wb3NlLCBwcmVjb21wb3NlIGFuZFxuICogcmVuZGVyIGV2ZW50cyBlbWl0dGVkIGJ5IGxheWVycyBhbmQgbWFwcy5cbiAqL1xudmFyIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNJbW1lZGlhdGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3NxdWFyZWRUb2xlcmFuY2UgT3B0aW9uYWwgc3F1YXJlZCB0b2xlcmFuY2UgZm9yIHNpbXBsaWZpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbj19IG9wdF91c2VyVHJhbnNmb3JtIFRyYW5zZm9ybSBmcm9tIHVzZXIgdG8gdmlldyBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKGNvbnRleHQsIHBpeGVsUmF0aW8sIGV4dGVudCwgdHJhbnNmb3JtLCB2aWV3Um90YXRpb24sIG9wdF9zcXVhcmVkVG9sZXJhbmNlLCBvcHRfdXNlclRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHRfID0gY29udGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudF8gPSBleHRlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyA9IG9wdF9zcXVhcmVkVG9sZXJhbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VyVHJhbnNmb3JtXyA9IG9wdF91c2VyVHJhbnNmb3JtO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHRUZXh0U3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VBbmNob3JYXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VBbmNob3JZXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VIZWlnaHRfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZU9wYWNpdHlfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZU9yaWdpblhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZU9yaWdpbllfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVJvdGF0aW9uXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VTY2FsZV8gPSBbMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VXaWR0aF8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRfID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dE9mZnNldFhfID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0T2Zmc2V0WV8gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFJvdGF0aW9uXyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFNjYWxlXyA9IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0U3RhdGVfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxDb29yZGluYXRlc18gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG1wTG9jYWxUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3SW1hZ2VzXyA9IGZ1bmN0aW9uIChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgMiwgdGhpcy50cmFuc2Zvcm1fLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgbG9jYWxUcmFuc2Zvcm0gPSB0aGlzLnRtcExvY2FsVHJhbnNmb3JtXztcbiAgICAgICAgdmFyIGFscGhhID0gY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGEgKiB0aGlzLmltYWdlT3BhY2l0eV87XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gdGhpcy5pbWFnZVJvdGF0aW9uXztcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18pIHtcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcGl4ZWxDb29yZGluYXRlc1tpXSAtIHRoaXMuaW1hZ2VBbmNob3JYXztcbiAgICAgICAgICAgIHZhciB5ID0gcGl4ZWxDb29yZGluYXRlc1tpICsgMV0gLSB0aGlzLmltYWdlQW5jaG9yWV87XG4gICAgICAgICAgICBpZiAocm90YXRpb24gIT09IDAgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlU2NhbGVfWzBdICE9IDEgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlU2NhbGVfWzFdICE9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyWCA9IHggKyB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlclkgPSB5ICsgdGhpcy5pbWFnZUFuY2hvcllfO1xuICAgICAgICAgICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0obG9jYWxUcmFuc2Zvcm0sIGNlbnRlclgsIGNlbnRlclksIDEsIDEsIHJvdGF0aW9uLCAtY2VudGVyWCwgLWNlbnRlclkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtLmFwcGx5KGNvbnRleHQsIGxvY2FsVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuaW1hZ2VTY2FsZV9bMF0sIHRoaXMuaW1hZ2VTY2FsZV9bMV0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmltYWdlT3JpZ2luWF8sIHRoaXMuaW1hZ2VPcmlnaW5ZXywgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8sIC10aGlzLmltYWdlQW5jaG9yWF8sIC10aGlzLmltYWdlQW5jaG9yWV8sIHRoaXMuaW1hZ2VXaWR0aF8sIHRoaXMuaW1hZ2VIZWlnaHRfKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmltYWdlT3JpZ2luWF8sIHRoaXMuaW1hZ2VPcmlnaW5ZXywgdGhpcy5pbWFnZVdpZHRoXywgdGhpcy5pbWFnZUhlaWdodF8sIHgsIHksIHRoaXMuaW1hZ2VXaWR0aF8sIHRoaXMuaW1hZ2VIZWlnaHRfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbWFnZU9wYWNpdHlfICE9IDEpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3VGV4dF8gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgICAgIGlmICghdGhpcy50ZXh0U3RhdGVfIHx8IHRoaXMudGV4dF8gPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dEZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy50ZXh0RmlsbFN0YXRlXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMudGV4dFN0cm9rZVN0YXRlXyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDb250ZXh0VGV4dFN0YXRlXyh0aGlzLnRleHRTdGF0ZV8pO1xuICAgICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdGhpcy50cmFuc2Zvcm1fLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLnRleHRSb3RhdGlvbl87XG4gICAgICAgIGlmICh0aGlzLnRleHRSb3RhdGVXaXRoVmlld18pIHtcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbb2Zmc2V0XSArIHRoaXMudGV4dE9mZnNldFhfO1xuICAgICAgICAgICAgdmFyIHkgPSBwaXhlbENvb3JkaW5hdGVzW29mZnNldCArIDFdICsgdGhpcy50ZXh0T2Zmc2V0WV87XG4gICAgICAgICAgICBpZiAocm90YXRpb24gIT09IDAgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRTY2FsZV9bMF0gIT0gMSB8fFxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFNjYWxlX1sxXSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsVHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybSh0aGlzLnRtcExvY2FsVHJhbnNmb3JtXywgeCwgeSwgMSwgMSwgcm90YXRpb24sIC14LCAteSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy50ZXh0U2NhbGVfWzBdLCB0aGlzLnRleHRTY2FsZV9bMV0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMudGV4dF8sIDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlIENsb3NlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBlbmQgRW5kLlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5tb3ZlVG9MaW5lVG9fID0gZnVuY3Rpb24gKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY2xvc2UpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICB2YXIgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgdGhpcy50cmFuc2Zvcm1fLCB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocGl4ZWxDb29yZGluYXRlc1swXSwgcGl4ZWxDb29yZGluYXRlc1sxXSk7XG4gICAgICAgIHZhciBsZW5ndGggPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGNsb3NlKSB7XG4gICAgICAgICAgICBsZW5ndGggLT0gMjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwaXhlbENvb3JkaW5hdGVzW2ldLCBwaXhlbENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsb3NlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdSaW5nc18gPSBmdW5jdGlvbiAoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMubW92ZVRvTGluZVRvXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1tpXSwgc3RyaWRlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgY2lyY2xlIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICAgKiB0aGUgY3VycmVudCBmaWxsIGFuZCBzdHJva2Ugc3R5bGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8gfHwgdGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRGaWxsU3RhdGVfKHRoaXMuZmlsbFN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm1HZW9tMkQoZ2VvbWV0cnksIHRoaXMudHJhbnNmb3JtXywgdGhpcy5waXhlbENvb3JkaW5hdGVzXyk7XG4gICAgICAgICAgICB2YXIgZHggPSBwaXhlbENvb3JkaW5hdGVzWzJdIC0gcGl4ZWxDb29yZGluYXRlc1swXTtcbiAgICAgICAgICAgIHZhciBkeSA9IHBpeGVsQ29vcmRpbmF0ZXNbM10gLSBwaXhlbENvb3JkaW5hdGVzWzFdO1xuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5hcmMocGl4ZWxDb29yZGluYXRlc1swXSwgcGl4ZWxDb29yZGluYXRlc1sxXSwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZ2VvbWV0cnkuZ2V0Q2VudGVyKCksIDAsIDIsIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlbmRlcmluZyBzdHlsZS4gIE5vdGUgdGhhdCBzaW5jZSB0aGlzIGlzIGFuIGltbWVkaWF0ZSByZW5kZXJpbmcgQVBJLFxuICAgICAqIGFueSBgekluZGV4YCBvbiB0aGUgcHJvdmlkZWQgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBUaGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGUoc3R5bGUuZ2V0RmlsbCgpLCBzdHlsZS5nZXRTdHJva2UoKSk7XG4gICAgICAgIHRoaXMuc2V0SW1hZ2VTdHlsZShzdHlsZS5nZXRJbWFnZSgpKTtcbiAgICAgICAgdGhpcy5zZXRUZXh0U3R5bGUoc3R5bGUuZ2V0VGV4dCgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBDYWxsXG4gICAgICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZSNzZXRTdHlsZX0gZmlyc3QgdG8gc2V0IHRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeSB0byByZW5kZXIuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3R2VvbWV0cnkgPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuUE9JTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3UG9pbnQoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuTElORV9TVFJJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TGluZVN0cmluZyhcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLlBPTFlHT046XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3UG9seWdvbihcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPSU5UOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd011bHRpUG9pbnQoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5NVUxUSV9MSU5FX1NUUklORzpcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNdWx0aUxpbmVTdHJpbmcoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2VvbWV0cnlUeXBlLk1VTFRJX1BPTFlHT046XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2x5Z29uKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdlb21ldHJ5VHlwZS5HRU9NRVRSWV9DT0xMRUNUSU9OOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dlb21ldHJ5Q29sbGVjdGlvbihcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHZW9tZXRyeVR5cGUuQ0lSQ0xFOlxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NpcmNsZShcbiAgICAgICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgZmVhdHVyZSBpbnRvIHRoZSBjYW52YXMuICBOb3RlIHRoYXQgYW55IGB6SW5kZXhgIG9uIHRoZSBwcm92aWRlZFxuICAgICAqIHN0eWxlIHdpbGwgYmUgaWdub3JlZCAtIGZlYXR1cmVzIGFyZSByZW5kZXJlZCBpbW1lZGlhdGVseSBpbiB0aGUgb3JkZXIgdGhhdFxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZC4gIElmIHlvdSBuZWVkIGB6SW5kZXhgIHN1cHBvcnQsIHlvdSBzaG91bGQgYmUgdXNpbmcgYW5cbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3Rvcn5WZWN0b3JMYXllcn0gaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUsIHN0eWxlKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgICAgICAgaWYgKCFnZW9tZXRyeSB8fCAhaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3R5bGUoc3R5bGUpO1xuICAgICAgICB0aGlzLmRyYXdHZW9tZXRyeShnZW9tZXRyeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBHZW9tZXRyeUNvbGxlY3Rpb24gdG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kXG4gICAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZXMgYXBwcm9wcmlhdGUgZm9yIGVhY2ggZ2VvbWV0cnkgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5IGNvbGxlY3Rpb24uXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdHZW9tZXRyeUNvbGxlY3Rpb24gPSBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIGdlb21ldHJpZXMgPSBnZW9tZXRyeS5nZXRHZW9tZXRyaWVzQXJyYXkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdHZW9tZXRyeShnZW9tZXRyaWVzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgUG9pbnQgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgICAqIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2ludCBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuZHJhd1BvaW50ID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZCh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLCB0aGlzLnVzZXJUcmFuc2Zvcm1fKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIGlmICh0aGlzLmltYWdlXykge1xuICAgICAgICAgICAgdGhpcy5kcmF3SW1hZ2VzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIE11bHRpUG9pbnQgZ2VvbWV0cnkgIGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kXG4gICAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TXVsdGlQb2ludCA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZCh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLCB0aGlzLnVzZXJUcmFuc2Zvcm1fKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgIGlmICh0aGlzLmltYWdlXykge1xuICAgICAgICAgICAgdGhpcy5kcmF3SW1hZ2VzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIExpbmVTdHJpbmcgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgICAqIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IExpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXdMaW5lU3RyaW5nID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sIHRoaXMudXNlclRyYW5zZm9ybV8pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgZ2VvbWV0cnkuZ2V0U3RyaWRlKCksIGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICAgICAgICB2YXIgZmxhdE1pZHBvaW50ID0gZ2VvbWV0cnkuZ2V0RmxhdE1pZHBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0TWlkcG9pbnQsIDAsIDIsIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZVxuICAgICAqIGFuZCB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TXVsdGlMaW5lU3RyaW5nID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnZW9tZXRyeUV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgICAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeUV4dGVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgICAgICB2YXIgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBlbmRzID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKTtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLm1vdmVUb0xpbmVUb18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbaV0sIHN0cmlkZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBmbGF0TWlkcG9pbnRzID0gZ2VvbWV0cnkuZ2V0RmxhdE1pZHBvaW50cygpO1xuICAgICAgICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdE1pZHBvaW50cywgMCwgZmxhdE1pZHBvaW50cy5sZW5ndGgsIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBQb2x5Z29uIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICAgKiB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZCh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLCB0aGlzLnVzZXJUcmFuc2Zvcm1fKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfIHx8IHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3UmluZ3NfKGdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksIDAsIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKSwgZ2VvbWV0cnkuZ2V0U3RyaWRlKCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBmbGF0SW50ZXJpb3JQb2ludCA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0SW50ZXJpb3JQb2ludCwgMCwgMiwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciBNdWx0aVBvbHlnb24gZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTXVsdGlQb2x5Z29uIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5kcmF3TXVsdGlQb2x5Z29uID0gZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQodGhpcy5zcXVhcmVkVG9sZXJhbmNlXywgdGhpcy51c2VyVHJhbnNmb3JtXykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXyB8fCB0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRGaWxsU3RhdGVfKHRoaXMuZmlsbFN0YXRlXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgICAgICAgdmFyIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBlbmRzcyA9IGdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgICAgICAgICB2YXIgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3UmluZ3NfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhciBmbGF0SW50ZXJpb3JQb2ludHMgPSBnZW9tZXRyeS5nZXRGbGF0SW50ZXJpb3JQb2ludHMoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRJbnRlcmlvclBvaW50cywgMCwgZmxhdEludGVyaW9yUG9pbnRzLmxlbmd0aCwgMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX0gZmlsbFN0YXRlIEZpbGwgc3RhdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0Q29udGV4dEZpbGxTdGF0ZV8gPSBmdW5jdGlvbiAoZmlsbFN0YXRlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgdmFyIGNvbnRleHRGaWxsU3RhdGUgPSB0aGlzLmNvbnRleHRGaWxsU3RhdGVfO1xuICAgICAgICBpZiAoIWNvbnRleHRGaWxsU3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBmaWxsU3RhdGUuZmlsbFN0eWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0RmlsbFN0YXRlLmZpbGxTdHlsZSAhPSBmaWxsU3RhdGUuZmlsbFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dEZpbGxTdGF0ZS5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9IHN0cm9rZVN0YXRlIFN0cm9rZSBzdGF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyLnByb3RvdHlwZS5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfID0gZnVuY3Rpb24gKHN0cm9rZVN0YXRlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgICAgdmFyIGNvbnRleHRTdHJva2VTdGF0ZSA9IHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgaWYgKCFjb250ZXh0U3Ryb2tlU3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5zZXRMaW5lRGFzaCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3RhdGUubGluZURhc2gpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHJva2VTdGF0ZS5saW5lSm9pbjtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3Ryb2tlU3RhdGUubGluZVdpZHRoO1xuICAgICAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgbGluZUpvaW46IHN0cm9rZVN0YXRlLmxpbmVKb2luLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogc3Ryb2tlU3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZUNhcCAhPSBzdHJva2VTdGF0ZS5saW5lQ2FwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVDYXAgPSBzdHJva2VTdGF0ZS5saW5lQ2FwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dC5zZXRMaW5lRGFzaCkge1xuICAgICAgICAgICAgICAgIGlmICghZXF1YWxzKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaCwgc3Ryb2tlU3RhdGUubGluZURhc2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaCA9IHN0cm9rZVN0YXRlLmxpbmVEYXNoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgIT0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVKb2luICE9IHN0cm9rZVN0YXRlLmxpbmVKb2luKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0cm9rZVN0YXRlLmxpbmVKb2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lV2lkdGggIT0gc3Ryb2tlU3RhdGUubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCAhPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLm1pdGVyTGltaXQgPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0O1xuICAgICAgICAgICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlICE9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9IHRleHRTdGF0ZSBUZXh0IHN0YXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldENvbnRleHRUZXh0U3RhdGVfID0gZnVuY3Rpb24gKHRleHRTdGF0ZSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICAgIHZhciBjb250ZXh0VGV4dFN0YXRlID0gdGhpcy5jb250ZXh0VGV4dFN0YXRlXztcbiAgICAgICAgdmFyIHRleHRBbGlnbiA9IHRleHRTdGF0ZS50ZXh0QWxpZ25cbiAgICAgICAgICAgID8gdGV4dFN0YXRlLnRleHRBbGlnblxuICAgICAgICAgICAgOiBkZWZhdWx0VGV4dEFsaWduO1xuICAgICAgICBpZiAoIWNvbnRleHRUZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAvKiogQHR5cGUge0NhbnZhc1RleHRBbGlnbn0gKi8gKHRleHRBbGlnbik7XG4gICAgICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEJhc2VsaW5lfSAqLyAodGV4dFN0YXRlLnRleHRCYXNlbGluZSk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRUZXh0U3RhdGVfID0ge1xuICAgICAgICAgICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogdGV4dEFsaWduLFxuICAgICAgICAgICAgICAgIHRleHRCYXNlbGluZTogdGV4dFN0YXRlLnRleHRCYXNlbGluZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS5mb250ICE9IHRleHRTdGF0ZS5mb250KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFRleHRTdGF0ZS5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS50ZXh0QWxpZ24gIT0gdGV4dEFsaWduKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFRleHRTdGF0ZS50ZXh0QWxpZ24gPSAvKiogQHR5cGUge0NhbnZhc1RleHRBbGlnbn0gKi8gKHRleHRBbGlnbik7XG4gICAgICAgICAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAvKiogQHR5cGUge0NhbnZhc1RleHRBbGlnbn0gKi8gKHRleHRBbGlnbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgIT0gdGV4dFN0YXRlLnRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRUZXh0U3RhdGUudGV4dEJhc2VsaW5lID0gLyoqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9ICovICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IC8qKiBAdHlwZSB7Q2FudmFzVGV4dEJhc2VsaW5lfSAqLyAodGV4dFN0YXRlLnRleHRCYXNlbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmlsbCBhbmQgc3Ryb2tlIHN0eWxlIGZvciBzdWJzZXF1ZW50IGRyYXcgb3BlcmF0aW9ucy4gIFRvIGNsZWFyXG4gICAgICogZWl0aGVyIGZpbGwgb3Igc3Ryb2tlIHN0eWxlcywgcGFzcyBudWxsIGZvciB0aGUgYXBwcm9wcmlhdGUgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0RmlsbFN0cm9rZVN0eWxlID0gZnVuY3Rpb24gKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgaWYgKCFmaWxsU3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IGFzQ29sb3JMaWtlKGZpbGxTdHlsZUNvbG9yID8gZmlsbFN0eWxlQ29sb3IgOiBkZWZhdWx0RmlsbFN0eWxlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdHJva2VTdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5zdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlQ29sb3IgPSBzdHJva2VTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZVN0eWxlTGluZUNhcCA9IHN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZUxpbmVKb2luID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZVdpZHRoID0gc3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VTdHlsZU1pdGVyTGltaXQgPSBzdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgICAgICB0aGlzLnN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUNhcFxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lQ2FwLFxuICAgICAgICAgICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdHlsZUxpbmVEYXNoID8gc3Ryb2tlU3R5bGVMaW5lRGFzaCA6IGRlZmF1bHRMaW5lRGFzaCxcbiAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgbGluZUpvaW46IHN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUpvaW5cbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZUpvaW4sXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoOiB0aGlzLnBpeGVsUmF0aW9fICpcbiAgICAgICAgICAgICAgICAgICAgKHN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHJva2VTdHlsZVdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lV2lkdGgpLFxuICAgICAgICAgICAgICAgIG1pdGVyTGltaXQ6IHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IGFzQ29sb3JMaWtlKHN0cm9rZVN0eWxlQ29sb3IgPyBzdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaW1hZ2Ugc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvIHJlbW92ZVxuICAgICAqIHRoZSBpbWFnZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICAgKi9cbiAgICBDYW52YXNJbW1lZGlhdGVSZW5kZXJlci5wcm90b3R5cGUuc2V0SW1hZ2VTdHlsZSA9IGZ1bmN0aW9uIChpbWFnZVN0eWxlKSB7XG4gICAgICAgIGlmICghaW1hZ2VTdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGltYWdlU2l6ZSA9IGltYWdlU3R5bGUuZ2V0U2l6ZSgpO1xuICAgICAgICAgICAgaWYgKCFpbWFnZVNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VBbmNob3IgPSBpbWFnZVN0eWxlLmdldEFuY2hvcigpO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FIHBpeGVsIHJhdGlvXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlSW1hZ2UgPSBpbWFnZVN0eWxlLmdldEltYWdlKDEpO1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZU9yaWdpbiA9IGltYWdlU3R5bGUuZ2V0T3JpZ2luKCk7XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlU2NhbGUgPSBpbWFnZVN0eWxlLmdldFNjYWxlQXJyYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlQW5jaG9yWF8gPSBpbWFnZUFuY2hvclswXTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlQW5jaG9yWV8gPSBpbWFnZUFuY2hvclsxXTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlSGVpZ2h0XyA9IGltYWdlU2l6ZVsxXTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlXyA9IGltYWdlSW1hZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9wYWNpdHlfID0gaW1hZ2VTdHlsZS5nZXRPcGFjaXR5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9yaWdpblhfID0gaW1hZ2VPcmlnaW5bMF07XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9yaWdpbllfID0gaW1hZ2VPcmlnaW5bMV07XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3XyA9IGltYWdlU3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlUm90YXRpb25fID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VTY2FsZV8gPSBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxSYXRpb18gKiBpbWFnZVNjYWxlWzBdLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogaW1hZ2VTY2FsZVsxXSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8gPSBpbWFnZVNpemVbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGV4dCBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBQYXNzIG51bGwgdG9cbiAgICAgKiByZW1vdmUgdGhlIHRleHQgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dFN0eWxlIFRleHQgc3R5bGUuXG4gICAgICovXG4gICAgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIucHJvdG90eXBlLnNldFRleHRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0U3R5bGUpIHtcbiAgICAgICAgaWYgKCF0ZXh0U3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dF8gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgICAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRGaWxsU3R5bGVDb2xvciA9IHRleHRGaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0ge1xuICAgICAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IGFzQ29sb3JMaWtlKHRleHRGaWxsU3R5bGVDb2xvciA/IHRleHRGaWxsU3R5bGVDb2xvciA6IGRlZmF1bHRGaWxsU3R5bGUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dFN0cm9rZVN0eWxlID0gdGV4dFN0eWxlLmdldFN0cm9rZSgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0U3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUNvbG9yID0gdGV4dFN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRTdHJva2VTdHlsZUxpbmVDYXAgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVXaWR0aCA9IHRleHRTdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gdGV4dFN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVDYXA6IHRleHRTdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lQ2FwLFxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaDogdGV4dFN0cm9rZVN0eWxlTGluZURhc2hcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTGluZURhc2hcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICAgICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lSm9pbjogdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pblxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZUpvaW4sXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogdGV4dFN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBtaXRlckxpbWl0OiB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTWl0ZXJMaW1pdFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IGFzQ29sb3JMaWtlKHRleHRTdHJva2VTdHlsZUNvbG9yID8gdGV4dFN0cm9rZVN0eWxlQ29sb3IgOiBkZWZhdWx0U3Ryb2tlU3R5bGUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dEZvbnQgPSB0ZXh0U3R5bGUuZ2V0Rm9udCgpO1xuICAgICAgICAgICAgdmFyIHRleHRPZmZzZXRYID0gdGV4dFN0eWxlLmdldE9mZnNldFgoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0T2Zmc2V0WSA9IHRleHRTdHlsZS5nZXRPZmZzZXRZKCk7XG4gICAgICAgICAgICB2YXIgdGV4dFJvdGF0ZVdpdGhWaWV3ID0gdGV4dFN0eWxlLmdldFJvdGF0ZVdpdGhWaWV3KCk7XG4gICAgICAgICAgICB2YXIgdGV4dFJvdGF0aW9uID0gdGV4dFN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICB2YXIgdGV4dFNjYWxlID0gdGV4dFN0eWxlLmdldFNjYWxlQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0VGV4dCA9IHRleHRTdHlsZS5nZXRUZXh0KCk7XG4gICAgICAgICAgICB2YXIgdGV4dFRleHRBbGlnbiA9IHRleHRTdHlsZS5nZXRUZXh0QWxpZ24oKTtcbiAgICAgICAgICAgIHZhciB0ZXh0VGV4dEJhc2VsaW5lID0gdGV4dFN0eWxlLmdldFRleHRCYXNlbGluZSgpO1xuICAgICAgICAgICAgdGhpcy50ZXh0U3RhdGVfID0ge1xuICAgICAgICAgICAgICAgIGZvbnQ6IHRleHRGb250ICE9PSB1bmRlZmluZWQgPyB0ZXh0Rm9udCA6IGRlZmF1bHRGb250LFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogdGV4dFRleHRBbGlnbiAhPT0gdW5kZWZpbmVkID8gdGV4dFRleHRBbGlnbiA6IGRlZmF1bHRUZXh0QWxpZ24sXG4gICAgICAgICAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0VGV4dEJhc2VsaW5lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyB0ZXh0VGV4dEJhc2VsaW5lXG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFRleHRCYXNlbGluZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnRleHRfID0gdGV4dFRleHQgIT09IHVuZGVmaW5lZCA/IHRleHRUZXh0IDogJyc7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRYXyA9XG4gICAgICAgICAgICAgICAgdGV4dE9mZnNldFggIT09IHVuZGVmaW5lZCA/IHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0T2Zmc2V0WCA6IDA7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmZzZXRZXyA9XG4gICAgICAgICAgICAgICAgdGV4dE9mZnNldFkgIT09IHVuZGVmaW5lZCA/IHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0T2Zmc2V0WSA6IDA7XG4gICAgICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPVxuICAgICAgICAgICAgICAgIHRleHRSb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gdGV4dFJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSB0ZXh0Um90YXRpb24gIT09IHVuZGVmaW5lZCA/IHRleHRSb3RhdGlvbiA6IDA7XG4gICAgICAgICAgICB0aGlzLnRleHRTY2FsZV8gPSBbXG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbFJhdGlvXyAqIHRleHRTY2FsZVswXSxcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogdGV4dFNjYWxlWzFdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyO1xufShWZWN0b3JDb250ZXh0KSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNJbW1lZGlhdGVSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltbWVkaWF0ZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvbkFuY2hvclVuaXRzXG4gKi9cbi8qKlxuICogSWNvbiBhbmNob3IgdW5pdHMuIE9uZSBvZiAnZnJhY3Rpb24nLCAncGl4ZWxzJy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBBbmNob3IgaXMgYSBmcmFjdGlvblxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGUkFDVElPTjogJ2ZyYWN0aW9uJyxcbiAgICAvKipcbiAgICAgKiBBbmNob3IgaXMgaW4gcGl4ZWxzXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFBJWEVMUzogJ3BpeGVscycsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbkFuY2hvclVuaXRzLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uT3JpZ2luXG4gKi9cbi8qKlxuICogSWNvbiBvcmlnaW4uIE9uZSBvZiAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0JywgJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogT3JpZ2luIGlzIGF0IGJvdHRvbSBsZWZ0XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnLFxuICAgIC8qKlxuICAgICAqIE9yaWdpbiBpcyBhdCBib3R0b20gcmlnaHRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQk9UVE9NX1JJR0hUOiAnYm90dG9tLXJpZ2h0JyxcbiAgICAvKipcbiAgICAgKiBPcmlnaW4gaXMgYXQgdG9wIGxlZnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVE9QX0xFRlQ6ICd0b3AtbGVmdCcsXG4gICAgLyoqXG4gICAgICogT3JpZ2luIGlzIGF0IHRvcCByaWdodFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUT1BfUklHSFQ6ICd0b3AtcmlnaHQnLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUljb25PcmlnaW4uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZUJhc2VcbiAqL1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4vdXRpbC5qcyc7XG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgSW1hZ2VCYXNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZUJhc2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VCYXNlKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgc3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVudCA9IGV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEltYWdlQmFzZS5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRFeHRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gSW1hZ2UuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsUmF0aW8uXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbFJhdGlvXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmdldFJlc29sdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMucmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gU3RhdGUuXG4gICAgICovXG4gICAgSW1hZ2VCYXNlLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKi9cbiAgICBJbWFnZUJhc2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFic3RyYWN0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VCYXNlO1xufShFdmVudFRhcmdldCkpO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VCYXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VCYXNlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlQmFzZSBmcm9tICcuL0ltYWdlQmFzZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHsgSU1BR0VfREVDT0RFIH0gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHsgZ2V0SGVpZ2h0IH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgbGlzdGVuT25jZSwgdW5saXN0ZW5CeUtleSB9IGZyb20gJy4vZXZlbnRzLmpzJztcbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvSW1hZ2V+SW1hZ2V9IGZvciB0aGUgaW1hZ2UgYW5kIGFcbiAqIGB7c3RyaW5nfWAgZm9yIHRoZSBzcmMgYXMgYXJndW1lbnRzLiBJdCBpcyBzdXBwb3NlZCB0byBtYWtlIGl0IHNvIHRoZVxuICogdW5kZXJseWluZyBpbWFnZSB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlfkltYWdlI2dldEltYWdlfSBpcyBhc3NpZ25lZCB0aGVcbiAqIGNvbnRlbnQgc3BlY2lmaWVkIGJ5IHRoZSBzcmMuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IGlzXG4gKlxuICogICAgIGZ1bmN0aW9uKGltYWdlLCBzcmMpIHtcbiAqICAgICAgIGltYWdlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogICAgIH1cbiAqXG4gKiBQcm92aWRpbmcgYSBjdXN0b20gYGltYWdlTG9hZEZ1bmN0aW9uYCBjYW4gYmUgdXNlZnVsIHRvIGxvYWQgaW1hZ2VzIHdpdGhcbiAqIHBvc3QgcmVxdWVzdHMgb3IgLSBpbiBnZW5lcmFsIC0gdGhyb3VnaCBYSFIgcmVxdWVzdHMsIHdoZXJlIHRoZSBzcmMgb2YgdGhlXG4gKiBpbWFnZSBlbGVtZW50IHdvdWxkIGJlIHNldCB0byBhIGRhdGEgVVJJIHdoZW4gdGhlIGNvbnRlbnQgaXMgbG9hZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihJbWFnZVdyYXBwZXIsIHN0cmluZyk6IHZvaWR9IExvYWRGdW5jdGlvblxuICogQGFwaVxuICovXG52YXIgSW1hZ2VXcmFwcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVdyYXBwZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBJbWFnZSBzb3VyY2UgVVJJLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgICAqIEBwYXJhbSB7TG9hZEZ1bmN0aW9ufSBpbWFnZUxvYWRGdW5jdGlvbiBJbWFnZSBsb2FkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEltYWdlV3JhcHBlcihleHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIHNyYywgY3Jvc3NPcmlnaW4sIGltYWdlTG9hZEZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgSW1hZ2VTdGF0ZS5JRExFKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNyY18gPSBzcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgX3RoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLklETEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TG9hZEZ1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fID0gaW1hZ2VMb2FkRnVuY3Rpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhY2tzIGxvYWRpbmcgb3IgcmVhZCBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEltYWdlV3JhcHBlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2VFcnJvcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkVSUk9SO1xuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhY2tzIHN1Y2Nlc3NmdWwgaW1hZ2UgbG9hZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS5oYW5kbGVJbWFnZUxvYWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IGdldEhlaWdodCh0aGlzLmV4dGVudCkgLyB0aGlzLmltYWdlXy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BREVEO1xuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgaW1hZ2Ugb3IgcmV0cnkgaWYgbG9hZGluZyBwcmV2aW91c2x5IGZhaWxlZC5cbiAgICAgKiBMb2FkaW5nIGlzIHRha2VuIGNhcmUgb2YgYnkgdGhlIHRpbGUgcXVldWUsIGFuZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGlzXG4gICAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJbWFnZVdyYXBwZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuSURMRSB8fCB0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkxPQURJTkc7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fKHRoaXMsIHRoaXMuc3JjXyk7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXyA9IGxpc3RlbkltYWdlKHRoaXMuaW1hZ2VfLCB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSwgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICAgICAqL1xuICAgIEltYWdlV3JhcHBlci5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VXcmFwcGVyLnByb3RvdHlwZS51bmxpc3RlbkltYWdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VXcmFwcGVyO1xufShJbWFnZUJhc2UpKTtcbi8qKlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6YW55fSBsb2FkSGFuZGxlciBMb2FkIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbigpOmFueX0gZXJyb3JIYW5kbGVyIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHJldHVybiB7ZnVuY3Rpb24oKTp2b2lkfSBDYWxsYmFjayB0byBzdG9wIGxpc3RlbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbkltYWdlKGltYWdlLCBsb2FkSGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XG4gICAgdmFyIGltZyA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKGltYWdlKTtcbiAgICBpZiAoaW1nLnNyYyAmJiBJTUFHRV9ERUNPREUpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBpbWcuZGVjb2RlKCk7XG4gICAgICAgIHZhciBsaXN0ZW5pbmdfMSA9IHRydWU7XG4gICAgICAgIHZhciB1bmxpc3RlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxpc3RlbmluZ18xID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHByb21pc2VcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5pbmdfMSkge1xuICAgICAgICAgICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuaW5nXzEpIHtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogVW5jb25kaXRpb25hbGx5IGNhbGwgZXJyb3JIYW5kbGVyKCkgd2hlbiB0aGlzIGJ1ZyBpcyBmaXhlZCB1cHN0cmVhbTpcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5ODUyN1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnRW5jb2RpbmdFcnJvcicgJiZcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSA9PT0gJ0ludmFsaWQgaW1hZ2UgdHlwZS4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdW5saXN0ZW47XG4gICAgfVxuICAgIHZhciBsaXN0ZW5lcktleXMgPSBbXG4gICAgICAgIGxpc3Rlbk9uY2UoaW1nLCBFdmVudFR5cGUuTE9BRCwgbG9hZEhhbmRsZXIpLFxuICAgICAgICBsaXN0ZW5PbmNlKGltZywgRXZlbnRUeXBlLkVSUk9SLCBlcnJvckhhbmRsZXIpLFxuICAgIF07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVubGlzdGVuKCkge1xuICAgICAgICBsaXN0ZW5lcktleXMuZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2UuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ljb25JbWFnZVxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4uL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHsgYXNTdHJpbmcgfSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYW52YXNDb250ZXh0MkQgfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHsgc2hhcmVkIGFzIGljb25JbWFnZUNhY2hlIH0gZnJvbSAnLi9JY29uSW1hZ2VDYWNoZS5qcyc7XG5pbXBvcnQgeyBsaXN0ZW5JbWFnZSB9IGZyb20gJy4uL0ltYWdlLmpzJztcbi8qKlxuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqL1xudmFyIHRhaW50ZWRUZXN0Q29udGV4dCA9IG51bGw7XG52YXIgSWNvbkltYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJY29uSW1hZ2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHNyYyBTcmMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gaW1hZ2VTdGF0ZSBJbWFnZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJY29uSW1hZ2UoaW1hZ2UsIHNyYywgc2l6ZSwgY3Jvc3NPcmlnaW4sIGltYWdlU3RhdGUsIGNvbG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9ICFpbWFnZSA/IG5ldyBJbWFnZSgpIDogaW1hZ2U7XG4gICAgICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAoX3RoaXMuaW1hZ2VfKS5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgSFRNTENhbnZhc0VsZW1lbnQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzXyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JfID0gY29sb3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VTdGF0ZV8gPSBpbWFnZVN0YXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemVfID0gc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3JjXyA9IHNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50YWludGVkXztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBpbWFnZSBjYW52YXMgaXMgdGFpbnRlZC5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmlzVGFpbnRlZF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRhaW50ZWRfID09PSB1bmRlZmluZWQgJiYgdGhpcy5pbWFnZVN0YXRlXyA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIGlmICghdGFpbnRlZFRlc3RDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGFpbnRlZFRlc3RDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFpbnRlZFRlc3RDb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlXywgMCwgMCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhaW50ZWRUZXN0Q29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50YWludGVkXyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0YWludGVkVGVzdENvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMudGFpbnRlZF8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRhaW50ZWRfID09PSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmRpc3BhdGNoQ2hhbmdlRXZlbnRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNIQU5HRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuaGFuZGxlSW1hZ2VFcnJvcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VTdGF0ZV8gPSBJbWFnZVN0YXRlLkVSUk9SO1xuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUxvYWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmltYWdlU3RhdGVfID0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgICAgIGlmICh0aGlzLnNpemVfKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlXy53aWR0aCA9IHRoaXMuc2l6ZV9bMF07XG4gICAgICAgICAgICB0aGlzLmltYWdlXy5oZWlnaHQgPSB0aGlzLnNpemVfWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaXplXyA9IFt0aGlzLmltYWdlXy53aWR0aCwgdGhpcy5pbWFnZV8uaGVpZ2h0XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIG9yIENhbnZhcyBlbGVtZW50LlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICB0aGlzLnJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gPyB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gOiB0aGlzLmltYWdlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgdGhpcy5yZXBsYWNlQ29sb3JfKHBpeGVsUmF0aW8pO1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID8gcGl4ZWxSYXRpbyA6IDE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZ2V0SW1hZ2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VTdGF0ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVGFpbnRlZF8oKSkge1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuc2l6ZV9bMF07XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuc2l6ZV9bMV07XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSB0aGlzLmltYWdlXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oaXREZXRlY3Rpb25JbWFnZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgICAqL1xuICAgIEljb25JbWFnZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBJbWFnZSBzcmMuXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5nZXRTcmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNyY187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKi9cbiAgICBJY29uSW1hZ2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmltYWdlU3RhdGVfID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZVN0YXRlXyA9IEltYWdlU3RhdGUuTE9BRElORztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAodGhpcy5pbWFnZV8pLnNyYyA9IHRoaXMuc3JjXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBsaXN0ZW5JbWFnZSh0aGlzLmltYWdlXywgdGhpcy5oYW5kbGVJbWFnZUxvYWRfLmJpbmQodGhpcyksIHRoaXMuaGFuZGxlSW1hZ2VFcnJvcl8uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS5yZXBsYWNlQ29sb3JfID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbG9yXyB8fCB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA9IGNhbnZhcztcbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKHRoaXMuaW1hZ2VfLndpZHRoICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5pbWFnZV8uaGVpZ2h0ICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2VfLCAwLCAwKTtcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdtdWx0aXBseSc7XG4gICAgICAgIC8vIEludGVybmV0IEV4cGxvcmVyIDExIGRvZXMgbm90IHN1cHBvcnQgdGhlIG11bHRpcGx5IG9wZXJhdGlvbi5cbiAgICAgICAgLy8gSWYgdGhlIGNhbnZhcyBpcyB0YWludGVkIGluIEludGVybmV0IEV4cGxvcmVyIHRoaXMgc3RpbGwgcHJvZHVjZXNcbiAgICAgICAgLy8gYSBzb2xpZCBjb2xvciBpbWFnZSB3aXRoIHRoZSBzaGFwZSBvZiB0aGUgaWNvbi5cbiAgICAgICAgaWYgKGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPT09ICdtdWx0aXBseScgfHwgdGhpcy5pc1RhaW50ZWRfKCkpIHtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyh0aGlzLmNvbG9yXyk7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24taW4nO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlXywgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW1nRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gaW1nRGF0YS5kYXRhO1xuICAgICAgICAgICAgdmFyIHIgPSB0aGlzLmNvbG9yX1swXSAvIDI1NS4wO1xuICAgICAgICAgICAgdmFyIGcgPSB0aGlzLmNvbG9yX1sxXSAvIDI1NS4wO1xuICAgICAgICAgICAgdmFyIGIgPSB0aGlzLmNvbG9yX1syXSAvIDI1NS4wO1xuICAgICAgICAgICAgdmFyIGEgPSB0aGlzLmNvbG9yX1szXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRhdGEubGVuZ3RoOyBpIDwgaWk7IGkgKz0gNCkge1xuICAgICAgICAgICAgICAgIGRhdGFbaV0gKj0gcjtcbiAgICAgICAgICAgICAgICBkYXRhW2kgKyAxXSAqPSBnO1xuICAgICAgICAgICAgICAgIGRhdGFbaSArIDJdICo9IGI7XG4gICAgICAgICAgICAgICAgZGF0YVtpICsgM10gKj0gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5wdXRJbWFnZURhdGEoaW1nRGF0YSwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSWNvbkltYWdlLnByb3RvdHlwZS51bmxpc3RlbkltYWdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSWNvbkltYWdlO1xufShFdmVudFRhcmdldCkpO1xuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gaW1hZ2VTdGF0ZSBJbWFnZSBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7SWNvbkltYWdlfSBJY29uIGltYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGltYWdlLCBzcmMsIHNpemUsIGNyb3NzT3JpZ2luLCBpbWFnZVN0YXRlLCBjb2xvcikge1xuICAgIHZhciBpY29uSW1hZ2UgPSBpY29uSW1hZ2VDYWNoZS5nZXQoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgIGlmICghaWNvbkltYWdlKSB7XG4gICAgICAgIGljb25JbWFnZSA9IG5ldyBJY29uSW1hZ2UoaW1hZ2UsIHNyYywgc2l6ZSwgY3Jvc3NPcmlnaW4sIGltYWdlU3RhdGUsIGNvbG9yKTtcbiAgICAgICAgaWNvbkltYWdlQ2FjaGUuc2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yLCBpY29uSW1hZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gaWNvbkltYWdlO1xufVxuZXhwb3J0IGRlZmF1bHQgSWNvbkltYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbkltYWdlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvblxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEljb25BbmNob3JVbml0cyBmcm9tICcuL0ljb25BbmNob3JVbml0cy5qcyc7XG5pbXBvcnQgSWNvbk9yaWdpbiBmcm9tICcuL0ljb25PcmlnaW4uanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdHlsZSBmcm9tICcuL0ltYWdlLmpzJztcbmltcG9ydCB7IGFzQXJyYXkgfSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGdldCBhcyBnZXRJY29uSW1hZ2UgfSBmcm9tICcuL0ljb25JbWFnZS5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbYW5jaG9yPVswLjUsIDAuNV1dIEFuY2hvci4gRGVmYXVsdCB2YWx1ZSBpcyB0aGUgaWNvbiBjZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbk9yaWdpbi5qc1wiKS5kZWZhdWx0fSBbYW5jaG9yT3JpZ2luPSd0b3AtbGVmdCddIE9yaWdpbiBvZiB0aGUgYW5jaG9yOiBgYm90dG9tLWxlZnRgLCBgYm90dG9tLXJpZ2h0YCxcbiAqIGB0b3AtbGVmdGAgb3IgYHRvcC1yaWdodGAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbkFuY2hvclVuaXRzLmpzXCIpLmRlZmF1bHR9IFthbmNob3JYVW5pdHM9J2ZyYWN0aW9uJ10gVW5pdHMgaW4gd2hpY2ggdGhlIGFuY2hvciB4IHZhbHVlIGlzXG4gKiBzcGVjaWZpZWQuIEEgdmFsdWUgb2YgYCdmcmFjdGlvbidgIGluZGljYXRlcyB0aGUgeCB2YWx1ZSBpcyBhIGZyYWN0aW9uIG9mIHRoZSBpY29uLiBBIHZhbHVlIG9mIGAncGl4ZWxzJ2AgaW5kaWNhdGVzXG4gKiB0aGUgeCB2YWx1ZSBpbiBwaXhlbHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbkFuY2hvclVuaXRzLmpzXCIpLmRlZmF1bHR9IFthbmNob3JZVW5pdHM9J2ZyYWN0aW9uJ10gVW5pdHMgaW4gd2hpY2ggdGhlIGFuY2hvciB5IHZhbHVlIGlzXG4gKiBzcGVjaWZpZWQuIEEgdmFsdWUgb2YgYCdmcmFjdGlvbidgIGluZGljYXRlcyB0aGUgeSB2YWx1ZSBpcyBhIGZyYWN0aW9uIG9mIHRoZSBpY29uLiBBIHZhbHVlIG9mIGAncGl4ZWxzJ2AgaW5kaWNhdGVzXG4gKiB0aGUgeSB2YWx1ZSBpbiBwaXhlbHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfHN0cmluZ30gW2NvbG9yXSBDb2xvciB0byB0aW50IHRoZSBpY29uLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogdGhlIGljb24gd2lsbCBiZSBsZWZ0IGFzIGlzLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuIE5vdGUgdGhhdCB5b3UgbXVzdCBwcm92aWRlIGFcbiAqIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gW2ltZ10gSW1hZ2Ugb2JqZWN0IGZvciB0aGUgaWNvbi4gSWYgdGhlIGBzcmNgIG9wdGlvbiBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGVcbiAqIHByb3ZpZGVkIGltYWdlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQuIEFuZCBpbiB0aGF0IGNhc2UsIGl0IGlzIHJlcXVpcmVkXG4gKiB0byBwcm92aWRlIHRoZSBzaXplIG9mIHRoZSBpbWFnZSwgd2l0aCB0aGUgYGltZ1NpemVgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW29mZnNldD1bMCwgMF1dIE9mZnNldCwgd2hpY2gsIHRvZ2V0aGVyIHdpdGggdGhlIHNpemUgYW5kIHRoZSBvZmZzZXQgb3JpZ2luLCBkZWZpbmUgdGhlXG4gKiBzdWItcmVjdGFuZ2xlIHRvIHVzZSBmcm9tIHRoZSBvcmlnaW5hbCBpY29uIGltYWdlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbZGlzcGxhY2VtZW50PVswLDBdXSBEaXNwbGFjZW1lbnQgdGhlIGljb25cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uT3JpZ2luLmpzXCIpLmRlZmF1bHR9IFtvZmZzZXRPcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBvZmZzZXQ6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5IG9mIHRoZSBpY29uLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGU9MV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGVXaXRoVmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIGljb24gd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gSWNvbiBzaXplIGluIHBpeGVsLiBDYW4gYmUgdXNlZCB0b2dldGhlciB3aXRoIGBvZmZzZXRgIHRvIGRlZmluZSB0aGVcbiAqIHN1Yi1yZWN0YW5nbGUgdG8gdXNlIGZyb20gdGhlIG9yaWdpbiAoc3ByaXRlKSBpY29uIGltYWdlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtpbWdTaXplXSBJbWFnZSBzaXplIGluIHBpeGVscy4gT25seSByZXF1aXJlZCBpZiBgaW1nYCBpcyBzZXQgYW5kIGBzcmNgIGlzIG5vdCwgYW5kXG4gKiBmb3IgU1ZHIGltYWdlcyBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMS4gVGhlIHByb3ZpZGVkIGBpbWdTaXplYCBuZWVkcyB0byBtYXRjaCB0aGUgYWN0dWFsIHNpemUgb2YgdGhlIGltYWdlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzcmNdIEltYWdlIHNvdXJjZSBVUkkuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IGljb24gc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIEBhcGlcbiAqL1xudmFyIEljb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEljb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgT3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJY29uKG9wdF9vcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG9wYWNpdHkgPSBvcHRpb25zLm9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3BhY2l0eSA6IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBzY2FsZSA9IG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcm90YXRlV2l0aFZpZXcgPSBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgIGRpc3BsYWNlbWVudDogb3B0aW9ucy5kaXNwbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGlzcGxhY2VtZW50IDogWzAsIDBdLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IHJvdGF0ZVdpdGhWaWV3LFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JfID0gb3B0aW9ucy5hbmNob3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5jaG9yIDogWzAuNSwgMC41XTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSWNvbk9yaWdpbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yT3JpZ2luXyA9XG4gICAgICAgICAgICBvcHRpb25zLmFuY2hvck9yaWdpbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmFuY2hvck9yaWdpblxuICAgICAgICAgICAgICAgIDogSWNvbk9yaWdpbi5UT1BfTEVGVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ljb25BbmNob3JVbml0cy5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5jaG9yWFVuaXRzXyA9XG4gICAgICAgICAgICBvcHRpb25zLmFuY2hvclhVbml0cyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmFuY2hvclhVbml0c1xuICAgICAgICAgICAgICAgIDogSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4vSWNvbkFuY2hvclVuaXRzLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmNob3JZVW5pdHNfID1cbiAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9yWVVuaXRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYW5jaG9yWVVuaXRzXG4gICAgICAgICAgICAgICAgOiBJY29uQW5jaG9yVW5pdHMuRlJBQ1RJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNyb3NzT3JpZ2luXyA9XG4gICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzT3JpZ2luIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGltYWdlID0gb3B0aW9ucy5pbWcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW1nIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaW1nU2l6ZSA9IG9wdGlvbnMuaW1nU2l6ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbWdTaXplIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNyYyA9IG9wdGlvbnMuc3JjO1xuICAgICAgICBhc3NlcnQoIShzcmMgIT09IHVuZGVmaW5lZCAmJiBpbWFnZSksIDQpOyAvLyBgaW1hZ2VgIGFuZCBgc3JjYCBjYW5ub3QgYmUgcHJvdmlkZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICBhc3NlcnQoIWltYWdlIHx8IChpbWFnZSAmJiBpbWdTaXplKSwgNSk7IC8vIGBpbWdTaXplYCBtdXN0IGJlIHNldCB3aGVuIGBpbWFnZWAgaXMgcHJvdmlkZWRcbiAgICAgICAgaWYgKChzcmMgPT09IHVuZGVmaW5lZCB8fCBzcmMubGVuZ3RoID09PSAwKSAmJiBpbWFnZSkge1xuICAgICAgICAgICAgc3JjID0gLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAoaW1hZ2UpLnNyYyB8fCBnZXRVaWQoaW1hZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydChzcmMgIT09IHVuZGVmaW5lZCAmJiBzcmMubGVuZ3RoID4gMCwgNik7IC8vIEEgZGVmaW5lZCBhbmQgbm9uLWVtcHR5IGBzcmNgIG9yIGBpbWFnZWAgbXVzdCBiZSBwcm92aWRlZFxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBpbWFnZVN0YXRlID0gb3B0aW9ucy5zcmMgIT09IHVuZGVmaW5lZCA/IEltYWdlU3RhdGUuSURMRSA6IEltYWdlU3RhdGUuTE9BREVEO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JfID0gb3B0aW9ucy5jb2xvciAhPT0gdW5kZWZpbmVkID8gYXNBcnJheShvcHRpb25zLmNvbG9yKSA6IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmljb25JbWFnZV8gPSBnZXRJY29uSW1hZ2UoaW1hZ2UsIFxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi8gKHNyYyksIGltZ1NpemUsIF90aGlzLmNyb3NzT3JpZ2luXywgaW1hZ2VTdGF0ZSwgX3RoaXMuY29sb3JfKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub2Zmc2V0XyA9IG9wdGlvbnMub2Zmc2V0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZnNldCA6IFswLCAwXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ljb25PcmlnaW4uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9mZnNldE9yaWdpbl8gPVxuICAgICAgICAgICAgb3B0aW9ucy5vZmZzZXRPcmlnaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5vZmZzZXRPcmlnaW5cbiAgICAgICAgICAgICAgICA6IEljb25PcmlnaW4uVE9QX0xFRlQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdpbl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemVfID0gb3B0aW9ucy5zaXplICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNpemUgOiBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgc3R5bGUuIFRoZSB1bmRlcmx5aW5nIEltYWdlL0hUTUxDYW52YXNFbGVtZW50IGlzIG5vdCBjbG9uZWQuXG4gICAgICogQHJldHVybiB7SWNvbn0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJY29uKHtcbiAgICAgICAgICAgIGFuY2hvcjogdGhpcy5hbmNob3JfLnNsaWNlKCksXG4gICAgICAgICAgICBhbmNob3JPcmlnaW46IHRoaXMuYW5jaG9yT3JpZ2luXyxcbiAgICAgICAgICAgIGFuY2hvclhVbml0czogdGhpcy5hbmNob3JYVW5pdHNfLFxuICAgICAgICAgICAgYW5jaG9yWVVuaXRzOiB0aGlzLmFuY2hvcllVbml0c18sXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbl8sXG4gICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcl8gJiYgdGhpcy5jb2xvcl8uc2xpY2VcbiAgICAgICAgICAgICAgICA/IHRoaXMuY29sb3JfLnNsaWNlKClcbiAgICAgICAgICAgICAgICA6IHRoaXMuY29sb3JfIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNyYzogdGhpcy5nZXRTcmMoKSxcbiAgICAgICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXRfLnNsaWNlKCksXG4gICAgICAgICAgICBvZmZzZXRPcmlnaW46IHRoaXMub2Zmc2V0T3JpZ2luXyxcbiAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZV8gIT09IG51bGwgPyB0aGlzLnNpemVfLnNsaWNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvcGFjaXR5OiB0aGlzLmdldE9wYWNpdHkoKSxcbiAgICAgICAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IGluIHBpeGVscy4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgICAqIHN5bWJvbGl6ZXIuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQW5jaG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRBbmNob3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm5vcm1hbGl6ZWRBbmNob3JfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemVkQW5jaG9yXztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5hbmNob3JfO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgICBpZiAodGhpcy5hbmNob3JYVW5pdHNfID09IEljb25BbmNob3JVbml0cy5GUkFDVElPTiB8fFxuICAgICAgICAgICAgdGhpcy5hbmNob3JZVW5pdHNfID09IEljb25BbmNob3JVbml0cy5GUkFDVElPTikge1xuICAgICAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmNob3IgPSB0aGlzLmFuY2hvcl8uc2xpY2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvclhVbml0c18gPT0gSWNvbkFuY2hvclVuaXRzLkZSQUNUSU9OKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yWzBdICo9IHNpemVbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hbmNob3JZVW5pdHNfID09IEljb25BbmNob3JVbml0cy5GUkFDVElPTikge1xuICAgICAgICAgICAgICAgIGFuY2hvclsxXSAqPSBzaXplWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFuY2hvck9yaWdpbl8gIT0gSWNvbk9yaWdpbi5UT1BfTEVGVCkge1xuICAgICAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYW5jaG9yID09PSB0aGlzLmFuY2hvcl8pIHtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSB0aGlzLmFuY2hvcl8uc2xpY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvck9yaWdpbl8gPT0gSWNvbk9yaWdpbi5UT1BfUklHSFQgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvck9yaWdpbl8gPT0gSWNvbk9yaWdpbi5CT1RUT01fUklHSFQpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JbMF0gPSAtYW5jaG9yWzBdICsgc2l6ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvck9yaWdpbl8gPT0gSWNvbk9yaWdpbi5CT1RUT01fTEVGVCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yT3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICAgICAgICAgIGFuY2hvclsxXSA9IC1hbmNob3JbMV0gKyBzaXplWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBhbmNob3I7XG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZWRBbmNob3JfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICAgKiBzeW1ib2xpemVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgQW5jaG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5zZXRBbmNob3IgPSBmdW5jdGlvbiAoYW5jaG9yKSB7XG4gICAgICAgIHRoaXMuYW5jaG9yXyA9IGFuY2hvcjtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGljb24gY29sb3IuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IENvbG9yLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRDb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBpY29uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIG9yIENhbnZhcyBlbGVtZW50LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIChwaXhlbFJhdGlvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0SW1hZ2UocGl4ZWxSYXRpbyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHBpeGVsIHJhdGlvbiBvZiB0aGUgaW1hZ2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEljb24ucHJvdG90eXBlLmdldFBpeGVsUmF0aW8gPSBmdW5jdGlvbiAocGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldFBpeGVsUmF0aW8ocGl4ZWxSYXRpbyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0SW1hZ2VTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2l6ZSBvZiB0aGUgaGl0LWRldGVjdGlvbiBpbWFnZS5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRIaXREZXRlY3Rpb25JbWFnZVNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEltYWdlU2l6ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBJbWFnZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRJbWFnZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldEltYWdlU3RhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vcmlnaW5fKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLm9mZnNldF87XG4gICAgICAgIHZhciBkaXNwbGFjZW1lbnQgPSB0aGlzLmdldERpc3BsYWNlbWVudCgpO1xuICAgICAgICBpZiAodGhpcy5vZmZzZXRPcmlnaW5fICE9IEljb25PcmlnaW4uVE9QX0xFRlQpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgICAgICB2YXIgaWNvbkltYWdlU2l6ZSA9IHRoaXMuaWNvbkltYWdlXy5nZXRTaXplKCk7XG4gICAgICAgICAgICBpZiAoIXNpemUgfHwgIWljb25JbWFnZVNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCA9IG9mZnNldC5zbGljZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMub2Zmc2V0T3JpZ2luXyA9PSBJY29uT3JpZ2luLlRPUF9SSUdIVCB8fFxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICAgICAgICAgIG9mZnNldFswXSA9IGljb25JbWFnZVNpemVbMF0gLSBzaXplWzBdIC0gb2Zmc2V0WzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub2Zmc2V0T3JpZ2luXyA9PSBJY29uT3JpZ2luLkJPVFRPTV9MRUZUIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRPcmlnaW5fID09IEljb25PcmlnaW4uQk9UVE9NX1JJR0hUKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0WzFdID0gaWNvbkltYWdlU2l6ZVsxXSAtIHNpemVbMV0gLSBvZmZzZXRbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0WzBdICs9IGRpc3BsYWNlbWVudFswXTtcbiAgICAgICAgb2Zmc2V0WzFdICs9IGRpc3BsYWNlbWVudFsxXTtcbiAgICAgICAgdGhpcy5vcmlnaW5fID0gb2Zmc2V0O1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBVUkwuXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gSW1hZ2Ugc3JjLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRTcmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0U3JjKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuc2l6ZV8gPyB0aGlzLmljb25JbWFnZV8uZ2V0U2l6ZSgpIDogdGhpcy5zaXplXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS5saXN0ZW5JbWFnZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmljb25JbWFnZV8uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCBsaXN0ZW5lcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKiBXaGVuIHJlbmRlcmluZyBhIGZlYXR1cmUgd2l0aCBhbiBpY29uIHN0eWxlLCB0aGUgdmVjdG9yIHJlbmRlcmVyIHdpbGxcbiAgICAgKiBhdXRvbWF0aWNhbGx5IGNhbGwgdGhpcyBtZXRob2QuIEhvd2V2ZXIsIHlvdSBtaWdodCB3YW50IHRvIGNhbGwgdGhpc1xuICAgICAqIG1ldGhvZCB5b3Vyc2VsZiBmb3IgcHJlbG9hZGluZyBvciBvdGhlciBwdXJwb3Nlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSWNvbi5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pY29uSW1hZ2VfLmxvYWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBJY29uLnByb3RvdHlwZS51bmxpc3RlbkltYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuaWNvbkltYWdlXy5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBJY29uO1xufShJbWFnZVN0eWxlKSk7XG5leHBvcnQgZGVmYXVsdCBJY29uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvdmVjdG9yXG4gKi9cbmltcG9ydCBCdWlsZGVyVHlwZSBmcm9tICcuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJUeXBlLmpzJztcbmltcG9ydCBHZW9tZXRyeVR5cGUgZnJvbSAnLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbi8qKlxuICogRmVhdHVyZSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhyZWUgYXJndW1lbnRzLiBUaGUgZmlyc3RcbiAqIGFyZ3VtZW50IGlzIG9uZSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmUgZmVhdHVyZX0gb3Ige0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRmVhdHVyZSByZW5kZXIgZmVhdHVyZX1cbiAqIGF0IHRoZSBwaXhlbCwgdGhlIHNlY29uZCBpcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllciBsYXllcn0gb2YgdGhlIGZlYXR1cmUgYW5kIHdpbGwgYmUgbnVsbCBmb3JcbiAqIHVubWFuYWdlZCBsYXllcnMuIFRoZSB0aGlyZCBpcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9nZW9tL1NpbXBsZUdlb21ldHJ5fSBvZiB0aGUgZmVhdHVyZS4gRm9yIGZlYXR1cmVzXG4gKiB3aXRoIGEgR2VvbWV0cnlDb2xsZWN0aW9uIGdlb21ldHJ5LCBpdCB3aWxsIGJlIHRoZSBmaXJzdCBkZXRlY3RlZCBnZW9tZXRyeSBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBGZWF0dXJlQ2FsbGJhY2tcbiAqL1xuLyoqXG4gKiBUb2xlcmFuY2UgZm9yIGdlb21ldHJ5IHNpbXBsaWZpY2F0aW9uIGluIGRldmljZSBwaXhlbHMuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgU0lNUExJRllfVE9MRVJBTkNFID0gMC41O1xuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeVR5cGUuanNcIikuZGVmYXVsdCxcbiAqICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQsIE9iamVjdCk6IHZvaWQ+fVxuICovXG52YXIgR0VPTUVUUllfUkVOREVSRVJTID0ge1xuICAgICdQb2ludCc6IHJlbmRlclBvaW50R2VvbWV0cnksXG4gICAgJ0xpbmVTdHJpbmcnOiByZW5kZXJMaW5lU3RyaW5nR2VvbWV0cnksXG4gICAgJ1BvbHlnb24nOiByZW5kZXJQb2x5Z29uR2VvbWV0cnksXG4gICAgJ011bHRpUG9pbnQnOiByZW5kZXJNdWx0aVBvaW50R2VvbWV0cnksXG4gICAgJ011bHRpTGluZVN0cmluZyc6IHJlbmRlck11bHRpTGluZVN0cmluZ0dlb21ldHJ5LFxuICAgICdNdWx0aVBvbHlnb24nOiByZW5kZXJNdWx0aVBvbHlnb25HZW9tZXRyeSxcbiAgICAnR2VvbWV0cnlDb2xsZWN0aW9uJzogcmVuZGVyR2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnksXG4gICAgJ0NpcmNsZSc6IHJlbmRlckNpcmNsZUdlb21ldHJ5LFxufTtcbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlMSBGZWF0dXJlIDEuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUyIEZlYXR1cmUgMi5cbiAqIEByZXR1cm4ge251bWJlcn0gT3JkZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0T3JkZXIoZmVhdHVyZTEsIGZlYXR1cmUyKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KGdldFVpZChmZWF0dXJlMSksIDEwKSAtIHBhcnNlSW50KGdldFVpZChmZWF0dXJlMiksIDEwKTtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIHBpeGVsIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNxdWFyZWRUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIHZhciB0b2xlcmFuY2UgPSBnZXRUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyk7XG4gICAgcmV0dXJuIHRvbGVyYW5jZSAqIHRvbGVyYW5jZTtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHJldHVybiB7bnVtYmVyfSBQaXhlbCB0b2xlcmFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIHJldHVybiAoU0lNUExJRllfVE9MRVJBTkNFICogcmVzb2x1dGlvbikgLyBwaXhlbFJhdGlvO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBCdWlsZGVyIGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNpcmNsZUdlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmdldEZpbGwoKTtcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICBpZiAoZmlsbFN0eWxlIHx8IHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBjaXJjbGVSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuQ0lSQ0xFKTtcbiAgICAgICAgY2lyY2xlUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKTtcbiAgICAgICAgY2lyY2xlUmVwbGF5LmRyYXdDaXJjbGUoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW29wdF90cmFuc2Zvcm1dIFRyYW5zZm9ybSBmcm9tIHVzZXIgdG8gdmlldyBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc3R5bGUgaXMgbG9hZGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckZlYXR1cmUocmVwbGF5R3JvdXAsIGZlYXR1cmUsIHN0eWxlLCBzcXVhcmVkVG9sZXJhbmNlLCBsaXN0ZW5lciwgb3B0X3RyYW5zZm9ybSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBsb2FkaW5nID0gZmFsc2U7XG4gICAgdmFyIGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICAgIGlmIChpbWFnZVN0eWxlKSB7XG4gICAgICAgIHZhciBpbWFnZVN0YXRlID0gaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCk7XG4gICAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuTE9BREVEIHx8IGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZS51bmxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgIGltYWdlU3R5bGUubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1hZ2VTdGF0ZSA9IGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpO1xuICAgICAgICAgICAgaW1hZ2VTdHlsZS5saXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcik7XG4gICAgICAgICAgICBsb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXJGZWF0dXJlSW50ZXJuYWwocmVwbGF5R3JvdXAsIGZlYXR1cmUsIHN0eWxlLCBzcXVhcmVkVG9sZXJhbmNlLCBvcHRfdHJhbnNmb3JtLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICByZXR1cm4gbG9hZGluZztcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW29wdF90cmFuc2Zvcm1dIE9wdGlvbmFsIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJGZWF0dXJlSW50ZXJuYWwocmVwbGF5R3JvdXAsIGZlYXR1cmUsIHN0eWxlLCBzcXVhcmVkVG9sZXJhbmNlLCBvcHRfdHJhbnNmb3JtLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGdlb21ldHJ5ID0gc3R5bGUuZ2V0R2VvbWV0cnlGdW5jdGlvbigpKGZlYXR1cmUpO1xuICAgIGlmICghZ2VvbWV0cnkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2ltcGxpZmllZEdlb21ldHJ5ID0gZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZChzcXVhcmVkVG9sZXJhbmNlLCBvcHRfdHJhbnNmb3JtKTtcbiAgICB2YXIgcmVuZGVyZXIgPSBzdHlsZS5nZXRSZW5kZXJlcigpO1xuICAgIGlmIChyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJHZW9tZXRyeShyZXBsYXlHcm91cCwgc2ltcGxpZmllZEdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgZ2VvbWV0cnlSZW5kZXJlciA9IEdFT01FVFJZX1JFTkRFUkVSU1tzaW1wbGlmaWVkR2VvbWV0cnkuZ2V0VHlwZSgpXTtcbiAgICAgICAgZ2VvbWV0cnlSZW5kZXJlcihyZXBsYXlHcm91cCwgc2ltcGxpZmllZEdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5mdW5jdGlvbiByZW5kZXJHZW9tZXRyeShyZXBsYXlHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlKSB7XG4gICAgaWYgKGdlb21ldHJ5LmdldFR5cGUoKSA9PSBHZW9tZXRyeVR5cGUuR0VPTUVUUllfQ09MTEVDVElPTikge1xuICAgICAgICB2YXIgZ2VvbWV0cmllcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KS5nZXRHZW9tZXRyaWVzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIGdlb21ldHJpZXNbaV0sIHN0eWxlLCBmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXBsYXkgPSByZXBsYXlHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5ERUZBVUxUKTtcbiAgICByZXBsYXkuZHJhd0N1c3RvbShcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSwgZmVhdHVyZSwgc3R5bGUuZ2V0UmVuZGVyZXIoKSk7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICAgIHZhciBpLCBpaTtcbiAgICBmb3IgKGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgZ2VvbWV0cnlSZW5kZXJlciA9IEdFT01FVFJZX1JFTkRFUkVSU1tnZW9tZXRyaWVzW2ldLmdldFR5cGUoKV07XG4gICAgICAgIGdlb21ldHJ5UmVuZGVyZXIocmVwbGF5R3JvdXAsIGdlb21ldHJpZXNbaV0sIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHQ9fSBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTGluZVN0cmluZ0dlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHZhciBsaW5lU3RyaW5nUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLkxJTkVfU1RSSU5HKTtcbiAgICAgICAgbGluZVN0cmluZ1JlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUobnVsbCwgc3Ryb2tlU3R5bGUpO1xuICAgICAgICBsaW5lU3RyaW5nUmVwbGF5LmRyYXdMaW5lU3RyaW5nKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICAgICAgdmFyIHRleHRSZXBsYXkgPSAob3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlRFWFQpO1xuICAgICAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgIGlmIChzdHJva2VTdHlsZSkge1xuICAgICAgICB2YXIgbGluZVN0cmluZ1JlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5MSU5FX1NUUklORyk7XG4gICAgICAgIGxpbmVTdHJpbmdSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKG51bGwsIHN0cm9rZVN0eWxlKTtcbiAgICAgICAgbGluZVN0cmluZ1JlcGxheS5kcmF3TXVsdGlMaW5lU3RyaW5nKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICAgICAgdmFyIHRleHRSZXBsYXkgPSAob3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlRFWFQpO1xuICAgICAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aVBvbHlnb25HZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gICAgdmFyIHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgaWYgKHN0cm9rZVN0eWxlIHx8IGZpbGxTdHlsZSkge1xuICAgICAgICB2YXIgcG9seWdvblJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5QT0xZR09OKTtcbiAgICAgICAgcG9seWdvblJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgICAgIHBvbHlnb25SZXBsYXkuZHJhd011bHRpUG9seWdvbihnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgIHZhciB0ZXh0UmVwbGF5ID0gKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJQb2ludEdlb21ldHJ5KGJ1aWxkZXJHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgdmFyIGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICAgIHZhciB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9ICovXG4gICAgdmFyIGRlY2x1dHRlckltYWdlV2l0aFRleHQ7XG4gICAgaWYgKG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgICAgYnVpbGRlckdyb3VwID0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cDtcbiAgICAgICAgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCA9XG4gICAgICAgICAgICBpbWFnZVN0eWxlICYmIHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpID8ge30gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpbWFnZVN0eWxlKSB7XG4gICAgICAgIGlmIChpbWFnZVN0eWxlLmdldEltYWdlU3RhdGUoKSAhPSBJbWFnZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbWFnZVJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5JTUFHRSk7XG4gICAgICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgIGltYWdlUmVwbGF5LmRyYXdQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCBCdWlsZGVyVHlwZS5URVhUKTtcbiAgICAgICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KTtcbiAgICAgICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0PX0gb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeShidWlsZGVyR3JvdXAsIGdlb21ldHJ5LCBzdHlsZSwgZmVhdHVyZSwgb3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgIHZhciBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgICB2YXIgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqL1xuICAgIHZhciBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0O1xuICAgIGlmIChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICAgIGJ1aWxkZXJHcm91cCA9IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHQgPVxuICAgICAgICAgICAgaW1hZ2VTdHlsZSAmJiB0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSA/IHt9IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoaW1hZ2VTdHlsZSkge1xuICAgICAgICBpZiAoaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCkgIT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW1hZ2VSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuSU1BR0UpO1xuICAgICAgICBpbWFnZVJlcGxheS5zZXRJbWFnZVN0eWxlKGltYWdlU3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgICAgICBpbWFnZVJlcGxheS5kcmF3TXVsdGlQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICB2YXIgdGV4dFJlcGxheSA9IChvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuVEVYVCk7XG4gICAgICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJQb2x5Z29uR2VvbWV0cnkoYnVpbGRlckdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUsIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICAgIHZhciBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgIGlmIChmaWxsU3R5bGUgfHwgc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgdmFyIHBvbHlnb25SZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgQnVpbGRlclR5cGUuUE9MWUdPTik7XG4gICAgICAgIHBvbHlnb25SZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgICAgICBwb2x5Z29uUmVwbGF5LmRyYXdQb2x5Z29uKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG4gICAgdmFyIHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICAgICAgdmFyIHRleHRSZXBsYXkgPSAob3B0X2RlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksIEJ1aWxkZXJUeXBlLlRFWFQpO1xuICAgICAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3IuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXJHcm91cCBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qcyc7XG5pbXBvcnQgQ2FudmFzTGF5ZXJSZW5kZXJlciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBFeGVjdXRvckdyb3VwIGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cC5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi4vLi4vVmlld0hpbnQuanMnO1xuaW1wb3J0IHsgYXBwbHksIG1ha2VJbnZlcnNlLCBtYWtlU2NhbGUsIHRvU3RyaW5nIGFzIHRyYW5zZm9ybVRvU3RyaW5nLCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQgeyBidWZmZXIsIGNvbnRhaW5zRXh0ZW50LCBjcmVhdGVFbXB0eSwgZ2V0V2lkdGgsIGludGVyc2VjdHMgYXMgaW50ZXJzZWN0c0V4dGVudCwgd3JhcFggYXMgd3JhcEV4dGVudFgsIH0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSwgaGl0RGV0ZWN0LCB9IGZyb20gJy4uLy4uL3JlbmRlci9jYW52YXMvaGl0ZGV0ZWN0LmpzJztcbmltcG9ydCB7IGRlZmF1bHRPcmRlciBhcyBkZWZhdWx0UmVuZGVyT3JkZXIsIGdldFRvbGVyYW5jZSBhcyBnZXRSZW5kZXJUb2xlcmFuY2UsIGdldFNxdWFyZWRUb2xlcmFuY2UgYXMgZ2V0U3F1YXJlZFJlbmRlclRvbGVyYW5jZSwgcmVuZGVyRmVhdHVyZSwgfSBmcm9tICcuLi92ZWN0b3IuanMnO1xuaW1wb3J0IHsgZnJvbVVzZXJFeHRlbnQsIGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucywgZ2V0VXNlclByb2plY3Rpb24sIHRvVXNlckV4dGVudCwgfSBmcm9tICcuLi8uLi9wcm9qLmpzJztcbmltcG9ydCB7IGdldFVpZCB9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgd3JhcFggYXMgd3JhcENvb3JkaW5hdGVYIH0gZnJvbSAnLi4vLi4vY29vcmRpbmF0ZS5qcyc7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyByZW5kZXJlciBmb3IgdmVjdG9yIGxheWVycy5cbiAqIEBhcGlcbiAqL1xudmFyIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3IuanNcIikuZGVmYXVsdH0gdmVjdG9yTGF5ZXIgVmVjdG9yIGxheWVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIodmVjdG9yTGF5ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmVjdG9yTGF5ZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAgICBfdGhpcy5ib3VuZEhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfID0gX3RoaXMuaGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8uYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGluZ09ySW50ZXJhY3RpbmdfO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eV8gPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtJbWFnZURhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRGZWF0dXJlc18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUmV2aXNpb25fID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRSZXNvbHV0aW9uXyA9IE5hTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRFeHRlbnRfID0gY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZFJvdGF0aW9uXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlZENlbnRlcl8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3Byb2ovUHJvamVjdGlvblwiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZWRQcm9qZWN0aW9uXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQpOiBudW1iZXJ8bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVkUmVuZGVyT3JkZXJfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXBcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlcGxheUdyb3VwXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG5ldyByZXBsYXkgZ3JvdXAgaGFkIHRvIGJlIGNyZWF0ZWQgYnkgYHByZXBhcmVGcmFtZSgpYFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlcGxheUdyb3VwQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsaXBwaW5nIHRvIGJlIHBlcmZvcm1lZCBieSBgcmVuZGVyRnJhbWUoKWBcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGlwcGluZyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgcmVuZGVyaW5nIGNvbnRhaW5lciBmcm9tIGFuIGV4aXN0aW5nIHRhcmdldCwgaWYgY29tcGF0aWJsZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgUG90ZW50aWFsIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zZm9ybSBDU1MgVHJhbnNmb3JtLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUudXNlQ29udGFpbmVyID0gZnVuY3Rpb24gKHRhcmdldCwgdHJhbnNmb3JtLCBvcGFjaXR5KSB7XG4gICAgICAgIGlmIChvcGFjaXR5IDwgMSkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVzZUNvbnRhaW5lci5jYWxsKHRoaXMsIHRhcmdldCwgdHJhbnNmb3JtLCBvcGFjaXR5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RXhlY3V0b3JHcm91cH0gZXhlY3V0b3JHcm91cCBFeGVjdXRvciBncm91cC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJUcmVlIERlY2x1dHRlciB0cmVlLlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlcldvcmxkcyA9IGZ1bmN0aW9uIChleGVjdXRvckdyb3VwLCBmcmFtZVN0YXRlLCBvcHRfZGVjbHV0dGVyVHJlZSkge1xuICAgICAgICB2YXIgZXh0ZW50ID0gZnJhbWVTdGF0ZS5leHRlbnQ7XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZpZXdTdGF0ZS5jZW50ZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgICAgIHZhciByb3RhdGlvbiA9IHZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICAgICAgdmFyIHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgICAgICB2YXIgdmVjdG9yU291cmNlID0gdGhpcy5nZXRMYXllcigpLmdldFNvdXJjZSgpO1xuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgICAgICB2YXIgc25hcFRvUGl4ZWwgPSAhKHZpZXdIaW50c1tWaWV3SGludC5BTklNQVRJTkddIHx8IHZpZXdIaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10pO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMF0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzFdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIHZhciBtdWx0aVdvcmxkID0gdmVjdG9yU291cmNlLmdldFdyYXBYKCkgJiYgcHJvamVjdGlvbi5jYW5XcmFwWCgpO1xuICAgICAgICB2YXIgd29ybGRXaWR0aCA9IG11bHRpV29ybGQgPyBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KSA6IG51bGw7XG4gICAgICAgIHZhciBlbmRXb3JsZCA9IG11bHRpV29ybGRcbiAgICAgICAgICAgID8gTWF0aC5jZWlsKChleHRlbnRbMl0gLSBwcm9qZWN0aW9uRXh0ZW50WzJdKSAvIHdvcmxkV2lkdGgpICsgMVxuICAgICAgICAgICAgOiAxO1xuICAgICAgICB2YXIgd29ybGQgPSBtdWx0aVdvcmxkXG4gICAgICAgICAgICA/IE1hdGguZmxvb3IoKGV4dGVudFswXSAtIHByb2plY3Rpb25FeHRlbnRbMF0pIC8gd29ybGRXaWR0aClcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuZ2V0UmVuZGVyVHJhbnNmb3JtKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHBpeGVsUmF0aW8sIHdpZHRoLCBoZWlnaHQsIHdvcmxkICogd29ybGRXaWR0aCk7XG4gICAgICAgICAgICBleGVjdXRvckdyb3VwLmV4ZWN1dGUoY29udGV4dCwgMSwgdHJhbnNmb3JtLCByb3RhdGlvbiwgc25hcFRvUGl4ZWwsIHVuZGVmaW5lZCwgb3B0X2RlY2x1dHRlclRyZWUpO1xuICAgICAgICB9IHdoaWxlICgrK3dvcmxkIDwgZW5kV29ybGQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGRlY2x1dHRlciBpdGVtcyBmb3IgdGhpcyBsYXllclxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICovXG4gICAgQ2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRGVjbHV0dGVyID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJXb3JsZHModGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwLCBmcmFtZVN0YXRlLCBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vUGx1Z2dhYmxlTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgICAgIC8vIHNldCBmb3J3YXJkIGFuZCBpbnZlcnNlIHBpeGVsIHRyYW5zZm9ybXNcbiAgICAgICAgbWFrZVNjYWxlKHRoaXMucGl4ZWxUcmFuc2Zvcm0sIDEgLyBwaXhlbFJhdGlvLCAxIC8gcGl4ZWxSYXRpbyk7XG4gICAgICAgIG1ha2VJbnZlcnNlKHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCB0aGlzLnBpeGVsVHJhbnNmb3JtKTtcbiAgICAgICAgdmFyIGNhbnZhc1RyYW5zZm9ybSA9IHRyYW5zZm9ybVRvU3RyaW5nKHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLnVzZUNvbnRhaW5lcih0YXJnZXQsIGNhbnZhc1RyYW5zZm9ybSwgbGF5ZXJTdGF0ZS5vcGFjaXR5KTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgdmFyIHJlcGxheUdyb3VwID0gdGhpcy5yZXBsYXlHcm91cF87XG4gICAgICAgIHZhciBkZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwO1xuICAgICAgICBpZiAoKCFyZXBsYXlHcm91cCB8fCByZXBsYXlHcm91cC5pc0VtcHR5KCkpICYmXG4gICAgICAgICAgICAoIWRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgfHwgZGVjbHV0dGVyRXhlY3V0b3JHcm91cC5pc0VtcHR5KCkpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyUmV1c2VkICYmIGNhbnZhcy53aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc2l6ZSBhbmQgY2xlYXJcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChmcmFtZVN0YXRlLnNpemVbMF0gKiBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoZnJhbWVTdGF0ZS5zaXplWzFdICogcGl4ZWxSYXRpbyk7XG4gICAgICAgIGlmIChjYW52YXMud2lkdGggIT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGlmIChjYW52YXMuc3R5bGUudHJhbnNmb3JtICE9PSBjYW52YXNUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuc3R5bGUudHJhbnNmb3JtID0gY2FudmFzVHJhbnNmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmNvbnRhaW5lclJldXNlZCkge1xuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmVSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICAgICAgLy8gY2xpcHBlZCByZW5kZXJpbmcgaWYgbGF5ZXIgZXh0ZW50IGlzIHNldFxuICAgICAgICB2YXIgY2xpcHBlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobGF5ZXJTdGF0ZS5leHRlbnQgJiYgdGhpcy5jbGlwcGluZykge1xuICAgICAgICAgICAgdmFyIGxheWVyRXh0ZW50ID0gZnJvbVVzZXJFeHRlbnQobGF5ZXJTdGF0ZS5leHRlbnQsIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgY2xpcHBlZCA9XG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zRXh0ZW50KGxheWVyRXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0c0V4dGVudChsYXllckV4dGVudCwgZnJhbWVTdGF0ZS5leHRlbnQpO1xuICAgICAgICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBVbnJvdGF0ZWQoY29udGV4dCwgZnJhbWVTdGF0ZSwgbGF5ZXJFeHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyV29ybGRzKHJlcGxheUdyb3VwLCBmcmFtZVN0YXRlKTtcbiAgICAgICAgaWYgKGNsaXBwZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zdFJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgdmFyIG9wYWNpdHkgPSBsYXllclN0YXRlLm9wYWNpdHk7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKG9wYWNpdHkgIT09IHBhcnNlRmxvYXQoY29udGFpbmVyLnN0eWxlLm9wYWNpdHkpKSB7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHkgPT09IDEgPyAnJyA6IFN0cmluZyhvcGFjaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlZFJvdGF0aW9uXyAhPT0gdmlld1N0YXRlLnJvdGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkUm90YXRpb25fID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBc3luY2hyb25vdXMgbGF5ZXIgbGV2ZWwgaGl0IGRldGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmVcIikuZGVmYXVsdD4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5nZXRGZWF0dXJlcyA9IGZ1bmN0aW9uIChwaXhlbCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmVcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9yZW5kZXIvRmVhdHVyZVwiKS5kZWZhdWx0Pik6IHZvaWR9IHJlc29sdmUgUmVzb2x2ZXIgZnVuY3Rpb24uXG4gICAgICAgICAqIEB0aGlzIHtDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfICYmICF0aGlzLmFuaW1hdGluZ09ySW50ZXJhY3RpbmdfKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSBbdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCwgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHRdO1xuICAgICAgICAgICAgICAgIGFwcGx5KHRoaXMucGl4ZWxUcmFuc2Zvcm0sIHNpemUpO1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLnJlbmRlcmVkQ2VudGVyXztcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uXztcbiAgICAgICAgICAgICAgICB2YXIgcm90YXRpb24gPSB0aGlzLnJlbmRlcmVkUm90YXRpb25fO1xuICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0aW9uID0gdGhpcy5yZW5kZXJlZFByb2plY3Rpb25fO1xuICAgICAgICAgICAgICAgIHZhciBleHRlbnQgPSB0aGlzLnJlbmRlcmVkRXh0ZW50XztcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzaXplWzBdIC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc2l6ZVsxXSAvIDI7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKHRoaXMuZ2V0UmVuZGVyVHJhbnNmb3JtKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIDAuNSwgd2lkdGgsIGhlaWdodCwgMCkuc2xpY2UoKSk7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGxheWVyLmdldFNvdXJjZSgpO1xuICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmdldFdyYXBYKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbi5jYW5XcmFwWCgpICYmXG4gICAgICAgICAgICAgICAgICAgICFjb250YWluc0V4dGVudChwcm9qZWN0aW9uRXh0ZW50LCBleHRlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFggPSBleHRlbnRbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3b3JsZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3RhcnRYIDwgcHJvamVjdGlvbkV4dGVudFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLS13b3JsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFggPSB3b3JsZFdpZHRoICogd29ybGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1zLnB1c2godGhpcy5nZXRSZW5kZXJUcmFuc2Zvcm0oY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgMC41LCB3aWR0aCwgaGVpZ2h0LCBvZmZzZXRYKS5zbGljZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WCArPSB3b3JsZFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdvcmxkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gZXh0ZW50WzJdO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3RhcnRYID4gcHJvamVjdGlvbkV4dGVudFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt3b3JsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFggPSB3b3JsZFdpZHRoICogd29ybGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1zLnB1c2godGhpcy5nZXRSZW5kZXJUcmFuc2Zvcm0oY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgMC41LCB3aWR0aCwgaGVpZ2h0LCBvZmZzZXRYKS5zbGljZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WCAtPSB3b3JsZFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhXyA9IGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YShzaXplLCB0cmFuc2Zvcm1zLCB0aGlzLnJlbmRlcmVkRmVhdHVyZXNfLCBsYXllci5nZXRTdHlsZUZ1bmN0aW9uKCksIGV4dGVudCwgcmVzb2x1dGlvbiwgcm90YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShoaXREZXRlY3QocGl4ZWwsIHRoaXMucmVuZGVyZWRGZWF0dXJlc18sIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhXykpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi92ZWN0b3IuanNcIikuRmVhdHVyZUNhbGxiYWNrPFQ+fSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+Pn0gbWF0Y2hlcyBUaGUgaGl0IGRldGVjdGVkIG1hdGNoZXMgd2l0aCB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIGZyYW1lU3RhdGUsIGhpdFRvbGVyYW5jZSwgY2FsbGJhY2ssIG1hdGNoZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnJlcGxheUdyb3VwXykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciByb3RhdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL01hcC5qc1wiKS5IaXRNYXRjaDxUPnx0cnVlPn0gKi9cbiAgICAgICAgdmFyIGZlYXR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2VTcSBUaGUgc3F1YXJlZCBkaXN0YW5jZSB0byB0aGUgY2xpY2sgcG9zaXRpb25cbiAgICAgICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBmZWF0dXJlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZmVhdHVyZSwgZ2VvbWV0cnksIGRpc3RhbmNlU3EpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBmZWF0dXJlc1trZXldO1xuICAgICAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVNxID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZmVhdHVyZSwgbGF5ZXIsIGdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKChmZWF0dXJlc1trZXldID0ge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlOiBmZWF0dXJlLFxuICAgICAgICAgICAgICAgICAgICBsYXllcjogbGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VTcTogZGlzdGFuY2VTcSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoICE9PSB0cnVlICYmIGRpc3RhbmNlU3EgPCBtYXRjaC5kaXN0YW5jZVNxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlU3EgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMuc3BsaWNlKG1hdGNoZXMubGFzdEluZGV4T2YobWF0Y2gpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUsIGxheWVyLCBnZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hdGNoLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICAgICAgbWF0Y2guZGlzdGFuY2VTcSA9IGRpc3RhbmNlU3E7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgZXhlY3V0b3JHcm91cHMgPSBbdGhpcy5yZXBsYXlHcm91cF9dO1xuICAgICAgICBpZiAodGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwKSB7XG4gICAgICAgICAgICBleGVjdXRvckdyb3Vwcy5wdXNoKHRoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgZXhlY3V0b3JHcm91cHMuc29tZShmdW5jdGlvbiAoZXhlY3V0b3JHcm91cCkge1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBleGVjdXRvckdyb3VwLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKGNvb3JkaW5hdGUsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBoaXRUb2xlcmFuY2UsIGZlYXR1cmVDYWxsYmFjaywgZXhlY3V0b3JHcm91cCA9PT0gX3RoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cFxuICAgICAgICAgICAgICAgID8gZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlLmFsbCgpLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS52YWx1ZTsgfSlcbiAgICAgICAgICAgICAgICA6IG51bGwpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGFjdGlvbiBuZWNlc3NhcnkgdG8gZ2V0IHRoZSBsYXllciByZW5kZXJlZCBhZnRlciBuZXcgZm9udHMgaGF2ZSBsb2FkZWRcbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5oYW5kbGVGb250c0NoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgaWYgKGxheWVyLmdldFZpc2libGUoKSAmJiB0aGlzLnJlcGxheUdyb3VwXykge1xuICAgICAgICAgICAgbGF5ZXIuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgY2hhbmdlcyBpbiBpbWFnZSBzdHlsZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBJbWFnZSBzdHlsZSBjaGFuZ2UgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyLnByb3RvdHlwZS5oYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnJlbmRlcklmUmVhZHlBbmRWaXNpYmxlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciByZW5kZXIgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLnByZXBhcmVGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIHZhciB2ZWN0b3JMYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgICAgdmFyIHZlY3RvclNvdXJjZSA9IHZlY3RvckxheWVyLmdldFNvdXJjZSgpO1xuICAgICAgICBpZiAoIXZlY3RvclNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbmltYXRpbmcgPSBmcmFtZVN0YXRlLnZpZXdIaW50c1tWaWV3SGludC5BTklNQVRJTkddO1xuICAgICAgICB2YXIgaW50ZXJhY3RpbmcgPSBmcmFtZVN0YXRlLnZpZXdIaW50c1tWaWV3SGludC5JTlRFUkFDVElOR107XG4gICAgICAgIHZhciB1cGRhdGVXaGlsZUFuaW1hdGluZyA9IHZlY3RvckxheWVyLmdldFVwZGF0ZVdoaWxlQW5pbWF0aW5nKCk7XG4gICAgICAgIHZhciB1cGRhdGVXaGlsZUludGVyYWN0aW5nID0gdmVjdG9yTGF5ZXIuZ2V0VXBkYXRlV2hpbGVJbnRlcmFjdGluZygpO1xuICAgICAgICBpZiAoKCF0aGlzLmRpcnR5XyAmJiAhdXBkYXRlV2hpbGVBbmltYXRpbmcgJiYgYW5pbWF0aW5nKSB8fFxuICAgICAgICAgICAgKCF1cGRhdGVXaGlsZUludGVyYWN0aW5nICYmIGludGVyYWN0aW5nKSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpbmdPckludGVyYWN0aW5nXyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGluZ09ySW50ZXJhY3RpbmdfID0gZmFsc2U7XG4gICAgICAgIHZhciBmcmFtZVN0YXRlRXh0ZW50ID0gZnJhbWVTdGF0ZS5leHRlbnQ7XG4gICAgICAgIHZhciB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgICAgIHZhciB2ZWN0b3JMYXllclJldmlzaW9uID0gdmVjdG9yTGF5ZXIuZ2V0UmV2aXNpb24oKTtcbiAgICAgICAgdmFyIHZlY3RvckxheWVyUmVuZGVyQnVmZmVyID0gdmVjdG9yTGF5ZXIuZ2V0UmVuZGVyQnVmZmVyKCk7XG4gICAgICAgIHZhciB2ZWN0b3JMYXllclJlbmRlck9yZGVyID0gdmVjdG9yTGF5ZXIuZ2V0UmVuZGVyT3JkZXIoKTtcbiAgICAgICAgaWYgKHZlY3RvckxheWVyUmVuZGVyT3JkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmVjdG9yTGF5ZXJSZW5kZXJPcmRlciA9IGRlZmF1bHRSZW5kZXJPcmRlcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2VudGVyID0gdmlld1N0YXRlLmNlbnRlci5zbGljZSgpO1xuICAgICAgICB2YXIgZXh0ZW50ID0gYnVmZmVyKGZyYW1lU3RhdGVFeHRlbnQsIHZlY3RvckxheWVyUmVuZGVyQnVmZmVyICogcmVzb2x1dGlvbik7XG4gICAgICAgIHZhciBsb2FkRXh0ZW50cyA9IFtleHRlbnQuc2xpY2UoKV07XG4gICAgICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgICAgaWYgKHZlY3RvclNvdXJjZS5nZXRXcmFwWCgpICYmXG4gICAgICAgICAgICBwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgICAgICFjb250YWluc0V4dGVudChwcm9qZWN0aW9uRXh0ZW50LCBmcmFtZVN0YXRlLmV4dGVudCkpIHtcbiAgICAgICAgICAgIC8vIEZvciB0aGUgcmVwbGF5IGdyb3VwLCB3ZSBuZWVkIGFuIGV4dGVudCB0aGF0IGludGVyc2VjdHMgdGhlIHJlYWwgd29ybGRcbiAgICAgICAgICAgIC8vICgtMTgwwrAgdG8gKzE4MMKwKS4gVG8gc3VwcG9ydCBnZW9tZXRyaWVzIGluIGEgY29vcmRpbmF0ZSByYW5nZSBmcm9tIC01NDDCsFxuICAgICAgICAgICAgLy8gdG8gKzU0MMKwLCB3ZSBhZGQgYXQgbGVhc3QgMSB3b3JsZCB3aWR0aCBvbiBlYWNoIHNpZGUgb2YgdGhlIHByb2plY3Rpb25cbiAgICAgICAgICAgIC8vIGV4dGVudC4gSWYgdGhlIHZpZXdwb3J0IGlzIHdpZGVyIHRoYW4gdGhlIHdvcmxkLCB3ZSBuZWVkIHRvIGFkZCBoYWxmIG9mXG4gICAgICAgICAgICAvLyB0aGUgdmlld3BvcnQgd2lkdGggdG8gbWFrZSBzdXJlIHdlIGNvdmVyIHRoZSB3aG9sZSB2aWV3cG9ydC5cbiAgICAgICAgICAgIHZhciB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICAgICAgICB2YXIgZ3V0dGVyID0gTWF0aC5tYXgoZ2V0V2lkdGgoZXh0ZW50KSAvIDIsIHdvcmxkV2lkdGgpO1xuICAgICAgICAgICAgZXh0ZW50WzBdID0gcHJvamVjdGlvbkV4dGVudFswXSAtIGd1dHRlcjtcbiAgICAgICAgICAgIGV4dGVudFsyXSA9IHByb2plY3Rpb25FeHRlbnRbMl0gKyBndXR0ZXI7XG4gICAgICAgICAgICB3cmFwQ29vcmRpbmF0ZVgoY2VudGVyLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBsb2FkRXh0ZW50ID0gd3JhcEV4dGVudFgobG9hZEV4dGVudHNbMF0sIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGV4dGVudCBjcm9zc2VzIHRoZSBkYXRlIGxpbmUsIHdlIGxvYWQgZGF0YSBmb3IgYm90aCBlZGdlcyBvZiB0aGUgd29ybGRzXG4gICAgICAgICAgICBpZiAobG9hZEV4dGVudFswXSA8IHByb2plY3Rpb25FeHRlbnRbMF0gJiZcbiAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzJdIDwgcHJvamVjdGlvbkV4dGVudFsyXSkge1xuICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRzLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzBdICsgd29ybGRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFsxXSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFsyXSArIHdvcmxkV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbM10sXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsb2FkRXh0ZW50WzBdID4gcHJvamVjdGlvbkV4dGVudFswXSAmJlxuICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMl0gPiBwcm9qZWN0aW9uRXh0ZW50WzJdKSB7XG4gICAgICAgICAgICAgICAgbG9hZEV4dGVudHMucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFeHRlbnRbMF0gLSB3b3JsZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzFdLFxuICAgICAgICAgICAgICAgICAgICBsb2FkRXh0ZW50WzJdIC0gd29ybGRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZEV4dGVudFszXSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGlydHlfICYmXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbl8gPT0gcmVzb2x1dGlvbiAmJlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9PSB2ZWN0b3JMYXllclJldmlzaW9uICYmXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkUmVuZGVyT3JkZXJfID09IHZlY3RvckxheWVyUmVuZGVyT3JkZXIgJiZcbiAgICAgICAgICAgIGNvbnRhaW5zRXh0ZW50KHRoaXMucmVuZGVyZWRFeHRlbnRfLCBleHRlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlcGxheUdyb3VwQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBsYXlHcm91cF8gPSBudWxsO1xuICAgICAgICB0aGlzLmRpcnR5XyA9IGZhbHNlO1xuICAgICAgICB2YXIgcmVwbGF5R3JvdXAgPSBuZXcgQ2FudmFzQnVpbGRlckdyb3VwKGdldFJlbmRlclRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSwgZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgdmFyIGRlY2x1dHRlckJ1aWxkZXJHcm91cDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0TGF5ZXIoKS5nZXREZWNsdXR0ZXIoKSkge1xuICAgICAgICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwID0gbmV3IENhbnZhc0J1aWxkZXJHcm91cChnZXRSZW5kZXJUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyksIGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVzZXJQcm9qZWN0aW9uID0gZ2V0VXNlclByb2plY3Rpb24oKTtcbiAgICAgICAgdmFyIHVzZXJUcmFuc2Zvcm07XG4gICAgICAgIGlmICh1c2VyUHJvamVjdGlvbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbG9hZEV4dGVudHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHZlY3RvclNvdXJjZS5sb2FkRmVhdHVyZXModG9Vc2VyRXh0ZW50KGxvYWRFeHRlbnRzW2ldLCBwcm9qZWN0aW9uKSwgcmVzb2x1dGlvbiwgdXNlclByb2plY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXNlclRyYW5zZm9ybSA9IGdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyh1c2VyUHJvamVjdGlvbiwgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBsb2FkRXh0ZW50cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmVjdG9yU291cmNlLmxvYWRGZWF0dXJlcyhsb2FkRXh0ZW50c1tpXSwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNxdWFyZWRUb2xlcmFuY2UgPSBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlKHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgcmVuZGVyID0gXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKiBAdGhpcyB7Q2FudmFzVmVjdG9yTGF5ZXJSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGVzO1xuICAgICAgICAgICAgdmFyIHN0eWxlRnVuY3Rpb24gPSBmZWF0dXJlLmdldFN0eWxlRnVuY3Rpb24oKSB8fCB2ZWN0b3JMYXllci5nZXRTdHlsZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc3R5bGVGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHN0eWxlcyA9IHN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpcnR5ID0gdGhpcy5yZW5kZXJGZWF0dXJlKGZlYXR1cmUsIHNxdWFyZWRUb2xlcmFuY2UsIHN0eWxlcywgcmVwbGF5R3JvdXAsIHVzZXJUcmFuc2Zvcm0sIGRlY2x1dHRlckJ1aWxkZXJHcm91cCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eV8gPSB0aGlzLmRpcnR5XyB8fCBkaXJ0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICB2YXIgdXNlckV4dGVudCA9IHRvVXNlckV4dGVudChleHRlbnQsIHByb2plY3Rpb24pO1xuICAgICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59ICovXG4gICAgICAgIHZhciBmZWF0dXJlcyA9IHZlY3RvclNvdXJjZS5nZXRGZWF0dXJlc0luRXh0ZW50KHVzZXJFeHRlbnQpO1xuICAgICAgICBpZiAodmVjdG9yTGF5ZXJSZW5kZXJPcmRlcikge1xuICAgICAgICAgICAgZmVhdHVyZXMuc29ydCh2ZWN0b3JMYXllclJlbmRlck9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICByZW5kZXIoZmVhdHVyZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZWRGZWF0dXJlc18gPSBmZWF0dXJlcztcbiAgICAgICAgdmFyIHJlcGxheUdyb3VwSW5zdHJ1Y3Rpb25zID0gcmVwbGF5R3JvdXAuZmluaXNoKCk7XG4gICAgICAgIHZhciBleGVjdXRvckdyb3VwID0gbmV3IEV4ZWN1dG9yR3JvdXAoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCB2ZWN0b3JTb3VyY2UuZ2V0T3ZlcmxhcHMoKSwgcmVwbGF5R3JvdXBJbnN0cnVjdGlvbnMsIHZlY3RvckxheWVyLmdldFJlbmRlckJ1ZmZlcigpKTtcbiAgICAgICAgaWYgKGRlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgICAgICAgdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gbmV3IEV4ZWN1dG9yR3JvdXAoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCB2ZWN0b3JTb3VyY2UuZ2V0T3ZlcmxhcHMoKSwgZGVjbHV0dGVyQnVpbGRlckdyb3VwLmZpbmlzaCgpLCB2ZWN0b3JMYXllci5nZXRSZW5kZXJCdWZmZXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlZFJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uXyA9IHZlY3RvckxheWVyUmV2aXNpb247XG4gICAgICAgIHRoaXMucmVuZGVyZWRSZW5kZXJPcmRlcl8gPSB2ZWN0b3JMYXllclJlbmRlck9yZGVyO1xuICAgICAgICB0aGlzLnJlbmRlcmVkRXh0ZW50XyA9IGV4dGVudDtcbiAgICAgICAgdGhpcy5yZW5kZXJlZENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICAgIHRoaXMucmVuZGVyZWRQcm9qZWN0aW9uXyA9IHByb2plY3Rpb247XG4gICAgICAgIHRoaXMucmVwbGF5R3JvdXBfID0gZXhlY3V0b3JHcm91cDtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZURhdGFfID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXBsYXlHcm91cENoYW5nZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCByZW5kZXIgdG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdHxBcnJheTxpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0Pn0gc3R5bGVzIFRoZSBzdHlsZSBvciBhcnJheSBvZiBzdHlsZXMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgQnVpbGRlciBncm91cC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb249fSBvcHRfdHJhbnNmb3JtIFRyYW5zZm9ybSBmcm9tIHVzZXIgdG8gdmlldyBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdD19IG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXAgQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBhbiBpbWFnZSBpcyBsb2FkaW5nLlxuICAgICAqL1xuICAgIENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZSwgc3F1YXJlZFRvbGVyYW5jZSwgc3R5bGVzLCBidWlsZGVyR3JvdXAsIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzdHlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGxvYWRpbmcgPVxuICAgICAgICAgICAgICAgICAgICByZW5kZXJGZWF0dXJlKGJ1aWxkZXJHcm91cCwgZmVhdHVyZSwgc3R5bGVzW2ldLCBzcXVhcmVkVG9sZXJhbmNlLCB0aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sIG9wdF90cmFuc2Zvcm0sIG9wdF9kZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHx8IGxvYWRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2FkaW5nID0gcmVuZGVyRmVhdHVyZShidWlsZGVyR3JvdXAsIGZlYXR1cmUsIHN0eWxlcywgc3F1YXJlZFRvbGVyYW5jZSwgdGhpcy5ib3VuZEhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfLCBvcHRfdHJhbnNmb3JtLCBvcHRfZGVjbHV0dGVyQnVpbGRlckdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9hZGluZztcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyO1xufShDYW52YXNMYXllclJlbmRlcmVyKSk7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yTGF5ZXIuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvaGl0ZGV0ZWN0XG4gKi9cbmltcG9ydCBDYW52YXNJbW1lZGlhdGVSZW5kZXJlciBmcm9tICcuL0ltbWVkaWF0ZS5qcyc7XG5pbXBvcnQgR2VvbWV0cnlUeXBlIGZyb20gJy4uLy4uL2dlb20vR2VvbWV0cnlUeXBlLmpzJztcbmltcG9ydCBJY29uQW5jaG9yVW5pdHMgZnJvbSAnLi4vLi4vc3R5bGUvSWNvbkFuY2hvclVuaXRzLmpzJztcbmltcG9ydCB7IEljb24gfSBmcm9tICcuLi8uLi9zdHlsZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYW52YXNDb250ZXh0MkQgfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0cyB9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBudW1iZXJTYWZlQ29tcGFyZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBDYW52YXMgc2l6ZSBpbiBjc3MgcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtPn0gdHJhbnNmb3JtcyBUcmFuc2Zvcm1zXG4gKiBmb3IgcmVuZGVyaW5nIGZlYXR1cmVzIHRvIGFsbCB3b3JsZHMgb2YgdGhlIHZpZXdwb3J0LCBmcm9tIGNvb3JkaW5hdGVzIHRvIGNzc1xuICogcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gZmVhdHVyZXNcbiAqIEZlYXR1cmVzIHRvIGNvbnNpZGVyIGZvciBoaXQgZGV0ZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gc3R5bGVGdW5jdGlvblxuICogTGF5ZXIgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7SW1hZ2VEYXRhfSBIaXQgZGV0ZWN0aW9uIGltYWdlIGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoc2l6ZSwgdHJhbnNmb3JtcywgZmVhdHVyZXMsIHN0eWxlRnVuY3Rpb24sIGV4dGVudCwgcmVzb2x1dGlvbiwgcm90YXRpb24pIHtcbiAgICB2YXIgd2lkdGggPSBzaXplWzBdIC8gMjtcbiAgICB2YXIgaGVpZ2h0ID0gc2l6ZVsxXSAvIDI7XG4gICAgdmFyIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGgsIGhlaWdodCk7XG4gICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICB2YXIgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgdmFyIHJlbmRlcmVyID0gbmV3IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKGNvbnRleHQsIDAuNSwgZXh0ZW50LCBudWxsLCByb3RhdGlvbik7XG4gICAgdmFyIGZlYXR1cmVDb3VudCA9IGZlYXR1cmVzLmxlbmd0aDtcbiAgICAvLyBTdHJldGNoIGhpdCBkZXRlY3Rpb24gaW5kZXggdG8gdXNlIHRoZSB3aG9sZSBhdmFpbGFibGUgY29sb3IgcmFuZ2VcbiAgICB2YXIgaW5kZXhGYWN0b3IgPSBNYXRoLmZsb29yKCgyNTYgKiAyNTYgKiAyNTYgLSAxKSAvIGZlYXR1cmVDb3VudCk7XG4gICAgdmFyIGZlYXR1cmVzQnlaSW5kZXggPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBmZWF0dXJlQ291bnQ7ICsraSkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IGZlYXR1cmVzW2kgLSAxXTtcbiAgICAgICAgdmFyIGZlYXR1cmVTdHlsZUZ1bmN0aW9uID0gZmVhdHVyZS5nZXRTdHlsZUZ1bmN0aW9uKCkgfHwgc3R5bGVGdW5jdGlvbjtcbiAgICAgICAgaWYgKCFzdHlsZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGVzID0gZmVhdHVyZVN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbik7XG4gICAgICAgIGlmICghc3R5bGVzKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgICAgICAgc3R5bGVzID0gW3N0eWxlc107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gaSAqIGluZGV4RmFjdG9yO1xuICAgICAgICB2YXIgY29sb3IgPSAnIycgKyAoJzAwMDAwMCcgKyBpbmRleC50b1N0cmluZygxNikpLnNsaWNlKC02KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gc3R5bGVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFN0eWxlID0gc3R5bGVzW2pdO1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gb3JpZ2luYWxTdHlsZS5jbG9uZSgpO1xuICAgICAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5nZXRGaWxsKCk7XG4gICAgICAgICAgICBpZiAoZmlsbCkge1xuICAgICAgICAgICAgICAgIGZpbGwuc2V0Q29sb3IoY29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0cm9rZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICAgICAgICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAgICAgICAgIHN0cm9rZS5zZXRDb2xvcihjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZS5zZXRUZXh0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBvcmlnaW5hbFN0eWxlLmdldEltYWdlKCk7XG4gICAgICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nU2l6ZSA9IGltYWdlLmdldEltYWdlU2l6ZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaW1nU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhc18xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzXzEud2lkdGggPSBpbWdTaXplWzBdO1xuICAgICAgICAgICAgICAgIGNhbnZhc18xLmhlaWdodCA9IGltZ1NpemVbMV07XG4gICAgICAgICAgICAgICAgdmFyIGltZ0NvbnRleHQgPSBjYW52YXNfMS5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGltZ0NvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IGltZ0NvbnRleHQuY2FudmFzO1xuICAgICAgICAgICAgICAgIGltZ0NvbnRleHQuZmlsbFJlY3QoMCwgMCwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGhfMSA9IGltZ1NpemUgPyBpbWdTaXplWzBdIDogaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHRfMSA9IGltZ1NpemUgPyBpbWdTaXplWzFdIDogaW1nLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgaWNvbkNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGhfMSwgaGVpZ2h0XzEpO1xuICAgICAgICAgICAgICAgIGljb25Db250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICAgICAgICAgIHN0eWxlLnNldEltYWdlKG5ldyBJY29uKHtcbiAgICAgICAgICAgICAgICAgICAgaW1nOiBpbWcsXG4gICAgICAgICAgICAgICAgICAgIGltZ1NpemU6IGltZ1NpemUsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvcjogaW1hZ2UuZ2V0QW5jaG9yKCksXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclhVbml0czogSWNvbkFuY2hvclVuaXRzLlBJWEVMUyxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWVVuaXRzOiBJY29uQW5jaG9yVW5pdHMuUElYRUxTLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGltYWdlLmdldE9yaWdpbigpLFxuICAgICAgICAgICAgICAgICAgICBzaXplOiBpbWFnZS5nZXRTaXplKCksXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGltYWdlLmdldE9wYWNpdHkoKSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IGltYWdlLmdldFNjYWxlKCksXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBpbWFnZS5nZXRSb3RhdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoVmlldzogaW1hZ2UuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgekluZGV4ID0gTnVtYmVyKHN0eWxlLmdldFpJbmRleCgpKTtcbiAgICAgICAgICAgIHZhciBieUdlb21ldHJ5VHlwZSA9IGZlYXR1cmVzQnlaSW5kZXhbekluZGV4XTtcbiAgICAgICAgICAgIGlmICghYnlHZW9tZXRyeVR5cGUpIHtcbiAgICAgICAgICAgICAgICBieUdlb21ldHJ5VHlwZSA9IHt9O1xuICAgICAgICAgICAgICAgIGZlYXR1cmVzQnlaSW5kZXhbekluZGV4XSA9IGJ5R2VvbWV0cnlUeXBlO1xuICAgICAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW0dlb21ldHJ5VHlwZS5QT0xZR09OXSA9IFtdO1xuICAgICAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW0dlb21ldHJ5VHlwZS5DSVJDTEVdID0gW107XG4gICAgICAgICAgICAgICAgYnlHZW9tZXRyeVR5cGVbR2VvbWV0cnlUeXBlLkxJTkVfU1RSSU5HXSA9IFtdO1xuICAgICAgICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW0dlb21ldHJ5VHlwZS5QT0lOVF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IHN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeSAmJiBpbnRlcnNlY3RzKGV4dGVudCwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICAgICAgYnlHZW9tZXRyeVR5cGVbZ2VvbWV0cnkuZ2V0VHlwZSgpLnJlcGxhY2UoJ011bHRpJywgJycpXS5wdXNoKGdlb21ldHJ5LCBzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHpJbmRleEtleXMgPSBPYmplY3Qua2V5cyhmZWF0dXJlc0J5WkluZGV4KVxuICAgICAgICAubWFwKE51bWJlcilcbiAgICAgICAgLnNvcnQobnVtYmVyU2FmZUNvbXBhcmVGdW5jdGlvbik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gekluZGV4S2V5cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHZhciBieUdlb21ldHJ5VHlwZSA9IGZlYXR1cmVzQnlaSW5kZXhbekluZGV4S2V5c1tpXV07XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gYnlHZW9tZXRyeVR5cGUpIHtcbiAgICAgICAgICAgIHZhciBnZW9tQW5kU3R5bGUgPSBieUdlb21ldHJ5VHlwZVt0eXBlXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGdlb21BbmRTdHlsZS5sZW5ndGg7IGogPCBqajsgaiArPSAyKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0U3R5bGUoZ2VvbUFuZFN0eWxlW2ogKyAxXSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gdHJhbnNmb3Jtcy5sZW5ndGg7IGsgPCBrazsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldFRyYW5zZm9ybSh0cmFuc2Zvcm1zW2tdKTtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuZHJhd0dlb21ldHJ5KGdlb21BbmRTdHlsZVtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xufVxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3BpeGVsXCIpLlBpeGVsfSBwaXhlbCBQaXhlbCBjb29yZGluYXRlIG9uIHRoZSBoaXRcbiAqIGRldGVjdGlvbiBjYW52YXMgaW4gY3NzIHBpeGVscy5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZVwiKS5GZWF0dXJlTGlrZT59IGZlYXR1cmVzIEZlYXR1cmVzLiBIYXMgdG9cbiAqIG1hdGNoIHRoZSBgZmVhdHVyZXNgIGFycmF5IHRoYXQgd2FzIHBhc3NlZCB0byBgY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKClgLlxuICogQHBhcmFtIHtJbWFnZURhdGF9IGltYWdlRGF0YSBIaXQgZGV0ZWN0aW9uIGltYWdlIGRhdGEgZ2VuZXJhdGVkIGJ5XG4gKiBgY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKClgLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZVwiKS5GZWF0dXJlTGlrZT59IGZlYXR1cmVzIEZlYXR1cmVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGl0RGV0ZWN0KHBpeGVsLCBmZWF0dXJlcywgaW1hZ2VEYXRhKSB7XG4gICAgdmFyIHJlc3VsdEZlYXR1cmVzID0gW107XG4gICAgaWYgKGltYWdlRGF0YSkge1xuICAgICAgICB2YXIgaW5kZXggPSAoTWF0aC5yb3VuZChwaXhlbFswXSAvIDIpICsgTWF0aC5yb3VuZChwaXhlbFsxXSAvIDIpICogaW1hZ2VEYXRhLndpZHRoKSAqXG4gICAgICAgICAgICA0O1xuICAgICAgICB2YXIgciA9IGltYWdlRGF0YS5kYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGcgPSBpbWFnZURhdGEuZGF0YVtpbmRleCArIDFdO1xuICAgICAgICB2YXIgYiA9IGltYWdlRGF0YS5kYXRhW2luZGV4ICsgMl07XG4gICAgICAgIHZhciBpID0gYiArIDI1NiAqIChnICsgMjU2ICogcik7XG4gICAgICAgIHZhciBpbmRleEZhY3RvciA9IE1hdGguZmxvb3IoKDI1NiAqIDI1NiAqIDI1NiAtIDEpIC8gZmVhdHVyZXMubGVuZ3RoKTtcbiAgICAgICAgaWYgKGkgJiYgaSAlIGluZGV4RmFjdG9yID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHRGZWF0dXJlcy5wdXNoKGZlYXR1cmVzW2kgLyBpbmRleEZhY3RvciAtIDFdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0RmVhdHVyZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oaXRkZXRlY3QuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9WZWN0b3JcbiAqL1xuaW1wb3J0IEJhc2VWZWN0b3JMYXllciBmcm9tICcuL0Jhc2VWZWN0b3IuanMnO1xuaW1wb3J0IENhbnZhc1ZlY3RvckxheWVyUmVuZGVyZXIgZnJvbSAnLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvckxheWVyLmpzJztcbi8qKlxuICogQGNsYXNzZGVzY1xuICogVmVjdG9yIGRhdGEgdGhhdCBpcyByZW5kZXJlZCBjbGllbnQtc2lkZS5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAZXh0ZW5kcyB7QmFzZVZlY3RvckxheWVyPGltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdD59XG4gKiBAYXBpXG4gKi9cbnZhciBWZWN0b3JMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmVjdG9yTGF5ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0Jhc2VWZWN0b3IuanNcIikuT3B0aW9ucz19IG9wdF9vcHRpb25zIE9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmVjdG9yTGF5ZXIob3B0X29wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG9wdF9vcHRpb25zKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSByZW5kZXJlciBmb3IgdGhpcyBsYXllci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9yZW5kZXJlci9MYXllci5qc1wiKS5kZWZhdWx0fSBBIGxheWVyIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIFZlY3RvckxheWVyLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNWZWN0b3JMYXllclJlbmRlcmVyKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFZlY3RvckxheWVyO1xufShCYXNlVmVjdG9yTGF5ZXIpKTtcbmV4cG9ydCBkZWZhdWx0IFZlY3RvckxheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjdG9yLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL1JCdXNoXG4gKi9cbmltcG9ydCBSQnVzaF8gZnJvbSAncmJ1c2gnO1xuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGUsIGVxdWFscyB9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi9vYmouanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFbnRyeVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ZXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4WFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFlcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbdmFsdWVdXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogV3JhcHBlciBhcm91bmQgdGhlIFJCdXNoIGJ5IFZsYWRpbWlyIEFnYWZvbmtpbi5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICovXG52YXIgUkJ1c2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfbWF4RW50cmllcyBNYXggZW50cmllcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSQnVzaChvcHRfbWF4RW50cmllcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmJ1c2hfID0gbmV3IFJCdXNoXyhvcHRfbWF4RW50cmllcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcHBpbmcgYmV0d2VlbiB0aGUgb2JqZWN0cyBhZGRlZCB0byB0aGlzIHJidXNoIHdyYXBwZXJcbiAgICAgICAgICogYW5kIHRoZSBvYmplY3RzIHRoYXQgYXJlIGFjdHVhbGx5IGFkZGVkIHRvIHRoZSBpbnRlcm5hbCByYnVzaC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEVudHJ5Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbXNfID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydCBhIHZhbHVlIGludG8gdGhlIFJCdXNoLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoZXh0ZW50LCB2YWx1ZSkge1xuICAgICAgICAvKiogQHR5cGUge0VudHJ5fSAqL1xuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgIG1pblg6IGV4dGVudFswXSxcbiAgICAgICAgICAgIG1pblk6IGV4dGVudFsxXSxcbiAgICAgICAgICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICAgICAgICAgIG1heFk6IGV4dGVudFszXSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yYnVzaF8uaW5zZXJ0KGl0ZW0pO1xuICAgICAgICB0aGlzLml0ZW1zX1tnZXRVaWQodmFsdWUpXSA9IGl0ZW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCdWxrLWluc2VydCB2YWx1ZXMgaW50byB0aGUgUkJ1c2guXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gZXh0ZW50cyBFeHRlbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8VD59IHZhbHVlcyBWYWx1ZXMuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoZXh0ZW50cywgdmFsdWVzKSB7XG4gICAgICAgIHZhciBpdGVtcyA9IG5ldyBBcnJheSh2YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50ID0gZXh0ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7RW50cnl9ICovXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICBtaW5YOiBleHRlbnRbMF0sXG4gICAgICAgICAgICAgICAgbWluWTogZXh0ZW50WzFdLFxuICAgICAgICAgICAgICAgIG1heFg6IGV4dGVudFsyXSxcbiAgICAgICAgICAgICAgICBtYXhZOiBleHRlbnRbM10sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGl0ZW1zW2ldID0gaXRlbTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNfW2dldFVpZCh2YWx1ZSldID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJidXNoXy5sb2FkKGl0ZW1zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHZhbHVlIGZyb20gdGhlIFJCdXNoLlxuICAgICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmVtb3ZlZC5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciB1aWQgPSBnZXRVaWQodmFsdWUpO1xuICAgICAgICAvLyBnZXQgdGhlIG9iamVjdCBpbiB3aGljaCB0aGUgdmFsdWUgd2FzIHdyYXBwZWQgd2hlbiBhZGRpbmcgdG8gdGhlXG4gICAgICAgIC8vIGludGVybmFsIHJidXNoLiB0aGVuIHVzZSB0aGF0IG9iamVjdCB0byBkbyB0aGUgcmVtb3ZhbC5cbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zX1t1aWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5pdGVtc19bdWlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmJ1c2hfLnJlbW92ZShpdGVtKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZXh0ZW50IG9mIGEgdmFsdWUgaW4gdGhlIFJCdXNoLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZXh0ZW50LCB2YWx1ZSkge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNfW2dldFVpZCh2YWx1ZSldO1xuICAgICAgICB2YXIgYmJveCA9IFtpdGVtLm1pblgsIGl0ZW0ubWluWSwgaXRlbS5tYXhYLCBpdGVtLm1heFldO1xuICAgICAgICBpZiAoIWVxdWFscyhiYm94LCBleHRlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZSh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmluc2VydChleHRlbnQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCB2YWx1ZXMgaW4gdGhlIFJCdXNoLlxuICAgICAqIEByZXR1cm4ge0FycmF5PFQ+fSBBbGwuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5yYnVzaF8uYWxsKCk7XG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgdmFsdWVzIGluIHRoZSBnaXZlbiBleHRlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge0FycmF5PFQ+fSBBbGwgaW4gZXh0ZW50LlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5nZXRJbkV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgLyoqIEB0eXBlIHtFbnRyeX0gKi9cbiAgICAgICAgdmFyIGJib3ggPSB7XG4gICAgICAgICAgICBtaW5YOiBleHRlbnRbMF0sXG4gICAgICAgICAgICBtaW5ZOiBleHRlbnRbMV0sXG4gICAgICAgICAgICBtYXhYOiBleHRlbnRbMl0sXG4gICAgICAgICAgICBtYXhZOiBleHRlbnRbM10sXG4gICAgICAgIH07XG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMucmJ1c2hfLnNlYXJjaChiYm94KTtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbHMgYSBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIGVhY2ggdmFsdWUgaW4gdGhlIHRyZWUuXG4gICAgICogSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUsIHRoaXMgdmFsdWUgaXMgcmV0dXJuZWQgd2l0aG91dFxuICAgICAqIGNoZWNraW5nIHRoZSByZXN0IG9mIHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6ICp9IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEByZXR1cm4geyp9IENhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoXyh0aGlzLmdldEFsbCgpLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxscyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggZWFjaCB2YWx1ZSBpbiB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOiAqfSBjYWxsYmFjayBDYWxsYmFjay5cbiAgICAgKiBAcmV0dXJuIHsqfSBDYWxsYmFjayByZXR1cm4gdmFsdWUuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmZvckVhY2hJbkV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2hfKHRoaXMuZ2V0SW5FeHRlbnQoZXh0ZW50KSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxUPn0gdmFsdWVzIFZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOiAqfSBjYWxsYmFjayBDYWxsYmFjay5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4geyp9IENhbGxiYWNrIHJldHVybiB2YWx1ZS5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZm9yRWFjaF8gPSBmdW5jdGlvbiAodmFsdWVzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpc0VtcHR5KHRoaXMuaXRlbXNfKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgdmFsdWVzIGZyb20gdGhlIFJCdXNoLlxuICAgICAqL1xuICAgIFJCdXNoLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yYnVzaF8uY2xlYXIoKTtcbiAgICAgICAgdGhpcy5pdGVtc18gPSB7fTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9leHRlbnQgRXh0ZW50LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKi9cbiAgICBSQnVzaC5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKG9wdF9leHRlbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJidXNoXy50b0pTT04oKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKGRhdGEubWluWCwgZGF0YS5taW5ZLCBkYXRhLm1heFgsIGRhdGEubWF4WSwgb3B0X2V4dGVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1JCdXNofSByYnVzaCBSLVRyZWUuXG4gICAgICovXG4gICAgUkJ1c2gucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uIChyYnVzaCkge1xuICAgICAgICB0aGlzLnJidXNoXy5sb2FkKHJidXNoLnJidXNoXy5hbGwoKSk7XG4gICAgICAgIGZvciAodmFyIGkgaW4gcmJ1c2guaXRlbXNfKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zX1tpXSA9IHJidXNoLml0ZW1zX1tpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJCdXNoO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJCdXNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UkJ1c2guanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvU291cmNlXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgU291cmNlU3RhdGUgZnJvbSAnLi9TdGF0ZS5qcyc7XG5pbXBvcnQgeyBhYnN0cmFjdCB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgZ2V0IGFzIGdldFByb2plY3Rpb24gfSBmcm9tICcuLi9wcm9qLmpzJztcbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBzdHJpbmcgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgc291cmNlXG4gKiBhdHRyaWJ1dGlvbnMuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL1BsdWdnYWJsZU1hcC5qc1wiKS5GcmFtZVN0YXRlKTogKHN0cmluZ3xBcnJheTxzdHJpbmc+KX0gQXR0cmlidXRpb25cbiAqL1xuLyoqXG4gKiBBIHR5cGUgdGhhdCBjYW4gYmUgdXNlZCB0byBwcm92aWRlIGF0dHJpYnV0aW9uIGluZm9ybWF0aW9uIGZvciBkYXRhIHNvdXJjZXMuXG4gKlxuICogSXQgcmVwcmVzZW50cyBlaXRoZXJcbiAqICogYSBzaW1wbGUgc3RyaW5nIChlLmcuIGAnwqkgQWNtZSBJbmMuJ2ApXG4gKiAqIGFuIGFycmF5IG9mIHNpbXBsZSBzdHJpbmdzIChlLmcuIGBbJ8KpIEFjbWUgSW5jLicsICfCqSBCYWNtZSBJbmMuJ11gKVxuICogKiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzICh7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9Tb3VyY2V+QXR0cmlidXRpb259KVxuICpcbiAqIEB0eXBlZGVmIHtzdHJpbmd8QXJyYXk8c3RyaW5nPnxBdHRyaWJ1dGlvbn0gQXR0cmlidXRpb25MaWtlXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtBdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IFtzdGF0ZT0ncmVhZHknXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQmFzZSBjbGFzcyBmb3Ige0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllcn0gc291cmNlcy5cbiAqXG4gKiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UgY2hhbmdlcy5cbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG52YXIgU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFNvdXJjZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNvdXJjZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9qZWN0aW9uXyA9IGdldFByb2plY3Rpb24ob3B0aW9ucy5wcm9qZWN0aW9uKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/QXR0cmlidXRpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMob3B0aW9ucy5hdHRyaWJ1dGlvbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXG4gICAgICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcgZGF0YS4gU291cmNlcyB0aGF0IGRlZmVyIGxvYWRpbmcgdG8gdGhlXG4gICAgICAgICAqIG1hcCdzIHRpbGUgcXVldWUgbmV2ZXIgc2V0IHRoaXMgdG8gYHRydWVgLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZV8gPVxuICAgICAgICAgICAgb3B0aW9ucy5zdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdGF0ZSA6IFNvdXJjZVN0YXRlLlJFQURZO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53cmFwWF8gPSBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhdHRyaWJ1dGlvbiBmdW5jdGlvbiBmb3IgdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHs/QXR0cmlidXRpb259IEF0dHJpYnV0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbnNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLmdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHByb2plY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gUHJvamVjdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfSBSZXNvbHV0aW9ucy5cbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLmdldFJlc29sdXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZSwgc2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1N0YXRlflN0YXRlfSBmb3IgcG9zc2libGUgc3RhdGVzLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gU3RhdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBXcmFwIFguXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5nZXRXcmFwWCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcFhfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7T2JqZWN0fHVuZGVmaW5lZH0gQ29udGV4dCBvcHRpb25zLlxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuZ2V0Q29udGV4dE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgdGhlIHNvdXJjZS4gVGhlIHNvdXJjZSB3aWxsIGJlIGNsZWFyZWQsIGFuZCBkYXRhIGZyb20gdGhlIHNlcnZlciB3aWxsIGJlIHJlbG9hZGVkLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBTb3VyY2UucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhdHRyaWJ1dGlvbnMgb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge0F0dHJpYnV0aW9uTGlrZXx1bmRlZmluZWR9IGF0dHJpYnV0aW9ucyBBdHRyaWJ1dGlvbnMuXG4gICAgICogICAgIENhbiBiZSBwYXNzZWQgYXMgYHN0cmluZ2AsIGBBcnJheTxzdHJpbmc+YCwge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvU291cmNlfkF0dHJpYnV0aW9ufSxcbiAgICAgKiAgICAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFNvdXJjZS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zID0gZnVuY3Rpb24gKGF0dHJpYnV0aW9ucykge1xuICAgICAgICB0aGlzLmF0dHJpYnV0aW9uc18gPSBhZGFwdEF0dHJpYnV0aW9ucyhhdHRyaWJ1dGlvbnMpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAgICovXG4gICAgU291cmNlLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlXyA9IHN0YXRlO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIHJldHVybiBTb3VyY2U7XG59KEJhc2VPYmplY3QpKTtcbi8qKlxuICogVHVybnMgdGhlIGF0dHJpYnV0aW9ucyBvcHRpb24gaW50byBhbiBhdHRyaWJ1dGlvbnMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0F0dHJpYnV0aW9uTGlrZXx1bmRlZmluZWR9IGF0dHJpYnV0aW9uTGlrZSBUaGUgYXR0cmlidXRpb24gb3B0aW9uLlxuICogQHJldHVybiB7P0F0dHJpYnV0aW9ufSBBbiBhdHRyaWJ1dGlvbiBmdW5jdGlvbiAob3IgbnVsbCkuXG4gKi9cbmZ1bmN0aW9uIGFkYXB0QXR0cmlidXRpb25zKGF0dHJpYnV0aW9uTGlrZSkge1xuICAgIGlmICghYXR0cmlidXRpb25MaWtlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShhdHRyaWJ1dGlvbkxpa2UpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0aW9uTGlrZTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGlvbkxpa2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0aW9uTGlrZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIHJldHVybiBbYXR0cmlidXRpb25MaWtlXTtcbiAgICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgU291cmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U291cmNlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVmVjdG9yRXZlbnRUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgZmVhdHVyZSBpcyBhZGRlZCB0byB0aGUgc291cmNlLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNhZGRmZWF0dXJlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEFEREZFQVRVUkU6ICdhZGRmZWF0dXJlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIGZlYXR1cmUgaXMgdXBkYXRlZC5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjY2hhbmdlZmVhdHVyZVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBDSEFOR0VGRUFUVVJFOiAnY2hhbmdlZmVhdHVyZScsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIGNsZWFyIG1ldGhvZCBpcyBjYWxsZWQgb24gdGhlIHNvdXJjZS5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjY2xlYXJcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgQ0xFQVI6ICdjbGVhcicsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSBmZWF0dXJlIGlzIHJlbW92ZWQgZnJvbSB0aGUgc291cmNlLlxuICAgICAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IjY2xlYXIgc291cmNlLmNsZWFyKCl9IGZvciBleGNlcHRpb25zLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNyZW1vdmVmZWF0dXJlXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFJFTU9WRUZFQVRVUkU6ICdyZW1vdmVmZWF0dXJlJyxcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBmZWF0dXJlcyBzdGFydHMgbG9hZGluZy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjZmVhdHVyZXNsb2Fkc3RhcnRcbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgRkVBVFVSRVNMT0FEU1RBUlQ6ICdmZWF0dXJlc2xvYWRzdGFydCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gZmVhdHVyZXMgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3IuVmVjdG9yU291cmNlRXZlbnQjZmVhdHVyZXNsb2FkZW5kXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIEZFQVRVUkVTTE9BREVORDogJ2ZlYXR1cmVzbG9hZGVuZCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGlmIGZlYXR1cmUgbG9hZGluZyByZXN1bHRzIGluIGFuIGVycm9yLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNmZWF0dXJlc2xvYWRlcnJvclxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBGRUFUVVJFU0xPQURFUlJPUjogJ2ZlYXR1cmVzbG9hZGVycm9yJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3JFdmVudFR5cGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xvYWRpbmdzdHJhdGVneVxuICovXG4vKipcbiAqIFN0cmF0ZWd5IGZ1bmN0aW9uIGZvciBsb2FkaW5nIGFsbCBmZWF0dXJlcyB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBFeHRlbnRzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWxsKGV4dGVudCwgcmVzb2x1dGlvbikge1xuICAgIHJldHVybiBbWy1JbmZpbml0eSwgLUluZmluaXR5LCBJbmZpbml0eSwgSW5maW5pdHldXTtcbn1cbi8qKlxuICogU3RyYXRlZ3kgZnVuY3Rpb24gZm9yIGxvYWRpbmcgZmVhdHVyZXMgYmFzZWQgb24gdGhlIHZpZXcncyBleHRlbnQgYW5kXG4gKiByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50Pn0gRXh0ZW50cy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJib3goZXh0ZW50LCByZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIFtleHRlbnRdO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgc3RyYXRlZ3kgZnVuY3Rpb24gZm9yIGxvYWRpbmcgZmVhdHVyZXMgYmFzZWQgb24gYSB0aWxlIGdyaWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIpOiBBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBMb2FkaW5nIHN0cmF0ZWd5LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGlsZSh0aWxlR3JpZCkge1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBFeHRlbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIHogPSB0aWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSAqL1xuICAgICAgICB2YXIgZXh0ZW50cyA9IFtdO1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gKi9cbiAgICAgICAgdmFyIHRpbGVDb29yZCA9IFt6LCAwLCAwXTtcbiAgICAgICAgZm9yICh0aWxlQ29vcmRbMV0gPSB0aWxlUmFuZ2UubWluWDsgdGlsZUNvb3JkWzFdIDw9IHRpbGVSYW5nZS5tYXhYOyArK3RpbGVDb29yZFsxXSkge1xuICAgICAgICAgICAgZm9yICh0aWxlQ29vcmRbMl0gPSB0aWxlUmFuZ2UubWluWTsgdGlsZUNvb3JkWzJdIDw9IHRpbGVSYW5nZS5tYXhZOyArK3RpbGVDb29yZFsyXSkge1xuICAgICAgICAgICAgICAgIGV4dGVudHMucHVzaCh0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4dGVudHM7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkaW5nc3RyYXRlZ3kuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Zvcm1hdC9Gb3JtYXRUeXBlXG4gKi9cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIEFSUkFZX0JVRkZFUjogJ2FycmF5YnVmZmVyJyxcbiAgICBKU09OOiAnanNvbicsXG4gICAgVEVYVDogJ3RleHQnLFxuICAgIFhNTDogJ3htbCcsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Rm9ybWF0VHlwZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvZmVhdHVyZWxvYWRlclxuICovXG5pbXBvcnQgRm9ybWF0VHlwZSBmcm9tICcuL2Zvcm1hdC9Gb3JtYXRUeXBlLmpzJztcbmltcG9ydCB7IFZPSUQgfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG4vKipcbiAqXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciB3aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yfSBzb3VyY2VzIHVzZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSB0b1xuICogbG9hZCBmZWF0dXJlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gcmVwcmVzZW50aW5nIHRoZSBhcmVhIHRvIGJlIGxvYWRlZCxcbiAqIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHJlc29sdXRpb24gKG1hcCB1bml0cyBwZXIgcGl4ZWwpLCBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiBhbmQgc3VjY2VzcyBhbmQgZmFpbHVyZSBjYWxsYmFja3MgYXNcbiAqIGFyZ3VtZW50cy4gYHRoaXNgIHdpdGhpbiB0aGUgZnVuY3Rpb24gaXMgYm91bmQgdG8gdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IGl0J3MgY2FsbGVkIGZyb20uXG4gKlxuICogVGhlIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBsb2FkaW5nIHRoZSBmZWF0dXJlcyBhbmQgYWRkaW5nIHRoZW0gdG8gdGhlXG4gKiBzb3VyY2UuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczooaW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQpLFxuICogICAgICAgICAgIGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCxcbiAqICAgICAgICAgICBudW1iZXIsXG4gKiAgICAgICAgICAgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCxcbiAqICAgICAgICAgICBmdW5jdGlvbihBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD4pOiB2b2lkPSxcbiAqICAgICAgICAgICBmdW5jdGlvbigpOiB2b2lkPSk6IHZvaWR9IEZlYXR1cmVMb2FkZXJcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvXG4gKiBnZXQgdGhlIHVybCB0byBsb2FkIGZlYXR1cmVzIGZyb20uXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IHJlcHJlc2VudGluZyB0aGUgYXJlYVxuICogdG8gYmUgbG9hZGVkLCBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSByZXNvbHV0aW9uIChtYXAgdW5pdHMgcGVyIHBpeGVsKVxuICogYW5kIGFuIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSBmb3IgdGhlIHByb2plY3Rpb24gIGFzXG4gKiBhcmd1bWVudHMgYW5kIHJldHVybnMgYSBge3N0cmluZ31gIHJlcHJlc2VudGluZyB0aGUgVVJMLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyLCBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogc3RyaW5nfSBGZWF0dXJlVXJsRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xGZWF0dXJlVXJsRnVuY3Rpb259IHVybCBGZWF0dXJlIFVSTCBzZXJ2aWNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZvcm1hdCBGZWF0dXJlIGZvcm1hdC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD4sIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBzdWNjZXNzIFN1Y2Nlc3NcbiAqICAgICAgRnVuY3Rpb24gY2FsbGVkIHdpdGggdGhlIGxvYWRlZCBmZWF0dXJlcyBhbmQgb3B0aW9uYWxseSB3aXRoIHRoZSBkYXRhIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IGZhaWx1cmUgRmFpbHVyZVxuICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIGZhaWxlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRGZWF0dXJlc1hocih1cmwsIGZvcm1hdCwgZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uLCBzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCB0eXBlb2YgdXJsID09PSAnZnVuY3Rpb24nID8gdXJsKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikgOiB1cmwsIHRydWUpO1xuICAgIGlmIChmb3JtYXQuZ2V0VHlwZSgpID09IEZvcm1hdFR5cGUuQVJSQVlfQlVGRkVSKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgIH1cbiAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gd2l0aENyZWRlbnRpYWxzO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBzdGF0dXMgd2lsbCBiZSAwIGZvciBmaWxlOi8vIHVybHNcbiAgICAgICAgaWYgKCF4aHIuc3RhdHVzIHx8ICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBmb3JtYXQuZ2V0VHlwZSgpO1xuICAgICAgICAgICAgLyoqIEB0eXBlIHtEb2N1bWVudHxOb2RlfE9iamVjdHxzdHJpbmd8dW5kZWZpbmVkfSAqL1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlID09IEZvcm1hdFR5cGUuSlNPTiB8fCB0eXBlID09IEZvcm1hdFR5cGUuVEVYVCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IEZvcm1hdFR5cGUuWE1MKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0geGhyLnJlc3BvbnNlWE1MO1xuICAgICAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoeGhyLnJlc3BvbnNlVGV4dCwgJ2FwcGxpY2F0aW9uL3htbCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gRm9ybWF0VHlwZS5BUlJBWV9CVUZGRVIpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSAvKiogQHR5cGUge0FycmF5QnVmZmVyfSAqLyAoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSAqL1xuICAgICAgICAgICAgICAgIChmb3JtYXQucmVhZEZlYXR1cmVzKHNvdXJjZSwge1xuICAgICAgICAgICAgICAgICAgICBleHRlbnQ6IGV4dGVudCxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IHByb2plY3Rpb24sXG4gICAgICAgICAgICAgICAgfSkpLCBmb3JtYXQucmVhZFByb2plY3Rpb24oc291cmNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmYWlsdXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgeGhyLm9uZXJyb3IgPSBmYWlsdXJlO1xuICAgIHhoci5zZW5kKCk7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBYSFIgZmVhdHVyZSBsb2FkZXIgZm9yIGEgYHVybGAgYW5kIGBmb3JtYXRgLiBUaGUgZmVhdHVyZSBsb2FkZXJcbiAqIGxvYWRzIGZlYXR1cmVzICh3aXRoIFhIUiksIHBhcnNlcyB0aGUgZmVhdHVyZXMsIGFuZCBhZGRzIHRoZW0gdG8gdGhlXG4gKiB2ZWN0b3Igc291cmNlLlxuICogQHBhcmFtIHtzdHJpbmd8RmVhdHVyZVVybEZ1bmN0aW9ufSB1cmwgRmVhdHVyZSBVUkwgc2VydmljZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmb3JtYXQgRmVhdHVyZSBmb3JtYXQuXG4gKiBAcmV0dXJuIHtGZWF0dXJlTG9hZGVyfSBUaGUgZmVhdHVyZSBsb2FkZXIuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB4aHIodXJsLCBmb3JtYXQpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZD19IHN1Y2Nlc3MgU3VjY2Vzc1xuICAgICAqICAgICAgRnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9hZGluZyBzdWNjZWVkZWQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkPX0gZmFpbHVyZSBGYWlsdXJlXG4gICAgICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIGZhaWxlZC5cbiAgICAgKiBAdGhpcyB7aW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR9ICovICh0aGlzKTtcbiAgICAgICAgbG9hZEZlYXR1cmVzWGhyKHVybCwgZm9ybWF0LCBleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IGZlYXR1cmVzIFRoZSBsb2FkZWQgZmVhdHVyZXMuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGF0YVByb2plY3Rpb24gRGF0YVxuICAgICAgICAgKiBwcm9qZWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGZlYXR1cmVzLCBkYXRhUHJvamVjdGlvbikge1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZmVhdHVyZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291cmNlLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcbiAgICAgICAgfSwgXG4gICAgICAgIC8qIEZJWE1FIGhhbmRsZSBlcnJvciAqLyBmYWlsdXJlID8gZmFpbHVyZSA6IFZPSUQpO1xuICAgIH07XG59XG4vKipcbiAqIFNldHRlciBmb3IgdGhlIHdpdGhDcmVkZW50aWFscyBjb25maWd1cmF0aW9uIGZvciB0aGUgWEhSLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0geGhyV2l0aENyZWRlbnRpYWxzIFRoZSB2YWx1ZSBvZiB3aXRoQ3JlZGVudGlhbHMgdG8gc2V0LlxuICogQ29tcGFyZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QvXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRXaXRoQ3JlZGVudGlhbHMoeGhyV2l0aENyZWRlbnRpYWxzKSB7XG4gICAgd2l0aENyZWRlbnRpYWxzID0geGhyV2l0aENyZWRlbnRpYWxzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmVhdHVyZWxvYWRlci5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1ZlY3RvclxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuLi9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBPYmplY3RFdmVudFR5cGUgZnJvbSAnLi4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBSQnVzaCBmcm9tICcuLi9zdHJ1Y3RzL1JCdXNoLmpzJztcbmltcG9ydCBTb3VyY2UgZnJvbSAnLi9Tb3VyY2UuanMnO1xuaW1wb3J0IFNvdXJjZVN0YXRlIGZyb20gJy4vU3RhdGUuanMnO1xuaW1wb3J0IFZlY3RvckV2ZW50VHlwZSBmcm9tICcuL1ZlY3RvckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgeyBUUlVFLCBWT0lEIH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IGFsbCBhcyBhbGxTdHJhdGVneSB9IGZyb20gJy4uL2xvYWRpbmdzdHJhdGVneS5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGNvbnRhaW5zRXh0ZW50LCBlcXVhbHMgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHsgZ2V0VWlkIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBnZXRWYWx1ZXMsIGlzRW1wdHkgfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCB7IHhociB9IGZyb20gJy4uL2ZlYXR1cmVsb2FkZXIuanMnO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSBhbmQgYSByZXNvbHV0aW9uIGFzIGFyZ3VtZW50cywgYW5kXG4gKiByZXR1cm5zIGFuIGFycmF5IG9mIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gd2l0aCB0aGUgZXh0ZW50cyB0byBsb2FkLiBVc3VhbGx5IHRoaXNcbiAqIGlzIG9uZSBvZiB0aGUgc3RhbmRhcmQge0BsaW5rIG1vZHVsZTpvbC9sb2FkaW5nc3RyYXRlZ3l9IHN0cmF0ZWdpZXMuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQsIG51bWJlcik6IEFycmF5PGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQ+fSBMb2FkaW5nU3RyYXRlZ3lcbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXNcbiAqIHR5cGUuXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gR2VvbWV0cnlcbiAqL1xudmFyIFZlY3RvclNvdXJjZUV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWZWN0b3JTb3VyY2VFdmVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj19IG9wdF9mZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pj19IG9wdF9mZWF0dXJlcyBGZWF0dXJlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWZWN0b3JTb3VyY2VFdmVudCh0eXBlLCBvcHRfZmVhdHVyZSwgb3B0X2ZlYXR1cmVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWRkZWQgb3IgcmVtb3ZlZCBmZWF0dXJlIGZvciB0aGUgYEFEREZFQVRVUkVgIGFuZCBgUkVNT1ZFRkVBVFVSRWAgZXZlbnRzLCBgdW5kZWZpbmVkYCBvdGhlcndpc2UuXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZSA9IG9wdF9mZWF0dXJlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvYWRlZCBmZWF0dXJlcyBmb3IgdGhlIGBGRUFUVVJFU0xPQURFRGAgZXZlbnQsIGB1bmRlZmluZWRgIG90aGVyd2lzZS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fHVuZGVmaW5lZH1cbiAgICAgICAgICogQGFwaVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZXMgPSBvcHRfZmVhdHVyZXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFZlY3RvclNvdXJjZUV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgVmVjdG9yU291cmNlRXZlbnQgfTtcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PnxDb2xsZWN0aW9uPGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IFtmZWF0dXJlc11cbiAqIEZlYXR1cmVzLiBJZiBwcm92aWRlZCBhcyB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259LCB0aGUgZmVhdHVyZXMgaW4gdGhlIHNvdXJjZVxuICogYW5kIHRoZSBjb2xsZWN0aW9uIHdpbGwgc3RheSBpbiBzeW5jLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBbZm9ybWF0XSBUaGUgZmVhdHVyZSBmb3JtYXQgdXNlZCBieSB0aGUgWEhSXG4gKiBmZWF0dXJlIGxvYWRlciB3aGVuIGB1cmxgIGlzIHNldC4gUmVxdWlyZWQgaWYgYHVybGAgaXMgc2V0LCBvdGhlcndpc2UgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfSBbbG9hZGVyXVxuICogVGhlIGxvYWRlciBmdW5jdGlvbiB1c2VkIHRvIGxvYWQgZmVhdHVyZXMsIGZyb20gYSByZW1vdGUgc291cmNlIGZvciBleGFtcGxlLlxuICogSWYgdGhpcyBpcyBub3Qgc2V0IGFuZCBgdXJsYCBpcyBzZXQsIHRoZSBzb3VyY2Ugd2lsbCBjcmVhdGUgYW5kIHVzZSBhbiBYSFJcbiAqIGZlYXR1cmUgbG9hZGVyLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7VmVjdG9yfSBmcm9tICdvbC9zb3VyY2UnO1xuICogaW1wb3J0IHtHZW9KU09OfSBmcm9tICdvbC9mb3JtYXQnO1xuICogaW1wb3J0IHtiYm94fSBmcm9tICdvbC9sb2FkaW5nc3RyYXRlZ3knO1xuICpcbiAqIHZhciB2ZWN0b3JTb3VyY2UgPSBuZXcgVmVjdG9yKHtcbiAqICAgZm9ybWF0OiBuZXcgR2VvSlNPTigpLFxuICogICBsb2FkZXI6IGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICogICAgICB2YXIgcHJvaiA9IHByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICogICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYWhvY2V2YXIuY29tL2dlb3NlcnZlci93ZnM/c2VydmljZT1XRlMmJyArXG4gKiAgICAgICAgICAndmVyc2lvbj0xLjEuMCZyZXF1ZXN0PUdldEZlYXR1cmUmdHlwZW5hbWU9b3NtOndhdGVyX2FyZWFzJicgK1xuICogICAgICAgICAgJ291dHB1dEZvcm1hdD1hcHBsaWNhdGlvbi9qc29uJnNyc25hbWU9JyArIHByb2ogKyAnJicgK1xuICogICAgICAgICAgJ2Jib3g9JyArIGV4dGVudC5qb2luKCcsJykgKyAnLCcgKyBwcm9qO1xuICogICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gKiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICogICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZlY3RvclNvdXJjZS5yZW1vdmVMb2FkZWRFeHRlbnQoZXh0ZW50KTtcbiAqICAgICAgfVxuICogICAgICB4aHIub25lcnJvciA9IG9uRXJyb3I7XG4gKiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAqICAgICAgICAgIHZlY3RvclNvdXJjZS5hZGRGZWF0dXJlcyhcbiAqICAgICAgICAgICAgICB2ZWN0b3JTb3VyY2UuZ2V0Rm9ybWF0KCkucmVhZEZlYXR1cmVzKHhoci5yZXNwb25zZVRleHQpKTtcbiAqICAgICAgICB9IGVsc2Uge1xuICogICAgICAgICAgb25FcnJvcigpO1xuICogICAgICAgIH1cbiAqICAgICAgfVxuICogICAgICB4aHIuc2VuZCgpO1xuICogICAgfSxcbiAqICAgIHN0cmF0ZWd5OiBiYm94XG4gKiAgfSk7XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW292ZXJsYXBzPXRydWVdIFRoaXMgc291cmNlIG1heSBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gKiBTZXR0aW5nIHRoaXMgdG8gYGZhbHNlYCAoZS5nLiBmb3Igc291cmNlcyB3aXRoIHBvbHlnb25zIHRoYXQgcmVwcmVzZW50IGFkbWluaXN0cmF0aXZlXG4gKiBib3VuZGFyaWVzIG9yIFRvcG9KU09OIHNvdXJjZXMpIGFsbG93cyB0aGUgcmVuZGVyZXIgdG8gb3B0aW1pc2UgZmlsbCBhbmRcbiAqIHN0cm9rZSBvcGVyYXRpb25zLlxuICogQHByb3BlcnR5IHtMb2FkaW5nU3RyYXRlZ3l9IFtzdHJhdGVneV0gVGhlIGxvYWRpbmcgc3RyYXRlZ3kgdG8gdXNlLlxuICogQnkgZGVmYXVsdCBhbiB7QGxpbmsgbW9kdWxlOm9sL2xvYWRpbmdzdHJhdGVneX5hbGx9XG4gKiBzdHJhdGVneSBpcyB1c2VkLCBhIG9uZS1vZmYgc3RyYXRlZ3kgd2hpY2ggbG9hZHMgYWxsIGZlYXR1cmVzIGF0IG9uY2UuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVVcmxGdW5jdGlvbn0gW3VybF1cbiAqIFNldHRpbmcgdGhpcyBvcHRpb24gaW5zdHJ1Y3RzIHRoZSBzb3VyY2UgdG8gbG9hZCBmZWF0dXJlcyB1c2luZyBhbiBYSFIgbG9hZGVyXG4gKiAoc2VlIHtAbGluayBtb2R1bGU6b2wvZmVhdHVyZWxvYWRlcn54aHJ9KS4gVXNlIGEgYHN0cmluZ2AgYW5kIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xvYWRpbmdzdHJhdGVneX5hbGx9IGZvciBhIG9uZS1vZmYgZG93bmxvYWQgb2YgYWxsIGZlYXR1cmVzIGZyb21cbiAqIHRoZSBnaXZlbiBVUkwuIFVzZSBhIHtAbGluayBtb2R1bGU6b2wvZmVhdHVyZWxvYWRlcn5GZWF0dXJlVXJsRnVuY3Rpb259IHRvIGdlbmVyYXRlIHRoZSB1cmwgd2l0aFxuICogb3RoZXIgbG9hZGluZyBzdHJhdGVnaWVzLlxuICogUmVxdWlyZXMgYGZvcm1hdGAgdG8gYmUgc2V0IGFzIHdlbGwuXG4gKiBXaGVuIGRlZmF1bHQgWEhSIGZlYXR1cmUgbG9hZGVyIGlzIHByb3ZpZGVkLCB0aGUgZmVhdHVyZXMgd2lsbFxuICogYmUgdHJhbnNmb3JtZWQgZnJvbSB0aGUgZGF0YSBwcm9qZWN0aW9uIHRvIHRoZSB2aWV3IHByb2plY3Rpb25cbiAqIGR1cmluZyBwYXJzaW5nLiBJZiB5b3VyIHJlbW90ZSBkYXRhIHNvdXJjZSBkb2VzIG5vdCBhZHZlcnRpc2UgaXRzIHByb2plY3Rpb25cbiAqIHByb3Blcmx5LCB0aGlzIHRyYW5zZm9ybWF0aW9uIHdpbGwgYmUgaW5jb3JyZWN0LiBGb3Igc29tZSBmb3JtYXRzLCB0aGVcbiAqIGRlZmF1bHQgcHJvamVjdGlvbiAodXN1YWxseSBFUFNHOjQzMjYpIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgdGhlXG4gKiBkYXRhUHJvamVjdGlvbiBjb25zdHJ1Y3RvciBvcHRpb24gb24gdGhlIGZvcm1hdC5cbiAqIE5vdGUgdGhhdCBpZiBhIHNvdXJjZSBjb250YWlucyBub24tZmVhdHVyZSBkYXRhLCBzdWNoIGFzIGEgR2VvSlNPTiBnZW9tZXRyeVxuICogb3IgYSBLTUwgTmV0d29ya0xpbmssIHRoZXNlIHdpbGwgYmUgaWdub3JlZC4gVXNlIGEgY3VzdG9tIGxvYWRlciB0byBsb2FkIHRoZXNlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlU3BhdGlhbEluZGV4PXRydWVdXG4gKiBCeSBkZWZhdWx0LCBhbiBSVHJlZSBpcyB1c2VkIGFzIHNwYXRpYWwgaW5kZXguIFdoZW4gZmVhdHVyZXMgYXJlIHJlbW92ZWQgYW5kXG4gKiBhZGRlZCBmcmVxdWVudGx5LCBhbmQgdGhlIHRvdGFsIG51bWJlciBvZiBmZWF0dXJlcyBpcyBsb3csIHNldHRpbmcgdGhpcyB0b1xuICogYGZhbHNlYCBtYXkgaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAqXG4gKiBOb3RlIHRoYXRcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RmVhdHVyZXNJbkV4dGVudH0sXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2dldENsb3Nlc3RGZWF0dXJlVG9Db29yZGluYXRlfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RXh0ZW50fSBjYW5ub3QgYmUgdXNlZCB3aGVuIGB1c2VTcGF0aWFsSW5kZXhgIGlzXG4gKiBzZXQgdG8gYGZhbHNlYCwgYW5kIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZm9yRWFjaEZlYXR1cmVJbkV4dGVudH0gd2lsbCBsb29wXG4gKiB0aHJvdWdoIGFsbCBmZWF0dXJlcy5cbiAqXG4gKiBXaGVuIHNldCB0byBgZmFsc2VgLCB0aGUgZmVhdHVyZXMgd2lsbCBiZSBtYWludGFpbmVkIGluIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259LCB3aGljaCBjYW4gYmUgcmV0cmlldmVkIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2UjZ2V0RmVhdHVyZXNDb2xsZWN0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS4gRm9yIHZlY3RvciBlZGl0aW5nIGFjcm9zcyB0aGVcbiAqIC0xODDCsCBhbmQgMTgwwrAgbWVyaWRpYW5zIHRvIHdvcmsgcHJvcGVybHksIHRoaXMgc2hvdWxkIGJlIHNldCB0byBgZmFsc2VgLiBUaGVcbiAqIHJlc3VsdGluZyBnZW9tZXRyeSBjb29yZGluYXRlcyB3aWxsIHRoZW4gZXhjZWVkIHRoZSB3b3JsZCBib3VuZHMuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJvdmlkZXMgYSBzb3VyY2Ugb2YgZmVhdHVyZXMgZm9yIHZlY3RvciBsYXllcnMuIFZlY3RvciBmZWF0dXJlcyBwcm92aWRlZFxuICogYnkgdGhpcyBzb3VyY2UgYXJlIHN1aXRhYmxlIGZvciBlZGl0aW5nLiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yVGlsZX5WZWN0b3JUaWxlfSBmb3JcbiAqIHZlY3RvciBkYXRhIHRoYXQgaXMgb3B0aW1pemVkIGZvciByZW5kZXJpbmcuXG4gKlxuICogQGZpcmVzIFZlY3RvclNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gR2VvbWV0cnlcbiAqL1xudmFyIFZlY3RvclNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmVjdG9yU291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIFZlY3RvciBzb3VyY2Ugb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWZWN0b3JTb3VyY2Uob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgICAgICAgcHJvamVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3RhdGU6IFNvdXJjZVN0YXRlLlJFQURZLFxuICAgICAgICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZUxvYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvYWRlcl8gPSBWT0lEO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0XyA9IG9wdGlvbnMuZm9ybWF0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vdmVybGFwc18gPSBvcHRpb25zLm92ZXJsYXBzID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy5vdmVybGFwcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd8aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlVXJsRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXJsXyA9IG9wdGlvbnMudXJsO1xuICAgICAgICBpZiAob3B0aW9ucy5sb2FkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMubG9hZGVyXyA9IG9wdGlvbnMubG9hZGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90aGlzLnVybF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXNzZXJ0KF90aGlzLmZvcm1hdF8sIDcpOyAvLyBgZm9ybWF0YCBtdXN0IGJlIHNldCB3aGVuIGB1cmxgIGlzIHNldFxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgWEhSIGZlYXR1cmUgbG9hZGVyIGZvciBcInVybFwiIGFuZCBcImZvcm1hdFwiXG4gICAgICAgICAgICBfdGhpcy5sb2FkZXJfID0geGhyKF90aGlzLnVybF8sIFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSAqLyAoX3RoaXMuZm9ybWF0XykpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TG9hZGluZ1N0cmF0ZWd5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RyYXRlZ3lfID1cbiAgICAgICAgICAgIG9wdGlvbnMuc3RyYXRlZ3kgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3RyYXRlZ3kgOiBhbGxTdHJhdGVneTtcbiAgICAgICAgdmFyIHVzZVNwYXRpYWxJbmRleCA9IG9wdGlvbnMudXNlU3BhdGlhbEluZGV4ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZVNwYXRpYWxJbmRleCA6IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7UkJ1c2g8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mZWF0dXJlc1J0cmVlXyA9IHVzZVNwYXRpYWxJbmRleCA/IG5ldyBSQnVzaCgpIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtSQnVzaDx7ZXh0ZW50OiBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfID0gbmV3IFJCdXNoKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxvb2t1cCBvZiBmZWF0dXJlcyBieSBpZCAodGhlIHJldHVybiBmcm9tIGZlYXR1cmUuZ2V0SWQoKSkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pZEluZGV4XyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsb29rdXAgb2YgZmVhdHVyZXMgYnkgdWlkICh1c2luZyBnZXRVaWQoZmVhdHVyZSkpLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudWlkSW5kZXhfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT4+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmVhdHVyZUNoYW5nZUtleXNfID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8gPSBudWxsO1xuICAgICAgICB2YXIgY29sbGVjdGlvbiwgZmVhdHVyZXM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuZmVhdHVyZXMpKSB7XG4gICAgICAgICAgICBmZWF0dXJlcyA9IG9wdGlvbnMuZmVhdHVyZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5mZWF0dXJlcykge1xuICAgICAgICAgICAgY29sbGVjdGlvbiA9IG9wdGlvbnMuZmVhdHVyZXM7XG4gICAgICAgICAgICBmZWF0dXJlcyA9IGNvbGxlY3Rpb24uZ2V0QXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVzZVNwYXRpYWxJbmRleCAmJiBjb2xsZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbihmZWF0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZlYXR1cmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmFkZEZlYXR1cmVzSW50ZXJuYWwoZmVhdHVyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2xsZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmJpbmRGZWF0dXJlc0NvbGxlY3Rpb25fKGNvbGxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgc2luZ2xlIGZlYXR1cmUgdG8gdGhlIHNvdXJjZS4gIElmIHlvdSB3YW50IHRvIGFkZCBhIGJhdGNoIG9mIGZlYXR1cmVzXG4gICAgICogYXQgb25jZSwgY2FsbCB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2FkZEZlYXR1cmVzICNhZGRGZWF0dXJlcygpfVxuICAgICAqIGluc3RlYWQuIEEgZmVhdHVyZSB3aWxsIG5vdCBiZSBhZGRlZCB0byB0aGUgc291cmNlIGlmIGZlYXR1cmUgd2l0aFxuICAgICAqIHRoZSBzYW1lIGlkIGlzIGFscmVhZHkgdGhlcmUuIFRoZSByZWFzb24gZm9yIHRoaXMgYmVoYXZpb3IgaXMgdG8gYXZvaWRcbiAgICAgKiBmZWF0dXJlIGR1cGxpY2F0aW9uIHdoZW4gdXNpbmcgYmJveCBvciB0aWxlIGxvYWRpbmcgc3RyYXRlZ2llcy5cbiAgICAgKiBOb3RlOiB0aGlzIGFsc28gYXBwbGllcyBpZiBhbiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb259IGlzIHVzZWQgZm9yIGZlYXR1cmVzLFxuICAgICAqIG1lYW5pbmcgdGhhdCBpZiBhIGZlYXR1cmUgd2l0aCBhIGR1cGxpY2F0ZSBpZCBpcyBhZGRlZCBpbiB0aGUgY29sbGVjdGlvbiwgaXQgd2lsbFxuICAgICAqIGJlIHJlbW92ZWQgZnJvbSBpdCByaWdodCBhd2F5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlIHRvIGFkZC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdGhpcy5hZGRGZWF0dXJlSW50ZXJuYWwoZmVhdHVyZSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgZmVhdHVyZSB3aXRob3V0IGZpcmluZyBhIGBjaGFuZ2VgIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmFkZEZlYXR1cmVJbnRlcm5hbCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICBpZiAoIXRoaXMuYWRkVG9JbmRleF8oZmVhdHVyZUtleSwgZmVhdHVyZSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8ucmVtb3ZlKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0dXBDaGFuZ2VFdmVudHNfKGZlYXR1cmVLZXksIGZlYXR1cmUpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgdmFyIGV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmluc2VydChleHRlbnQsIGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkFEREZFQVRVUkUsIGZlYXR1cmUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlS2V5IFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgVGhlIGZlYXR1cmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnNldHVwQ2hhbmdlRXZlbnRzXyA9IGZ1bmN0aW9uIChmZWF0dXJlS2V5LCBmZWF0dXJlKSB7XG4gICAgICAgIHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfW2ZlYXR1cmVLZXldID0gW1xuICAgICAgICAgICAgbGlzdGVuKGZlYXR1cmUsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlRmVhdHVyZUNoYW5nZV8sIHRoaXMpLFxuICAgICAgICAgICAgbGlzdGVuKGZlYXR1cmUsIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSwgdGhpcy5oYW5kbGVGZWF0dXJlQ2hhbmdlXywgdGhpcyksXG4gICAgICAgIF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZUtleSBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIFRoZSBmZWF0dXJlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBmZWF0dXJlIGlzIFwidmFsaWRcIiwgaW4gdGhlIHNlbnNlIHRoYXQgaXQgaXMgYWxzbyBhXG4gICAgICogICAgIGNhbmRpZGF0ZSBmb3IgaW5zZXJ0aW9uIGludG8gdGhlIFJ0cmVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRUb0luZGV4XyA9IGZ1bmN0aW9uIChmZWF0dXJlS2V5LCBmZWF0dXJlKSB7XG4gICAgICAgIHZhciB2YWxpZCA9IHRydWU7XG4gICAgICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghKGlkLnRvU3RyaW5nKCkgaW4gdGhpcy5pZEluZGV4XykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gZmVhdHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgICBhc3NlcnQoIShmZWF0dXJlS2V5IGluIHRoaXMudWlkSW5kZXhfKSwgMzApOyAvLyBUaGUgcGFzc2VkIGBmZWF0dXJlYCB3YXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgc291cmNlXG4gICAgICAgICAgICB0aGlzLnVpZEluZGV4X1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgYmF0Y2ggb2YgZmVhdHVyZXMgdG8gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBmZWF0dXJlcyBGZWF0dXJlcyB0byBhZGQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuYWRkRmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZXMpIHtcbiAgICAgICAgdGhpcy5hZGRGZWF0dXJlc0ludGVybmFsKGZlYXR1cmVzKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgZmVhdHVyZXMgd2l0aG91dCBmaXJpbmcgYSBgY2hhbmdlYCBldmVudC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4+fSBmZWF0dXJlcyBGZWF0dXJlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5hZGRGZWF0dXJlc0ludGVybmFsID0gZnVuY3Rpb24gKGZlYXR1cmVzKSB7XG4gICAgICAgIHZhciBleHRlbnRzID0gW107XG4gICAgICAgIHZhciBuZXdGZWF0dXJlcyA9IFtdO1xuICAgICAgICB2YXIgZ2VvbWV0cnlGZWF0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmVhdHVyZSA9IGZlYXR1cmVzW2ldO1xuICAgICAgICAgICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGRUb0luZGV4XyhmZWF0dXJlS2V5LCBmZWF0dXJlKSkge1xuICAgICAgICAgICAgICAgIG5ld0ZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8yID0gbmV3RmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuZ3RoXzI7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZlYXR1cmUgPSBuZXdGZWF0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciBmZWF0dXJlS2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cENoYW5nZUV2ZW50c18oZmVhdHVyZUtleSwgZmVhdHVyZSk7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXh0ZW50ID0gZ2VvbWV0cnkuZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICAgICAgZXh0ZW50cy5wdXNoKGV4dGVudCk7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlGZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmxvYWQoZXh0ZW50cywgZ2VvbWV0cnlGZWF0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8zID0gbmV3RmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuZ3RoXzM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuQURERkVBVFVSRSwgbmV3RmVhdHVyZXNbaV0pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gY29sbGVjdGlvbiBDb2xsZWN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5iaW5kRmVhdHVyZXNDb2xsZWN0aW9uXyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihWZWN0b3JFdmVudFR5cGUuQURERkVBVFVSRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1ZlY3RvclNvdXJjZUV2ZW50PEdlb21ldHJ5Pn0gZXZ0IFRoZSB2ZWN0b3Igc291cmNlIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goZXZ0LmZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIG1vZGlmeWluZ0NvbGxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihWZWN0b3JFdmVudFR5cGUuUkVNT1ZFRkVBVFVSRSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1ZlY3RvclNvdXJjZUV2ZW50PEdlb21ldHJ5Pn0gZXZ0IFRoZSB2ZWN0b3Igc291cmNlIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnJlbW92ZShldnQuZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29sbGVjdGlvbi5hZGRFdmVudExpc3RlbmVyKENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnR9IGV2dCBUaGUgY29sbGVjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaWYgKCFtb2RpZnlpbmdDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRGZWF0dXJlKFxuICAgICAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gKi8gKGV2dC5lbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgbW9kaWZ5aW5nQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICBjb2xsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudH0gZXZ0IFRoZSBjb2xsZWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIW1vZGlmeWluZ0NvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZlYXR1cmUoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSAqLyAoZXZ0LmVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICBtb2RpZnlpbmdDb2xsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXyA9IGNvbGxlY3Rpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGZlYXR1cmVzIGZyb20gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZmFzdCBTa2lwIGRpc3BhdGNoaW5nIG9mIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvci5WZWN0b3JTb3VyY2VFdmVudCNyZW1vdmVmZWF0dXJlfSBldmVudHMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAob3B0X2Zhc3QpIHtcbiAgICAgICAgaWYgKG9wdF9mYXN0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBmZWF0dXJlSWQgaW4gdGhpcy5mZWF0dXJlQ2hhbmdlS2V5c18pIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfW2ZlYXR1cmVJZF07XG4gICAgICAgICAgICAgICAga2V5cy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzXyA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuaWRJbmRleF8gPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpZEluZGV4XyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLmZvckVhY2godGhpcy5yZW1vdmVGZWF0dXJlSW50ZXJuYWwuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGZWF0dXJlSW50ZXJuYWwodGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19baWRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXykge1xuICAgICAgICAgICAgdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXyA9IHt9O1xuICAgICAgICB2YXIgY2xlYXJFdmVudCA9IG5ldyBWZWN0b3JTb3VyY2VFdmVudChWZWN0b3JFdmVudFR5cGUuQ0xFQVIpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoY2xlYXJFdmVudCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBmZWF0dXJlcyBvbiB0aGUgc291cmNlLCBjYWxsaW5nIHRoZSBwcm92aWRlZCBjYWxsYmFja1xuICAgICAqIHdpdGggZWFjaCBvbmUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhbnkgXCJ0cnV0aHlcIiB2YWx1ZSwgaXRlcmF0aW9uIHdpbGxcbiAgICAgKiBzdG9wIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHNhbWUgdmFsdWUuXG4gICAgICogTm90ZTogdGhpcyBmdW5jdGlvbiBvbmx5IGl0ZXJhdGUgdGhyb3VnaCB0aGUgZmVhdHVyZSB0aGF0IGhhdmUgYSBkZWZpbmVkIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+KTogVH0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggZWFjaCBmZWF0dXJlXG4gICAgICogICAgIG9uIHRoZSBzb3VyY2UuICBSZXR1cm4gYSB0cnV0aHkgdmFsdWUgdG8gc3RvcCBpdGVyYXRpb24uXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1J0cmVlXy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXy5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBmZWF0dXJlcyB3aG9zZSBnZW9tZXRyaWVzIGNvbnRhaW4gdGhlIHByb3ZpZGVkXG4gICAgICogY29vcmRpbmF0ZSwgY2FsbGluZyB0aGUgY2FsbGJhY2sgd2l0aCBlYWNoIGZlYXR1cmUuICBJZiB0aGUgY2FsbGJhY2sgcmV0dXJuc1xuICAgICAqIGEgXCJ0cnV0aHlcIiB2YWx1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcCBhbmQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSBzYW1lXG4gICAgICogdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pik6IFR9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2ggZmVhdHVyZVxuICAgICAqICAgICB3aG9zZSBnb2VtZXRyeSBjb250YWlucyB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZURpcmVjdCA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZXh0ZW50ID0gW2Nvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0sIGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV1dO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoRmVhdHVyZUluRXh0ZW50KGV4dGVudCwgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnRlcnNlY3RzQ29vcmRpbmF0ZShjb29yZGluYXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBmZWF0dXJlcyB3aG9zZSBib3VuZGluZyBib3ggaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWRcbiAgICAgKiBleHRlbnQgKG5vdGUgdGhhdCB0aGUgZmVhdHVyZSdzIGdlb21ldHJ5IG1heSBub3QgaW50ZXJzZWN0IHRoZSBleHRlbnQpLFxuICAgICAqIGNhbGxpbmcgdGhlIGNhbGxiYWNrIHdpdGggZWFjaCBmZWF0dXJlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSBcInRydXRoeVwiXG4gICAgICogdmFsdWUsIGl0ZXJhdGlvbiB3aWxsIHN0b3AgYW5kIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBhcmUgaW50ZXJlc3RlZCBpbiBmZWF0dXJlcyB3aG9zZSBnZW9tZXRyeSBpbnRlcnNlY3RzIGFuIGV4dGVudCwgY2FsbFxuICAgICAqIHRoZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2ZvckVhY2hGZWF0dXJlSW50ZXJzZWN0aW5nRXh0ZW50ICNmb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudCgpfSBtZXRob2QgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIFdoZW4gYHVzZVNwYXRpYWxJbmRleGAgaXMgc2V0IHRvIGZhbHNlLCB0aGlzIG1ldGhvZCB3aWxsIGxvb3AgdGhyb3VnaCBhbGxcbiAgICAgKiBmZWF0dXJlcywgZXF1aXZhbGVudCB0byB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2ZvckVhY2hGZWF0dXJlICNmb3JFYWNoRmVhdHVyZSgpfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4pOiBUfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoIGZlYXR1cmVcbiAgICAgKiAgICAgd2hvc2UgYm91bmRpbmcgYm94IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVJbkV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzUnRyZWVfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1J0cmVlXy5mb3JFYWNoSW5FeHRlbnQoZXh0ZW50LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgICAgICB0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8uZm9yRWFjaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgZmVhdHVyZXMgd2hvc2UgZ2VvbWV0cnkgaW50ZXJzZWN0cyB0aGUgcHJvdmlkZWQgZXh0ZW50LFxuICAgICAqIGNhbGxpbmcgdGhlIGNhbGxiYWNrIHdpdGggZWFjaCBmZWF0dXJlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSBcInRydXRoeVwiXG4gICAgICogdmFsdWUsIGl0ZXJhdGlvbiB3aWxsIHN0b3AgYW5kIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBvbmx5IHdhbnQgdG8gdGVzdCBmb3IgYm91bmRpbmcgYm94IGludGVyc2VjdGlvbiwgY2FsbCB0aGVcbiAgICAgKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2ZvckVhY2hGZWF0dXJlSW5FeHRlbnQgI2ZvckVhY2hGZWF0dXJlSW5FeHRlbnQoKX0gbWV0aG9kIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+KTogVH0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggZWFjaCBmZWF0dXJlXG4gICAgICogICAgIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQgPSBmdW5jdGlvbiAoZXh0ZW50LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoRmVhdHVyZUluRXh0ZW50KGV4dGVudCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT59IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBjYWxsYmFjay5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW50ZXJzZWN0c0V4dGVudChleHRlbnQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmZWF0dXJlcyBjb2xsZWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvdXJjZS4gV2lsbCBiZSBgbnVsbGBcbiAgICAgKiB1bmxlc3MgdGhlIHNvdXJjZSB3YXMgY29uZmlndXJlZCB3aXRoIGB1c2VTcGF0aWFsSW5kZXhgIHNldCB0byBgZmFsc2VgLCBvclxuICAgICAqIHdpdGggYW4ge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufSBhcyBgZmVhdHVyZXNgLlxuICAgICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59IFRoZSBjb2xsZWN0aW9uIG9mIGZlYXR1cmVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZlYXR1cmVzQ29sbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNDb2xsZWN0aW9uXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZmVhdHVyZXMgb24gdGhlIHNvdXJjZSBpbiByYW5kb20gb3JkZXIuXG4gICAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59IEZlYXR1cmVzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmdldEZlYXR1cmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmVhdHVyZXM7XG4gICAgICAgIGlmICh0aGlzLmZlYXR1cmVzQ29sbGVjdGlvbl8pIHtcbiAgICAgICAgICAgIGZlYXR1cmVzID0gdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmdldEFycmF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgZmVhdHVyZXMgPSB0aGlzLmZlYXR1cmVzUnRyZWVfLmdldEFsbCgpO1xuICAgICAgICAgICAgaWYgKCFpc0VtcHR5KHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSkge1xuICAgICAgICAgICAgICAgIGV4dGVuZChmZWF0dXJlcywgZ2V0VmFsdWVzKHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pj59ICovIChmZWF0dXJlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGZlYXR1cmVzIHdob3NlIGdlb21ldHJ5IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gRmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNBdENvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZURpcmVjdChjb29yZGluYXRlLCBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmZWF0dXJlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZmVhdHVyZXMgd2hvc2UgYm91bmRpbmcgYm94IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudC4gIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgYW4gYXJyYXkgb2ZcbiAgICAgKiBhbGwgZmVhdHVyZXMgaW50ZXJzZWN0aW5nIHRoZSBnaXZlbiBleHRlbnQgaW4gcmFuZG9tIG9yZGVyIChzbyBpdCBtYXkgaW5jbHVkZVxuICAgICAqIGZlYXR1cmVzIHdob3NlIGdlb21ldHJpZXMgZG8gbm90IGludGVyc2VjdCB0aGUgZXh0ZW50KS5cbiAgICAgKlxuICAgICAqIFdoZW4gYHVzZVNwYXRpYWxJbmRleGAgaXMgc2V0IHRvIGZhbHNlLCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiBhbGxcbiAgICAgKiBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+Pn0gRmVhdHVyZXMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNJbkV4dGVudCA9IGZ1bmN0aW9uIChleHRlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzUnRyZWVfLmdldEluRXh0ZW50KGV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc0NvbGxlY3Rpb25fLmdldEFycmF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2xvc2VzdCBmZWF0dXJlIHRvIHRoZSBwcm92aWRlZCBjb29yZGluYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGF2YWlsYWJsZSB3aGVuIHRoZSBzb3VyY2UgaXMgY29uZmlndXJlZCB3aXRoXG4gICAgICogYHVzZVNwYXRpYWxJbmRleGAgc2V0IHRvIGBmYWxzZWAuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdDxHZW9tZXRyeT4pOmJvb2xlYW49fSBvcHRfZmlsdGVyIEZlYXR1cmUgZmlsdGVyIGZ1bmN0aW9uLlxuICAgICAqICAgICBUaGUgZmlsdGVyIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSBvbmUgYXJndW1lbnQsIHRoZSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmUgZmVhdHVyZX1cbiAgICAgKiAgICAgYW5kIGl0IHNob3VsZCByZXR1cm4gYSBib29sZWFuIHZhbHVlLiBCeSBkZWZhdWx0LCBubyBmaWx0ZXJpbmcgaXMgbWFkZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBDbG9zZXN0IGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZlYXR1cmVUb0Nvb3JkaW5hdGUgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgb3B0X2ZpbHRlcikge1xuICAgICAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IGZlYXR1cmUgdXNpbmcgYnJhbmNoIGFuZCBib3VuZC4gIFdlIHN0YXJ0IHNlYXJjaGluZyBhblxuICAgICAgICAvLyBpbmZpbml0ZSBleHRlbnQsIGFuZCBmaW5kIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBmaXJzdCBmZWF0dXJlIGZvdW5kLiAgVGhpc1xuICAgICAgICAvLyBiZWNvbWVzIHRoZSBjbG9zZXN0IGZlYXR1cmUuICBXZSB0aGVuIGNvbXB1dGUgYSBzbWFsbGVyIGV4dGVudCB3aGljaCBhbnlcbiAgICAgICAgLy8gY2xvc2VyIGZlYXR1cmUgbXVzdCBpbnRlcnNlY3QuICBXZSBjb250aW51ZSBzZWFyY2hpbmcgd2l0aCB0aGlzIHNtYWxsZXJcbiAgICAgICAgLy8gZXh0ZW50LCB0cnlpbmcgdG8gZmluZCBhIGNsb3NlciBmZWF0dXJlLiAgRXZlcnkgdGltZSB3ZSBmaW5kIGEgY2xvc2VyXG4gICAgICAgIC8vIGZlYXR1cmUsIHdlIHVwZGF0ZSB0aGUgZXh0ZW50IGJlaW5nIHNlYXJjaGVkIHNvIHRoYXQgYW55IGV2ZW4gY2xvc2VyXG4gICAgICAgIC8vIGZlYXR1cmUgbXVzdCBpbnRlcnNlY3QgaXQuICBXZSBjb250aW51ZSB1bnRpbCB3ZSBydW4gb3V0IG9mIGZlYXR1cmVzLlxuICAgICAgICB2YXIgeCA9IGNvb3JkaW5hdGVbMF07XG4gICAgICAgIHZhciB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgICAgICAgdmFyIGNsb3Nlc3RGZWF0dXJlID0gbnVsbDtcbiAgICAgICAgdmFyIGNsb3Nlc3RQb2ludCA9IFtOYU4sIE5hTl07XG4gICAgICAgIHZhciBtaW5TcXVhcmVkRGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIGV4dGVudCA9IFstSW5maW5pdHksIC1JbmZpbml0eSwgSW5maW5pdHksIEluZmluaXR5XTtcbiAgICAgICAgdmFyIGZpbHRlciA9IG9wdF9maWx0ZXIgPyBvcHRfZmlsdGVyIDogVFJVRTtcbiAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5mb3JFYWNoSW5FeHRlbnQoZXh0ZW50LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIoZmVhdHVyZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzTWluU3F1YXJlZERpc3RhbmNlID0gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IGdlb21ldHJ5LmNsb3Nlc3RQb2ludFhZKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgcHJldmlvdXNNaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VzdEZlYXR1cmUgPSBmZWF0dXJlO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHNuZWFreS4gIFJlZHVjZSB0aGUgZXh0ZW50IHRoYXQgaXQgaXMgY3VycmVudGx5IGJlaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlYXJjaGVkIHdoaWxlIHRoZSBSLVRyZWUgdHJhdmVyc2FsIHVzaW5nIHRoaXMgc2FtZSBleHRlbnQgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIHN0aWxsIGluIHByb2dyZXNzLiAgVGhpcyBpcyBzYWZlIGJlY2F1c2UgdGhlIG5ldyBleHRlbnQgaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaWN0bHkgY29udGFpbmVkIGJ5IHRoZSBvbGQgZXh0ZW50LlxuICAgICAgICAgICAgICAgICAgICB2YXIgbWluRGlzdGFuY2UgPSBNYXRoLnNxcnQobWluU3F1YXJlZERpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50WzBdID0geCAtIG1pbkRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBleHRlbnRbMV0gPSB5IC0gbWluRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVudFsyXSA9IHggKyBtaW5EaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW50WzNdID0geSArIG1pbkRpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbG9zZXN0RmVhdHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IG9mIHRoZSBmZWF0dXJlcyBjdXJyZW50bHkgaW4gdGhlIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhdmFpbGFibGUgd2hlbiB0aGUgc291cmNlIGlzIGNvbmZpZ3VyZWQgd2l0aFxuICAgICAqIGB1c2VTcGF0aWFsSW5kZXhgIHNldCB0byBgZmFsc2VgLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9leHRlbnQgRGVzdGluYXRpb24gZXh0ZW50LiBJZiBwcm92aWRlZCwgbm8gbmV3IGV4dGVudFxuICAgICAqICAgICB3aWxsIGJlIGNyZWF0ZWQuIEluc3RlYWQsIHRoYXQgZXh0ZW50J3MgY29vcmRpbmF0ZXMgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RXh0ZW50ID0gZnVuY3Rpb24gKG9wdF9leHRlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNSdHJlZV8uZ2V0RXh0ZW50KG9wdF9leHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgZmVhdHVyZSBieSBpdHMgaWRlbnRpZmllciAodGhlIHZhbHVlIHJldHVybmVkIGJ5IGZlYXR1cmUuZ2V0SWQoKSkuXG4gICAgICogTm90ZSB0aGF0IHRoZSBpbmRleCB0cmVhdHMgc3RyaW5nIGFuZCBudW1lcmljIGlkZW50aWZpZXJzIGFzIHRoZSBzYW1lLiAgU29cbiAgICAgKiBgc291cmNlLmdldEZlYXR1cmVCeUlkKDIpYCB3aWxsIHJldHVybiBhIGZlYXR1cmUgd2l0aCBpZCBgJzInYCBvciBgMmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGlkIEZlYXR1cmUgaWRlbnRpZmllci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBUaGUgZmVhdHVyZSAob3IgYG51bGxgIGlmIG5vdCBmb3VuZCkuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZUJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIGZlYXR1cmUgPSB0aGlzLmlkSW5kZXhfW2lkLnRvU3RyaW5nKCldO1xuICAgICAgICByZXR1cm4gZmVhdHVyZSAhPT0gdW5kZWZpbmVkID8gZmVhdHVyZSA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBmZWF0dXJlIGJ5IGl0cyBpbnRlcm5hbCB1bmlxdWUgaWRlbnRpZmllciAodXNpbmcgYGdldFVpZGApLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVpZCBGZWF0dXJlIGlkZW50aWZpZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gVGhlIGZlYXR1cmUgKG9yIGBudWxsYCBpZiBub3QgZm91bmQpLlxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0RmVhdHVyZUJ5VWlkID0gZnVuY3Rpb24gKHVpZCkge1xuICAgICAgICB2YXIgZmVhdHVyZSA9IHRoaXMudWlkSW5kZXhfW3VpZF07XG4gICAgICAgIHJldHVybiBmZWF0dXJlICE9PSB1bmRlZmluZWQgPyBmZWF0dXJlIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZm9ybWF0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgZmVhdHVyZSBmb3JtYXQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0Rm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNvdXJjZSBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0T3ZlcmxhcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm92ZXJsYXBzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdXJsIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xpbXBvcnQoXCIuLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVVcmxGdW5jdGlvbnx1bmRlZmluZWR9IFRoZSB1cmwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuZ2V0VXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmxfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLmhhbmRsZUZlYXR1cmVDaGFuZ2VfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBmZWF0dXJlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKCFnZW9tZXRyeSkge1xuICAgICAgICAgICAgaWYgKCEoZmVhdHVyZUtleSBpbiB0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLnJlbW92ZShmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV0gPSBmZWF0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgICAgICAgICAgaWYgKGZlYXR1cmVLZXkgaW4gdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc18pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmVhdHVyZXNSdHJlZV8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlc1J0cmVlXy5pbnNlcnQoZXh0ZW50LCBmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzUnRyZWVfLnVwZGF0ZShleHRlbnQsIGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XG4gICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgc2lkID0gaWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlkSW5kZXhfW3NpZF0gIT09IGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21JZEluZGV4XyhmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlkSW5kZXhfW3NpZF0gPSBmZWF0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGcm9tSWRJbmRleF8oZmVhdHVyZSk7XG4gICAgICAgICAgICB0aGlzLnVpZEluZGV4X1tmZWF0dXJlS2V5XSA9IGZlYXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVmVjdG9yU291cmNlRXZlbnQoVmVjdG9yRXZlbnRUeXBlLkNIQU5HRUZFQVRVUkUsIGZlYXR1cmUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZmVhdHVyZSBpcyBjb250YWluZWQgd2l0aGluIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSGFzIGZlYXR1cmUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuaGFzRmVhdHVyZSA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBpZCBpbiB0aGlzLmlkSW5kZXhfO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldFVpZChmZWF0dXJlKSBpbiB0aGlzLnVpZEluZGV4XztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1J0cmVlXy5pc0VtcHR5KCkgJiYgaXNFbXB0eSh0aGlzLm51bGxHZW9tZXRyeUZlYXR1cmVzXyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5sb2FkRmVhdHVyZXMgPSBmdW5jdGlvbiAoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciBsb2FkZWRFeHRlbnRzUnRyZWUgPSB0aGlzLmxvYWRlZEV4dGVudHNSdHJlZV87XG4gICAgICAgIHZhciBleHRlbnRzVG9Mb2FkID0gdGhpcy5zdHJhdGVneV8oZXh0ZW50LCByZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGksIGlpKSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW50VG9Mb2FkID0gZXh0ZW50c1RvTG9hZFtpXTtcbiAgICAgICAgICAgIHZhciBhbHJlYWR5TG9hZGVkID0gbG9hZGVkRXh0ZW50c1J0cmVlLmZvckVhY2hJbkV4dGVudChleHRlbnRUb0xvYWQsIFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3tleHRlbnQ6IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9fSBvYmplY3QgT2JqZWN0LlxuICAgICAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbnNFeHRlbnQob2JqZWN0LmV4dGVudCwgZXh0ZW50VG9Mb2FkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFhbHJlYWR5TG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpc18xLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5GRUFUVVJFU0xPQURTVEFSVCkpO1xuICAgICAgICAgICAgICAgIHRoaXNfMS5sb2FkZXJfLmNhbGwodGhpc18xLCBleHRlbnRUb0xvYWQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIGZ1bmN0aW9uIChmZWF0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5GRUFUVVJFU0xPQURFTkQsIHVuZGVmaW5lZCwgZmVhdHVyZXMpKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpc18xKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5GRUFUVVJFU0xPQURFUlJPUikpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzXzEpKTtcbiAgICAgICAgICAgICAgICBsb2FkZWRFeHRlbnRzUnRyZWUuaW5zZXJ0KGV4dGVudFRvTG9hZCwgeyBleHRlbnQ6IGV4dGVudFRvTG9hZC5zbGljZSgpIH0pO1xuICAgICAgICAgICAgICAgIHRoaXNfMS5sb2FkaW5nID0gdGhpc18xLmxvYWRlcl8gIT09IFZPSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHRlbnRzVG9Mb2FkLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSwgaWkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXIodHJ1ZSk7XG4gICAgICAgIHRoaXMubG9hZGVkRXh0ZW50c1J0cmVlXy5jbGVhcigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlZnJlc2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBleHRlbnQgZnJvbSB0aGUgbGlzdCBvZiBsb2FkZWQgZXh0ZW50cy5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlTG9hZGVkRXh0ZW50ID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICB2YXIgbG9hZGVkRXh0ZW50c1J0cmVlID0gdGhpcy5sb2FkZWRFeHRlbnRzUnRyZWVfO1xuICAgICAgICB2YXIgb2JqO1xuICAgICAgICBsb2FkZWRFeHRlbnRzUnRyZWUuZm9yRWFjaEluRXh0ZW50KGV4dGVudCwgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKGVxdWFscyhvYmplY3QuZXh0ZW50LCBleHRlbnQpKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgbG9hZGVkRXh0ZW50c1J0cmVlLnJlbW92ZShvYmopO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgZmVhdHVyZSBmcm9tIHRoZSBzb3VyY2UuICBJZiB5b3Ugd2FudCB0byByZW1vdmUgYWxsIGZlYXR1cmVzXG4gICAgICogYXQgb25jZSwgdXNlIHRoZSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlI2NsZWFyICNjbGVhcigpfSBtZXRob2RcbiAgICAgKiBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PEdlb21ldHJ5Pn0gZmVhdHVyZSBGZWF0dXJlIHRvIHJlbW92ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVmVjdG9yU291cmNlLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgIGlmIChmZWF0dXJlS2V5IGluIHRoaXMubnVsbEdlb21ldHJ5RmVhdHVyZXNfKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5udWxsR2VvbWV0cnlGZWF0dXJlc19bZmVhdHVyZUtleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mZWF0dXJlc1J0cmVlXykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNSdHJlZV8ucmVtb3ZlKGZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlRmVhdHVyZUludGVybmFsKGZlYXR1cmUpO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBmZWF0dXJlIHdpdGhvdXQgZmlyaW5nIGEgYGNoYW5nZWAgZXZlbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUucmVtb3ZlRmVhdHVyZUludGVybmFsID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgdmFyIGZlYXR1cmVLZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICAgIHRoaXMuZmVhdHVyZUNoYW5nZUtleXNfW2ZlYXR1cmVLZXldLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZlYXR1cmVDaGFuZ2VLZXlzX1tmZWF0dXJlS2V5XTtcbiAgICAgICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMudWlkSW5kZXhfW2ZlYXR1cmVLZXldO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFZlY3RvclNvdXJjZUV2ZW50KFZlY3RvckV2ZW50VHlwZS5SRU1PVkVGRUFUVVJFLCBmZWF0dXJlKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBmZWF0dXJlIGZyb20gdGhlIGlkIGluZGV4LiAgQ2FsbGVkIGludGVybmFsbHkgd2hlbiB0aGUgZmVhdHVyZSBpZFxuICAgICAqIG1heSBoYXZlIGNoYW5nZWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ8R2VvbWV0cnk+fSBmZWF0dXJlIFRoZSBmZWF0dXJlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJlbW92ZWQgdGhlIGZlYXR1cmUgZnJvbSB0aGUgaW5kZXguXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnJlbW92ZUZyb21JZEluZGV4XyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuaWRJbmRleF8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlkSW5kZXhfW2lkXSA9PT0gZmVhdHVyZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmlkSW5kZXhfW2lkXTtcbiAgICAgICAgICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbmV3IGxvYWRlciBvZiB0aGUgc291cmNlLiBUaGUgbmV4dCByZW5kZXIgY3ljbGUgd2lsbCB1c2UgdGhlXG4gICAgICogbmV3IGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZUxvYWRlcn0gbG9hZGVyIFRoZSBsb2FkZXIgdG8gc2V0LlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBWZWN0b3JTb3VyY2UucHJvdG90eXBlLnNldExvYWRlciA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcbiAgICAgICAgdGhpcy5sb2FkZXJfID0gbG9hZGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9pbnRzIHRoZSBzb3VyY2UgdG8gYSBuZXcgdXJsLiBUaGUgbmV4dCByZW5kZXIgY3ljbGUgd2lsbCB1c2UgdGhlIG5ldyB1cmwuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8aW1wb3J0KFwiLi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlVXJsRnVuY3Rpb259IHVybCBVcmwuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFZlY3RvclNvdXJjZS5wcm90b3R5cGUuc2V0VXJsID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICBhc3NlcnQodGhpcy5mb3JtYXRfLCA3KTsgLy8gYGZvcm1hdGAgbXVzdCBiZSBzZXQgd2hlbiBgdXJsYCBpcyBzZXRcbiAgICAgICAgdGhpcy5zZXRMb2FkZXIoeGhyKHVybCwgdGhpcy5mb3JtYXRfKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVmVjdG9yU291cmNlO1xufShTb3VyY2UpKTtcbmV4cG9ydCBkZWZhdWx0IFZlY3RvclNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3Rvci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVcbiAqL1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IGVhc2VJbiB9IGZyb20gJy4vZWFzaW5nLmpzJztcbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvVGlsZX0gZm9yIHRoZSB0aWxlIGFuZCBhXG4gKiBge3N0cmluZ31gIGZvciB0aGUgdXJsIGFzIGFyZ3VtZW50cy4gVGhlIGRlZmF1bHQgaXNcbiAqIGBgYGpzXG4gKiBzb3VyY2Uuc2V0VGlsZUxvYWRGdW5jdGlvbihmdW5jdGlvbih0aWxlLCBzcmMpIHtcbiAqICAgdGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH0pO1xuICogYGBgXG4gKiBGb3IgbW9yZSBmaW5lIGdyYWluZWQgY29udHJvbCwgdGhlIGxvYWQgZnVuY3Rpb24gY2FuIHVzZSBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdCBhbmQgaW52b2x2ZVxuICogZXJyb3IgaGFuZGxpbmc6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCBUaWxlU3RhdGUgZnJvbSAnb2wvVGlsZVN0YXRlJztcbiAqXG4gKiBzb3VyY2Uuc2V0VGlsZUxvYWRGdW5jdGlvbihmdW5jdGlvbih0aWxlLCBzcmMpIHtcbiAqICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICogICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICogICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIGZ1bmN0aW9uIChldnQpIHtcbiAqICAgICB2YXIgZGF0YSA9IHRoaXMucmVzcG9uc2U7XG4gKiAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICogICAgICAgdGlsZS5nZXRJbWFnZSgpLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YSk7XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkVSUk9SKTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICogICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgdGlsZS5zZXRTdGF0ZShUaWxlU3RhdGUuRVJST1IpO1xuICogICB9KTtcbiAqICAgeGhyLm9wZW4oJ0dFVCcsIHNyYyk7XG4gKiAgIHhoci5zZW5kKCk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihUaWxlLCBzdHJpbmcpOiB2b2lkfSBMb2FkRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlflRpbGV9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvIGdldFxuICogdGhlIHVybCB0aGF0IHByb3ZpZGVzIGEgdGlsZSBmb3IgYSBnaXZlbiB0aWxlIGNvb3JkaW5hdGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL3RpbGVjb29yZH5UaWxlQ29vcmR9IGZvciB0aGUgdGlsZVxuICogY29vcmRpbmF0ZSwgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgcGl4ZWwgcmF0aW8gYW5kIGFcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9ufSBmb3IgdGhlIHByb2plY3Rpb24gIGFzIGFyZ3VtZW50c1xuICogYW5kIHJldHVybnMgYSBge3N0cmluZ31gIHJlcHJlc2VudGluZyB0aGUgdGlsZSBVUkwsIG9yIHVuZGVmaW5lZCBpZiBubyB0aWxlXG4gKiBzaG91bGQgYmUgcmVxdWVzdGVkIGZvciB0aGUgcGFzc2VkIHRpbGUgY29vcmRpbmF0ZS5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkLCBudW1iZXIsXG4gKiAgICAgICAgICAgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCk6IChzdHJpbmd8dW5kZWZpbmVkKX0gVXJsRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb249MjUwXSBBIGR1cmF0aW9uIGZvciB0aWxlIG9wYWNpdHlcbiAqIHRyYW5zaXRpb25zIGluIG1pbGxpc2Vjb25kcy4gQSBkdXJhdGlvbiBvZiAwIGRpc2FibGVzIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24uXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3IgdGlsZXMuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbnZhciBUaWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gb3B0X29wdGlvbnMgVGlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGUodGlsZUNvb3JkLCBzdGF0ZSwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyA/IG9wdF9vcHRpb25zIDoge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUNvb3JkID0gdGlsZUNvb3JkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBcImludGVyaW1cIiB0aWxlIGZvciB0aGlzIHRpbGUuIFRoZSBpbnRlcmltIHRpbGUgbWF5IGJlIHVzZWQgd2hpbGUgdGhpc1xuICAgICAgICAgKiBvbmUgaXMgbG9hZGluZywgZm9yIFwic21vb3RoXCIgdHJhbnNpdGlvbnMgd2hlbiBjaGFuZ2luZyBwYXJhbXMvZGltZW5zaW9uc1xuICAgICAgICAgKiBvbiB0aGUgc291cmNlLlxuICAgICAgICAgKiBAdHlwZSB7VGlsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyaW1UaWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aWxlIGlzIGF2YWlsYWJsZSBhdCB0aGUgaGlnaGVzdCBwb3NzaWJsZSByZXNvbHV0aW9uLiBTdWJjbGFzc2VzIGNhblxuICAgICAgICAgKiBzZXQgdGhpcyB0byBgZmFsc2VgIGluaXRpYWxseS4gVGlsZSBsb2FkIGxpc3RlbmVycyB3aWxsIG5vdCBiZVxuICAgICAgICAgKiB1bnJlZ2lzdGVyZWQgYmVmb3JlIHRoaXMgaXMgc2V0IHRvIGB0cnVlYCBhbmQgYSBgI2NoYW5nZWQoKWAgaXMgY2FsbGVkLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhpZmkgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBrZXkgYXNzaWduZWQgdG8gdGhlIHRpbGUuIFRoaXMgaXMgdXNlZCBieSB0aGUgdGlsZSBzb3VyY2UgdG8gZGV0ZXJtaW5lXG4gICAgICAgICAqIGlmIHRoaXMgdGlsZSBjYW4gZWZmZWN0aXZlbHkgYmUgdXNlZCwgb3IgaWYgYSBuZXcgdGlsZSBzaG91bGQgYmUgY3JlYXRlZFxuICAgICAgICAgKiBhbmQgdGhpcyBvbmUgYmUgdXNlZCBhcyBhbiBpbnRlcmltIHRpbGUgZm9yIHRoaXMgbmV3IHRpbGUuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5rZXkgPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkdXJhdGlvbiBmb3IgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbi5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zaXRpb25fID1cbiAgICAgICAgICAgIG9wdGlvbnMudHJhbnNpdGlvbiA9PT0gdW5kZWZpbmVkID8gMjUwIDogb3B0aW9ucy50cmFuc2l0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9va3VwIG9mIHN0YXJ0IHRpbWVzIGZvciByZW5kZXJpbmcgdHJhbnNpdGlvbnMuICBJZiB0aGUgc3RhcnQgdGltZSBpc1xuICAgICAgICAgKiBlcXVhbCB0byAtMSwgdGhlIHRyYW5zaXRpb24gaXMgY29tcGxldGUuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNpdGlvblN0YXJ0c18gPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJ5IHRoZSB0aWxlIGNhY2hlIHdoZW4gdGhlIHRpbGUgaXMgcmVtb3ZlZCBmcm9tIHRoZSBjYWNoZSBkdWUgdG8gZXhwaXJ5XG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleSArICcvJyArIHRoaXMudGlsZUNvb3JkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnRlcmltIHRpbGUgbW9zdCBzdWl0YWJsZSBmb3IgcmVuZGVyaW5nIHVzaW5nIHRoZSBjaGFpbiBvZiBpbnRlcmltXG4gICAgICogdGlsZXMuIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlICBtb3N0IHJlY2VudCB0aWxlIHRoYXQgaGFzIGJlZW4gbG9hZGVkLCBpZiBub1xuICAgICAqIHN1Y2ggdGlsZSBleGlzdHMsIHRoZSBvcmlnaW5hbCB0aWxlIGlzIHJldHVybmVkLlxuICAgICAqIEByZXR1cm4geyFUaWxlfSBCZXN0IHRpbGUgZm9yIHJlbmRlcmluZy5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5nZXRJbnRlcmltVGlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyaW1UaWxlKSB7XG4gICAgICAgICAgICAvL2VtcHR5IGNoYWluXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlsZSA9IHRoaXMuaW50ZXJpbVRpbGU7XG4gICAgICAgIC8vIGZpbmQgdGhlIGZpcnN0IGxvYWRlZCB0aWxlIGFuZCByZXR1cm4gaXQuIFNpbmNlIHRoZSBjaGFpbiBpcyBzb3J0ZWQgaW5cbiAgICAgICAgLy8gZGVjcmVhc2luZyBvcmRlciBvZiBjcmVhdGlvbiB0aW1lLCB0aGVyZSBpcyBubyBuZWVkIHRvIHNlYXJjaCB0aGUgcmVtYWluZGVyXG4gICAgICAgIC8vIG9mIHRoZSBsaXN0IChhbGwgdGhvc2UgdGlsZXMgY29ycmVzcG9uZCB0byBvbGRlciByZXF1ZXN0cyBhbmQgd2lsbCBiZVxuICAgICAgICAvLyBjbGVhbmVkIHVwIGJ5IHJlZnJlc2hJbnRlcmltQ2hhaW4pXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgICAgIC8vIFNob3cgdGlsZSBpbW1lZGlhdGVseSBpbnN0ZWFkIG9mIGZhZGluZyBpdCBpbiBhZnRlciBsb2FkaW5nLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIGludGVyaW0gdGlsZSBpcyBpbiBwbGFjZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uXyA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aWxlID0gdGlsZS5pbnRlcmltVGlsZTtcbiAgICAgICAgfSB3aGlsZSAodGlsZSk7XG4gICAgICAgIC8vIHdlIGNhbiBub3QgZmluZCBhIGJldHRlciB0aWxlXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR29lcyB0aHJvdWdoIHRoZSBjaGFpbiBvZiBpbnRlcmltIHRpbGVzIGFuZCBkaXNjYXJkcyBzZWN0aW9ucyBvZiB0aGUgY2hhaW5cbiAgICAgKiB0aGF0IGFyZSBubyBsb25nZXIgcmVsZXZhbnQuXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUucmVmcmVzaEludGVyaW1DaGFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyaW1UaWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpbGUgPSB0aGlzLmludGVyaW1UaWxlO1xuICAgICAgICB2YXIgcHJldiA9IC8qKiBAdHlwZSB7VGlsZX0gKi8gKHRoaXMpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgICAgICAvL3dlIGhhdmUgYSBsb2FkZWQgdGlsZSwgd2UgY2FuIGRpc2NhcmQgdGhlIHJlc3Qgb2YgdGhlIGxpc3RcbiAgICAgICAgICAgICAgICAvL3dlIHdvdWxkIGNvdWxkIGFib3J0IGFueSBMT0FESU5HIHRpbGUgcmVxdWVzdFxuICAgICAgICAgICAgICAgIC8vb2xkZXIgdGhhbiB0aGlzIHRpbGUgKGkuZS4gYW55IExPQURJTkcgdGlsZSBmb2xsb3dpbmcgdGhpcyBlbnRyeSBpbiB0aGUgY2hhaW4pXG4gICAgICAgICAgICAgICAgdGlsZS5pbnRlcmltVGlsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgICAgICAgICAgICAvL2tlZXAgdGhpcyBMT0FESU5HIHRpbGUgYW55IGxvYWRlZCB0aWxlcyBsYXRlciBpbiB0aGUgY2hhaW4gYXJlXG4gICAgICAgICAgICAgICAgLy9vbGRlciB0aGFuIHRoaXMgdGlsZSwgc28gd2UncmUgc3RpbGwgaW50ZXJlc3RlZCBpbiB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgICAgIHByZXYgPSB0aWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgICAgLy90aGUgaGVhZCBvZiB0aGUgbGlzdCBpcyB0aGUgbW9zdCBjdXJyZW50IHRpbGUsIHdlIGRvbid0IG5lZWRcbiAgICAgICAgICAgICAgICAvL3RvIHN0YXJ0IGFueSBvdGhlciByZXF1ZXN0cyBmb3IgdGhpcyBjaGFpblxuICAgICAgICAgICAgICAgIHByZXYuaW50ZXJpbVRpbGUgPSB0aWxlLmludGVyaW1UaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJldiA9IHRpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aWxlID0gcHJldi5pbnRlcmltVGlsZTtcbiAgICAgICAgfSB3aGlsZSAodGlsZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpbGUgY29vcmRpbmF0ZSBmb3IgdGhpcyB0aWxlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGhlIHRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlQ29vcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBTdGF0ZS5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiB0aGlzIHRpbGUuIElmIHlvdSB3cml0ZSB5b3VyIG93biB7QGxpbmsgbW9kdWxlOm9sL1RpbGV+TG9hZEZ1bmN0aW9uIHRpbGVMb2FkRnVuY3Rpb259ICxcbiAgICAgKiBpdCBpcyBpbXBvcnRhbnQgdG8gc2V0IHRoZSBzdGF0ZSBjb3JyZWN0bHkgdG8ge0BsaW5rIG1vZHVsZTpvbC9UaWxlU3RhdGV+RVJST1J9XG4gICAgICogd2hlbiB0aGUgdGlsZSBjYW5ub3QgYmUgbG9hZGVkLiBPdGhlcndpc2UgdGhlIHRpbGUgY2Fubm90IGJlIHJlbW92ZWQgZnJvbVxuICAgICAqIHRoZSB0aWxlIHF1ZXVlIGFuZCB3aWxsIGJsb2NrIG90aGVyIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBUaWxlU3RhdGUuRVJST1IgJiYgdGhpcy5zdGF0ZSA+IHN0YXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbGUgbG9hZCBzZXF1ZW5jZSB2aW9sYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgaW1hZ2Ugb3IgcmV0cnkgaWYgbG9hZGluZyBwcmV2aW91c2x5IGZhaWxlZC5cbiAgICAgKiBMb2FkaW5nIGlzIHRha2VuIGNhcmUgb2YgYnkgdGhlIHRpbGUgcXVldWUsIGFuZCBjYWxsaW5nIHRoaXMgbWV0aG9kIGlzXG4gICAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhYnN0cmFjdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbHBoYSB2YWx1ZSBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBBbiBpZCBmb3IgdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRoZSByZW5kZXIgZnJhbWUgdGltZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKi9cbiAgICBUaWxlLnByb3RvdHlwZS5nZXRBbHBoYSA9IGZ1bmN0aW9uIChpZCwgdGltZSkge1xuICAgICAgICBpZiAoIXRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMudHJhbnNpdGlvblN0YXJ0c19baWRdO1xuICAgICAgICBpZiAoIXN0YXJ0KSB7XG4gICAgICAgICAgICBzdGFydCA9IHRpbWU7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXSA9IHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbHRhID0gdGltZSAtIHN0YXJ0ICsgMTAwMCAvIDYwOyAvLyBhdm9pZCByZW5kZXJpbmcgYXQgMFxuICAgICAgICBpZiAoZGVsdGEgPj0gdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVhc2VJbihkZWx0YSAvIHRoaXMudHJhbnNpdGlvbl8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIGEgdGlsZSBpcyBpbiBhbiBhbHBoYSB0cmFuc2l0aW9uLiAgQSB0aWxlIGlzIGNvbnNpZGVyZWQgaW5cbiAgICAgKiB0cmFuc2l0aW9uIGlmIHRpbGUuZ2V0QWxwaGEoKSBoYXMgbm90IHlldCBiZWVuIGNhbGxlZCBvciBoYXMgYmVlbiBjYWxsZWRcbiAgICAgKiBhbmQgcmV0dXJuZWQgMS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSBpcyBpbiB0cmFuc2l0aW9uLlxuICAgICAqL1xuICAgIFRpbGUucHJvdG90eXBlLmluVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAoIXRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gIT09IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFyayBhIHRyYW5zaXRpb24gYXMgY29tcGxldGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIEFuIGlkIGZvciB0aGUgcmVuZGVyZXIuXG4gICAgICovXG4gICAgVGlsZS5wcm90b3R5cGUuZW5kVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRpbGU7XG59KEV2ZW50VGFyZ2V0KSk7XG5leHBvcnQgZGVmYXVsdCBUaWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlVGlsZVxuICovXG5pbXBvcnQgVGlsZSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYW52YXNDb250ZXh0MkQgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBsaXN0ZW5JbWFnZSB9IGZyb20gJy4vSW1hZ2UuanMnO1xudmFyIEltYWdlVGlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW1hZ2VUaWxlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBJbWFnZSBzb3VyY2UgVVJJLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gdGlsZUxvYWRGdW5jdGlvbiBUaWxlIGxvYWQgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuT3B0aW9ucz19IG9wdF9vcHRpb25zIFRpbGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbWFnZVRpbGUodGlsZUNvb3JkLCBzdGF0ZSwgc3JjLCBjcm9zc09yaWdpbiwgdGlsZUxvYWRGdW5jdGlvbiwgb3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGlsZUNvb3JkLCBzdGF0ZSwgb3B0X29wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNyb3NzT3JpZ2luXyA9IGNyb3NzT3JpZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW1hZ2UgVVJJXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zcmNfID0gc3JjO1xuICAgICAgICBfdGhpcy5rZXkgPSBzcmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIF90aGlzLmltYWdlXy5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVMb2FkRnVuY3Rpb25fID0gdGlsZUxvYWRGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEhUTUwgaW1hZ2UgZWxlbWVudCBmb3IgdGhpcyB0aWxlIChtYXkgYmUgYSBDYW52YXMsIEltYWdlLCBvciBWaWRlbykuXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhY2tzIGxvYWRpbmcgb3IgcmVhZCBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEltYWdlVGlsZS5wcm90b3R5cGUuaGFuZGxlSW1hZ2VFcnJvcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRVJST1I7XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5pbWFnZV8gPSBnZXRCbGFua0ltYWdlKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhY2tzIHN1Y2Nlc3NmdWwgaW1hZ2UgbG9hZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5oYW5kbGVJbWFnZUxvYWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovICh0aGlzLmltYWdlXyk7XG4gICAgICAgIGlmIChpbWFnZS5uYXR1cmFsV2lkdGggJiYgaW1hZ2UubmF0dXJhbEhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5MT0FERUQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgSW1hZ2VUaWxlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuSURMRTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbl8gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlXy5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW5fO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURJTkc7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgICAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8odGhpcywgdGhpcy5zcmNfKTtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW5fID0gbGlzdGVuSW1hZ2UodGhpcy5pbWFnZV8sIHRoaXMuaGFuZGxlSW1hZ2VMb2FkXy5iaW5kKHRoaXMpLCB0aGlzLmhhbmRsZUltYWdlRXJyb3JfLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNjYXJkcyBldmVudCBoYW5kbGVycyB3aGljaCBsaXN0ZW4gZm9yIGxvYWQgY29tcGxldGlvbiBvciBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEltYWdlVGlsZS5wcm90b3R5cGUudW5saXN0ZW5JbWFnZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnVubGlzdGVuXykge1xuICAgICAgICAgICAgdGhpcy51bmxpc3Rlbl8oKTtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEltYWdlVGlsZTtcbn0oVGlsZSkpO1xuLyoqXG4gKiBHZXQgYSAxLXBpeGVsIGJsYW5rIGltYWdlLlxuICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEJsYW5rIGltYWdlLlxuICovXG5mdW5jdGlvbiBnZXRCbGFua0ltYWdlKCkge1xuICAgIHZhciBjdHggPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDApJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgMSwgMSk7XG4gICAgcmV0dXJuIGN0eC5jYW52YXM7XG59XG5leHBvcnQgZGVmYXVsdCBJbWFnZVRpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVRpbGUuanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9Ucmlhbmd1bGF0aW9uXG4gKi9cbmltcG9ydCB7IGJvdW5kaW5nRXh0ZW50LCBjcmVhdGVFbXB0eSwgZXh0ZW5kQ29vcmRpbmF0ZSwgZ2V0QXJlYSwgZ2V0Qm90dG9tTGVmdCwgZ2V0Qm90dG9tUmlnaHQsIGdldFRvcExlZnQsIGdldFRvcFJpZ2h0LCBnZXRXaWR0aCwgaW50ZXJzZWN0cywgfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgZ2V0VHJhbnNmb3JtIH0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQgeyBsb2cyLCBtb2R1bG8gfSBmcm9tICcuLi9tYXRoLmpzJztcbi8qKlxuICogU2luZ2xlIHRyaWFuZ2xlOyBjb25zaXN0cyBvZiAzIHNvdXJjZSBwb2ludHMgYW5kIDMgdGFyZ2V0IHBvaW50cy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRyaWFuZ2xlXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IHNvdXJjZVxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSB0YXJnZXRcbiAqL1xuLyoqXG4gKiBNYXhpbXVtIG51bWJlciBvZiBzdWJkaXZpc2lvbiBzdGVwcyBkdXJpbmcgcmFzdGVyIHJlcHJvamVjdGlvbiB0cmlhbmd1bGF0aW9uLlxuICogUHJldmVudHMgaGlnaCBtZW1vcnkgdXNhZ2UgYW5kIGxhcmdlIG51bWJlciBvZiBwcm9qNCBjYWxscyAoZm9yIGNlcnRhaW5cbiAqIHRyYW5zZm9ybWF0aW9ucyBhbmQgYXJlYXMpLiBBdCBtb3N0IGAyKigyXnRoaXMpYCB0cmlhbmdsZXMgYXJlIGNyZWF0ZWQgZm9yXG4gKiBlYWNoIHRyaWFuZ3VsYXRlZCBleHRlbnQgKHRpbGUvaW1hZ2UpLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIE1BWF9TVUJESVZJU0lPTiA9IDEwO1xuLyoqXG4gKiBNYXhpbXVtIGFsbG93ZWQgc2l6ZSBvZiB0cmlhbmdsZSByZWxhdGl2ZSB0byB3b3JsZCB3aWR0aC4gV2hlbiB0cmFuc2Zvcm1pbmdcbiAqIGNvcm5lcnMgb2Ygd29ybGQgZXh0ZW50IGJldHdlZW4gY2VydGFpbiBwcm9qZWN0aW9ucywgdGhlIHJlc3VsdGluZ1xuICogdHJpYW5ndWxhdGlvbiBzZWVtcyB0byBoYXZlIHplcm8gZXJyb3IgYW5kIG5vIHN1YmRpdmlzaW9uIGlzIHBlcmZvcm1lZC4gSWZcbiAqIHRoZSB0cmlhbmdsZSB3aWR0aCBpcyBtb3JlIHRoYW4gdGhpcyAocmVsYXRpdmUgdG8gd29ybGQgd2lkdGg7IDAtMSksXG4gKiBzdWJkaXZpc29uIGlzIGZvcmNlZCAodXAgdG8gYE1BWF9TVUJESVZJU0lPTmApLiBEZWZhdWx0IGlzIGAwLjI1YC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBNQVhfVFJJQU5HTEVfV0lEVEggPSAwLjI1O1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzcyBjb250YWluaW5nIHRyaWFuZ3VsYXRpb24gb2YgdGhlIGdpdmVuIHRhcmdldCBleHRlbnQuXG4gKiBVc2VkIGZvciBkZXRlcm1pbmluZyBzb3VyY2UgZGF0YSBhbmQgdGhlIHJlcHJvamVjdGlvbiBpdHNlbGYuXG4gKi9cbnZhciBUcmlhbmd1bGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRhcmdldEV4dGVudCBUYXJnZXQgZXh0ZW50IHRvIHRyaWFuZ3VsYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4U291cmNlRXh0ZW50IE1heGltYWwgc291cmNlIGV4dGVudCB0aGF0IGNhbiBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlcnJvclRocmVzaG9sZCBBY2NlcHRhYmxlIGVycm9yIChpbiBzb3VyY2UgdW5pdHMpLlxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gb3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbiBUaGUgKG9wdGlvbmFsKSByZXNvbHV0aW9uIG9mIHRoZSBkZXN0aW5hdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmlhbmd1bGF0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldEV4dGVudCwgbWF4U291cmNlRXh0ZW50LCBlcnJvclRocmVzaG9sZCwgb3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VQcm9qXyA9IHNvdXJjZVByb2o7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldFByb2pfID0gdGFyZ2V0UHJvajtcbiAgICAgICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gKi9cbiAgICAgICAgdmFyIHRyYW5zZm9ybUludkNhY2hlID0ge307XG4gICAgICAgIHZhciB0cmFuc2Zvcm1JbnYgPSBnZXRUcmFuc2Zvcm0odGhpcy50YXJnZXRQcm9qXywgdGhpcy5zb3VyY2VQcm9qXyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBBIGNvb3JkaW5hdGUuXG4gICAgICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtSW52XyA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gY1swXSArICcvJyArIGNbMV07XG4gICAgICAgICAgICBpZiAoIXRyYW5zZm9ybUludkNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1JbnZDYWNoZVtrZXldID0gdHJhbnNmb3JtSW52KGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUludkNhY2hlW2tleV07XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4U291cmNlRXh0ZW50XyA9IG1heFNvdXJjZUV4dGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yVGhyZXNob2xkU3F1YXJlZF8gPSBlcnJvclRocmVzaG9sZCAqIGVycm9yVGhyZXNob2xkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0FycmF5PFRyaWFuZ2xlPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpYW5nbGVzXyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHRyaWFuZ3VsYXRpb24gY3Jvc3NlcyBlZGdlIG9mIHRoZSBzb3VyY2UgcHJvamVjdGlvbi5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBzWEluU291cmNlXyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbldyYXBYSW5Tb3VyY2VfID1cbiAgICAgICAgICAgIHRoaXMuc291cmNlUHJval8uY2FuV3JhcFgoKSAmJlxuICAgICAgICAgICAgICAgICEhbWF4U291cmNlRXh0ZW50ICYmXG4gICAgICAgICAgICAgICAgISF0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpICYmXG4gICAgICAgICAgICAgICAgZ2V0V2lkdGgobWF4U291cmNlRXh0ZW50KSA9PSBnZXRXaWR0aCh0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyA9IHRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KClcbiAgICAgICAgICAgID8gZ2V0V2lkdGgodGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXRXb3JsZFdpZHRoXyA9IHRoaXMudGFyZ2V0UHJval8uZ2V0RXh0ZW50KClcbiAgICAgICAgICAgID8gZ2V0V2lkdGgodGhpcy50YXJnZXRQcm9qXy5nZXRFeHRlbnQoKSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uVG9wTGVmdCA9IGdldFRvcExlZnQodGFyZ2V0RXh0ZW50KTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uVG9wUmlnaHQgPSBnZXRUb3BSaWdodCh0YXJnZXRFeHRlbnQpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25Cb3R0b21SaWdodCA9IGdldEJvdHRvbVJpZ2h0KHRhcmdldEV4dGVudCk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkJvdHRvbUxlZnQgPSBnZXRCb3R0b21MZWZ0KHRhcmdldEV4dGVudCk7XG4gICAgICAgIHZhciBzb3VyY2VUb3BMZWZ0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uVG9wTGVmdCk7XG4gICAgICAgIHZhciBzb3VyY2VUb3BSaWdodCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvblRvcFJpZ2h0KTtcbiAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uQm90dG9tUmlnaHQpO1xuICAgICAgICB2YXIgc291cmNlQm90dG9tTGVmdCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvbkJvdHRvbUxlZnQpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBUaGUgbWF4U3ViZGl2aXNpb24gY29udHJvbHMgaG93IG1hbnkgc3BsaXR0aW5ncyBvZiB0aGUgdGFyZ2V0IGFyZWEgY2FuXG4gICAgICAgICAqIGJlIGRvbmUuIFRoZSBpZGVhIGhlcmUgaXMgdG8gZG8gYSBsaW5lYXIgbWFwcGluZyBvZiB0aGUgdGFyZ2V0IGFyZWFzXG4gICAgICAgICAqIGJ1dCB0aGUgYWN0dWFsIG92ZXJhbCByZXByb2plY3Rpb24gKGNhbiBiZSkgZXh0cmVtZWx5IG5vbi1saW5lYXIuIFRoZVxuICAgICAgICAgKiBkZWZhdWx0IHZhbHVlIG9mIE1BWF9TVUJESVZJU0lPTiB3YXMgY2hvc2VuIGJhc2VkIG9uIG1hcHBpbmcgYSAyNTZ4MjU2XG4gICAgICAgICAqIHRpbGUgc2l6ZS4gSG93ZXZlciB0aGlzIGZ1bmN0aW9uIGlzIGFsc28gY2FsbGVkIHRvIHJlbWFwIGNhbnZhcyByZW5kZXJlZFxuICAgICAgICAgKiBsYXllcnMgd2hpY2ggY2FuIGJlIG11Y2ggbGFyZ2VyLiBUaGlzIGNhbGN1bGF0aW9uIGluY3JlYXNlcyB0aGUgbWF4U3ViZGl2aXNpb25cbiAgICAgICAgICogdmFsdWUgYnkgdGhlIHJpZ2h0IGZhY3RvciBzbyB0aGF0IGVhY2ggMjU2eDI1NiBwaXhlbCBhcmVhIGhhc1xuICAgICAgICAgKiBNQVhfU1VCRElWSVNJT04gZGl2aXNpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG1heFN1YmRpdmlzaW9uID0gTUFYX1NVQkRJVklTSU9OICtcbiAgICAgICAgICAgIChvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heCgwLCBNYXRoLmNlaWwobG9nMihnZXRBcmVhKHRhcmdldEV4dGVudCkgL1xuICAgICAgICAgICAgICAgICAgICAob3B0X2Rlc3RpbmF0aW9uUmVzb2x1dGlvbiAqXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRfZGVzdGluYXRpb25SZXNvbHV0aW9uICpcbiAgICAgICAgICAgICAgICAgICAgICAgIDI1NiAqXG4gICAgICAgICAgICAgICAgICAgICAgICAyNTYpKSkpXG4gICAgICAgICAgICAgICAgOiAwKTtcbiAgICAgICAgdGhpcy5hZGRRdWFkXyhkZXN0aW5hdGlvblRvcExlZnQsIGRlc3RpbmF0aW9uVG9wUmlnaHQsIGRlc3RpbmF0aW9uQm90dG9tUmlnaHQsIGRlc3RpbmF0aW9uQm90dG9tTGVmdCwgc291cmNlVG9wTGVmdCwgc291cmNlVG9wUmlnaHQsIHNvdXJjZUJvdHRvbVJpZ2h0LCBzb3VyY2VCb3R0b21MZWZ0LCBtYXhTdWJkaXZpc2lvbik7XG4gICAgICAgIGlmICh0aGlzLndyYXBzWEluU291cmNlXykge1xuICAgICAgICAgICAgdmFyIGxlZnRCb3VuZF8xID0gSW5maW5pdHk7XG4gICAgICAgICAgICB0aGlzLnRyaWFuZ2xlc18uZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAgICAgICAgIGxlZnRCb3VuZF8xID0gTWF0aC5taW4obGVmdEJvdW5kXzEsIHRyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzFdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTaGlmdCB0cmlhbmdsZXMgdG8gYmUgYXMgY2xvc2UgdG8gYGxlZnRCb3VuZGAgYXMgcG9zc2libGVcbiAgICAgICAgICAgIC8vIChpZiB0aGUgZGlzdGFuY2UgaXMgbW9yZSB0aGFuIGB3b3JsZFdpZHRoIC8gMmAgaXQgY2FuIGJlIGNsb3Nlci5cbiAgICAgICAgICAgIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSkge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLm1heCh0cmlhbmdsZS5zb3VyY2VbMF1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsxXVswXSwgdHJpYW5nbGUuc291cmNlWzJdWzBdKSAtXG4gICAgICAgICAgICAgICAgICAgIGxlZnRCb3VuZF8xID5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1RyaWFuZ2xlID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzBdWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0cmlhbmdsZS5zb3VyY2VbMV1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsxXVsxXV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbdHJpYW5nbGUuc291cmNlWzJdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMV1dLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VHJpYW5nbGVbMF1bMF0gLSBsZWZ0Qm91bmRfMSA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdUcmlhbmdsZVswXVswXSAtPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUcmlhbmdsZVsxXVswXSAtIGxlZnRCb3VuZF8xID4gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzFdWzBdIC09IHRoaXMuc291cmNlV29ybGRXaWR0aF87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1RyaWFuZ2xlWzJdWzBdIC0gbGVmdEJvdW5kXzEgPiB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VHJpYW5nbGVbMl1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSYXJlbHkgKGlmIHRoZSBleHRlbnQgY29udGFpbnMgYm90aCB0aGUgZGF0ZWxpbmUgYW5kIHByaW1lIG1lcmlkaWFuKVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2hpZnQgY2FuIGluIHR1cm4gYnJlYWsgc29tZSB0cmlhbmdsZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVjdCB0aGlzIGhlcmUgYW5kIGRvbid0IHNoaWZ0IGluIHN1Y2ggY2FzZXMuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5YID0gTWF0aC5taW4obmV3VHJpYW5nbGVbMF1bMF0sIG5ld1RyaWFuZ2xlWzFdWzBdLCBuZXdUcmlhbmdsZVsyXVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhYID0gTWF0aC5tYXgobmV3VHJpYW5nbGVbMF1bMF0sIG5ld1RyaWFuZ2xlWzFdWzBdLCBuZXdUcmlhbmdsZVsyXVswXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhYIC0gbWluWCA8IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2UgPSBuZXdUcmlhbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNmb3JtSW52Q2FjaGUgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0cmlhbmdsZSB0byB0aGUgdHJpYW5ndWxhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYiBUaGUgdGFyZ2V0IGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYVNyYyBUaGUgc291cmNlIGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYlNyYyBUaGUgc291cmNlIGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRyaWFuZ3VsYXRpb24ucHJvdG90eXBlLmFkZFRyaWFuZ2xlXyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBhU3JjLCBiU3JjLCBjU3JjKSB7XG4gICAgICAgIHRoaXMudHJpYW5nbGVzXy5wdXNoKHtcbiAgICAgICAgICAgIHNvdXJjZTogW2FTcmMsIGJTcmMsIGNTcmNdLFxuICAgICAgICAgICAgdGFyZ2V0OiBbYSwgYiwgY10sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBxdWFkIChwb2ludHMgaW4gY2xvY2std2lzZSBvcmRlcikgdG8gdGhlIHRyaWFuZ3VsYXRpb25cbiAgICAgKiAoYW5kIHJlcHJvamVjdHMgdGhlIHZlcnRpY2VzKSBpZiB2YWxpZC5cbiAgICAgKiBQZXJmb3JtcyBxdWFkIHN1YmRpdmlzaW9uIGlmIG5lZWRlZCB0byBpbmNyZWFzZSBwcmVjaXNpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYiBUaGUgdGFyZ2V0IGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZCBUaGUgdGFyZ2V0IGQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYVNyYyBUaGUgc291cmNlIGEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYlNyYyBUaGUgc291cmNlIGIgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZFNyYyBUaGUgc291cmNlIGQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4U3ViZGl2aXNpb24gTWF4aW1hbCBhbGxvd2VkIHN1YmRpdmlzaW9uIG9mIHRoZSBxdWFkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuYWRkUXVhZF8gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgYVNyYywgYlNyYywgY1NyYywgZFNyYywgbWF4U3ViZGl2aXNpb24pIHtcbiAgICAgICAgdmFyIHNvdXJjZVF1YWRFeHRlbnQgPSBib3VuZGluZ0V4dGVudChbYVNyYywgYlNyYywgY1NyYywgZFNyY10pO1xuICAgICAgICB2YXIgc291cmNlQ292ZXJhZ2VYID0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoX1xuICAgICAgICAgICAgPyBnZXRXaWR0aChzb3VyY2VRdWFkRXh0ZW50KSAvIHRoaXMuc291cmNlV29ybGRXaWR0aF9cbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgdmFyIHNvdXJjZVdvcmxkV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuc291cmNlV29ybGRXaWR0aF8pO1xuICAgICAgICAvLyB3aGVuIHRoZSBxdWFkIGlzIHdyYXBwZWQgaW4gdGhlIHNvdXJjZSBwcm9qZWN0aW9uXG4gICAgICAgIC8vIGl0IGNvdmVycyBtb3N0IG9mIHRoZSBwcm9qZWN0aW9uIGV4dGVudCwgYnV0IG5vdCBmdWxseVxuICAgICAgICB2YXIgd3JhcHNYID0gdGhpcy5zb3VyY2VQcm9qXy5jYW5XcmFwWCgpICYmXG4gICAgICAgICAgICBzb3VyY2VDb3ZlcmFnZVggPiAwLjUgJiZcbiAgICAgICAgICAgIHNvdXJjZUNvdmVyYWdlWCA8IDE7XG4gICAgICAgIHZhciBuZWVkc1N1YmRpdmlzaW9uID0gZmFsc2U7XG4gICAgICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldFByb2pfLmlzR2xvYmFsKCkgJiYgdGhpcy50YXJnZXRXb3JsZFdpZHRoXykge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRRdWFkRXh0ZW50ID0gYm91bmRpbmdFeHRlbnQoW2EsIGIsIGMsIGRdKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0Q292ZXJhZ2VYID0gZ2V0V2lkdGgodGFyZ2V0UXVhZEV4dGVudCkgLyB0aGlzLnRhcmdldFdvcmxkV2lkdGhfO1xuICAgICAgICAgICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb3ZlcmFnZVggPiBNQVhfVFJJQU5HTEVfV0lEVEggfHwgbmVlZHNTdWJkaXZpc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghd3JhcHNYICYmIHRoaXMuc291cmNlUHJval8uaXNHbG9iYWwoKSAmJiBzb3VyY2VDb3ZlcmFnZVgpIHtcbiAgICAgICAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID1cbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ292ZXJhZ2VYID4gTUFYX1RSSUFOR0xFX1dJRFRIIHx8IG5lZWRzU3ViZGl2aXNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZWVkc1N1YmRpdmlzaW9uICYmIHRoaXMubWF4U291cmNlRXh0ZW50Xykge1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMF0pICYmXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUoc291cmNlUXVhZEV4dGVudFsxXSkgJiZcbiAgICAgICAgICAgICAgICBpc0Zpbml0ZShzb3VyY2VRdWFkRXh0ZW50WzJdKSAmJlxuICAgICAgICAgICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbM10pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHNvdXJjZVF1YWRFeHRlbnQsIHRoaXMubWF4U291cmNlRXh0ZW50XykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hvbGUgcXVhZCBvdXRzaWRlIHNvdXJjZSBwcm9qZWN0aW9uIGV4dGVudCAtPiBpZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNOb3RGaW5pdGUgPSAwO1xuICAgICAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgIGlmICghaXNGaW5pdGUoYVNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYVNyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYlNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoYlNyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoY1NyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoY1NyY1sxXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoZFNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAhaXNGaW5pdGUoZFNyY1sxXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgbWlnaHQgYmUgdGhlIGNhc2UgdGhhdCBvbmx5IDEgb2YgdGhlIHBvaW50cyBpcyBpbmZpbml0ZS4gSW4gdGhpcyBjYXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBkcmF3IGEgc2luZ2xlIHRyaWFuZ2xlIHdpdGggdGhlIG90aGVyIHRocmVlIHBvaW50c1xuICAgICAgICAgICAgICAgICAgICBpc05vdEZpbml0ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzRmluaXRlKGFTcmNbMF0pIHx8ICFpc0Zpbml0ZShhU3JjWzFdKSA/IDggOiAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFpc0Zpbml0ZShiU3JjWzBdKSB8fCAhaXNGaW5pdGUoYlNyY1sxXSkgPyA0IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghaXNGaW5pdGUoY1NyY1swXSkgfHwgIWlzRmluaXRlKGNTcmNbMV0pID8gMiA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWlzRmluaXRlKGRTcmNbMF0pIHx8ICFpc0Zpbml0ZShkU3JjWzFdKSA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTm90RmluaXRlICE9IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTm90RmluaXRlICE9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgICAgICAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gWyhhWzBdICsgY1swXSkgLyAyLCAoYVsxXSArIGNbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlclNyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhjZW50ZXIpO1xuICAgICAgICAgICAgICAgIHZhciBkeCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAod3JhcHNYKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXJTcmNFc3RpbVggPSAobW9kdWxvKGFTcmNbMF0sIHNvdXJjZVdvcmxkV2lkdGgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsbyhjU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgMjtcbiAgICAgICAgICAgICAgICAgICAgZHggPSBjZW50ZXJTcmNFc3RpbVggLSBtb2R1bG8oY2VudGVyU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGR4ID0gKGFTcmNbMF0gKyBjU3JjWzBdKSAvIDIgLSBjZW50ZXJTcmNbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkeSA9IChhU3JjWzFdICsgY1NyY1sxXSkgLyAyIC0gY2VudGVyU3JjWzFdO1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXJTcmNFcnJvclNxdWFyZWQgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID0gY2VudGVyU3JjRXJyb3JTcXVhcmVkID4gdGhpcy5lcnJvclRocmVzaG9sZFNxdWFyZWRfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYVswXSAtIGNbMF0pIDw9IE1hdGguYWJzKGFbMV0gLSBjWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGxpdCBob3Jpem9udGFsbHkgKHRvcCAmIGJvdHRvbSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJjID0gWyhiWzBdICsgY1swXSkgLyAyLCAoYlsxXSArIGNbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBiY1NyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhiYyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IFsoZFswXSArIGFbMF0pIC8gMiwgKGRbMV0gKyBhWzFdKSAvIDJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGFTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oZGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFF1YWRfKGEsIGIsIGJjLCBkYSwgYVNyYywgYlNyYywgYmNTcmMsIGRhU3JjLCBtYXhTdWJkaXZpc2lvbiAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFF1YWRfKGRhLCBiYywgYywgZCwgZGFTcmMsIGJjU3JjLCBjU3JjLCBkU3JjLCBtYXhTdWJkaXZpc2lvbiAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BsaXQgdmVydGljYWxseSAobGVmdCAmIHJpZ2h0KVxuICAgICAgICAgICAgICAgICAgICB2YXIgYWIgPSBbKGFbMF0gKyBiWzBdKSAvIDIsIChhWzFdICsgYlsxXSkgLyAyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFiU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGFiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkID0gWyhjWzBdICsgZFswXSkgLyAyLCAoY1sxXSArIGRbMV0pIC8gMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZFNyYyA9IHRoaXMudHJhbnNmb3JtSW52XyhjZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVhZF8oYSwgYWIsIGNkLCBkLCBhU3JjLCBhYlNyYywgY2RTcmMsIGRTcmMsIG1heFN1YmRpdmlzaW9uIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUXVhZF8oYWIsIGIsIGMsIGNkLCBhYlNyYywgYlNyYywgY1NyYywgY2RTcmMsIG1heFN1YmRpdmlzaW9uIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod3JhcHNYKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FuV3JhcFhJblNvdXJjZV8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLndyYXBzWEluU291cmNlXyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhhY3RseSB6ZXJvIG9yIG9uZSBvZiAqU3JjIGlzIG5vdCBmaW5pdGVcbiAgICAgICAgLy8gVGhlIHRyaWFuZ2xlcyBtdXN0IGhhdmUgdGhlIGRpYWdvbmFsIGxpbmUgYXMgdGhlIGZpcnN0IHNpZGVcbiAgICAgICAgLy8gVGhpcyBpcyB0byBhbGxvdyBlYXN5IGNvZGUgaW4gcmVwcm9qLnMgdG8gbWFrZSBpdCBzdHJhaWdodCBmb3IgYnJva2VuXG4gICAgICAgIC8vIGJyb3dzZXJzIHRoYXQgY2FuJ3QgaGFuZGxlIGRpYWdvbmFsIGNsaXBwaW5nXG4gICAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGIpID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGQsIGFTcmMsIGNTcmMsIGRTcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGUpID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGIsIGFTcmMsIGNTcmMsIGJTcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05vdEZpbml0ZSkge1xuICAgICAgICAgICAgLy8gVHJ5IHRoZSBvdGhlciB0d28gdHJpYW5nbGVzXG4gICAgICAgICAgICBpZiAoKGlzTm90RmluaXRlICYgMHhkKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYSwgYlNyYywgZFNyYywgYVNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGlzTm90RmluaXRlICYgMHg3KSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYywgYlNyYywgZFNyYywgY1NyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgZXh0ZW50IG9mIHRoZSAnc291cmNlJyBjb29yZGluYXRlcyBmcm9tIGFsbCB0aGUgdHJpYW5nbGVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gQ2FsY3VsYXRlZCBleHRlbnQuXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuY2FsY3VsYXRlU291cmNlRXh0ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgdGhpcy50cmlhbmdsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgIHZhciBzcmMgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgICAgICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgc3JjWzBdKTtcbiAgICAgICAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMV0pO1xuICAgICAgICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIHNyY1syXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXh0ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7QXJyYXk8VHJpYW5nbGU+fSBBcnJheSBvZiB0aGUgY2FsY3VsYXRlZCB0cmlhbmdsZXMuXG4gICAgICovXG4gICAgVHJpYW5ndWxhdGlvbi5wcm90b3R5cGUuZ2V0VHJpYW5nbGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmlhbmdsZXNfO1xuICAgIH07XG4gICAgcmV0dXJuIFRyaWFuZ3VsYXRpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVHJpYW5ndWxhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyaWFuZ3VsYXRpb24uanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9jb21tb25cbiAqL1xuLyoqXG4gKiBEZWZhdWx0IFdNUyB2ZXJzaW9uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX1dNU19WRVJTSU9OID0gJzEuMy4wJztcbi8qKlxuICogQ29udGV4dCBvcHRpb25zIHRvIGRpc2FibGUgaW1hZ2Ugc21vb3RoaW5nLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IHZhciBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQgPSB7XG4gICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkOiBmYWxzZSxcbiAgICBtc0ltYWdlU21vb3RoaW5nRW5hYmxlZDogZmFsc2UsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2pcbiAqL1xuaW1wb3J0IHsgSU1BR0VfU01PT1RISU5HX0RJU0FCTEVEIH0gZnJvbSAnLi9zb3VyY2UvY29tbW9uLmpzJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vb2JqLmpzJztcbmltcG9ydCB7IGNvbnRhaW5zQ29vcmRpbmF0ZSwgY3JlYXRlRW1wdHksIGV4dGVuZCwgZm9yRWFjaENvcm5lciwgZ2V0Q2VudGVyLCBnZXRIZWlnaHQsIGdldFRvcExlZnQsIGdldFdpZHRoLCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGdldFBvaW50UmVzb2x1dGlvbiwgdHJhbnNmb3JtIH0gZnJvbSAnLi9wcm9qLmpzJztcbmltcG9ydCB7IHNvbHZlTGluZWFyU3lzdGVtIH0gZnJvbSAnLi9tYXRoLmpzJztcbnZhciBicm9rZW5EaWFnb25hbFJlbmRlcmluZ187XG4vKipcbiAqIFRoaXMgZHJhd3MgYSBzbWFsbCB0cmlhbmdsZSBpbnRvIGEgY2FudmFzIGJ5IHNldHRpbmcgdGhlIHRyaWFuZ2xlIGFzIHRoZSBjbGlwIHJlZ2lvblxuICogYW5kIHRoZW4gZHJhd2luZyBhICh0b28gbGFyZ2UpIHJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNvbnRleHQgaW4gd2hpY2ggdG8gZHJhdyB0aGUgdHJpYW5nbGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB1MSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuIFRoZSBmaXJzdCBwb2ludCBpcyAwLDAuXG4gKiBAcGFyYW0ge251bWJlcn0gdjEgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgc2Vjb25kIHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHUyIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHRoaXJkIHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHYyIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIHRoaXJkIHBvaW50LlxuICovXG5mdW5jdGlvbiBkcmF3VGVzdFRyaWFuZ2xlKGN0eCwgdTEsIHYxLCB1MiwgdjIpIHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICBjdHgubGluZVRvKHUxLCB2MSk7XG4gICAgY3R4LmxpbmVUbyh1MiwgdjIpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5jbGlwKCk7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIE1hdGgubWF4KHUxLCB1MikgKyAxLCBNYXRoLm1heCh2MSwgdjIpKTtcbiAgICBjdHgucmVzdG9yZSgpO1xufVxuLyoqXG4gKiBHaXZlbiB0aGUgZGF0YSBmcm9tIGdldEltYWdlRGF0YSwgc2VlIGlmIHRoZSByaWdodCB2YWx1ZXMgYXBwZWFyIGF0IHRoZSBwcm92aWRlZCBvZmZzZXQuXG4gKiBSZXR1cm5zIHRydWUgaWYgZWl0aGVyIHRoZSBjb2xvciBvciB0cmFuc3BhcmVuY3kgaXMgb2ZmXG4gKlxuICogQHBhcmFtIHtVaW50OENsYW1wZWRBcnJheX0gZGF0YSBUaGUgZGF0YSByZXR1cm5lZCBmcm9tIGdldEltYWdlRGF0YVxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBUaGUgcGl4ZWwgb2Zmc2V0IGZyb20gdGhlIHN0YXJ0IG9mIGRhdGEuXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBkaWFnb25hbCByZW5kZXJpbmcgaXMgYnJva2VuXG4gKi9cbmZ1bmN0aW9uIHZlcmlmeUJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKGRhdGEsIG9mZnNldCkge1xuICAgIC8vIHRoZSB2YWx1ZXMgb3VnaHQgdG8gYmUgY2xvc2UgdG8gdGhlIHJnYmEoMjEwLCAwLCAwLCAwLjc1KVxuICAgIHJldHVybiAoTWF0aC5hYnMoZGF0YVtvZmZzZXQgKiA0XSAtIDIxMCkgPiAyIHx8XG4gICAgICAgIE1hdGguYWJzKGRhdGFbb2Zmc2V0ICogNCArIDNdIC0gMC43NSAqIDI1NSkgPiAyKTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgY3VycmVudCBicm93c2VyIGNvbmZpZ3VyYXRpb24gY2FuIHJlbmRlciB0cmlhbmd1bGFyIGNsaXAgcmVnaW9ucyBjb3JyZWN0bHkuXG4gKiBUaGlzIHZhbHVlIGlzIGNhY2hlZCBzbyB0aGUgZnVuY3Rpb24gaXMgb25seSBleHBlbnNpdmUgdGhlIGZpcnN0IHRpbWUgY2FsbGVkLlxuICogRmlyZWZveCBvbiBXaW5kb3dzIChhcyBvZiBub3cpIGRvZXMgbm90IGlmIEhXQSBpcyBlbmFibGVkLiBTZWUgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTYwNjk3NlxuICogSUUgYWxzbyBkb2Vzbid0LiBDaHJvbWUgd29ya3MsIGFuZCBldmVyeXRoaW5nIHNlZW1zIHRvIHdvcmsgb24gT1NYIGFuZCBBbmRyb2lkLiBUaGlzIGZ1bmN0aW9uIGNhY2hlcyB0aGVcbiAqIHJlc3VsdC4gSSBzdXBwb3NlIHRoYXQgaXQgaXMgY29uY2VpdmFibHkgcG9zc2libGUgdGhhdCBhIGJyb3dzZXIgbWlnaHQgZmxpcCBtb2RlcyB3aGlsZSB0aGUgYXBwIGlzXG4gKiBydW5uaW5nLCBidXQgbGV0cyBob3BlIG5vdC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBEaWFnb25hbCBSZW5kZXJpbmcgaXMgYnJva2VuLlxuICovXG5mdW5jdGlvbiBpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKCkge1xuICAgIGlmIChicm9rZW5EaWFnb25hbFJlbmRlcmluZ18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJztcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDIxMCwgMCwgMCwgMC43NSknO1xuICAgICAgICBkcmF3VGVzdFRyaWFuZ2xlKGN0eCwgNCwgNSwgNCwgMCk7XG4gICAgICAgIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCA0LCA1LCAwLCA1KTtcbiAgICAgICAgdmFyIGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIDMsIDMpLmRhdGE7XG4gICAgICAgIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXyA9XG4gICAgICAgICAgICB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCAwKSB8fFxuICAgICAgICAgICAgICAgIHZlcmlmeUJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKGRhdGEsIDQpIHx8XG4gICAgICAgICAgICAgICAgdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgOCk7XG4gICAgfVxuICAgIHJldHVybiBicm9rZW5EaWFnb25hbFJlbmRlcmluZ187XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgaWRlYWwgcmVzb2x1dGlvbiB0byB1c2UgZnJvbSB0aGUgc291cmNlIGluIG9yZGVyIHRvIGFjaGlldmVcbiAqIHBpeGVsIG1hcHBpbmcgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gMToxIGR1cmluZyByZXByb2plY3Rpb24uXG4gKiBUaGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIHJlZ2FyZGxlc3Mgb2Ygd2hhdCByZXNvbHV0aW9uc1xuICogYXJlIGFjdHVhbGx5IGF2YWlsYWJsZSBpbiB0aGUgZGF0YXNldCAoVGlsZUdyaWQsIEltYWdlLCAuLi4pLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRhcmdldENlbnRlciBUYXJnZXQgY2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiZXN0IHJlc29sdXRpb24gdG8gdXNlLiBDYW4gYmUgKy1JbmZpbml0eSwgTmFOIG9yIDAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldENlbnRlciwgdGFyZ2V0UmVzb2x1dGlvbikge1xuICAgIHZhciBzb3VyY2VDZW50ZXIgPSB0cmFuc2Zvcm0odGFyZ2V0Q2VudGVyLCB0YXJnZXRQcm9qLCBzb3VyY2VQcm9qKTtcbiAgICAvLyBjYWxjdWxhdGUgdGhlIGlkZWFsIHJlc29sdXRpb24gb2YgdGhlIHNvdXJjZSBkYXRhXG4gICAgdmFyIHNvdXJjZVJlc29sdXRpb24gPSBnZXRQb2ludFJlc29sdXRpb24odGFyZ2V0UHJvaiwgdGFyZ2V0UmVzb2x1dGlvbiwgdGFyZ2V0Q2VudGVyKTtcbiAgICB2YXIgdGFyZ2V0TWV0ZXJzUGVyVW5pdCA9IHRhcmdldFByb2ouZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgIGlmICh0YXJnZXRNZXRlcnNQZXJVbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc291cmNlUmVzb2x1dGlvbiAqPSB0YXJnZXRNZXRlcnNQZXJVbml0O1xuICAgIH1cbiAgICB2YXIgc291cmNlTWV0ZXJzUGVyVW5pdCA9IHNvdXJjZVByb2ouZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgIGlmIChzb3VyY2VNZXRlcnNQZXJVbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc291cmNlUmVzb2x1dGlvbiAvPSBzb3VyY2VNZXRlcnNQZXJVbml0O1xuICAgIH1cbiAgICAvLyBCYXNlZCBvbiB0aGUgcHJvamVjdGlvbiBwcm9wZXJ0aWVzLCB0aGUgcG9pbnQgcmVzb2x1dGlvbiBhdCB0aGUgc3BlY2lmaWVkXG4gICAgLy8gY29vcmRpbmF0ZXMgbWF5IGJlIHNsaWdodGx5IGRpZmZlcmVudC4gV2UgbmVlZCB0byByZXZlcnNlLWNvbXBlbnNhdGUgdGhpc1xuICAgIC8vIGluIG9yZGVyIHRvIGFjaGlldmUgb3B0aW1hbCByZXN1bHRzLlxuICAgIHZhciBzb3VyY2VFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgIGlmICghc291cmNlRXh0ZW50IHx8IGNvbnRhaW5zQ29vcmRpbmF0ZShzb3VyY2VFeHRlbnQsIHNvdXJjZUNlbnRlcikpIHtcbiAgICAgICAgdmFyIGNvbXBlbnNhdGlvbkZhY3RvciA9IGdldFBvaW50UmVzb2x1dGlvbihzb3VyY2VQcm9qLCBzb3VyY2VSZXNvbHV0aW9uLCBzb3VyY2VDZW50ZXIpIC9cbiAgICAgICAgICAgIHNvdXJjZVJlc29sdXRpb247XG4gICAgICAgIGlmIChpc0Zpbml0ZShjb21wZW5zYXRpb25GYWN0b3IpICYmIGNvbXBlbnNhdGlvbkZhY3RvciA+IDApIHtcbiAgICAgICAgICAgIHNvdXJjZVJlc29sdXRpb24gLz0gY29tcGVuc2F0aW9uRmFjdG9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2VSZXNvbHV0aW9uO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGlkZWFsIHJlc29sdXRpb24gdG8gdXNlIGZyb20gdGhlIHNvdXJjZSBpbiBvcmRlciB0byBhY2hpZXZlXG4gKiBwaXhlbCBtYXBwaW5nIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIDE6MSBkdXJpbmcgcmVwcm9qZWN0aW9uLlxuICogVGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCByZWdhcmRsZXNzIG9mIHdoYXQgcmVzb2x1dGlvbnNcbiAqIGFyZSBhY3R1YWxseSBhdmFpbGFibGUgaW4gdGhlIGRhdGFzZXQgKFRpbGVHcmlkLCBJbWFnZSwgLi4uKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gdGFyZ2V0RXh0ZW50IFRhcmdldCBleHRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYmVzdCByZXNvbHV0aW9uIHRvIHVzZS4gQ2FuIGJlICstSW5maW5pdHksIE5hTiBvciAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbihzb3VyY2VQcm9qLCB0YXJnZXRQcm9qLCB0YXJnZXRFeHRlbnQsIHRhcmdldFJlc29sdXRpb24pIHtcbiAgICB2YXIgdGFyZ2V0Q2VudGVyID0gZ2V0Q2VudGVyKHRhcmdldEV4dGVudCk7XG4gICAgdmFyIHNvdXJjZVJlc29sdXRpb24gPSBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIHRhcmdldENlbnRlciwgdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgaWYgKCFpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSB8fCBzb3VyY2VSZXNvbHV0aW9uIDw9IDApIHtcbiAgICAgICAgZm9yRWFjaENvcm5lcih0YXJnZXRFeHRlbnQsIGZ1bmN0aW9uIChjb3JuZXIpIHtcbiAgICAgICAgICAgIHNvdXJjZVJlc29sdXRpb24gPSBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uKHNvdXJjZVByb2osIHRhcmdldFByb2osIGNvcm5lciwgdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgICAgICByZXR1cm4gaXNGaW5pdGUoc291cmNlUmVzb2x1dGlvbikgJiYgc291cmNlUmVzb2x1dGlvbiA+IDA7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlUmVzb2x1dGlvbjtcbn1cbi8qKlxuICogUmVuZGVycyB0aGUgc291cmNlIGRhdGEgaW50byBuZXcgY2FudmFzIGJhc2VkIG9uIHRoZSB0cmlhbmd1bGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgY2FudmFzLlxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIGNhbnZhcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtudW1iZXJ9IHNvdXJjZVJlc29sdXRpb24gU291cmNlIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gc291cmNlRXh0ZW50IEV4dGVudCBvZiB0aGUgZGF0YSBzb3VyY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSB0YXJnZXRFeHRlbnQgVGFyZ2V0IGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9yZXByb2ovVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fSB0cmlhbmd1bGF0aW9uXG4gKiBDYWxjdWxhdGVkIHRyaWFuZ3VsYXRpb24uXG4gKiBAcGFyYW0ge0FycmF5PHtleHRlbnQ6IGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCxcbiAqICAgICAgICAgICAgICAgICBpbWFnZTogKEhUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudCl9Pn0gc291cmNlc1xuICogQXJyYXkgb2Ygc291cmNlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBndXR0ZXIgR3V0dGVyIG9mIHRoZSBzb3VyY2VzLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3JlbmRlckVkZ2VzIFJlbmRlciByZXByb2plY3Rpb24gZWRnZXMuXG4gKiBAcGFyYW0ge29iamVjdD19IG9wdF9jb250ZXh0T3B0aW9ucyBQcm9wZXJ0aWVzIHRvIHNldCBvbiB0aGUgY2FudmFzIGNvbnRleHQuXG4gKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzIHdpdGggcmVwcm9qZWN0ZWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcih3aWR0aCwgaGVpZ2h0LCBwaXhlbFJhdGlvLCBzb3VyY2VSZXNvbHV0aW9uLCBzb3VyY2VFeHRlbnQsIHRhcmdldFJlc29sdXRpb24sIHRhcmdldEV4dGVudCwgdHJpYW5ndWxhdGlvbiwgc291cmNlcywgZ3V0dGVyLCBvcHRfcmVuZGVyRWRnZXMsIG9wdF9jb250ZXh0T3B0aW9ucykge1xuICAgIHZhciBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKE1hdGgucm91bmQocGl4ZWxSYXRpbyAqIHdpZHRoKSwgTWF0aC5yb3VuZChwaXhlbFJhdGlvICogaGVpZ2h0KSk7XG4gICAgYXNzaWduKGNvbnRleHQsIG9wdF9jb250ZXh0T3B0aW9ucyk7XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNhbnZhcztcbiAgICB9XG4gICAgY29udGV4dC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICBmdW5jdGlvbiBwaXhlbFJvdW5kKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogcGl4ZWxSYXRpbykgLyBwaXhlbFJhdGlvO1xuICAgIH1cbiAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJztcbiAgICB2YXIgc291cmNlRGF0YUV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzcmMsIGksIGFycikge1xuICAgICAgICBleHRlbmQoc291cmNlRGF0YUV4dGVudCwgc3JjLmV4dGVudCk7XG4gICAgfSk7XG4gICAgdmFyIGNhbnZhc1dpZHRoSW5Vbml0cyA9IGdldFdpZHRoKHNvdXJjZURhdGFFeHRlbnQpO1xuICAgIHZhciBjYW52YXNIZWlnaHRJblVuaXRzID0gZ2V0SGVpZ2h0KHNvdXJjZURhdGFFeHRlbnQpO1xuICAgIHZhciBzdGl0Y2hDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKE1hdGgucm91bmQoKHBpeGVsUmF0aW8gKiBjYW52YXNXaWR0aEluVW5pdHMpIC8gc291cmNlUmVzb2x1dGlvbiksIE1hdGgucm91bmQoKHBpeGVsUmF0aW8gKiBjYW52YXNIZWlnaHRJblVuaXRzKSAvIHNvdXJjZVJlc29sdXRpb24pKTtcbiAgICBhc3NpZ24oc3RpdGNoQ29udGV4dCwgb3B0X2NvbnRleHRPcHRpb25zKTtcbiAgICB2YXIgc3RpdGNoU2NhbGUgPSBwaXhlbFJhdGlvIC8gc291cmNlUmVzb2x1dGlvbjtcbiAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNyYywgaSwgYXJyKSB7XG4gICAgICAgIHZhciB4UG9zID0gc3JjLmV4dGVudFswXSAtIHNvdXJjZURhdGFFeHRlbnRbMF07XG4gICAgICAgIHZhciB5UG9zID0gLShzcmMuZXh0ZW50WzNdIC0gc291cmNlRGF0YUV4dGVudFszXSk7XG4gICAgICAgIHZhciBzcmNXaWR0aCA9IGdldFdpZHRoKHNyYy5leHRlbnQpO1xuICAgICAgICB2YXIgc3JjSGVpZ2h0ID0gZ2V0SGVpZ2h0KHNyYy5leHRlbnQpO1xuICAgICAgICAvLyBUaGlzIHRlc3Qgc2hvdWxkIG5ldmVyIGZhaWwgLS0gYnV0IGl0IGRvZXMuIE5lZWQgdG8gZmluZCBhIGZpeCB0aGUgdXBzdHJlYW0gY29uZGl0aW9uXG4gICAgICAgIGlmIChzcmMuaW1hZ2Uud2lkdGggPiAwICYmIHNyYy5pbWFnZS5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICBzdGl0Y2hDb250ZXh0LmRyYXdJbWFnZShzcmMuaW1hZ2UsIGd1dHRlciwgZ3V0dGVyLCBzcmMuaW1hZ2Uud2lkdGggLSAyICogZ3V0dGVyLCBzcmMuaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlciwgeFBvcyAqIHN0aXRjaFNjYWxlLCB5UG9zICogc3RpdGNoU2NhbGUsIHNyY1dpZHRoICogc3RpdGNoU2NhbGUsIHNyY0hlaWdodCAqIHN0aXRjaFNjYWxlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciB0YXJnZXRUb3BMZWZ0ID0gZ2V0VG9wTGVmdCh0YXJnZXRFeHRlbnQpO1xuICAgIHRyaWFuZ3VsYXRpb24uZ2V0VHJpYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICAvKiBDYWxjdWxhdGUgYWZmaW5lIHRyYW5zZm9ybSAoc3JjIC0+IGRzdClcbiAgICAgICAgICogUmVzdWx0aW5nIG1hdHJpeCBjYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRpbmF0ZVxuICAgICAgICAgKiBmcm9tIGBzb3VyY2VQcm9qZWN0aW9uYCB0byBkZXN0aW5hdGlvbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRvIG9wdGltaXplIG51bWJlciBvZiBjb250ZXh0IGNhbGxzIGFuZCBpbmNyZWFzZSBudW1lcmljYWwgc3RhYmlsaXR5LFxuICAgICAgICAgKiB3ZSBhbHNvIGRvIHRoZSBmb2xsb3dpbmcgb3BlcmF0aW9uczpcbiAgICAgICAgICogdHJhbnMoLXRvcExlZnRFeHRlbnRDb3JuZXIpLCBzY2FsZSgxIC8gdGFyZ2V0UmVzb2x1dGlvbiksIHNjYWxlKDEsIC0xKVxuICAgICAgICAgKiBoZXJlIGJlZm9yZSBzb2x2aW5nIHRoZSBsaW5lYXIgc3lzdGVtIHNvIFt1aSwgdmldIGFyZSBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogU3JjIHBvaW50czogeGksIHlpXG4gICAgICAgICAqIERzdCBwb2ludHM6IHVpLCB2aVxuICAgICAgICAgKiBBZmZpbmUgY29lZmZpY2llbnRzOiBhaWpcbiAgICAgICAgICpcbiAgICAgICAgICogfCB4MCB5MCAxICAwICAwIDAgfCAgIHxhMDB8ICAgfHUwfFxuICAgICAgICAgKiB8IHgxIHkxIDEgIDAgIDAgMCB8ICAgfGEwMXwgICB8dTF8XG4gICAgICAgICAqIHwgeDIgeTIgMSAgMCAgMCAwIHwgeCB8YTAyfCA9IHx1MnxcbiAgICAgICAgICogfCAgMCAgMCAwIHgwIHkwIDEgfCAgIHxhMTB8ICAgfHYwfFxuICAgICAgICAgKiB8ICAwICAwIDAgeDEgeTEgMSB8ICAgfGExMXwgICB8djF8XG4gICAgICAgICAqIHwgIDAgIDAgMCB4MiB5MiAxIHwgICB8YTEyfCAgIHx2MnxcbiAgICAgICAgICovXG4gICAgICAgIHZhciBzb3VyY2UgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0cmlhbmdsZS50YXJnZXQ7XG4gICAgICAgIHZhciB4MCA9IHNvdXJjZVswXVswXSwgeTAgPSBzb3VyY2VbMF1bMV07XG4gICAgICAgIHZhciB4MSA9IHNvdXJjZVsxXVswXSwgeTEgPSBzb3VyY2VbMV1bMV07XG4gICAgICAgIHZhciB4MiA9IHNvdXJjZVsyXVswXSwgeTIgPSBzb3VyY2VbMl1bMV07XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgaXMgb24gcGl4ZWwgYm91bmRhcmllc1xuICAgICAgICB2YXIgdTAgPSBwaXhlbFJvdW5kKCh0YXJnZXRbMF1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICB2YXIgdjAgPSBwaXhlbFJvdW5kKC0odGFyZ2V0WzBdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHUxID0gcGl4ZWxSb3VuZCgodGFyZ2V0WzFdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHYxID0gcGl4ZWxSb3VuZCgtKHRhcmdldFsxXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIHZhciB1MiA9IHBpeGVsUm91bmQoKHRhcmdldFsyXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIHZhciB2MiA9IHBpeGVsUm91bmQoLSh0YXJnZXRbMl1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgICAgICAvLyBTaGlmdCBhbGwgdGhlIHNvdXJjZSBwb2ludHMgdG8gaW1wcm92ZSBudW1lcmljYWwgc3RhYmlsaXR5XG4gICAgICAgIC8vIG9mIGFsbCB0aGUgc3Vic2VxdWVudCBjYWxjdWxhdGlvbnMuIFRoZSBbeDAsIHkwXSBpcyB1c2VkIGhlcmUuXG4gICAgICAgIC8vIFRoaXMgaXMgYWxzbyB1c2VkIHRvIHNpbXBsaWZ5IHRoZSBsaW5lYXIgc3lzdGVtLlxuICAgICAgICB2YXIgc291cmNlTnVtZXJpY2FsU2hpZnRYID0geDA7XG4gICAgICAgIHZhciBzb3VyY2VOdW1lcmljYWxTaGlmdFkgPSB5MDtcbiAgICAgICAgeDAgPSAwO1xuICAgICAgICB5MCA9IDA7XG4gICAgICAgIHgxIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WDtcbiAgICAgICAgeTEgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRZO1xuICAgICAgICB4MiAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFg7XG4gICAgICAgIHkyIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WTtcbiAgICAgICAgdmFyIGF1Z21lbnRlZE1hdHJpeCA9IFtcbiAgICAgICAgICAgIFt4MSwgeTEsIDAsIDAsIHUxIC0gdTBdLFxuICAgICAgICAgICAgW3gyLCB5MiwgMCwgMCwgdTIgLSB1MF0sXG4gICAgICAgICAgICBbMCwgMCwgeDEsIHkxLCB2MSAtIHYwXSxcbiAgICAgICAgICAgIFswLCAwLCB4MiwgeTIsIHYyIC0gdjBdLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgYWZmaW5lQ29lZnMgPSBzb2x2ZUxpbmVhclN5c3RlbShhdWdtZW50ZWRNYXRyaXgpO1xuICAgICAgICBpZiAoIWFmZmluZUNvZWZzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKCkgfHxcbiAgICAgICAgICAgIG9wdF9jb250ZXh0T3B0aW9ucyA9PT0gSU1BR0VfU01PT1RISU5HX0RJU0FCTEVEKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBhbGwgbGluZXMgYXJlIGhvcml6b250YWwgb3IgdmVydGljYWxcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBkaWFnb25hbCBsaW5lLiBEbyBpdCBpbiA0IHN0ZXBzXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSA0O1xuICAgICAgICAgICAgdmFyIHVkID0gdTAgLSB1MTtcbiAgICAgICAgICAgIHZhciB2ZCA9IHYwIC0gdjE7XG4gICAgICAgICAgICBmb3IgKHZhciBzdGVwID0gMDsgc3RlcCA8IHN0ZXBzOyBzdGVwKyspIHtcbiAgICAgICAgICAgICAgICAvLyBHbyBob3Jpem9udGFsbHlcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh1MSArIHBpeGVsUm91bmQoKChzdGVwICsgMSkgKiB1ZCkgLyBzdGVwcyksIHYxICsgcGl4ZWxSb3VuZCgoc3RlcCAqIHZkKSAvIChzdGVwcyAtIDEpKSk7XG4gICAgICAgICAgICAgICAgLy8gR28gdmVydGljYWxseVxuICAgICAgICAgICAgICAgIGlmIChzdGVwICE9IHN0ZXBzIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh1MSArIHBpeGVsUm91bmQoKChzdGVwICsgMSkgKiB1ZCkgLyBzdGVwcyksIHYxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHZkKSAvIChzdGVwcyAtIDEpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgYXJlIGFsbW9zdCBhdCB1MHIsIHYwclxuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTIsIHYyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh1MCwgdjApO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTIsIHYyKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNsaXAoKTtcbiAgICAgICAgY29udGV4dC50cmFuc2Zvcm0oYWZmaW5lQ29lZnNbMF0sIGFmZmluZUNvZWZzWzJdLCBhZmZpbmVDb2Vmc1sxXSwgYWZmaW5lQ29lZnNbM10sIHUwLCB2MCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHNvdXJjZURhdGFFeHRlbnRbMF0gLSBzb3VyY2VOdW1lcmljYWxTaGlmdFgsIHNvdXJjZURhdGFFeHRlbnRbM10gLSBzb3VyY2VOdW1lcmljYWxTaGlmdFkpO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvLCAtc291cmNlUmVzb2x1dGlvbiAvIHBpeGVsUmF0aW8pO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShzdGl0Y2hDb250ZXh0LmNhbnZhcywgMCwgMCk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH0pO1xuICAgIGlmIChvcHRfcmVuZGVyRWRnZXMpIHtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICAgICAgdHJpYW5ndWxhdGlvbi5nZXRUcmlhbmdsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSwgaSwgYXJyKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdHJpYW5nbGUudGFyZ2V0O1xuICAgICAgICAgICAgdmFyIHUwID0gKHRhcmdldFswXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciB2MCA9IC0odGFyZ2V0WzBdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHUxID0gKHRhcmdldFsxXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciB2MSA9IC0odGFyZ2V0WzFdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgdmFyIHUyID0gKHRhcmdldFsyXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHZhciB2MiA9IC0odGFyZ2V0WzJdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh1MCwgdjApO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odTIsIHYyKTtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmNhbnZhcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcHJvai5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9UaWxlXG4gKi9cbmltcG9ydCB7IEVSUk9SX1RIUkVTSE9MRCB9IGZyb20gJy4vY29tbW9uLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZSBmcm9tICcuLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCBUcmlhbmd1bGF0aW9uIGZyb20gJy4vVHJpYW5ndWxhdGlvbi5qcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uLCByZW5kZXIgYXMgcmVuZGVyUmVwcm9qZWN0ZWQsIH0gZnJvbSAnLi4vcmVwcm9qLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vbWF0aC5qcyc7XG5pbXBvcnQgeyBnZXRBcmVhLCBnZXRJbnRlcnNlY3Rpb24gfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHsgbGlzdGVuLCB1bmxpc3RlbkJ5S2V5IH0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcikgOiBpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IEZ1bmN0aW9uVHlwZVxuICovXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzIGVuY2Fwc3VsYXRpbmcgc2luZ2xlIHJlcHJvamVjdGVkIHRpbGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZUltYWdlflRpbGVJbWFnZX0uXG4gKlxuICovXG52YXIgUmVwcm9qVGlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVwcm9qVGlsZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gc291cmNlVGlsZUdyaWQgU291cmNlIHRpbGUgZ3JpZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSB0YXJnZXRQcm9qIFRhcmdldCBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGFyZ2V0VGlsZUdyaWQgVGFyZ2V0IHRpbGUgZ3JpZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBDb29yZGluYXRlIG9mIHRoZSB0aWxlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gd3JhcHBlZFRpbGVDb29yZCBDb29yZGluYXRlIG9mIHRoZSB0aWxlIHdyYXBwZWQgaW4gWC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIEd1dHRlciBvZiB0aGUgc291cmNlIHRpbGVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25UeXBlfSBnZXRUaWxlRnVuY3Rpb25cbiAgICAgKiAgICAgRnVuY3Rpb24gcmV0dXJuaW5nIHNvdXJjZSB0aWxlcyAoeiwgeCwgeSwgcGl4ZWxSYXRpbykuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZXJyb3JUaHJlc2hvbGQgQWNjZXB0YWJsZSByZXByb2plY3Rpb24gZXJyb3IgKGluIHB4KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfcmVuZGVyRWRnZXMgUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdF9jb250ZXh0T3B0aW9ucyBQcm9wZXJ0aWVzIHRvIHNldCBvbiB0aGUgY2FudmFzIGNvbnRleHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVwcm9qVGlsZShzb3VyY2VQcm9qLCBzb3VyY2VUaWxlR3JpZCwgdGFyZ2V0UHJvaiwgdGFyZ2V0VGlsZUdyaWQsIHRpbGVDb29yZCwgd3JhcHBlZFRpbGVDb29yZCwgcGl4ZWxSYXRpbywgZ3V0dGVyLCBnZXRUaWxlRnVuY3Rpb24sIG9wdF9lcnJvclRocmVzaG9sZCwgb3B0X3JlbmRlckVkZ2VzLCBvcHRfY29udGV4dE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGlsZUNvb3JkLCBUaWxlU3RhdGUuSURMRSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyRWRnZXNfID0gb3B0X3JlbmRlckVkZ2VzICE9PSB1bmRlZmluZWQgPyBvcHRfcmVuZGVyRWRnZXMgOiBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0T3B0aW9uc18gPSBvcHRfY29udGV4dE9wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmd1dHRlcl8gPSBndXR0ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXNfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlVGlsZUdyaWRfID0gc291cmNlVGlsZUdyaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldFRpbGVHcmlkXyA9IHRhcmdldFRpbGVHcmlkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53cmFwcGVkVGlsZUNvb3JkXyA9IHdyYXBwZWRUaWxlQ29vcmQgPyB3cmFwcGVkVGlsZUNvb3JkIDogdGlsZUNvb3JkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlVGlsZXNfID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7P0FycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZVpfID0gMDtcbiAgICAgICAgdmFyIHRhcmdldEV4dGVudCA9IHRhcmdldFRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudChfdGhpcy53cmFwcGVkVGlsZUNvb3JkXyk7XG4gICAgICAgIHZhciBtYXhUYXJnZXRFeHRlbnQgPSBfdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0RXh0ZW50KCk7XG4gICAgICAgIHZhciBtYXhTb3VyY2VFeHRlbnQgPSBfdGhpcy5zb3VyY2VUaWxlR3JpZF8uZ2V0RXh0ZW50KCk7XG4gICAgICAgIHZhciBsaW1pdGVkVGFyZ2V0RXh0ZW50ID0gbWF4VGFyZ2V0RXh0ZW50XG4gICAgICAgICAgICA/IGdldEludGVyc2VjdGlvbih0YXJnZXRFeHRlbnQsIG1heFRhcmdldEV4dGVudClcbiAgICAgICAgICAgIDogdGFyZ2V0RXh0ZW50O1xuICAgICAgICBpZiAoZ2V0QXJlYShsaW1pdGVkVGFyZ2V0RXh0ZW50KSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gVGlsZSBpcyBjb21wbGV0ZWx5IG91dHNpZGUgcmFuZ2UgLT4gRU1QVFlcbiAgICAgICAgICAgIC8vIFRPRE86IGlzIGl0IGFjdHVhbGx5IGNvcnJlY3QgdGhhdCB0aGUgc291cmNlIGV2ZW4gY3JlYXRlcyB0aGUgdGlsZSA/XG4gICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlUHJvakV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gICAgICAgIGlmIChzb3VyY2VQcm9qRXh0ZW50KSB7XG4gICAgICAgICAgICBpZiAoIW1heFNvdXJjZUV4dGVudCkge1xuICAgICAgICAgICAgICAgIG1heFNvdXJjZUV4dGVudCA9IHNvdXJjZVByb2pFeHRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXhTb3VyY2VFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24obWF4U291cmNlRXh0ZW50LCBzb3VyY2VQcm9qRXh0ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFyZ2V0UmVzb2x1dGlvbiA9IHRhcmdldFRpbGVHcmlkLmdldFJlc29sdXRpb24oX3RoaXMud3JhcHBlZFRpbGVDb29yZF9bMF0pO1xuICAgICAgICB2YXIgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZUV4dGVudFJlc29sdXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgbGltaXRlZFRhcmdldEV4dGVudCwgdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIGlmICghaXNGaW5pdGUoc291cmNlUmVzb2x1dGlvbikgfHwgc291cmNlUmVzb2x1dGlvbiA8PSAwKSB7XG4gICAgICAgICAgICAvLyBpbnZhbGlkIHNvdXJjZVJlc29sdXRpb24gLT4gRU1QVFlcbiAgICAgICAgICAgIC8vIHByb2JhYmx5IGVkZ2VzIG9mIHRoZSBwcm9qZWN0aW9ucyB3aGVuIG5vIGV4dGVudCBpcyBkZWZpbmVkXG4gICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3JUaHJlc2hvbGRJblBpeGVscyA9IG9wdF9lcnJvclRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gb3B0X2Vycm9yVGhyZXNob2xkIDogRVJST1JfVEhSRVNIT0xEO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFpbXBvcnQoXCIuL1RyaWFuZ3VsYXRpb24uanNcIikuZGVmYXVsdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyaWFuZ3VsYXRpb25fID0gbmV3IFRyaWFuZ3VsYXRpb24oc291cmNlUHJvaiwgdGFyZ2V0UHJvaiwgbGltaXRlZFRhcmdldEV4dGVudCwgbWF4U291cmNlRXh0ZW50LCBzb3VyY2VSZXNvbHV0aW9uICogZXJyb3JUaHJlc2hvbGRJblBpeGVscywgdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgICAgIGlmIChfdGhpcy50cmlhbmd1bGF0aW9uXy5nZXRUcmlhbmdsZXMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIG5vIHZhbGlkIHRyaWFuZ2xlcyAtPiBFTVBUWVxuICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc291cmNlWl8gPSBzb3VyY2VUaWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihzb3VyY2VSZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHNvdXJjZUV4dGVudCA9IF90aGlzLnRyaWFuZ3VsYXRpb25fLmNhbGN1bGF0ZVNvdXJjZUV4dGVudCgpO1xuICAgICAgICBpZiAobWF4U291cmNlRXh0ZW50KSB7XG4gICAgICAgICAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgICAgICAgICAgc291cmNlRXh0ZW50WzFdID0gY2xhbXAoc291cmNlRXh0ZW50WzFdLCBtYXhTb3VyY2VFeHRlbnRbMV0sIG1heFNvdXJjZUV4dGVudFszXSk7XG4gICAgICAgICAgICAgICAgc291cmNlRXh0ZW50WzNdID0gY2xhbXAoc291cmNlRXh0ZW50WzNdLCBtYXhTb3VyY2VFeHRlbnRbMV0sIG1heFNvdXJjZUV4dGVudFszXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24oc291cmNlRXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZ2V0QXJlYShzb3VyY2VFeHRlbnQpKSB7XG4gICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2VSYW5nZSA9IHNvdXJjZVRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooc291cmNlRXh0ZW50LCBfdGhpcy5zb3VyY2VaXyk7XG4gICAgICAgICAgICBmb3IgKHZhciBzcmNYID0gc291cmNlUmFuZ2UubWluWDsgc3JjWCA8PSBzb3VyY2VSYW5nZS5tYXhYOyBzcmNYKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzcmNZID0gc291cmNlUmFuZ2UubWluWTsgc3JjWSA8PSBzb3VyY2VSYW5nZS5tYXhZOyBzcmNZKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbGUgPSBnZXRUaWxlRnVuY3Rpb24oX3RoaXMuc291cmNlWl8sIHNyY1gsIHNyY1ksIHBpeGVsUmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc291cmNlVGlsZXNfLnB1c2godGlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuc291cmNlVGlsZXNfLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBIVE1MIENhbnZhcyBlbGVtZW50IGZvciB0aGlzIHRpbGUuXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IENhbnZhcy5cbiAgICAgKi9cbiAgICBSZXByb2pUaWxlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUmVwcm9qVGlsZS5wcm90b3R5cGUucmVwcm9qZWN0XyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zb3VyY2VUaWxlc18uZm9yRWFjaChmdW5jdGlvbiAodGlsZSwgaSwgYXJyKSB7XG4gICAgICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVudDogdGhpcy5zb3VyY2VUaWxlR3JpZF8uZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUudGlsZUNvb3JkKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHRpbGUuZ2V0SW1hZ2UoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5zb3VyY2VUaWxlc18ubGVuZ3RoID0gMDtcbiAgICAgICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVSUk9SO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHogPSB0aGlzLndyYXBwZWRUaWxlQ29vcmRfWzBdO1xuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRUaWxlU2l6ZSh6KTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHR5cGVvZiBzaXplID09PSAnbnVtYmVyJyA/IHNpemUgOiBzaXplWzBdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHR5cGVvZiBzaXplID09PSAnbnVtYmVyJyA/IHNpemUgOiBzaXplWzFdO1xuICAgICAgICAgICAgdmFyIHRhcmdldFJlc29sdXRpb24gPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgICAgICAgdmFyIHNvdXJjZVJlc29sdXRpb24gPSB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRSZXNvbHV0aW9uKHRoaXMuc291cmNlWl8pO1xuICAgICAgICAgICAgdmFyIHRhcmdldEV4dGVudCA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFRpbGVDb29yZEV4dGVudCh0aGlzLndyYXBwZWRUaWxlQ29vcmRfKTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzXyA9IHJlbmRlclJlcHJvamVjdGVkKHdpZHRoLCBoZWlnaHQsIHRoaXMucGl4ZWxSYXRpb18sIHNvdXJjZVJlc29sdXRpb24sIHRoaXMuc291cmNlVGlsZUdyaWRfLmdldEV4dGVudCgpLCB0YXJnZXRSZXNvbHV0aW9uLCB0YXJnZXRFeHRlbnQsIHRoaXMudHJpYW5ndWxhdGlvbl8sIHNvdXJjZXMsIHRoaXMuZ3V0dGVyXywgdGhpcy5yZW5kZXJFZGdlc18sIHRoaXMuY29udGV4dE9wdGlvbnNfKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BREVEO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAgICovXG4gICAgUmVwcm9qVGlsZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICAgICAgdmFyIGxlZnRUb0xvYWRfMSA9IDA7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfID0gW107XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlLCBpLCBhcnIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IFRpbGVTdGF0ZS5JRExFIHx8IHN0YXRlID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnRUb0xvYWRfMSsrO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlTGlzdGVuS2V5XzEgPSBsaXN0ZW4odGlsZSwgRXZlbnRUeXBlLkNIQU5HRSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BREVEIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPT0gVGlsZVN0YXRlLkVNUFRZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5saXN0ZW5CeUtleShzb3VyY2VMaXN0ZW5LZXlfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdFRvTG9hZF8xLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRUb0xvYWRfMSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVubGlzdGVuU291cmNlc18oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXByb2plY3RfKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXy5wdXNoKHNvdXJjZUxpc3RlbktleV8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VUaWxlc18uZm9yRWFjaChmdW5jdGlvbiAodGlsZSwgaSwgYXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgICAgICB0aWxlLmxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChsZWZ0VG9Mb2FkXzEgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVwcm9qZWN0Xy5iaW5kKHRoaXMpLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXByb2pUaWxlLnByb3RvdHlwZS51bmxpc3RlblNvdXJjZXNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcHJvalRpbGU7XG59KFRpbGUpKTtcbmV4cG9ydCBkZWZhdWx0IFJlcHJvalRpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovY29tbW9uXG4gKi9cbi8qKlxuICogRGVmYXVsdCBtYXhpbXVtIGFsbG93ZWQgdGhyZXNob2xkICAoaW4gcGl4ZWxzKSBmb3IgcmVwcm9qZWN0aW9uXG4gKiB0cmlhbmd1bGF0aW9uLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBFUlJPUl9USFJFU0hPTEQgPSAwLjU7XG4vKipcbiAqIEVuYWJsZSBhdXRvbWF0aWMgcmVwcm9qZWN0aW9uIG9mIHJhc3RlciBzb3VyY2VzLiBEZWZhdWx0IGlzIGB0cnVlYC5cbiAqIFRPRE86IGRlY2lkZSBpZiB3ZSB3YW50IHRvIGV4cG9zZSB0aGlzIGFzIGEgYnVpbGQgZmxhZyBvciByZW1vdmUgaXRcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OID0gdHJ1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc3RydWN0cy9MUlVDYWNoZVxuICovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRW50cnlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBrZXlfXG4gKiBAcHJvcGVydHkge09iamVjdH0gbmV3ZXJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvbGRlclxuICogQHByb3BlcnR5IHsqfSB2YWx1ZV9cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBJbXBsZW1lbnRzIGEgTGVhc3QtUmVjZW50bHktVXNlZCBjYWNoZSB3aGVyZSB0aGUga2V5cyBkbyBub3QgY29uZmxpY3Qgd2l0aFxuICogT2JqZWN0J3MgcHJvcGVydGllcyAoZS5nLiAnaGFzT3duUHJvcGVydHknIGlzIG5vdCBhbGxvd2VkIGFzIGEga2V5KS4gRXhwaXJpbmdcbiAqIGl0ZW1zIGZyb20gdGhlIGNhY2hlIGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgdXNlci5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbnZhciBMUlVDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9oaWdoV2F0ZXJNYXJrIEhpZ2ggd2F0ZXIgbWFyay5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMUlVDYWNoZShvcHRfaGlnaFdhdGVyTWFyaykge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzaXJlZCBtYXggY2FjaGUgc2l6ZSBhZnRlciBleHBpcmVDYWNoZSgpLiBJZiBzZXQgdG8gMCwgbm8gY2FjaGUgZW50cmllc1xuICAgICAgICAgKiB3aWxsIGJlIHBydW5lZCBhdCBhbGwuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhpZ2hXYXRlck1hcmsgPVxuICAgICAgICAgICAgb3B0X2hpZ2hXYXRlck1hcmsgIT09IHVuZGVmaW5lZCA/IG9wdF9oaWdoV2F0ZXJNYXJrIDogMjA0ODtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvdW50XyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIEVudHJ5Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50cmllc18gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHs/RW50cnl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgez9FbnRyeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmNhbkV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaWdoV2F0ZXJNYXJrID4gMCAmJiB0aGlzLmdldENvdW50KCkgPiB0aGlzLmhpZ2hXYXRlck1hcms7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY291bnRfID0gMDtcbiAgICAgICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuICAgICAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuICAgICAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMga2V5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllc18uaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgc3RyaW5nLCBMUlVDYWNoZTxUPik6ID99IGYgVGhlIGZ1bmN0aW9uXG4gICAgICogICAgIHRvIGNhbGwgZm9yIGV2ZXJ5IGVudHJ5IGZyb20gdGhlIG9sZGVzdCB0byB0aGUgbmV3ZXIuIFRoaXMgZnVuY3Rpb24gdGFrZXNcbiAgICAgKiAgICAgMyBhcmd1bWVudHMgKHRoZSBlbnRyeSB2YWx1ZSwgdGhlIGVudHJ5IGtleSBhbmQgdGhlIExSVUNhY2hlIG9iamVjdCkuXG4gICAgICogICAgIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0XztcbiAgICAgICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICAgICAgICBmKGVudHJ5LnZhbHVlXywgZW50cnkua2V5XywgdGhpcyk7XG4gICAgICAgICAgICBlbnRyeSA9IGVudHJ5Lm5ld2VyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0geyo9fSBvcHRfb3B0aW9ucyBPcHRpb25zIChyZXNlcnZlcmQgZm9yIHN1YmNsYXNzZXMpLlxuICAgICAqIEByZXR1cm4ge1R9IFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLmVudHJpZXNfW2tleV07XG4gICAgICAgIGFzc2VydChlbnRyeSAhPT0gdW5kZWZpbmVkLCAxNSk7IC8vIFRyaWVkIHRvIGdldCBhIHZhbHVlIGZvciBhIGtleSB0aGF0IGRvZXMgbm90IGV4aXN0IGluIHRoZSBjYWNoZVxuICAgICAgICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0Xykge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAodGhpcy5vbGRlc3RfLm5ld2VyKTtcbiAgICAgICAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbnRyeS5uZXdlci5vbGRlciA9IGVudHJ5Lm9sZGVyO1xuICAgICAgICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeS5uZXdlcjtcbiAgICAgICAgfVxuICAgICAgICBlbnRyeS5uZXdlciA9IG51bGw7XG4gICAgICAgIGVudHJ5Lm9sZGVyID0gdGhpcy5uZXdlc3RfO1xuICAgICAgICB0aGlzLm5ld2VzdF8ubmV3ZXIgPSBlbnRyeTtcbiAgICAgICAgdGhpcy5uZXdlc3RfID0gZW50cnk7XG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZW50cnkgZnJvbSB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgZW50cnkga2V5LlxuICAgICAqIEByZXR1cm4ge1R9IFRoZSByZW1vdmVkIGVudHJ5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAgICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5uZXdlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm5ld2VzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoZW50cnkub2xkZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMubmV3ZXN0Xykge1xuICAgICAgICAgICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW50cnkgPT09IHRoaXMub2xkZXN0Xykge1xuICAgICAgICAgICAgdGhpcy5vbGRlc3RfID0gLyoqIEB0eXBlIHtFbnRyeX0gKi8gKGVudHJ5Lm5ld2VyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9sZGVzdF8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9sZGVzdF8ub2xkZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBlbnRyeS5vbGRlcjtcbiAgICAgICAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnkubmV3ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAgICAgLS10aGlzLmNvdW50XztcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3VudF87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBLZXlzLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5cyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAgICAgICAga2V5c1tpKytdID0gZW50cnkua2V5XztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0FycmF5PFQ+fSBWYWx1ZXMuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAgICAgICAgdmFsdWVzW2krK10gPSBlbnRyeS52YWx1ZV87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1R9IExhc3QgdmFsdWUuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtMYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbGRlc3RfLnZhbHVlXztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGFzdCBrZXkuXG4gICAgICovXG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWtMYXN0S2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbGRlc3RfLmtleV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGtleSBvZiB0aGUgbmV3ZXN0IGl0ZW0gaW4gdGhlIGNhY2hlLiAgVGhyb3dzIGlmIHRoZSBjYWNoZSBpcyBlbXB0eS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBuZXdlc3Qga2V5LlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5wZWVrRmlyc3RLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5ld2VzdF8ua2V5XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMub2xkZXN0XztcbiAgICAgICAgZGVsZXRlIHRoaXMuZW50cmllc19bZW50cnkua2V5X107XG4gICAgICAgIGlmIChlbnRyeS5uZXdlcikge1xuICAgICAgICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5uZXdlcik7XG4gICAgICAgIGlmICghdGhpcy5vbGRlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC0tdGhpcy5jb3VudF87XG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5nZXQoa2V5KTsgLy8gdXBkYXRlIGBuZXdlc3RfYFxuICAgICAgICB0aGlzLmVudHJpZXNfW2tleV0udmFsdWVfID0gdmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgICAqL1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBhc3NlcnQoIShrZXkgaW4gdGhpcy5lbnRyaWVzXyksIDE2KTsgLy8gVHJpZWQgdG8gc2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgaXMgdXNlZCBhbHJlYWR5XG4gICAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgICAgIGtleV86IGtleSxcbiAgICAgICAgICAgIG5ld2VyOiBudWxsLFxuICAgICAgICAgICAgb2xkZXI6IHRoaXMubmV3ZXN0XyxcbiAgICAgICAgICAgIHZhbHVlXzogdmFsdWUsXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpcy5uZXdlc3RfKSB7XG4gICAgICAgICAgICB0aGlzLm9sZGVzdF8gPSBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV3ZXN0XyA9IGVudHJ5O1xuICAgICAgICB0aGlzLmVudHJpZXNfW2tleV0gPSBlbnRyeTtcbiAgICAgICAgKyt0aGlzLmNvdW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgZm9yIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBDYWNoZSBzaXplLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHRoaXMuaGlnaFdhdGVyTWFyayA9IHNpemU7XG4gICAgfTtcbiAgICByZXR1cm4gTFJVQ2FjaGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgTFJVQ2FjaGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MUlVDYWNoZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWNvb3JkXG4gKi9cbi8qKlxuICogQW4gYXJyYXkgb2YgdGhyZWUgbnVtYmVycyByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIGEgdGlsZSBpbiBhIHRpbGVcbiAqIGdyaWQuIFRoZSBvcmRlciBpcyBgemAgKHpvb20gbGV2ZWwpLCBgeGAgKGNvbHVtbiksIGFuZCBgeWAgKHJvdykuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gVGlsZUNvb3JkXG4gKiBAYXBpXG4gKi9cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtUaWxlQ29vcmQ9fSBvcHRfdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge1RpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGUoeiwgeCwgeSwgb3B0X3RpbGVDb29yZCkge1xuICAgIGlmIChvcHRfdGlsZUNvb3JkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3B0X3RpbGVDb29yZFswXSA9IHo7XG4gICAgICAgIG9wdF90aWxlQ29vcmRbMV0gPSB4O1xuICAgICAgICBvcHRfdGlsZUNvb3JkWzJdID0geTtcbiAgICAgICAgcmV0dXJuIG9wdF90aWxlQ29vcmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW3osIHgsIHldO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXlaWFkoeiwgeCwgeSkge1xuICAgIHJldHVybiB6ICsgJy8nICsgeCArICcvJyArIHk7XG59XG4vKipcbiAqIEdldCB0aGUga2V5IGZvciBhIHRpbGUgY29vcmQuXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gdGlsZUNvb3JkIFRoZSB0aWxlIGNvb3JkLlxuICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXkodGlsZUNvb3JkKSB7XG4gICAgcmV0dXJuIGdldEtleVpYWSh0aWxlQ29vcmRbMF0sIHRpbGVDb29yZFsxXSwgdGlsZUNvb3JkWzJdKTtcbn1cbi8qKlxuICogR2V0IGEgdGlsZSBjb29yZCBnaXZlbiBhIGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHRpbGUgY29vcmQga2V5LlxuICogQHJldHVybiB7VGlsZUNvb3JkfSBUaGUgdGlsZSBjb29yZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21LZXkoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5zcGxpdCgnLycpLm1hcChOdW1iZXIpO1xufVxuLyoqXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhhc2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKHRpbGVDb29yZCkge1xuICAgIHJldHVybiAodGlsZUNvb3JkWzFdIDw8IHRpbGVDb29yZFswXSkgKyB0aWxlQ29vcmRbMl07XG59XG4vKipcbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHshaW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaWxlIGNvb3JkaW5hdGUgaXMgd2l0aGluIGV4dGVudCBhbmQgem9vbSBsZXZlbCByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhpbkV4dGVudEFuZFoodGlsZUNvb3JkLCB0aWxlR3JpZCkge1xuICAgIHZhciB6ID0gdGlsZUNvb3JkWzBdO1xuICAgIHZhciB4ID0gdGlsZUNvb3JkWzFdO1xuICAgIHZhciB5ID0gdGlsZUNvb3JkWzJdO1xuICAgIGlmICh0aWxlR3JpZC5nZXRNaW5ab29tKCkgPiB6IHx8IHogPiB0aWxlR3JpZC5nZXRNYXhab29tKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0RnVsbFRpbGVSYW5nZSh6KTtcbiAgICBpZiAoIXRpbGVSYW5nZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aWxlUmFuZ2UuY29udGFpbnNYWSh4LCB5KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWxlY29vcmQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQG1vZHVsZSBvbC9UaWxlQ2FjaGVcbiAqL1xuaW1wb3J0IExSVUNhY2hlIGZyb20gJy4vc3RydWN0cy9MUlVDYWNoZS5qcyc7XG5pbXBvcnQgeyBmcm9tS2V5LCBnZXRLZXkgfSBmcm9tICcuL3RpbGVjb29yZC5qcyc7XG52YXIgVGlsZUNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaWxlQ2FjaGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGlsZUNhY2hlKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICAgKi9cbiAgICBUaWxlQ2FjaGUucHJvdG90eXBlLmV4cGlyZUNhY2hlID0gZnVuY3Rpb24gKHVzZWRUaWxlcykge1xuICAgICAgICB3aGlsZSAodGhpcy5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAgICAgICB2YXIgdGlsZSA9IHRoaXMucGVla0xhc3QoKTtcbiAgICAgICAgICAgIGlmICh0aWxlLmdldEtleSgpIGluIHVzZWRUaWxlcykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3AoKS5yZWxlYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBydW5lIGFsbCB0aWxlcyBmcm9tIHRoZSBjYWNoZSB0aGF0IGRvbid0IGhhdmUgdGhlIHNhbWUgeiBhcyB0aGUgbmV3ZXN0IHRpbGUuXG4gICAgICovXG4gICAgVGlsZUNhY2hlLnByb3RvdHlwZS5wcnVuZUV4Y2VwdE5ld2VzdFogPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldENvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5ID0gdGhpcy5wZWVrRmlyc3RLZXkoKTtcbiAgICAgICAgdmFyIHRpbGVDb29yZCA9IGZyb21LZXkoa2V5KTtcbiAgICAgICAgdmFyIHogPSB0aWxlQ29vcmRbMF07XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodGlsZSkge1xuICAgICAgICAgICAgaWYgKHRpbGUudGlsZUNvb3JkWzBdICE9PSB6KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoZ2V0S2V5KHRpbGUudGlsZUNvb3JkKSk7XG4gICAgICAgICAgICAgICAgdGlsZS5yZWxlYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGlsZUNhY2hlO1xufShMUlVDYWNoZSkpO1xuZXhwb3J0IGRlZmF1bHQgVGlsZUNhY2hlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUNhY2hlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlZ3JpZC9UaWxlR3JpZFxuICovXG5pbXBvcnQgVGlsZVJhbmdlLCB7IGNyZWF0ZU9yVXBkYXRlIGFzIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlLCB9IGZyb20gJy4uL1RpbGVSYW5nZS5qcyc7XG5pbXBvcnQgeyBERUZBVUxUX1RJTEVfU0laRSB9IGZyb20gJy4vY29tbW9uLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7IGNyZWF0ZU9yVXBkYXRlLCBnZXRUb3BMZWZ0IH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7IGNyZWF0ZU9yVXBkYXRlIGFzIGNyZWF0ZU9yVXBkYXRlVGlsZUNvb3JkIH0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7IGlzU29ydGVkLCBsaW5lYXJGaW5kTmVhcmVzdCB9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7IHRvU2l6ZSB9IGZyb20gJy4uL3NpemUuanMnO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gKi9cbnZhciB0bXBUaWxlQ29vcmQgPSBbMCwgMCwgMF07XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gRXh0ZW50IGZvciB0aGUgdGlsZSBncmlkLiBObyB0aWxlcyBvdXRzaWRlIHRoaXNcbiAqIGV4dGVudCB3aWxsIGJlIHJlcXVlc3RlZCBieSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlfSBzb3VyY2VzLiBXaGVuIG5vIGBvcmlnaW5gIG9yXG4gKiBgb3JpZ2luc2AgYXJlIGNvbmZpZ3VyZWQsIHRoZSBgb3JpZ2luYCB3aWxsIGJlIHNldCB0byB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gTWluaW11bSB6b29tLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcmlnaW5dIFRoZSB0aWxlIGdyaWQgb3JpZ2luLCBpLmUuIHdoZXJlIHRoZSBgeGBcbiAqIGFuZCBgeWAgYXhlcyBtZWV0IChgW3osIDAsIDBdYCkuIFRpbGUgY29vcmRpbmF0ZXMgaW5jcmVhc2UgbGVmdCB0byByaWdodCBhbmQgZG93bndhcmRzLiBJZiBub3RcbiAqIHNwZWNpZmllZCwgYGV4dGVudGAgb3IgYG9yaWdpbnNgIG11c3QgYmUgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IFtvcmlnaW5zXSBUaWxlIGdyaWQgb3JpZ2lucywgaS5lLiB3aGVyZVxuICogdGhlIGB4YCBhbmQgYHlgIGF4ZXMgbWVldCAoYFt6LCAwLCAwXWApLCBmb3IgZWFjaCB6b29tIGxldmVsLiBJZiBnaXZlbiwgdGhlIGFycmF5IGxlbmd0aFxuICogc2hvdWxkIG1hdGNoIHRoZSBsZW5ndGggb2YgdGhlIGByZXNvbHV0aW9uc2AgYXJyYXksIGkuZS4gZWFjaCByZXNvbHV0aW9uIGNhbiBoYXZlIGEgZGlmZmVyZW50XG4gKiBvcmlnaW4uIFRpbGUgY29vcmRpbmF0ZXMgaW5jcmVhc2UgbGVmdCB0byByaWdodCBhbmQgZG93bndhcmRzLiBJZiBub3Qgc3BlY2lmaWVkLCBgZXh0ZW50YCBvclxuICogYG9yaWdpbmAgbXVzdCBiZSBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IHJlc29sdXRpb25zIFJlc29sdXRpb25zLiBUaGUgYXJyYXkgaW5kZXggb2YgZWFjaCByZXNvbHV0aW9uIG5lZWRzXG4gKiB0byBtYXRjaCB0aGUgem9vbSBsZXZlbC4gVGhpcyBtZWFucyB0aGF0IGV2ZW4gaWYgYSBgbWluWm9vbWAgaXMgY29uZmlndXJlZCwgdGhlIHJlc29sdXRpb25zXG4gKiBhcnJheSB3aWxsIGhhdmUgYSBsZW5ndGggb2YgYG1heFpvb20gKyAxYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn0gW3NpemVzXSBOdW1iZXIgb2YgdGlsZSByb3dzIGFuZCBjb2x1bW5zXG4gKiBvZiB0aGUgZ3JpZCBmb3IgZWFjaCB6b29tIGxldmVsLiBJZiBzcGVjaWZpZWQgdGhlIHZhbHVlc1xuICogZGVmaW5lIGVhY2ggem9vbSBsZXZlbCdzIGV4dGVudCB0b2dldGhlciB3aXRoIHRoZSBgb3JpZ2luYCBvciBgb3JpZ2luc2AuXG4gKiBBIGdyaWQgYGV4dGVudGAgY2FuIGJlIGNvbmZpZ3VyZWQgaW4gYWRkaXRpb24sIGFuZCB3aWxsIGZ1cnRoZXIgbGltaXQgdGhlIGV4dGVudFxuICogZm9yIHdoaWNoIHRpbGUgcmVxdWVzdHMgYXJlIG1hZGUgYnkgc291cmNlcy4gSWYgdGhlIGJvdHRvbS1sZWZ0IGNvcm5lciBvZlxuICogYW4gZXh0ZW50IGlzIHVzZWQgYXMgYG9yaWdpbmAgb3IgYG9yaWdpbnNgLCB0aGVuIHRoZSBgeWAgdmFsdWUgbXVzdCBiZVxuICogbmVnYXRpdmUgYmVjYXVzZSBPcGVuTGF5ZXJzIHRpbGUgY29vcmRpbmF0ZXMgdXNlIHRoZSB0b3AgbGVmdCBhcyB0aGUgb3JpZ2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemVdIFRpbGUgc2l6ZS5cbiAqIERlZmF1bHQgaXMgYFsyNTYsIDI1Nl1gLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fSBbdGlsZVNpemVzXSBUaWxlIHNpemVzLiBJZiBnaXZlbiwgdGhlIGFycmF5IGxlbmd0aFxuICogc2hvdWxkIG1hdGNoIHRoZSBsZW5ndGggb2YgdGhlIGByZXNvbHV0aW9uc2AgYXJyYXksIGkuZS4gZWFjaCByZXNvbHV0aW9uIGNhbiBoYXZlIGEgZGlmZmVyZW50XG4gKiB0aWxlIHNpemUuXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3Igc2V0dGluZyB0aGUgZ3JpZCBwYXR0ZXJuIGZvciBzb3VyY2VzIGFjY2Vzc2luZyB0aWxlZC1pbWFnZVxuICogc2VydmVycy5cbiAqIEBhcGlcbiAqL1xudmFyIFRpbGVHcmlkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBUaWxlIGdyaWQgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlR3JpZChvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblpvb20gPSBvcHRpb25zLm1pblpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluWm9vbSA6IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PG51bWJlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb25zXyA9IG9wdGlvbnMucmVzb2x1dGlvbnM7XG4gICAgICAgIGFzc2VydChpc1NvcnRlZCh0aGlzLnJlc29sdXRpb25zXywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiIC0gYTtcbiAgICAgICAgfSwgdHJ1ZSksIDE3KTsgLy8gYHJlc29sdXRpb25zYCBtdXN0IGJlIHNvcnRlZCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gICAgICAgIC8vIGNoZWNrIGlmIHdlJ3ZlIGdvdCBhIGNvbnNpc3RlbnQgem9vbSBmYWN0b3IgYW5kIG9yaWdpblxuICAgICAgICB2YXIgem9vbUZhY3RvcjtcbiAgICAgICAgaWYgKCFvcHRpb25zLm9yaWdpbnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDE7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF6b29tRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSB0aGlzLnJlc29sdXRpb25zX1tpXSAvIHRoaXMucmVzb2x1dGlvbnNfW2kgKyAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdXRpb25zX1tpXSAvIHRoaXMucmVzb2x1dGlvbnNfW2kgKyAxXSAhPT0gem9vbUZhY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgem9vbUZhY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuem9vbUZhY3Rvcl8gPSB6b29tRmFjdG9yO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhab29tID0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWdpbl8gPSBvcHRpb25zLm9yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcmlnaW4gOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWdpbnNfID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMub3JpZ2lucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbnNfID0gb3B0aW9ucy5vcmlnaW5zO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMub3JpZ2luc18ubGVuZ3RoID09IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCwgMjApOyAvLyBOdW1iZXIgb2YgYG9yaWdpbnNgIGFuZCBgcmVzb2x1dGlvbnNgIG11c3QgYmUgZXF1YWxcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXh0ZW50ID0gb3B0aW9ucy5leHRlbnQ7XG4gICAgICAgIGlmIChleHRlbnQgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5vcmlnaW5fICYmICF0aGlzLm9yaWdpbnNfKSB7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbl8gPSBnZXRUb3BMZWZ0KGV4dGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KCghdGhpcy5vcmlnaW5fICYmIHRoaXMub3JpZ2luc18pIHx8ICh0aGlzLm9yaWdpbl8gJiYgIXRoaXMub3JpZ2luc18pLCAxOCk7IC8vIEVpdGhlciBgb3JpZ2luYCBvciBgb3JpZ2luc2AgbXVzdCBiZSBjb25maWd1cmVkLCBuZXZlciBib3RoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbGVTaXplc18gPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy50aWxlU2l6ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy50aWxlU2l6ZXNfID0gb3B0aW9ucy50aWxlU2l6ZXM7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy50aWxlU2l6ZXNfLmxlbmd0aCA9PSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGgsIDE5KTsgLy8gTnVtYmVyIG9mIGB0aWxlU2l6ZXNgIGFuZCBgcmVzb2x1dGlvbnNgIG11c3QgYmUgZXF1YWxcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbGVTaXplXyA9XG4gICAgICAgICAgICBvcHRpb25zLnRpbGVTaXplICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMudGlsZVNpemVcbiAgICAgICAgICAgICAgICA6ICF0aGlzLnRpbGVTaXplc19cbiAgICAgICAgICAgICAgICAgICAgPyBERUZBVUxUX1RJTEVfU0laRVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGFzc2VydCgoIXRoaXMudGlsZVNpemVfICYmIHRoaXMudGlsZVNpemVzXykgfHxcbiAgICAgICAgICAgICh0aGlzLnRpbGVTaXplXyAmJiAhdGhpcy50aWxlU2l6ZXNfKSwgMjIpOyAvLyBFaXRoZXIgYHRpbGVTaXplYCBvciBgdGlsZVNpemVzYCBtdXN0IGJlIGNvbmZpZ3VyZWQsIG5ldmVyIGJvdGhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHRlbnRfID0gZXh0ZW50ICE9PSB1bmRlZmluZWQgPyBleHRlbnQgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnVsbFRpbGVSYW5nZXNfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRtcFNpemVfID0gWzAsIDBdO1xuICAgICAgICBpZiAob3B0aW9ucy5zaXplcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG9wdGlvbnMuc2l6ZXMubWFwKGZ1bmN0aW9uIChzaXplLCB6KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGVSYW5nZSA9IG5ldyBUaWxlUmFuZ2UoTWF0aC5taW4oMCwgc2l6ZVswXSksIE1hdGgubWF4KHNpemVbMF0gLSAxLCAtMSksIE1hdGgubWluKDAsIHNpemVbMV0pLCBNYXRoLm1heChzaXplWzFdIC0gMSwgLTEpKTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN0cmljdGVkVGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeik7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5taW5YID0gTWF0aC5tYXgocmVzdHJpY3RlZFRpbGVSYW5nZS5taW5YLCB0aWxlUmFuZ2UubWluWCk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhYID0gTWF0aC5taW4ocmVzdHJpY3RlZFRpbGVSYW5nZS5tYXhYLCB0aWxlUmFuZ2UubWF4WCk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5taW5ZID0gTWF0aC5tYXgocmVzdHJpY3RlZFRpbGVSYW5nZS5taW5ZLCB0aWxlUmFuZ2UubWluWSk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVSYW5nZS5tYXhZID0gTWF0aC5taW4ocmVzdHJpY3RlZFRpbGVSYW5nZS5tYXhZLCB0aWxlUmFuZ2UubWF4WSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlUmFuZ2U7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVGlsZVJhbmdlc18oZXh0ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIGEgZnVuY3Rpb24gd2l0aCBlYWNoIHRpbGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBleHRlbnQgYW5kIHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCk6IHZvaWR9IGNhbGxiYWNrIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIGVhY2ggdGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZm9yRWFjaFRpbGVDb29yZCA9IGZ1bmN0aW9uIChleHRlbnQsIHpvb20sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB0aWxlUmFuZ2UgPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6b29tKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRpbGVSYW5nZS5taW5YLCBpaSA9IHRpbGVSYW5nZS5tYXhYOyBpIDw9IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSB0aWxlUmFuZ2UubWluWSwgamogPSB0aWxlUmFuZ2UubWF4WTsgaiA8PSBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soW3pvb20sIGksIGpdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ9fSBvcHRfdGlsZVJhbmdlIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FsbGJhY2sgc3VjY2VlZGVkLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5mb3JFYWNoVGlsZUNvb3JkUGFyZW50VGlsZVJhbmdlID0gZnVuY3Rpb24gKHRpbGVDb29yZCwgY2FsbGJhY2ssIG9wdF90aWxlUmFuZ2UsIG9wdF9leHRlbnQpIHtcbiAgICAgICAgdmFyIHRpbGVSYW5nZSwgeCwgeTtcbiAgICAgICAgdmFyIHRpbGVDb29yZEV4dGVudCA9IG51bGw7XG4gICAgICAgIHZhciB6ID0gdGlsZUNvb3JkWzBdIC0gMTtcbiAgICAgICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgICAgICAgIHggPSB0aWxlQ29vcmRbMV07XG4gICAgICAgICAgICB5ID0gdGlsZUNvb3JkWzJdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGlsZUNvb3JkRXh0ZW50ID0gdGhpcy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkLCBvcHRfZXh0ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoeiA+PSB0aGlzLm1pblpvb20pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnpvb21GYWN0b3JfID09PSAyKSB7XG4gICAgICAgICAgICAgICAgeCA9IE1hdGguZmxvb3IoeCAvIDIpO1xuICAgICAgICAgICAgICAgIHkgPSBNYXRoLmZsb29yKHkgLyAyKTtcbiAgICAgICAgICAgICAgICB0aWxlUmFuZ2UgPSBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZSh4LCB4LCB5LCB5LCBvcHRfdGlsZVJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbGVSYW5nZSA9IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWih0aWxlQ29vcmRFeHRlbnQsIHosIG9wdF90aWxlUmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKHosIHRpbGVSYW5nZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC0tejtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGV4dGVudCBmb3IgdGhpcyB0aWxlIGdyaWQsIGlmIGl0IHdhcyBjb25maWd1cmVkLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldEV4dGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW50XztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgZ3JpZC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1heCB6b29tLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0TWF4Wm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF4Wm9vbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgZ3JpZC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbiB6b29tLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0TWluWm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWm9vbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JpZ2luIGZvciB0aGUgZ3JpZCBhdCB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBPcmlnaW4uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRPcmlnaW4gPSBmdW5jdGlvbiAoeikge1xuICAgICAgICBpZiAodGhpcy5vcmlnaW5fKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luc19bel07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgdGhlIGdpdmVuIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFJlc29sdXRpb24gPSBmdW5jdGlvbiAoeikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc19bel07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpc3Qgb2YgcmVzb2x1dGlvbnMgZm9yIHRoZSB0aWxlIGdyaWQuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gUmVzb2x1dGlvbnMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ9fSBvcHRfdGlsZVJhbmdlIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFRpbGUgcmFuZ2UuXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlID0gZnVuY3Rpb24gKHRpbGVDb29yZCwgb3B0X3RpbGVSYW5nZSwgb3B0X2V4dGVudCkge1xuICAgICAgICBpZiAodGlsZUNvb3JkWzBdIDwgdGhpcy5tYXhab29tKSB7XG4gICAgICAgICAgICBpZiAodGhpcy56b29tRmFjdG9yXyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHZhciBtaW5YID0gdGlsZUNvb3JkWzFdICogMjtcbiAgICAgICAgICAgICAgICB2YXIgbWluWSA9IHRpbGVDb29yZFsyXSAqIDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIG1pblggKyAxLCBtaW5ZLCBtaW5ZICsgMSwgb3B0X3RpbGVSYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGlsZUNvb3JkRXh0ZW50ID0gdGhpcy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkLCBvcHRfZXh0ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoodGlsZUNvb3JkRXh0ZW50LCB0aWxlQ29vcmRbMF0gKyAxLCBvcHRfdGlsZVJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXh0ZW50IGZvciBhIHRpbGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudD19IG9wdF9leHRlbnQgVGVtcG9yYXJ5IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZVJhbmdlRXh0ZW50ID0gZnVuY3Rpb24gKHosIHRpbGVSYW5nZSwgb3B0X2V4dGVudCkge1xuICAgICAgICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplXyk7XG4gICAgICAgIHZhciBtaW5YID0gb3JpZ2luWzBdICsgdGlsZVJhbmdlLm1pblggKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtYXhYID0gb3JpZ2luWzBdICsgKHRpbGVSYW5nZS5tYXhYICsgMSkgKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtaW5ZID0gb3JpZ2luWzFdICsgdGlsZVJhbmdlLm1pblkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtYXhZID0gb3JpZ2luWzFdICsgKHRpbGVSYW5nZS5tYXhZICsgMSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBvcHRfZXh0ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHRpbGUgcmFuZ2UgZm9yIHRoZSBnaXZlbiBleHRlbnQgYW5kIGludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ9fSBvcHRfdGlsZVJhbmdlIFRlbXBvcmFyeSB0aWxlIHJhbmdlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gVGlsZSByYW5nZS5cbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWiA9IGZ1bmN0aW9uIChleHRlbnQsIHosIG9wdF90aWxlUmFuZ2UpIHtcbiAgICAgICAgdmFyIHRpbGVDb29yZCA9IHRtcFRpbGVDb29yZDtcbiAgICAgICAgdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfKGV4dGVudFswXSwgZXh0ZW50WzNdLCB6LCBmYWxzZSwgdGlsZUNvb3JkKTtcbiAgICAgICAgdmFyIG1pblggPSB0aWxlQ29vcmRbMV07XG4gICAgICAgIHZhciBtaW5ZID0gdGlsZUNvb3JkWzJdO1xuICAgICAgICB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kWl8oZXh0ZW50WzJdLCBleHRlbnRbMV0sIHosIHRydWUsIHRpbGVDb29yZCk7XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCB0aWxlQ29vcmRbMV0sIG1pblksIHRpbGVDb29yZFsyXSwgb3B0X3RpbGVSYW5nZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaWxlIGNlbnRlci5cbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkQ2VudGVyID0gZnVuY3Rpb24gKHRpbGVDb29yZCkge1xuICAgICAgICB2YXIgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4odGlsZUNvb3JkWzBdKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24odGlsZUNvb3JkWzBdKTtcbiAgICAgICAgdmFyIHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUodGlsZUNvb3JkWzBdKSwgdGhpcy50bXBTaXplXyk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBvcmlnaW5bMF0gKyAodGlsZUNvb3JkWzFdICsgMC41KSAqIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIG9yaWdpblsxXSAtICh0aWxlQ29vcmRbMl0gKyAwLjUpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBleHRlbnQgb2YgYSB0aWxlIGNvb3JkaW5hdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50PX0gb3B0X2V4dGVudCBUZW1wb3JhcnkgZXh0ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRFeHRlbnQgPSBmdW5jdGlvbiAodGlsZUNvb3JkLCBvcHRfZXh0ZW50KSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih0aWxlQ29vcmRbMF0pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh0aWxlQ29vcmRbMF0pLCB0aGlzLnRtcFNpemVfKTtcbiAgICAgICAgdmFyIG1pblggPSBvcmlnaW5bMF0gKyB0aWxlQ29vcmRbMV0gKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtaW5ZID0gb3JpZ2luWzFdIC0gKHRpbGVDb29yZFsyXSArIDEpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbWF4WCA9IG1pblggKyB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBtYXhZID0gbWluWSArIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIG9wdF9leHRlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIGNvb3JkaW5hdGUgZm9yIHRoZSBnaXZlbiBtYXAgY29vcmRpbmF0ZSBhbmQgcmVzb2x1dGlvbi4gIFRoaXNcbiAgICAgKiBtZXRob2QgY29uc2lkZXJzIHRoYXQgY29vcmRpbmF0ZXMgdGhhdCBpbnRlcnNlY3QgdGlsZSBib3VuZGFyaWVzIHNob3VsZCBiZVxuICAgICAqIGFzc2lnbmVkIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZD19IG9wdF90aWxlQ29vcmQgRGVzdGluYXRpb24gaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHJlc29sdXRpb24sIG9wdF90aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyhjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdLCByZXNvbHV0aW9uLCBmYWxzZSwgb3B0X3RpbGVDb29yZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBjYWxsZWQgZm9yIHJlc29sdXRpb25zIHRoYXQgY29ycmVzcG9uZFxuICAgICAqIHRvIGFuIGludGVnZXIgem9vbSBsZXZlbC4gIEluc3RlYWQgY2FsbCB0aGUgYGdldFRpbGVDb29yZEZvclhZQW5kWl9gIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbiAoZm9yIGEgbm9uLWludGVnZXIgem9vbSBsZXZlbCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5IEluc3RlYWQgb2YgbGV0dGluZyBlZGdlXG4gICAgICogICAgIGludGVyc2VjdGlvbnMgZ28gdG8gdGhlIGhpZ2hlciB0aWxlIGNvb3JkaW5hdGUsIGxldCBlZGdlIGludGVyc2VjdGlvbnNcbiAgICAgKiAgICAgZ28gdG8gdGhlIGxvd2VyIHRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQ9fSBvcHRfdGlsZUNvb3JkIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyA9IGZ1bmN0aW9uICh4LCB5LCByZXNvbHV0aW9uLCByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5LCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgICAgIHZhciB6ID0gdGhpcy5nZXRaRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIHNjYWxlID0gcmVzb2x1dGlvbiAvIHRoaXMuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgICAgdmFyIG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHopO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplXyk7XG4gICAgICAgIHZhciBhZGp1c3RYID0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSA/IDAuNSA6IDA7XG4gICAgICAgIHZhciBhZGp1c3RZID0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSA/IDAuNSA6IDA7XG4gICAgICAgIHZhciB4RnJvbU9yaWdpbiA9IE1hdGguZmxvb3IoKHggLSBvcmlnaW5bMF0pIC8gcmVzb2x1dGlvbiArIGFkanVzdFgpO1xuICAgICAgICB2YXIgeUZyb21PcmlnaW4gPSBNYXRoLmZsb29yKChvcmlnaW5bMV0gLSB5KSAvIHJlc29sdXRpb24gKyBhZGp1c3RZKTtcbiAgICAgICAgdmFyIHRpbGVDb29yZFggPSAoc2NhbGUgKiB4RnJvbU9yaWdpbikgLyB0aWxlU2l6ZVswXTtcbiAgICAgICAgdmFyIHRpbGVDb29yZFkgPSAoc2NhbGUgKiB5RnJvbU9yaWdpbikgLyB0aWxlU2l6ZVsxXTtcbiAgICAgICAgaWYgKHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kpIHtcbiAgICAgICAgICAgIHRpbGVDb29yZFggPSBNYXRoLmNlaWwodGlsZUNvb3JkWCkgLSAxO1xuICAgICAgICAgICAgdGlsZUNvb3JkWSA9IE1hdGguY2VpbCh0aWxlQ29vcmRZKSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlQ29vcmRYID0gTWF0aC5mbG9vcih0aWxlQ29vcmRYKTtcbiAgICAgICAgICAgIHRpbGVDb29yZFkgPSBNYXRoLmZsb29yKHRpbGVDb29yZFkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVDb29yZCh6LCB0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCBvcHRfdGlsZUNvb3JkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFsdGhvdWdoIHRoZXJlIGlzIHJlcGV0aXRpb24gYmV0d2VlbiB0aGlzIG1ldGhvZCBhbmQgYGdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl9gLFxuICAgICAqIHRoZXkgc2hvdWxkIGhhdmUgc2VwYXJhdGUgaW1wbGVtZW50YXRpb25zLiAgVGhpcyBtZXRob2QgaXMgZm9yIGludGVnZXIgem9vbVxuICAgICAqIGxldmVscy4gIFRoZSBvdGhlciBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZvciByZXNvbHV0aW9ucyBjb3JyZXNwb25kaW5nXG4gICAgICogdG8gbm9uLWludGVnZXIgem9vbSBsZXZlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggTWFwIHggY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBNYXAgeSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgSW5zdGVhZCBvZiBsZXR0aW5nIGVkZ2VcbiAgICAgKiAgICAgaW50ZXJzZWN0aW9ucyBnbyB0byB0aGUgaGlnaGVyIHRpbGUgY29vcmRpbmF0ZSwgbGV0IGVkZ2UgaW50ZXJzZWN0aW9uc1xuICAgICAqICAgICBnbyB0byB0aGUgbG93ZXIgdGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZD19IG9wdF90aWxlQ29vcmQgVGVtcG9yYXJ5IGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfID0gZnVuY3Rpb24gKHgsIHksIHosIHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3ksIG9wdF90aWxlQ29vcmQpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHopO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgICAgdmFyIHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZV8pO1xuICAgICAgICB2YXIgYWRqdXN0WCA9IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgPyAwLjUgOiAwO1xuICAgICAgICB2YXIgYWRqdXN0WSA9IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgPyAwLjUgOiAwO1xuICAgICAgICB2YXIgeEZyb21PcmlnaW4gPSBNYXRoLmZsb29yKCh4IC0gb3JpZ2luWzBdKSAvIHJlc29sdXRpb24gKyBhZGp1c3RYKTtcbiAgICAgICAgdmFyIHlGcm9tT3JpZ2luID0gTWF0aC5mbG9vcigob3JpZ2luWzFdIC0geSkgLyByZXNvbHV0aW9uICsgYWRqdXN0WSk7XG4gICAgICAgIHZhciB0aWxlQ29vcmRYID0geEZyb21PcmlnaW4gLyB0aWxlU2l6ZVswXTtcbiAgICAgICAgdmFyIHRpbGVDb29yZFkgPSB5RnJvbU9yaWdpbiAvIHRpbGVTaXplWzFdO1xuICAgICAgICBpZiAocmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSkge1xuICAgICAgICAgICAgdGlsZUNvb3JkWCA9IE1hdGguY2VpbCh0aWxlQ29vcmRYKSAtIDE7XG4gICAgICAgICAgICB0aWxlQ29vcmRZID0gTWF0aC5jZWlsKHRpbGVDb29yZFkpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRpbGVDb29yZFggPSBNYXRoLmZsb29yKHRpbGVDb29yZFgpO1xuICAgICAgICAgICAgdGlsZUNvb3JkWSA9IE1hdGguZmxvb3IodGlsZUNvb3JkWSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZUNvb3JkKHosIHRpbGVDb29yZFgsIHRpbGVDb29yZFksIG9wdF90aWxlQ29vcmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgdGlsZSBjb29yZGluYXRlIGdpdmVuIGEgbWFwIGNvb3JkaW5hdGUgYW5kIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZD19IG9wdF90aWxlQ29vcmQgRGVzdGluYXRpb24gaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUaWxlR3JpZC5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaID0gZnVuY3Rpb24gKGNvb3JkaW5hdGUsIHosIG9wdF90aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdLCB6LCBmYWxzZSwgb3B0X3RpbGVDb29yZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHJlc29sdXRpb24uXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVDb29yZFJlc29sdXRpb24gPSBmdW5jdGlvbiAodGlsZUNvb3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t0aWxlQ29vcmRbMF1dO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIHNpemUgZm9yIGEgem9vbSBsZXZlbC4gVGhlIHR5cGUgb2YgdGhlIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoZVxuICAgICAqIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgdGhhdCB0aGUgdGlsZSBncmlkIHdhcyBjb25maWd1cmVkIHdpdGguIFRvIGFsd2F5c1xuICAgICAqIGdldCBhbiBgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplYCwgcnVuIHRoZSByZXN1bHQgdGhyb3VnaCBgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplLnRvU2l6ZSgpYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgICAqIEByZXR1cm4ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFRpbGVTaXplID0gZnVuY3Rpb24gKHopIHtcbiAgICAgICAgaWYgKHRoaXMudGlsZVNpemVfKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZV87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZXNfW3pdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBFeHRlbnQgdGlsZSByYW5nZSBmb3IgdGhlIHNwZWNpZmllZCB6b29tIGxldmVsLlxuICAgICAqL1xuICAgIFRpbGVHcmlkLnByb3RvdHlwZS5nZXRGdWxsVGlsZVJhbmdlID0gZnVuY3Rpb24gKHopIHtcbiAgICAgICAgaWYgKCF0aGlzLmZ1bGxUaWxlUmFuZ2VzXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW50X1xuICAgICAgICAgICAgICAgID8gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKHRoaXMuZXh0ZW50XywgeilcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mdWxsVGlsZVJhbmdlc19bel07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfZGlyZWN0aW9uIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICAgICAqICAgICBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0XG4gICAgICogICAgIGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC4gRGVmYXVsdCBpcyAwLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gWi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmdldFpGb3JSZXNvbHV0aW9uID0gZnVuY3Rpb24gKHJlc29sdXRpb24sIG9wdF9kaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIHogPSBsaW5lYXJGaW5kTmVhcmVzdCh0aGlzLnJlc29sdXRpb25zXywgcmVzb2x1dGlvbiwgb3B0X2RpcmVjdGlvbiB8fCAwKTtcbiAgICAgICAgcmV0dXJuIGNsYW1wKHosIHRoaXMubWluWm9vbSwgdGhpcy5tYXhab29tKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IWltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQgZm9yIHRoaXMgdGlsZSBncmlkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlsZUdyaWQucHJvdG90eXBlLmNhbGN1bGF0ZVRpbGVSYW5nZXNfID0gZnVuY3Rpb24gKGV4dGVudCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoO1xuICAgICAgICB2YXIgZnVsbFRpbGVSYW5nZXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgeiA9IHRoaXMubWluWm9vbTsgeiA8IGxlbmd0aDsgKyt6KSB7XG4gICAgICAgICAgICBmdWxsVGlsZVJhbmdlc1t6XSA9IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnVsbFRpbGVSYW5nZXNfID0gZnVsbFRpbGVSYW5nZXM7XG4gICAgfTtcbiAgICByZXR1cm4gVGlsZUdyaWQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVGlsZUdyaWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlR3JpZC5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWRcbiAqL1xuaW1wb3J0IENvcm5lciBmcm9tICcuL2V4dGVudC9Db3JuZXIuanMnO1xuaW1wb3J0IFRpbGVHcmlkIGZyb20gJy4vdGlsZWdyaWQvVGlsZUdyaWQuanMnO1xuaW1wb3J0IFVuaXRzIGZyb20gJy4vcHJvai9Vbml0cy5qcyc7XG5pbXBvcnQgeyBERUZBVUxUX01BWF9aT09NLCBERUZBVUxUX1RJTEVfU0laRSB9IGZyb20gJy4vdGlsZWdyaWQvY29tbW9uLmpzJztcbmltcG9ydCB7IE1FVEVSU19QRVJfVU5JVCwgZ2V0IGFzIGdldFByb2plY3Rpb24gfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHsgY29udGFpbnNDb29yZGluYXRlLCBjcmVhdGVPclVwZGF0ZSwgZ2V0Q29ybmVyLCBnZXRIZWlnaHQsIGdldFdpZHRoLCB9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7IHRvU2l6ZSB9IGZyb20gJy4vc2l6ZS5qcyc7XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7IVRpbGVHcmlkfSBEZWZhdWx0IHRpbGUgZ3JpZCBmb3IgdGhlXG4gKiBwYXNzZWQgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIHZhciB0aWxlR3JpZCA9IHByb2plY3Rpb24uZ2V0RGVmYXVsdFRpbGVHcmlkKCk7XG4gICAgaWYgKCF0aWxlR3JpZCkge1xuICAgICAgICB0aWxlR3JpZCA9IGNyZWF0ZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIHByb2plY3Rpb24uc2V0RGVmYXVsdFRpbGVHcmlkKHRpbGVHcmlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbGVHcmlkO1xufVxuLyoqXG4gKiBAcGFyYW0ge1RpbGVHcmlkfSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWCh0aWxlR3JpZCwgdGlsZUNvb3JkLCBwcm9qZWN0aW9uKSB7XG4gICAgdmFyIHogPSB0aWxlQ29vcmRbMF07XG4gICAgdmFyIGNlbnRlciA9IHRpbGVHcmlkLmdldFRpbGVDb29yZENlbnRlcih0aWxlQ29vcmQpO1xuICAgIHZhciBwcm9qZWN0aW9uRXh0ZW50ID0gZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgaWYgKCFjb250YWluc0Nvb3JkaW5hdGUocHJvamVjdGlvbkV4dGVudCwgY2VudGVyKSkge1xuICAgICAgICB2YXIgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpO1xuICAgICAgICB2YXIgd29ybGRzQXdheSA9IE1hdGguY2VpbCgocHJvamVjdGlvbkV4dGVudFswXSAtIGNlbnRlclswXSkgLyB3b3JsZFdpZHRoKTtcbiAgICAgICAgY2VudGVyWzBdICs9IHdvcmxkV2lkdGggKiB3b3JsZHNBd2F5O1xuICAgICAgICByZXR1cm4gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaKGNlbnRlciwgeik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGlsZUNvb3JkO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9tYXhab29tIE1heGltdW0gem9vbSBsZXZlbCAoZGVmYXVsdCBpc1xuICogICAgIERFRkFVTFRfTUFYX1pPT00pLlxuICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemU9fSBvcHRfdGlsZVNpemUgVGlsZSBzaXplIChkZWZhdWx0IHVzZXNcbiAqICAgICBERUZBVUxUX1RJTEVfU0laRSkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50L0Nvcm5lci5qc1wiKS5kZWZhdWx0PX0gb3B0X2Nvcm5lciBFeHRlbnQgY29ybmVyIChkZWZhdWx0IGlzIGAndG9wLWxlZnQnYCkuXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IFRpbGVHcmlkIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRm9yRXh0ZW50KGV4dGVudCwgb3B0X21heFpvb20sIG9wdF90aWxlU2l6ZSwgb3B0X2Nvcm5lcikge1xuICAgIHZhciBjb3JuZXIgPSBvcHRfY29ybmVyICE9PSB1bmRlZmluZWQgPyBvcHRfY29ybmVyIDogQ29ybmVyLlRPUF9MRUZUO1xuICAgIHZhciByZXNvbHV0aW9ucyA9IHJlc29sdXRpb25zRnJvbUV4dGVudChleHRlbnQsIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUpO1xuICAgIHJldHVybiBuZXcgVGlsZUdyaWQoe1xuICAgICAgICBleHRlbnQ6IGV4dGVudCxcbiAgICAgICAgb3JpZ2luOiBnZXRDb3JuZXIoZXh0ZW50LCBjb3JuZXIpLFxuICAgICAgICByZXNvbHV0aW9uczogcmVzb2x1dGlvbnMsXG4gICAgICAgIHRpbGVTaXplOiBvcHRfdGlsZVNpemUsXG4gICAgfSk7XG59XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFhZWk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQgZm9yIHRoZSB0aWxlIGdyaWQuIFRoZSBvcmlnaW4gZm9yIGFuIFhZWiB0aWxlIGdyaWQgaXMgdGhlXG4gKiB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIGV4dGVudC4gSWYgYG1heFJlc29sdXRpb25gIGlzIG5vdCBwcm92aWRlZCB0aGUgemVybyBsZXZlbCBvZiB0aGUgZ3JpZCBpcyBkZWZpbmVkIGJ5IHRoZSByZXNvbHV0aW9uXG4gKiBhdCB3aGljaCBvbmUgdGlsZSBmaXRzIGluIHRoZSBwcm92aWRlZCBleHRlbnQuIElmIG5vdCBwcm92aWRlZCwgdGhlIGV4dGVudCBvZiB0aGUgRVBTRzozODU3IHByb2plY3Rpb24gaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gUmVzb2x1dGlvbiBhdCBsZXZlbCB6ZXJvLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20uIFRoZSBkZWZhdWx0IGlzIGA0MmAuIFRoaXMgZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIGxldmVsc1xuICogaW4gdGhlIGdyaWQgc2V0LiBGb3IgZXhhbXBsZSwgYSBgbWF4Wm9vbWAgb2YgMjEgbWVhbnMgdGhlcmUgYXJlIDIyIGxldmVscyBpbiB0aGUgZ3JpZCBzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gTWluaW11bSB6b29tLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZT1bMjU2LCAyNTZdXSBUaWxlIHNpemUgaW4gcGl4ZWxzLlxuICovXG4vKipcbiAqIENyZWF0ZXMgYSB0aWxlIGdyaWQgd2l0aCBhIHN0YW5kYXJkIFhZWiB0aWxpbmcgc2NoZW1lLlxuICogQHBhcmFtIHtYWVpPcHRpb25zPX0gb3B0X29wdGlvbnMgVGlsZSBncmlkIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IFRpbGUgZ3JpZCBpbnN0YW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVhZWihvcHRfb3B0aW9ucykge1xuICAgIHZhciB4eXpPcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gICAgdmFyIGV4dGVudCA9IHh5ek9wdGlvbnMuZXh0ZW50IHx8IGdldFByb2plY3Rpb24oJ0VQU0c6Mzg1NycpLmdldEV4dGVudCgpO1xuICAgIHZhciBncmlkT3B0aW9ucyA9IHtcbiAgICAgICAgZXh0ZW50OiBleHRlbnQsXG4gICAgICAgIG1pblpvb206IHh5ek9wdGlvbnMubWluWm9vbSxcbiAgICAgICAgdGlsZVNpemU6IHh5ek9wdGlvbnMudGlsZVNpemUsXG4gICAgICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9uc0Zyb21FeHRlbnQoZXh0ZW50LCB4eXpPcHRpb25zLm1heFpvb20sIHh5ek9wdGlvbnMudGlsZVNpemUsIHh5ek9wdGlvbnMubWF4UmVzb2x1dGlvbiksXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFRpbGVHcmlkKGdyaWRPcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgcmVzb2x1dGlvbnMgYXJyYXkgZnJvbSBhbiBleHRlbnQuICBBIHpvb20gZmFjdG9yIG9mIDIgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfbWF4Wm9vbSBNYXhpbXVtIHpvb20gbGV2ZWwgKGRlZmF1bHQgaXNcbiAqICAgICBERUZBVUxUX01BWF9aT09NKS5cbiAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplPX0gb3B0X3RpbGVTaXplIFRpbGUgc2l6ZSAoZGVmYXVsdCB1c2VzXG4gKiAgICAgREVGQVVMVF9USUxFX1NJWkUpLlxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfbWF4UmVzb2x1dGlvbiBSZXNvbHV0aW9uIGF0IGxldmVsIHplcm8uXG4gKiBAcmV0dXJuIHshQXJyYXk8bnVtYmVyPn0gUmVzb2x1dGlvbnMgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdXRpb25zRnJvbUV4dGVudChleHRlbnQsIG9wdF9tYXhab29tLCBvcHRfdGlsZVNpemUsIG9wdF9tYXhSZXNvbHV0aW9uKSB7XG4gICAgdmFyIG1heFpvb20gPSBvcHRfbWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0X21heFpvb20gOiBERUZBVUxUX01BWF9aT09NO1xuICAgIHZhciBoZWlnaHQgPSBnZXRIZWlnaHQoZXh0ZW50KTtcbiAgICB2YXIgd2lkdGggPSBnZXRXaWR0aChleHRlbnQpO1xuICAgIHZhciB0aWxlU2l6ZSA9IHRvU2l6ZShvcHRfdGlsZVNpemUgIT09IHVuZGVmaW5lZCA/IG9wdF90aWxlU2l6ZSA6IERFRkFVTFRfVElMRV9TSVpFKTtcbiAgICB2YXIgbWF4UmVzb2x1dGlvbiA9IG9wdF9tYXhSZXNvbHV0aW9uID4gMFxuICAgICAgICA/IG9wdF9tYXhSZXNvbHV0aW9uXG4gICAgICAgIDogTWF0aC5tYXgod2lkdGggLyB0aWxlU2l6ZVswXSwgaGVpZ2h0IC8gdGlsZVNpemVbMV0pO1xuICAgIHZhciBsZW5ndGggPSBtYXhab29tICsgMTtcbiAgICB2YXIgcmVzb2x1dGlvbnMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciB6ID0gMDsgeiA8IGxlbmd0aDsgKyt6KSB7XG4gICAgICAgIHJlc29sdXRpb25zW3pdID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KDIsIHopO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x1dGlvbnM7XG59XG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcj19IG9wdF9tYXhab29tIE1heGltdW0gem9vbSBsZXZlbCAoZGVmYXVsdCBpc1xuICogICAgIERFRkFVTFRfTUFYX1pPT00pLlxuICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemU9fSBvcHRfdGlsZVNpemUgVGlsZSBzaXplIChkZWZhdWx0IHVzZXNcbiAqICAgICBERUZBVUxUX1RJTEVfU0laRSkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50L0Nvcm5lci5qc1wiKS5kZWZhdWx0PX0gb3B0X2Nvcm5lciBFeHRlbnQgY29ybmVyIChkZWZhdWx0IGlzIGAndG9wLWxlZnQnYCkuXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IFRpbGVHcmlkIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uLCBvcHRfbWF4Wm9vbSwgb3B0X3RpbGVTaXplLCBvcHRfY29ybmVyKSB7XG4gICAgdmFyIGV4dGVudCA9IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIHJldHVybiBjcmVhdGVGb3JFeHRlbnQoZXh0ZW50LCBvcHRfbWF4Wm9vbSwgb3B0X3RpbGVTaXplLCBvcHRfY29ybmVyKTtcbn1cbi8qKlxuICogR2VuZXJhdGUgYSB0aWxlIGdyaWQgZXh0ZW50IGZyb20gYSBwcm9qZWN0aW9uLiAgSWYgdGhlIHByb2plY3Rpb24gaGFzIGFuXG4gKiBleHRlbnQsIGl0IGlzIHVzZWQuICBJZiBub3QsIGEgZ2xvYmFsIGV4dGVudCBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIHByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIHZhciBleHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgIGlmICghZXh0ZW50KSB7XG4gICAgICAgIHZhciBoYWxmID0gKDE4MCAqIE1FVEVSU19QRVJfVU5JVFtVbml0cy5ERUdSRUVTXSkgLyBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKTtcbiAgICAgICAgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGUoLWhhbGYsIC1oYWxmLCBoYWxmLCBoYWxmKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVudDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbGVncmlkLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVcbiAqL1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgU291cmNlIGZyb20gJy4vU291cmNlLmpzJztcbmltcG9ydCBUaWxlQ2FjaGUgZnJvbSAnLi4vVGlsZUNhY2hlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7IGFic3RyYWN0IH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7IGVxdWl2YWxlbnQgfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7IGdldEtleVpYWSwgd2l0aGluRXh0ZW50QW5kWiB9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQgeyBnZXRGb3JQcm9qZWN0aW9uIGFzIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiwgd3JhcFgsIH0gZnJvbSAnLi4vdGlsZWdyaWQuanMnO1xuaW1wb3J0IHsgc2NhbGUgYXMgc2NhbGVTaXplLCB0b1NpemUgfSBmcm9tICcuLi9zaXplLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IFtzdGF0ZV1cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6RGlyZWN0aW9uPTBdXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgaW1hZ2VzIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZC5cbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG52YXIgVGlsZVNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZVNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgU291cmNlVGlsZSBzb3VyY2Ugb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlU291cmNlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3BhcXVlXyA9IG9wdGlvbnMub3BhcXVlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYXF1ZSA6IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVQaXhlbFJhdGlvXyA9XG4gICAgICAgICAgICBvcHRpb25zLnRpbGVQaXhlbFJhdGlvICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpbGVQaXhlbFJhdGlvIDogMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlR3JpZCA9IG9wdGlvbnMudGlsZUdyaWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZUdyaWQgOiBudWxsO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSBbMjU2LCAyNTZdO1xuICAgICAgICB2YXIgdGlsZUdyaWQgPSBvcHRpb25zLnRpbGVHcmlkO1xuICAgICAgICBpZiAodGlsZUdyaWQpIHtcbiAgICAgICAgICAgIHRvU2l6ZSh0aWxlR3JpZC5nZXRUaWxlU2l6ZSh0aWxlR3JpZC5nZXRNaW5ab29tKCkpLCB0aWxlU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGVDYWNoZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZUNhY2hlID0gbmV3IFRpbGVDYWNoZShvcHRpb25zLmNhY2hlU2l6ZSB8fCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRtcFNpemUgPSBbMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMua2V5XyA9IG9wdGlvbnMua2V5IHx8ICcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5PcHRpb25zfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZU9wdGlvbnMgPSB7IHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbiB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogekRpcmVjdGlvbiBoaW50LCByZWFkIGJ5IHRoZSByZW5kZXJlci4gSW5kaWNhdGVzIHdoaWNoIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICogYnkgYSByZW5kZXJlciBpZiB0aGUgdmlld3MgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICAgICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAgICAgICAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnpEaXJlY3Rpb24gPSBvcHRpb25zLnpEaXJlY3Rpb24gPyBvcHRpb25zLnpEaXJlY3Rpb24gOiAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuY2FuRXhwaXJlQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZS5jYW5FeHBpcmVDYWNoZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5leHBpcmVDYWNoZSA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uLCB1c2VkVGlsZXMpIHtcbiAgICAgICAgdmFyIHRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgaWYgKHRpbGVDYWNoZSkge1xuICAgICAgICAgICAgdGlsZUNhY2hlLmV4cGlyZUNhY2hlKHVzZWRUaWxlcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0KTooYm9vbGVhbnx2b2lkKX0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggZWFjaFxuICAgICAqICAgICBsb2FkZWQgdGlsZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAsIHRoZSB0aWxlIHdpbGwgbm90IGJlXG4gICAgICogICAgIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0aWxlIHJhbmdlIGlzIGZ1bGx5IGNvdmVyZWQgd2l0aCBsb2FkZWQgdGlsZXMuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZm9yRWFjaExvYWRlZFRpbGUgPSBmdW5jdGlvbiAocHJvamVjdGlvbiwgeiwgdGlsZVJhbmdlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgdGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICBpZiAoIXRpbGVDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb3ZlcmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHRpbGUsIHRpbGVDb29yZEtleSwgbG9hZGVkO1xuICAgICAgICBmb3IgKHZhciB4ID0gdGlsZVJhbmdlLm1pblg7IHggPD0gdGlsZVJhbmdlLm1heFg7ICsreCkge1xuICAgICAgICAgICAgZm9yICh2YXIgeSA9IHRpbGVSYW5nZS5taW5ZOyB5IDw9IHRpbGVSYW5nZS5tYXhZOyArK3kpIHtcbiAgICAgICAgICAgICAgICB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgICAgICAgICAgICAgbG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSkpO1xuICAgICAgICAgICAgICAgICAgICBsb2FkZWQgPSB0aWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5MT0FERUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZCA9IGNhbGxiYWNrKHRpbGUpICE9PSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3ZlcmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gR3V0dGVyLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldEd1dHRlckZvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUga2V5IHRvIGJlIHVzZWQgZm9yIGFsbCB0aWxlcyBpbiB0aGUgc291cmNlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGtleSBmb3IgYWxsIHRpbGVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZhbHVlIHRvIGJlIHVzZWQgYXMgdGhlIGtleSBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aWxlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuc2V0S2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAodGhpcy5rZXlfICE9PSBrZXkpIHtcbiAgICAgICAgICAgIHRoaXMua2V5XyA9IGtleTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gT3BhcXVlLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldE9wYXF1ZSA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYXF1ZV87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUdyaWQuZ2V0UmVzb2x1dGlvbnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZSBncmlkIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaWxlIGdyaWQuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gVGlsZSBncmlkLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy50aWxlR3JpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9IFRpbGUgY2FjaGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocHJvamVjdGlvbikge1xuICAgICAgICBhc3NlcnQoZXF1aXZhbGVudCh0aGlzLmdldFByb2plY3Rpb24oKSwgcHJvamVjdGlvbiksIDY4IC8vIEEgVmVjdG9yVGlsZSBzb3VyY2UgY2FuIG9ubHkgYmUgcmVuZGVyZWQgaWYgaXQgaGFzIGEgcHJvamVjdGlvbiBjb21wYXRpYmxlIHdpdGggdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aWxlIHBpeGVsIHJhdGlvIGZvciB0aGlzIHNvdXJjZS4gU3ViY2xhc3NlcyBtYXkgb3ZlcnJpZGUgdGhpc1xuICAgICAqIG1ldGhvZCwgd2hpY2ggaXMgbWVhbnQgdG8gcmV0dXJuIGEgc3VwcG9ydGVkIHBpeGVsIHJhdGlvIHRoYXQgbWF0Y2hlcyB0aGVcbiAgICAgKiBwcm92aWRlZCBgcGl4ZWxSYXRpb2AgYXMgY2xvc2UgYXMgcG9zc2libGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHBpeGVsIHJhdGlvLlxuICAgICAqL1xuICAgIFRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVQaXhlbFJhdGlvID0gZnVuY3Rpb24gKHBpeGVsUmF0aW8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW9fO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBUaWxlIHNpemUuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZVBpeGVsU2l6ZSA9IGZ1bmN0aW9uICh6LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICB2YXIgdGlsZVBpeGVsUmF0aW8gPSB0aGlzLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuICAgICAgICB2YXIgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgICAgIGlmICh0aWxlUGl4ZWxSYXRpbyA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdGlsZVNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2NhbGVTaXplKHRpbGVTaXplLCB0aWxlUGl4ZWxSYXRpbywgdGhpcy50bXBTaXplKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRpbGUgY29vcmRpbmF0ZSB3cmFwcGVkIGFyb3VuZCB0aGUgeC1heGlzLiBXaGVuIHRoZSB0aWxlIGNvb3JkaW5hdGVcbiAgICAgKiBpcyBvdXRzaWRlIHRoZSByZXNvbHV0aW9uIGFuZCBleHRlbnQgcmFuZ2Ugb2YgdGhlIHRpbGUgZ3JpZCwgYG51bGxgIHdpbGwgYmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD19IG9wdF9wcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlIHRvIGJlIHBhc3NlZCB0byB0aGUgdGlsZVVybEZ1bmN0aW9uIG9yXG4gICAgICogICAgIG51bGwgaWYgbm8gdGlsZSBVUkwgc2hvdWxkIGJlIGNyZWF0ZWQgZm9yIHRoZSBwYXNzZWQgYHRpbGVDb29yZGAuXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gKHRpbGVDb29yZCwgb3B0X3Byb2plY3Rpb24pIHtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSBvcHRfcHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0X3Byb2plY3Rpb24gOiB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgdmFyIHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIGlmICh0aGlzLmdldFdyYXBYKCkgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgICAgICAgICB0aWxlQ29vcmQgPSB3cmFwWCh0aWxlR3JpZCwgdGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2l0aGluRXh0ZW50QW5kWih0aWxlQ29vcmQsIHRpbGVHcmlkKSA/IHRpbGVDb29yZCA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGNhY2hlZCB0aWxlcyBmcm9tIHRoZSBzb3VyY2UuIFRoZSBuZXh0IHJlbmRlciBjeWNsZSB3aWxsIGZldGNoIG5ldyB0aWxlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZVNvdXJjZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGlsZUNhY2hlLmNsZWFyKCk7XG4gICAgfTtcbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVmcmVzaC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSBjYWNoZSBzaXplIGlmIG5lZWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aWxlQ291bnQgTWluaW11bSBudW1iZXIgb2YgdGlsZXMgbmVlZGVkLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS51cGRhdGVDYWNoZVNpemUgPSBmdW5jdGlvbiAodGlsZUNvdW50LCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIGlmICh0aWxlQ291bnQgPiB0aWxlQ2FjaGUuaGlnaFdhdGVyTWFyaykge1xuICAgICAgICAgICAgdGlsZUNhY2hlLmhpZ2hXYXRlck1hcmsgPSB0aWxlQ291bnQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcmtzIGEgdGlsZSBjb29yZCBhcyBiZWluZyB1c2VkLCB3aXRob3V0IHRyaWdnZXJpbmcgYSBsb2FkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICBUaWxlU291cmNlLnByb3RvdHlwZS51c2VUaWxlID0gZnVuY3Rpb24gKHosIHgsIHksIHByb2plY3Rpb24pIHsgfTtcbiAgICByZXR1cm4gVGlsZVNvdXJjZTtcbn0oU291cmNlKSk7XG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGV+VGlsZVNvdXJjZX0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqL1xudmFyIFRpbGVTb3VyY2VFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsZVNvdXJjZUV2ZW50LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGhlIHRpbGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsZVNvdXJjZUV2ZW50KHR5cGUsIHRpbGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHlwZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aWxlIHJlbGF0ZWQgdG8gdGhlIGV2ZW50LlxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fVxuICAgICAgICAgKiBAYXBpXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlID0gdGlsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVGlsZVNvdXJjZUV2ZW50O1xufShFdmVudCkpO1xuZXhwb3J0IHsgVGlsZVNvdXJjZUV2ZW50IH07XG5leHBvcnQgZGVmYXVsdCBUaWxlU291cmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZXVybGZ1bmN0aW9uXG4gKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQgeyBtb2R1bG8gfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHsgaGFzaCBhcyB0aWxlQ29vcmRIYXNoIH0gZnJvbSAnLi90aWxlY29vcmQuanMnO1xuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgVGVtcGxhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgdGlsZUdyaWQpIHtcbiAgICB2YXIgelJlZ0V4ID0gL1xce3pcXH0vZztcbiAgICB2YXIgeFJlZ0V4ID0gL1xce3hcXH0vZztcbiAgICB2YXIgeVJlZ0V4ID0gL1xce3lcXH0vZztcbiAgICB2YXIgZGFzaFlSZWdFeCA9IC9cXHsteVxcfS9nO1xuICAgIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICBpZiAoIXRpbGVDb29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKHpSZWdFeCwgdGlsZUNvb3JkWzBdLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoeFJlZ0V4LCB0aWxlQ29vcmRbMV0udG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZSh5UmVnRXgsIHRpbGVDb29yZFsyXS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGRhc2hZUmVnRXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgeiA9IHRpbGVDb29yZFswXTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aWxlR3JpZC5nZXRGdWxsVGlsZVJhbmdlKHopO1xuICAgICAgICAgICAgICAgIGFzc2VydChyYW5nZSwgNTUpOyAvLyBUaGUgey15fSBwbGFjZWhvbGRlciByZXF1aXJlcyBhIHRpbGUgZ3JpZCB3aXRoIGV4dGVudFxuICAgICAgICAgICAgICAgIHZhciB5ID0gcmFuZ2UuZ2V0SGVpZ2h0KCkgLSB0aWxlQ29vcmRbMl0gLSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB5LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHRlbXBsYXRlcyBUZW1wbGF0ZXMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyb21UZW1wbGF0ZXModGVtcGxhdGVzLCB0aWxlR3JpZCkge1xuICAgIHZhciBsZW4gPSB0ZW1wbGF0ZXMubGVuZ3RoO1xuICAgIHZhciB0aWxlVXJsRnVuY3Rpb25zID0gbmV3IEFycmF5KGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB0aWxlVXJsRnVuY3Rpb25zW2ldID0gY3JlYXRlRnJvbVRlbXBsYXRlKHRlbXBsYXRlc1tpXSwgdGlsZUdyaWQpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnModGlsZVVybEZ1bmN0aW9ucyk7XG59XG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9uPn0gdGlsZVVybEZ1bmN0aW9ucyBUaWxlIFVSTCBGdW5jdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFRpbGUgVVJMIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnModGlsZVVybEZ1bmN0aW9ucykge1xuICAgIGlmICh0aWxlVXJsRnVuY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdGlsZVVybEZ1bmN0aW9uc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBUaWxlIFVSTC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAodGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIGlmICghdGlsZUNvb3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGggPSB0aWxlQ29vcmRIYXNoKHRpbGVDb29yZCk7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBtb2R1bG8oaCwgdGlsZVVybEZ1bmN0aW9ucy5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRpbGVVcmxGdW5jdGlvbnNbaW5kZXhdKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudWxsVGlsZVVybEZ1bmN0aW9uKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMLlxuICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gQXJyYXkgb2YgdXJscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZFVybCh1cmwpIHtcbiAgICB2YXIgdXJscyA9IFtdO1xuICAgIHZhciBtYXRjaCA9IC9cXHsoW2Etel0pLShbYS16XSlcXH0vLmV4ZWModXJsKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgLy8gY2hhciByYW5nZVxuICAgICAgICB2YXIgc3RhcnRDaGFyQ29kZSA9IG1hdGNoWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIHZhciBzdG9wQ2hhckNvZGUgPSBtYXRjaFsyXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgY2hhckNvZGUgPSB2b2lkIDA7XG4gICAgICAgIGZvciAoY2hhckNvZGUgPSBzdGFydENoYXJDb2RlOyBjaGFyQ29kZSA8PSBzdG9wQ2hhckNvZGU7ICsrY2hhckNvZGUpIHtcbiAgICAgICAgICAgIHVybHMucHVzaCh1cmwucmVwbGFjZShtYXRjaFswXSwgU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJscztcbiAgICB9XG4gICAgbWF0Y2ggPSAvXFx7KFxcZCspLShcXGQrKVxcfS8uZXhlYyh1cmwpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICAvLyBudW1iZXIgcmFuZ2VcbiAgICAgICAgdmFyIHN0b3BfMSA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgICAgIGZvciAodmFyIGkgPSBwYXJzZUludChtYXRjaFsxXSwgMTApOyBpIDw9IHN0b3BfMTsgaSsrKSB7XG4gICAgICAgICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIGkudG9TdHJpbmcoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmxzO1xuICAgIH1cbiAgICB1cmxzLnB1c2godXJsKTtcbiAgICByZXR1cm4gdXJscztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbGV1cmxmdW5jdGlvbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9VcmxUaWxlXG4gKi9cbmltcG9ydCBUaWxlRXZlbnRUeXBlIGZyb20gJy4vVGlsZUV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZVNvdXJjZSwgeyBUaWxlU291cmNlRXZlbnQgfSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHsgY3JlYXRlRnJvbVRlbXBsYXRlcywgZXhwYW5kVXJsIH0gZnJvbSAnLi4vdGlsZXVybGZ1bmN0aW9uLmpzJztcbmltcG9ydCB7IGdldEtleVpYWSB9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3RhdGUuanNcIikuZGVmYXVsdH0gW3N0YXRlXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbGVQaXhlbFJhdGlvXVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IFt1cmxzXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6RGlyZWN0aW9uPTBdXG4gKi9cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgdGlsZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkIG92ZXIgaHR0cC5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9UaWxlLmpzXCIpLlRpbGVTb3VyY2VFdmVudFxuICovXG52YXIgVXJsVGlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVXJsVGlsZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgSW1hZ2UgdGlsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVybFRpbGUob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgICAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICAgIHRpbGVHcmlkOiBvcHRpb25zLnRpbGVHcmlkLFxuICAgICAgICAgICAgdGlsZVBpeGVsUmF0aW86IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgICAgIGtleTogb3B0aW9ucy5rZXksXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgICAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fID1cbiAgICAgICAgICAgIF90aGlzLnRpbGVVcmxGdW5jdGlvbiA9PT0gVXJsVGlsZS5wcm90b3R5cGUudGlsZVVybEZ1bmN0aW9uO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aWxlTG9hZEZ1bmN0aW9uID0gb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uO1xuICAgICAgICBpZiAob3B0aW9ucy50aWxlVXJsRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIF90aGlzLnRpbGVVcmxGdW5jdGlvbiA9IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8c3RyaW5nPnxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXJscyA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLnVybHMpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFVybHMob3B0aW9ucy51cmxzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLnVybCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0VXJsKG9wdGlvbnMudXJsKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVMb2FkaW5nS2V5c18gPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbGUgbG9hZCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBUaWxlTG9hZEZ1bmN0aW9uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLmdldFRpbGVMb2FkRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVMb2FkRnVuY3Rpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbGUgVVJMIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZVVybEZ1bmN0aW9uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLmdldFRpbGVVcmxGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS50aWxlVXJsRnVuY3Rpb24gPT09IHRoaXMudGlsZVVybEZ1bmN0aW9uXG4gICAgICAgICAgICA/IHRoaXMudGlsZVVybEZ1bmN0aW9uLmJpbmQodGhpcylcbiAgICAgICAgICAgIDogdGhpcy50aWxlVXJsRnVuY3Rpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIFVSTHMgdXNlZCBmb3IgdGhpcyBzb3VyY2UuXG4gICAgICogV2hlbiBhIHRpbGVVcmxGdW5jdGlvbiBpcyB1c2VkIGluc3RlYWQgb2YgdXJsIG9yIHVybHMsXG4gICAgICogbnVsbCB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fG51bGx9IFVSTHMuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLmdldFVybHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGlsZSBjaGFuZ2UgZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS5oYW5kbGVUaWxlQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovIChldmVudC50YXJnZXQpO1xuICAgICAgICB2YXIgdWlkID0gZ2V0VWlkKHRpbGUpO1xuICAgICAgICB2YXIgdGlsZVN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICB2YXIgdHlwZTtcbiAgICAgICAgaWYgKHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuTE9BRElORykge1xuICAgICAgICAgICAgdGhpcy50aWxlTG9hZGluZ0tleXNfW3VpZF0gPSB0cnVlO1xuICAgICAgICAgICAgdHlwZSA9IFRpbGVFdmVudFR5cGUuVElMRUxPQURTVEFSVDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1aWQgaW4gdGhpcy50aWxlTG9hZGluZ0tleXNfKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy50aWxlTG9hZGluZ0tleXNfW3VpZF07XG4gICAgICAgICAgICB0eXBlID1cbiAgICAgICAgICAgICAgICB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SXG4gICAgICAgICAgICAgICAgICAgID8gVGlsZUV2ZW50VHlwZS5USUxFTE9BREVSUk9SXG4gICAgICAgICAgICAgICAgICAgIDogdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FERURcbiAgICAgICAgICAgICAgICAgICAgICAgID8gVGlsZUV2ZW50VHlwZS5USUxFTE9BREVORFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFRpbGVTb3VyY2VFdmVudCh0eXBlLCB0aWxlKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGlsZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gdGlsZUxvYWRGdW5jdGlvbiBUaWxlIGxvYWQgZnVuY3Rpb24uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLnNldFRpbGVMb2FkRnVuY3Rpb24gPSBmdW5jdGlvbiAodGlsZUxvYWRGdW5jdGlvbikge1xuICAgICAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICAgICAgICB0aGlzLnRpbGVMb2FkRnVuY3Rpb24gPSB0aWxlTG9hZEZ1bmN0aW9uO1xuICAgICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGlsZSBVUkwgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IHRpbGVVcmxGdW5jdGlvbiBUaWxlIFVSTCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGtleSBPcHRpb25hbCBuZXcgdGlsZSBrZXkgZm9yIHRoZSBzb3VyY2UuXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFVybFRpbGUucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbiA9IGZ1bmN0aW9uICh0aWxlVXJsRnVuY3Rpb24sIGtleSkge1xuICAgICAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbiA9IHRpbGVVcmxGdW5jdGlvbjtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUucHJ1bmVFeGNlcHROZXdlc3RaKCk7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5zZXRLZXkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciB1cmxzID0gZXhwYW5kVXJsKHVybCk7XG4gICAgICAgIHRoaXMudXJscyA9IHVybHM7XG4gICAgICAgIHRoaXMuc2V0VXJscyh1cmxzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgVVJMcyB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdXJscyBVUkxzLlxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBVcmxUaWxlLnByb3RvdHlwZS5zZXRVcmxzID0gZnVuY3Rpb24gKHVybHMpIHtcbiAgICAgICAgdGhpcy51cmxzID0gdXJscztcbiAgICAgICAgdmFyIGtleSA9IHVybHMuam9pbignXFxuJyk7XG4gICAgICAgIGlmICh0aGlzLmdlbmVyYXRlVGlsZVVybEZ1bmN0aW9uXykge1xuICAgICAgICAgICAgdGhpcy5zZXRUaWxlVXJsRnVuY3Rpb24oY3JlYXRlRnJvbVRlbXBsYXRlcyh1cmxzLCB0aGlzLnRpbGVHcmlkKSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0S2V5KGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUudGlsZVVybEZ1bmN0aW9uID0gZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFya3MgYSB0aWxlIGNvb3JkIGFzIGJlaW5nIHVzZWQsIHdpdGhvdXQgdHJpZ2dlcmluZyBhIGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAgICovXG4gICAgVXJsVGlsZS5wcm90b3R5cGUudXNlVGlsZSA9IGZ1bmN0aW9uICh6LCB4LCB5KSB7XG4gICAgICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFVybFRpbGU7XG59KFRpbGVTb3VyY2UpKTtcbmV4cG9ydCBkZWZhdWx0IFVybFRpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VcmxUaWxlLmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZUV2ZW50VHlwZVxuICovXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgc3RhcnRzIGxvYWRpbmcuXG4gICAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVGlsZS5UaWxlU291cmNlRXZlbnQjdGlsZWxvYWRzdGFydFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICBUSUxFTE9BRFNUQVJUOiAndGlsZWxvYWRzdGFydCcsXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYSB0aWxlIGZpbmlzaGVzIGxvYWRpbmcsIGVpdGhlciB3aGVuIGl0cyBkYXRhIGlzIGxvYWRlZCxcbiAgICAgKiBvciB3aGVuIGxvYWRpbmcgd2FzIGFib3J0ZWQgYmVjYXVzZSB0aGUgdGlsZSBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2FkZW5kXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRJTEVMT0FERU5EOiAndGlsZWxvYWRlbmQnLFxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBpZiB0aWxlIGxvYWRpbmcgcmVzdWx0cyBpbiBhbiBlcnJvci5cbiAgICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9UaWxlLlRpbGVTb3VyY2VFdmVudCN0aWxlbG9hZGVycm9yXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIFRJTEVMT0FERVJST1I6ICd0aWxlbG9hZGVycm9yJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlRXZlbnRUeXBlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVJbWFnZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlVGlsZSBmcm9tICcuLi9JbWFnZVRpbGUuanMnO1xuaW1wb3J0IFJlcHJvalRpbGUgZnJvbSAnLi4vcmVwcm9qL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IFVybFRpbGUgZnJvbSAnLi9VcmxUaWxlLmpzJztcbmltcG9ydCB7IEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OIH0gZnJvbSAnLi4vcmVwcm9qL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQgfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5pbXBvcnQgeyBlcXVpdmFsZW50LCBnZXQgYXMgZ2V0UHJvamVjdGlvbiB9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHsgZ2V0S2V5LCBnZXRLZXlaWFkgfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHsgZ2V0Rm9yUHJvamVjdGlvbiBhcyBnZXRUaWxlR3JpZEZvclByb2plY3Rpb24gfSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5pbXBvcnQgeyBnZXRVaWQgfSBmcm9tICcuLi91dGlsLmpzJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ltYWdlU21vb3RoaW5nPXRydWVdIEVuYWJsZSBpbWFnZSBzbW9vdGhpbmcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24uIERlZmF1bHQgaXMgdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ9MC41XSBNYXhpbXVtIGFsbG93ZWQgcmVwcm9qZWN0aW9uIGVycm9yIChpbiBwaXhlbHMpLlxuICogSGlnaGVyIHZhbHVlcyBjYW4gaW5jcmVhc2UgcmVwcm9qZWN0aW9uIHBlcmZvcm1hbmNlLCBidXQgZGVjcmVhc2UgcHJlY2lzaW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0YXRlLmpzXCIpLmRlZmF1bHR9IFtzdGF0ZV0gU291cmNlIHN0YXRlLlxuICogQHByb3BlcnR5IHt0eXBlb2YgaW1wb3J0KFwiLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IFt0aWxlQ2xhc3NdIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvSW1hZ2VUaWxlfkltYWdlVGlsZX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS4gRm9yIGV4YW1wbGUsIGlmIHRoZSB0aWxlXG4gKiBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gW3RpbGVVcmxGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gZ2V0IHRpbGUgVVJMIGdpdmVuIGEgdGlsZSBjb29yZGluYXRlIGFuZCB0aGUgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSBVUkwgdGVtcGxhdGUuIE11c3QgaW5jbHVkZSBge3h9YCwgYHt5fWAgb3IgYHsteX1gLCBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLlxuICogQSBgez8tP31gIHRlbXBsYXRlIHBhdHRlcm4sIGZvciBleGFtcGxlIGBzdWJkb21haW57YS1mfS5kb21haW4uY29tYCwgbWF5IGJlXG4gKiB1c2VkIGluc3RlYWQgb2YgZGVmaW5pbmcgZWFjaCBvbmUgc2VwYXJhdGVseSBpbiB0aGUgYHVybHNgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTCB0ZW1wbGF0ZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWF0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuIFRoZSBkZWZhdWx0LCBpcyB0b1xuICogcmVxdWVzdCBvdXQtb2YtYm91bmRzIHRpbGVzIGZyb20gdGhlIHNlcnZlci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgb25seSBvbmVcbiAqIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQuIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGlsZXMgd2lsbCBiZSByZXF1ZXN0ZWQgZm9yIG9uZVxuICogd29ybGQgb25seSwgYnV0IHRoZXkgd2lsbCBiZSB3cmFwcGVkIGhvcml6b250YWxseSB0byByZW5kZXIgbXVsdGlwbGUgd29ybGRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIE9wdGlvbmFsIHRpbGUga2V5IGZvciBwcm9wZXIgY2FjaGUgZmV0Y2hpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekRpcmVjdGlvbj0wXSBJbmRpY2F0ZSB3aGljaCByZXNvbHV0aW9uIHNob3VsZCBiZSB1c2VkXG4gKiBieSBhIHJlbmRlcmVyIGlmIHRoZSB2aWV3IHJlc29sdXRpb24gZG9lcyBub3QgbWF0Y2ggYW55IHJlc29sdXRpb24gb2YgdGhlIHRpbGUgc291cmNlLlxuICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbnZhciBUaWxlSW1hZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRpbGVJbWFnZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFPcHRpb25zfSBvcHRpb25zIEltYWdlIHRpbGUgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxlSW1hZ2Uob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgICAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICAgIHRpbGVHcmlkOiBvcHRpb25zLnRpbGVHcmlkLFxuICAgICAgICAgICAgdGlsZUxvYWRGdW5jdGlvbjogb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb25cbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uLFxuICAgICAgICAgICAgdGlsZVBpeGVsUmF0aW86IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0aWxlVXJsRnVuY3Rpb246IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uLFxuICAgICAgICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgICAgICAgIHVybHM6IG9wdGlvbnMudXJscyxcbiAgICAgICAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNyb3NzT3JpZ2luID1cbiAgICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAdHlwZSB7dHlwZW9mIEltYWdlVGlsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVDbGFzcyA9XG4gICAgICAgICAgICBvcHRpb25zLnRpbGVDbGFzcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlQ2xhc3MgOiBJbWFnZVRpbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgVGlsZUNhY2hlPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24gPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZF8gPSBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge29iamVjdHx1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0T3B0aW9uc18gPVxuICAgICAgICAgICAgb3B0aW9ucy5pbWFnZVNtb290aGluZyA9PT0gZmFsc2UgPyBJTUFHRV9TTU9PVEhJTkdfRElTQUJMRUQgOiB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5jYW5FeHBpcmVDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuY2FuRXhwaXJlQ2FjaGUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50aWxlQ2FjaGUuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltrZXldLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5leHBpcmVDYWNoZSA9IGZ1bmN0aW9uIChwcm9qZWN0aW9uLCB1c2VkVGlsZXMpIHtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5leHBpcmVDYWNoZS5jYWxsKHRoaXMsIHByb2plY3Rpb24sIHVzZWRUaWxlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVzZWRUaWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgIHRoaXMudGlsZUNhY2hlLmV4cGlyZUNhY2hlKHRoaXMudGlsZUNhY2hlID09IHVzZWRUaWxlQ2FjaGUgPyB1c2VkVGlsZXMgOiB7fSk7XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikge1xuICAgICAgICAgICAgdmFyIHRpbGVDYWNoZSA9IHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltpZF07XG4gICAgICAgICAgICB0aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodGlsZUNhY2hlID09IHVzZWRUaWxlQ2FjaGUgPyB1c2VkVGlsZXMgOiB7fSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge09iamVjdHx1bmRlZmluZWR9IENvbnRleHQgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldENvbnRleHRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0T3B0aW9uc187XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRHdXR0ZXJGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OICYmXG4gICAgICAgICAgICB0aGlzLmdldFByb2plY3Rpb24oKSAmJlxuICAgICAgICAgICAgcHJvamVjdGlvbiAmJlxuICAgICAgICAgICAgIWVxdWl2YWxlbnQodGhpcy5nZXRQcm9qZWN0aW9uKCksIHByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEd1dHRlcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEd1dHRlci5cbiAgICAgKi9cbiAgICBUaWxlSW1hZ2UucHJvdG90eXBlLmdldEd1dHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGtleSB0byBiZSB1c2VkIGZvciBhbGwgdGlsZXMgaW4gdGhlIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIGFsbCB0aWxlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoX3N1cGVyLnByb3RvdHlwZS5nZXRLZXkuY2FsbCh0aGlzKSArXG4gICAgICAgICAgICAodGhpcy5jb250ZXh0T3B0aW9uc18gPyAnXFxuJyArIEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGV4dE9wdGlvbnNfKSA6ICcnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gT3BhcXVlLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0T3BhcXVlID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OICYmXG4gICAgICAgICAgICB0aGlzLmdldFByb2plY3Rpb24oKSAmJlxuICAgICAgICAgICAgcHJvamVjdGlvbiAmJlxuICAgICAgICAgICAgIWVxdWl2YWxlbnQodGhpcy5nZXRQcm9qZWN0aW9uKCksIHByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRPcGFxdWUuY2FsbCh0aGlzLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaWxlIGdyaWQuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocHJvamVjdGlvbikge1xuICAgICAgICBpZiAoIUVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24uY2FsbCh0aGlzLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc1Byb2ogPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICAgICAgaWYgKHRoaXMudGlsZUdyaWQgJiYgKCF0aGlzUHJvaiB8fCBlcXVpdmFsZW50KHRoaXNQcm9qLCBwcm9qZWN0aW9uKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb2pLZXkgPSBnZXRVaWQocHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAoIShwcm9qS2V5IGluIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldID0gZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9IFRpbGUgY2FjaGUuXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uID0gZnVuY3Rpb24gKHByb2plY3Rpb24pIHtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTikge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbi5jYWxsKHRoaXMsIHByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzUHJvaiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgICAgICBpZiAoIXRoaXNQcm9qIHx8IGVxdWl2YWxlbnQodGhpc1Byb2osIHByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlQ2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcHJvaktleSA9IGdldFVpZChwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGlmICghKHByb2pLZXkgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltwcm9qS2V5XSA9IG5ldyBUaWxlQ2FjaGUodGhpcy50aWxlQ2FjaGUuaGlnaFdhdGVyTWFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW3Byb2pLZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IHNldCBvbiB0aGUgdGlsZS5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5jcmVhdGVUaWxlXyA9IGZ1bmN0aW9uICh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpIHtcbiAgICAgICAgdmFyIHRpbGVDb29yZCA9IFt6LCB4LCB5XTtcbiAgICAgICAgdmFyIHVybFRpbGVDb29yZCA9IHRoaXMuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKHRpbGVDb29yZCwgcHJvamVjdGlvbik7XG4gICAgICAgIHZhciB0aWxlVXJsID0gdXJsVGlsZUNvb3JkXG4gICAgICAgICAgICA/IHRoaXMudGlsZVVybEZ1bmN0aW9uKHVybFRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbilcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdGlsZSA9IG5ldyB0aGlzLnRpbGVDbGFzcyh0aWxlQ29vcmQsIHRpbGVVcmwgIT09IHVuZGVmaW5lZCA/IFRpbGVTdGF0ZS5JRExFIDogVGlsZVN0YXRlLkVNUFRZLCB0aWxlVXJsICE9PSB1bmRlZmluZWQgPyB0aWxlVXJsIDogJycsIHRoaXMuY3Jvc3NPcmlnaW4sIHRoaXMudGlsZUxvYWRGdW5jdGlvbiwgdGhpcy50aWxlT3B0aW9ucyk7XG4gICAgICAgIHRpbGUua2V5ID0ga2V5O1xuICAgICAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVUaWxlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlLlxuICAgICAqL1xuICAgIFRpbGVJbWFnZS5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uICh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciBzb3VyY2VQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgICAgIGlmICghRU5BQkxFX1JBU1RFUl9SRVBST0pFQ1RJT04gfHxcbiAgICAgICAgICAgICFzb3VyY2VQcm9qZWN0aW9uIHx8XG4gICAgICAgICAgICAhcHJvamVjdGlvbiB8fFxuICAgICAgICAgICAgZXF1aXZhbGVudChzb3VyY2VQcm9qZWN0aW9uLCBwcm9qZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUludGVybmFsKHosIHgsIHksIHBpeGVsUmF0aW8sIHNvdXJjZVByb2plY3Rpb24gfHwgcHJvamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgICAgICB2YXIgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgICAgICAgICAgdmFyIHRpbGUgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5KHRpbGVDb29yZCk7XG4gICAgICAgICAgICBpZiAoY2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgICAgICAgICAgIHRpbGUgPSBjYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLmdldEtleSgpO1xuICAgICAgICAgICAgaWYgKHRpbGUgJiYgdGlsZS5rZXkgPT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlVGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihzb3VyY2VQcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZFRpbGVDb29yZCA9IHRoaXMuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKHRpbGVDb29yZCwgcHJvamVjdGlvbik7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1RpbGUgPSBuZXcgUmVwcm9qVGlsZShzb3VyY2VQcm9qZWN0aW9uLCBzb3VyY2VUaWxlR3JpZCwgcHJvamVjdGlvbiwgdGFyZ2V0VGlsZUdyaWQsIHRpbGVDb29yZCwgd3JhcHBlZFRpbGVDb29yZCwgdGhpcy5nZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSwgdGhpcy5nZXRHdXR0ZXIoKSwgZnVuY3Rpb24gKHosIHgsIHksIHBpeGVsUmF0aW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUludGVybmFsKHosIHgsIHksIHBpeGVsUmF0aW8sIHNvdXJjZVByb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgdGhpcy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZF8sIHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfLCB0aGlzLmNvbnRleHRPcHRpb25zXyk7XG4gICAgICAgICAgICAgICAgbmV3VGlsZS5rZXkgPSBrZXk7XG4gICAgICAgICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VGlsZS5pbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICAgICAgICAgICAgICAgIG5ld1RpbGUucmVmcmVzaEludGVyaW1DaGFpbigpO1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5yZXBsYWNlKHRpbGVDb29yZEtleSwgbmV3VGlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZS5zZXQodGlsZUNvb3JkS2V5LCBuZXdUaWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1RpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7IWltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7IWltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5nZXRUaWxlSW50ZXJuYWwgPSBmdW5jdGlvbiAoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgICB2YXIgdGlsZSA9IG51bGw7XG4gICAgICAgIHZhciB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgICAgIHZhciBrZXkgPSB0aGlzLmdldEtleSgpO1xuICAgICAgICBpZiAoIXRoaXMudGlsZUNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgICAgICAgIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGVfKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGtleSk7XG4gICAgICAgICAgICB0aGlzLnRpbGVDYWNoZS5zZXQodGlsZUNvb3JkS2V5LCB0aWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUgPSB0aGlzLnRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICAgICAgICAgIGlmICh0aWxlLmtleSAhPSBrZXkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgc291cmNlJ3MgcGFyYW1zIGNoYW5nZWQuIElmIHRoZSB0aWxlIGhhcyBhbiBpbnRlcmltIHRpbGUgYW5kIGlmIHdlXG4gICAgICAgICAgICAgICAgLy8gY2FuIHVzZSBpdCB0aGVuIHdlIHVzZSBpdC4gT3RoZXJ3aXNlIHdlIGNyZWF0ZSBhIG5ldyB0aWxlLiAgSW4gYm90aFxuICAgICAgICAgICAgICAgIC8vIGNhc2VzIHdlIGF0dGVtcHQgdG8gYXNzaWduIGFuIGludGVyaW0gdGlsZSB0byB0aGUgbmV3IHRpbGUuXG4gICAgICAgICAgICAgICAgdmFyIGludGVyaW1UaWxlID0gdGlsZTtcbiAgICAgICAgICAgICAgICB0aWxlID0gdGhpcy5jcmVhdGVUaWxlXyh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpO1xuICAgICAgICAgICAgICAgIC8vbWFrZSB0aGUgbmV3IHRpbGUgdGhlIGhlYWQgb2YgdGhlIGxpc3QsXG4gICAgICAgICAgICAgICAgaWYgKGludGVyaW1UaWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgb2xkIHRpbGUgaGFzbid0IGJlZ3VuIGxvYWRpbmcgeWV0LCBhbmQgaXMgbm93IG91dGRhdGVkLCBzbyB3ZSBjYW4gc2ltcGx5IGRpc2NhcmQgaXRcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5pbnRlcmltVGlsZSA9IGludGVyaW1UaWxlLmludGVyaW1UaWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5pbnRlcmltVGlsZSA9IGludGVyaW1UaWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aWxlLnJlZnJlc2hJbnRlcmltQ2hhaW4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVDYWNoZS5yZXBsYWNlKHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gcmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcyBvciBub3QgKHVzdWFsbHkgZm9yIGRlYnVnZ2luZykuXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZW5kZXIgUmVuZGVyIHRoZSBlZGdlcy5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5zZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcyA9IGZ1bmN0aW9uIChyZW5kZXIpIHtcbiAgICAgICAgaWYgKCFFTkFCTEVfUkFTVEVSX1JFUFJPSkVDVElPTiB8fFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18gPT0gcmVuZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18gPSByZW5kZXI7XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2lkXS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGlsZSBncmlkIHRvIHVzZSB3aGVuIHJlcHJvamVjdGluZyB0aGUgdGlsZXMgdG8gdGhlIGdpdmVuXG4gICAgICogcHJvamVjdGlvbiBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IHRpbGUgZ3JpZCBmb3IgdGhlIHByb2plY3Rpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiB0aGUgZGVmYXVsdCB0aWxlIGdyaWQgY2Fubm90IGJlIGNyZWF0ZWRcbiAgICAgKiAoZS5nLiBwcm9qZWN0aW9uIGhhcyBubyBleHRlbnQgZGVmaW5lZCkgb3JcbiAgICAgKiBmb3Igb3B0aW1pemF0aW9uIHJlYXNvbnMgKGN1c3RvbSB0aWxlIHNpemUsIHJlc29sdXRpb25zLCAuLi4pLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlZ3JpZCBUaWxlIGdyaWQgdG8gdXNlIGZvciB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgVGlsZUltYWdlLnByb3RvdHlwZS5zZXRUaWxlR3JpZEZvclByb2plY3Rpb24gPSBmdW5jdGlvbiAocHJvamVjdGlvbiwgdGlsZWdyaWQpIHtcbiAgICAgICAgaWYgKEVOQUJMRV9SQVNURVJfUkVQUk9KRUNUSU9OKSB7XG4gICAgICAgICAgICB2YXIgcHJvaiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAocHJvaikge1xuICAgICAgICAgICAgICAgIHZhciBwcm9qS2V5ID0gZ2V0VWlkKHByb2opO1xuICAgICAgICAgICAgICAgIGlmICghKHByb2pLZXkgaW4gdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldID0gdGlsZWdyaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGlsZUltYWdlO1xufShVcmxUaWxlKSk7XG4vKipcbiAqIEBwYXJhbSB7SW1hZ2VUaWxlfSBpbWFnZVRpbGUgSW1hZ2UgdGlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU291cmNlLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0VGlsZUxvYWRGdW5jdGlvbihpbWFnZVRpbGUsIHNyYykge1xuICAgIC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSAqLyAoaW1hZ2VUaWxlLmdldEltYWdlKCkpLnNyYyA9IHNyYztcbn1cbmV4cG9ydCBkZWZhdWx0IFRpbGVJbWFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVJbWFnZS5qcy5tYXAiLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1hZWlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFRpbGVJbWFnZSBmcm9tICcuL1RpbGVJbWFnZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVYWVosIGV4dGVudEZyb21Qcm9qZWN0aW9uIH0gZnJvbSAnLi4vdGlsZWdyaWQuanMnO1xuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBJbml0aWFsIHRpbGUgY2FjaGUgc2l6ZS4gV2lsbCBhdXRvLWdyb3cgdG8gaG9sZCBhdCBsZWFzdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW1hZ2VTbW9vdGhpbmc9dHJ1ZV0gRW5hYmxlIGltYWdlIHNtb290aGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J10gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ9MC41XSBNYXhpbXVtIGFsbG93ZWQgcmVwcm9qZWN0aW9uIGVycm9yIChpbiBwaXhlbHMpLlxuICogSGlnaGVyIHZhbHVlcyBjYW4gaW5jcmVhc2UgcmVwcm9qZWN0aW9uIHBlcmZvcm1hbmNlLCBidXQgZGVjcmVhc2UgcHJlY2lzaW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tPTQyXSBPcHRpb25hbCBtYXggem9vbSBsZXZlbC4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBPcHRpb25hbCBtaW4gem9vbSBsZXZlbC4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gT3B0aW9uYWwgdGlsZSBncmlkIHJlc29sdXRpb24gYXQgbGV2ZWwgemVyby4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlUGl4ZWxSYXRpbz0xXSBUaGUgcGl4ZWwgcmF0aW8gdXNlZCBieSB0aGUgdGlsZSBzZXJ2aWNlLlxuICogRm9yIGV4YW1wbGUsIGlmIHRoZSB0aWxlIHNlcnZpY2UgYWR2ZXJ0aXplcyAyNTZweCBieSAyNTZweCB0aWxlcyBidXQgYWN0dWFsbHkgc2VuZHMgNTEycHhcbiAqIGJ5IDUxMnB4IGltYWdlcyAoZm9yIHJldGluYS9oaWRwaSBkZXZpY2VzKSB0aGVuIGB0aWxlUGl4ZWxSYXRpb2BcbiAqIHNob3VsZCBiZSBzZXQgdG8gYDJgLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemU9WzI1NiwgMjU2XV0gVGhlIHRpbGUgc2l6ZSB1c2VkIGJ5IHRoZSB0aWxlIHNlcnZpY2UuXG4gKiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBnZXRcbiAqIHRpbGUgVVJMIGdpdmVuIGEgdGlsZSBjb29yZGluYXRlIGFuZCB0aGUgcHJvamVjdGlvbi5cbiAqIFJlcXVpcmVkIGlmIGB1cmxgIG9yIGB1cmxzYCBhcmUgbm90IHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0ZW1wbGF0ZS4gTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsXG4gKiBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLiBBIGB7Py0/fWAgdGVtcGxhdGUgcGF0dGVybiwgZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLFxuICogbWF5IGJlIHVzZWQgaW5zdGVhZCBvZiBkZWZpbmluZyBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gQW4gYXJyYXkgb2YgVVJMIHRlbXBsYXRlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uPTI1MF0gRHVyYXRpb24gb2YgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiBmb3IgcmVuZGVyaW5nLlxuICogVG8gZGlzYWJsZSB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLCBwYXNzIGB0cmFuc2l0aW9uOiAwYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekRpcmVjdGlvbj0wXSBJbmRpY2F0ZSB3aGljaCByZXNvbHV0aW9uIHNob3VsZCBiZSB1c2VkXG4gKiBieSBhIHJlbmRlcmVyIGlmIHRoZSB2aWV3IHJlc29sdXRpb24gZG9lcyBub3QgbWF0Y2ggYW55IHJlc29sdXRpb24gb2YgdGhlIHRpbGUgc291cmNlLlxuICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBzb3VyY2UgZm9yIHRpbGUgZGF0YSB3aXRoIFVSTHMgaW4gYSBzZXQgWFlaIGZvcm1hdCB0aGF0IGFyZVxuICogZGVmaW5lZCBpbiBhIFVSTCB0ZW1wbGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBmb2xsb3dzIHRoZSB3aWRlbHktdXNlZFxuICogR29vZ2xlIGdyaWQgd2hlcmUgYHhgIDAgYW5kIGB5YCAwIGFyZSBpbiB0aGUgdG9wIGxlZnQuIEdyaWRzIGxpa2VcbiAqIFRNUyB3aGVyZSBgeGAgMCBhbmQgYHlgIDAgYXJlIGluIHRoZSBib3R0b20gbGVmdCBjYW4gYmUgdXNlZCBieVxuICogdXNpbmcgdGhlIGB7LXl9YCBwbGFjZWhvbGRlciBpbiB0aGUgVVJMIHRlbXBsYXRlLCBzbyBsb25nIGFzIHRoZVxuICogc291cmNlIGRvZXMgbm90IGhhdmUgYSBjdXN0b20gdGlsZSBncmlkLiBJbiB0aGlzIGNhc2VcbiAqIGEgYHRpbGVVcmxGdW5jdGlvbmAgY2FuIGJlIHVzZWQsIHN1Y2ggYXM6XG4gKiBgYGBqc1xuICogIHRpbGVVcmxGdW5jdGlvbjogZnVuY3Rpb24oY29vcmRpbmF0ZSkge1xuICogICAgcmV0dXJuICdodHRwOi8vbWFwc2VydmVyLmNvbS8nICsgY29vcmRpbmF0ZVswXSArICcvJyArXG4gKiAgICAgIGNvb3JkaW5hdGVbMV0gKyAnLycgKyAoLWNvb3JkaW5hdGVbMl0gLSAxKSArICcucG5nJztcbiAqICB9XG4gKiBgYGBcbiAqIEBhcGlcbiAqL1xudmFyIFhZWiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoWFlaLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3B0aW9ucz19IG9wdF9vcHRpb25zIFhZWiBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFhZWihvcHRfb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1Nyc7XG4gICAgICAgIHZhciB0aWxlR3JpZCA9IG9wdGlvbnMudGlsZUdyaWQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLnRpbGVHcmlkXG4gICAgICAgICAgICA6IGNyZWF0ZVhZWih7XG4gICAgICAgICAgICAgICAgZXh0ZW50OiBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKSxcbiAgICAgICAgICAgICAgICBtYXhSZXNvbHV0aW9uOiBvcHRpb25zLm1heFJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogb3B0aW9ucy5tYXhab29tLFxuICAgICAgICAgICAgICAgIG1pblpvb206IG9wdGlvbnMubWluWm9vbSxcbiAgICAgICAgICAgICAgICB0aWxlU2l6ZTogb3B0aW9ucy50aWxlU2l6ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICAgICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IG9wdGlvbnMuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBpbWFnZVNtb290aGluZzogb3B0aW9ucy5pbWFnZVNtb290aGluZyxcbiAgICAgICAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxuICAgICAgICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICAgICAgICB0aWxlR3JpZDogdGlsZUdyaWQsXG4gICAgICAgICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICAgICAgICB6RGlyZWN0aW9uOiBvcHRpb25zLnpEaXJlY3Rpb24sXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFhZWjtcbn0oVGlsZUltYWdlKSk7XG5leHBvcnQgZGVmYXVsdCBYWVo7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1YWVouanMubWFwIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9PU01cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBYWVogZnJvbSAnLi9YWVouanMnO1xuLyoqXG4gKiBUaGUgYXR0cmlidXRpb24gY29udGFpbmluZyBhIGxpbmsgdG8gdGhlIE9wZW5TdHJlZXRNYXAgQ29weXJpZ2h0IGFuZCBMaWNlbnNlXG4gKiBwYWdlLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGFwaVxuICovXG5leHBvcnQgdmFyIEFUVFJJQlVUSU9OID0gJyYjMTY5OyAnICtcbiAgICAnPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiIHRhcmdldD1cIl9ibGFua1wiPk9wZW5TdHJlZXRNYXA8L2E+ICcgK1xuICAgICdjb250cmlidXRvcnMuJztcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBJbml0aWFsIHRpbGUgY2FjaGUgc2l6ZS4gV2lsbCBhdXRvLWdyb3cgdG8gaG9sZCBhdCBsZWFzdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbj0nYW5vbnltb3VzJ10gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW1hZ2VTbW9vdGhpbmc9dHJ1ZV0gRW5hYmxlIGltYWdlIHNtb290aGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0xOV0gTWF4IHpvb20uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9dHJ1ZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uPTI1MF0gRHVyYXRpb24gb2YgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiBmb3IgcmVuZGVyaW5nLlxuICogVG8gZGlzYWJsZSB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLCBwYXNzIGB0cmFuc2l0aW9uOiAwYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsPSdodHRwczovL3thLWN9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJ10gVVJMIHRlbXBsYXRlLlxuICogTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBzb3VyY2UgZm9yIHRoZSBPcGVuU3RyZWV0TWFwIHRpbGUgc2VydmVyLlxuICogQGFwaVxuICovXG52YXIgT1NNID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPU00sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPcHRpb25zPX0gW29wdF9vcHRpb25zXSBPcGVuIFN0cmVldCBNYXAgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPU00ob3B0X29wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGF0dHJpYnV0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0cmlidXRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9ucyA9IG9wdGlvbnMuYXR0cmlidXRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXR0cmlidXRpb25zID0gW0FUVFJJQlVUSU9OXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzT3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIHZhciB1cmwgPSBvcHRpb25zLnVybCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMudXJsXG4gICAgICAgICAgICA6ICdodHRwczovL3thLWN9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJztcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbnM6IGF0dHJpYnV0aW9ucyxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBpbWFnZVNtb290aGluZzogb3B0aW9ucy5pbWFnZVNtb290aGluZyxcbiAgICAgICAgICAgIG1heFpvb206IG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogMTksXG4gICAgICAgICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYXF1ZSA6IHRydWUsXG4gICAgICAgICAgICByZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDogb3B0aW9ucy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZCxcbiAgICAgICAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFgsXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE9TTTtcbn0oWFlaKSk7XG5leHBvcnQgZGVmYXVsdCBPU007XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PU00uanMubWFwIiwiaW1wb3J0IHsgaW5pdE1hcmtlck1hcCB9IGZyb20gJy4vbWFwJ1xuaW1wb3J0IHsgTWFya2VyIH0gZnJvbSAnLi9tYXJrZXInXG5pbXBvcnQgeyBmaWx0ZXJPYmplY3QgfSBmcm9tICcuL3V0aWwnXG5pbXBvcnQgJy4vaW5kZXguY3NzJ1xuXG5mdW5jdGlvbiBnZXRMb2NhdGlvbiAoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgcmV0dXJuIFtcbiAgICBOdW1iZXIoZWxlbWVudC5kYXRhc2V0LmxvbiksXG4gICAgTnVtYmVyKGVsZW1lbnQuZGF0YXNldC5sYXQpXG4gIF1cbn1cblxuZnVuY3Rpb24gZ2V0Q29sb3IgKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIHJldHVybiBmaWx0ZXJPYmplY3Qoe1xuICAgIHByaW1hcnk6IGVsZW1lbnQuZGF0YXNldC5jb2xvclByaW1hcnksXG4gICAgc2Vjb25kYXJ5OiBlbGVtZW50LmRhdGFzZXQuY29sb3JTZWNvbmRhcnlcbiAgfSwgKGtleSwgdmFsdWUpID0+IHZhbHVlKVxufVxuXG5jb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpXG5jb25zdCBtYXJrZXJQYXJhbSA9IHBhcmFtcy5nZXQoJ21hcmtlcnMnKVxuY29uc3QgaXNWaWV3TW9kZSA9ICh3aW5kb3cucGFyZW50ICE9PSB3aW5kb3cpIHx8IHBhcmFtcy5oYXMoJ25vZWRpdCcpXG5jb25zdCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJylcblxuZnVuY3Rpb24gZ2V0Vmlld1BhcmFtIChwcm9wOiBzdHJpbmcsIHZpZXdEZWZhdWx0OiBzdHJpbmcpIHtcbiAgcmV0dXJuIHBhcmFtcy5nZXQocHJvcCkgfHwgKGlzVmlld01vZGUgPyB2aWV3RGVmYXVsdCA6ICcnKVxufVxuXG5PYmplY3QuYXNzaWduKHRhcmdldC5zdHlsZSwge1xuICB3aWR0aDogZ2V0Vmlld1BhcmFtKCd3aWR0aCcsICcxMDB2dycpLFxuICBoZWlnaHQ6IGdldFZpZXdQYXJhbSgnaGVpZ2h0JywgJzEwMHZoJylcbn0pXG5cbmNvbnN0IG1hcmtlcnMgPSBtYXJrZXJQYXJhbVxuICA/IEpTT04ucGFyc2UobWFya2VyUGFyYW0pXG4gIDogQXJyYXkuZnJvbShcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+KCcubWFya2VyJyksXG4gICAgdGVtcGxhdGUgPT4gKHtcbiAgICAgIGxvY2F0aW9uOiBnZXRMb2NhdGlvbih0ZW1wbGF0ZSksXG4gICAgICBjb2xvcjogZ2V0Q29sb3IodGVtcGxhdGUpLFxuICAgICAgbmFtZTogdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubmFtZScpPy50ZXh0Q29udGVudCxcbiAgICAgIGluZm86IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmluZm8nKT8uY2xvbmVOb2RlKHRydWUpXG4gICAgfSlcbiAgKVxuXG5jb25zdCB7IG1hcmtlckxheWVyLCBtYXJrZXJTZWxlY3QgfSA9IGluaXRNYXJrZXJNYXAodGFyZ2V0LCBtYXJrZXJzKVxuY29uc3QgbWFwID0gbWFya2VyU2VsZWN0LmdldE1hcCgpXG5jb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKVxuXG5tYXJrZXJTZWxlY3Qub24oJ3NlbGVjdCcsIGV2ZW50ID0+IHtcbiAgY29uc3QgW2N1cnJlbnRdID0gZXZlbnQuc2VsZWN0ZWQgYXMgTWFya2VyW11cblxuICBldmVudC5zZWxlY3RlZC5mb3JFYWNoKChtYXJrZXI6IE1hcmtlcikgPT4ge1xuICAgIG1hcmtlci5zaG93SW5mbyhtYXApXG4gIH0pXG5cbiAgZXZlbnQuZGVzZWxlY3RlZC5mb3JFYWNoKChtYXJrZXI6IE1hcmtlcikgPT4ge1xuICAgIG1hcmtlci5oaWRlSW5mbyhtYXApXG4gIH0pXG5cbiAgaWYgKGN1cnJlbnQgJiYgIWN1cnJlbnQuaGFzSW5mbykge1xuICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICBjZW50ZXI6IGN1cnJlbnQuZ2V0KCdnZW9tZXRyeScpLmdldENvb3JkaW5hdGVzKCksXG4gICAgICBkdXJhdGlvbjogMjAwXG4gICAgfSlcbiAgfVxufSlcblxuaWYgKCFpc1ZpZXdNb2RlKSB7XG4gIGltcG9ydCgnLi9jb250cm9scGFuZWwnKS50aGVuKCh7IGluaXRDb250cm9scyB9KSA9PiB7XG4gICAgY29uc3QgY29udHJvbEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udHJvbHMnKVxuXG4gICAgY29udHJvbEZvcm0uc3R5bGUuZGlzcGxheSA9ICcnXG4gICAgaW5pdENvbnRyb2xzKGNvbnRyb2xGb3JtIGFzIEhUTUxGb3JtRWxlbWVudCwgbWFya2VyTGF5ZXIsIG1hcmtlclNlbGVjdClcbiAgfSkuY2F0Y2goY29uc29sZS5lcnJvcilcbn0gZWxzZSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgJiYgZXZlbnQuY3RybEtleSkge1xuICAgICAgcGFyYW1zLmRlbGV0ZSgnbm9lZGl0JylcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPSBgPyR7cGFyYW1zfWBcbiAgICB9XG4gIH0pXG59XG4iLCJpbXBvcnQgJ29sL29sLmNzcydcbmltcG9ydCB7IE1hcCwgVmlldyB9IGZyb20gJ29sJ1xuaW1wb3J0IHsgZnJvbUxvbkxhdCB9IGZyb20gJ29sL3Byb2onXG5pbXBvcnQgeyBTZWxlY3QgfSBmcm9tICdvbC9pbnRlcmFjdGlvbidcbmltcG9ydCB7IGNsaWNrIH0gZnJvbSAnb2wvZXZlbnRzL2NvbmRpdGlvbidcbmltcG9ydCBUaWxlTGF5ZXIgZnJvbSAnb2wvbGF5ZXIvVGlsZSdcbmltcG9ydCBWZWN0b3JMYXllciBmcm9tICdvbC9sYXllci9WZWN0b3InXG5pbXBvcnQgVmVjdG9yU291cmNlIGZyb20gJ29sL3NvdXJjZS9WZWN0b3InXG5pbXBvcnQgT1NNIGZyb20gJ29sL3NvdXJjZS9PU00nXG5pbXBvcnQgeyBNYXJrZXIsIG1hcmtlclN0eWxlIH0gZnJvbSAnLi9tYXJrZXInXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0TWFya2VyTWFwICh0YXJnZXQ6IEhUTUxFbGVtZW50LCBtYXJrZXJzOiBhbnlbXSkge1xuICBjb25zdCBjZW50ZXIgPSBtYXJrZXJzLmxlbmd0aFxuICAgID8gbWFya2Vyc1swXS5sb2NhdGlvblxuICAgIDogW01hdGgucmFuZG9tKCkgKiAxODAsIE1hdGgucmFuZG9tKCkgKiA5MF1cblxuICBjb25zdCBtYXAgPSBuZXcgTWFwKHtcbiAgICB0YXJnZXQsXG4gICAgbGF5ZXJzOiBbXG4gICAgICBuZXcgVGlsZUxheWVyKHtcbiAgICAgICAgc291cmNlOiBuZXcgT1NNKClcbiAgICAgIH0pXG4gICAgXSxcbiAgICB2aWV3OiBuZXcgVmlldyh7XG4gICAgICBjZW50ZXI6IGZyb21Mb25MYXQoY2VudGVyKSxcbiAgICAgIHpvb206IG1hcmtlcnMubGVuZ3RoID8gMTUgOiA1XG4gICAgfSlcbiAgfSlcblxuICBjb25zdCBtYXJrZXJMYXllciA9IG5ldyBWZWN0b3JMYXllcih7XG4gICAgc291cmNlOiBuZXcgVmVjdG9yU291cmNlKHtcbiAgICAgIGZlYXR1cmVzOiBtYXJrZXJzLm1hcChkYXRhID0+IG5ldyBNYXJrZXIoZGF0YSkpXG4gICAgfSksXG4gICAgc3R5bGU6IGZlYXR1cmUgPT4gbWFya2VyU3R5bGUoZmVhdHVyZSlcbiAgfSlcblxuICBjb25zdCBtYXJrZXJTZWxlY3QgPSBuZXcgU2VsZWN0KHtcbiAgICBjb25kaXRpb246IGNsaWNrLFxuICAgIHN0eWxlOiBmZWF0dXJlID0+IG1hcmtlclN0eWxlKGZlYXR1cmUsIHRydWUpXG4gIH0pXG5cbiAgbWFwLmFkZExheWVyKG1hcmtlckxheWVyKVxuICBtYXAuYWRkSW50ZXJhY3Rpb24obWFya2VyU2VsZWN0KVxuXG4gIHJldHVybiB7IG1hcmtlckxheWVyLCBtYXJrZXJTZWxlY3QgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==